var RO=r=>{throw TypeError(r)};var UN=(r,e,t)=>e.has(r)||RO("Cannot "+t);var ja=(r,e,t)=>(UN(r,e,"read from private field"),t?t.call(r):e.get(r)),Xu=(r,e,t)=>e.has(r)?RO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Yo=(r,e,t,n)=>(UN(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Ju=(r,e,t)=>(UN(r,e,"access private method"),t);var UO=(r,e,t,n)=>({set _(a){Yo(r,e,a,t)},get _(){return ja(r,e,n)}});function xY(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var cIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var QN={exports:{}},fx={};var QO;function yY(){if(QO)return fx;QO=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:r,type:n,key:i,ref:a!==void 0?a:null,props:s}}return fx.Fragment=e,fx.jsx=t,fx.jsxs=t,fx}var HO;function vY(){return HO||(HO=1,QN.exports=yY()),QN.exports}var o=vY(),HN={exports:{}},Pr={};var zO;function bY(){if(zO)return Pr;zO=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function m(ne){return ne===null||typeof ne!="object"?null:(ne=p&&ne[p]||ne["@@iterator"],typeof ne=="function"?ne:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function w(ne,F,Q){this.props=ne,this.context=F,this.refs=v,this.updater=Q||y}w.prototype.isReactComponent={},w.prototype.setState=function(ne,F){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,F,"setState")},w.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(ne,F,Q){this.props=ne,this.context=F,this.refs=v,this.updater=Q||y}var j=C.prototype=new S;j.constructor=C,g(j,w.prototype),j.isPureReactComponent=!0;var T=Array.isArray;function L(){}var I={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function k(ne,F,Q){var K=Q.ref;return{$$typeof:r,type:ne,key:F,ref:K!==void 0?K:null,props:Q}}function z(ne,F){return k(ne.type,F,ne.props)}function P(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===r}function U(ne){var F={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Q){return F[Q]})}var M=/\/+/g;function q(ne,F){return typeof ne=="object"&&ne!==null&&ne.key!=null?U(""+ne.key):F.toString(36)}function ae(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(L,L):(ne.status="pending",ne.then(function(F){ne.status==="pending"&&(ne.status="fulfilled",ne.value=F)},function(F){ne.status==="pending"&&(ne.status="rejected",ne.reason=F)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function W(ne,F,Q,K,V){var J=typeof ne;(J==="undefined"||J==="boolean")&&(ne=null);var oe=!1;if(ne===null)oe=!0;else switch(J){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(ne.$$typeof){case r:case e:oe=!0;break;case d:return oe=ne._init,W(oe(ne._payload),F,Q,K,V)}}if(oe)return V=V(ne),oe=K===""?"."+q(ne,0):K,T(V)?(Q="",oe!=null&&(Q=oe.replace(M,"$&/")+"/"),W(V,F,Q,"",function(xe){return xe})):V!=null&&(P(V)&&(V=z(V,Q+(V.key==null||ne&&ne.key===V.key?"":(""+V.key).replace(M,"$&/")+"/")+oe)),F.push(V)),1;oe=0;var Ne=K===""?".":K+":";if(T(ne))for(var ue=0;ue<ne.length;ue++)K=ne[ue],J=Ne+q(K,ue),oe+=W(K,F,Q,J,V);else if(ue=m(ne),typeof ue=="function")for(ne=ue.call(ne),ue=0;!(K=ne.next()).done;)K=K.value,J=Ne+q(K,ue++),oe+=W(K,F,Q,J,V);else if(J==="object"){if(typeof ne.then=="function")return W(ae(ne),F,Q,K,V);throw F=String(ne),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ee(ne,F,Q){if(ne==null)return ne;var K=[],V=0;return W(ne,K,"","",function(J){return F.call(Q,J,V++)}),K}function re(ne){if(ne._status===-1){var F=ne._result;F=F(),F.then(function(Q){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Q)},function(Q){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Q)}),ne._status===-1&&(ne._status=0,ne._result=F)}if(ne._status===1)return ne._result.default;throw ne._result}var pe=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Se={map:ee,forEach:function(ne,F,Q){ee(ne,function(){F.apply(this,arguments)},Q)},count:function(ne){var F=0;return ee(ne,function(){F++}),F},toArray:function(ne){return ee(ne,function(F){return F})||[]},only:function(ne){if(!P(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return Pr.Activity=f,Pr.Children=Se,Pr.Component=w,Pr.Fragment=t,Pr.Profiler=a,Pr.PureComponent=C,Pr.StrictMode=n,Pr.Suspense=c,Pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Pr.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return I.H.useMemoCache(ne)}},Pr.cache=function(ne){return function(){return ne.apply(null,arguments)}},Pr.cacheSignal=function(){return null},Pr.cloneElement=function(ne,F,Q){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var K=g({},ne.props),V=ne.key;if(F!=null)for(J in F.key!==void 0&&(V=""+F.key),F)!D.call(F,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&F.ref===void 0||(K[J]=F[J]);var J=arguments.length-2;if(J===1)K.children=Q;else if(1<J){for(var oe=Array(J),Ne=0;Ne<J;Ne++)oe[Ne]=arguments[Ne+2];K.children=oe}return k(ne.type,V,K)},Pr.createContext=function(ne){return ne={$$typeof:i,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},Pr.createElement=function(ne,F,Q){var K,V={},J=null;if(F!=null)for(K in F.key!==void 0&&(J=""+F.key),F)D.call(F,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(V[K]=F[K]);var oe=arguments.length-2;if(oe===1)V.children=Q;else if(1<oe){for(var Ne=Array(oe),ue=0;ue<oe;ue++)Ne[ue]=arguments[ue+2];V.children=Ne}if(ne&&ne.defaultProps)for(K in oe=ne.defaultProps,oe)V[K]===void 0&&(V[K]=oe[K]);return k(ne,J,V)},Pr.createRef=function(){return{current:null}},Pr.forwardRef=function(ne){return{$$typeof:l,render:ne}},Pr.isValidElement=P,Pr.lazy=function(ne){return{$$typeof:d,_payload:{_status:-1,_result:ne},_init:re}},Pr.memo=function(ne,F){return{$$typeof:u,type:ne,compare:F===void 0?null:F}},Pr.startTransition=function(ne){var F=I.T,Q={};I.T=Q;try{var K=ne(),V=I.S;V!==null&&V(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(L,pe)}catch(J){pe(J)}finally{F!==null&&Q.types!==null&&(F.types=Q.types),I.T=F}},Pr.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Pr.use=function(ne){return I.H.use(ne)},Pr.useActionState=function(ne,F,Q){return I.H.useActionState(ne,F,Q)},Pr.useCallback=function(ne,F){return I.H.useCallback(ne,F)},Pr.useContext=function(ne){return I.H.useContext(ne)},Pr.useDebugValue=function(){},Pr.useDeferredValue=function(ne,F){return I.H.useDeferredValue(ne,F)},Pr.useEffect=function(ne,F){return I.H.useEffect(ne,F)},Pr.useEffectEvent=function(ne){return I.H.useEffectEvent(ne)},Pr.useId=function(){return I.H.useId()},Pr.useImperativeHandle=function(ne,F,Q){return I.H.useImperativeHandle(ne,F,Q)},Pr.useInsertionEffect=function(ne,F){return I.H.useInsertionEffect(ne,F)},Pr.useLayoutEffect=function(ne,F){return I.H.useLayoutEffect(ne,F)},Pr.useMemo=function(ne,F){return I.H.useMemo(ne,F)},Pr.useOptimistic=function(ne,F){return I.H.useOptimistic(ne,F)},Pr.useReducer=function(ne,F,Q){return I.H.useReducer(ne,F,Q)},Pr.useRef=function(ne){return I.H.useRef(ne)},Pr.useState=function(ne){return I.H.useState(ne)},Pr.useSyncExternalStore=function(ne,F,Q){return I.H.useSyncExternalStore(ne,F,Q)},Pr.useTransition=function(){return I.H.useTransition()},Pr.version="19.2.0",Pr}var KO;function ig(){return KO||(KO=1,HN.exports=bY()),HN.exports}var B=ig();const Zs=Fc(B),wY=xY({__proto__:null,default:Zs},[B]);var zN={exports:{}},mx={},KN={exports:{}},$N={};var $O;function CY(){return $O||($O=1,(function(r){function e(W,ee){var re=W.length;W.push(ee);e:for(;0<re;){var pe=re-1>>>1,Se=W[pe];if(0<a(Se,ee))W[pe]=ee,W[re]=Se,re=pe;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ee=W[0],re=W.pop();if(re!==ee){W[0]=re;e:for(var pe=0,Se=W.length,ne=Se>>>1;pe<ne;){var F=2*(pe+1)-1,Q=W[F],K=F+1,V=W[K];if(0>a(Q,re))K<Se&&0>a(V,Q)?(W[pe]=V,W[K]=re,pe=K):(W[pe]=Q,W[F]=re,pe=F);else if(K<Se&&0>a(V,re))W[pe]=V,W[K]=re,pe=K;else break e}}return ee}function a(W,ee){var re=W.sortIndex-ee.sortIndex;return re!==0?re:W.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();r.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,y=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(W){for(var ee=t(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=W)n(u),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=t(u)}}function T(W){if(g=!1,j(W),!y)if(t(c)!==null)y=!0,L||(L=!0,U());else{var ee=t(u);ee!==null&&ae(T,ee.startTime-W)}}var L=!1,I=-1,D=5,k=-1;function z(){return v?!0:!(r.unstable_now()-k<D)}function P(){if(v=!1,L){var W=r.unstable_now();k=W;var ee=!0;try{e:{y=!1,g&&(g=!1,S(I),I=-1),m=!0;var re=p;try{t:{for(j(W),f=t(c);f!==null&&!(f.expirationTime>W&&z());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,p=f.priorityLevel;var Se=pe(f.expirationTime<=W);if(W=r.unstable_now(),typeof Se=="function"){f.callback=Se,j(W),ee=!0;break t}f===t(c)&&n(c),j(W)}else n(c);f=t(c)}if(f!==null)ee=!0;else{var ne=t(u);ne!==null&&ae(T,ne.startTime-W),ee=!1}}break e}finally{f=null,p=re,m=!1}ee=void 0}}finally{ee?U():L=!1}}}var U;if(typeof C=="function")U=function(){C(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=P,U=function(){q.postMessage(null)}}else U=function(){w(P,0)};function ae(W,ee){I=w(function(){W(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(W){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var re=p;p=ee;try{return W()}finally{p=re}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=p;p=W;try{return ee()}finally{p=re}},r.unstable_scheduleCallback=function(W,ee,re){var pe=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=re+Se,W={id:d++,callback:ee,priorityLevel:W,startTime:re,expirationTime:Se,sortIndex:-1},re>pe?(W.sortIndex=re,e(u,W),t(c)===null&&W===t(u)&&(g?(S(I),I=-1):g=!0,ae(T,re-pe))):(W.sortIndex=Se,e(c,W),y||m||(y=!0,L||(L=!0,U()))),W},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(W){var ee=p;return function(){var re=p;p=ee;try{return W.apply(this,arguments)}finally{p=re}}}})($N)),$N}var VO;function NY(){return VO||(VO=1,KN.exports=CY()),KN.exports}var VN={exports:{}},Ji={};var qO;function SY(){if(qO)return Ji;qO=1;var r=ig();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:c,containerInfo:u,implementation:d}}var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ji.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,d)},Ji.flushSync=function(c){var u=i.T,d=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=u,n.p=d,n.d.f()}},Ji.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Ji.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ji.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,f=l(d,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):d==="script"&&n.d.X(c,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ji.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Ji.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=l(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ji.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Ji.requestFormReset=function(c){n.d.r(c)},Ji.unstable_batchedUpdates=function(c,u){return c(u)},Ji.useFormState=function(c,u,d){return i.H.useFormState(c,u,d)},Ji.useFormStatus=function(){return i.H.useHostTransitionStatus()},Ji.version="19.2.0",Ji}var GO;function S8(){if(GO)return VN.exports;GO=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),VN.exports=SY(),VN.exports}var WO;function BY(){if(WO)return mx;WO=1;var r=NY(),e=ig(),t=S8();function n(A){var h="https://react.dev/errors/"+A;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+A+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var h=A,x=A;if(A.alternate)for(;h.return;)h=h.return;else{A=h;do h=A,(h.flags&4098)!==0&&(x=h.return),A=h.return;while(A)}return h.tag===3?x:null}function i(A){if(A.tag===13){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function l(A){if(A.tag===31){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function c(A){if(s(A)!==A)throw Error(n(188))}function u(A){var h=A.alternate;if(!h){if(h=s(A),h===null)throw Error(n(188));return h!==A?null:A}for(var x=A,b=h;;){var E=x.return;if(E===null)break;var O=E.alternate;if(O===null){if(b=E.return,b!==null){x=b;continue}break}if(E.child===O.child){for(O=E.child;O;){if(O===x)return c(E),A;if(O===b)return c(E),h;O=O.sibling}throw Error(n(188))}if(x.return!==b.return)x=E,b=O;else{for(var Y=!1,ce=E.child;ce;){if(ce===x){Y=!0,x=E,b=O;break}if(ce===b){Y=!0,b=E,x=O;break}ce=ce.sibling}if(!Y){for(ce=O.child;ce;){if(ce===x){Y=!0,x=O,b=E;break}if(ce===b){Y=!0,b=O,x=E;break}ce=ce.sibling}if(!Y)throw Error(n(189))}}if(x.alternate!==b)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?A:h}function d(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A;for(A=A.child;A!==null;){if(h=d(A),h!==null)return h;A=A.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(A){return A===null||typeof A!="object"?null:(A=P&&A[P]||A["@@iterator"],typeof A=="function"?A:null)}var M=Symbol.for("react.client.reference");function q(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===M?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case g:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case y:return"Portal";case C:return A.displayName||"Context";case S:return(A._context.displayName||"Context")+".Consumer";case j:var h=A.render;return A=A.displayName,A||(A=h.displayName||h.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case I:return h=A.displayName||null,h!==null?h:q(A.type)||"Memo";case D:h=A._payload,A=A._init;try{return q(A(h))}catch{}}return null}var ae=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},pe=[],Se=-1;function ne(A){return{current:A}}function F(A){0>Se||(A.current=pe[Se],pe[Se]=null,Se--)}function Q(A,h){Se++,pe[Se]=A.current,A.current=h}var K=ne(null),V=ne(null),J=ne(null),oe=ne(null);function Ne(A,h){switch(Q(J,h),Q(V,A),Q(K,null),h.nodeType){case 9:case 11:A=(A=h.documentElement)&&(A=A.namespaceURI)?lO(A):0;break;default:if(A=h.tagName,h=h.namespaceURI)h=lO(h),A=cO(h,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}F(K),Q(K,A)}function ue(){F(K),F(V),F(J)}function xe(A){A.memoizedState!==null&&Q(oe,A);var h=K.current,x=cO(h,A.type);h!==x&&(Q(V,A),Q(K,x))}function Oe(A){V.current===A&&(F(K),F(V)),oe.current===A&&(F(oe),ux._currentValue=re)}var Be,qe;function Pe(A){if(Be===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Be=h&&h[1]||"",qe=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+A+qe}var X=!1;function Me(A,h){if(!A||X)return"";X=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(et){var Xe=et}Reflect.construct(A,[],mt)}else{try{mt.call()}catch(et){Xe=et}A.call(mt.prototype)}}else{try{throw Error()}catch(et){Xe=et}(mt=A())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(et){if(et&&Xe&&typeof et.stack=="string")return[et.stack,Xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=b.DetermineComponentFrameRoot(),Y=O[0],ce=O[1];if(Y&&ce){var Ee=Y.split(`
`),Ge=ce.split(`
`);for(E=b=0;b<Ee.length&&!Ee[b].includes("DetermineComponentFrameRoot");)b++;for(;E<Ge.length&&!Ge[E].includes("DetermineComponentFrameRoot");)E++;if(b===Ee.length||E===Ge.length)for(b=Ee.length-1,E=Ge.length-1;1<=b&&0<=E&&Ee[b]!==Ge[E];)E--;for(;1<=b&&0<=E;b--,E--)if(Ee[b]!==Ge[E]){if(b!==1||E!==1)do if(b--,E--,0>E||Ee[b]!==Ge[E]){var lt=`
`+Ee[b].replace(" at new "," at ");return A.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",A.displayName)),lt}while(1<=b&&0<=E);break}}}finally{X=!1,Error.prepareStackTrace=x}return(x=A?A.displayName||A.name:"")?Pe(x):""}function We(A,h){switch(A.tag){case 26:case 27:case 5:return Pe(A.type);case 16:return Pe("Lazy");case 13:return A.child!==h&&h!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Me(A.type,!1);case 11:return Me(A.type.render,!1);case 1:return Me(A.type,!0);case 31:return Pe("Activity");default:return""}}function bt(A){try{var h="",x=null;do h+=We(A,x),x=A,A=A.return;while(A);return h}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var st=Object.prototype.hasOwnProperty,Ye=r.unstable_scheduleCallback,ht=r.unstable_cancelCallback,wt=r.unstable_shouldYield,Bt=r.unstable_requestPaint,Ut=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,ur=r.unstable_ImmediatePriority,hr=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,ke=r.unstable_LowPriority,De=r.unstable_IdlePriority,rt=r.log,pr=r.unstable_setDisableYieldValue,Qt=null,Nt=null;function Yt(A){if(typeof rt=="function"&&pr(A),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Qt,A)}catch{}}var ir=Math.clz32?Math.clz32:mr,Pt=Math.log,Wr=Math.LN2;function mr(A){return A>>>=0,A===0?32:31-(Pt(A)/Wr|0)|0}var or=256,dt=262144,ct=4194304;function Ot(A){var h=A&42;if(h!==0)return h;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function It(A,h,x){var b=A.pendingLanes;if(b===0)return 0;var E=0,O=A.suspendedLanes,Y=A.pingedLanes;A=A.warmLanes;var ce=b&134217727;return ce!==0?(b=ce&~O,b!==0?E=Ot(b):(Y&=ce,Y!==0?E=Ot(Y):x||(x=ce&~A,x!==0&&(E=Ot(x))))):(ce=b&~O,ce!==0?E=Ot(ce):Y!==0?E=Ot(Y):x||(x=b&~A,x!==0&&(E=Ot(x)))),E===0?0:h!==0&&h!==E&&(h&O)===0&&(O=E&-E,x=h&-h,O>=x||O===32&&(x&4194048)!==0)?h:E}function hn(A,h){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&h)===0}function Tr(A,h){switch(A){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var A=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),A}function ca(A){for(var h=[],x=0;31>x;x++)h.push(A);return h}function sr(A,h){A.pendingLanes|=h,h!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function wa(A,h,x,b,E,O){var Y=A.pendingLanes;A.pendingLanes=x,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=x,A.entangledLanes&=x,A.errorRecoveryDisabledLanes&=x,A.shellSuspendCounter=0;var ce=A.entanglements,Ee=A.expirationTimes,Ge=A.hiddenUpdates;for(x=Y&~x;0<x;){var lt=31-ir(x),mt=1<<lt;ce[lt]=0,Ee[lt]=-1;var Xe=Ge[lt];if(Xe!==null)for(Ge[lt]=null,lt=0;lt<Xe.length;lt++){var et=Xe[lt];et!==null&&(et.lane&=-536870913)}x&=~mt}b!==0&&Ya(A,b,0),O!==0&&E===0&&A.tag!==0&&(A.suspendedLanes|=O&~(Y&~h))}function Ya(A,h,x){A.pendingLanes|=h,A.suspendedLanes&=~h;var b=31-ir(h);A.entangledLanes|=h,A.entanglements[b]=A.entanglements[b]|1073741824|x&261930}function ua(A,h){var x=A.entangledLanes|=h;for(A=A.entanglements;x;){var b=31-ir(x),E=1<<b;E&h|A[b]&h&&(A[b]|=h),x&=~E}}function Es(A,h){var x=h&-h;return x=(x&42)!==0?1:Tn(x),(x&(A.suspendedLanes|h))!==0?0:x}function Tn(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Ca(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function se(){var A=ee.p;return A!==0?A:(A=window.event,A===void 0?32:FO(A.type))}function ve(A,h){var x=ee.p;try{return ee.p=A,h()}finally{ee.p=x}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,me="__reactProps$"+de,we="__reactContainer$"+de,Ue="__reactEvents$"+de,tt="__reactListeners$"+de,He="__reactHandles$"+de,ze="__reactResources$"+de,$e="__reactMarker$"+de;function yt(A){delete A[he],delete A[me],delete A[Ue],delete A[tt],delete A[He]}function St(A){var h=A[he];if(h)return h;for(var x=A.parentNode;x;){if(h=x[we]||x[he]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(A=pO(A);A!==null;){if(x=A[he])return x;A=pO(A)}return h}A=x,x=A.parentNode}return null}function kt(A){if(A=A[he]||A[we]){var h=A.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return A}return null}function Ct(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A.stateNode;throw Error(n(33))}function jt(A){var h=A[ze];return h||(h=A[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function $t(A){A[$e]=!0}var Nn=new Set,Vr={};function kn(A,h){Si(A,h),Si(A+"Capture",h)}function Si(A,h){for(Vr[A]=h,A=0;A<h.length;A++)Nn.add(h[A])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},fo={};function Fu(A){return st.call(fo,A)?!0:st.call(ml,A)?!1:fl.test(A)?fo[A]=!0:(ml[A]=!0,!1)}function ha(A,h,x){if(Fu(h))if(x===null)A.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":A.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){A.removeAttribute(h);return}}A.setAttribute(h,""+x)}}function Mc(A,h,x){if(x===null)A.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(h);return}A.setAttribute(h,""+x)}}function pl(A,h,x,b){if(b===null)A.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(x);return}A.setAttributeNS(h,x,""+b)}}function fn(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function pf(A){var h=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Xl(A,h,x){var b=Object.getOwnPropertyDescriptor(A.constructor.prototype,h);if(!A.hasOwnProperty(h)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var E=b.get,O=b.set;return Object.defineProperty(A,h,{configurable:!0,get:function(){return E.call(this)},set:function(Y){x=""+Y,O.call(this,Y)}}),Object.defineProperty(A,h,{enumerable:b.enumerable}),{getValue:function(){return x},setValue:function(Y){x=""+Y},stopTracking:function(){A._valueTracker=null,delete A[h]}}}}function Ou(A){if(!A._valueTracker){var h=pf(A)?"checked":"value";A._valueTracker=Xl(A,h,""+A[h])}}function gf(A){if(!A)return!1;var h=A._valueTracker;if(!h)return!0;var x=h.getValue(),b="";return A&&(b=pf(A)?A.checked?"true":"false":A.value),A=b,A!==x?(h.setValue(A),!0):!1}function Bi(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var us=/[\n"\\]/g;function Xa(A){return A.replace(us,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Kd(A,h,x,b,E,O,Y,ce){A.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?A.type=Y:A.removeAttribute("type"),h!=null?Y==="number"?(h===0&&A.value===""||A.value!=h)&&(A.value=""+fn(h)):A.value!==""+fn(h)&&(A.value=""+fn(h)):Y!=="submit"&&Y!=="reset"||A.removeAttribute("value"),h!=null?xf(A,Y,fn(h)):x!=null?xf(A,Y,fn(x)):b!=null&&A.removeAttribute("value"),E==null&&O!=null&&(A.defaultChecked=!!O),E!=null&&(A.checked=E&&typeof E!="function"&&typeof E!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?A.name=""+fn(ce):A.removeAttribute("name")}function am(A,h,x,b,E,O,Y,ce){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(A.type=O),h!=null||x!=null){if(!(O!=="submit"&&O!=="reset"||h!=null)){Ou(A);return}x=x!=null?""+fn(x):"",h=h!=null?""+fn(h):x,ce||h===A.value||(A.value=h),A.defaultValue=h}b=b??E,b=typeof b!="function"&&typeof b!="symbol"&&!!b,A.checked=ce?A.checked:!!b,A.defaultChecked=!!b,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(A.name=Y),Ou(A)}function xf(A,h,x){h==="number"&&Bi(A.ownerDocument)===A||A.defaultValue===""+x||(A.defaultValue=""+x)}function Ei(A,h,x,b){if(A=A.options,h){h={};for(var E=0;E<x.length;E++)h["$"+x[E]]=!0;for(x=0;x<A.length;x++)E=h.hasOwnProperty("$"+A[x].value),A[x].selected!==E&&(A[x].selected=E),E&&b&&(A[x].defaultSelected=!0)}else{for(x=""+fn(x),h=null,E=0;E<A.length;E++){if(A[E].value===x){A[E].selected=!0,b&&(A[E].defaultSelected=!0);return}h!==null||A[E].disabled||(h=A[E])}h!==null&&(h.selected=!0)}}function yf(A,h,x){if(h!=null&&(h=""+fn(h),h!==A.value&&(A.value=h),x==null)){A.defaultValue!==h&&(A.defaultValue=h);return}A.defaultValue=x!=null?""+fn(x):""}function vf(A,h,x,b){if(h==null){if(b!=null){if(x!=null)throw Error(n(92));if(ae(b)){if(1<b.length)throw Error(n(93));b=b[0]}x=b}x==null&&(x=""),h=x}x=fn(h),A.defaultValue=x,b=A.textContent,b===x&&b!==""&&b!==null&&(A.value=b),Ou(A)}function gl(A,h){if(h){var x=A.firstChild;if(x&&x===A.lastChild&&x.nodeType===3){x.nodeValue=h;return}}A.textContent=h}var SA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sm(A,h,x){var b=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?A.setProperty(h,""):h==="float"?A.cssFloat="":A[h]="":b?A.setProperty(h,x):typeof x!="number"||x===0||SA.has(h)?h==="float"?A.cssFloat=x:A[h]=(""+x).trim():A[h]=x+"px"}function im(A,h,x){if(h!=null&&typeof h!="object")throw Error(n(62));if(A=A.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?A.setProperty(b,""):b==="float"?A.cssFloat="":A[b]="");for(var E in h)b=h[E],h.hasOwnProperty(E)&&x[E]!==b&&sm(A,E,b)}else for(var O in h)h.hasOwnProperty(O)&&sm(A,O,h[O])}function bf(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(A){return om.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function xl(){}var Rc=null;function BA(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Du=null,Nr=null;function lm(A){var h=kt(A);if(h&&(A=h.stateNode)){var x=A[me]||null;e:switch(A=h.stateNode,h.type){case"input":if(Kd(A,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=A;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Xa(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var b=x[h];if(b!==A&&b.form===A.form){var E=b[me]||null;if(!E)throw Error(n(90));Kd(b,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<x.length;h++)b=x[h],b.form===A.form&&gf(b)}break e;case"textarea":yf(A,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&Ei(A,!!x.multiple,h,!1)}}}var Cf=!1;function cm(A,h,x){if(Cf)return A(h,x);Cf=!0;try{var b=A(h);return b}finally{if(Cf=!1,(Du!==null||Nr!==null)&&(d1(),Du&&(h=Du,A=Nr,Nr=Du=null,lm(h),A)))for(h=0;h<A.length;h++)lm(A[h])}}function mo(A,h){var x=A.stateNode;if(x===null)return null;var b=x[me]||null;if(b===null)return null;x=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(A=A.type,b=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!b;break e;default:A=!1}if(A)return null;if(x&&typeof x!="function")throw Error(n(231,h,typeof x));return x}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(Us)try{var EA={};Object.defineProperty(EA,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",EA,EA),window.removeEventListener("test",EA,EA)}catch{Nf=!1}var po=null,jA=null,Jl=null;function um(){if(Jl)return Jl;var A,h=jA,x=h.length,b,E="value"in po?po.value:po.textContent,O=E.length;for(A=0;A<x&&h[A]===E[A];A++);var Y=x-A;for(b=1;b<=Y&&h[x-b]===E[O-b];b++);return Jl=E.slice(A,1<b?1-b:void 0)}function Oo(A){var h=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&h===13&&(A=13)):A=h,A===10&&(A=13),32<=A||A===13?A:0}function $d(){return!0}function Vd(){return!1}function js(A){function h(x,b,E,O,Y){this._reactName=x,this._targetInst=E,this.type=b,this.nativeEvent=O,this.target=Y,this.currentTarget=null;for(var ce in A)A.hasOwnProperty(ce)&&(x=A[ce],this[ce]=x?x(O):O[ce]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?$d:Vd,this.isPropagationStopped=Vd,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),h}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=js(Zl),Uc=f({},Zl,{view:0,detail:0}),qd=js(Uc),_A,Qc,Hc,TA=f({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Hc&&(Hc&&A.type==="mousemove"?(_A=A.screenX-Hc.screenX,Qc=A.screenY-Hc.screenY):Qc=_A=0,Hc=A),_A)},movementY:function(A){return"movementY"in A?A.movementY:Qc}}),Sf=js(TA),zc=f({},TA,{dataTransfer:0}),Kc=js(zc),Am=f({},Uc,{relatedTarget:0}),$c=js(Am),dm=f({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),R=js(dm),Z=f({},Zl,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),be=js(Z),je=f({},Zl,{data:0}),Ie=js(je),ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lr(A){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(A):(A=Xt[A])?!!h[A]:!1}function Er(){return lr}var Or=f({},Uc,{key:function(A){if(A.key){var h=ut[A.key]||A.key;if(h!=="Unidentified")return h}return A.type==="keypress"?(A=Oo(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?gt[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(A){return A.type==="keypress"?Oo(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Oo(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),an=js(Or),fa=f({},TA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=js(fa),$n=f({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),As=js($n),Ja=f({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qs=js(Ja),Vc=f({},TA,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=js(Vc),qc=f({},Zl,{newState:0,oldState:0}),Bf=js(qc),Gd=[9,13,27,32],ec=Us&&"CompositionEvent"in window,vl=null;Us&&"documentMode"in document&&(vl=document.documentMode);var kA=Us&&"TextEvent"in window&&!vl,Gc=Us&&(!ec||vl&&8<vl&&11>=vl),_s=" ",Pu=!1;function Iu(A,h){switch(A){case"keyup":return Gd.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var tc=!1;function ji(A,h){switch(A){case"compositionend":return Wd(h);case"keypress":return h.which!==32?null:(Pu=!0,_s);case"textInput":return A=h.data,A===_s&&Pu?null:A;default:return null}}function Wc(A,h){if(tc)return A==="compositionend"||!ec&&Iu(A,h)?(A=um(),Jl=jA=po=null,tc=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Gc&&h.locale!=="ko"?null:h.data;default:return null}}var Yd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h==="input"?!!Yd[A.type]:h==="textarea"}function go(A,h,x,b){Du?Nr?Nr.push(b):Nr=[b]:Du=b,h=y1(h,"onChange"),0<h.length&&(x=new Do("onChange","change",null,x,b),A.push({event:x,listeners:h}))}var bl=null,Yc=null;function jf(A){rO(A,0)}function wl(A){var h=Ct(A);if(gf(h))return A}function Lu(A,h){if(A==="change")return h}var Yi=!1;if(Us){var _i;if(Us){var rc="oninput"in document;if(!rc){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),rc=typeof nc.oninput=="function"}_i=rc}else _i=!1;Yi=_i&&(!document.documentMode||9<document.documentMode)}function Xc(){bl&&(bl.detachEvent("onpropertychange",Xd),Yc=bl=null)}function Xd(A){if(A.propertyName==="value"&&wl(Yc)){var h=[];go(h,Yc,A,BA(A)),cm(jf,h)}}function Jd(A,h,x){A==="focusin"?(Xc(),bl=h,Yc=x,bl.attachEvent("onpropertychange",Xd)):A==="focusout"&&Xc()}function Ma(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return wl(Yc)}function hm(A,h){if(A==="click")return wl(h)}function ac(A,h){if(A==="input"||A==="change")return wl(h)}function sc(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var Hs=typeof Object.is=="function"?Object.is:sc;function Jc(A,h){if(Hs(A,h))return!0;if(typeof A!="object"||A===null||typeof h!="object"||h===null)return!1;var x=Object.keys(A),b=Object.keys(h);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var E=x[b];if(!st.call(h,E)||!Hs(A[E],h[E]))return!1}return!0}function Zd(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function eh(A,h){var x=Zd(A);A=0;for(var b;x;){if(x.nodeType===3){if(b=A+x.textContent.length,A<=h&&b>=h)return{node:x,offset:h-A};A=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Zd(x)}}function Zc(A,h){return A&&h?A===h?!0:A&&A.nodeType===3?!1:h&&h.nodeType===3?Zc(A,h.parentNode):"contains"in A?A.contains(h):A.compareDocumentPosition?!!(A.compareDocumentPosition(h)&16):!1:!1}function eu(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var h=Bi(A.document);h instanceof A.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)A=h.contentWindow;else break;h=Bi(A.document)}return h}function ic(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h&&(h==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||h==="textarea"||A.contentEditable==="true")}var FA=Us&&"documentMode"in document&&11>=document.documentMode,xo=null,tu=null,ai=null,Po=!1;function mn(A,h,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Po||xo==null||xo!==Bi(b)||(b=xo,"selectionStart"in b&&ic(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ai&&Jc(ai,b)||(ai=b,b=y1(tu,"onSelect"),0<b.length&&(h=new Do("onSelect","select",null,h,x),A.push({event:h,listeners:b}),h.target=xo)))}function sn(A,h){var x={};return x[A.toLowerCase()]=h.toLowerCase(),x["Webkit"+A]="webkit"+h,x["Moz"+A]="moz"+h,x}var Vn={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Ra={},oc={};Us&&(oc=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Cl(A){if(Ra[A])return Ra[A];if(!Vn[A])return A;var h=Vn[A],x;for(x in h)if(h.hasOwnProperty(x)&&x in oc)return Ra[A]=h[x];return A}var OA=Cl("animationend"),_f=Cl("animationiteration"),Og=Cl("animationstart"),Hv=Cl("transitionrun"),zv=Cl("transitionstart"),Kv=Cl("transitioncancel"),Dg=Cl("transitionend"),Pg=new Map,DA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");DA.push("scrollEnd");function Io(A,h){Pg.set(A,h),kn(h,[A])}var Tf=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},yo=[],PA=0,fm=0;function kf(){for(var A=PA,h=fm=PA=0;h<A;){var x=yo[h];yo[h++]=null;var b=yo[h];yo[h++]=null;var E=yo[h];yo[h++]=null;var O=yo[h];if(yo[h++]=null,b!==null&&E!==null){var Y=b.pending;Y===null?E.next=E:(E.next=Y.next,Y.next=E),b.pending=E}O!==0&&Of(x,E,O)}}function Ff(A,h,x,b){yo[PA++]=A,yo[PA++]=h,yo[PA++]=x,yo[PA++]=b,fm|=b,A.lanes|=b,A=A.alternate,A!==null&&(A.lanes|=b)}function mm(A,h,x,b){return Ff(A,h,x,b),si(A)}function ru(A,h){return Ff(A,null,null,h),si(A)}function Of(A,h,x){A.lanes|=x;var b=A.alternate;b!==null&&(b.lanes|=x);for(var E=!1,O=A.return;O!==null;)O.childLanes|=x,b=O.alternate,b!==null&&(b.childLanes|=x),O.tag===22&&(A=O.stateNode,A===null||A._visibility&1||(E=!0)),A=O,O=O.return;return A.tag===3?(O=A.stateNode,E&&h!==null&&(E=31-ir(x),A=O.hiddenUpdates,b=A[E],b===null?A[E]=[h]:b.push(h),h.lane=x|536870912),O):null}function si(A){if(50<nx)throw nx=0,uN=null,Error(n(185));for(var h=A.return;h!==null;)A=h,h=A.return;return A.tag===3?A.stateNode:null}var zs={};function pm(A,h,x,b){this.tag=A,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(A,h,x,b){return new pm(A,h,x,b)}function gm(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Lo(A,h){var x=A.alternate;return x===null?(x=ii(A.tag,h,A.key,A.mode),x.elementType=A.elementType,x.type=A.type,x.stateNode=A.stateNode,x.alternate=A,A.alternate=x):(x.pendingProps=h,x.type=A.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=A.flags&65011712,x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,h=A.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=A.sibling,x.index=A.index,x.ref=A.ref,x.refCleanup=A.refCleanup,x}function Df(A,h){A.flags&=65011714;var x=A.alternate;return x===null?(A.childLanes=0,A.lanes=h,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=x.childLanes,A.lanes=x.lanes,A.child=x.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=x.memoizedProps,A.memoizedState=x.memoizedState,A.updateQueue=x.updateQueue,A.type=x.type,h=x.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),A}function th(A,h,x,b,E,O){var Y=0;if(b=A,typeof A=="function")gm(A)&&(Y=1);else if(typeof A=="string")Y=iY(A,x,K.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=ii(31,x,h,E),A.elementType=k,A.lanes=O,A;case g:return Mu(x.children,E,O,h);case v:Y=8,E|=24;break;case w:return A=ii(12,x,h,E|2),A.elementType=w,A.lanes=O,A;case T:return A=ii(13,x,h,E),A.elementType=T,A.lanes=O,A;case L:return A=ii(19,x,h,E),A.elementType=L,A.lanes=O,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case C:Y=10;break e;case S:Y=9;break e;case j:Y=11;break e;case I:Y=14;break e;case D:Y=16,b=null;break e}Y=29,x=Error(n(130,A===null?"null":typeof A,"")),b=null}return h=ii(Y,x,h,E),h.elementType=A,h.type=b,h.lanes=O,h}function Mu(A,h,x,b){return A=ii(7,A,b,h),A.lanes=x,A}function Pf(A,h,x){return A=ii(6,A,null,h),A.lanes=x,A}function xm(A){var h=ii(18,null,null,0);return h.stateNode=A,h}function rh(A,h,x){return h=ii(4,A.children!==null?A.children:[],A.key,h),h.lanes=x,h.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},h}var ym=new WeakMap;function Mo(A,h){if(typeof A=="object"&&A!==null){var x=ym.get(A);return x!==void 0?x:(h={value:A,source:h,stack:bt(h)},ym.set(A,h),h)}return{value:A,source:h,stack:bt(h)}}var nh=[],IA=0,vm=null,If=0,Ro=[],Uo=0,Ru=null,Qo=1,Ho="";function vo(A,h){nh[IA++]=If,nh[IA++]=vm,vm=A,If=h}function $v(A,h,x){Ro[Uo++]=Qo,Ro[Uo++]=Ho,Ro[Uo++]=Ru,Ru=A;var b=Qo;A=Ho;var E=32-ir(b)-1;b&=~(1<<E),x+=1;var O=32-ir(h)+E;if(30<O){var Y=E-E%5;O=(b&(1<<Y)-1).toString(32),b>>=Y,E-=Y,Qo=1<<32-ir(h)+E|x<<E|b,Ho=O+A}else Qo=1<<O|x<<E|b,Ho=A}function Ig(A){A.return!==null&&(vo(A,1),$v(A,1,0))}function bm(A){for(;A===vm;)vm=nh[--IA],nh[IA]=null,If=nh[--IA],nh[IA]=null;for(;A===Ru;)Ru=Ro[--Uo],Ro[Uo]=null,Ho=Ro[--Uo],Ro[Uo]=null,Qo=Ro[--Uo],Ro[Uo]=null}function Vv(A,h){Ro[Uo++]=Qo,Ro[Uo++]=Ho,Ro[Uo++]=Ru,Qo=h.id,Ho=h.overflow,Ru=A}var Ks=null,ra=null,Xr=!1,Ti=null,Na=!1,Nl=Error(n(519));function Uu(A){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ah(Mo(h,A)),Nl}function Lg(A){var h=A.stateNode,x=A.type,b=A.memoizedProps;switch(h[he]=A,h[me]=b,x){case"dialog":Zr("cancel",h),Zr("close",h);break;case"iframe":case"object":case"embed":Zr("load",h);break;case"video":case"audio":for(x=0;x<sx.length;x++)Zr(sx[x],h);break;case"source":Zr("error",h);break;case"img":case"image":case"link":Zr("error",h),Zr("load",h);break;case"details":Zr("toggle",h);break;case"input":Zr("invalid",h),am(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Zr("invalid",h);break;case"textarea":Zr("invalid",h),vf(h,b.value,b.defaultValue,b.children)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||b.suppressHydrationWarning===!0||iO(h.textContent,x)?(b.popover!=null&&(Zr("beforetoggle",h),Zr("toggle",h)),b.onScroll!=null&&Zr("scroll",h),b.onScrollEnd!=null&&Zr("scrollend",h),b.onClick!=null&&(h.onclick=xl),h=!0):h=!1,h||Uu(A,!0)}function nu(A){for(Ks=A.return;Ks;)switch(Ks.tag){case 5:case 31:case 13:Na=!1;return;case 27:case 3:Na=!0;return;default:Ks=Ks.return}}function $s(A){if(A!==Ks)return!1;if(!Xr)return nu(A),Xr=!0,!1;var h=A.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=A.type,x=!(x!=="form"&&x!=="button")||SN(A.type,A.memoizedProps)),x=!x),x&&ra&&Uu(A),nu(A),h===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));ra=mO(A)}else if(h===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));ra=mO(A)}else h===27?(h=ra,xh(A.type)?(A=TN,TN=null,ra=A):ra=h):ra=Ks?Ac(A.stateNode.nextSibling):null;return!0}function LA(){ra=Ks=null,Xr=!1}function Mg(){var A=Ti;return A!==null&&(Go===null?Go=A:Go.push.apply(Go,A),Ti=null),A}function ah(A){Ti===null?Ti=[A]:Ti.push(A)}var wm=ne(null),Qu=null,lc=null;function Hu(A,h,x){Q(wm,h._currentValue),h._currentValue=x}function zo(A){A._currentValue=wm.current,F(wm)}function sh(A,h,x){for(;A!==null;){var b=A.alternate;if((A.childLanes&h)!==h?(A.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),A===x)break;A=A.return}}function MA(A,h,x,b){var E=A.child;for(E!==null&&(E.return=A);E!==null;){var O=E.dependencies;if(O!==null){var Y=E.child;O=O.firstContext;e:for(;O!==null;){var ce=O;O=E;for(var Ee=0;Ee<h.length;Ee++)if(ce.context===h[Ee]){O.lanes|=x,ce=O.alternate,ce!==null&&(ce.lanes|=x),sh(O.return,x,A),b||(Y=null);break e}O=ce.next}}else if(E.tag===18){if(Y=E.return,Y===null)throw Error(n(341));Y.lanes|=x,O=Y.alternate,O!==null&&(O.lanes|=x),sh(Y,x,A),Y=null}else Y=E.child;if(Y!==null)Y.return=E;else for(Y=E;Y!==null;){if(Y===A){Y=null;break}if(E=Y.sibling,E!==null){E.return=Y.return,Y=E;break}Y=Y.return}E=Y}}function zu(A,h,x,b){A=null;for(var E=h,O=!1;E!==null;){if(!O){if((E.flags&524288)!==0)O=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var Y=E.alternate;if(Y===null)throw Error(n(387));if(Y=Y.memoizedProps,Y!==null){var ce=E.type;Hs(E.pendingProps.value,Y.value)||(A!==null?A.push(ce):A=[ce])}}else if(E===oe.current){if(Y=E.alternate,Y===null)throw Error(n(387));Y.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(A!==null?A.push(ux):A=[ux])}E=E.return}A!==null&&MA(h,A,x,b),h.flags|=262144}function Cm(A){for(A=A.firstContext;A!==null;){if(!Hs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Ku(A){Qu=A,lc=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Vs(A){return qv(Qu,A)}function Nm(A,h){return Qu===null&&Ku(A),qv(A,h)}function qv(A,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},lc===null){if(A===null)throw Error(n(308));lc=h,A.dependencies={lanes:0,firstContext:h},A.flags|=524288}else lc=lc.next=h;return x}var _5=typeof AbortController<"u"?AbortController:function(){var A=[],h=this.signal={aborted:!1,addEventListener:function(x,b){A.push(b)}};this.abort=function(){h.aborted=!0,A.forEach(function(x){return x()})}},T5=r.unstable_scheduleCallback,k5=r.unstable_NormalPriority,Ua={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new _5,data:new Map,refCount:0}}function Lf(A){A.refCount--,A.refCount===0&&T5(k5,function(){A.controller.abort()})}var Mf=null,Sm=0,N=0,_=null;function H(A,h){if(Mf===null){var x=Mf=[];Sm=0,N=pN(),_={status:"pending",value:void 0,then:function(b){x.push(b)}}}return Sm++,h.then(G,G),h}function G(){if(--Sm===0&&Mf!==null){_!==null&&(_.status="fulfilled");var A=Mf;Mf=null,N=0,_=null;for(var h=0;h<A.length;h++)(0,A[h])()}}function te(A,h){var x=[],b={status:"pending",value:null,reason:null,then:function(E){x.push(E)}};return A.then(function(){b.status="fulfilled",b.value=h;for(var E=0;E<x.length;E++)(0,x[E])(h)},function(E){for(b.status="rejected",b.reason=E,E=0;E<x.length;E++)(0,x[E])(void 0)}),b}var ie=W.S;W.S=function(A,h){TF=Ut(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&H(A,h),ie!==null&&ie(A,h)};var le=ne(null);function Ae(){var A=le.current;return A!==null?A:aa.pooledCache}function fe(A,h){h===null?Q(le,le.current):Q(le,h.pool)}function ye(){var A=Ae();return A===null?null:{parent:Ua._currentValue,pool:A}}var _e=Error(n(460)),Ke=Error(n(474)),ge=Error(n(542)),Fe={then:function(){}};function Re(A){return A=A.status,A==="fulfilled"||A==="rejected"}function it(A,h,x){switch(x=A[x],x===void 0?A.push(h):x!==h&&(h.then(xl,xl),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,vt(A),A;default:if(typeof h.status=="string")h.then(xl,xl);else{if(A=aa,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=h,A.status="pending",A.then(function(b){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=b}},function(b){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,vt(A),A}throw nt=h,_e}}function Qe(A){try{var h=A._init;return h(A._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(nt=x,_e):x}}var nt=null;function At(){if(nt===null)throw Error(n(459));var A=nt;return nt=null,A}function vt(A){if(A===_e||A===ge)throw Error(n(483))}var pt=null,Zt=0;function Ht(A){var h=Zt;return Zt+=1,pt===null&&(pt=[]),it(pt,A,h)}function kr(A,h){h=h.props.ref,A.ref=h!==void 0?h:null}function Vt(A,h){throw h.$$typeof===p?Error(n(525)):(A=Object.prototype.toString.call(h),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":A)))}function Yr(A){function h(Le,Te){if(A){var Ve=Le.deletions;Ve===null?(Le.deletions=[Te],Le.flags|=16):Ve.push(Te)}}function x(Le,Te){if(!A)return null;for(;Te!==null;)h(Le,Te),Te=Te.sibling;return null}function b(Le){for(var Te=new Map;Le!==null;)Le.key!==null?Te.set(Le.key,Le):Te.set(Le.index,Le),Le=Le.sibling;return Te}function E(Le,Te){return Le=Lo(Le,Te),Le.index=0,Le.sibling=null,Le}function O(Le,Te,Ve){return Le.index=Ve,A?(Ve=Le.alternate,Ve!==null?(Ve=Ve.index,Ve<Te?(Le.flags|=67108866,Te):Ve):(Le.flags|=67108866,Te)):(Le.flags|=1048576,Te)}function Y(Le){return A&&Le.alternate===null&&(Le.flags|=67108866),Le}function ce(Le,Te,Ve,ft){return Te===null||Te.tag!==6?(Te=Pf(Ve,Le.mode,ft),Te.return=Le,Te):(Te=E(Te,Ve),Te.return=Le,Te)}function Ee(Le,Te,Ve,ft){var br=Ve.type;return br===g?lt(Le,Te,Ve.props.children,ft,Ve.key):Te!==null&&(Te.elementType===br||typeof br=="object"&&br!==null&&br.$$typeof===D&&Qe(br)===Te.type)?(Te=E(Te,Ve.props),kr(Te,Ve),Te.return=Le,Te):(Te=th(Ve.type,Ve.key,Ve.props,null,Le.mode,ft),kr(Te,Ve),Te.return=Le,Te)}function Ge(Le,Te,Ve,ft){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Ve.containerInfo||Te.stateNode.implementation!==Ve.implementation?(Te=rh(Ve,Le.mode,ft),Te.return=Le,Te):(Te=E(Te,Ve.children||[]),Te.return=Le,Te)}function lt(Le,Te,Ve,ft,br){return Te===null||Te.tag!==7?(Te=Mu(Ve,Le.mode,ft,br),Te.return=Le,Te):(Te=E(Te,Ve),Te.return=Le,Te)}function mt(Le,Te,Ve){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=Pf(""+Te,Le.mode,Ve),Te.return=Le,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case m:return Ve=th(Te.type,Te.key,Te.props,null,Le.mode,Ve),kr(Ve,Te),Ve.return=Le,Ve;case y:return Te=rh(Te,Le.mode,Ve),Te.return=Le,Te;case D:return Te=Qe(Te),mt(Le,Te,Ve)}if(ae(Te)||U(Te))return Te=Mu(Te,Le.mode,Ve,null),Te.return=Le,Te;if(typeof Te.then=="function")return mt(Le,Ht(Te),Ve);if(Te.$$typeof===C)return mt(Le,Nm(Le,Te),Ve);Vt(Le,Te)}return null}function Xe(Le,Te,Ve,ft){var br=Te!==null?Te.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return br!==null?null:ce(Le,Te,""+Ve,ft);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case m:return Ve.key===br?Ee(Le,Te,Ve,ft):null;case y:return Ve.key===br?Ge(Le,Te,Ve,ft):null;case D:return Ve=Qe(Ve),Xe(Le,Te,Ve,ft)}if(ae(Ve)||U(Ve))return br!==null?null:lt(Le,Te,Ve,ft,null);if(typeof Ve.then=="function")return Xe(Le,Te,Ht(Ve),ft);if(Ve.$$typeof===C)return Xe(Le,Te,Nm(Le,Ve),ft);Vt(Le,Ve)}return null}function et(Le,Te,Ve,ft,br){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Le=Le.get(Ve)||null,ce(Te,Le,""+ft,br);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case m:return Le=Le.get(ft.key===null?Ve:ft.key)||null,Ee(Te,Le,ft,br);case y:return Le=Le.get(ft.key===null?Ve:ft.key)||null,Ge(Te,Le,ft,br);case D:return ft=Qe(ft),et(Le,Te,Ve,ft,br)}if(ae(ft)||U(ft))return Le=Le.get(Ve)||null,lt(Te,Le,ft,br,null);if(typeof ft.then=="function")return et(Le,Te,Ve,Ht(ft),br);if(ft.$$typeof===C)return et(Le,Te,Ve,Nm(Te,ft),br);Vt(Te,ft)}return null}function Jt(Le,Te,Ve,ft){for(var br=null,xn=null,cr=Te,Hr=Te=0,tn=null;cr!==null&&Hr<Ve.length;Hr++){cr.index>Hr?(tn=cr,cr=null):tn=cr.sibling;var yn=Xe(Le,cr,Ve[Hr],ft);if(yn===null){cr===null&&(cr=tn);break}A&&cr&&yn.alternate===null&&h(Le,cr),Te=O(yn,Te,Hr),xn===null?br=yn:xn.sibling=yn,xn=yn,cr=tn}if(Hr===Ve.length)return x(Le,cr),Xr&&vo(Le,Hr),br;if(cr===null){for(;Hr<Ve.length;Hr++)cr=mt(Le,Ve[Hr],ft),cr!==null&&(Te=O(cr,Te,Hr),xn===null?br=cr:xn.sibling=cr,xn=cr);return Xr&&vo(Le,Hr),br}for(cr=b(cr);Hr<Ve.length;Hr++)tn=et(cr,Le,Hr,Ve[Hr],ft),tn!==null&&(A&&tn.alternate!==null&&cr.delete(tn.key===null?Hr:tn.key),Te=O(tn,Te,Hr),xn===null?br=tn:xn.sibling=tn,xn=tn);return A&&cr.forEach(function(Ch){return h(Le,Ch)}),Xr&&vo(Le,Hr),br}function Br(Le,Te,Ve,ft){if(Ve==null)throw Error(n(151));for(var br=null,xn=null,cr=Te,Hr=Te=0,tn=null,yn=Ve.next();cr!==null&&!yn.done;Hr++,yn=Ve.next()){cr.index>Hr?(tn=cr,cr=null):tn=cr.sibling;var Ch=Xe(Le,cr,yn.value,ft);if(Ch===null){cr===null&&(cr=tn);break}A&&cr&&Ch.alternate===null&&h(Le,cr),Te=O(Ch,Te,Hr),xn===null?br=Ch:xn.sibling=Ch,xn=Ch,cr=tn}if(yn.done)return x(Le,cr),Xr&&vo(Le,Hr),br;if(cr===null){for(;!yn.done;Hr++,yn=Ve.next())yn=mt(Le,yn.value,ft),yn!==null&&(Te=O(yn,Te,Hr),xn===null?br=yn:xn.sibling=yn,xn=yn);return Xr&&vo(Le,Hr),br}for(cr=b(cr);!yn.done;Hr++,yn=Ve.next())yn=et(cr,Le,Hr,yn.value,ft),yn!==null&&(A&&yn.alternate!==null&&cr.delete(yn.key===null?Hr:yn.key),Te=O(yn,Te,Hr),xn===null?br=yn:xn.sibling=yn,xn=yn);return A&&cr.forEach(function(gY){return h(Le,gY)}),Xr&&vo(Le,Hr),br}function Yn(Le,Te,Ve,ft){if(typeof Ve=="object"&&Ve!==null&&Ve.type===g&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case m:e:{for(var br=Ve.key;Te!==null;){if(Te.key===br){if(br=Ve.type,br===g){if(Te.tag===7){x(Le,Te.sibling),ft=E(Te,Ve.props.children),ft.return=Le,Le=ft;break e}}else if(Te.elementType===br||typeof br=="object"&&br!==null&&br.$$typeof===D&&Qe(br)===Te.type){x(Le,Te.sibling),ft=E(Te,Ve.props),kr(ft,Ve),ft.return=Le,Le=ft;break e}x(Le,Te);break}else h(Le,Te);Te=Te.sibling}Ve.type===g?(ft=Mu(Ve.props.children,Le.mode,ft,Ve.key),ft.return=Le,Le=ft):(ft=th(Ve.type,Ve.key,Ve.props,null,Le.mode,ft),kr(ft,Ve),ft.return=Le,Le=ft)}return Y(Le);case y:e:{for(br=Ve.key;Te!==null;){if(Te.key===br)if(Te.tag===4&&Te.stateNode.containerInfo===Ve.containerInfo&&Te.stateNode.implementation===Ve.implementation){x(Le,Te.sibling),ft=E(Te,Ve.children||[]),ft.return=Le,Le=ft;break e}else{x(Le,Te);break}else h(Le,Te);Te=Te.sibling}ft=rh(Ve,Le.mode,ft),ft.return=Le,Le=ft}return Y(Le);case D:return Ve=Qe(Ve),Yn(Le,Te,Ve,ft)}if(ae(Ve))return Jt(Le,Te,Ve,ft);if(U(Ve)){if(br=U(Ve),typeof br!="function")throw Error(n(150));return Ve=br.call(Ve),Br(Le,Te,Ve,ft)}if(typeof Ve.then=="function")return Yn(Le,Te,Ht(Ve),ft);if(Ve.$$typeof===C)return Yn(Le,Te,Nm(Le,Ve),ft);Vt(Le,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Te!==null&&Te.tag===6?(x(Le,Te.sibling),ft=E(Te,Ve),ft.return=Le,Le=ft):(x(Le,Te),ft=Pf(Ve,Le.mode,ft),ft.return=Le,Le=ft),Y(Le)):x(Le,Te)}return function(Le,Te,Ve,ft){try{Zt=0;var br=Yn(Le,Te,Ve,ft);return pt=null,br}catch(cr){if(cr===_e||cr===ge)throw cr;var xn=ii(29,cr,null,Le.mode);return xn.lanes=ft,xn.return=Le,xn}}}var na=Yr(!0),Dr=Yr(!1),zt=!1;function Tt(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ma(A,h){A=A.updateQueue,h.updateQueue===A&&(h.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Sr(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Rr(A,h,x){var b=A.updateQueue;if(b===null)return null;if(b=b.shared,(En&2)!==0){var E=b.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),b.pending=h,h=si(A),Of(A,null,x),h}return Ff(A,b,h,x),si(A)}function Sn(A,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var b=h.lanes;b&=A.pendingLanes,x|=b,h.lanes=x,ua(A,x)}}function ds(A,h){var x=A.updateQueue,b=A.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var E=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var Y={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};O===null?E=O=Y:O=O.next=Y,x=x.next}while(x!==null);O===null?E=O=h:O=O.next=h}else E=O=h;x={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:O,shared:b.shared,callbacks:b.callbacks},A.updateQueue=x;return}A=x.lastBaseUpdate,A===null?x.firstBaseUpdate=h:A.next=h,x.lastBaseUpdate=h}var qs=!1;function qn(){if(qs){var A=_;if(A!==null)throw A}}function Za(A,h,x,b){qs=!1;var E=A.updateQueue;zt=!1;var O=E.firstBaseUpdate,Y=E.lastBaseUpdate,ce=E.shared.pending;if(ce!==null){E.shared.pending=null;var Ee=ce,Ge=Ee.next;Ee.next=null,Y===null?O=Ge:Y.next=Ge,Y=Ee;var lt=A.alternate;lt!==null&&(lt=lt.updateQueue,ce=lt.lastBaseUpdate,ce!==Y&&(ce===null?lt.firstBaseUpdate=Ge:ce.next=Ge,lt.lastBaseUpdate=Ee))}if(O!==null){var mt=E.baseState;Y=0,lt=Ge=Ee=null,ce=O;do{var Xe=ce.lane&-536870913,et=Xe!==ce.lane;if(et?(en&Xe)===Xe:(b&Xe)===Xe){Xe!==0&&Xe===N&&(qs=!0),lt!==null&&(lt=lt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Jt=A,Br=ce;Xe=h;var Yn=x;switch(Br.tag){case 1:if(Jt=Br.payload,typeof Jt=="function"){mt=Jt.call(Yn,mt,Xe);break e}mt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=Br.payload,Xe=typeof Jt=="function"?Jt.call(Yn,mt,Xe):Jt,Xe==null)break e;mt=f({},mt,Xe);break e;case 2:zt=!0}}Xe=ce.callback,Xe!==null&&(A.flags|=64,et&&(A.flags|=8192),et=E.callbacks,et===null?E.callbacks=[Xe]:et.push(Xe))}else et={lane:Xe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},lt===null?(Ge=lt=et,Ee=mt):lt=lt.next=et,Y|=Xe;if(ce=ce.next,ce===null){if(ce=E.shared.pending,ce===null)break;et=ce,ce=et.next,et.next=null,E.lastBaseUpdate=et,E.shared.pending=null}}while(!0);lt===null&&(Ee=mt),E.baseState=Ee,E.firstBaseUpdate=Ge,E.lastBaseUpdate=lt,O===null&&(E.shared.lanes=0),hh|=Y,A.lanes=Y,A.memoizedState=mt}}function oi(A,h){if(typeof A!="function")throw Error(n(191,A));A.call(h)}function es(A,h){var x=A.callbacks;if(x!==null)for(A.callbacks=null,A=0;A<x.length;A++)oi(x[A],h)}var Kr=ne(null),cn=ne(0);function pa(A,h){A=GA,Q(cn,A),Q(Kr,h),GA=A|h.baseLanes}function pn(){Q(cn,GA),Q(Kr,Kr.current)}function hs(){GA=cn.current,F(Kr),F(cn)}var ga=ne(null),un=null;function Qa(A){var h=A.alternate;Q(on,on.current&1),Q(ga,A),un===null&&(h===null||Kr.current!==null||h.memoizedState!==null)&&(un=A)}function Bn(A){Q(on,on.current),Q(ga,A),un===null&&(un=A)}function ts(A){A.tag===22?(Q(on,on.current),Q(ga,A),un===null&&(un=A)):rs()}function rs(){Q(on,on.current),Q(ga,ga.current)}function Dn(A){F(ga),un===A&&(un=null),F(on)}var on=ne(0);function li(A){for(var h=A;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||jN(x)||_N(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Sa=0,gr=null,vr=null,An=null,Xi=!1,Ko=!1,ki=!1,ns=0,$u=0,Vu=null,Bm=0;function Gn(){throw Error(n(321))}function Rg(A,h){if(h===null)return!1;for(var x=0;x<h.length&&x<A.length;x++)if(!Hs(A[x],h[x]))return!1;return!0}function Ug(A,h,x,b,E,O){return Sa=O,gr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,W.H=A===null||A.memoizedState===null?Qk:R5,ki=!1,O=x(b,E),ki=!1,Ko&&(O=au(h,x,b,E)),Em(A),O}function Em(A){W.H=Gg;var h=vr!==null&&vr.next!==null;if(Sa=0,An=vr=gr=null,Xi=!1,$u=0,Vu=null,h)throw Error(n(300));A===null||ks||(A=A.dependencies,A!==null&&Cm(A)&&(ks=!0))}function au(A,h,x,b){gr=A;var E=0;do{if(Ko&&(Vu=null),$u=0,Ko=!1,25<=E)throw Error(n(301));if(E+=1,An=vr=null,A.updateQueue!=null){var O=A.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}W.H=Hk,O=h(x,b)}while(Ko);return O}function F5(){var A=W.H,h=A.useState()[0];return h=typeof h.then=="function"?qu(h):h,A=A.useState()[0],(vr!==null?vr.memoizedState:null)!==A&&(gr.flags|=1024),h}function Qg(){var A=ns!==0;return ns=0,A}function Hg(A,h,x){h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~x}function jm(A){if(Xi){for(A=A.memoizedState;A!==null;){var h=A.queue;h!==null&&(h.pending=null),A=A.next}Xi=!1}Sa=0,An=vr=gr=null,Ko=!1,$u=ns=0,Vu=null}function Ts(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?gr.memoizedState=An=A:An=An.next=A,An}function Ba(){if(vr===null){var A=gr.alternate;A=A!==null?A.memoizedState:null}else A=vr.next;var h=An===null?gr.memoizedState:An.next;if(h!==null)An=h,vr=A;else{if(A===null)throw gr.alternate===null?Error(n(467)):Error(n(310));vr=A,A={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},An===null?gr.memoizedState=An=A:An=An.next=A}return An}function Rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(A){var h=$u;return $u+=1,Vu===null&&(Vu=[]),A=it(Vu,A,h),h=gr,(An===null?h.memoizedState:An.next)===null&&(h=h.alternate,W.H=h===null||h.memoizedState===null?Qk:R5),A}function oh(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return qu(A);if(A.$$typeof===C)return Vs(A)}throw Error(n(438,String(A)))}function RA(A){var h=null,x=gr.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var b=gr.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Rf(),gr.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(A),b=0;b<A;b++)x[b]=z;return h.index++,x}function cc(A,h){return typeof h=="function"?h(A):h}function _m(A){var h=Ba();return lh(h,vr,A)}function lh(A,h,x){var b=A.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=x;var E=A.baseQueue,O=b.pending;if(O!==null){if(E!==null){var Y=E.next;E.next=O.next,O.next=Y}h.baseQueue=E=O,b.pending=null}if(O=A.baseState,E===null)A.memoizedState=O;else{h=E.next;var ce=Y=null,Ee=null,Ge=h,lt=!1;do{var mt=Ge.lane&-536870913;if(mt!==Ge.lane?(en&mt)===mt:(Sa&mt)===mt){var Xe=Ge.revertLane;if(Xe===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),mt===N&&(lt=!0);else if((Sa&Xe)===Xe){Ge=Ge.next,Xe===N&&(lt=!0);continue}else mt={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ee===null?(ce=Ee=mt,Y=O):Ee=Ee.next=mt,gr.lanes|=Xe,hh|=Xe;mt=Ge.action,ki&&x(O,mt),O=Ge.hasEagerState?Ge.eagerState:x(O,mt)}else Xe={lane:mt,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ee===null?(ce=Ee=Xe,Y=O):Ee=Ee.next=Xe,gr.lanes|=mt,hh|=mt;Ge=Ge.next}while(Ge!==null&&Ge!==h);if(Ee===null?Y=O:Ee.next=ce,!Hs(O,A.memoizedState)&&(ks=!0,lt&&(x=_,x!==null)))throw x;A.memoizedState=O,A.baseState=Y,A.baseQueue=Ee,b.lastRenderedState=O}return E===null&&(b.lanes=0),[A.memoizedState,b.dispatch]}function Tm(A){var h=Ba(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=A;var b=x.dispatch,E=x.pending,O=h.memoizedState;if(E!==null){x.pending=null;var Y=E=E.next;do O=A(O,Y.action),Y=Y.next;while(Y!==E);Hs(O,h.memoizedState)||(ks=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),x.lastRenderedState=O}return[O,b]}function km(A,h,x){var b=gr,E=Ba(),O=Xr;if(O){if(x===void 0)throw Error(n(407));x=x()}else x=h();var Y=!Hs((vr||E).memoizedState,x);if(Y&&(E.memoizedState=x,ks=!0),E=E.queue,O5(Kg.bind(null,b,E,A),[A]),E.getSnapshot!==h||Y||An!==null&&An.memoizedState.tag&1){if(b.flags|=2048,QA(9,{destroy:void 0},zg.bind(null,b,E,x,h),null),aa===null)throw Error(n(349));O||(Sa&127)!==0||su(b,h,x)}return x}function su(A,h,x){A.flags|=16384,A={getSnapshot:h,value:x},h=gr.updateQueue,h===null?(h=Rf(),gr.updateQueue=h,h.stores=[A]):(x=h.stores,x===null?h.stores=[A]:x.push(A))}function zg(A,h,x,b){h.value=x,h.getSnapshot=b,Gv(h)&&$g(A)}function Kg(A,h,x){return x(function(){Gv(h)&&$g(A)})}function Gv(A){var h=A.getSnapshot;A=A.value;try{var x=h();return!Hs(A,x)}catch{return!0}}function $g(A){var h=ru(A,2);h!==null&&Wo(h,A,2)}function Gu(A){var h=Ts();if(typeof A=="function"){var x=A;if(A=x(),ki){Yt(!0);try{x()}finally{Yt(!1)}}}return h.memoizedState=h.baseState=A,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:A},h}function Wv(A,h,x,b){return A.baseState=x,lh(A,vr,typeof b=="function"?b:cc)}function Yv(A,h,x,b,E){if(e1(A))throw Error(n(485));if(A=h.action,A!==null){var O={payload:E,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){O.listeners.push(Y)}};W.T!==null?x(!0):O.isTransition=!1,b(O),x=h.pending,x===null?(O.next=h.pending=O,Xv(h,O)):(O.next=x.next,h.pending=x.next=O)}}function Xv(A,h){var x=h.action,b=h.payload,E=A.state;if(h.isTransition){var O=W.T,Y={};W.T=Y;try{var ce=x(E,b),Ee=W.S;Ee!==null&&Ee(Y,ce),Vg(A,h,ce)}catch(Ge){UA(A,h,Ge)}finally{O!==null&&Y.types!==null&&(O.types=Y.types),W.T=O}}else try{O=x(E,b),Vg(A,h,O)}catch(Ge){UA(A,h,Ge)}}function Vg(A,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){Jv(A,h,b)},function(b){return UA(A,h,b)}):Jv(A,h,x)}function Jv(A,h,x){h.status="fulfilled",h.value=x,Fm(h),A.state=x,h=A.pending,h!==null&&(x=h.next,x===h?A.pending=null:(x=x.next,h.next=x,Xv(A,x)))}function UA(A,h,x){var b=A.pending;if(A.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=x,Fm(h),h=h.next;while(h!==b)}A.action=null}function Fm(A){A=A.listeners;for(var h=0;h<A.length;h++)(0,A[h])()}function Uf(A,h){return h}function uc(A,h){if(Xr){var x=aa.formState;if(x!==null){e:{var b=gr;if(Xr){if(ra){t:{for(var E=ra,O=Na;E.nodeType!==8;){if(!O){E=null;break t}if(E=Ac(E.nextSibling),E===null){E=null;break t}}O=E.data,E=O==="F!"||O==="F"?E:null}if(E){ra=Ac(E.nextSibling),b=E.data==="F!";break e}}Uu(b)}b=!1}b&&(h=x[0])}}return x=Ts(),x.memoizedState=x.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:h},x.queue=b,x=Mk.bind(null,gr,b),b.dispatch=x,b=Gu(!1),O=M5.bind(null,gr,!1,b.queue),b=Ts(),E={state:h,dispatch:null,action:A,pending:null},b.queue=E,x=Yv.bind(null,gr,E,O,x),E.dispatch=x,b.memoizedState=A,[h,x,!1]}function iu(A){var h=Ba();return ou(h,vr,A)}function ou(A,h,x){if(h=lh(A,h,Uf)[0],A=_m(cc)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var b=qu(h)}catch(Y){throw Y===_e?ge:Y}else b=h;h=Ba();var E=h.queue,O=E.dispatch;return x!==h.memoizedState&&(gr.flags|=2048,QA(9,{destroy:void 0},Om.bind(null,E,x),null)),[b,O,A]}function Om(A,h){A.action=h}function Dm(A){var h=Ba(),x=vr;if(x!==null)return ou(h,x,A);Ba(),h=h.memoizedState,x=Ba();var b=x.queue.dispatch;return x.memoizedState=A,[h,b,!1]}function QA(A,h,x,b){return A={tag:A,create:x,deps:b,inst:h,next:null},h=gr.updateQueue,h===null&&(h=Rf(),gr.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=A.next=A:(b=x.next,x.next=A,A.next=b,h.lastEffect=A),A}function Zv(){return Ba().memoizedState}function ch(A,h,x,b){var E=Ts();gr.flags|=A,E.memoizedState=QA(1|h,{destroy:void 0},x,b===void 0?null:b)}function uh(A,h,x,b){var E=Ba();b=b===void 0?null:b;var O=E.memoizedState.inst;vr!==null&&b!==null&&Rg(b,vr.memoizedState.deps)?E.memoizedState=QA(h,O,x,b):(gr.flags|=A,E.memoizedState=QA(1|h,O,x,b))}function Nk(A,h){ch(8390656,8,A,h)}function O5(A,h){uh(2048,8,A,h)}function AW(A){gr.flags|=4;var h=gr.updateQueue;if(h===null)h=Rf(),gr.updateQueue=h,h.events=[A];else{var x=h.events;x===null?h.events=[A]:x.push(A)}}function Sk(A){var h=Ba().memoizedState;return AW({ref:h,nextImpl:A}),function(){if((En&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function Bk(A,h){return uh(4,2,A,h)}function Ek(A,h){return uh(4,4,A,h)}function jk(A,h){if(typeof h=="function"){A=A();var x=h(A);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return A=A(),h.current=A,function(){h.current=null}}function _k(A,h,x){x=x!=null?x.concat([A]):null,uh(4,4,jk.bind(null,h,A),x)}function D5(){}function Tk(A,h){var x=Ba();h=h===void 0?null:h;var b=x.memoizedState;return h!==null&&Rg(h,b[1])?b[0]:(x.memoizedState=[A,h],A)}function kk(A,h){var x=Ba();h=h===void 0?null:h;var b=x.memoizedState;if(h!==null&&Rg(h,b[1]))return b[0];if(b=A(),ki){Yt(!0);try{A()}finally{Yt(!1)}}return x.memoizedState=[b,h],b}function P5(A,h,x){return x===void 0||(Sa&1073741824)!==0&&(en&261930)===0?A.memoizedState=h:(A.memoizedState=x,A=FF(),gr.lanes|=A,hh|=A,x)}function Fk(A,h,x,b){return Hs(x,h)?x:Kr.current!==null?(A=P5(A,x,b),Hs(A,h)||(ks=!0),A):(Sa&42)===0||(Sa&1073741824)!==0&&(en&261930)===0?(ks=!0,A.memoizedState=x):(A=FF(),gr.lanes|=A,hh|=A,h)}function Ok(A,h,x,b,E){var O=ee.p;ee.p=O!==0&&8>O?O:8;var Y=W.T,ce={};W.T=ce,M5(A,!1,h,x);try{var Ee=E(),Ge=W.S;if(Ge!==null&&Ge(ce,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var lt=te(Ee,b);qg(A,h,lt,El(A))}else qg(A,h,b,El(A))}catch(mt){qg(A,h,{then:function(){},status:"rejected",reason:mt},El())}finally{ee.p=O,Y!==null&&ce.types!==null&&(Y.types=ce.types),W.T=Y}}function dW(){}function I5(A,h,x,b){if(A.tag!==5)throw Error(n(476));var E=Dk(A).queue;Ok(A,E,h,re,x===null?dW:function(){return Pk(A),x(b)})}function Dk(A){var h=A.memoizedState;if(h!==null)return h;h={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:re},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:x},next:null},A.memoizedState=h,A=A.alternate,A!==null&&(A.memoizedState=h),h}function Pk(A){var h=Dk(A);h.next===null&&(h=A.alternate.memoizedState),qg(A,h.next.queue,{},El())}function L5(){return Vs(ux)}function Ik(){return Ba().memoizedState}function Lk(){return Ba().memoizedState}function hW(A){for(var h=A.return;h!==null;){switch(h.tag){case 24:case 3:var x=El();A=Sr(x);var b=Rr(h,A,x);b!==null&&(Wo(b,h,x),Sn(b,h,x)),h={cache:ih()},A.payload=h;return}h=h.return}}function fW(A,h,x){var b=El();x={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},e1(A)?Rk(h,x):(x=mm(A,h,x,b),x!==null&&(Wo(x,A,b),Uk(x,h,b)))}function Mk(A,h,x){var b=El();qg(A,h,x,b)}function qg(A,h,x,b){var E={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(e1(A))Rk(h,E);else{var O=A.alternate;if(A.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var Y=h.lastRenderedState,ce=O(Y,x);if(E.hasEagerState=!0,E.eagerState=ce,Hs(ce,Y))return Ff(A,h,E,0),aa===null&&kf(),!1}catch{}if(x=mm(A,h,E,b),x!==null)return Wo(x,A,b),Uk(x,h,b),!0}return!1}function M5(A,h,x,b){if(b={lane:2,revertLane:pN(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},e1(A)){if(h)throw Error(n(479))}else h=mm(A,x,b,2),h!==null&&Wo(h,A,2)}function e1(A){var h=A.alternate;return A===gr||h!==null&&h===gr}function Rk(A,h){Ko=Xi=!0;var x=A.pending;x===null?h.next=h:(h.next=x.next,x.next=h),A.pending=h}function Uk(A,h,x){if((x&4194048)!==0){var b=h.lanes;b&=A.pendingLanes,x|=b,h.lanes=x,ua(A,x)}}var Gg={readContext:Vs,use:oh,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn};Gg.useEffectEvent=Gn;var Qk={readContext:Vs,use:oh,useCallback:function(A,h){return Ts().memoizedState=[A,h===void 0?null:h],A},useContext:Vs,useEffect:Nk,useImperativeHandle:function(A,h,x){x=x!=null?x.concat([A]):null,ch(4194308,4,jk.bind(null,h,A),x)},useLayoutEffect:function(A,h){return ch(4194308,4,A,h)},useInsertionEffect:function(A,h){ch(4,2,A,h)},useMemo:function(A,h){var x=Ts();h=h===void 0?null:h;var b=A();if(ki){Yt(!0);try{A()}finally{Yt(!1)}}return x.memoizedState=[b,h],b},useReducer:function(A,h,x){var b=Ts();if(x!==void 0){var E=x(h);if(ki){Yt(!0);try{x(h)}finally{Yt(!1)}}}else E=h;return b.memoizedState=b.baseState=E,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},b.queue=A,A=A.dispatch=fW.bind(null,gr,A),[b.memoizedState,A]},useRef:function(A){var h=Ts();return A={current:A},h.memoizedState=A},useState:function(A){A=Gu(A);var h=A.queue,x=Mk.bind(null,gr,h);return h.dispatch=x,[A.memoizedState,x]},useDebugValue:D5,useDeferredValue:function(A,h){var x=Ts();return P5(x,A,h)},useTransition:function(){var A=Gu(!1);return A=Ok.bind(null,gr,A.queue,!0,!1),Ts().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,h,x){var b=gr,E=Ts();if(Xr){if(x===void 0)throw Error(n(407));x=x()}else{if(x=h(),aa===null)throw Error(n(349));(en&127)!==0||su(b,h,x)}E.memoizedState=x;var O={value:x,getSnapshot:h};return E.queue=O,Nk(Kg.bind(null,b,O,A),[A]),b.flags|=2048,QA(9,{destroy:void 0},zg.bind(null,b,O,x,h),null),x},useId:function(){var A=Ts(),h=aa.identifierPrefix;if(Xr){var x=Ho,b=Qo;x=(b&~(1<<32-ir(b)-1)).toString(32)+x,h="_"+h+"R_"+x,x=ns++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=Bm++,h="_"+h+"r_"+x.toString(32)+"_";return A.memoizedState=h},useHostTransitionStatus:L5,useFormState:uc,useActionState:uc,useOptimistic:function(A){var h=Ts();h.memoizedState=h.baseState=A;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=M5.bind(null,gr,!0,x),x.dispatch=h,[A,h]},useMemoCache:RA,useCacheRefresh:function(){return Ts().memoizedState=hW.bind(null,gr)},useEffectEvent:function(A){var h=Ts(),x={impl:A};return h.memoizedState=x,function(){if((En&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},R5={readContext:Vs,use:oh,useCallback:Tk,useContext:Vs,useEffect:O5,useImperativeHandle:_k,useInsertionEffect:Bk,useLayoutEffect:Ek,useMemo:kk,useReducer:_m,useRef:Zv,useState:function(){return _m(cc)},useDebugValue:D5,useDeferredValue:function(A,h){var x=Ba();return Fk(x,vr.memoizedState,A,h)},useTransition:function(){var A=_m(cc)[0],h=Ba().memoizedState;return[typeof A=="boolean"?A:qu(A),h]},useSyncExternalStore:km,useId:Ik,useHostTransitionStatus:L5,useFormState:iu,useActionState:iu,useOptimistic:function(A,h){var x=Ba();return Wv(x,vr,A,h)},useMemoCache:RA,useCacheRefresh:Lk};R5.useEffectEvent=Sk;var Hk={readContext:Vs,use:oh,useCallback:Tk,useContext:Vs,useEffect:O5,useImperativeHandle:_k,useInsertionEffect:Bk,useLayoutEffect:Ek,useMemo:kk,useReducer:Tm,useRef:Zv,useState:function(){return Tm(cc)},useDebugValue:D5,useDeferredValue:function(A,h){var x=Ba();return vr===null?P5(x,A,h):Fk(x,vr.memoizedState,A,h)},useTransition:function(){var A=Tm(cc)[0],h=Ba().memoizedState;return[typeof A=="boolean"?A:qu(A),h]},useSyncExternalStore:km,useId:Ik,useHostTransitionStatus:L5,useFormState:Dm,useActionState:Dm,useOptimistic:function(A,h){var x=Ba();return vr!==null?Wv(x,vr,A,h):(x.baseState=A,[A,x.queue.dispatch])},useMemoCache:RA,useCacheRefresh:Lk};Hk.useEffectEvent=Sk;function U5(A,h,x,b){h=A.memoizedState,x=x(b,h),x=x==null?h:f({},h,x),A.memoizedState=x,A.lanes===0&&(A.updateQueue.baseState=x)}var Q5={enqueueSetState:function(A,h,x){A=A._reactInternals;var b=El(),E=Sr(b);E.payload=h,x!=null&&(E.callback=x),h=Rr(A,E,b),h!==null&&(Wo(h,A,b),Sn(h,A,b))},enqueueReplaceState:function(A,h,x){A=A._reactInternals;var b=El(),E=Sr(b);E.tag=1,E.payload=h,x!=null&&(E.callback=x),h=Rr(A,E,b),h!==null&&(Wo(h,A,b),Sn(h,A,b))},enqueueForceUpdate:function(A,h){A=A._reactInternals;var x=El(),b=Sr(x);b.tag=2,h!=null&&(b.callback=h),h=Rr(A,b,x),h!==null&&(Wo(h,A,x),Sn(h,A,x))}};function zk(A,h,x,b,E,O,Y){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(b,O,Y):h.prototype&&h.prototype.isPureReactComponent?!Jc(x,b)||!Jc(E,O):!0}function Kk(A,h,x,b){A=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,b),h.state!==A&&Q5.enqueueReplaceState(h,h.state,null)}function Qf(A,h){var x=h;if("ref"in h){x={};for(var b in h)b!=="ref"&&(x[b]=h[b])}if(A=A.defaultProps){x===h&&(x=f({},x));for(var E in A)x[E]===void 0&&(x[E]=A[E])}return x}function $k(A){Tf(A)}function Vk(A){console.error(A)}function qk(A){Tf(A)}function t1(A,h){try{var x=A.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function Gk(A,h,x){try{var b=A.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function H5(A,h,x){return x=Sr(x),x.tag=3,x.payload={element:null},x.callback=function(){t1(A,h)},x}function Wk(A){return A=Sr(A),A.tag=3,A}function Yk(A,h,x,b){var E=x.type.getDerivedStateFromError;if(typeof E=="function"){var O=b.value;A.payload=function(){return E(O)},A.callback=function(){Gk(h,x,b)}}var Y=x.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(A.callback=function(){Gk(h,x,b),typeof E!="function"&&(fh===null?fh=new Set([this]):fh.add(this));var ce=b.stack;this.componentDidCatch(b.value,{componentStack:ce!==null?ce:""})})}function mW(A,h,x,b,E){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=x.alternate,h!==null&&zu(h,x,E,!0),x=ga.current,x!==null){switch(x.tag){case 31:case 13:return un===null?h1():x.alternate===null&&as===0&&(as=3),x.flags&=-257,x.flags|=65536,x.lanes=E,b===Fe?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([b]):h.add(b),hN(A,b,E)),!1;case 22:return x.flags|=65536,b===Fe?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([b]):x.add(b)),hN(A,b,E)),!1}throw Error(n(435,x.tag))}return hN(A,b,E),h1(),!1}if(Xr)return h=ga.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,b!==Nl&&(A=Error(n(422),{cause:b}),ah(Mo(A,x)))):(b!==Nl&&(h=Error(n(423),{cause:b}),ah(Mo(h,x))),A=A.current.alternate,A.flags|=65536,E&=-E,A.lanes|=E,b=Mo(b,x),E=H5(A.stateNode,b,E),ds(A,E),as!==4&&(as=2)),!1;var O=Error(n(520),{cause:b});if(O=Mo(O,x),rx===null?rx=[O]:rx.push(O),as!==4&&(as=2),h===null)return!0;b=Mo(b,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,A=E&-E,x.lanes|=A,A=H5(x.stateNode,b,A),ds(x,A),!1;case 1:if(h=x.type,O=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(fh===null||!fh.has(O))))return x.flags|=65536,E&=-E,x.lanes|=E,E=Wk(E),Yk(E,A,x,b),ds(x,E),!1}x=x.return}while(x!==null);return!1}var z5=Error(n(461)),ks=!1;function Fi(A,h,x,b){h.child=A===null?Dr(h,null,x,b):na(h,A.child,x,b)}function Xk(A,h,x,b,E){x=x.render;var O=h.ref;if("ref"in b){var Y={};for(var ce in b)ce!=="ref"&&(Y[ce]=b[ce])}else Y=b;return Ku(h),b=Ug(A,h,x,Y,O,E),ce=Qg(),A!==null&&!ks?(Hg(A,h,E),HA(A,h,E)):(Xr&&ce&&Ig(h),h.flags|=1,Fi(A,h,b,E),h.child)}function Jk(A,h,x,b,E){if(A===null){var O=x.type;return typeof O=="function"&&!gm(O)&&O.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=O,Zk(A,h,O,b,E)):(A=th(x.type,null,b,h,h.mode,E),A.ref=h.ref,A.return=h,h.child=A)}if(O=A.child,!X5(A,E)){var Y=O.memoizedProps;if(x=x.compare,x=x!==null?x:Jc,x(Y,b)&&A.ref===h.ref)return HA(A,h,E)}return h.flags|=1,A=Lo(O,b),A.ref=h.ref,A.return=h,h.child=A}function Zk(A,h,x,b,E){if(A!==null){var O=A.memoizedProps;if(Jc(O,b)&&A.ref===h.ref)if(ks=!1,h.pendingProps=b=O,X5(A,E))(A.flags&131072)!==0&&(ks=!0);else return h.lanes=A.lanes,HA(A,h,E)}return K5(A,h,x,b,E)}function eF(A,h,x,b){var E=b.children,O=A!==null?A.memoizedState:null;if(A===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((h.flags&128)!==0){if(O=O!==null?O.baseLanes|x:x,A!==null){for(b=h.child=A.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;b=E&~O}else b=0,h.child=null;return tF(A,h,O,x,b)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},A!==null&&fe(h,O!==null?O.cachePool:null),O!==null?pa(h,O):pn(),ts(h);else return b=h.lanes=536870912,tF(A,h,O!==null?O.baseLanes|x:x,x,b)}else O!==null?(fe(h,O.cachePool),pa(h,O),rs(),h.memoizedState=null):(A!==null&&fe(h,null),pn(),rs());return Fi(A,h,E,x),h.child}function Wg(A,h){return A!==null&&A.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function tF(A,h,x,b,E){var O=Ae();return O=O===null?null:{parent:Ua._currentValue,pool:O},h.memoizedState={baseLanes:x,cachePool:O},A!==null&&fe(h,null),pn(),ts(h),A!==null&&zu(A,h,b,!0),h.childLanes=E,null}function r1(A,h){return h=a1({mode:h.mode,children:h.children},A.mode),h.ref=A.ref,A.child=h,h.return=A,h}function rF(A,h,x){return na(h,A.child,null,x),A=r1(h,h.pendingProps),A.flags|=2,Dn(h),h.memoizedState=null,A}function pW(A,h,x){var b=h.pendingProps,E=(h.flags&128)!==0;if(h.flags&=-129,A===null){if(Xr){if(b.mode==="hidden")return A=r1(h,b),h.lanes=536870912,Wg(null,A);if(Bn(h),(A=ra)?(A=fO(A,Na),A=A!==null&&A.data==="&"?A:null,A!==null&&(h.memoizedState={dehydrated:A,treeContext:Ru!==null?{id:Qo,overflow:Ho}:null,retryLane:536870912,hydrationErrors:null},x=xm(A),x.return=h,h.child=x,Ks=h,ra=null)):A=null,A===null)throw Uu(h);return h.lanes=536870912,null}return r1(h,b)}var O=A.memoizedState;if(O!==null){var Y=O.dehydrated;if(Bn(h),E)if(h.flags&256)h.flags&=-257,h=rF(A,h,x);else if(h.memoizedState!==null)h.child=A.child,h.flags|=128,h=null;else throw Error(n(558));else if(ks||zu(A,h,x,!1),E=(x&A.childLanes)!==0,ks||E){if(b=aa,b!==null&&(Y=Es(b,x),Y!==0&&Y!==O.retryLane))throw O.retryLane=Y,ru(A,Y),Wo(b,A,Y),z5;h1(),h=rF(A,h,x)}else A=O.treeContext,ra=Ac(Y.nextSibling),Ks=h,Xr=!0,Ti=null,Na=!1,A!==null&&Vv(h,A),h=r1(h,b),h.flags|=4096;return h}return A=Lo(A.child,{mode:b.mode,children:b.children}),A.ref=h.ref,h.child=A,A.return=h,A}function n1(A,h){var x=h.ref;if(x===null)A!==null&&A.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(A===null||A.ref!==x)&&(h.flags|=4194816)}}function K5(A,h,x,b,E){return Ku(h),x=Ug(A,h,x,b,void 0,E),b=Qg(),A!==null&&!ks?(Hg(A,h,E),HA(A,h,E)):(Xr&&b&&Ig(h),h.flags|=1,Fi(A,h,x,E),h.child)}function nF(A,h,x,b,E,O){return Ku(h),h.updateQueue=null,x=au(h,b,x,E),Em(A),b=Qg(),A!==null&&!ks?(Hg(A,h,O),HA(A,h,O)):(Xr&&b&&Ig(h),h.flags|=1,Fi(A,h,x,O),h.child)}function aF(A,h,x,b,E){if(Ku(h),h.stateNode===null){var O=zs,Y=x.contextType;typeof Y=="object"&&Y!==null&&(O=Vs(Y)),O=new x(b,O),h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Q5,h.stateNode=O,O._reactInternals=h,O=h.stateNode,O.props=b,O.state=h.memoizedState,O.refs={},Tt(h),Y=x.contextType,O.context=typeof Y=="object"&&Y!==null?Vs(Y):zs,O.state=h.memoizedState,Y=x.getDerivedStateFromProps,typeof Y=="function"&&(U5(h,x,Y,b),O.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(Y=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),Y!==O.state&&Q5.enqueueReplaceState(O,O.state,null),Za(h,b,O,E),qn(),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(A===null){O=h.stateNode;var ce=h.memoizedProps,Ee=Qf(x,ce);O.props=Ee;var Ge=O.context,lt=x.contextType;Y=zs,typeof lt=="object"&&lt!==null&&(Y=Vs(lt));var mt=x.getDerivedStateFromProps;lt=typeof mt=="function"||typeof O.getSnapshotBeforeUpdate=="function",ce=h.pendingProps!==ce,lt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ce||Ge!==Y)&&Kk(h,O,b,Y),zt=!1;var Xe=h.memoizedState;O.state=Xe,Za(h,b,O,E),qn(),Ge=h.memoizedState,ce||Xe!==Ge||zt?(typeof mt=="function"&&(U5(h,x,mt,b),Ge=h.memoizedState),(Ee=zt||zk(h,x,Ee,b,Xe,Ge,Y))?(lt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=Ge),O.props=b,O.state=Ge,O.context=Y,b=Ee):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{O=h.stateNode,ma(A,h),Y=h.memoizedProps,lt=Qf(x,Y),O.props=lt,mt=h.pendingProps,Xe=O.context,Ge=x.contextType,Ee=zs,typeof Ge=="object"&&Ge!==null&&(Ee=Vs(Ge)),ce=x.getDerivedStateFromProps,(Ge=typeof ce=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==mt||Xe!==Ee)&&Kk(h,O,b,Ee),zt=!1,Xe=h.memoizedState,O.state=Xe,Za(h,b,O,E),qn();var et=h.memoizedState;Y!==mt||Xe!==et||zt||A!==null&&A.dependencies!==null&&Cm(A.dependencies)?(typeof ce=="function"&&(U5(h,x,ce,b),et=h.memoizedState),(lt=zt||zk(h,x,lt,b,Xe,et,Ee)||A!==null&&A.dependencies!==null&&Cm(A.dependencies))?(Ge||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(b,et,Ee),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(b,et,Ee)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||Y===A.memoizedProps&&Xe===A.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===A.memoizedProps&&Xe===A.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=et),O.props=b,O.state=et,O.context=Ee,b=lt):(typeof O.componentDidUpdate!="function"||Y===A.memoizedProps&&Xe===A.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===A.memoizedProps&&Xe===A.memoizedState||(h.flags|=1024),b=!1)}return O=b,n1(A,h),b=(h.flags&128)!==0,O||b?(O=h.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:O.render(),h.flags|=1,A!==null&&b?(h.child=na(h,A.child,null,E),h.child=na(h,null,x,E)):Fi(A,h,x,E),h.memoizedState=O.state,A=h.child):A=HA(A,h,E),A}function sF(A,h,x,b){return LA(),h.flags|=256,Fi(A,h,x,b),h.child}var $5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function V5(A){return{baseLanes:A,cachePool:ye()}}function q5(A,h,x){return A=A!==null?A.childLanes&~x:0,h&&(A|=Bl),A}function iF(A,h,x){var b=h.pendingProps,E=!1,O=(h.flags&128)!==0,Y;if((Y=O)||(Y=A!==null&&A.memoizedState===null?!1:(on.current&2)!==0),Y&&(E=!0,h.flags&=-129),Y=(h.flags&32)!==0,h.flags&=-33,A===null){if(Xr){if(E?Qa(h):rs(),(A=ra)?(A=fO(A,Na),A=A!==null&&A.data!=="&"?A:null,A!==null&&(h.memoizedState={dehydrated:A,treeContext:Ru!==null?{id:Qo,overflow:Ho}:null,retryLane:536870912,hydrationErrors:null},x=xm(A),x.return=h,h.child=x,Ks=h,ra=null)):A=null,A===null)throw Uu(h);return _N(A)?h.lanes=32:h.lanes=536870912,null}var ce=b.children;return b=b.fallback,E?(rs(),E=h.mode,ce=a1({mode:"hidden",children:ce},E),b=Mu(b,E,x,null),ce.return=h,b.return=h,ce.sibling=b,h.child=ce,b=h.child,b.memoizedState=V5(x),b.childLanes=q5(A,Y,x),h.memoizedState=$5,Wg(null,b)):(Qa(h),G5(h,ce))}var Ee=A.memoizedState;if(Ee!==null&&(ce=Ee.dehydrated,ce!==null)){if(O)h.flags&256?(Qa(h),h.flags&=-257,h=W5(A,h,x)):h.memoizedState!==null?(rs(),h.child=A.child,h.flags|=128,h=null):(rs(),ce=b.fallback,E=h.mode,b=a1({mode:"visible",children:b.children},E),ce=Mu(ce,E,x,null),ce.flags|=2,b.return=h,ce.return=h,b.sibling=ce,h.child=b,na(h,A.child,null,x),b=h.child,b.memoizedState=V5(x),b.childLanes=q5(A,Y,x),h.memoizedState=$5,h=Wg(null,b));else if(Qa(h),_N(ce)){if(Y=ce.nextSibling&&ce.nextSibling.dataset,Y)var Ge=Y.dgst;Y=Ge,b=Error(n(419)),b.stack="",b.digest=Y,ah({value:b,source:null,stack:null}),h=W5(A,h,x)}else if(ks||zu(A,h,x,!1),Y=(x&A.childLanes)!==0,ks||Y){if(Y=aa,Y!==null&&(b=Es(Y,x),b!==0&&b!==Ee.retryLane))throw Ee.retryLane=b,ru(A,b),Wo(Y,A,b),z5;jN(ce)||h1(),h=W5(A,h,x)}else jN(ce)?(h.flags|=192,h.child=A.child,h=null):(A=Ee.treeContext,ra=Ac(ce.nextSibling),Ks=h,Xr=!0,Ti=null,Na=!1,A!==null&&Vv(h,A),h=G5(h,b.children),h.flags|=4096);return h}return E?(rs(),ce=b.fallback,E=h.mode,Ee=A.child,Ge=Ee.sibling,b=Lo(Ee,{mode:"hidden",children:b.children}),b.subtreeFlags=Ee.subtreeFlags&65011712,Ge!==null?ce=Lo(Ge,ce):(ce=Mu(ce,E,x,null),ce.flags|=2),ce.return=h,b.return=h,b.sibling=ce,h.child=b,Wg(null,b),b=h.child,ce=A.child.memoizedState,ce===null?ce=V5(x):(E=ce.cachePool,E!==null?(Ee=Ua._currentValue,E=E.parent!==Ee?{parent:Ee,pool:Ee}:E):E=ye(),ce={baseLanes:ce.baseLanes|x,cachePool:E}),b.memoizedState=ce,b.childLanes=q5(A,Y,x),h.memoizedState=$5,Wg(A.child,b)):(Qa(h),x=A.child,A=x.sibling,x=Lo(x,{mode:"visible",children:b.children}),x.return=h,x.sibling=null,A!==null&&(Y=h.deletions,Y===null?(h.deletions=[A],h.flags|=16):Y.push(A)),h.child=x,h.memoizedState=null,x)}function G5(A,h){return h=a1({mode:"visible",children:h},A.mode),h.return=A,A.child=h}function a1(A,h){return A=ii(22,A,null,h),A.lanes=0,A}function W5(A,h,x){return na(h,A.child,null,x),A=G5(h,h.pendingProps.children),A.flags|=2,h.memoizedState=null,A}function oF(A,h,x){A.lanes|=h;var b=A.alternate;b!==null&&(b.lanes|=h),sh(A.return,h,x)}function Y5(A,h,x,b,E,O){var Y=A.memoizedState;Y===null?A.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:E,treeForkCount:O}:(Y.isBackwards=h,Y.rendering=null,Y.renderingStartTime=0,Y.last=b,Y.tail=x,Y.tailMode=E,Y.treeForkCount=O)}function lF(A,h,x){var b=h.pendingProps,E=b.revealOrder,O=b.tail;b=b.children;var Y=on.current,ce=(Y&2)!==0;if(ce?(Y=Y&1|2,h.flags|=128):Y&=1,Q(on,Y),Fi(A,h,b,x),b=Xr?If:0,!ce&&A!==null&&(A.flags&128)!==0)e:for(A=h.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&oF(A,x,h);else if(A.tag===19)oF(A,x,h);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(E){case"forwards":for(x=h.child,E=null;x!==null;)A=x.alternate,A!==null&&li(A)===null&&(E=x),x=x.sibling;x=E,x===null?(E=h.child,h.child=null):(E=x.sibling,x.sibling=null),Y5(h,!1,E,x,O,b);break;case"backwards":case"unstable_legacy-backwards":for(x=null,E=h.child,h.child=null;E!==null;){if(A=E.alternate,A!==null&&li(A)===null){h.child=E;break}A=E.sibling,E.sibling=x,x=E,E=A}Y5(h,!0,x,null,O,b);break;case"together":Y5(h,!1,null,null,void 0,b);break;default:h.memoizedState=null}return h.child}function HA(A,h,x){if(A!==null&&(h.dependencies=A.dependencies),hh|=h.lanes,(x&h.childLanes)===0)if(A!==null){if(zu(A,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(A!==null&&h.child!==A.child)throw Error(n(153));if(h.child!==null){for(A=h.child,x=Lo(A,A.pendingProps),h.child=x,x.return=h;A.sibling!==null;)A=A.sibling,x=x.sibling=Lo(A,A.pendingProps),x.return=h;x.sibling=null}return h.child}function X5(A,h){return(A.lanes&h)!==0?!0:(A=A.dependencies,!!(A!==null&&Cm(A)))}function gW(A,h,x){switch(h.tag){case 3:Ne(h,h.stateNode.containerInfo),Hu(h,Ua,A.memoizedState.cache),LA();break;case 27:case 5:xe(h);break;case 4:Ne(h,h.stateNode.containerInfo);break;case 10:Hu(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Bn(h),null;break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(Qa(h),h.flags|=128,null):(x&h.child.childLanes)!==0?iF(A,h,x):(Qa(h),A=HA(A,h,x),A!==null?A.sibling:null);Qa(h);break;case 19:var E=(A.flags&128)!==0;if(b=(x&h.childLanes)!==0,b||(zu(A,h,x,!1),b=(x&h.childLanes)!==0),E){if(b)return lF(A,h,x);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Q(on,on.current),b)break;return null;case 22:return h.lanes=0,eF(A,h,x,h.pendingProps);case 24:Hu(h,Ua,A.memoizedState.cache)}return HA(A,h,x)}function cF(A,h,x){if(A!==null)if(A.memoizedProps!==h.pendingProps)ks=!0;else{if(!X5(A,x)&&(h.flags&128)===0)return ks=!1,gW(A,h,x);ks=(A.flags&131072)!==0}else ks=!1,Xr&&(h.flags&1048576)!==0&&$v(h,If,h.index);switch(h.lanes=0,h.tag){case 16:e:{var b=h.pendingProps;if(A=Qe(h.elementType),h.type=A,typeof A=="function")gm(A)?(b=Qf(A,b),h.tag=1,h=aF(null,h,A,b,x)):(h.tag=0,h=K5(null,h,A,b,x));else{if(A!=null){var E=A.$$typeof;if(E===j){h.tag=11,h=Xk(null,h,A,b,x);break e}else if(E===I){h.tag=14,h=Jk(null,h,A,b,x);break e}}throw h=q(A)||A,Error(n(306,h,""))}}return h;case 0:return K5(A,h,h.type,h.pendingProps,x);case 1:return b=h.type,E=Qf(b,h.pendingProps),aF(A,h,b,E,x);case 3:e:{if(Ne(h,h.stateNode.containerInfo),A===null)throw Error(n(387));b=h.pendingProps;var O=h.memoizedState;E=O.element,ma(A,h),Za(h,b,null,x);var Y=h.memoizedState;if(b=Y.cache,Hu(h,Ua,b),b!==O.cache&&MA(h,[Ua],x,!0),qn(),b=Y.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:Y.cache},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){h=sF(A,h,b,x);break e}else if(b!==E){E=Mo(Error(n(424)),h),ah(E),h=sF(A,h,b,x);break e}else for(A=h.stateNode.containerInfo,A.nodeType===9?A=A.body:A=A.nodeName==="HTML"?A.ownerDocument.body:A,ra=Ac(A.firstChild),Ks=h,Xr=!0,Ti=null,Na=!0,x=Dr(h,null,b,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(LA(),b===E){h=HA(A,h,x);break e}Fi(A,h,b,x)}h=h.child}return h;case 26:return n1(A,h),A===null?(x=vO(h.type,null,h.pendingProps,null))?h.memoizedState=x:Xr||(x=h.type,A=h.pendingProps,b=v1(J.current).createElement(x),b[he]=h,b[me]=A,Oi(b,x,A),$t(b),h.stateNode=b):h.memoizedState=vO(h.type,A.memoizedProps,h.pendingProps,A.memoizedState),null;case 27:return xe(h),A===null&&Xr&&(b=h.stateNode=gO(h.type,h.pendingProps,J.current),Ks=h,Na=!0,E=ra,xh(h.type)?(TN=E,ra=Ac(b.firstChild)):ra=E),Fi(A,h,h.pendingProps.children,x),n1(A,h),A===null&&(h.flags|=4194304),h.child;case 5:return A===null&&Xr&&((E=b=ra)&&(b=qW(b,h.type,h.pendingProps,Na),b!==null?(h.stateNode=b,Ks=h,ra=Ac(b.firstChild),Na=!1,E=!0):E=!1),E||Uu(h)),xe(h),E=h.type,O=h.pendingProps,Y=A!==null?A.memoizedProps:null,b=O.children,SN(E,O)?b=null:Y!==null&&SN(E,Y)&&(h.flags|=32),h.memoizedState!==null&&(E=Ug(A,h,F5,null,null,x),ux._currentValue=E),n1(A,h),Fi(A,h,b,x),h.child;case 6:return A===null&&Xr&&((A=x=ra)&&(x=GW(x,h.pendingProps,Na),x!==null?(h.stateNode=x,Ks=h,ra=null,A=!0):A=!1),A||Uu(h)),null;case 13:return iF(A,h,x);case 4:return Ne(h,h.stateNode.containerInfo),b=h.pendingProps,A===null?h.child=na(h,null,b,x):Fi(A,h,b,x),h.child;case 11:return Xk(A,h,h.type,h.pendingProps,x);case 7:return Fi(A,h,h.pendingProps,x),h.child;case 8:return Fi(A,h,h.pendingProps.children,x),h.child;case 12:return Fi(A,h,h.pendingProps.children,x),h.child;case 10:return b=h.pendingProps,Hu(h,h.type,b.value),Fi(A,h,b.children,x),h.child;case 9:return E=h.type._context,b=h.pendingProps.children,Ku(h),E=Vs(E),b=b(E),h.flags|=1,Fi(A,h,b,x),h.child;case 14:return Jk(A,h,h.type,h.pendingProps,x);case 15:return Zk(A,h,h.type,h.pendingProps,x);case 19:return lF(A,h,x);case 31:return pW(A,h,x);case 22:return eF(A,h,x,h.pendingProps);case 24:return Ku(h),b=Vs(Ua),A===null?(E=Ae(),E===null&&(E=aa,O=ih(),E.pooledCache=O,O.refCount++,O!==null&&(E.pooledCacheLanes|=x),E=O),h.memoizedState={parent:b,cache:E},Tt(h),Hu(h,Ua,E)):((A.lanes&x)!==0&&(ma(A,h),Za(h,null,null,x),qn()),E=A.memoizedState,O=h.memoizedState,E.parent!==b?(E={parent:b,cache:b},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),Hu(h,Ua,b)):(b=O.cache,Hu(h,Ua,b),b!==E.cache&&MA(h,[Ua],x,!0))),Fi(A,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function zA(A){A.flags|=4}function J5(A,h,x,b,E){if((h=(A.mode&32)!==0)&&(h=!1),h){if(A.flags|=16777216,(E&335544128)===E)if(A.stateNode.complete)A.flags|=8192;else if(IF())A.flags|=8192;else throw nt=Fe,Ke}else A.flags&=-16777217}function uF(A,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!SO(h))if(IF())A.flags|=8192;else throw nt=Fe,Ke}function s1(A,h){h!==null&&(A.flags|=4),A.flags&16384&&(h=A.tag!==22?cs():536870912,A.lanes|=h,Mm|=h)}function Yg(A,h){if(!Xr)switch(A.tailMode){case"hidden":h=A.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?A.tail=null:x.sibling=null;break;case"collapsed":x=A.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?h||A.tail===null?A.tail=null:A.tail.sibling=null:b.sibling=null}}function xa(A){var h=A.alternate!==null&&A.alternate.child===A.child,x=0,b=0;if(h)for(var E=A.child;E!==null;)x|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=A,E=E.sibling;else for(E=A.child;E!==null;)x|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=A,E=E.sibling;return A.subtreeFlags|=b,A.childLanes=x,h}function xW(A,h,x){var b=h.pendingProps;switch(bm(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xa(h),null;case 1:return xa(h),null;case 3:return x=h.stateNode,b=null,A!==null&&(b=A.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),zo(Ua),ue(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(A===null||A.child===null)&&($s(h)?zA(h):A===null||A.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Mg())),xa(h),null;case 26:var E=h.type,O=h.memoizedState;return A===null?(zA(h),O!==null?(xa(h),uF(h,O)):(xa(h),J5(h,E,null,b,x))):O?O!==A.memoizedState?(zA(h),xa(h),uF(h,O)):(xa(h),h.flags&=-16777217):(A=A.memoizedProps,A!==b&&zA(h),xa(h),J5(h,E,A,b,x)),null;case 27:if(Oe(h),x=J.current,E=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==b&&zA(h);else{if(!b){if(h.stateNode===null)throw Error(n(166));return xa(h),null}A=K.current,$s(h)?Lg(h):(A=gO(E,b,x),h.stateNode=A,zA(h))}return xa(h),null;case 5:if(Oe(h),E=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==b&&zA(h);else{if(!b){if(h.stateNode===null)throw Error(n(166));return xa(h),null}if(O=K.current,$s(h))Lg(h);else{var Y=v1(J.current);switch(O){case 1:O=Y.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:O=Y.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":O=Y.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":O=Y.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":O=Y.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof b.is=="string"?Y.createElement("select",{is:b.is}):Y.createElement("select"),b.multiple?O.multiple=!0:b.size&&(O.size=b.size);break;default:O=typeof b.is=="string"?Y.createElement(E,{is:b.is}):Y.createElement(E)}}O[he]=h,O[me]=b;e:for(Y=h.child;Y!==null;){if(Y.tag===5||Y.tag===6)O.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===h)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===h)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}h.stateNode=O;e:switch(Oi(O,E,b),E){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&zA(h)}}return xa(h),J5(h,h.type,A===null?null:A.memoizedProps,h.pendingProps,x),null;case 6:if(A&&h.stateNode!=null)A.memoizedProps!==b&&zA(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(n(166));if(A=J.current,$s(h)){if(A=h.stateNode,x=h.memoizedProps,b=null,E=Ks,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}A[he]=h,A=!!(A.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||iO(A.nodeValue,x)),A||Uu(h,!0)}else A=v1(A).createTextNode(b),A[he]=h,h.stateNode=A}return xa(h),null;case 31:if(x=h.memoizedState,A===null||A.memoizedState!==null){if(b=$s(h),x!==null){if(A===null){if(!b)throw Error(n(318));if(A=h.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(557));A[he]=h}else LA(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;xa(h),A=!1}else x=Mg(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=x),A=!0;if(!A)return h.flags&256?(Dn(h),h):(Dn(h),null);if((h.flags&128)!==0)throw Error(n(558))}return xa(h),null;case 13:if(b=h.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(E=$s(h),b!==null&&b.dehydrated!==null){if(A===null){if(!E)throw Error(n(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[he]=h}else LA(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;xa(h),E=!1}else E=Mg(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(Dn(h),h):(Dn(h),null)}return Dn(h),(h.flags&128)!==0?(h.lanes=x,h):(x=b!==null,A=A!==null&&A.memoizedState!==null,x&&(b=h.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool),O=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(O=b.memoizedState.cachePool.pool),O!==E&&(b.flags|=2048)),x!==A&&x&&(h.child.flags|=8192),s1(h,h.updateQueue),xa(h),null);case 4:return ue(),A===null&&vN(h.stateNode.containerInfo),xa(h),null;case 10:return zo(h.type),xa(h),null;case 19:if(F(on),b=h.memoizedState,b===null)return xa(h),null;if(E=(h.flags&128)!==0,O=b.rendering,O===null)if(E)Yg(b,!1);else{if(as!==0||A!==null&&(A.flags&128)!==0)for(A=h.child;A!==null;){if(O=li(A),O!==null){for(h.flags|=128,Yg(b,!1),A=O.updateQueue,h.updateQueue=A,s1(h,A),h.subtreeFlags=0,A=x,x=h.child;x!==null;)Df(x,A),x=x.sibling;return Q(on,on.current&1|2),Xr&&vo(h,b.treeForkCount),h.child}A=A.sibling}b.tail!==null&&Ut()>u1&&(h.flags|=128,E=!0,Yg(b,!1),h.lanes=4194304)}else{if(!E)if(A=li(O),A!==null){if(h.flags|=128,E=!0,A=A.updateQueue,h.updateQueue=A,s1(h,A),Yg(b,!0),b.tail===null&&b.tailMode==="hidden"&&!O.alternate&&!Xr)return xa(h),null}else 2*Ut()-b.renderingStartTime>u1&&x!==536870912&&(h.flags|=128,E=!0,Yg(b,!1),h.lanes=4194304);b.isBackwards?(O.sibling=h.child,h.child=O):(A=b.last,A!==null?A.sibling=O:h.child=O,b.last=O)}return b.tail!==null?(A=b.tail,b.rendering=A,b.tail=A.sibling,b.renderingStartTime=Ut(),A.sibling=null,x=on.current,Q(on,E?x&1|2:x&1),Xr&&vo(h,b.treeForkCount),A):(xa(h),null);case 22:case 23:return Dn(h),hs(),b=h.memoizedState!==null,A!==null?A.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(x&536870912)!==0&&(h.flags&128)===0&&(xa(h),h.subtreeFlags&6&&(h.flags|=8192)):xa(h),x=h.updateQueue,x!==null&&s1(h,x.retryQueue),x=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==x&&(h.flags|=2048),A!==null&&F(le),null;case 24:return x=null,A!==null&&(x=A.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),zo(Ua),xa(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function yW(A,h){switch(bm(h),h.tag){case 1:return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 3:return zo(Ua),ue(),A=h.flags,(A&65536)!==0&&(A&128)===0?(h.flags=A&-65537|128,h):null;case 26:case 27:case 5:return Oe(h),null;case 31:if(h.memoizedState!==null){if(Dn(h),h.alternate===null)throw Error(n(340));LA()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 13:if(Dn(h),A=h.memoizedState,A!==null&&A.dehydrated!==null){if(h.alternate===null)throw Error(n(340));LA()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 19:return F(on),null;case 4:return ue(),null;case 10:return zo(h.type),null;case 22:case 23:return Dn(h),hs(),A!==null&&F(le),A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 24:return zo(Ua),null;case 25:return null;default:return null}}function AF(A,h){switch(bm(h),h.tag){case 3:zo(Ua),ue();break;case 26:case 27:case 5:Oe(h);break;case 4:ue();break;case 31:h.memoizedState!==null&&Dn(h);break;case 13:Dn(h);break;case 19:F(on);break;case 10:zo(h.type);break;case 22:case 23:Dn(h),hs(),A!==null&&F(le);break;case 24:zo(Ua)}}function Xg(A,h){try{var x=h.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var E=b.next;x=E;do{if((x.tag&A)===A){b=void 0;var O=x.create,Y=x.inst;b=O(),Y.destroy=b}x=x.next}while(x!==E)}}catch(ce){In(h,h.return,ce)}}function Ah(A,h,x){try{var b=h.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var O=E.next;b=O;do{if((b.tag&A)===A){var Y=b.inst,ce=Y.destroy;if(ce!==void 0){Y.destroy=void 0,E=h;var Ee=x,Ge=ce;try{Ge()}catch(lt){In(E,Ee,lt)}}}b=b.next}while(b!==O)}}catch(lt){In(h,h.return,lt)}}function dF(A){var h=A.updateQueue;if(h!==null){var x=A.stateNode;try{es(h,x)}catch(b){In(A,A.return,b)}}}function hF(A,h,x){x.props=Qf(A.type,A.memoizedProps),x.state=A.memoizedState;try{x.componentWillUnmount()}catch(b){In(A,h,b)}}function Jg(A,h){try{var x=A.ref;if(x!==null){switch(A.tag){case 26:case 27:case 5:var b=A.stateNode;break;case 30:b=A.stateNode;break;default:b=A.stateNode}typeof x=="function"?A.refCleanup=x(b):x.current=b}}catch(E){In(A,h,E)}}function Wu(A,h){var x=A.ref,b=A.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(E){In(A,h,E)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(E){In(A,h,E)}else x.current=null}function fF(A){var h=A.type,x=A.memoizedProps,b=A.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(E){In(A,A.return,E)}}function Z5(A,h,x){try{var b=A.stateNode;QW(b,A.type,x,h),b[me]=h}catch(E){In(A,A.return,E)}}function mF(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&xh(A.type)||A.tag===4}function eN(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||mF(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&xh(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function tN(A,h,x){var b=A.tag;if(b===5||b===6)A=A.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(A,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(A),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=xl));else if(b!==4&&(b===27&&xh(A.type)&&(x=A.stateNode,h=null),A=A.child,A!==null))for(tN(A,h,x),A=A.sibling;A!==null;)tN(A,h,x),A=A.sibling}function i1(A,h,x){var b=A.tag;if(b===5||b===6)A=A.stateNode,h?x.insertBefore(A,h):x.appendChild(A);else if(b!==4&&(b===27&&xh(A.type)&&(x=A.stateNode),A=A.child,A!==null))for(i1(A,h,x),A=A.sibling;A!==null;)i1(A,h,x),A=A.sibling}function pF(A){var h=A.stateNode,x=A.memoizedProps;try{for(var b=A.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);Oi(h,b,x),h[he]=A,h[me]=x}catch(O){In(A,A.return,O)}}var KA=!1,Fs=!1,rN=!1,gF=typeof WeakSet=="function"?WeakSet:Set,ci=null;function vW(A,h){if(A=A.containerInfo,CN=E1,A=eu(A),ic(A)){if("selectionStart"in A)var x={start:A.selectionStart,end:A.selectionEnd};else e:{x=(x=A.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var E=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{x.nodeType,O.nodeType}catch{x=null;break e}var Y=0,ce=-1,Ee=-1,Ge=0,lt=0,mt=A,Xe=null;t:for(;;){for(var et;mt!==x||E!==0&&mt.nodeType!==3||(ce=Y+E),mt!==O||b!==0&&mt.nodeType!==3||(Ee=Y+b),mt.nodeType===3&&(Y+=mt.nodeValue.length),(et=mt.firstChild)!==null;)Xe=mt,mt=et;for(;;){if(mt===A)break t;if(Xe===x&&++Ge===E&&(ce=Y),Xe===O&&++lt===b&&(Ee=Y),(et=mt.nextSibling)!==null)break;mt=Xe,Xe=mt.parentNode}mt=et}x=ce===-1||Ee===-1?null:{start:ce,end:Ee}}else x=null}x=x||{start:0,end:0}}else x=null;for(NN={focusedElem:A,selectionRange:x},E1=!1,ci=h;ci!==null;)if(h=ci,A=h.child,(h.subtreeFlags&1028)!==0&&A!==null)A.return=h,ci=A;else for(;ci!==null;){switch(h=ci,O=h.alternate,A=h.flags,h.tag){case 0:if((A&4)!==0&&(A=h.updateQueue,A=A!==null?A.events:null,A!==null))for(x=0;x<A.length;x++)E=A[x],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&O!==null){A=void 0,x=h,E=O.memoizedProps,O=O.memoizedState,b=x.stateNode;try{var Jt=Qf(x.type,E);A=b.getSnapshotBeforeUpdate(Jt,O),b.__reactInternalSnapshotBeforeUpdate=A}catch(Br){In(x,x.return,Br)}}break;case 3:if((A&1024)!==0){if(A=h.stateNode.containerInfo,x=A.nodeType,x===9)EN(A);else if(x===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":EN(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=h.sibling,A!==null){A.return=h.return,ci=A;break}ci=h.return}}function xF(A,h,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:VA(A,x),b&4&&Xg(5,x);break;case 1:if(VA(A,x),b&4)if(A=x.stateNode,h===null)try{A.componentDidMount()}catch(Y){In(x,x.return,Y)}else{var E=Qf(x.type,h.memoizedProps);h=h.memoizedState;try{A.componentDidUpdate(E,h,A.__reactInternalSnapshotBeforeUpdate)}catch(Y){In(x,x.return,Y)}}b&64&&dF(x),b&512&&Jg(x,x.return);break;case 3:if(VA(A,x),b&64&&(A=x.updateQueue,A!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{es(A,h)}catch(Y){In(x,x.return,Y)}}break;case 27:h===null&&b&4&&pF(x);case 26:case 5:VA(A,x),h===null&&b&4&&fF(x),b&512&&Jg(x,x.return);break;case 12:VA(A,x);break;case 31:VA(A,x),b&4&&bF(A,x);break;case 13:VA(A,x),b&4&&wF(A,x),b&64&&(A=x.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(x=_W.bind(null,x),WW(A,x))));break;case 22:if(b=x.memoizedState!==null||KA,!b){h=h!==null&&h.memoizedState!==null||Fs,E=KA;var O=Fs;KA=b,(Fs=h)&&!O?qA(A,x,(x.subtreeFlags&8772)!==0):VA(A,x),KA=E,Fs=O}break;case 30:break;default:VA(A,x)}}function yF(A){var h=A.alternate;h!==null&&(A.alternate=null,yF(h)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(h=A.stateNode,h!==null&&yt(h)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Ea=null,$o=!1;function $A(A,h,x){for(x=x.child;x!==null;)vF(A,h,x),x=x.sibling}function vF(A,h,x){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Qt,x)}catch{}switch(x.tag){case 26:Fs||Wu(x,h),$A(A,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Fs||Wu(x,h);var b=Ea,E=$o;xh(x.type)&&(Ea=x.stateNode,$o=!1),$A(A,h,x),ox(x.stateNode),Ea=b,$o=E;break;case 5:Fs||Wu(x,h);case 6:if(b=Ea,E=$o,Ea=null,$A(A,h,x),Ea=b,$o=E,Ea!==null)if($o)try{(Ea.nodeType===9?Ea.body:Ea.nodeName==="HTML"?Ea.ownerDocument.body:Ea).removeChild(x.stateNode)}catch(O){In(x,h,O)}else try{Ea.removeChild(x.stateNode)}catch(O){In(x,h,O)}break;case 18:Ea!==null&&($o?(A=Ea,dO(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,x.stateNode),Vm(A)):dO(Ea,x.stateNode));break;case 4:b=Ea,E=$o,Ea=x.stateNode.containerInfo,$o=!0,$A(A,h,x),Ea=b,$o=E;break;case 0:case 11:case 14:case 15:Ah(2,x,h),Fs||Ah(4,x,h),$A(A,h,x);break;case 1:Fs||(Wu(x,h),b=x.stateNode,typeof b.componentWillUnmount=="function"&&hF(x,h,b)),$A(A,h,x);break;case 21:$A(A,h,x);break;case 22:Fs=(b=Fs)||x.memoizedState!==null,$A(A,h,x),Fs=b;break;default:$A(A,h,x)}}function bF(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{Vm(A)}catch(x){In(h,h.return,x)}}}function wF(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{Vm(A)}catch(x){In(h,h.return,x)}}function bW(A){switch(A.tag){case 31:case 13:case 19:var h=A.stateNode;return h===null&&(h=A.stateNode=new gF),h;case 22:return A=A.stateNode,h=A._retryCache,h===null&&(h=A._retryCache=new gF),h;default:throw Error(n(435,A.tag))}}function o1(A,h){var x=bW(A);h.forEach(function(b){if(!x.has(b)){x.add(b);var E=TW.bind(null,A,b);b.then(E,E)}})}function Vo(A,h){var x=h.deletions;if(x!==null)for(var b=0;b<x.length;b++){var E=x[b],O=A,Y=h,ce=Y;e:for(;ce!==null;){switch(ce.tag){case 27:if(xh(ce.type)){Ea=ce.stateNode,$o=!1;break e}break;case 5:Ea=ce.stateNode,$o=!1;break e;case 3:case 4:Ea=ce.stateNode.containerInfo,$o=!0;break e}ce=ce.return}if(Ea===null)throw Error(n(160));vF(O,Y,E),Ea=null,$o=!1,O=E.alternate,O!==null&&(O.return=null),E.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)CF(h,A),h=h.sibling}var lu=null;function CF(A,h){var x=A.alternate,b=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:Vo(h,A),qo(A),b&4&&(Ah(3,A,A.return),Xg(3,A),Ah(5,A,A.return));break;case 1:Vo(h,A),qo(A),b&512&&(Fs||x===null||Wu(x,x.return)),b&64&&KA&&(A=A.updateQueue,A!==null&&(b=A.callbacks,b!==null&&(x=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var E=lu;if(Vo(h,A),qo(A),b&512&&(Fs||x===null||Wu(x,x.return)),b&4){var O=x!==null?x.memoizedState:null;if(b=A.memoizedState,x===null)if(b===null)if(A.stateNode===null){e:{b=A.type,x=A.memoizedProps,E=E.ownerDocument||E;t:switch(b){case"title":O=E.getElementsByTagName("title")[0],(!O||O[$e]||O[he]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=E.createElement(b),E.head.insertBefore(O,E.querySelector("head > title"))),Oi(O,b,x),O[he]=A,$t(O),b=O;break e;case"link":var Y=CO("link","href",E).get(b+(x.href||""));if(Y){for(var ce=0;ce<Y.length;ce++)if(O=Y[ce],O.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&O.getAttribute("rel")===(x.rel==null?null:x.rel)&&O.getAttribute("title")===(x.title==null?null:x.title)&&O.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){Y.splice(ce,1);break t}}O=E.createElement(b),Oi(O,b,x),E.head.appendChild(O);break;case"meta":if(Y=CO("meta","content",E).get(b+(x.content||""))){for(ce=0;ce<Y.length;ce++)if(O=Y[ce],O.getAttribute("content")===(x.content==null?null:""+x.content)&&O.getAttribute("name")===(x.name==null?null:x.name)&&O.getAttribute("property")===(x.property==null?null:x.property)&&O.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&O.getAttribute("charset")===(x.charSet==null?null:x.charSet)){Y.splice(ce,1);break t}}O=E.createElement(b),Oi(O,b,x),E.head.appendChild(O);break;default:throw Error(n(468,b))}O[he]=A,$t(O),b=O}A.stateNode=b}else NO(E,A.type,A.stateNode);else A.stateNode=wO(E,b,A.memoizedProps);else O!==b?(O===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):O.count--,b===null?NO(E,A.type,A.stateNode):wO(E,b,A.memoizedProps)):b===null&&A.stateNode!==null&&Z5(A,A.memoizedProps,x.memoizedProps)}break;case 27:Vo(h,A),qo(A),b&512&&(Fs||x===null||Wu(x,x.return)),x!==null&&b&4&&Z5(A,A.memoizedProps,x.memoizedProps);break;case 5:if(Vo(h,A),qo(A),b&512&&(Fs||x===null||Wu(x,x.return)),A.flags&32){E=A.stateNode;try{gl(E,"")}catch(Jt){In(A,A.return,Jt)}}b&4&&A.stateNode!=null&&(E=A.memoizedProps,Z5(A,E,x!==null?x.memoizedProps:E)),b&1024&&(rN=!0);break;case 6:if(Vo(h,A),qo(A),b&4){if(A.stateNode===null)throw Error(n(162));b=A.memoizedProps,x=A.stateNode;try{x.nodeValue=b}catch(Jt){In(A,A.return,Jt)}}break;case 3:if(C1=null,E=lu,lu=b1(h.containerInfo),Vo(h,A),lu=E,qo(A),b&4&&x!==null&&x.memoizedState.isDehydrated)try{Vm(h.containerInfo)}catch(Jt){In(A,A.return,Jt)}rN&&(rN=!1,NF(A));break;case 4:b=lu,lu=b1(A.stateNode.containerInfo),Vo(h,A),qo(A),lu=b;break;case 12:Vo(h,A),qo(A);break;case 31:Vo(h,A),qo(A),b&4&&(b=A.updateQueue,b!==null&&(A.updateQueue=null,o1(A,b)));break;case 13:Vo(h,A),qo(A),A.child.flags&8192&&A.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(c1=Ut()),b&4&&(b=A.updateQueue,b!==null&&(A.updateQueue=null,o1(A,b)));break;case 22:E=A.memoizedState!==null;var Ee=x!==null&&x.memoizedState!==null,Ge=KA,lt=Fs;if(KA=Ge||E,Fs=lt||Ee,Vo(h,A),Fs=lt,KA=Ge,qo(A),b&8192)e:for(h=A.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(x===null||Ee||KA||Fs||Hf(A)),x=null,h=A;;){if(h.tag===5||h.tag===26){if(x===null){Ee=x=h;try{if(O=Ee.stateNode,E)Y=O.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{ce=Ee.stateNode;var mt=Ee.memoizedProps.style,Xe=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;ce.style.display=Xe==null||typeof Xe=="boolean"?"":(""+Xe).trim()}}catch(Jt){In(Ee,Ee.return,Jt)}}}else if(h.tag===6){if(x===null){Ee=h;try{Ee.stateNode.nodeValue=E?"":Ee.memoizedProps}catch(Jt){In(Ee,Ee.return,Jt)}}}else if(h.tag===18){if(x===null){Ee=h;try{var et=Ee.stateNode;E?hO(et,!0):hO(Ee.stateNode,!1)}catch(Jt){In(Ee,Ee.return,Jt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===A)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break e;for(;h.sibling===null;){if(h.return===null||h.return===A)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=A.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,o1(A,x))));break;case 19:Vo(h,A),qo(A),b&4&&(b=A.updateQueue,b!==null&&(A.updateQueue=null,o1(A,b)));break;case 30:break;case 21:break;default:Vo(h,A),qo(A)}}function qo(A){var h=A.flags;if(h&2){try{for(var x,b=A.return;b!==null;){if(mF(b)){x=b;break}b=b.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var E=x.stateNode,O=eN(A);i1(A,O,E);break;case 5:var Y=x.stateNode;x.flags&32&&(gl(Y,""),x.flags&=-33);var ce=eN(A);i1(A,ce,Y);break;case 3:case 4:var Ee=x.stateNode.containerInfo,Ge=eN(A);tN(A,Ge,Ee);break;default:throw Error(n(161))}}catch(lt){In(A,A.return,lt)}A.flags&=-3}h&4096&&(A.flags&=-4097)}function NF(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var h=A;NF(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),A=A.sibling}}function VA(A,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)xF(A,h.alternate,h),h=h.sibling}function Hf(A){for(A=A.child;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 14:case 15:Ah(4,h,h.return),Hf(h);break;case 1:Wu(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&hF(h,h.return,x),Hf(h);break;case 27:ox(h.stateNode);case 26:case 5:Wu(h,h.return),Hf(h);break;case 22:h.memoizedState===null&&Hf(h);break;case 30:Hf(h);break;default:Hf(h)}A=A.sibling}}function qA(A,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,E=A,O=h,Y=O.flags;switch(O.tag){case 0:case 11:case 15:qA(E,O,x),Xg(4,O);break;case 1:if(qA(E,O,x),b=O,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ge){In(b,b.return,Ge)}if(b=O,E=b.updateQueue,E!==null){var ce=b.stateNode;try{var Ee=E.shared.hiddenCallbacks;if(Ee!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ee.length;E++)oi(Ee[E],ce)}catch(Ge){In(b,b.return,Ge)}}x&&Y&64&&dF(O),Jg(O,O.return);break;case 27:pF(O);case 26:case 5:qA(E,O,x),x&&b===null&&Y&4&&fF(O),Jg(O,O.return);break;case 12:qA(E,O,x);break;case 31:qA(E,O,x),x&&Y&4&&bF(E,O);break;case 13:qA(E,O,x),x&&Y&4&&wF(E,O);break;case 22:O.memoizedState===null&&qA(E,O,x),Jg(O,O.return);break;case 30:break;default:qA(E,O,x)}h=h.sibling}}function nN(A,h){var x=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==x&&(A!=null&&A.refCount++,x!=null&&Lf(x))}function aN(A,h){A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&Lf(A))}function cu(A,h,x,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)SF(A,h,x,b),h=h.sibling}function SF(A,h,x,b){var E=h.flags;switch(h.tag){case 0:case 11:case 15:cu(A,h,x,b),E&2048&&Xg(9,h);break;case 1:cu(A,h,x,b);break;case 3:cu(A,h,x,b),E&2048&&(A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&Lf(A)));break;case 12:if(E&2048){cu(A,h,x,b),A=h.stateNode;try{var O=h.memoizedProps,Y=O.id,ce=O.onPostCommit;typeof ce=="function"&&ce(Y,h.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Ee){In(h,h.return,Ee)}}else cu(A,h,x,b);break;case 31:cu(A,h,x,b);break;case 13:cu(A,h,x,b);break;case 23:break;case 22:O=h.stateNode,Y=h.alternate,h.memoizedState!==null?O._visibility&2?cu(A,h,x,b):Zg(A,h):O._visibility&2?cu(A,h,x,b):(O._visibility|=2,Pm(A,h,x,b,(h.subtreeFlags&10256)!==0||!1)),E&2048&&nN(Y,h);break;case 24:cu(A,h,x,b),E&2048&&aN(h.alternate,h);break;default:cu(A,h,x,b)}}function Pm(A,h,x,b,E){for(E=E&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var O=A,Y=h,ce=x,Ee=b,Ge=Y.flags;switch(Y.tag){case 0:case 11:case 15:Pm(O,Y,ce,Ee,E),Xg(8,Y);break;case 23:break;case 22:var lt=Y.stateNode;Y.memoizedState!==null?lt._visibility&2?Pm(O,Y,ce,Ee,E):Zg(O,Y):(lt._visibility|=2,Pm(O,Y,ce,Ee,E)),E&&Ge&2048&&nN(Y.alternate,Y);break;case 24:Pm(O,Y,ce,Ee,E),E&&Ge&2048&&aN(Y.alternate,Y);break;default:Pm(O,Y,ce,Ee,E)}h=h.sibling}}function Zg(A,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=A,b=h,E=b.flags;switch(b.tag){case 22:Zg(x,b),E&2048&&nN(b.alternate,b);break;case 24:Zg(x,b),E&2048&&aN(b.alternate,b);break;default:Zg(x,b)}h=h.sibling}}var ex=8192;function Im(A,h,x){if(A.subtreeFlags&ex)for(A=A.child;A!==null;)BF(A,h,x),A=A.sibling}function BF(A,h,x){switch(A.tag){case 26:Im(A,h,x),A.flags&ex&&A.memoizedState!==null&&oY(x,lu,A.memoizedState,A.memoizedProps);break;case 5:Im(A,h,x);break;case 3:case 4:var b=lu;lu=b1(A.stateNode.containerInfo),Im(A,h,x),lu=b;break;case 22:A.memoizedState===null&&(b=A.alternate,b!==null&&b.memoizedState!==null?(b=ex,ex=16777216,Im(A,h,x),ex=b):Im(A,h,x));break;default:Im(A,h,x)}}function EF(A){var h=A.alternate;if(h!==null&&(A=h.child,A!==null)){h.child=null;do h=A.sibling,A.sibling=null,A=h;while(A!==null)}}function tx(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];ci=b,_F(b,A)}EF(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)jF(A),A=A.sibling}function jF(A){switch(A.tag){case 0:case 11:case 15:tx(A),A.flags&2048&&Ah(9,A,A.return);break;case 3:tx(A);break;case 12:tx(A);break;case 22:var h=A.stateNode;A.memoizedState!==null&&h._visibility&2&&(A.return===null||A.return.tag!==13)?(h._visibility&=-3,l1(A)):tx(A);break;default:tx(A)}}function l1(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];ci=b,_F(b,A)}EF(A)}for(A=A.child;A!==null;){switch(h=A,h.tag){case 0:case 11:case 15:Ah(8,h,h.return),l1(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,l1(h));break;default:l1(h)}A=A.sibling}}function _F(A,h){for(;ci!==null;){var x=ci;switch(x.tag){case 0:case 11:case 15:Ah(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Lf(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,ci=b;else e:for(x=A;ci!==null;){b=ci;var E=b.sibling,O=b.return;if(yF(b),b===x){ci=null;break e}if(E!==null){E.return=O,ci=E;break e}ci=O}}}var wW={getCacheForType:function(A){var h=Vs(Ua),x=h.data.get(A);return x===void 0&&(x=A(),h.data.set(A,x)),x},cacheSignal:function(){return Vs(Ua).controller.signal}},CW=typeof WeakMap=="function"?WeakMap:Map,En=0,aa=null,Jr=null,en=0,Pn=0,Sl=null,dh=!1,Lm=!1,sN=!1,GA=0,as=0,hh=0,zf=0,iN=0,Bl=0,Mm=0,rx=null,Go=null,oN=!1,c1=0,TF=0,u1=1/0,A1=null,fh=null,Gs=0,mh=null,Rm=null,WA=0,lN=0,cN=null,kF=null,nx=0,uN=null;function El(){return(En&2)!==0&&en!==0?en&-en:W.T!==null?pN():se()}function FF(){if(Bl===0)if((en&536870912)===0||Xr){var A=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),Bl=A}else Bl=536870912;return A=ga.current,A!==null&&(A.flags|=32),Bl}function Wo(A,h,x){(A===aa&&(Pn===2||Pn===9)||A.cancelPendingCommit!==null)&&(Um(A,0),ph(A,en,Bl,!1)),sr(A,x),((En&2)===0||A!==aa)&&(A===aa&&((En&2)===0&&(zf|=x),as===4&&ph(A,en,Bl,!1)),Yu(A))}function OF(A,h,x){if((En&6)!==0)throw Error(n(327));var b=!x&&(h&127)===0&&(h&A.expiredLanes)===0||hn(A,h),E=b?BW(A,h):dN(A,h,!0),O=b;do{if(E===0){Lm&&!b&&ph(A,h,0,!1);break}else{if(x=A.current.alternate,O&&!NW(x)){E=dN(A,h,!1),O=!1;continue}if(E===2){if(O=h,A.errorRecoveryDisabledLanes&O)var Y=0;else Y=A.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){h=Y;e:{var ce=A;E=rx;var Ee=ce.current.memoizedState.isDehydrated;if(Ee&&(Um(ce,Y).flags|=256),Y=dN(ce,Y,!1),Y!==2){if(sN&&!Ee){ce.errorRecoveryDisabledLanes|=O,zf|=O,E=4;break e}O=Go,Go=E,O!==null&&(Go===null?Go=O:Go.push.apply(Go,O))}E=Y}if(O=!1,E!==2)continue}}if(E===1){Um(A,0),ph(A,h,0,!0);break}e:{switch(b=A,O=E,O){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:ph(b,h,Bl,!dh);break e;case 2:Go=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(E=c1+300-Ut(),10<E)){if(ph(b,h,Bl,!dh),It(b,0,!0)!==0)break e;WA=h,b.timeoutHandle=uO(DF.bind(null,b,x,Go,A1,oN,h,Bl,zf,Mm,dh,O,"Throttled",-0,0),E);break e}DF(b,x,Go,A1,oN,h,Bl,zf,Mm,dh,O,null,-0,0)}}break}while(!0);Yu(A)}function DF(A,h,x,b,E,O,Y,ce,Ee,Ge,lt,mt,Xe,et){if(A.timeoutHandle=-1,mt=h.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xl},BF(h,O,mt);var Jt=(O&62914560)===O?c1-Ut():(O&4194048)===O?TF-Ut():0;if(Jt=lY(mt,Jt),Jt!==null){WA=O,A.cancelPendingCommit=Jt(HF.bind(null,A,h,O,x,b,E,Y,ce,Ee,lt,mt,null,Xe,et)),ph(A,O,Y,!Ge);return}}HF(A,h,O,x,b,E,Y,ce,Ee)}function NW(A){for(var h=A;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var E=x[b],O=E.getSnapshot;E=E.value;try{if(!Hs(O(),E))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ph(A,h,x,b){h&=~iN,h&=~zf,A.suspendedLanes|=h,A.pingedLanes&=~h,b&&(A.warmLanes|=h),b=A.expirationTimes;for(var E=h;0<E;){var O=31-ir(E),Y=1<<O;b[O]=-1,E&=~Y}x!==0&&Ya(A,x,h)}function d1(){return(En&6)===0?(ax(0),!1):!0}function AN(){if(Jr!==null){if(Pn===0)var A=Jr.return;else A=Jr,lc=Qu=null,jm(A),pt=null,Zt=0,A=Jr;for(;A!==null;)AF(A.alternate,A),A=A.return;Jr=null}}function Um(A,h){var x=A.timeoutHandle;x!==-1&&(A.timeoutHandle=-1,KW(x)),x=A.cancelPendingCommit,x!==null&&(A.cancelPendingCommit=null,x()),WA=0,AN(),aa=A,Jr=x=Lo(A.current,null),en=h,Pn=0,Sl=null,dh=!1,Lm=hn(A,h),sN=!1,Mm=Bl=iN=zf=hh=as=0,Go=rx=null,oN=!1,(h&8)!==0&&(h|=h&32);var b=A.entangledLanes;if(b!==0)for(A=A.entanglements,b&=h;0<b;){var E=31-ir(b),O=1<<E;h|=A[E],b&=~O}return GA=h,kf(),x}function PF(A,h){gr=null,W.H=Gg,h===_e||h===ge?(h=At(),Pn=3):h===Ke?(h=At(),Pn=4):Pn=h===z5?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Sl=h,Jr===null&&(as=1,t1(A,Mo(h,A.current)))}function IF(){var A=ga.current;return A===null?!0:(en&4194048)===en?un===null:(en&62914560)===en||(en&536870912)!==0?A===un:!1}function LF(){var A=W.H;return W.H=Gg,A===null?Gg:A}function MF(){var A=W.A;return W.A=wW,A}function h1(){as=4,dh||(en&4194048)!==en&&ga.current!==null||(Lm=!0),(hh&134217727)===0&&(zf&134217727)===0||aa===null||ph(aa,en,Bl,!1)}function dN(A,h,x){var b=En;En|=2;var E=LF(),O=MF();(aa!==A||en!==h)&&(A1=null,Um(A,h)),h=!1;var Y=as;e:do try{if(Pn!==0&&Jr!==null){var ce=Jr,Ee=Sl;switch(Pn){case 8:AN(),Y=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(h=!0);var Ge=Pn;if(Pn=0,Sl=null,Qm(A,ce,Ee,Ge),x&&Lm){Y=0;break e}break;default:Ge=Pn,Pn=0,Sl=null,Qm(A,ce,Ee,Ge)}}SW(),Y=as;break}catch(lt){PF(A,lt)}while(!0);return h&&A.shellSuspendCounter++,lc=Qu=null,En=b,W.H=E,W.A=O,Jr===null&&(aa=null,en=0,kf()),Y}function SW(){for(;Jr!==null;)RF(Jr)}function BW(A,h){var x=En;En|=2;var b=LF(),E=MF();aa!==A||en!==h?(A1=null,u1=Ut()+500,Um(A,h)):Lm=hn(A,h);e:do try{if(Pn!==0&&Jr!==null){h=Jr;var O=Sl;t:switch(Pn){case 1:Pn=0,Sl=null,Qm(A,h,O,1);break;case 2:case 9:if(Re(O)){Pn=0,Sl=null,UF(h);break}h=function(){Pn!==2&&Pn!==9||aa!==A||(Pn=7),Yu(A)},O.then(h,h);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:Re(O)?(Pn=0,Sl=null,UF(h)):(Pn=0,Sl=null,Qm(A,h,O,7));break;case 5:var Y=null;switch(Jr.tag){case 26:Y=Jr.memoizedState;case 5:case 27:var ce=Jr;if(Y?SO(Y):ce.stateNode.complete){Pn=0,Sl=null;var Ee=ce.sibling;if(Ee!==null)Jr=Ee;else{var Ge=ce.return;Ge!==null?(Jr=Ge,f1(Ge)):Jr=null}break t}}Pn=0,Sl=null,Qm(A,h,O,5);break;case 6:Pn=0,Sl=null,Qm(A,h,O,6);break;case 8:AN(),as=6;break e;default:throw Error(n(462))}}EW();break}catch(lt){PF(A,lt)}while(!0);return lc=Qu=null,W.H=b,W.A=E,En=x,Jr!==null?0:(aa=null,en=0,kf(),as)}function EW(){for(;Jr!==null&&!wt();)RF(Jr)}function RF(A){var h=cF(A.alternate,A,GA);A.memoizedProps=A.pendingProps,h===null?f1(A):Jr=h}function UF(A){var h=A,x=h.alternate;switch(h.tag){case 15:case 0:h=nF(x,h,h.pendingProps,h.type,void 0,en);break;case 11:h=nF(x,h,h.pendingProps,h.type.render,h.ref,en);break;case 5:jm(h);default:AF(x,h),h=Jr=Df(h,GA),h=cF(x,h,GA)}A.memoizedProps=A.pendingProps,h===null?f1(A):Jr=h}function Qm(A,h,x,b){lc=Qu=null,jm(h),pt=null,Zt=0;var E=h.return;try{if(mW(A,E,h,x,en)){as=1,t1(A,Mo(x,A.current)),Jr=null;return}}catch(O){if(E!==null)throw Jr=E,O;as=1,t1(A,Mo(x,A.current)),Jr=null;return}h.flags&32768?(Xr||b===1?A=!0:Lm||(en&536870912)!==0?A=!1:(dh=A=!0,(b===2||b===9||b===3||b===6)&&(b=ga.current,b!==null&&b.tag===13&&(b.flags|=16384))),QF(h,A)):f1(h)}function f1(A){var h=A;do{if((h.flags&32768)!==0){QF(h,dh);return}A=h.return;var x=xW(h.alternate,h,GA);if(x!==null){Jr=x;return}if(h=h.sibling,h!==null){Jr=h;return}Jr=h=A}while(h!==null);as===0&&(as=5)}function QF(A,h){do{var x=yW(A.alternate,A);if(x!==null){x.flags&=32767,Jr=x;return}if(x=A.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(A=A.sibling,A!==null)){Jr=A;return}Jr=A=x}while(A!==null);as=6,Jr=null}function HF(A,h,x,b,E,O,Y,ce,Ee){A.cancelPendingCommit=null;do m1();while(Gs!==0);if((En&6)!==0)throw Error(n(327));if(h!==null){if(h===A.current)throw Error(n(177));if(O=h.lanes|h.childLanes,O|=fm,wa(A,x,O,Y,ce,Ee),A===aa&&(Jr=aa=null,en=0),Rm=h,mh=A,WA=x,lN=O,cN=E,kF=b,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,kW(ar,function(){return qF(),null})):(A.callbackNode=null,A.callbackPriority=0),b=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||b){b=W.T,W.T=null,E=ee.p,ee.p=2,Y=En,En|=4;try{vW(A,h,x)}finally{En=Y,ee.p=E,W.T=b}}Gs=1,zF(),KF(),$F()}}function zF(){if(Gs===1){Gs=0;var A=mh,h=Rm,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=W.T,W.T=null;var b=ee.p;ee.p=2;var E=En;En|=4;try{CF(h,A);var O=NN,Y=eu(A.containerInfo),ce=O.focusedElem,Ee=O.selectionRange;if(Y!==ce&&ce&&ce.ownerDocument&&Zc(ce.ownerDocument.documentElement,ce)){if(Ee!==null&&ic(ce)){var Ge=Ee.start,lt=Ee.end;if(lt===void 0&&(lt=Ge),"selectionStart"in ce)ce.selectionStart=Ge,ce.selectionEnd=Math.min(lt,ce.value.length);else{var mt=ce.ownerDocument||document,Xe=mt&&mt.defaultView||window;if(Xe.getSelection){var et=Xe.getSelection(),Jt=ce.textContent.length,Br=Math.min(Ee.start,Jt),Yn=Ee.end===void 0?Br:Math.min(Ee.end,Jt);!et.extend&&Br>Yn&&(Y=Yn,Yn=Br,Br=Y);var Le=eh(ce,Br),Te=eh(ce,Yn);if(Le&&Te&&(et.rangeCount!==1||et.anchorNode!==Le.node||et.anchorOffset!==Le.offset||et.focusNode!==Te.node||et.focusOffset!==Te.offset)){var Ve=mt.createRange();Ve.setStart(Le.node,Le.offset),et.removeAllRanges(),Br>Yn?(et.addRange(Ve),et.extend(Te.node,Te.offset)):(Ve.setEnd(Te.node,Te.offset),et.addRange(Ve))}}}}for(mt=[],et=ce;et=et.parentNode;)et.nodeType===1&&mt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<mt.length;ce++){var ft=mt[ce];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}E1=!!CN,NN=CN=null}finally{En=E,ee.p=b,W.T=x}}A.current=h,Gs=2}}function KF(){if(Gs===2){Gs=0;var A=mh,h=Rm,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=W.T,W.T=null;var b=ee.p;ee.p=2;var E=En;En|=4;try{xF(A,h.alternate,h)}finally{En=E,ee.p=b,W.T=x}}Gs=3}}function $F(){if(Gs===4||Gs===3){Gs=0,Bt();var A=mh,h=Rm,x=WA,b=kF;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Gs=5:(Gs=0,Rm=mh=null,VF(A,A.pendingLanes));var E=A.pendingLanes;if(E===0&&(fh=null),Ca(x),h=h.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Qt,h,void 0,(h.current.flags&128)===128)}catch{}if(b!==null){h=W.T,E=ee.p,ee.p=2,W.T=null;try{for(var O=A.onRecoverableError,Y=0;Y<b.length;Y++){var ce=b[Y];O(ce.value,{componentStack:ce.stack})}}finally{W.T=h,ee.p=E}}(WA&3)!==0&&m1(),Yu(A),E=A.pendingLanes,(x&261930)!==0&&(E&42)!==0?A===uN?nx++:(nx=0,uN=A):nx=0,ax(0)}}function VF(A,h){(A.pooledCacheLanes&=h)===0&&(h=A.pooledCache,h!=null&&(A.pooledCache=null,Lf(h)))}function m1(){return zF(),KF(),$F(),qF()}function qF(){if(Gs!==5)return!1;var A=mh,h=lN;lN=0;var x=Ca(WA),b=W.T,E=ee.p;try{ee.p=32>x?32:x,W.T=null,x=cN,cN=null;var O=mh,Y=WA;if(Gs=0,Rm=mh=null,WA=0,(En&6)!==0)throw Error(n(331));var ce=En;if(En|=4,jF(O.current),SF(O,O.current,Y,x),En=ce,ax(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Qt,O)}catch{}return!0}finally{ee.p=E,W.T=b,VF(A,h)}}function GF(A,h,x){h=Mo(x,h),h=H5(A.stateNode,h,2),A=Rr(A,h,2),A!==null&&(sr(A,2),Yu(A))}function In(A,h,x){if(A.tag===3)GF(A,A,x);else for(;h!==null;){if(h.tag===3){GF(h,A,x);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(fh===null||!fh.has(b))){A=Mo(x,A),x=Wk(2),b=Rr(h,x,2),b!==null&&(Yk(x,b,h,A),sr(b,2),Yu(b));break}}h=h.return}}function hN(A,h,x){var b=A.pingCache;if(b===null){b=A.pingCache=new CW;var E=new Set;b.set(h,E)}else E=b.get(h),E===void 0&&(E=new Set,b.set(h,E));E.has(x)||(sN=!0,E.add(x),A=jW.bind(null,A,h,x),h.then(A,A))}function jW(A,h,x){var b=A.pingCache;b!==null&&b.delete(h),A.pingedLanes|=A.suspendedLanes&x,A.warmLanes&=~x,aa===A&&(en&x)===x&&(as===4||as===3&&(en&62914560)===en&&300>Ut()-c1?(En&2)===0&&Um(A,0):iN|=x,Mm===en&&(Mm=0)),Yu(A)}function WF(A,h){h===0&&(h=cs()),A=ru(A,h),A!==null&&(sr(A,h),Yu(A))}function _W(A){var h=A.memoizedState,x=0;h!==null&&(x=h.retryLane),WF(A,x)}function TW(A,h){var x=0;switch(A.tag){case 31:case 13:var b=A.stateNode,E=A.memoizedState;E!==null&&(x=E.retryLane);break;case 19:b=A.stateNode;break;case 22:b=A.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(h),WF(A,x)}function kW(A,h){return Ye(A,h)}var p1=null,Hm=null,fN=!1,g1=!1,mN=!1,gh=0;function Yu(A){A!==Hm&&A.next===null&&(Hm===null?p1=Hm=A:Hm=Hm.next=A),g1=!0,fN||(fN=!0,OW())}function ax(A,h){if(!mN&&g1){mN=!0;do for(var x=!1,b=p1;b!==null;){if(A!==0){var E=b.pendingLanes;if(E===0)var O=0;else{var Y=b.suspendedLanes,ce=b.pingedLanes;O=(1<<31-ir(42|A)+1)-1,O&=E&~(Y&~ce),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(x=!0,ZF(b,O))}else O=en,O=It(b,b===aa?O:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(O&3)===0||hn(b,O)||(x=!0,ZF(b,O));b=b.next}while(x);mN=!1}}function FW(){YF()}function YF(){g1=fN=!1;var A=0;gh!==0&&zW()&&(A=gh);for(var h=Ut(),x=null,b=p1;b!==null;){var E=b.next,O=XF(b,h);O===0?(b.next=null,x===null?p1=E:x.next=E,E===null&&(Hm=x)):(x=b,(A!==0||(O&3)!==0)&&(g1=!0)),b=E}Gs!==0&&Gs!==5||ax(A),gh!==0&&(gh=0)}function XF(A,h){for(var x=A.suspendedLanes,b=A.pingedLanes,E=A.expirationTimes,O=A.pendingLanes&-62914561;0<O;){var Y=31-ir(O),ce=1<<Y,Ee=E[Y];Ee===-1?((ce&x)===0||(ce&b)!==0)&&(E[Y]=Tr(ce,h)):Ee<=h&&(A.expiredLanes|=ce),O&=~ce}if(h=aa,x=en,x=It(A,A===h?x:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),b=A.callbackNode,x===0||A===h&&(Pn===2||Pn===9)||A.cancelPendingCommit!==null)return b!==null&&b!==null&&ht(b),A.callbackNode=null,A.callbackPriority=0;if((x&3)===0||hn(A,x)){if(h=x&-x,h===A.callbackPriority)return h;switch(b!==null&&ht(b),Ca(x)){case 2:case 8:x=hr;break;case 32:x=ar;break;case 268435456:x=De;break;default:x=ar}return b=JF.bind(null,A),x=Ye(x,b),A.callbackPriority=h,A.callbackNode=x,h}return b!==null&&b!==null&&ht(b),A.callbackPriority=2,A.callbackNode=null,2}function JF(A,h){if(Gs!==0&&Gs!==5)return A.callbackNode=null,A.callbackPriority=0,null;var x=A.callbackNode;if(m1()&&A.callbackNode!==x)return null;var b=en;return b=It(A,A===aa?b:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),b===0?null:(OF(A,b,h),XF(A,Ut()),A.callbackNode!=null&&A.callbackNode===x?JF.bind(null,A):null)}function ZF(A,h){if(m1())return null;OF(A,h,!0)}function OW(){$W(function(){(En&6)!==0?Ye(ur,FW):YF()})}function pN(){if(gh===0){var A=N;A===0&&(A=or,or<<=1,(or&261888)===0&&(or=256)),gh=A}return gh}function eO(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Wi(""+A)}function tO(A,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,A.id&&x.setAttribute("form",A.id),h.parentNode.insertBefore(x,h),A=new FormData(A),x.parentNode.removeChild(x),A}function DW(A,h,x,b,E){if(h==="submit"&&x&&x.stateNode===E){var O=eO((E[me]||null).action),Y=b.submitter;Y&&(h=(h=Y[me]||null)?eO(h.formAction):Y.getAttribute("formAction"),h!==null&&(O=h,Y=null));var ce=new Do("action","action",null,b,E);A.push({event:ce,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(gh!==0){var Ee=Y?tO(E,Y):new FormData(E);I5(x,{pending:!0,data:Ee,method:E.method,action:O},null,Ee)}}else typeof O=="function"&&(ce.preventDefault(),Ee=Y?tO(E,Y):new FormData(E),I5(x,{pending:!0,data:Ee,method:E.method,action:O},O,Ee))},currentTarget:E}]})}}for(var gN=0;gN<DA.length;gN++){var xN=DA[gN],PW=xN.toLowerCase(),IW=xN[0].toUpperCase()+xN.slice(1);Io(PW,"on"+IW)}Io(OA,"onAnimationEnd"),Io(_f,"onAnimationIteration"),Io(Og,"onAnimationStart"),Io("dblclick","onDoubleClick"),Io("focusin","onFocus"),Io("focusout","onBlur"),Io(Hv,"onTransitionRun"),Io(zv,"onTransitionStart"),Io(Kv,"onTransitionCancel"),Io(Dg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sx));function rO(A,h){h=(h&4)!==0;for(var x=0;x<A.length;x++){var b=A[x],E=b.event;b=b.listeners;e:{var O=void 0;if(h)for(var Y=b.length-1;0<=Y;Y--){var ce=b[Y],Ee=ce.instance,Ge=ce.currentTarget;if(ce=ce.listener,Ee!==O&&E.isPropagationStopped())break e;O=ce,E.currentTarget=Ge;try{O(E)}catch(lt){Tf(lt)}E.currentTarget=null,O=Ee}else for(Y=0;Y<b.length;Y++){if(ce=b[Y],Ee=ce.instance,Ge=ce.currentTarget,ce=ce.listener,Ee!==O&&E.isPropagationStopped())break e;O=ce,E.currentTarget=Ge;try{O(E)}catch(lt){Tf(lt)}E.currentTarget=null,O=Ee}}}}function Zr(A,h){var x=h[Ue];x===void 0&&(x=h[Ue]=new Set);var b=A+"__bubble";x.has(b)||(nO(h,A,2,!1),x.add(b))}function yN(A,h,x){var b=0;h&&(b|=4),nO(x,A,b,h)}var x1="_reactListening"+Math.random().toString(36).slice(2);function vN(A){if(!A[x1]){A[x1]=!0,Nn.forEach(function(x){x!=="selectionchange"&&(LW.has(x)||yN(x,!1,A),yN(x,!0,A))});var h=A.nodeType===9?A:A.ownerDocument;h===null||h[x1]||(h[x1]=!0,yN("selectionchange",!1,h))}}function nO(A,h,x,b){switch(FO(h)){case 2:var E=AY;break;case 8:E=dY;break;default:E=PN}x=E.bind(null,h,x,A),E=void 0,!Nf||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),b?E!==void 0?A.addEventListener(h,x,{capture:!0,passive:E}):A.addEventListener(h,x,!0):E!==void 0?A.addEventListener(h,x,{passive:E}):A.addEventListener(h,x,!1)}function bN(A,h,x,b,E){var O=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var Y=b.tag;if(Y===3||Y===4){var ce=b.stateNode.containerInfo;if(ce===E)break;if(Y===4)for(Y=b.return;Y!==null;){var Ee=Y.tag;if((Ee===3||Ee===4)&&Y.stateNode.containerInfo===E)return;Y=Y.return}for(;ce!==null;){if(Y=St(ce),Y===null)return;if(Ee=Y.tag,Ee===5||Ee===6||Ee===26||Ee===27){b=O=Y;continue e}ce=ce.parentNode}}b=b.return}cm(function(){var Ge=O,lt=BA(x),mt=[];e:{var Xe=Pg.get(A);if(Xe!==void 0){var et=Do,Jt=A;switch(A){case"keypress":if(Oo(x)===0)break e;case"keydown":case"keyup":et=an;break;case"focusin":Jt="focus",et=$c;break;case"focusout":Jt="blur",et=$c;break;case"beforeblur":case"afterblur":et=$c;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=As;break;case OA:case _f:case Og:et=R;break;case Dg:et=Qs;break;case"scroll":case"scrollend":et=qd;break;case"wheel":et=yl;break;case"copy":case"cut":case"paste":et=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=La;break;case"toggle":case"beforetoggle":et=Bf}var Br=(h&4)!==0,Yn=!Br&&(A==="scroll"||A==="scrollend"),Le=Br?Xe!==null?Xe+"Capture":null:Xe;Br=[];for(var Te=Ge,Ve;Te!==null;){var ft=Te;if(Ve=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||Ve===null||Le===null||(ft=mo(Te,Le),ft!=null&&Br.push(ix(Te,ft,Ve))),Yn)break;Te=Te.return}0<Br.length&&(Xe=new et(Xe,Jt,null,x,lt),mt.push({event:Xe,listeners:Br}))}}if((h&7)===0){e:{if(Xe=A==="mouseover"||A==="pointerover",et=A==="mouseout"||A==="pointerout",Xe&&x!==Rc&&(Jt=x.relatedTarget||x.fromElement)&&(St(Jt)||Jt[we]))break e;if((et||Xe)&&(Xe=lt.window===lt?lt:(Xe=lt.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,et?(Jt=x.relatedTarget||x.toElement,et=Ge,Jt=Jt?St(Jt):null,Jt!==null&&(Yn=s(Jt),Br=Jt.tag,Jt!==Yn||Br!==5&&Br!==27&&Br!==6)&&(Jt=null)):(et=null,Jt=Ge),et!==Jt)){if(Br=Sf,ft="onMouseLeave",Le="onMouseEnter",Te="mouse",(A==="pointerout"||A==="pointerover")&&(Br=La,ft="onPointerLeave",Le="onPointerEnter",Te="pointer"),Yn=et==null?Xe:Ct(et),Ve=Jt==null?Xe:Ct(Jt),Xe=new Br(ft,Te+"leave",et,x,lt),Xe.target=Yn,Xe.relatedTarget=Ve,ft=null,St(lt)===Ge&&(Br=new Br(Le,Te+"enter",Jt,x,lt),Br.target=Ve,Br.relatedTarget=Yn,ft=Br),Yn=ft,et&&Jt)t:{for(Br=MW,Le=et,Te=Jt,Ve=0,ft=Le;ft;ft=Br(ft))Ve++;ft=0;for(var br=Te;br;br=Br(br))ft++;for(;0<Ve-ft;)Le=Br(Le),Ve--;for(;0<ft-Ve;)Te=Br(Te),ft--;for(;Ve--;){if(Le===Te||Te!==null&&Le===Te.alternate){Br=Le;break t}Le=Br(Le),Te=Br(Te)}Br=null}else Br=null;et!==null&&aO(mt,Xe,et,Br,!1),Jt!==null&&Yn!==null&&aO(mt,Yn,Jt,Br,!0)}}e:{if(Xe=Ge?Ct(Ge):window,et=Xe.nodeName&&Xe.nodeName.toLowerCase(),et==="select"||et==="input"&&Xe.type==="file")var xn=Lu;else if(Ef(Xe))if(Yi)xn=ac;else{xn=Ma;var cr=Jd}else et=Xe.nodeName,!et||et.toLowerCase()!=="input"||Xe.type!=="checkbox"&&Xe.type!=="radio"?Ge&&bf(Ge.elementType)&&(xn=Lu):xn=hm;if(xn&&(xn=xn(A,Ge))){go(mt,xn,x,lt);break e}cr&&cr(A,Xe,Ge),A==="focusout"&&Ge&&Xe.type==="number"&&Ge.memoizedProps.value!=null&&xf(Xe,"number",Xe.value)}switch(cr=Ge?Ct(Ge):window,A){case"focusin":(Ef(cr)||cr.contentEditable==="true")&&(xo=cr,tu=Ge,ai=null);break;case"focusout":ai=tu=xo=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,mn(mt,x,lt);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":mn(mt,x,lt)}var Hr;if(ec)e:{switch(A){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else tc?Iu(A,x)&&(tn="onCompositionEnd"):A==="keydown"&&x.keyCode===229&&(tn="onCompositionStart");tn&&(Gc&&x.locale!=="ko"&&(tc||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&tc&&(Hr=um()):(po=lt,jA="value"in po?po.value:po.textContent,tc=!0)),cr=y1(Ge,tn),0<cr.length&&(tn=new Ie(tn,A,null,x,lt),mt.push({event:tn,listeners:cr}),Hr?tn.data=Hr:(Hr=Wd(x),Hr!==null&&(tn.data=Hr)))),(Hr=kA?ji(A,x):Wc(A,x))&&(tn=y1(Ge,"onBeforeInput"),0<tn.length&&(cr=new Ie("onBeforeInput","beforeinput",null,x,lt),mt.push({event:cr,listeners:tn}),cr.data=Hr)),DW(mt,A,Ge,x,lt)}rO(mt,h)})}function ix(A,h,x){return{instance:A,listener:h,currentTarget:x}}function y1(A,h){for(var x=h+"Capture",b=[];A!==null;){var E=A,O=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||O===null||(E=mo(A,x),E!=null&&b.unshift(ix(A,E,O)),E=mo(A,h),E!=null&&b.push(ix(A,E,O))),A.tag===3)return b;A=A.return}return[]}function MW(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function aO(A,h,x,b,E){for(var O=h._reactName,Y=[];x!==null&&x!==b;){var ce=x,Ee=ce.alternate,Ge=ce.stateNode;if(ce=ce.tag,Ee!==null&&Ee===b)break;ce!==5&&ce!==26&&ce!==27||Ge===null||(Ee=Ge,E?(Ge=mo(x,O),Ge!=null&&Y.unshift(ix(x,Ge,Ee))):E||(Ge=mo(x,O),Ge!=null&&Y.push(ix(x,Ge,Ee)))),x=x.return}Y.length!==0&&A.push({event:h,listeners:Y})}var RW=/\r\n?/g,UW=/\u0000|\uFFFD/g;function sO(A){return(typeof A=="string"?A:""+A).replace(RW,`
`).replace(UW,"")}function iO(A,h){return h=sO(h),sO(A)===h}function Wn(A,h,x,b,E,O){switch(x){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||gl(A,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&gl(A,""+b);break;case"className":Mc(A,"class",b);break;case"tabIndex":Mc(A,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Mc(A,x,b);break;case"style":im(A,b,O);break;case"data":if(h!=="object"){Mc(A,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||x!=="href")){A.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){A.removeAttribute(x);break}b=Wi(""+b),A.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){A.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(x==="formAction"?(h!=="input"&&Wn(A,h,"name",E.name,E,null),Wn(A,h,"formEncType",E.formEncType,E,null),Wn(A,h,"formMethod",E.formMethod,E,null),Wn(A,h,"formTarget",E.formTarget,E,null)):(Wn(A,h,"encType",E.encType,E,null),Wn(A,h,"method",E.method,E,null),Wn(A,h,"target",E.target,E,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){A.removeAttribute(x);break}b=Wi(""+b),A.setAttribute(x,b);break;case"onClick":b!=null&&(A.onclick=xl);break;case"onScroll":b!=null&&Zr("scroll",A);break;case"onScrollEnd":b!=null&&Zr("scrollend",A);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(x=b.__html,x!=null){if(E.children!=null)throw Error(n(60));A.innerHTML=x}}break;case"multiple":A.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":A.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){A.removeAttribute("xlink:href");break}x=Wi(""+b),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?A.setAttribute(x,""+b):A.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?A.setAttribute(x,""):A.removeAttribute(x);break;case"capture":case"download":b===!0?A.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?A.setAttribute(x,b):A.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?A.setAttribute(x,b):A.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?A.removeAttribute(x):A.setAttribute(x,b);break;case"popover":Zr("beforetoggle",A),Zr("toggle",A),ha(A,"popover",b);break;case"xlinkActuate":pl(A,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":pl(A,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":pl(A,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":pl(A,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":pl(A,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":pl(A,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":pl(A,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":pl(A,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":pl(A,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ha(A,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=wf.get(x)||x,ha(A,x,b))}}function wN(A,h,x,b,E,O){switch(x){case"style":im(A,b,O);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(x=b.__html,x!=null){if(E.children!=null)throw Error(n(60));A.innerHTML=x}}break;case"children":typeof b=="string"?gl(A,b):(typeof b=="number"||typeof b=="bigint")&&gl(A,""+b);break;case"onScroll":b!=null&&Zr("scroll",A);break;case"onScrollEnd":b!=null&&Zr("scrollend",A);break;case"onClick":b!=null&&(A.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(E=x.endsWith("Capture"),h=x.slice(2,E?x.length-7:void 0),O=A[me]||null,O=O!=null?O[x]:null,typeof O=="function"&&A.removeEventListener(h,O,E),typeof b=="function")){typeof O!="function"&&O!==null&&(x in A?A[x]=null:A.hasAttribute(x)&&A.removeAttribute(x)),A.addEventListener(h,b,E);break e}x in A?A[x]=b:b===!0?A.setAttribute(x,""):ha(A,x,b)}}}function Oi(A,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zr("error",A),Zr("load",A);var b=!1,E=!1,O;for(O in x)if(x.hasOwnProperty(O)){var Y=x[O];if(Y!=null)switch(O){case"src":b=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Wn(A,h,O,Y,x,null)}}E&&Wn(A,h,"srcSet",x.srcSet,x,null),b&&Wn(A,h,"src",x.src,x,null);return;case"input":Zr("invalid",A);var ce=O=Y=E=null,Ee=null,Ge=null;for(b in x)if(x.hasOwnProperty(b)){var lt=x[b];if(lt!=null)switch(b){case"name":E=lt;break;case"type":Y=lt;break;case"checked":Ee=lt;break;case"defaultChecked":Ge=lt;break;case"value":O=lt;break;case"defaultValue":ce=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,h));break;default:Wn(A,h,b,lt,x,null)}}am(A,O,ce,Ee,Ge,Y,E,!1);return;case"select":Zr("invalid",A),b=Y=O=null;for(E in x)if(x.hasOwnProperty(E)&&(ce=x[E],ce!=null))switch(E){case"value":O=ce;break;case"defaultValue":Y=ce;break;case"multiple":b=ce;default:Wn(A,h,E,ce,x,null)}h=O,x=Y,A.multiple=!!b,h!=null?Ei(A,!!b,h,!1):x!=null&&Ei(A,!!b,x,!0);return;case"textarea":Zr("invalid",A),O=E=b=null;for(Y in x)if(x.hasOwnProperty(Y)&&(ce=x[Y],ce!=null))switch(Y){case"value":b=ce;break;case"defaultValue":E=ce;break;case"children":O=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:Wn(A,h,Y,ce,x,null)}vf(A,b,E,O);return;case"option":for(Ee in x)x.hasOwnProperty(Ee)&&(b=x[Ee],b!=null)&&(Ee==="selected"?A.selected=b&&typeof b!="function"&&typeof b!="symbol":Wn(A,h,Ee,b,x,null));return;case"dialog":Zr("beforetoggle",A),Zr("toggle",A),Zr("cancel",A),Zr("close",A);break;case"iframe":case"object":Zr("load",A);break;case"video":case"audio":for(b=0;b<sx.length;b++)Zr(sx[b],A);break;case"image":Zr("error",A),Zr("load",A);break;case"details":Zr("toggle",A);break;case"embed":case"source":case"link":Zr("error",A),Zr("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in x)if(x.hasOwnProperty(Ge)&&(b=x[Ge],b!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Wn(A,h,Ge,b,x,null)}return;default:if(bf(h)){for(lt in x)x.hasOwnProperty(lt)&&(b=x[lt],b!==void 0&&wN(A,h,lt,b,x,void 0));return}}for(ce in x)x.hasOwnProperty(ce)&&(b=x[ce],b!=null&&Wn(A,h,ce,b,x,null))}function QW(A,h,x,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,O=null,Y=null,ce=null,Ee=null,Ge=null,lt=null;for(et in x){var mt=x[et];if(x.hasOwnProperty(et)&&mt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Ee=mt;default:b.hasOwnProperty(et)||Wn(A,h,et,null,b,mt)}}for(var Xe in b){var et=b[Xe];if(mt=x[Xe],b.hasOwnProperty(Xe)&&(et!=null||mt!=null))switch(Xe){case"type":O=et;break;case"name":E=et;break;case"checked":Ge=et;break;case"defaultChecked":lt=et;break;case"value":Y=et;break;case"defaultValue":ce=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,h));break;default:et!==mt&&Wn(A,h,Xe,et,b,mt)}}Kd(A,Y,ce,Ee,Ge,lt,O,E);return;case"select":et=Y=ce=Xe=null;for(O in x)if(Ee=x[O],x.hasOwnProperty(O)&&Ee!=null)switch(O){case"value":break;case"multiple":et=Ee;default:b.hasOwnProperty(O)||Wn(A,h,O,null,b,Ee)}for(E in b)if(O=b[E],Ee=x[E],b.hasOwnProperty(E)&&(O!=null||Ee!=null))switch(E){case"value":Xe=O;break;case"defaultValue":ce=O;break;case"multiple":Y=O;default:O!==Ee&&Wn(A,h,E,O,b,Ee)}h=ce,x=Y,b=et,Xe!=null?Ei(A,!!x,Xe,!1):!!b!=!!x&&(h!=null?Ei(A,!!x,h,!0):Ei(A,!!x,x?[]:"",!1));return;case"textarea":et=Xe=null;for(ce in x)if(E=x[ce],x.hasOwnProperty(ce)&&E!=null&&!b.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Wn(A,h,ce,null,b,E)}for(Y in b)if(E=b[Y],O=x[Y],b.hasOwnProperty(Y)&&(E!=null||O!=null))switch(Y){case"value":Xe=E;break;case"defaultValue":et=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==O&&Wn(A,h,Y,E,b,O)}yf(A,Xe,et);return;case"option":for(var Jt in x)Xe=x[Jt],x.hasOwnProperty(Jt)&&Xe!=null&&!b.hasOwnProperty(Jt)&&(Jt==="selected"?A.selected=!1:Wn(A,h,Jt,null,b,Xe));for(Ee in b)Xe=b[Ee],et=x[Ee],b.hasOwnProperty(Ee)&&Xe!==et&&(Xe!=null||et!=null)&&(Ee==="selected"?A.selected=Xe&&typeof Xe!="function"&&typeof Xe!="symbol":Wn(A,h,Ee,Xe,b,et));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Br in x)Xe=x[Br],x.hasOwnProperty(Br)&&Xe!=null&&!b.hasOwnProperty(Br)&&Wn(A,h,Br,null,b,Xe);for(Ge in b)if(Xe=b[Ge],et=x[Ge],b.hasOwnProperty(Ge)&&Xe!==et&&(Xe!=null||et!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(n(137,h));break;default:Wn(A,h,Ge,Xe,b,et)}return;default:if(bf(h)){for(var Yn in x)Xe=x[Yn],x.hasOwnProperty(Yn)&&Xe!==void 0&&!b.hasOwnProperty(Yn)&&wN(A,h,Yn,void 0,b,Xe);for(lt in b)Xe=b[lt],et=x[lt],!b.hasOwnProperty(lt)||Xe===et||Xe===void 0&&et===void 0||wN(A,h,lt,Xe,b,et);return}}for(var Le in x)Xe=x[Le],x.hasOwnProperty(Le)&&Xe!=null&&!b.hasOwnProperty(Le)&&Wn(A,h,Le,null,b,Xe);for(mt in b)Xe=b[mt],et=x[mt],!b.hasOwnProperty(mt)||Xe===et||Xe==null&&et==null||Wn(A,h,mt,Xe,b,et)}function oO(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HW(){if(typeof performance.getEntriesByType=="function"){for(var A=0,h=0,x=performance.getEntriesByType("resource"),b=0;b<x.length;b++){var E=x[b],O=E.transferSize,Y=E.initiatorType,ce=E.duration;if(O&&ce&&oO(Y)){for(Y=0,ce=E.responseEnd,b+=1;b<x.length;b++){var Ee=x[b],Ge=Ee.startTime;if(Ge>ce)break;var lt=Ee.transferSize,mt=Ee.initiatorType;lt&&oO(mt)&&(Ee=Ee.responseEnd,Y+=lt*(Ee<ce?1:(ce-Ge)/(Ee-Ge)))}if(--b,h+=8*(O+Y)/(E.duration/1e3),A++,10<A)break}}if(0<A)return h/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var CN=null,NN=null;function v1(A){return A.nodeType===9?A:A.ownerDocument}function lO(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cO(A,h){if(A===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&h==="foreignObject"?0:A}function SN(A,h){return A==="textarea"||A==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var BN=null;function zW(){var A=window.event;return A&&A.type==="popstate"?A===BN?!1:(BN=A,!0):(BN=null,!1)}var uO=typeof setTimeout=="function"?setTimeout:void 0,KW=typeof clearTimeout=="function"?clearTimeout:void 0,AO=typeof Promise=="function"?Promise:void 0,$W=typeof queueMicrotask=="function"?queueMicrotask:typeof AO<"u"?function(A){return AO.resolve(null).then(A).catch(VW)}:uO;function VW(A){setTimeout(function(){throw A})}function xh(A){return A==="head"}function dO(A,h){var x=h,b=0;do{var E=x.nextSibling;if(A.removeChild(x),E&&E.nodeType===8)if(x=E.data,x==="/$"||x==="/&"){if(b===0){A.removeChild(E),Vm(h);return}b--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")b++;else if(x==="html")ox(A.ownerDocument.documentElement);else if(x==="head"){x=A.ownerDocument.head,ox(x);for(var O=x.firstChild;O;){var Y=O.nextSibling,ce=O.nodeName;O[$e]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&O.rel.toLowerCase()==="stylesheet"||x.removeChild(O),O=Y}}else x==="body"&&ox(A.ownerDocument.body);x=E}while(x);Vm(h)}function hO(A,h){var x=A;A=0;do{var b=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),b&&b.nodeType===8)if(x=b.data,x==="/$"){if(A===0)break;A--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||A++;x=b}while(x)}function EN(A){var h=A.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":EN(x),yt(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}A.removeChild(x)}}function qW(A,h,x,b){for(;A.nodeType===1;){var E=x;if(A.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(b){if(!A[$e])switch(h){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(O=A.getAttribute("rel"),O==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(O!==E.rel||A.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||A.getAttribute("title")!==(E.title==null?null:E.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(O=A.getAttribute("src"),(O!==(E.src==null?null:E.src)||A.getAttribute("type")!==(E.type==null?null:E.type)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&O&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(h==="input"&&A.type==="hidden"){var O=E.name==null?null:""+E.name;if(E.type==="hidden"&&A.getAttribute("name")===O)return A}else return A;if(A=Ac(A.nextSibling),A===null)break}return null}function GW(A,h,x){if(h==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!x||(A=Ac(A.nextSibling),A===null))return null;return A}function fO(A,h){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!h||(A=Ac(A.nextSibling),A===null))return null;return A}function jN(A){return A.data==="$?"||A.data==="$~"}function _N(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function WW(A,h){var x=A.ownerDocument;if(A.data==="$~")A._reactRetry=h;else if(A.data!=="$?"||x.readyState!=="loading")h();else{var b=function(){h(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),A._reactRetry=b}}function Ac(A){for(;A!=null;A=A.nextSibling){var h=A.nodeType;if(h===1||h===3)break;if(h===8){if(h=A.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return A}var TN=null;function mO(A){A=A.nextSibling;for(var h=0;A;){if(A.nodeType===8){var x=A.data;if(x==="/$"||x==="/&"){if(h===0)return Ac(A.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}A=A.nextSibling}return null}function pO(A){A=A.previousSibling;for(var h=0;A;){if(A.nodeType===8){var x=A.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return A;h--}else x!=="/$"&&x!=="/&"||h++}A=A.previousSibling}return null}function gO(A,h,x){switch(h=v1(x),A){case"html":if(A=h.documentElement,!A)throw Error(n(452));return A;case"head":if(A=h.head,!A)throw Error(n(453));return A;case"body":if(A=h.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function ox(A){for(var h=A.attributes;h.length;)A.removeAttributeNode(h[0]);yt(A)}var dc=new Map,xO=new Set;function b1(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var YA=ee.d;ee.d={f:YW,r:XW,D:JW,C:ZW,L:eY,m:tY,X:nY,S:rY,M:aY};function YW(){var A=YA.f(),h=d1();return A||h}function XW(A){var h=kt(A);h!==null&&h.tag===5&&h.type==="form"?Pk(h):YA.r(A)}var zm=typeof document>"u"?null:document;function yO(A,h,x){var b=zm;if(b&&typeof h=="string"&&h){var E=Xa(h);E='link[rel="'+A+'"][href="'+E+'"]',typeof x=="string"&&(E+='[crossorigin="'+x+'"]'),xO.has(E)||(xO.add(E),A={rel:A,crossOrigin:x,href:h},b.querySelector(E)===null&&(h=b.createElement("link"),Oi(h,"link",A),$t(h),b.head.appendChild(h)))}}function JW(A){YA.D(A),yO("dns-prefetch",A,null)}function ZW(A,h){YA.C(A,h),yO("preconnect",A,h)}function eY(A,h,x){YA.L(A,h,x);var b=zm;if(b&&A&&h){var E='link[rel="preload"][as="'+Xa(h)+'"]';h==="image"&&x&&x.imageSrcSet?(E+='[imagesrcset="'+Xa(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(E+='[imagesizes="'+Xa(x.imageSizes)+'"]')):E+='[href="'+Xa(A)+'"]';var O=E;switch(h){case"style":O=Km(A);break;case"script":O=$m(A)}dc.has(O)||(A=f({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:A,as:h},x),dc.set(O,A),b.querySelector(E)!==null||h==="style"&&b.querySelector(lx(O))||h==="script"&&b.querySelector(cx(O))||(h=b.createElement("link"),Oi(h,"link",A),$t(h),b.head.appendChild(h)))}}function tY(A,h){YA.m(A,h);var x=zm;if(x&&A){var b=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+Xa(b)+'"][href="'+Xa(A)+'"]',O=E;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=$m(A)}if(!dc.has(O)&&(A=f({rel:"modulepreload",href:A},h),dc.set(O,A),x.querySelector(E)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(cx(O)))return}b=x.createElement("link"),Oi(b,"link",A),$t(b),x.head.appendChild(b)}}}function rY(A,h,x){YA.S(A,h,x);var b=zm;if(b&&A){var E=jt(b).hoistableStyles,O=Km(A);h=h||"default";var Y=E.get(O);if(!Y){var ce={loading:0,preload:null};if(Y=b.querySelector(lx(O)))ce.loading=5;else{A=f({rel:"stylesheet",href:A,"data-precedence":h},x),(x=dc.get(O))&&kN(A,x);var Ee=Y=b.createElement("link");$t(Ee),Oi(Ee,"link",A),Ee._p=new Promise(function(Ge,lt){Ee.onload=Ge,Ee.onerror=lt}),Ee.addEventListener("load",function(){ce.loading|=1}),Ee.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,w1(Y,h,b)}Y={type:"stylesheet",instance:Y,count:1,state:ce},E.set(O,Y)}}}function nY(A,h){YA.X(A,h);var x=zm;if(x&&A){var b=jt(x).hoistableScripts,E=$m(A),O=b.get(E);O||(O=x.querySelector(cx(E)),O||(A=f({src:A,async:!0},h),(h=dc.get(E))&&FN(A,h),O=x.createElement("script"),$t(O),Oi(O,"link",A),x.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(E,O))}}function aY(A,h){YA.M(A,h);var x=zm;if(x&&A){var b=jt(x).hoistableScripts,E=$m(A),O=b.get(E);O||(O=x.querySelector(cx(E)),O||(A=f({src:A,async:!0,type:"module"},h),(h=dc.get(E))&&FN(A,h),O=x.createElement("script"),$t(O),Oi(O,"link",A),x.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(E,O))}}function vO(A,h,x,b){var E=(E=J.current)?b1(E):null;if(!E)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=Km(x.href),x=jt(E).hoistableStyles,b=x.get(h),b||(b={type:"style",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){A=Km(x.href);var O=jt(E).hoistableStyles,Y=O.get(A);if(Y||(E=E.ownerDocument||E,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(A,Y),(O=E.querySelector(lx(A)))&&!O._p&&(Y.instance=O,Y.state.loading=5),dc.has(A)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},dc.set(A,x),O||sY(E,A,x,Y.state))),h&&b===null)throw Error(n(528,""));return Y}if(h&&b!==null)throw Error(n(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=$m(x),x=jt(E).hoistableScripts,b=x.get(h),b||(b={type:"script",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function Km(A){return'href="'+Xa(A)+'"'}function lx(A){return'link[rel="stylesheet"]['+A+"]"}function bO(A){return f({},A,{"data-precedence":A.precedence,precedence:null})}function sY(A,h,x,b){A.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=A.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),Oi(h,"link",x),$t(h),A.head.appendChild(h))}function $m(A){return'[src="'+Xa(A)+'"]'}function cx(A){return"script[async]"+A}function wO(A,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var b=A.querySelector('style[data-href~="'+Xa(x.href)+'"]');if(b)return h.instance=b,$t(b),b;var E=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(A.ownerDocument||A).createElement("style"),$t(b),Oi(b,"style",E),w1(b,x.precedence,A),h.instance=b;case"stylesheet":E=Km(x.href);var O=A.querySelector(lx(E));if(O)return h.state.loading|=4,h.instance=O,$t(O),O;b=bO(x),(E=dc.get(E))&&kN(b,E),O=(A.ownerDocument||A).createElement("link"),$t(O);var Y=O;return Y._p=new Promise(function(ce,Ee){Y.onload=ce,Y.onerror=Ee}),Oi(O,"link",b),h.state.loading|=4,w1(O,x.precedence,A),h.instance=O;case"script":return O=$m(x.src),(E=A.querySelector(cx(O)))?(h.instance=E,$t(E),E):(b=x,(E=dc.get(O))&&(b=f({},x),FN(b,E)),A=A.ownerDocument||A,E=A.createElement("script"),$t(E),Oi(E,"link",b),A.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,w1(b,x.precedence,A));return h.instance}function w1(A,h,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=b.length?b[b.length-1]:null,O=E,Y=0;Y<b.length;Y++){var ce=b[Y];if(ce.dataset.precedence===h)O=ce;else if(O!==E)break}O?O.parentNode.insertBefore(A,O.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(A,h.firstChild))}function kN(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.title==null&&(A.title=h.title)}function FN(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.integrity==null&&(A.integrity=h.integrity)}var C1=null;function CO(A,h,x){if(C1===null){var b=new Map,E=C1=new Map;E.set(x,b)}else E=C1,b=E.get(x),b||(b=new Map,E.set(x,b));if(b.has(A))return b;for(b.set(A,null),x=x.getElementsByTagName(A),E=0;E<x.length;E++){var O=x[E];if(!(O[$e]||O[he]||A==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=O.getAttribute(h)||"";Y=A+Y;var ce=b.get(Y);ce?ce.push(O):b.set(Y,[O])}}return b}function NO(A,h,x){A=A.ownerDocument||A,A.head.insertBefore(x,h==="title"?A.querySelector("head > title"):null)}function iY(A,h,x){if(x===1||h.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;return h.rel==="stylesheet"?(A=h.disabled,typeof h.precedence=="string"&&A==null):!0;case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function SO(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function oY(A,h,x,b){if(x.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var E=Km(b.href),O=h.querySelector(lx(E));if(O){h=O._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(A.count++,A=N1.bind(A),h.then(A,A)),x.state.loading|=4,x.instance=O,$t(O);return}O=h.ownerDocument||h,b=bO(b),(E=dc.get(E))&&kN(b,E),O=O.createElement("link"),$t(O);var Y=O;Y._p=new Promise(function(ce,Ee){Y.onload=ce,Y.onerror=Ee}),Oi(O,"link",b),x.instance=O}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(A.count++,x=N1.bind(A),h.addEventListener("load",x),h.addEventListener("error",x))}}var ON=0;function lY(A,h){return A.stylesheets&&A.count===0&&B1(A,A.stylesheets),0<A.count||0<A.imgCount?function(x){var b=setTimeout(function(){if(A.stylesheets&&B1(A,A.stylesheets),A.unsuspend){var O=A.unsuspend;A.unsuspend=null,O()}},6e4+h);0<A.imgBytes&&ON===0&&(ON=62500*HW());var E=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&B1(A,A.stylesheets),A.unsuspend)){var O=A.unsuspend;A.unsuspend=null,O()}},(A.imgBytes>ON?50:800)+h);return A.unsuspend=x,function(){A.unsuspend=null,clearTimeout(b),clearTimeout(E)}}:null}function N1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)B1(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var S1=null;function B1(A,h){A.stylesheets=null,A.unsuspend!==null&&(A.count++,S1=new Map,h.forEach(cY,A),S1=null,N1.call(A))}function cY(A,h){if(!(h.state.loading&4)){var x=S1.get(A);if(x)var b=x.get(null);else{x=new Map,S1.set(A,x);for(var E=A.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<E.length;O++){var Y=E[O];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(x.set(Y.dataset.precedence,Y),b=Y)}b&&x.set(null,b)}E=h.instance,Y=E.getAttribute("data-precedence"),O=x.get(Y)||b,O===b&&x.set(null,E),x.set(Y,E),this.count++,b=N1.bind(this),E.addEventListener("load",b),E.addEventListener("error",b),O?O.parentNode.insertBefore(E,O.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(E,A.firstChild)),h.state.loading|=4}}var ux={$$typeof:C,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function uY(A,h,x,b,E,O,Y,ce,Ee){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=O,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function BO(A,h,x,b,E,O,Y,ce,Ee,Ge,lt,mt){return A=new uY(A,h,x,Y,Ee,Ge,lt,mt,ce),h=1,O===!0&&(h|=24),O=ii(3,null,null,h),A.current=O,O.stateNode=A,h=ih(),h.refCount++,A.pooledCache=h,h.refCount++,O.memoizedState={element:b,isDehydrated:x,cache:h},Tt(O),A}function EO(A){return A?(A=zs,A):zs}function jO(A,h,x,b,E,O){E=EO(E),b.context===null?b.context=E:b.pendingContext=E,b=Sr(h),b.payload={element:x},O=O===void 0?null:O,O!==null&&(b.callback=O),x=Rr(A,b,h),x!==null&&(Wo(x,A,h),Sn(x,A,h))}function _O(A,h){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var x=A.retryLane;A.retryLane=x!==0&&x<h?x:h}}function DN(A,h){_O(A,h),(A=A.alternate)&&_O(A,h)}function TO(A){if(A.tag===13||A.tag===31){var h=ru(A,67108864);h!==null&&Wo(h,A,67108864),DN(A,67108864)}}function kO(A){if(A.tag===13||A.tag===31){var h=El();h=Tn(h);var x=ru(A,h);x!==null&&Wo(x,A,h),DN(A,h)}}var E1=!0;function AY(A,h,x,b){var E=W.T;W.T=null;var O=ee.p;try{ee.p=2,PN(A,h,x,b)}finally{ee.p=O,W.T=E}}function dY(A,h,x,b){var E=W.T;W.T=null;var O=ee.p;try{ee.p=8,PN(A,h,x,b)}finally{ee.p=O,W.T=E}}function PN(A,h,x,b){if(E1){var E=IN(b);if(E===null)bN(A,h,b,j1,x),OO(A,b);else if(fY(E,A,h,x,b))b.stopPropagation();else if(OO(A,b),h&4&&-1<hY.indexOf(A)){for(;E!==null;){var O=kt(E);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var Y=Ot(O.pendingLanes);if(Y!==0){var ce=O;for(ce.pendingLanes|=2,ce.entangledLanes|=2;Y;){var Ee=1<<31-ir(Y);ce.entanglements[1]|=Ee,Y&=~Ee}Yu(O),(En&6)===0&&(u1=Ut()+500,ax(0))}}break;case 31:case 13:ce=ru(O,2),ce!==null&&Wo(ce,O,2),d1(),DN(O,2)}if(O=IN(b),O===null&&bN(A,h,b,j1,x),O===E)break;E=O}E!==null&&b.stopPropagation()}else bN(A,h,b,null,x)}}function IN(A){return A=BA(A),LN(A)}var j1=null;function LN(A){if(j1=null,A=St(A),A!==null){var h=s(A);if(h===null)A=null;else{var x=h.tag;if(x===13){if(A=i(h),A!==null)return A;A=null}else if(x===31){if(A=l(h),A!==null)return A;A=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;A=null}else h!==A&&(A=null)}}return j1=A,null}function FO(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case ur:return 2;case hr:return 8;case ar:case ke:return 32;case De:return 268435456;default:return 32}default:return 32}}var MN=!1,yh=null,vh=null,bh=null,Ax=new Map,dx=new Map,wh=[],hY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OO(A,h){switch(A){case"focusin":case"focusout":yh=null;break;case"dragenter":case"dragleave":vh=null;break;case"mouseover":case"mouseout":bh=null;break;case"pointerover":case"pointerout":Ax.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":dx.delete(h.pointerId)}}function hx(A,h,x,b,E,O){return A===null||A.nativeEvent!==O?(A={blockedOn:h,domEventName:x,eventSystemFlags:b,nativeEvent:O,targetContainers:[E]},h!==null&&(h=kt(h),h!==null&&TO(h)),A):(A.eventSystemFlags|=b,h=A.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),A)}function fY(A,h,x,b,E){switch(h){case"focusin":return yh=hx(yh,A,h,x,b,E),!0;case"dragenter":return vh=hx(vh,A,h,x,b,E),!0;case"mouseover":return bh=hx(bh,A,h,x,b,E),!0;case"pointerover":var O=E.pointerId;return Ax.set(O,hx(Ax.get(O)||null,A,h,x,b,E)),!0;case"gotpointercapture":return O=E.pointerId,dx.set(O,hx(dx.get(O)||null,A,h,x,b,E)),!0}return!1}function DO(A){var h=St(A.target);if(h!==null){var x=s(h);if(x!==null){if(h=x.tag,h===13){if(h=i(x),h!==null){A.blockedOn=h,ve(A.priority,function(){kO(x)});return}}else if(h===31){if(h=l(x),h!==null){A.blockedOn=h,ve(A.priority,function(){kO(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){A.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}A.blockedOn=null}function _1(A){if(A.blockedOn!==null)return!1;for(var h=A.targetContainers;0<h.length;){var x=IN(A.nativeEvent);if(x===null){x=A.nativeEvent;var b=new x.constructor(x.type,x);Rc=b,x.target.dispatchEvent(b),Rc=null}else return h=kt(x),h!==null&&TO(h),A.blockedOn=x,!1;h.shift()}return!0}function PO(A,h,x){_1(A)&&x.delete(h)}function mY(){MN=!1,yh!==null&&_1(yh)&&(yh=null),vh!==null&&_1(vh)&&(vh=null),bh!==null&&_1(bh)&&(bh=null),Ax.forEach(PO),dx.forEach(PO)}function T1(A,h){A.blockedOn===h&&(A.blockedOn=null,MN||(MN=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mY)))}var k1=null;function IO(A){k1!==A&&(k1=A,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){k1===A&&(k1=null);for(var h=0;h<A.length;h+=3){var x=A[h],b=A[h+1],E=A[h+2];if(typeof b!="function"){if(LN(b||x)===null)continue;break}var O=kt(x);O!==null&&(A.splice(h,3),h-=3,I5(O,{pending:!0,data:E,method:x.method,action:b},b,E))}}))}function Vm(A){function h(Ee){return T1(Ee,A)}yh!==null&&T1(yh,A),vh!==null&&T1(vh,A),bh!==null&&T1(bh,A),Ax.forEach(h),dx.forEach(h);for(var x=0;x<wh.length;x++){var b=wh[x];b.blockedOn===A&&(b.blockedOn=null)}for(;0<wh.length&&(x=wh[0],x.blockedOn===null);)DO(x),x.blockedOn===null&&wh.shift();if(x=(A.ownerDocument||A).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var E=x[b],O=x[b+1],Y=E[me]||null;if(typeof O=="function")Y||IO(x);else if(Y){var ce=null;if(O&&O.hasAttribute("formAction")){if(E=O,Y=O[me]||null)ce=Y.formAction;else if(LN(E)!==null)continue}else ce=Y.action;typeof ce=="function"?x[b+1]=ce:(x.splice(b,3),b-=3),IO(x)}}}function LO(){function A(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(Y){return E=Y})},focusReset:"manual",scroll:"manual"})}function h(){E!==null&&(E(),E=null),b||setTimeout(x,20)}function x(){if(!b&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,E=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){b=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),E!==null&&(E(),E=null)}}}function RN(A){this._internalRoot=A}F1.prototype.render=RN.prototype.render=function(A){var h=this._internalRoot;if(h===null)throw Error(n(409));var x=h.current,b=El();jO(x,b,A,h,null,null)},F1.prototype.unmount=RN.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var h=A.containerInfo;jO(A.current,2,null,A,null,null),d1(),h[we]=null}};function F1(A){this._internalRoot=A}F1.prototype.unstable_scheduleHydration=function(A){if(A){var h=se();A={blockedOn:null,target:A,priority:h};for(var x=0;x<wh.length&&h!==0&&h<wh[x].priority;x++);wh.splice(x,0,A),x===0&&DO(A)}};var MO=e.version;if(MO!=="19.2.0")throw Error(n(527,MO,"19.2.0"));ee.findDOMNode=function(A){var h=A._reactInternals;if(h===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=u(h),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var pY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O1.isDisabled&&O1.supportsFiber)try{Qt=O1.inject(pY),Nt=O1}catch{}}return mx.createRoot=function(A,h){if(!a(A))throw Error(n(299));var x=!1,b="",E=$k,O=Vk,Y=qk;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError)),h=BO(A,1,!1,null,null,x,b,null,E,O,Y,LO),A[we]=h.current,vN(A),new RN(h)},mx.hydrateRoot=function(A,h,x){if(!a(A))throw Error(n(299));var b=!1,E="",O=$k,Y=Vk,ce=qk,Ee=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(E=x.identifierPrefix),x.onUncaughtError!==void 0&&(O=x.onUncaughtError),x.onCaughtError!==void 0&&(Y=x.onCaughtError),x.onRecoverableError!==void 0&&(ce=x.onRecoverableError),x.formState!==void 0&&(Ee=x.formState)),h=BO(A,1,!0,h,x??null,b,E,Ee,O,Y,ce,LO),h.context=EO(null),x=h.current,b=El(),b=Tn(b),E=Sr(b),E.callback=null,Rr(x,E,b),x=b,h.current.lanes=x,sr(h,x),Yu(h),A[we]=h.current,vN(A),new F1(h)},mx.version="19.2.0",mx}var YO;function EY(){if(YO)return zN.exports;YO=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zN.exports=BY(),zN.exports}var jY=EY();var XO="popstate";function _Y(r={}){function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return KE("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:yy(a)}return kY(e,t,null,r)}function Pa(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TY(){return Math.random().toString(36).substring(2,10)}function JO(r,e){return{usr:r.state,key:r.key,idx:e}}function KE(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?og(e):e,state:t,key:e&&e.key||n||TY()}}function yy({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function og(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function kY(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let v=d(),w=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:w})}function p(v,w){l="PUSH";let S=KE(g.location,v,w);u=d()+1;let C=JO(S,u),j=g.createHref(S);try{i.pushState(C,"",j)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(j)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,w){l="REPLACE";let S=KE(g.location,v,w);u=d();let C=JO(S,u),j=g.createHref(S);i.replaceState(C,"",j),s&&c&&c({action:l,location:g.location,delta:0})}function y(v){return FY(v)}let g={get action(){return l},get location(){return r(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(XO,f),c=v,()=>{a.removeEventListener(XO,f),c=null}},createHref(v){return e(a,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(v){return i.go(v)}};return g}function FY(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Pa(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:yy(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function B8(r,e,t="/"){return OY(r,e,t,!1)}function OY(r,e,t,n){let a=typeof e=="string"?og(e):e,s=vd(a.pathname||"/",t);if(s==null)return null;let i=E8(r);DY(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=$Y(s);l=zY(i[c],u,n)}return l}function E8(r,e=[],t=[],n="",a=!1){let s=(i,l,c=a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Pa(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=dd([n,d.relativePath]),p=t.concat(d);i.children&&i.children.length>0&&(Pa(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),E8(i.children,e,p,f,c)),!(i.path==null&&!i.index)&&e.push({path:f,score:QY(f,i.index),routesMeta:p})};return r.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))s(i,l);else for(let c of j8(i.path))s(i,l,!0,c)}),e}function j8(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=j8(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function DY(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:HY(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var PY=/^:[\w-]+$/,IY=3,LY=2,MY=1,RY=10,UY=-2,ZO=r=>r==="*";function QY(r,e){let t=r.split("/"),n=t.length;return t.some(ZO)&&(n+=UY),e&&(n+=LY),t.filter(a=>!ZO(a)).reduce((a,s)=>a+(PY.test(s)?IY:s===""?MY:RY),n)}function HY(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function zY(r,e,t=!1){let{routesMeta:n}=r,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Ew({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&t&&!n[n.length-1].route.index&&(f=Ew({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:dd([s,f.pathname]),pathnameBase:WY(dd([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=dd([s,f.pathnameBase]))}return i}function Ew(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=KY(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=l[p]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:r}}function KY(r,e=!1,t=!0){zl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function $Y(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vd(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var _8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VY=r=>_8.test(r);function qY(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?og(r):r,s;if(t)if(VY(t))s=t;else{if(t.includes("//")){let i=t;t=t.replace(/\/\/+/g,"/"),zl(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${t}`)}t.startsWith("/")?s=eD(t.substring(1),"/"):s=eD(t,e)}else s=e;return{pathname:s,search:YY(n),hash:XY(a)}}function eD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function qN(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GY(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n_(r){let e=GY(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function a_(r,e,t,n=!1){let a;typeof r=="string"?a=og(r):(a={...r},Pa(!a.pathname||!a.pathname.includes("?"),qN("?","pathname","search",a)),Pa(!a.pathname||!a.pathname.includes("#"),qN("#","pathname","hash",a)),Pa(!a.search||!a.search.includes("#"),qN("#","search","hash",a)));let s=r===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=t;else{let f=e.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=qY(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var dd=r=>r.join("/").replace(/\/\/+/g,"/"),WY=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),YY=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XY=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,JY=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ZY(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function eX(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var T8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function k8(r,e){let t=r;if(typeof t!="string"||!_8.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,a=!1;if(T8)try{let s=new URL(window.location.href),i=t.startsWith("//")?new URL(s.protocol+t):new URL(t),l=vd(i.pathname,e);i.origin===s.origin&&l!=null?t=l+i.search+i.hash:a=!0}catch{zl(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F8=["POST","PUT","PATCH","DELETE"];new Set(F8);var tX=["GET",...F8];new Set(tX);var lg=B.createContext(null);lg.displayName="DataRouter";var tC=B.createContext(null);tC.displayName="DataRouterState";var rX=B.createContext(!1),O8=B.createContext({isTransitioning:!1});O8.displayName="ViewTransition";var nX=B.createContext(new Map);nX.displayName="Fetchers";var aX=B.createContext(null);aX.displayName="Await";var Wl=B.createContext(null);Wl.displayName="Navigation";var Xy=B.createContext(null);Xy.displayName="Location";var Su=B.createContext({outlet:null,matches:[],isDataRoute:!1});Su.displayName="Route";var s_=B.createContext(null);s_.displayName="RouteError";var D8="REACT_ROUTER_ERROR",sX="REDIRECT",iX="ROUTE_ERROR_RESPONSE";function oX(r){if(r.startsWith(`${D8}:${sX}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lX(r){if(r.startsWith(`${D8}:${iX}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new JY(e.status,e.statusText,e.data)}catch{}}function cX(r,{relative:e}={}){Pa(cg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=B.useContext(Wl),{hash:a,pathname:s,search:i}=Jy(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:dd([t,s])),n.createHref({pathname:l,search:i,hash:a})}function cg(){return B.useContext(Xy)!=null}function Dd(){return Pa(cg(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Xy).location}var P8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I8(r){B.useContext(Wl).static||B.useLayoutEffect(r)}function ug(){let{isDataRoute:r}=B.useContext(Su);return r?NX():uX()}function uX(){Pa(cg(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(lg),{basename:e,navigator:t}=B.useContext(Wl),{matches:n}=B.useContext(Su),{pathname:a}=Dd(),s=JSON.stringify(n_(n)),i=B.useRef(!1);return I8(()=>{i.current=!0}),B.useCallback((c,u={})=>{if(zl(i.current,P8),!i.current)return;if(typeof c=="number"){t.go(c);return}let d=a_(c,JSON.parse(s),a,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:dd([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,a,r])}var AX=B.createContext(null);function dX(r){let e=B.useContext(Su).outlet;return B.useMemo(()=>e&&B.createElement(AX.Provider,{value:r},e),[e,r])}function Jy(r,{relative:e}={}){let{matches:t}=B.useContext(Su),{pathname:n}=Dd(),a=JSON.stringify(n_(t));return B.useMemo(()=>a_(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function hX(r,e){return L8(r,e)}function L8(r,e,t,n,a){Pa(cg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(Wl),{matches:i}=B.useContext(Su),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";R8(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Dd(),m;if(e){let S=typeof e=="string"?og(e):e;Pa(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let y=m.pathname||"/",g=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=B8(r,{pathname:g});zl(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),zl(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=xX(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:dd([d,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:dd([d,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),i,t,n,a);return e&&w?B.createElement(Xy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function fX(){let r=CX(),e=ZY(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",r),i=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:s},"ErrorBoundary")," or"," ",B.createElement("code",{style:s},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,i)}var mX=B.createElement(fX,null),M8=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=lX(r.digest);t&&(r=t)}let e=r!==void 0?B.createElement(Su.Provider,{value:this.props.routeContext},B.createElement(s_.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(pX,{error:r},e):e}};M8.contextType=rX;var GN=new WeakMap;function pX({children:r,error:e}){let{basename:t}=B.useContext(Wl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=oX(e.digest);if(n){let a=GN.get(e);if(a)throw a;let s=k8(n.location,t);if(T8&&!GN.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw GN.set(e,i),i}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return r}function gX({routeContext:r,match:e,children:t}){let n=B.useContext(lg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Su.Provider,{value:r},t)}function xX(r,e=[],t=null,n=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,i=t?.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);Pa(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=t,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=t&&n?(d,f)=>{n(d,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:eX(t.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,p)=>{let m,y=!1,g=null,v=null;t&&(m=i&&f.route.id?i[f.route.id]:void 0,g=f.route.errorElement||mX,l&&(c<0&&p===0?(R8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===p&&(y=!0,v=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),S=()=>{let C;return m?C=g:y?C=v:f.route.Component?C=B.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,B.createElement(gX,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?B.createElement(M8,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):S()},null)}function i_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yX(r){let e=B.useContext(lg);return Pa(e,i_(r)),e}function vX(r){let e=B.useContext(tC);return Pa(e,i_(r)),e}function bX(r){let e=B.useContext(Su);return Pa(e,i_(r)),e}function o_(r){let e=bX(r),t=e.matches[e.matches.length-1];return Pa(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function wX(){return o_("useRouteId")}function CX(){let r=B.useContext(s_),e=vX("useRouteError"),t=o_("useRouteError");return r!==void 0?r:e.errors?.[t]}function NX(){let{router:r}=yX("useNavigate"),e=o_("useNavigate"),t=B.useRef(!1);return I8(()=>{t.current=!0}),B.useCallback(async(a,s={})=>{zl(t.current,P8),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var tD={};function R8(r,e,t){!e&&!tD[r]&&(tD[r]=!0,zl(!1,t))}B.memo(SX);function SX({routes:r,future:e,state:t,onError:n}){return L8(r,void 0,t,n,e)}function $E({to:r,replace:e,state:t,relative:n}){Pa(cg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=B.useContext(Wl);zl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=B.useContext(Su),{pathname:i}=Dd(),l=ug(),c=a_(r,n_(s),i,n==="path"),u=JSON.stringify(c);return B.useEffect(()=>{l(JSON.parse(u),{replace:e,state:t,relative:n})},[l,u,n,e,t]),null}function U8(r){return dX(r.context)}function ka(r){Pa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BX({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Pa(!cg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof t=="string"&&(t=og(t));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=t,y=B.useMemo(()=>{let g=vd(u,l);return g==null?null:{location:{pathname:g,search:d,hash:f,state:p,key:m},navigationType:n}},[l,u,d,f,p,m,n]);return zl(y!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:B.createElement(Wl.Provider,{value:c},B.createElement(Xy.Provider,{children:e,value:y}))}function EX({children:r,location:e}){return hX(VE(r),e)}function VE(r,e=[]){let t=[];return B.Children.forEach(r,(n,a)=>{if(!B.isValidElement(n))return;let s=[...e,a];if(n.type===B.Fragment){t.push.apply(t,VE(n.props.children,s));return}Pa(n.type===ka,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=VE(n.props.children,s)),t.push(i)}),t}var sw="get",iw="application/x-www-form-urlencoded";function rC(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function jX(r){return rC(r)&&r.tagName.toLowerCase()==="button"}function _X(r){return rC(r)&&r.tagName.toLowerCase()==="form"}function TX(r){return rC(r)&&r.tagName.toLowerCase()==="input"}function kX(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FX(r,e){return r.button===0&&(!e||e==="_self")&&!kX(r)}function qE(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(a=>[t,a]):[[t,n]])},[]))}function OX(r,e){let t=qE(r);return e&&e.forEach((n,a)=>{t.has(a)||e.getAll(a).forEach(s=>{t.append(a,s)})}),t}var D1=null;function DX(){if(D1===null)try{new FormData(document.createElement("form"),0),D1=!1}catch{D1=!0}return D1}var PX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function WN(r){return r!=null&&!PX.has(r)?(zl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iw}"`),null):r}function IX(r,e){let t,n,a,s,i;if(_X(r)){let l=r.getAttribute("action");n=l?vd(l,e):null,t=r.getAttribute("method")||sw,a=WN(r.getAttribute("enctype"))||iw,s=new FormData(r)}else if(jX(r)||TX(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(n=c?vd(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||sw,a=WN(r.getAttribute("formenctype"))||WN(l.getAttribute("enctype"))||iw,s=new FormData(l,r),!DX()){let{name:u,type:d,value:f}=r;if(d==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(rC(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sw,n=null,a=iw,i=r}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function LX(r,e,t,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&vd(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function MX(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RX(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function UX(r,e,t){let n=await Promise.all(r.map(async a=>{let s=e.routes[a.route.id];if(s){let i=await MX(s,t);return i.links?i.links():[]}return[]}));return KX(n.flat(1).filter(RX).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rD(r,e,t,n,a,s){let i=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,l=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function QX(r,e,{includeHydrateFallback:t}={}){return HX(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function HX(r){return[...new Set(r)]}function zX(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function KX(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let s=JSON.stringify(zX(a));return t.has(s)||(t.add(s),n.push({key:s,link:a})),n},[])}function Q8(){let r=B.useContext(lg);return l_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $X(){let r=B.useContext(tC);return l_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var c_=B.createContext(void 0);c_.displayName="FrameworkContext";function H8(){let r=B.useContext(c_);return l_(r,"You must render this element inside a <HydratedRouter> element"),r}function VX(r,e){let t=B.useContext(c_),[n,a]=B.useState(!1),[s,i]=B.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=B.useRef(null);B.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let g=w=>{w.forEach(S=>{i(S.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[r]),B.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),i(!1)};return t?r!=="intent"?[s,p,{}]:[s,p,{onFocus:px(l,m),onBlur:px(c,y),onMouseEnter:px(u,m),onMouseLeave:px(d,y),onTouchStart:px(f,m)}]:[!1,p,{}]}function px(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function qX({page:r,...e}){let{router:t}=Q8(),n=B.useMemo(()=>B8(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?B.createElement(WX,{page:r,matches:n,...e}):null}function GX(r){let{manifest:e,routeModules:t}=H8(),[n,a]=B.useState([]);return B.useEffect(()=>{let s=!1;return UX(r,e,t).then(i=>{s||a(i)}),()=>{s=!0}},[r,e,t]),n}function WX({page:r,matches:e,...t}){let n=Dd(),{future:a,manifest:s,routeModules:i}=H8(),{basename:l}=Q8(),{loaderData:c,matches:u}=$X(),d=B.useMemo(()=>rD(r,e,u,s,n,"data"),[r,e,u,s,n]),f=B.useMemo(()=>rD(r,e,u,s,n,"assets"),[r,e,u,s,n]),p=B.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let g=new Set,v=!1;if(e.forEach(S=>{let C=s.routes[S.route.id];!C||!C.hasLoader||(!d.some(j=>j.route.id===S.route.id)&&S.route.id in c&&i[S.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:g.add(S.route.id))}),g.size===0)return[];let w=LX(r,l,a.unstable_trailingSlashAwareDataRequests,"data");return v&&g.size>0&&w.searchParams.set("_routes",e.filter(S=>g.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,n,s,d,e,r,i]),m=B.useMemo(()=>QX(f,s),[f,s]),y=GX(f);return B.createElement(B.Fragment,null,p.map(g=>B.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),m.map(g=>B.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),y.map(({key:g,link:v})=>B.createElement("link",{key:g,nonce:t.nonce,...v})))}function YX(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XX&&(window.__reactRouterVersion="7.12.0")}catch{}function JX({basename:r,children:e,unstable_useTransitions:t,window:n}){let a=B.useRef();a.current==null&&(a.current=_Y({window:n,v5Compat:!0}));let s=a.current,[i,l]=B.useState({action:s.action,location:s.location}),c=B.useCallback(u=>{t===!1?l(u):B.startTransition(()=>l(u))},[t]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(BX,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:t})}var z8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K8=B.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},y){let{basename:g,unstable_useTransitions:v}=B.useContext(Wl),w=typeof u=="string"&&z8.test(u),S=k8(u,g);u=S.to;let C=cX(u,{relative:a}),[j,T,L]=VX(n,m),I=tJ(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:v});function D(z){e&&e(z),z.defaultPrevented||I(z)}let k=B.createElement("a",{...m,...L,href:S.absoluteURL||C,onClick:S.isExternal||s?e:D,ref:YX(y,T),target:c,"data-discover":!w&&t==="render"?"true":void 0});return j&&!w?B.createElement(B.Fragment,null,k,B.createElement(qX,{page:C})):k});K8.displayName="Link";var Fh=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let f=Jy(i,{relative:u.relative}),p=Dd(),m=B.useContext(tC),{navigator:y,basename:g}=B.useContext(Wl),v=m!=null&&oJ(f)&&l===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(S=S.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&g&&(C=vd(C,g)||C);const j=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let T=S===w||!a&&S.startsWith(w)&&S.charAt(j)==="/",L=C!=null&&(C===w||!a&&C.startsWith(w)&&C.charAt(w.length)==="/"),I={isActive:T,isPending:L,isTransitioning:v},D=T?e:void 0,k;typeof n=="function"?k=n(I):k=[n,T?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(I):s;return B.createElement(K8,{...u,"aria-current":D,className:k,ref:d,style:z,to:i,viewTransition:l},typeof c=="function"?c(I):c)});Fh.displayName="NavLink";var ZX=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:s,method:i=sw,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},y)=>{let{unstable_useTransitions:g}=B.useContext(Wl),v=sJ(),w=iJ(l,{relative:u}),S=i.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&z8.test(l),j=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let L=T.nativeEvent.submitter,I=L?.getAttribute("formmethod")||i,D=()=>v(L||T.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p});g&&t!==!1?B.startTransition(()=>D()):D()};return B.createElement("form",{ref:y,method:S,action:w,onSubmit:n?c:j,...m,"data-discover":!C&&r==="render"?"true":void 0})});ZX.displayName="Form";function eJ(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $8(r){let e=B.useContext(lg);return Pa(e,eJ(r)),e}function tJ(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=ug(),d=Dd(),f=Jy(r,{relative:s});return B.useCallback(p=>{if(FX(p,e)){p.preventDefault();let m=t!==void 0?t:yy(d)===yy(f),y=()=>u(r,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_defaultShouldRevalidate:l});c?B.startTransition(()=>y()):y()}},[d,u,f,t,n,e,r,a,s,i,l,c])}function rJ(r){zl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(qE(r)),t=B.useRef(!1),n=Dd(),a=B.useMemo(()=>OX(n.search,t.current?null:e.current),[n.search]),s=ug(),i=B.useCallback((l,c)=>{const u=qE(typeof l=="function"?l(new URLSearchParams(a)):l);t.current=!0,s("?"+u,c)},[s,a]);return[a,i]}var nJ=0,aJ=()=>`__${String(++nJ)}__`;function sJ(){let{router:r}=$8("useSubmit"),{basename:e}=B.useContext(Wl),t=wX(),n=r.fetch,a=r.navigate;return B.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=IX(s,e);if(i.navigate===!1){let p=i.fetcherKey||aJ();await n(p,t,i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,e,t])}function iJ(r,{relative:e}={}){let{basename:t}=B.useContext(Wl),n=B.useContext(Su);Pa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Jy(r||".",{relative:e})},i=Dd();if(r==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:dd([t,s.pathname])),yy(s)}function oJ(r,{relative:e}={}){let t=B.useContext(O8);Pa(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=$8("useViewTransitionState"),a=Jy(r,{relative:e});if(!t.isTransitioning)return!1;let s=vd(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=vd(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ew(a.pathname,i)!=null||Ew(a.pathname,s)!=null}var V8=S8();let lJ={data:""},cJ=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||lJ},uJ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AJ=/\/\*[^]*?\*\/|  +/g,nD=/\n+/g,Ih=(r,e)=>{let t="",n="",a="";for(let s in r){let i=r[s];s[0]=="@"?s[1]=="i"?t=s+" "+i+";":n+=s[1]=="f"?Ih(i,s):s+"{"+Ih(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=Ih(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ih.p?Ih.p(s,i):s+":"+i+";")}return t+(e&&a?e+"{"+a+"}":a)+n},XA={},q8=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+q8(r[t]);return e}return r},dJ=(r,e,t,n,a)=>{let s=q8(r),i=XA[s]||(XA[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!XA[i]){let c=s!==r?r:(u=>{let d,f,p=[{}];for(;d=uJ.exec(u.replace(AJ,""));)d[4]?p.shift():d[3]?(f=d[3].replace(nD," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(nD," ").trim();return p[0]})(r);XA[i]=Ih(a?{["@keyframes "+i]:c}:c,t?"":"."+i)}let l=t&&XA.g?XA.g:null;return t&&(XA.g=XA[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(XA[i],e,n,l),i},hJ=(r,e,t)=>r.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Ih(l,""):l===!1?"":l}return n+a+(i??"")},"");function nC(r){let e=this||{},t=r.call?r(e.p):r;return dJ(t.unshift?t.raw?hJ(t,[].slice.call(arguments,1),e.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):t,cJ(e.target),e.g,e.o,e.k)}let G8,GE,WE;nC.bind({g:1});let bd=nC.bind({k:1});function fJ(r,e,t,n){Ih.p=e,G8=r,GE=t,WE=n}function lf(r,e){let t=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;t.p=Object.assign({theme:GE&&GE()},l),t.o=/ *go\d+/.test(c),l.className=nC.apply(t,n)+(c?" "+c:"");let u=r;return r[0]&&(u=l.as||r,delete l.as),WE&&u[0]&&WE(l),G8(u,l)}return a}}var mJ=r=>typeof r=="function",jw=(r,e)=>mJ(r)?r(e):r,pJ=(()=>{let r=0;return()=>(++r).toString()})(),W8=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),gJ=20,u_="default",Y8=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Y8(r,{type:r.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},ow=[],X8={toasts:[],pausedAt:void 0,settings:{toastLimit:gJ}},hA={},J8=(r,e=u_)=>{hA[e]=Y8(hA[e]||X8,r),ow.forEach(([t,n])=>{t===e&&n(hA[e])})},Z8=r=>Object.keys(hA).forEach(e=>J8(r,e)),xJ=r=>Object.keys(hA).find(e=>hA[e].toasts.some(t=>t.id===r)),aC=(r=u_)=>e=>{J8(e,r)},yJ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vJ=(r={},e=u_)=>{let[t,n]=B.useState(hA[e]||X8),a=B.useRef(hA[e]);B.useEffect(()=>(a.current!==hA[e]&&n(hA[e]),ow.push([e,n]),()=>{let i=ow.findIndex(([l])=>l===e);i>-1&&ow.splice(i,1)}),[e]);let s=t.toasts.map(i=>{var l,c,u;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((l=r[i.type])==null?void 0:l.removeDelay)||r?.removeDelay,duration:i.duration||((c=r[i.type])==null?void 0:c.duration)||r?.duration||yJ[i.type],style:{...r.style,...(u=r[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},bJ=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||pJ()}),Zy=r=>(e,t)=>{let n=bJ(e,r,t);return aC(n.toasterId||xJ(n.id))({type:2,toast:n}),n.id},Ce=(r,e)=>Zy("blank")(r,e);Ce.error=Zy("error");Ce.success=Zy("success");Ce.loading=Zy("loading");Ce.custom=Zy("custom");Ce.dismiss=(r,e)=>{let t={type:3,toastId:r};e?aC(e)(t):Z8(t)};Ce.dismissAll=r=>Ce.dismiss(void 0,r);Ce.remove=(r,e)=>{let t={type:4,toastId:r};e?aC(e)(t):Z8(t)};Ce.removeAll=r=>Ce.remove(void 0,r);Ce.promise=(r,e,t)=>{let n=Ce.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let s=e.success?jw(e.success,a):void 0;return s?Ce.success(s,{id:n,...t,...t?.success}):Ce.dismiss(n),a}).catch(a=>{let s=e.error?jw(e.error,a):void 0;s?Ce.error(s,{id:n,...t,...t?.error}):Ce.dismiss(n)}),r};var wJ=1e3,CJ=(r,e="default")=>{let{toasts:t,pausedAt:n}=vJ(r,e),a=B.useRef(new Map).current,s=B.useCallback((f,p=wJ)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),i({type:4,toastId:f})},p);a.set(f,m)},[]);B.useEffect(()=>{if(n)return;let f=Date.now(),p=t.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(y<0){m.visible&&Ce.dismiss(m.id);return}return setTimeout(()=>Ce.dismiss(m.id,e),y)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[t,n,e]);let i=B.useCallback(aC(e),[e]),l=B.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=B.useCallback((f,p)=>{i({type:1,toast:{id:f,height:p}})},[i]),u=B.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=B.useCallback((f,p)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:g}=p||{},v=t.filter(C=>(C.position||g)===(f.position||g)&&C.height),w=v.findIndex(C=>C.id===f.id),S=v.filter((C,j)=>j<w&&C.visible).length;return v.filter(C=>C.visible).slice(...m?[S+1]:[0,S]).reduce((C,j)=>C+(j.height||0)+y,0)},[t]);return B.useEffect(()=>{t.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let p=a.get(f.id);p&&(clearTimeout(p),a.delete(f.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},NJ=bd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SJ=bd`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BJ=bd`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EJ=lf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SJ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BJ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jJ=bd`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_J=lf("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${jJ} 1s linear infinite;
`,TJ=bd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kJ=bd`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FJ=lf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kJ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OJ=lf("div")`
  position: absolute;
`,DJ=lf("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PJ=bd`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IJ=lf("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PJ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,LJ=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?B.createElement(IJ,null,e):e:t==="blank"?null:B.createElement(DJ,null,B.createElement(_J,{...n}),t!=="loading"&&B.createElement(OJ,null,t==="error"?B.createElement(EJ,{...n}):B.createElement(FJ,{...n})))},MJ=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RJ=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,UJ="0%{opacity:0;} 100%{opacity:1;}",QJ="0%{opacity:1;} 100%{opacity:0;}",HJ=lf("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zJ=lf("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KJ=(r,e)=>{let t=r.includes("top")?1:-1,[n,a]=W8()?[UJ,QJ]:[MJ(t),RJ(t)];return{animation:e?`${bd(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bd(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$J=B.memo(({toast:r,position:e,style:t,children:n})=>{let a=r.height?KJ(r.position||e||"top-center",r.visible):{opacity:0},s=B.createElement(LJ,{toast:r}),i=B.createElement(zJ,{...r.ariaProps},jw(r.message,r));return B.createElement(HJ,{className:r.className,style:{...a,...t,...r.style}},typeof n=="function"?n({icon:s,message:i}):B.createElement(B.Fragment,null,s,i))});fJ(B.createElement);var VJ=({id:r,className:e,style:t,onHeightUpdate:n,children:a})=>{let s=B.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return B.createElement("div",{ref:s,className:e,style:t},a)},qJ=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:W8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...a}},GJ=nC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,P1=16,WJ=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:a,toasterId:s,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=CJ(t,s);return B.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:P1,left:P1,right:P1,bottom:P1,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,p=u.calculateOffset(d,{reverseOrder:r,gutter:n,defaultPosition:e}),m=qJ(f,p);return B.createElement(VJ,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?GJ:"",style:m},d.type==="custom"?jw(d.message,d):a?a(d):B.createElement($J,{toast:d,position:f}))}))},Lt=Ce;const YJ=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XJ=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),aD=r=>{const e=XJ(r);return e.charAt(0).toUpperCase()+e.slice(1)},e7=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),JJ=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eZ=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>B.createElement("svg",{ref:c,...ZJ,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:e7("lucide",a),...!s&&!JJ(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>B.createElement(u,d)),...Array.isArray(s)?s:[s]]));const Ft=(r,e)=>{const t=B.forwardRef(({className:n,...a},s)=>B.createElement(eZ,{ref:s,iconNode:e,className:e7(`lucide-${YJ(aD(r))}`,`lucide-${r}`,n),...a}));return t.displayName=aD(r),t};const tZ=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],rZ=Ft("arrow-left-right",tZ);const nZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aZ=Ft("arrow-left",nZ);const sZ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],iZ=Ft("award",sZ);const oZ=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],lZ=Ft("barcode",oZ);const cZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],YE=Ft("bell",cZ);const uZ=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],XE=Ft("box",uZ);const AZ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],wd=Ft("briefcase",AZ);const dZ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],N0=Ft("building-2",dZ);const hZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qi=Ft("calendar",hZ);const fZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sC=Ft("chart-column",fZ);const mZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vy=Ft("check",mZ);const pZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bo=Ft("chevron-down",pZ);const gZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t7=Ft("chevron-left",gZ);const xZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],f0=Ft("chevron-right",xZ);const yZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Cd=Ft("chevron-up",yZ);const vZ=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Yh=Ft("chevrons-up-down",vZ);const bZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cs=Ft("circle-alert",bZ);const wZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],A_=Ft("circle-check",wZ);const CZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$a=Ft("circle-check-big",CZ);const NZ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SZ=Ft("circle-play",NZ);const BZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qx=Ft("circle-x",BZ);const EZ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],r7=Ft("clipboard-list",EZ);const jZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ll=Ft("clock",jZ);const _Z=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TZ=Ft("copy",_Z);const kZ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],d_=Ft("dollar-sign",kZ);const FZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Pd=Ft("download",FZ);const OZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hd=Ft("eye-off",OZ);const DZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vi=Ft("eye",DZ);const PZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],IZ=Ft("file-check",PZ);const LZ=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],MZ=Ft("file-input",LZ);const RZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],UZ=Ft("file-json",RZ);const QZ=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],HZ=Ft("file-question-mark",QZ);const zZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],KZ=Ft("file-spreadsheet",zZ);const $Z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],os=Ft("file-text",$Z);const VZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],qZ=Ft("file",VZ);const GZ=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],S0=Ft("flask-conical",GZ);const WZ=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],pA=Ft("folder-open",WZ);const YZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ev=Ft("funnel",YZ);const XZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],JZ=Ft("globe",XZ);const ZZ=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],h_=Ft("hash",ZZ);const eee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],f_=Ft("house",eee);const tee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_w=Ft("image",tee);const ree=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],nee=Ft("inbox",ree);const aee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],m_=Ft("info",aee);const see=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],sD=Ft("link-2",see);const iee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],n7=Ft("loader-circle",iee);const oee=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],iD=Ft("log-in",oee);const lee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cee=Ft("log-out",lee);const uee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rh=Ft("lock",uee);const Aee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ag=Ft("mail",Aee);const dee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hx=Ft("map-pin",dee);const hee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fee=Ft("menu",hee);const mee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],p_=Ft("monitor",mee);const pee=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Nd=Ft("package",pee);const gee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],xee=Ft("palette",gee);const yee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cl=Ft("pen",yee);const vee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],iC=Ft("phone",vee);const bee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vi=Ft("plus",bee);const wee=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Tw=Ft("qr-code",wee);const Cee=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],a7=Ft("receipt",Cee);const Nee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oC=Ft("refresh-cw",Nee);const See=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s7=Ft("save",See);const Bee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jc=Ft("search",Bee);const Eee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i7=Ft("settings",Eee);const jee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],_ee=Ft("sheet",jee);const Tee=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],o7=Ft("shopping-cart",Tee);const kee=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],l7=Ft("square-pen",kee);const Fee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Oee=Ft("target",Fee);const Dee=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Pee=Ft("toggle-left",Dee);const Iee=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Lee=Ft("toggle-right",Iee);const Mee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ns=Ft("trash-2",Mee);const Ree=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],g_=Ft("trending-up",Ree);const Uee=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xh=Ft("triangle-alert",Uee);const Qee=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ko=Ft("upload",Qee);const Hee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kw=Ft("user-plus",Hee);const zee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qp=Ft("users",zee);const Kee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bu=Ft("user",Kee);const $ee=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Hp=Ft("wrench",$ee);const Vee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ur=Ft("x",Vee);const qee=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Gee=Ft("zoom-in",qee);const Wee=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Yee=Ft("zoom-out",Wee);function c7(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=c7(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function dn(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=c7(r))&&(n&&(n+=" "),n+=e);return n}const x_="-",Xee=r=>{const e=Zee(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:i=>{const l=i.split(x_);return l[0]===""&&l.length!==1&&l.shift(),u7(l,e)||Jee(i)},getConflictingClassGroupIds:(i,l)=>{const c=t[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},u7=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),a=n?u7(r.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=r.join(x_);return e.validators.find(({validator:i})=>i(s))?.classGroupId},oD=/^\[(.+)\]$/,Jee=r=>{if(oD.test(r)){const e=oD.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Zee=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const a in t)JE(t[a],n,a,e);return n},JE=(r,e,t,n)=>{r.forEach(a=>{if(typeof a=="string"){const s=a===""?e:lD(e,a);s.classGroupId=t;return}if(typeof a=="function"){if(ete(a)){JE(a(n),e,t,n);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([s,i])=>{JE(i,lD(e,s),t,n)})})},lD=(r,e)=>{let t=r;return e.split(x_).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},ete=r=>r.isThemeGetter,tte=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const a=(s,i)=>{t.set(s,i),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){t.has(s)?t.set(s,i):a(s,i)}}},ZE="!",e4=":",rte=e4.length,nte=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=a=>{const s=[];let i=0,l=0,c=0,u;for(let y=0;y<a.length;y++){let g=a[y];if(i===0&&l===0){if(g===e4){s.push(a.slice(c,y)),c=y+rte;continue}if(g==="/"){u=y;continue}}g==="["?i++:g==="]"?i--:g==="("?l++:g===")"&&l--}const d=s.length===0?a:a.substring(c),f=ate(d),p=f!==d,m=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}};if(e){const a=e+e4,s=n;n=i=>i.startsWith(a)?s(i.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const a=n;n=s=>t({className:s,parseClassName:a})}return n},ate=r=>r.endsWith(ZE)?r.substring(0,r.length-1):r.startsWith(ZE)?r.substring(1):r,ste=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(a.push(...s.sort(),i),s=[]):s.push(i)}),a.push(...s.sort()),a}},ite=r=>({cache:tte(r.cacheSize),parseClassName:nte(r),sortModifiers:ste(r),...Xee(r)}),ote=/\s+/,lte=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=e,i=[],l=r.trim().split(ote);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=t(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!g,w=n(v?y.substring(0,g):y);if(!w){if(!v){c=d+(c.length>0?" "+c:c);continue}if(w=n(y),!w){c=d+(c.length>0?" "+c:c);continue}v=!1}const S=s(p).join(":"),C=m?S+ZE:S,j=C+w;if(i.includes(j))continue;i.push(j);const T=a(w,v);for(let L=0;L<T.length;++L){const I=T[L];i.push(C+I)}c=d+(c.length>0?" "+c:c)}return c};function cte(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=A7(e))&&(n&&(n+=" "),n+=t);return n}const A7=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=A7(r[n]))&&(t&&(t+=" "),t+=e);return t};function ute(r,...e){let t,n,a,s=i;function i(c){const u=e.reduce((d,f)=>f(d),r());return t=ite(u),n=t.cache.get,a=t.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=lte(c,t);return a(c,d),d}return function(){return s(cte.apply(null,arguments))}}const Ws=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},d7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,h7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ate=/^\d+\/\d+$/,dte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qm=r=>Ate.test(r),qr=r=>!!r&&!Number.isNaN(Number(r)),Nh=r=>!!r&&Number.isInteger(Number(r)),YN=r=>r.endsWith("%")&&qr(r.slice(0,-1)),JA=r=>dte.test(r),gte=()=>!0,xte=r=>hte.test(r)&&!fte.test(r),f7=()=>!1,yte=r=>mte.test(r),vte=r=>pte.test(r),bte=r=>!er(r)&&!tr(r),wte=r=>dg(r,g7,f7),er=r=>d7.test(r),Kf=r=>dg(r,x7,xte),XN=r=>dg(r,Ete,qr),cD=r=>dg(r,m7,f7),Cte=r=>dg(r,p7,vte),I1=r=>dg(r,y7,yte),tr=r=>h7.test(r),gx=r=>hg(r,x7),Nte=r=>hg(r,jte),uD=r=>hg(r,m7),Ste=r=>hg(r,g7),Bte=r=>hg(r,p7),L1=r=>hg(r,y7,!0),dg=(r,e,t)=>{const n=d7.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},hg=(r,e,t=!1)=>{const n=h7.exec(r);return n?n[1]?e(n[1]):t:!1},m7=r=>r==="position"||r==="percentage",p7=r=>r==="image"||r==="url",g7=r=>r==="length"||r==="size"||r==="bg-size",x7=r=>r==="length",Ete=r=>r==="number",jte=r=>r==="family-name",y7=r=>r==="shadow",_te=()=>{const r=Ws("color"),e=Ws("font"),t=Ws("text"),n=Ws("font-weight"),a=Ws("tracking"),s=Ws("leading"),i=Ws("breakpoint"),l=Ws("container"),c=Ws("spacing"),u=Ws("radius"),d=Ws("shadow"),f=Ws("inset-shadow"),p=Ws("text-shadow"),m=Ws("drop-shadow"),y=Ws("blur"),g=Ws("perspective"),v=Ws("aspect"),w=Ws("ease"),S=Ws("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...j(),tr,er],L=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],D=()=>[tr,er,c],k=()=>[qm,"full","auto",...D()],z=()=>[Nh,"none","subgrid",tr,er],P=()=>["auto",{span:["full",Nh,tr,er]},Nh,tr,er],U=()=>[Nh,"auto",tr,er],M=()=>["auto","min","max","fr",tr,er],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...D()],ee=()=>[qm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],re=()=>[r,tr,er],pe=()=>[...j(),uD,cD,{position:[tr,er]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",Ste,wte,{size:[tr,er]}],F=()=>[YN,gx,Kf],Q=()=>["","none","full",u,tr,er],K=()=>["",qr,gx,Kf],V=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[qr,YN,uD,cD],Ne=()=>["","none",y,tr,er],ue=()=>["none",qr,tr,er],xe=()=>["none",qr,tr,er],Oe=()=>[qr,tr,er],Be=()=>[qm,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[JA],breakpoint:[JA],color:[gte],container:[JA],"drop-shadow":[JA],ease:["in","out","in-out"],font:[bte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[JA],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[JA],shadow:[JA],spacing:["px",qr],text:[JA],"text-shadow":[JA],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qm,er,tr,v]}],container:["container"],columns:[{columns:[qr,er,tr,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Nh,"auto",tr,er]}],basis:[{basis:[qm,"full","auto",l,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qr,qm,"auto","initial","none",er]}],grow:[{grow:["",qr,tr,er]}],shrink:[{shrink:["",qr,tr,er]}],order:[{order:[Nh,"first","last","none",tr,er]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[l,"screen",...ee()]}],"min-w":[{"min-w":[l,"screen","none",...ee()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,gx,Kf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,tr,XN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",YN,er]}],"font-family":[{font:[Nte,er,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,tr,er]}],"line-clamp":[{"line-clamp":[qr,"none",tr,XN]}],leading:[{leading:[s,...D()]}],"list-image":[{"list-image":["none",tr,er]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tr,er]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[qr,"from-font","auto",tr,Kf]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[qr,"auto",tr,er]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tr,er]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tr,er]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nh,tr,er],radial:["",tr,er],conic:[Nh,tr,er]},Bte,Cte]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qr,tr,er]}],"outline-w":[{outline:["",qr,gx,Kf]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",d,L1,I1]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",f,L1,I1]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[qr,Kf]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",p,L1,I1]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[qr,tr,er]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qr]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[tr,er]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[qr]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tr,er]}],filter:[{filter:["","none",tr,er]}],blur:[{blur:Ne()}],brightness:[{brightness:[qr,tr,er]}],contrast:[{contrast:[qr,tr,er]}],"drop-shadow":[{"drop-shadow":["","none",m,L1,I1]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",qr,tr,er]}],"hue-rotate":[{"hue-rotate":[qr,tr,er]}],invert:[{invert:["",qr,tr,er]}],saturate:[{saturate:[qr,tr,er]}],sepia:[{sepia:["",qr,tr,er]}],"backdrop-filter":[{"backdrop-filter":["","none",tr,er]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[qr,tr,er]}],"backdrop-contrast":[{"backdrop-contrast":[qr,tr,er]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qr,tr,er]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qr,tr,er]}],"backdrop-invert":[{"backdrop-invert":["",qr,tr,er]}],"backdrop-opacity":[{"backdrop-opacity":[qr,tr,er]}],"backdrop-saturate":[{"backdrop-saturate":[qr,tr,er]}],"backdrop-sepia":[{"backdrop-sepia":["",qr,tr,er]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tr,er]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qr,"initial",tr,er]}],ease:[{ease:["linear","initial",w,tr,er]}],delay:[{delay:[qr,tr,er]}],animate:[{animate:["none",S,tr,er]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,tr,er]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[tr,er,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tr,er]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tr,er]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[qr,gx,Kf,XN]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Tte=ute(_te);function _r(...r){return Tte(dn(r))}function AD(r){return new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(r)}function up(r){if(!r)return"-";const e=new Date(r);return isNaN(e.getTime())?"-":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}const gn={engineer:1,"senior-engineer":2,"principal-engineer":3,manager:3,"managing-director":4,admin:5},dD=r=>{const e=gn[r]||0;return r==="admin"?{canAddProject:!0,canAddResearch:!0,canAddBusinessContact:!0,canAddTimesheet:!0,canExportTimesheet:!0,canAddTeamMember:!0,canEditTeamMember:!0,canDeleteTeamMember:!0,canAddOrRemoveInventory:!0,canAddMaintenanceDates:!0,canAddOrRemovePC:!0,canCheckoutEquipment:!0,canAssignPC:!0,canAccessFinance:!0,canUploadPO:!0,canDeletePO:!0,canApproveInvoices:!0,canEditInvoices:!0,canDeleteInvoices:!0,canViewBaseCost:!0,canViewAnalytics:!0,canManageProjectRates:!0}:{canAddProject:e>=gn["senior-engineer"],canAddResearch:e>=gn.engineer,canAddBusinessContact:e>=gn.engineer,canAddTimesheet:e>=gn.engineer,canExportTimesheet:e>=gn["senior-engineer"],canAddTeamMember:e>=gn["principal-engineer"],canEditTeamMember:e>=gn["principal-engineer"],canDeleteTeamMember:e>=gn["principal-engineer"],canAddOrRemoveInventory:e>=gn.engineer,canAddMaintenanceDates:e>=gn.engineer,canAddOrRemovePC:e>=gn.engineer,canCheckoutEquipment:e>=gn.engineer,canAssignPC:e>=gn.engineer,canAccessFinance:e>=gn["senior-engineer"],canUploadPO:e>=gn["senior-engineer"],canDeletePO:e>=gn["senior-engineer"],canApproveInvoices:e>=gn["managing-director"],canEditInvoices:e>=gn["senior-engineer"],canDeleteInvoices:e>=gn["senior-engineer"],canViewBaseCost:e>=gn["senior-engineer"],canViewAnalytics:e>=gn["senior-engineer"],canManageProjectRates:e>=gn["senior-engineer"]}},kte=r=>{if(r.length===0)return"engineer";if(r.includes("admin"))return"admin";let e=r[0],t=gn[e]||0;for(const n of r){const a=gn[n]||0;a>t&&(t=a,e=n)}return e},lC=r=>{const e=Array.isArray(r)?r:[r];if(e.length===0)return dD("engineer");const t=kte(e);return dD(t)},y_=r=>({engineer:{label:"Engineer",color:"bg-blue-100 text-blue-800 border-blue-200",icon:"",level:gn.engineer},"senior-engineer":{label:"Senior Engineer",color:"bg-purple-100 text-purple-800 border-purple-200",icon:"",level:gn["senior-engineer"]},"principal-engineer":{label:"Principal Engineer",color:"bg-indigo-100 text-indigo-800 border-indigo-200",icon:"",level:gn["principal-engineer"]},manager:{label:"Manager",color:"bg-green-100 text-green-800 border-green-200",icon:"",level:gn.manager},"managing-director":{label:"Managing Director",color:"bg-red-100 text-red-800 border-red-200",icon:"",level:gn["managing-director"]},admin:{label:"Admin",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"",level:gn.admin}})[r],gA=(r,e)=>`This action requires ${y_(e).label} level or higher. Please contact your manager if you need access.`,nl=(r,e)=>lC(r)[e];function v7(r,e){return function(){return r.apply(e,arguments)}}const{toString:Fte}=Object.prototype,{getPrototypeOf:v_}=Object,{iterator:cC,toStringTag:b7}=Symbol,uC=(r=>e=>{const t=Fte.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Bu=r=>(r=r.toLowerCase(),e=>uC(e)===r),AC=r=>e=>typeof e===r,{isArray:fg}=Array,zp=AC("undefined");function tv(r){return r!==null&&!zp(r)&&r.constructor!==null&&!zp(r.constructor)&&sl(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const w7=Bu("ArrayBuffer");function Ote(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&w7(r.buffer),e}const Dte=AC("string"),sl=AC("function"),C7=AC("number"),rv=r=>r!==null&&typeof r=="object",Pte=r=>r===!0||r===!1,lw=r=>{if(uC(r)!=="object")return!1;const e=v_(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(b7 in r)&&!(cC in r)},Ite=r=>{if(!rv(r)||tv(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},Lte=Bu("Date"),Mte=Bu("File"),Rte=Bu("Blob"),Ute=Bu("FileList"),Qte=r=>rv(r)&&sl(r.pipe),Hte=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||sl(r.append)&&((e=uC(r))==="formdata"||e==="object"&&sl(r.toString)&&r.toString()==="[object FormData]"))},zte=Bu("URLSearchParams"),[Kte,$te,Vte,qte]=["ReadableStream","Request","Response","Headers"].map(Bu),Gte=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nv(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),fg(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(tv(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,r[l],l,r)}}function N7(r,e){if(tv(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const a0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,S7=r=>!zp(r)&&r!==a0;function t4(){const{caseless:r,skipUndefined:e}=S7(this)&&this||{},t={},n=(a,s)=>{const i=r&&N7(t,s)||s;lw(t[i])&&lw(a)?t[i]=t4(t[i],a):lw(a)?t[i]=t4({},a):fg(a)?t[i]=a.slice():(!e||!zp(a))&&(t[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&nv(arguments[a],n);return t}const Wte=(r,e,t,{allOwnKeys:n}={})=>(nv(e,(a,s)=>{t&&sl(a)?r[s]=v7(a,t):r[s]=a},{allOwnKeys:n}),r),Yte=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Xte=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Jte=(r,e,t,n)=>{let a,s,i;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),s=a.length;s-- >0;)i=a[s],(!n||n(i,r,e))&&!l[i]&&(e[i]=r[i],l[i]=!0);r=t!==!1&&v_(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Zte=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},ere=r=>{if(!r)return null;if(fg(r))return r;let e=r.length;if(!C7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},tre=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&v_(Uint8Array)),rre=(r,e)=>{const n=(r&&r[cC]).call(r);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(r,s[0],s[1])}},nre=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},are=Bu("HTMLFormElement"),sre=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),hD=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),ire=Bu("RegExp"),B7=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};nv(t,(a,s)=>{let i;(i=e(a,s,r))!==!1&&(n[s]=i||a)}),Object.defineProperties(r,n)},ore=r=>{B7(r,(e,t)=>{if(sl(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(sl(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},lre=(r,e)=>{const t={},n=a=>{a.forEach(s=>{t[s]=!0})};return fg(r)?n(r):n(String(r).split(e)),t},cre=()=>{},ure=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Are(r){return!!(r&&sl(r.append)&&r[b7]==="FormData"&&r[cC])}const dre=r=>{const e=new Array(10),t=(n,a)=>{if(rv(n)){if(e.indexOf(n)>=0)return;if(tv(n))return n;if(!("toJSON"in n)){e[a]=n;const s=fg(n)?[]:{};return nv(n,(i,l)=>{const c=t(i,a+1);!zp(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return t(r,0)},hre=Bu("AsyncFunction"),fre=r=>r&&(rv(r)||sl(r))&&sl(r.then)&&sl(r.catch),E7=((r,e)=>r?setImmediate:e?((t,n)=>(a0.addEventListener("message",({source:a,data:s})=>{a===a0&&s===t&&n.length&&n.shift()()},!1),a=>{n.push(a),a0.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",sl(a0.postMessage)),mre=typeof queueMicrotask<"u"?queueMicrotask.bind(a0):typeof process<"u"&&process.nextTick||E7,pre=r=>r!=null&&sl(r[cC]),Ze={isArray:fg,isArrayBuffer:w7,isBuffer:tv,isFormData:Hte,isArrayBufferView:Ote,isString:Dte,isNumber:C7,isBoolean:Pte,isObject:rv,isPlainObject:lw,isEmptyObject:Ite,isReadableStream:Kte,isRequest:$te,isResponse:Vte,isHeaders:qte,isUndefined:zp,isDate:Lte,isFile:Mte,isBlob:Rte,isRegExp:ire,isFunction:sl,isStream:Qte,isURLSearchParams:zte,isTypedArray:tre,isFileList:Ute,forEach:nv,merge:t4,extend:Wte,trim:Gte,stripBOM:Yte,inherits:Xte,toFlatObject:Jte,kindOf:uC,kindOfTest:Bu,endsWith:Zte,toArray:ere,forEachEntry:rre,matchAll:nre,isHTMLForm:are,hasOwnProperty:hD,hasOwnProp:hD,reduceDescriptors:B7,freezeMethods:ore,toObjectSet:lre,toCamelCase:sre,noop:cre,toFiniteNumber:ure,findKey:N7,global:a0,isContextDefined:S7,isSpecCompliantForm:Are,toJSONObject:dre,isAsyncFn:hre,isThenable:fre,setImmediate:E7,asap:mre,isIterable:pre};function Qr(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Ze.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ze.toJSONObject(this.config),code:this.code,status:this.status}}});const j7=Qr.prototype,_7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{_7[r]={value:r}});Object.defineProperties(Qr,_7);Object.defineProperty(j7,"isAxiosError",{value:!0});Qr.from=(r,e,t,n,a,s)=>{const i=Object.create(j7);Ze.toFlatObject(r,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=r&&r.message?r.message:"Error",c=e==null&&r?r.code:e;return Qr.call(i,l,c,t,n,a),r&&i.cause==null&&Object.defineProperty(i,"cause",{value:r,configurable:!0}),i.name=r&&r.name||"Error",s&&Object.assign(i,s),i};const gre=null;function r4(r){return Ze.isPlainObject(r)||Ze.isArray(r)}function T7(r){return Ze.endsWith(r,"[]")?r.slice(0,-2):r}function fD(r,e,t){return r?r.concat(e).map(function(a,s){return a=T7(a),!t&&s?"["+a+"]":a}).join(t?".":""):e}function xre(r){return Ze.isArray(r)&&!r.some(r4)}const yre=Ze.toFlatObject(Ze,{},null,function(e){return/^is[A-Z]/.test(e)});function dC(r,e,t){if(!Ze.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Ze.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!Ze.isUndefined(v[g])});const n=t.metaTokens,a=t.visitor||d,s=t.dots,i=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Ze.isSpecCompliantForm(e);if(!Ze.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Ze.isDate(y))return y.toISOString();if(Ze.isBoolean(y))return y.toString();if(!c&&Ze.isBlob(y))throw new Qr("Blob is not supported. Use a Buffer instead.");return Ze.isArrayBuffer(y)||Ze.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,v){let w=y;if(y&&!v&&typeof y=="object"){if(Ze.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(Ze.isArray(y)&&xre(y)||(Ze.isFileList(y)||Ze.endsWith(g,"[]"))&&(w=Ze.toArray(y)))return g=T7(g),w.forEach(function(C,j){!(Ze.isUndefined(C)||C===null)&&e.append(i===!0?fD([g],j,s):i===null?g:g+"[]",u(C))}),!1}return r4(y)?!0:(e.append(fD(v,g,s),u(y)),!1)}const f=[],p=Object.assign(yre,{defaultVisitor:d,convertValue:u,isVisitable:r4});function m(y,g){if(!Ze.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(y),Ze.forEach(y,function(w,S){(!(Ze.isUndefined(w)||w===null)&&a.call(e,w,Ze.isString(S)?S.trim():S,g,p))===!0&&m(w,g?g.concat(S):[S])}),f.pop()}}if(!Ze.isObject(r))throw new TypeError("data must be an object");return m(r),e}function mD(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function b_(r,e){this._pairs=[],r&&dC(r,this,e)}const k7=b_.prototype;k7.append=function(e,t){this._pairs.push([e,t])};k7.toString=function(e){const t=e?function(n){return e.call(this,n,mD)}:mD;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function vre(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function F7(r,e,t){if(!e)return r;const n=t&&t.encode||vre;Ze.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let s;if(a?s=a(e,t):s=Ze.isURLSearchParams(e)?e.toString():new b_(e,t).toString(n),s){const i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class pD{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ze.forEach(this.handlers,function(n){n!==null&&e(n)})}}const O7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bre=typeof URLSearchParams<"u"?URLSearchParams:b_,wre=typeof FormData<"u"?FormData:null,Cre=typeof Blob<"u"?Blob:null,Nre={isBrowser:!0,classes:{URLSearchParams:bre,FormData:wre,Blob:Cre},protocols:["http","https","file","blob","url","data"]},w_=typeof window<"u"&&typeof document<"u",n4=typeof navigator=="object"&&navigator||void 0,Sre=w_&&(!n4||["ReactNative","NativeScript","NS"].indexOf(n4.product)<0),Bre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ere=w_&&window.location.href||"http://localhost",jre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:w_,hasStandardBrowserEnv:Sre,hasStandardBrowserWebWorkerEnv:Bre,navigator:n4,origin:Ere},Symbol.toStringTag,{value:"Module"})),lo={...jre,...Nre};function _re(r,e){return dC(r,new lo.classes.URLSearchParams,{visitor:function(t,n,a,s){return lo.isNode&&Ze.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Tre(r){return Ze.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kre(r){const e={},t=Object.keys(r);let n;const a=t.length;let s;for(n=0;n<a;n++)s=t[n],e[s]=r[s];return e}function D7(r){function e(t,n,a,s){let i=t[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=t.length;return i=!i&&Ze.isArray(a)?a.length:i,c?(Ze.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Ze.isObject(a[i]))&&(a[i]=[]),e(t,n,a[i],s)&&Ze.isArray(a[i])&&(a[i]=kre(a[i])),!l)}if(Ze.isFormData(r)&&Ze.isFunction(r.entries)){const t={};return Ze.forEachEntry(r,(n,a)=>{e(Tre(n),a,t,0)}),t}return null}function Fre(r,e,t){if(Ze.isString(r))try{return(e||JSON.parse)(r),Ze.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const av={transitional:O7,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=Ze.isObject(e);if(s&&Ze.isHTMLForm(e)&&(e=new FormData(e)),Ze.isFormData(e))return a?JSON.stringify(D7(e)):e;if(Ze.isArrayBuffer(e)||Ze.isBuffer(e)||Ze.isStream(e)||Ze.isFile(e)||Ze.isBlob(e)||Ze.isReadableStream(e))return e;if(Ze.isArrayBufferView(e))return e.buffer;if(Ze.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _re(e,this.formSerializer).toString();if((l=Ze.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dC(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),Fre(e)):e}],transformResponse:[function(e){const t=this.transitional||av.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Ze.isResponse(e)||Ze.isReadableStream(e))return e;if(e&&Ze.isString(e)&&(n&&!this.responseType||a)){const i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Qr.from(l,Qr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lo.classes.FormData,Blob:lo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ze.forEach(["delete","get","head","post","put","patch"],r=>{av.headers[r]={}});const Ore=Ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dre=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(i){a=i.indexOf(":"),t=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!t||e[t]&&Ore[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},gD=Symbol("internals");function xx(r){return r&&String(r).trim().toLowerCase()}function cw(r){return r===!1||r==null?r:Ze.isArray(r)?r.map(cw):String(r)}function Pre(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const Ire=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function JN(r,e,t,n,a){if(Ze.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!Ze.isString(e)){if(Ze.isString(n))return e.indexOf(n)!==-1;if(Ze.isRegExp(n))return n.test(e)}}function Lre(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Mre(r,e){const t=Ze.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let il=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(l,c,u){const d=xx(c);if(!d)throw new Error("header name must be a non-empty string");const f=Ze.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=cw(l))}const i=(l,c)=>Ze.forEach(l,(u,d)=>s(u,d,c));if(Ze.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Ze.isString(e)&&(e=e.trim())&&!Ire(e))i(Dre(e),t);else if(Ze.isObject(e)&&Ze.isIterable(e)){let l={},c,u;for(const d of e){if(!Ze.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Ze.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=xx(e),e){const n=Ze.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return Pre(a);if(Ze.isFunction(t))return t.call(this,a,n);if(Ze.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xx(e),e){const n=Ze.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||JN(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function s(i){if(i=xx(i),i){const l=Ze.findKey(n,i);l&&(!t||JN(n,n[l],l,t))&&(delete n[l],a=!0)}}return Ze.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];(!e||JN(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return Ze.forEach(this,(a,s)=>{const i=Ze.findKey(n,s);if(i){t[i]=cw(a),delete t[s];return}const l=e?Lre(s):String(s).trim();l!==s&&delete t[s],t[l]=cw(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ze.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&Ze.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[gD]=this[gD]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=xx(i);n[l]||(Mre(a,i),n[l]=!0)}return Ze.isArray(e)?e.forEach(s):s(e),this}};il.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ze.reduceDescriptors(il.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Ze.freezeMethods(il);function ZN(r,e){const t=this||av,n=e||t,a=il.from(n.headers);let s=n.data;return Ze.forEach(r,function(l){s=l.call(t,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function P7(r){return!!(r&&r.__CANCEL__)}function mg(r,e,t){Qr.call(this,r??"canceled",Qr.ERR_CANCELED,e,t),this.name="CanceledError"}Ze.inherits(mg,Qr,{__CANCEL__:!0});function I7(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Qr("Request failed with status code "+t.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Rre(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Ure(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),t[a]=c,n[a]=u;let f=s,p=0;for(;f!==a;)p+=t[f++],f=f%r;if(a=(a+1)%r,a===s&&(s=(s+1)%r),u-i<e)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function Qre(r,e){let t=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{t=d,a=null,s&&(clearTimeout(s),s=null),r(...u)};return[(...u)=>{const d=Date.now(),f=d-t;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Fw=(r,e,t=3)=>{let n=0;const a=Ure(50,250);return Qre(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(f)},t)},xD=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},yD=r=>(...e)=>Ze.asap(()=>r(...e)),Hre=lo.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,lo.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(lo.origin),lo.navigator&&/(msie|trident)/i.test(lo.navigator.userAgent)):()=>!0,zre=lo.hasStandardBrowserEnv?{write(r,e,t,n,a,s){const i=[r+"="+encodeURIComponent(e)];Ze.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),Ze.isString(n)&&i.push("path="+n),Ze.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kre(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function $re(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function L7(r,e,t){let n=!Kre(e);return r&&(n||t==!1)?$re(r,e):e}const vD=r=>r instanceof il?{...r}:r;function B0(r,e){e=e||{};const t={};function n(u,d,f,p){return Ze.isPlainObject(u)&&Ze.isPlainObject(d)?Ze.merge.call({caseless:p},u,d):Ze.isPlainObject(d)?Ze.merge({},d):Ze.isArray(d)?d.slice():d}function a(u,d,f,p){if(Ze.isUndefined(d)){if(!Ze.isUndefined(u))return n(void 0,u,f,p)}else return n(u,d,f,p)}function s(u,d){if(!Ze.isUndefined(d))return n(void 0,d)}function i(u,d){if(Ze.isUndefined(d)){if(!Ze.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in r)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(vD(u),vD(d),f,!0)};return Ze.forEach(Object.keys({...r,...e}),function(d){const f=c[d]||a,p=f(r[d],e[d],d);Ze.isUndefined(p)&&f!==l||(t[d]=p)}),t}const M7=r=>{const e=B0({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;if(e.headers=i=il.from(i),e.url=F7(L7(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ze.isFormData(t)){if(lo.hasStandardBrowserEnv||lo.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ze.isFunction(t.getHeaders)){const c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(lo.hasStandardBrowserEnv&&(n&&Ze.isFunction(n)&&(n=n(e)),n||n!==!1&&Hre(e.url))){const c=a&&s&&zre.read(s);c&&i.set(a,c)}return e},Vre=typeof XMLHttpRequest<"u",qre=Vre&&function(r){return new Promise(function(t,n){const a=M7(r);let s=a.data;const i=il.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,p,m,y;function g(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function w(){if(!v)return;const C=il.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:r,request:v};I7(function(I){t(I),g()},function(I){n(I),g()},T),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(n(new Qr("Request aborted",Qr.ECONNABORTED,r,v)),v=null)},v.onerror=function(j){const T=j&&j.message?j.message:"Network Error",L=new Qr(T,Qr.ERR_NETWORK,r,v);L.event=j||null,n(L),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||O7;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new Qr(j,T.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,r,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&Ze.forEach(i.toJSON(),function(j,T){v.setRequestHeader(T,j)}),Ze.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([p,y]=Fw(u,!0),v.addEventListener("progress",p)),c&&v.upload&&([f,m]=Fw(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=C=>{v&&(n(!C||C.type?new mg(null,r,v):C),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const S=Rre(a.url);if(S&&lo.protocols.indexOf(S)===-1){n(new Qr("Unsupported protocol "+S+":",Qr.ERR_BAD_REQUEST,r));return}v.send(s||null)})},Gre=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Qr?d:new mg(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Qr(`timeout ${e} of ms exceeded`,Qr.ETIMEDOUT))},e);const l=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),r=null)};r.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Ze.asap(l),c}},Wre=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},Yre=async function*(r,e){for await(const t of Xre(r))yield*Wre(t,e)},Xre=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},bD=(r,e,t,n)=>{const a=Yre(r,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(t){let p=s+=f;t(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},wD=64*1024,{isFunction:M1}=Ze,Jre=(({Request:r,Response:e})=>({Request:r,Response:e}))(Ze.global),{ReadableStream:CD,TextEncoder:ND}=Ze.global,SD=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Zre=r=>{r=Ze.merge.call({skipUndefined:!0},Jre,r);const{fetch:e,Request:t,Response:n}=r,a=e?M1(e):typeof fetch=="function",s=M1(t),i=M1(n);if(!a)return!1;const l=a&&M1(CD),c=a&&(typeof ND=="function"?(y=>g=>y.encode(g))(new ND):async y=>new Uint8Array(await new t(y).arrayBuffer())),u=s&&l&&SD(()=>{let y=!1;const g=new t(lo.origin,{body:new CD,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),d=i&&l&&SD(()=>Ze.isReadableStream(new n("").body)),f={stream:d&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(g,v)=>{let w=g&&g[y];if(w)return w.call(g);throw new Qr(`Response type '${y}' is not supported`,Qr.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(Ze.isBlob(y))return y.size;if(Ze.isSpecCompliantForm(y))return(await new t(lo.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Ze.isArrayBufferView(y)||Ze.isArrayBuffer(y))return y.byteLength;if(Ze.isURLSearchParams(y)&&(y=y+""),Ze.isString(y))return(await c(y)).byteLength},m=async(y,g)=>{const v=Ze.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:w,signal:S,cancelToken:C,timeout:j,onDownloadProgress:T,onUploadProgress:L,responseType:I,headers:D,withCredentials:k="same-origin",fetchOptions:z}=M7(y),P=e||fetch;I=I?(I+"").toLowerCase():"text";let U=Gre([S,C&&C.toAbortSignal()],j),M=null;const q=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let ae;try{if(L&&u&&v!=="get"&&v!=="head"&&(ae=await m(D,w))!==0){let ne=new t(g,{method:"POST",body:w,duplex:"half"}),F;if(Ze.isFormData(w)&&(F=ne.headers.get("content-type"))&&D.setContentType(F),ne.body){const[Q,K]=xD(ae,Fw(yD(L)));w=bD(ne.body,wD,Q,K)}}Ze.isString(k)||(k=k?"include":"omit");const W=s&&"credentials"in t.prototype,ee={...z,signal:U,method:v.toUpperCase(),headers:D.normalize().toJSON(),body:w,duplex:"half",credentials:W?k:void 0};M=s&&new t(g,ee);let re=await(s?P(M,z):P(g,ee));const pe=d&&(I==="stream"||I==="response");if(d&&(T||pe&&q)){const ne={};["status","statusText","headers"].forEach(V=>{ne[V]=re[V]});const F=Ze.toFiniteNumber(re.headers.get("content-length")),[Q,K]=T&&xD(F,Fw(yD(T),!0))||[];re=new n(bD(re.body,wD,Q,()=>{K&&K(),q&&q()}),ne)}I=I||"text";let Se=await f[Ze.findKey(f,I)||"text"](re,y);return!pe&&q&&q(),await new Promise((ne,F)=>{I7(ne,F,{data:Se,headers:il.from(re.headers),status:re.status,statusText:re.statusText,config:y,request:M})})}catch(W){throw q&&q(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,y,M),{cause:W.cause||W}):Qr.from(W,W&&W.code,y,M)}}},ene=new Map,R7=r=>{let e=r?r.env:{};const{fetch:t,Request:n,Response:a}=e,s=[n,a,t];let i=s.length,l=i,c,u,d=ene;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Zre(e)),d=u;return u};R7();const a4={http:gre,xhr:qre,fetch:{get:R7}};Ze.forEach(a4,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const BD=r=>`- ${r}`,tne=r=>Ze.isFunction(r)||r===null||r===!1,U7={getAdapter:(r,e)=>{r=Ze.isArray(r)?r:[r];const{length:t}=r;let n,a;const s={};for(let i=0;i<t;i++){n=r[i];let l;if(a=n,!tne(n)&&(a=a4[(l=String(n)).toLowerCase()],a===void 0))throw new Qr(`Unknown adapter '${l}'`);if(a&&(Ze.isFunction(a)||(a=a.get(e))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(BD).join(`
`):" "+BD(i[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:a4};function eS(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new mg(null,r)}function ED(r){return eS(r),r.headers=il.from(r.headers),r.data=ZN.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),U7.getAdapter(r.adapter||av.adapter,r)(r).then(function(n){return eS(r),n.data=ZN.call(r,r.transformResponse,n),n.headers=il.from(n.headers),n},function(n){return P7(n)||(eS(r),n&&n.response&&(n.response.data=ZN.call(r,r.transformResponse,n.response),n.response.headers=il.from(n.response.headers))),Promise.reject(n)})}const Q7="1.12.2",hC={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{hC[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const jD={};hC.transitional=function(e,t,n){function a(s,i){return"[Axios v"+Q7+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Qr(a(i," has been removed"+(t?" in "+t:"")),Qr.ERR_DEPRECATED);return t&&!jD[i]&&(jD[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,l):!0}};hC.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function rne(r,e,t){if(typeof r!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=r[s],c=l===void 0||i(l,s,r);if(c!==!0)throw new Qr("option "+s+" must be "+c,Qr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qr("Unknown option "+s,Qr.ERR_BAD_OPTION)}}const uw={assertOptions:rne,validators:hC},Zu=uw.validators;let m0=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pD,response:new pD}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=B0(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;n!==void 0&&uw.assertOptions(n,{silentJSONParsing:Zu.transitional(Zu.boolean),forcedJSONParsing:Zu.transitional(Zu.boolean),clarifyTimeoutError:Zu.transitional(Zu.boolean)},!1),a!=null&&(Ze.isFunction(a)?t.paramsSerializer={serialize:a}:uw.assertOptions(a,{encode:Zu.function,serialize:Zu.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),uw.assertOptions(t,{baseUrl:Zu.spelling("baseURL"),withXsrfToken:Zu.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&Ze.merge(s.common,s[t.method]);s&&Ze.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=il.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,p;if(!c){const y=[ED.bind(this),void 0];for(y.unshift(...l),y.push(...u),p=y.length,d=Promise.resolve(t);f<p;)d=d.then(y[f++],y[f++]);return d}p=l.length;let m=t;for(;f<p;){const y=l[f++],g=l[f++];try{m=y(m)}catch(v){g.call(this,v);break}}try{d=ED.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=B0(this.defaults,e);const t=L7(e.baseURL,e.url,e.allowAbsoluteUrls);return F7(t,e.params,e.paramsSerializer)}};Ze.forEach(["delete","get","head","options"],function(e){m0.prototype[e]=function(t,n){return this.request(B0(n||{},{method:e,url:t,data:(n||{}).data}))}});Ze.forEach(["post","put","patch"],function(e){function t(n){return function(s,i,l){return this.request(B0(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}m0.prototype[e]=t(),m0.prototype[e+"Form"]=t(!0)});let nne=class H7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new mg(s,i,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new H7(function(a){e=a}),cancel:e}}};function ane(r){return function(t){return r.apply(null,t)}}function sne(r){return Ze.isObject(r)&&r.isAxiosError===!0}const s4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(s4).forEach(([r,e])=>{s4[e]=r});function z7(r){const e=new m0(r),t=v7(m0.prototype.request,e);return Ze.extend(t,m0.prototype,e,{allOwnKeys:!0}),Ze.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return z7(B0(r,a))},t}const Ss=z7(av);Ss.Axios=m0;Ss.CanceledError=mg;Ss.CancelToken=nne;Ss.isCancel=P7;Ss.VERSION=Q7;Ss.toFormData=dC;Ss.AxiosError=Qr;Ss.Cancel=Ss.CanceledError;Ss.all=function(e){return Promise.all(e)};Ss.spread=ane;Ss.isAxiosError=sne;Ss.mergeConfig=B0;Ss.AxiosHeaders=il;Ss.formToJSON=r=>D7(Ze.isHTMLForm(r)?new FormData(r):r);Ss.getAdapter=U7.getAdapter;Ss.HttpStatusCode=s4;Ss.default=Ss;const{Axios:dIe,AxiosError:hIe,CanceledError:fIe,isCancel:mIe,CancelToken:pIe,VERSION:gIe,all:xIe,Cancel:yIe,isAxiosError:vIe,spread:bIe,toFormData:wIe,AxiosHeaders:CIe,HttpStatusCode:NIe,formToJSON:SIe,getAdapter:BIe,mergeConfig:EIe}=Ss,ine=r=>r.replace(/_([a-z])/g,e=>e[1].toUpperCase()),xr=r=>{try{return Array.isArray(r)?r.map(e=>xr(e)):r!==null&&typeof r=="object"&&!(r instanceof Date)?Object.keys(r).reduce((e,t)=>{const n=ine(t),a=r[t];return e[n]=a!==null&&typeof a=="object"&&!(a instanceof Date)?xr(a):a,e},{}):r}catch(e){return console.error("Error in transformKeysToCAmelCase:",e),r}};class one{api;token=null;constructor(){const e="/api";console.log(" HTTP Client initialized with baseURL:",e),this.api=Ss.create({baseURL:e,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.token=localStorage.getItem("auth_token"),this.token&&this.setAuthToken(this.token),this.api.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(t.config?.url?.includes("/auth/login")||(this.clearAuth(),window.location.href="/login")),Promise.reject(t)))}setAuthToken(e){this.token=e,this.api.defaults.headers.common.Authorization=`Bearer ${e}`,localStorage.setItem("auth_token",e)}clearAuth(){this.token=null,delete this.api.defaults.headers.common.Authorization,localStorage.removeItem("auth_token")}getToken(){return this.token}isAuthenticated(){return!!this.token}isProduction(){return!0}getEnvironmentInfo(){return{isProduction:this.isProduction(),url:this.api.defaults.baseURL||"Unknown"}}}const bn=new one,at=bn.api,lne=Object.freeze(Object.defineProperty({__proto__:null,api:at,httpClient:bn,transformKeysToCAmelCase:xr},Symbol.toStringTag,{value:"Module"}));class cne{async register(e){const t=await at.post("/auth/register",e);return t.data.token&&bn.setAuthToken(t.data.token),t.data}async login(e,t,n){console.log(" AuthService: Sending login request",{email:e,hasCaptcha:!!n});try{const a=await at.post("/auth/login",{email:e,password:t,captchaToken:n});if(console.log(" AuthService: Login response received",a),console.log(" AuthService: Response data",a.data),!a?.data)throw new Error("Invalid response from server: expected object");if(!a.data.token)throw console.warn(" AuthService: No token in response!"),new Error("Server did not return authentication token");if(!a.data.user)throw console.warn(" AuthService: No user data in response!"),new Error("Server did not return user data");return console.log(" AuthService: Token found, setting auth token"),bn.setAuthToken(a.data.token),a.data}catch(a){throw console.error(" AuthService: Login failed",a),a}}async logout(){bn.clearAuth()}async changePassword(e,t,n){return(await at.post("/auth/change-password",{email:e,currentPassword:t,newPassword:n})).data}async updateUserAvatar(e){return(await at.patch("/users/avatar",{avatarId:e})).data}async getCurrentUserProfile(){return(await at.get("/users/profile")).data}isAuthenticated(){return bn.isAuthenticated()}getToken(){return bn.getToken()}}const Gf=new cne,K7=B.createContext(void 0),une=({children:r})=>{const[e,t]=B.useState(()=>{const i=localStorage.getItem("currentUser");if(!i||i==="undefined"||i==="null")return null;try{return JSON.parse(i)}catch{return localStorage.removeItem("currentUser"),null}}),n=async(i,l,c)=>{try{const u=await Gf.login(i,l,c);if(!u?.user||!u?.token)throw new Error("Invalid response from server: user or token missing");const{user:d,token:f,isFirstTimeLogin:p}=u,m={...d,isFirstTimeLogin:p};return t(d),localStorage.setItem("currentUser",JSON.stringify(d)),localStorage.setItem("auth_token",f),m}catch(u){throw new Error(u.response?.data?.message||"Invalid credentials")}},a=()=>{t(null),localStorage.removeItem("currentUser"),localStorage.removeItem("auth_token")},s=i=>e?nl(e.roles||[e.role],i):!1;return o.jsx(K7.Provider,{value:{user:e,login:n,logout:a,isAuthenticated:!!e,hasPermission:s},children:r})},cf=()=>{const r=B.useContext(K7);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},Ane=[{to:"/",icon:f_,label:"Dashboard",section:"main"},{to:"/my-dashboard",icon:sC,label:"My Dashboard",section:"main"},{to:"/projects",icon:pA,label:"Projects",section:"projects"},{to:"/research",icon:S0,label:"Research",section:"projects"},{to:"/timesheets",icon:ll,label:"Timesheets",section:"projects"},{to:"/team-workload",icon:Qp,label:"Team Workload",section:"projects"},{to:"/pcs",icon:p_,label:"PC Assignment",section:"projects"},{to:"/team",icon:Qp,label:"Team Members",section:"people"},{to:"/companies",icon:N0,label:"Business Contacts",section:"people"},{to:"/finance",icon:d_,label:"Finance Overview",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/documents",icon:os,label:"Finance Documents",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/exchange-rates",icon:rZ,label:"Exchange Rates",section:"finance",requiresPermission:"canAccessFinance"},{to:"/inventory",icon:Nd,label:"Inventory",section:"equipment"},{to:"/equipment",icon:r7,label:"Equipment Management",section:"equipment"},{to:"/maintenance",icon:Hp,label:"Maintenance",section:"equipment"},{to:"/settings",icon:i7,label:"Settings",section:"system"}],dne=({isOpen:r=!0,onClose:e})=>{const{user:t}=cf();if(!t)return null;const n=t.roles||[t.role],a=lC(n),s=n.length>0?n.reduce((c,u)=>{const d=gn[u]||0,f=gn[c]||0;return d>f?u:c},n[0]):t.role,i=y_(s),l=c=>Ane.filter(u=>u.section===c).filter(u=>u.requiresPermission?a[u.requiresPermission]:!0);return o.jsxs(o.Fragment,{children:[r&&e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),o.jsx("aside",{className:_r("fixed md:sticky top-0 left-0 z-50 h-screen w-64 bg-white dark:bg-gray-900 shadow-lg border-r border-slate-200 dark:border-gray-700","transition-transform duration-300 ease-in-out","md:translate-x-0",r?"translate-x-0":"-translate-x-full"),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"relative flex items-center justify-center px-5 py-6 border-b border-slate-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("span",{className:"text-3xl font-extrabold tracking-tight",children:[o.jsx("span",{className:"text-slate-800 dark:text-gray-100",children:"My"}),o.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 bg-clip-text text-transparent",children:"CAE"})]}),o.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-gray-400 tracking-[0.2em] uppercase mt-0.5",children:"Technologies"})]}),e&&o.jsx("button",{onClick:e,className:"absolute right-3 md:hidden p-2 hover:bg-slate-100 dark:hover:bg-gray-700 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-gray-100 rounded-lg transition-colors","aria-label":"Close menu",children:o.jsx(Ur,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 px-3 py-4 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:l("main").map(c=>o.jsx("li",{children:o.jsxs(Fh,{to:c.to,end:!0,onClick:e,className:({isActive:u})=>_r("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Projects"}),o.jsx("ul",{className:"space-y-1",children:l("projects").map(c=>o.jsx("li",{children:o.jsxs(Fh,{to:c.to,onClick:e,className:({isActive:u})=>_r("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"People & Contacts"}),o.jsx("ul",{className:"space-y-1",children:l("people").map(c=>o.jsx("li",{children:o.jsxs(Fh,{to:c.to,onClick:e,className:({isActive:u})=>_r("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),l("finance").length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Finance"}),o.jsx("ul",{className:"space-y-1",children:l("finance").map(c=>o.jsx("li",{children:o.jsxs(Fh,{to:c.to,end:c.to==="/finance",onClick:e,className:({isActive:u})=>_r("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Equipment"}),o.jsx("ul",{className:"space-y-1",children:l("equipment").map(c=>o.jsx("li",{children:o.jsxs(Fh,{to:c.to,onClick:e,className:({isActive:u})=>_r("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:l("system").map(c=>o.jsx("li",{children:o.jsxs(Fh,{to:c.to,onClick:e,className:({isActive:u})=>_r("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})})]})}),o.jsxs("div",{className:"px-4 py-4 border-t border-slate-200 dark:border-gray-700 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 dark:from-gray-800 dark:to-gray-800 space-y-3",children:[o.jsx("div",{className:"px-3 py-2.5 rounded-lg border border-blue-200 dark:border-blue-700 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-base",children:i.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold truncate text-slate-900 dark:text-gray-100",children:i.label}),o.jsxs("p",{className:"text-[10px] text-slate-600 dark:text-gray-400",children:["Level ",i.level," Access"]})]})]})}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-gray-500",children:[o.jsx("p",{className:"font-medium",children:"v1.0.0"}),o.jsx("p",{className:"mt-1",children:" 2025 MyCAE"})]})]})]})})]})},hne=[{to:"/",icon:f_,label:"Home"},{to:"/projects",icon:pA,label:"Projects"},{to:"/clients",icon:N0,label:"Clients"},{to:"/team",icon:Qp,label:"Team"},{to:"/inventory",icon:Nd,label:"Equipment"}],fne=()=>o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 md:hidden",children:o.jsx("ul",{className:"flex items-center justify-around",children:hne.map(r=>o.jsx("li",{className:"flex-1",children:o.jsx(Fh,{to:r.to,className:({isActive:e})=>_r("flex flex-col items-center gap-1 py-2 px-2 transition-colors touch-target","hover:bg-gray-50",e?"text-primary-600":"text-gray-600"),children:({isActive:e})=>o.jsxs(o.Fragment,{children:[o.jsx(r.icon,{className:_r("w-6 h-6",e&&"fill-current")}),o.jsx("span",{className:"text-xs font-medium",children:r.label})]})})},r.to))})});function fC(){const[r,e]=B.useState("desktop"),[t,n]=B.useState(!1),[a,s]=B.useState(!1),[i,l]=B.useState(!0);return B.useEffect(()=>{const c=()=>{const u=window.innerWidth;u<768?(e("mobile"),n(!0),s(!1),l(!1)):u>=768&&u<1024?(e("tablet"),n(!1),s(!0),l(!1)):(e("desktop"),n(!1),s(!1),l(!0))};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),{breakpoint:r,isMobile:t,isTablet:a,isDesktop:i}}const _D=r=>{let e;const t=new Set,n=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},a=()=>e,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=r(n,a,l);return l},mne=(r=>r?_D(r):_D),pne=r=>r;function gne(r,e=pne){const t=Zs.useSyncExternalStore(r.subscribe,Zs.useCallback(()=>e(r.getState()),[r,e]),Zs.useCallback(()=>e(r.getInitialState()),[r,e]));return Zs.useDebugValue(t),t}const TD=r=>{const e=mne(r),t=n=>gne(e,n);return Object.assign(t,e),t},Oc=(r=>r?TD(r):TD),$7=Oc((r,e)=>({notifications:[],unreadCount:0,addNotification:t=>{const n={...t,id:`notif-${Date.now()}`,timestamp:new Date,read:!1};r(a=>({notifications:[n,...a.notifications],unreadCount:a.unreadCount+1}))},markAsRead:t=>{r(n=>{const a=n.notifications.map(i=>i.id===t?{...i,read:!0}:i),s=a.filter(i=>!i.read).length;return{notifications:a,unreadCount:s}})},markAllAsRead:()=>{r(t=>({notifications:t.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:t=>{r(n=>{const s=n.notifications.find(i=>i.id===t)?.read?n.unreadCount:n.unreadCount-1;return{notifications:n.notifications.filter(i=>i.id!==t),unreadCount:Math.max(0,s)}})},clearAll:()=>{r(()=>({notifications:[],unreadCount:0}))}})),xne=()=>{const[r,e]=B.useState(!1),[t,n]=B.useState(!1),[a,s]=B.useState(!1),{isDesktop:i}=fC(),{logout:l,user:c}=cf(),{notifications:u,unreadCount:d,markAsRead:f,deleteNotification:p}=$7(),m=()=>{l(),Ce.success("Logged out successfully")},y=v=>{switch(v){case"alert":return"bg-red-500";case"warning":return"bg-yellow-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-gray-500"}},g=v=>{const S=new Date().getTime()-new Date(v).getTime(),C=Math.floor(S/6e4),j=Math.floor(S/36e5),T=Math.floor(S/864e5);return C<1?"Just now":C<60?`${C}m ago`:j<24?`${j}h ago`:`${T}d ago`};return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 dark:bg-gray-900",children:[o.jsx("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),o.jsx(dne,{isOpen:i||r,onClose:()=>e(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[o.jsxs("div",{className:"sticky top-0 z-30 px-4 py-3 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-700 flex items-center justify-between shadow-sm",children:[o.jsx("div",{className:"flex items-center",children:!i&&o.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 mr-2","aria-label":"Open menu",children:o.jsx(fee,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!t),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`Notifications ${d>0?`(${d} unread)`:""}`,"aria-haspopup":"menu","aria-expanded":t,"aria-controls":"notifications-menu",children:[o.jsx(YE,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"}),d>0&&o.jsx("span",{className:"absolute top-1 right-1 min-w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold text-white","aria-label":`${d} unread notifications`,children:d>9?"9+":d})]}),t&&o.jsxs("div",{id:"notifications-menu",role:"menu","aria-label":"Notifications menu",className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"}),d>0&&o.jsxs("span",{className:"text-xs font-medium text-primary-600","aria-live":"polite",children:[d," unread"]})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",role:"group",children:u.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(YE,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2","aria-hidden":"true"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"})]}):u.map(v=>o.jsx("div",{role:"menuitem",className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${v.read?"":"bg-blue-50 dark:bg-blue-900/30"}`,"aria-current":v.read?"false":"true",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-2 h-2 ${y(v.type)} rounded-full mt-1.5 flex-shrink-0`,"aria-hidden":"true"}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:v.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2",children:v.message}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:g(v.timestamp)})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[!v.read&&o.jsx("button",{onClick:w=>{w.stopPropagation(),f(v.id)},className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"Mark as read","aria-label":`Mark notification as read: ${v.title}`,children:o.jsx(vy,{className:"w-3 h-3","aria-hidden":"true"})}),o.jsx("button",{onClick:w=>{w.stopPropagation(),p(v.id)},className:"p-1 hover:bg-red-100 rounded text-gray-400 hover:text-red-600 transition-colors",title:"Delete notification","aria-label":`Delete notification: ${v.title}`,children:o.jsx(Ns,{className:"w-3 h-3","aria-hidden":"true"})})]})]})})]})},v.id))}),o.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:o.jsx("button",{className:"w-full text-center text-sm text-primary-600 hover:text-primary-700 font-medium py-1 transition-colors","aria-label":"View all notifications",children:"View All Notifications"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>{s(!a),n(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`User menu for ${c?.name||"User"}`,"aria-haspopup":"menu","aria-expanded":a,"aria-controls":"user-menu",children:o.jsx(bu,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"})}),a&&o.jsxs("div",{id:"user-menu",role:"menu",className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-cyan-100 dark:bg-cyan-900 rounded-full flex items-center justify-center",children:o.jsx(bu,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c?.email||"user@mycae.com"})]})]})}),o.jsx("div",{className:"py-2",children:o.jsxs("button",{onClick:()=>{m(),s(!1)},role:"menuitem",className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center gap-3 transition-colors","aria-label":"Logout",children:[o.jsx(cee,{className:"w-4 h-4","aria-hidden":"true"}),"Logout"]})})]})]})]})]}),o.jsx("main",{id:"main-content",className:"flex-1 overflow-y-auto pb-16 md:pb-0 bg-slate-50 dark:bg-gray-900",tabIndex:-1,children:o.jsx("div",{className:"h-full",children:o.jsx(U8,{})})}),o.jsx(fne,{})]}),(t||a)&&o.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{n(!1),s(!1)}})]})},yne=()=>{const{isAuthenticated:r}=cf();return r?o.jsx(U8,{}):o.jsx($E,{to:"/login"})};class vne extends Zs.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"max-w-md w-full mx-4 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Xh,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. This error has been logged and our team will look into it."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(oC,{className:"w-4 h-4"}),"Try Again"]}),o.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Go to Dashboard"})]}),!1]})}):this.props.children}}class bne{async getInventoryItems(e){const t=await at.get("/inventory",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getInventoryById(e){return(await at.get(`/inventory/${e}`)).data}async createInventoryItem(e){return(await at.post("/inventory",e)).data}async updateInventoryItem(e,t){return(await at.put(`/inventory/${e}`,t)).data}async deleteInventoryItem(e){await at.delete(`/inventory/${e}`)}async bulkCreateInventoryItems(e){return(await at.post("/inventory/bulk/create",{items:e})).data}async createSingleCheckout(e){return(await at.post("/checkouts/single",e)).data}async createBulkCheckout(e){return(await at.post("/checkouts/bulk",e)).data}async checkInSingle(e){return(await at.post("/checkouts/checkin/single",e)).data}async checkInBulk(e){return(await at.post("/checkouts/checkin/bulk",e)).data}async getAllCheckouts(){return(await at.get("/checkouts")).data}async getCheckoutByMasterBarcode(e){return(await at.get(`/checkouts/${e}`)).data}async getAllMaintenanceTickets(){return(await at.get("/maintenance")).data}async createMaintenanceTicket(e){return(await at.post("/maintenance",e)).data}async updateMaintenanceTicket(e,t){return(await at.put(`/maintenance/${e}`,t)).data}async deleteMaintenanceTicket(e){await at.delete(`/maintenance/${e}`)}async getMaintenanceTicketById(e){return(await at.get(`/maintenance/${e}`)).data}}const jn=new bne;class wne{async getProjects(e){const t=await at.get("/projects",{params:e});try{const n=xr(t.data);return(Array.isArray(n)?n:[n]).map(i=>({...i,engineerId:i.leadEngineerId||i.engineerId,engineerName:i.leadEngineer?.name||i.engineerName,managerName:i.manager?.name||i.managerName}))}catch(n){return console.error("Error transforming projects data:",n),t.data}}async getProjectById(e){const t=await at.get(`/projects/${e}`);return xr(t.data)}async getNextProjectCode(){const e=await at.get("/projects/next-code");return xr(e.data)}async createProject(e){const t=await at.post("/projects",e);return xr(t.data)}async updateProject(e,t){const n=await at.put(`/projects/${e}`,t);return xr(n.data)}async deleteProject(e){await at.delete(`/projects/${e}`)}async updateProjectStatus(e,t,n){const a=await at.patch(`/projects/${e}/status`,{status:t,dateField:n});return xr(a.data)}async uploadProjectPO(e,t){const n=new FormData;return n.append("poFile",t),(await at.post(`/projects/${e}/upload-po`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteProjectPO(e){return(await at.delete(`/projects/${e}/po-file`)).data}async downloadProjectPO(e){return(await at.get(e,{responseType:"blob"})).data}async getProjectHourlyRates(e){return(await at.get(`/project-hourly-rates/${e}`)).data?.data||[]}async saveProjectHourlyRates(e,t){return(await at.put(`/project-hourly-rates/${e}`,{rates:t})).data}async deleteProjectHourlyRate(e,t){await at.delete(`/project-hourly-rates/${e}/${t}`)}async uploadMigrationFile(e){const t=new FormData;return t.append("file",e),(await at.post("/migration/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async executeMigration(e){return(await at.post("/migration/execute",{projects:e})).data}async getMigrationTemplate(){return(await at.get("/migration/template")).data}}const di=new wne;class Cne{async getTimesheets(e){const t=await at.get("/timesheets",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return xr(n)}async createTimesheet(e){const t=await at.post("/timesheets",e);return xr(t.data)}async updateTimesheet(e,t){const n=await at.put(`/timesheets/${e}`,t);return xr(n.data)}async deleteTimesheet(e){await at.delete(`/timesheets/${e}`)}async getAllClients(e){const t=await at.get("/clients",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return xr(n)}async getClientById(e){const t=await at.get(`/clients/${e}`);return xr(t.data)}async createClient(e){const t=await at.post("/clients",e);return xr(t.data)}async updateClient(e,t){const n=await at.put(`/clients/${e}`,t);return xr(n.data)}async deleteClient(e){await at.delete(`/clients/${e}`)}}const ZA=new Cne;class Nne{async getAllTeamMembers(e){const t=await at.get("/team",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return xr(n)}async getTeamMemberById(e){const t=await at.get(`/team/${e}`);return xr(t.data)}async createTeamMember(e){const t=await at.post("/team",e);return xr(t.data)}async updateTeamMember(e,t){const n=await at.put(`/team/${e}`,t);return xr(n.data)}async deleteTeamMember(e){await at.delete(`/team/${e}`)}async reactivateTeamMember(e){return(await at.post(`/team/${e}/reactivate`)).data}async updateTeamMemberAvatar(e,t){const n=await at.patch(`/team/${e}/avatar`,{avatarId:t});return xr(n.data)}async getTeamByDepartment(e,t){return(await at.get(`/team/department/${e}`,{params:t})).data}}const Sh=new Nne;class Sne{async getAllComputers(e){const t=await at.get("/computers",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getComputerById(e){return(await at.get(`/computers/${e}`)).data}async createComputer(e){return(await at.post("/computers",e)).data}async updateComputer(e,t){return(await at.put(`/computers/${e}`,t)).data}async deleteComputer(e){await at.delete(`/computers/${e}`)}async getComputersAssignedTo(e,t){const n=await at.get(`/computers/assigned/${e}`,{params:t});return Array.isArray(n.data)?n.data:n.data?.data||[]}async assignComputerToUser(e,t,n,a){return(await at.post(`/computers/${e}/assign`,{userId:t,installedSoftware:n,notes:a})).data}async unassignComputer(e){return(await at.post(`/computers/${e}/unassign`,{})).data}async setMaintenanceStatus(e,t){return(await at.post(`/computers/${e}/maintenance`,{inMaintenance:t})).data}}const ed=new Sne;class Bne{async getAllResearchProjects(e){const n=(await at.get("/research/projects",{params:e})).data,a=Array.isArray(n)?n:n?.data||[];return xr(a)}async getResearchProjectById(e){const t=await at.get(`/research/projects/${e}`);return xr(t.data)}async createResearchProject(e){const t=await at.post("/research/projects",e);return xr(t.data)}async updateResearchProject(e,t){const n=await at.put(`/research/projects/${e}`,t);return xr(n.data)}async deleteResearchProject(e){await at.delete(`/research/projects/${e}`)}async getResearchProjectsByStatus(e,t){const n=await at.get(`/research/projects/status/${e}`,{params:t});return xr(n.data)}async logResearchTimesheet(e){const t=await at.post("/research/timesheets",e);return xr(t.data)}async approveResearchTimesheet(e,t){const n=await at.put(`/research/timesheets/${e}/approve`,{approvedBy:t});return xr(n.data)}async deleteResearchTimesheet(e){await at.delete(`/research/timesheets/${e}`)}async getResearchTimesheets(e){return(await at.get("/research/timesheets",{params:e})).data}}const eA=new Bne;class Ene{async getAllInvoices(e){const t=await at.get("/invoices",{params:e});return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>xr(a))}async getInvoiceById(e){const t=await at.get(`/invoices/${e}`);return xr(t.data)}async getNextInvoiceNumber(){return(await at.get("/invoices/next-number")).data.nextNumber}async getInvoiceProjectContext(e){const t=await at.get(`/invoices/project/${e}/context`);return xr(t.data)}async createInvoice(e){const t=await at.post("/invoices",e);return xr(t.data)}async updateInvoice(e,t){const n=await at.put(`/invoices/${e}`,t);return xr(n.data)}async deleteInvoice(e){await at.delete(`/invoices/${e}`)}async downloadInvoicePDF(e){return(await at.get(`/invoices/${e}/pdf`,{responseType:"blob"})).data}async submitInvoiceForApproval(e){const t=await at.post(`/invoices/${e}/submit-for-approval`);return xr(t.data)}async approveInvoice(e){const t=await at.post(`/invoices/${e}/approve`);return xr(t.data)}async withdrawInvoice(e){const t=await at.post(`/invoices/${e}/withdraw`);return xr(t.data)}async markInvoiceAsSent(e){const t=await at.post(`/invoices/${e}/mark-as-sent`);return xr(t.data)}async markInvoiceAsPaid(e){const t=await at.post(`/invoices/${e}/mark-as-paid`);return xr(t.data)}async getAllIssuedPOs(e){const t=await at.get("/issued-pos",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return xr(n)}async getIssuedPOById(e){const t=await at.get(`/issued-pos/${e}`);return xr(t.data)}async getNextIssuedPONumber(){return(await at.get("/issued-pos/next-number")).data.nextNumber}async createIssuedPO(e){const t=await at.post("/issued-pos",e);return xr(t.data)}async updateIssuedPO(e,t){const n=await at.put(`/issued-pos/${e}`,t);return xr(n.data)}async deleteIssuedPO(e){await at.delete(`/issued-pos/${e}`)}async downloadIssuedPOPDF(e){return(await at.get(`/issued-pos/${e}/pdf`,{responseType:"blob"})).data}async getAllReceivedInvoices(e){const t=await at.get("/received-invoices",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return xr(n)}async getReceivedInvoiceById(e){const t=await at.get(`/received-invoices/${e}`);return xr(t.data)}async createReceivedInvoice(e){const t=await at.post("/received-invoices",e);return xr(t.data)}async updateReceivedInvoice(e,t){const n=await at.put(`/received-invoices/${e}`,t);return xr(n.data)}async deleteReceivedInvoice(e){await at.delete(`/received-invoices/${e}`)}async verifyReceivedInvoice(e){const t=await at.post(`/received-invoices/${e}/verify`);return xr(t.data)}async markReceivedInvoiceAsPaid(e){const t=await at.post(`/received-invoices/${e}/mark-as-paid`);return xr(t.data)}async getAllPurchaseOrders(e){const t=await at.get("/purchase-orders",{params:e});return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>xr(a))}async getPurchaseOrderById(e){const t=await at.get(`/purchase-orders/${e}`);return xr(t.data)}async createPurchaseOrder(e){const t=await at.post("/purchase-orders",e);return xr(t.data)}async updatePurchaseOrder(e,t){const n=await at.put(`/purchase-orders/${e}`,t);return xr(n.data)}async deletePurchaseOrder(e){const t=await at.delete(`/purchase-orders/${e}`);return xr(t.data)}async uploadPurchaseOrderFile(e){return(await at.post("/purchase-orders/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async downloadPurchaseOrderFile(e){return(await at.get(`/purchase-orders/download/${e}`,{responseType:"blob"})).data}async getPurchaseOrders(e){return this.getAllPurchaseOrders(e)}async getPORevisions(e){const t=await at.get(`/purchase-orders/${e}/revisions`);return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>xr(a))}async createPORevision(e,t){const n=await at.post(`/purchase-orders/${e}/revisions`,t);return xr(n.data)}async adjustPOMYRAmount(e,t,n){const a=await at.patch(`/purchase-orders/${e}/adjust-myr`,{adjustedAmount:t,reason:n});return xr(a.data)}async getExchangeRates(){return(await at.get("/exchange-rates")).data||[]}async createExchangeRate(e){return(await at.post("/exchange-rates",e)).data}async importExchangeRates(){return(await at.post("/exchange-rates/import")).data}async convertCurrency(e,t){return(await at.get("/exchange-rates/convert",{params:{amount:e,fromCurrency:t}})).data}async getExchangeRate(e,t){return(await at.get("/exchange-rates/single",{params:{fromCurrency:e,date:t?.toISOString().split("T")[0]}})).data}async getAllCategories(){return(await at.get("/categories")).data||[]}async getCategoryById(e){return(await at.get(`/categories/${e}`)).data}async createCategory(e){return(await at.post("/categories",e)).data}async updateCategory(e,t){return(await at.put(`/categories/${e}`,t)).data}async deleteCategory(e){await at.delete(`/categories/${e}`)}}const nr=new Ene;class jne{async createActivityLog(e){return(await at.post("/activity",e)).data}async getRecentActivity(e=10){return(await at.get("/activity",{params:{limit:e}})).data}async getAllActivity(e){return(await at.get("/activity",{params:e})).data}async getActivityById(e){return(await at.get(`/activity/${e}`)).data}async getActivityByUser(e,t){return(await at.get(`/activity/user/${e}`,{params:t})).data}async getActivityByModule(e,t){return(await at.get(`/activity/module/${e}`,{params:t})).data}}const Gm=new jne;class V7{setAuthToken(e){bn.setAuthToken(e)}clearAuth(){bn.clearAuth()}isProduction(){return bn.isProduction()}getEnvironmentInfo(){return bn.getEnvironmentInfo()}async register(e){return Gf.register(e)}async login(e,t,n){return Gf.login(e,t,n)}async logout(){return Gf.logout()}async changePassword(e,t,n){return Gf.changePassword(e,t,n)}async updateUserAvatar(e){return Gf.updateUserAvatar(e)}async getCurrentUserProfile(){return Gf.getCurrentUserProfile()}async getInventoryItems(e){return jn.getInventoryItems(e)}async getInventoryById(e){return jn.getInventoryById(e)}async createInventoryItem(e){return jn.createInventoryItem(e)}async updateInventoryItem(e,t){return jn.updateInventoryItem(e,t)}async deleteInventoryItem(e){return jn.deleteInventoryItem(e)}async bulkCreateInventoryItems(e){return jn.bulkCreateInventoryItems(e)}async createSingleCheckout(e){return jn.createSingleCheckout(e)}async createBulkCheckout(e){return jn.createBulkCheckout(e)}async checkInSingle(e){return jn.checkInSingle(e)}async checkInBulk(e){return jn.checkInBulk(e)}async getAllCheckouts(){return jn.getAllCheckouts()}async getCheckoutByMasterBarcode(e){return jn.getCheckoutByMasterBarcode(e)}async getAllMaintenanceTickets(){return jn.getAllMaintenanceTickets()}async createMaintenanceTicket(e){return jn.createMaintenanceTicket(e)}async updateMaintenanceTicket(e,t){return jn.updateMaintenanceTicket(e,t)}async deleteMaintenanceTicket(e){return jn.deleteMaintenanceTicket(e)}async getMaintenanceTicketById(e){return jn.getMaintenanceTicketById(e)}async createActivityLog(e){return Gm.createActivityLog(e)}async getRecentActivity(e=10){return Gm.getRecentActivity(e)}async getAllActivity(e){return Gm.getAllActivity(e)}async getActivityById(e){return Gm.getActivityById(e)}async getActivityByUser(e,t){return Gm.getActivityByUser(e,t)}async getActivityByModule(e,t){return Gm.getActivityByModule(e,t)}async getProjects(e){return di.getProjects(e)}async getProjectById(e){return di.getProjectById(e)}async createProject(e){return di.createProject(e)}async updateProject(e,t){return di.updateProject(e,t)}async deleteProject(e){return di.deleteProject(e)}async updateProjectStatus(e,t,n){return di.updateProjectStatus(e,t,n)}async uploadProjectPO(e,t){return di.uploadProjectPO(e,t)}async deleteProjectPO(e){return di.deleteProjectPO(e)}async downloadProjectPO(e){return di.downloadProjectPO(e)}async getProjectHourlyRates(e){return di.getProjectHourlyRates(e)}async saveProjectHourlyRates(e,t){return di.saveProjectHourlyRates(e,t)}async deleteProjectHourlyRate(e,t){return di.deleteProjectHourlyRate(e,t)}async uploadMigrationFile(e){return di.uploadMigrationFile(e)}async executeMigration(e){return di.executeMigration(e)}async getMigrationTemplate(){return di.getMigrationTemplate()}async getTimesheets(e){return ZA.getTimesheets(e)}async createTimesheet(e){return ZA.createTimesheet(e)}async updateTimesheet(e,t){return ZA.updateTimesheet(e,t)}async deleteTimesheet(e){return ZA.deleteTimesheet(e)}async getAllClients(e){return ZA.getAllClients(e)}async getClientById(e){return ZA.getClientById(e)}async createClient(e){return ZA.createClient(e)}async updateClient(e,t){return ZA.updateClient(e,t)}async deleteClient(e){return ZA.deleteClient(e)}async getAllTeamMembers(e){return Sh.getAllTeamMembers(e)}async getTeamMemberById(e){return Sh.getTeamMemberById(e)}async createTeamMember(e){return Sh.createTeamMember(e)}async updateTeamMember(e,t){return Sh.updateTeamMember(e,t)}async deleteTeamMember(e){return Sh.deleteTeamMember(e)}async reactivateTeamMember(e){return Sh.reactivateTeamMember(e)}async updateTeamMemberAvatar(e,t){return Sh.updateTeamMemberAvatar(e,t)}async getTeamByDepartment(e,t){return Sh.getTeamByDepartment(e,t)}async getAllComputers(e){return ed.getAllComputers(e)}async getComputerById(e){return ed.getComputerById(e)}async createComputer(e){return ed.createComputer(e)}async updateComputer(e,t){return ed.updateComputer(e,t)}async deleteComputer(e){return ed.deleteComputer(e)}async getComputersAssignedTo(e,t){return ed.getComputersAssignedTo(e,t)}async assignComputerToUser(e,t,n,a){return ed.assignComputerToUser(e,t,n,a)}async unassignComputer(e){return ed.unassignComputer(e)}async setMaintenanceStatus(e,t){return ed.setMaintenanceStatus(e,t)}async getAllResearchProjects(e){return eA.getAllResearchProjects(e)}async getResearchProjectById(e){return eA.getResearchProjectById(e)}async createResearchProject(e){return eA.createResearchProject(e)}async updateResearchProject(e,t){return eA.updateResearchProject(e,t)}async deleteResearchProject(e){return eA.deleteResearchProject(e)}async getResearchProjectsByStatus(e,t){return eA.getResearchProjectsByStatus(e,t)}async logResearchTimesheet(e){return eA.logResearchTimesheet(e)}async approveResearchTimesheet(e,t){return eA.approveResearchTimesheet(e,t)}async deleteResearchTimesheet(e){return eA.deleteResearchTimesheet(e)}async getResearchTimesheets(e){return eA.getResearchTimesheets(e)}async getAllPurchaseOrders(e){return nr.getAllPurchaseOrders(e)}async getPurchaseOrderById(e){return nr.getPurchaseOrderById(e)}async createPurchaseOrder(e){return nr.createPurchaseOrder(e)}async updatePurchaseOrder(e,t){return nr.updatePurchaseOrder(e,t)}async deletePurchaseOrder(e){return nr.deletePurchaseOrder(e)}async uploadPurchaseOrderFile(e){return nr.uploadPurchaseOrderFile(e)}async downloadPurchaseOrderFile(e){return nr.downloadPurchaseOrderFile(e)}async getPurchaseOrders(e){return nr.getPurchaseOrders(e)}async getPORevisions(e){return nr.getPORevisions(e)}async createPORevision(e,t){return nr.createPORevision(e,t)}async adjustPOMYRAmount(e,t,n){return nr.adjustPOMYRAmount(e,t,n)}async getAllInvoices(e){return nr.getAllInvoices(e)}async getInvoiceById(e){return nr.getInvoiceById(e)}async getNextInvoiceNumber(){return nr.getNextInvoiceNumber()}async getInvoiceProjectContext(e){return nr.getInvoiceProjectContext(e)}async createInvoice(e){return nr.createInvoice(e)}async updateInvoice(e,t){return nr.updateInvoice(e,t)}async deleteInvoice(e){return nr.deleteInvoice(e)}async downloadInvoicePDF(e){return nr.downloadInvoicePDF(e)}async getAllIssuedPOs(e){return nr.getAllIssuedPOs(e)}async getIssuedPOById(e){return nr.getIssuedPOById(e)}async getNextIssuedPONumber(){return nr.getNextIssuedPONumber()}async createIssuedPO(e){return nr.createIssuedPO(e)}async updateIssuedPO(e,t){return nr.updateIssuedPO(e,t)}async deleteIssuedPO(e){return nr.deleteIssuedPO(e)}async downloadIssuedPOPDF(e){return nr.downloadIssuedPOPDF(e)}async getAllCategories(){return nr.getAllCategories()}async getCategoryById(e){return nr.getCategoryById(e)}async createCategory(e){return nr.createCategory(e)}async updateCategory(e,t){return nr.updateCategory(e,t)}async deleteCategory(e){return nr.deleteCategory(e)}async getExchangeRates(){return nr.getExchangeRates()}async createExchangeRate(e){return nr.createExchangeRate(e)}async importExchangeRates(){return nr.importExchangeRates()}async convertCurrency(e,t){return nr.convertCurrency(e,t)}}const Cr=new V7,_ne=new V7,{login:jIe,logout:_Ie,changePassword:TIe,getInventoryItems:kIe,getInventoryById:FIe,createInventoryItem:OIe,updateInventoryItem:DIe,deleteInventoryItem:PIe,bulkCreateInventoryItems:IIe,createSingleCheckout:LIe,createBulkCheckout:MIe,checkInSingle:RIe,checkInBulk:UIe,getAllCheckouts:QIe,getCheckoutByMasterBarcode:HIe,getAllMaintenanceTickets:zIe,createMaintenanceTicket:KIe,updateMaintenanceTicket:$Ie,deleteMaintenanceTicket:VIe,getMaintenanceTicketById:qIe,createActivityLog:GIe,getRecentActivity:WIe,getAllActivity:YIe,getActivityById:XIe,getActivityByUser:JIe,getActivityByModule:ZIe,getProjects:eLe,getProjectById:tLe,createProject:rLe,updateProject:nLe,deleteProject:aLe,updateProjectStatus:sLe,uploadProjectPO:iLe,deleteProjectPO:oLe,downloadProjectPO:lLe,getTimesheets:cLe,createTimesheet:uLe,getAllClients:ALe,getClientById:dLe,createClient:hLe,updateClient:fLe,deleteClient:mLe,getAllTeamMembers:pLe,getTeamMemberById:gLe,createTeamMember:xLe,updateTeamMember:yLe,deleteTeamMember:vLe,getTeamByDepartment:bLe,getAllComputers:wLe,getComputerById:CLe,createComputer:NLe,updateComputer:SLe,deleteComputer:BLe,getComputersAssignedTo:ELe,assignComputerToUser:jLe,unassignComputer:_Le,getAllResearchProjects:TLe,getResearchProjectById:kLe,createResearchProject:FLe,updateResearchProject:OLe,deleteResearchProject:DLe,getResearchProjectsByStatus:PLe,uploadMigrationFile:ILe,executeMigration:LLe,getMigrationTemplate:MLe,getAllPurchaseOrders:RLe,getPurchaseOrderById:ULe,createPurchaseOrder:QLe,updatePurchaseOrder:HLe,deletePurchaseOrder:zLe,getAllInvoices:KLe,getInvoiceById:$Le,getNextInvoiceNumber:VLe,getInvoiceProjectContext:qLe,createInvoice:GLe,updateInvoice:WLe,deleteInvoice:YLe,downloadInvoicePDF:XLe,getAllIssuedPOs:JLe,getIssuedPOById:ZLe,getNextIssuedPONumber:eMe,createIssuedPO:tMe,updateIssuedPO:rMe,deleteIssuedPO:nMe,downloadIssuedPOPDF:aMe,getAllCategories:sMe,getCategoryById:iMe,createCategory:oMe,updateCategory:lMe,deleteCategory:cMe,getExchangeRates:uMe,createExchangeRate:AMe,importExchangeRates:dMe,convertCurrency:hMe}=_ne,Tne=({isOpen:r,onClose:e,onSuccess:t,isFirstTimeLogin:n=!1,userEmail:a=""})=>{const[s,i]=B.useState(""),[l,c]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[C,j]=B.useState("weak"),T=k=>{if(k.length<8){j("weak");return}/[a-z]/.test(k)&&/[A-Z]/.test(k)&&/[0-9]/.test(k)&&/[^a-zA-Z0-9]/.test(k)?j("strong"):/[a-z]/.test(k)&&/[A-Z]/.test(k)&&/[0-9]/.test(k)?j("medium"):j("weak")},L=k=>{c(k),T(k)},I=async k=>{if(k.preventDefault(),!n&&!s){Ce.error("Current password is required");return}if(!l||!u){Ce.error("Please fill in all password fields");return}if(l.length<8){Ce.error("Password must be at least 8 characters long");return}if(C==="weak"){Ce.error("Password must contain uppercase, lowercase, numbers, and special characters");return}if(l!==u){Ce.error("Passwords do not match");return}if(!n&&l===s){Ce.error("New password must be different from current password");return}S(!0);try{await Cr.changePassword(a,n?"":s,l),Ce.success("Password changed successfully"),i(""),c(""),d(""),j("weak"),t&&t(),e()}catch(z){const P=z.response?.data?.message||"Failed to change password";Ce.error(P)}finally{S(!1)}};if(!r)return null;const D=C==="strong"?"bg-green-500":C==="medium"?"bg-yellow-500":"bg-red-500";return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:n?void 0:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rh,{className:"w-6 h-6 text-primary-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Set Your Password":"Change Password"})]}),!n&&o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),n&&o.jsx("div",{className:"bg-blue-50 border-b border-blue-200 p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Cs,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"First-Time Login: Set Your Password"}),o.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"For security reasons, you must set a new password to continue. This step cannot be skipped."})]})]})}),o.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[!n&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:f?"text":"password",value:s,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter current password",required:!n}),o.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",value:l,onChange:k=>L(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter new password",required:!0}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})})]}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:"text-xs font-medium capitalize text-gray-600",children:C})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:`${D} h-1.5 rounded-full transition-all`,style:{width:C==="weak"?"33%":C==="medium"?"66%":"100%"}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 8 characters with uppercase, lowercase, numbers, and special characters"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:u,onChange:k=>d(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Confirm new password",required:!0}),o.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})}),l&&u&&l===u&&o.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:o.jsx($a,{className:"w-5 h-5 text-green-500"})}),l&&u&&l!==u&&o.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:o.jsx(Cs,{className:"w-5 h-5 text-red-500"})})]}),l&&u&&l===u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-600",children:[o.jsx($a,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords match"})]}),l&&u&&l!==u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-600",children:[o.jsx(Cs,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords do not match"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[!n&&o.jsx("button",{type:"button",onClick:e,disabled:w,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:w||!l||!u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:w?"Changing...":n?"Set Password":"Change Password"})]})]})]})})]})},kne=({isOpen:r,onClose:e})=>{const[t,n]=B.useState(""),[a,s]=B.useState(!1),[i,l]=B.useState(!1);if(!r)return null;const c=async d=>{if(d.preventDefault(),!t){Ce.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){Ce.error("Please enter a valid email address");return}s(!0);try{await bn.api.post("/auth/forgot-password",{email:t}),Ce.success("Password reset link sent! Please check your email."),l(!0)}catch(f){console.error("Forgot password error:",f),Ce.error(f.response?.data?.error||"Failed to send reset link")}finally{s(!1)}},u=()=>{n(""),l(!1),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i?o.jsx($a,{className:"w-5 h-5 text-blue-600"}):o.jsx(Ag,{className:"w-5 h-5 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Check Your Email":"Forgot Password"})]}),o.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:i?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx($a,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"Email sent successfully!"}),o.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["We've sent a password reset link to ",o.jsx("span",{className:"font-medium",children:t})]})]})]})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Cs,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Important:"}),o.jsxs("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"The reset link will expire in 1 hour"}),o.jsx("li",{children:"Check your spam folder if you don't see it"}),o.jsx("li",{children:"Never share the reset link with anyone"})]})]})]})}),o.jsx("button",{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200",children:"Close"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Cs,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Enter your email address and we'll send you a link to reset your password."})]})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),o.jsx("input",{id:"reset-email",type:"email",value:t,onChange:d=>n(d.target.value),placeholder:"you@example.com",disabled:a,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",autoFocus:!0})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]})})]})})};var tS={exports:{}},rS,kD;function Fne(){if(kD)return rS;kD=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rS=r,rS}var nS,FD;function One(){if(FD)return nS;FD=1;var r=Fne();function e(){}function t(){}return t.resetWarningCache=e,nS=function(){function n(i,l,c,u,d,f){if(f!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},nS}var OD;function Dne(){return OD||(OD=1,tS.exports=One()()),tS.exports}var Pne=Dne();const Xo=Fc(Pne);var Ine=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function i4(){return i4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},i4.apply(this,arguments)}function Lne(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function R1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Mne(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,o4(r,e)}function o4(r,e){return o4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o4(r,e)}var mC=(function(r){Mne(e,r);function e(){var n;return n=r.call(this)||this,n.handleExpired=n.handleExpired.bind(R1(n)),n.handleErrored=n.handleErrored.bind(R1(n)),n.handleChange=n.handleChange.bind(R1(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(R1(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},t.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var a=this;return new Promise(function(s,i){a.executionResolve=s,a.executionReject=i,a.execute()})},t.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},t.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=a(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(a){this.captcha=a},t.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var s=Lne(a,Ine);return B.createElement("div",i4({},s,{ref:this.handleRecaptchaRef}))},e})(B.Component);mC.displayName="ReCAPTCHA";mC.propTypes={sitekey:Xo.string.isRequired,onChange:Xo.func,grecaptcha:Xo.object,theme:Xo.oneOf(["dark","light"]),type:Xo.oneOf(["image","audio"]),tabindex:Xo.number,onExpired:Xo.func,onErrored:Xo.func,size:Xo.oneOf(["compact","normal","invisible"]),stoken:Xo.string,hl:Xo.string,badge:Xo.oneOf(["bottomright","bottomleft","inline"]),isolated:Xo.bool};mC.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var aS={exports:{}},Fn={};var DD;function Rne(){if(DD)return Fn;DD=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,i=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function C(T){if(typeof T=="object"&&T!==null){var L=T.$$typeof;switch(L){case e:switch(T=T.type,T){case c:case u:case n:case s:case a:case f:return T;default:switch(T=T&&T.$$typeof,T){case l:case d:case y:case m:case i:return T;default:return L}}case t:return L}}}function j(T){return C(T)===u}return Fn.AsyncMode=c,Fn.ConcurrentMode=u,Fn.ContextConsumer=l,Fn.ContextProvider=i,Fn.Element=e,Fn.ForwardRef=d,Fn.Fragment=n,Fn.Lazy=y,Fn.Memo=m,Fn.Portal=t,Fn.Profiler=s,Fn.StrictMode=a,Fn.Suspense=f,Fn.isAsyncMode=function(T){return j(T)||C(T)===c},Fn.isConcurrentMode=j,Fn.isContextConsumer=function(T){return C(T)===l},Fn.isContextProvider=function(T){return C(T)===i},Fn.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},Fn.isForwardRef=function(T){return C(T)===d},Fn.isFragment=function(T){return C(T)===n},Fn.isLazy=function(T){return C(T)===y},Fn.isMemo=function(T){return C(T)===m},Fn.isPortal=function(T){return C(T)===t},Fn.isProfiler=function(T){return C(T)===s},Fn.isStrictMode=function(T){return C(T)===a},Fn.isSuspense=function(T){return C(T)===f},Fn.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===u||T===s||T===a||T===f||T===p||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===m||T.$$typeof===i||T.$$typeof===l||T.$$typeof===d||T.$$typeof===v||T.$$typeof===w||T.$$typeof===S||T.$$typeof===g)},Fn.typeOf=C,Fn}var PD;function Une(){return PD||(PD=1,aS.exports=Rne()),aS.exports}var sS,ID;function Qne(){if(ID)return sS;ID=1;var r=Une(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=a;function i(y){return r.isMemo(y)?a:s[y.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(y,g,v){if(typeof g!="string"){if(p){var w=f(g);w&&w!==p&&m(y,w,v)}var S=c(g);u&&(S=S.concat(u(g)));for(var C=i(y),j=i(g),T=0;T<S.length;++T){var L=S[T];if(!t[L]&&!(v&&v[L])&&!(j&&j[L])&&!(C&&C[L])){var I=d(g,L);try{l(y,L,I)}catch{}}}}return y}return sS=m,sS}var Hne=Qne();const zne=Fc(Hne);function l4(){return l4=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},l4.apply(this,arguments)}function Kne(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function $ne(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var uu={},Vne=0;function qne(r,e){return e=e||{},function(n){var a=n.displayName||n.name||"Component",s=(function(l){$ne(c,l);function c(d,f){var p;return p=l.call(this,d,f)||this,p.state={},p.__scriptURL="",p}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Vne++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(f){var p=this;this.setState(f,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=uu[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var p in f.observers)f.observers[p](f);delete window[e.callbackName]},u.componentDidMount=function(){var f=this,p=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),y=e,g=y.globalName,v=y.callbackName,w=y.scriptId;if(g&&typeof window[g]<"u"&&(uu[p]={loaded:!0,observers:{}}),uu[p]){var S=uu[p];if(S&&(S.loaded||S.errored)){this.asyncScriptLoaderHandleLoad(S);return}S.observers[m]=function(I){return f.asyncScriptLoaderHandleLoad(I)};return}var C={};C[m]=function(I){return f.asyncScriptLoaderHandleLoad(I)},uu[p]={loaded:!1,observers:C};var j=document.createElement("script");j.src=p,j.async=!0;for(var T in e.attributes)j.setAttribute(T,e.attributes[T]);w&&(j.id=w);var L=function(D){if(uu[p]){var k=uu[p],z=k.observers;for(var P in z)D(z[P])&&delete z[P]}};v&&typeof window<"u"&&(window[v]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),j.onload=function(){var I=uu[p];I&&(I.loaded=!0,L(function(D){return v?!1:(D(I),!0)}))},j.onerror=function(){var I=uu[p];I&&(I.errored=!0,L(function(D){return D(I),!0}))},document.body.appendChild(j)},u.componentWillUnmount=function(){var f=this.__scriptURL;if(e.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),m=0;m<p.length;m+=1)p[m].src.indexOf(f)>-1&&p[m].parentNode&&p[m].parentNode.removeChild(p[m]);var y=uu[f];y&&(delete y.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete uu[f])},u.render=function(){var f=e.globalName,p=this.props;p.asyncScriptOnLoad;var m=p.forwardedRef,y=Kne(p,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(y[f]=typeof window[f]<"u"?window[f]:void 0),y.ref=m,B.createElement(n,y)},c})(B.Component),i=B.forwardRef(function(l,c){return B.createElement(s,l4({},l,{forwardedRef:c}))});return i.displayName="AsyncScriptLoader("+a+")",i.propTypes={asyncScriptOnLoad:Xo.func},zne(i,n)}}var c4="onloadcallback",Gne="grecaptcha";function u4(){return typeof window<"u"&&window.recaptchaOptions||{}}function Wne(){var r=u4(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+c4+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+c4+"&render=explicit"}const Yne=qne(Wne,{callbackName:c4,globalName:Gne,attributes:u4().nonce?{nonce:u4().nonce}:{}})(mC),LD=(r,e)=>[`[${new Date().toISOString()}] [${r.toUpperCase()}]`,...e],Rt={debug:(...r)=>{},info:(...r)=>{},warn:(...r)=>{console.warn(...LD("warn",r))},error:(...r)=>{console.error(...LD("error",r))},axiosError:(r,e)=>{}},Xne=()=>{const[r,e]=B.useState(""),[t,n]=B.useState(""),[a,s]=B.useState(!1),[i,l]=B.useState(!1),[c,u]=B.useState(!1),[d,f]=B.useState(""),[p,m]=B.useState(!1),[y,g]=B.useState(!1),[v,w]=B.useState(""),[S,C]=B.useState(""),[j,T]=B.useState(null),L=B.useRef(null),I=B.useRef(null),{login:D}=cf(),k=ug(),z="6LdhWEwsAAAAAK_Y7FQk1sOpEGiMF9OL6W9fZVhy",P=()=>{let ae=!0;return w(""),C(""),r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(w("Please enter a valid email address"),ae=!1):(w("Email is required"),ae=!1),t?t.length<6&&(C("Password must be at least 6 characters"),ae=!1):(C("Password is required"),ae=!1),j||(Ce.error("Please complete the CAPTCHA verification"),ae=!1),ae},U=ae=>{T(ae)},M=async ae=>{if(ae.preventDefault(),!P()){L.current?.focus();return}g(!0);try{(await D(r,t,j||void 0))?.isFirstTimeLogin??!1?(f(r),m(!0),l(!0),Ce.success("Logged in successfully. Please set a new password.")):(Ce.success("Logged in successfully"),k("/")),I.current?.reset(),T(null)}catch(W){const ee=W?.response?.data?.error||W?.message||"Invalid credentials. Please try again.";Ce.error(ee),Rt.error("Login error:",W),I.current?.reset(),T(null)}finally{g(!1)}},q=()=>{l(!1),m(!1),f(""),Ce.success("Password updated. Redirecting to dashboard..."),setTimeout(()=>{k("/")},1e3)};return o.jsxs("div",{className:"relative flex items-center justify-center min-h-screen overflow-hidden bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:"mesh-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:"0.5"})}),o.jsxs("pattern",{id:"mesh-dots",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:[o.jsx("circle",{cx:"0",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"0",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"})]})]}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-grid)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-dots)"})]}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"flow-gradient-1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(239, 68, 68, 0)"}),o.jsx("stop",{offset:"30%",stopColor:"rgba(239, 68, 68, 0.6)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(251, 191, 36, 0.8)"}),o.jsx("stop",{offset:"70%",stopColor:"rgba(34, 197, 94, 0.6)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(59, 130, 246, 0)"})]}),o.jsxs("linearGradient",{id:"flow-gradient-2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0)"}),o.jsx("stop",{offset:"20%",stopColor:"rgba(59, 130, 246, 0.5)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(147, 51, 234, 0.7)"}),o.jsx("stop",{offset:"80%",stopColor:"rgba(236, 72, 153, 0.5)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(236, 72, 153, 0)"})]})]}),o.jsx("path",{className:"flow-line-1",d:"M-100,150 Q200,100 400,180 T800,120 T1200,200 T1600,140",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"3",opacity:"0.7"}),o.jsx("path",{className:"flow-line-2",d:"M-100,250 Q150,300 350,220 T700,280 T1100,200 T1500,260",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.5"}),o.jsx("path",{className:"flow-line-3",d:"M-100,450 Q250,400 450,480 T850,420 T1250,500 T1650,440",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"2.5",opacity:"0.6"}),o.jsx("path",{className:"flow-line-4",d:"M-100,600 Q200,550 400,620 T800,560 T1200,640 T1600,580",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.4"})]}),o.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 rounded-full bg-gradient-radial from-red-500/20 via-orange-500/10 to-transparent blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] rounded-full bg-gradient-radial from-blue-500/25 via-cyan-500/10 to-transparent blur-3xl animate-pulse-slow-delayed"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-gradient-radial from-purple-500/15 via-indigo-500/5 to-transparent blur-3xl"}),o.jsx("div",{className:"absolute top-20 left-20 opacity-40",children:o.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead1",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(34, 197, 94, 0.8)"})})}),o.jsx("line",{x1:"0",y1:"10",x2:"50",y2:"10",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})]})}),o.jsx("div",{className:"absolute top-32 left-32 opacity-50",children:o.jsx("svg",{width:"80",height:"20",viewBox:"0 0 80 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"70",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2.5",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-40 right-40 opacity-40 rotate-[-15deg]",children:o.jsx("svg",{width:"70",height:"20",viewBox:"0 0 70 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"60",y2:"10",stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-60 right-60 opacity-50 rotate-[-10deg]",children:o.jsx("svg",{width:"90",height:"20",viewBox:"0 0 90 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"80",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute top-1/4 right-1/4 w-8 h-8 rounded-full bg-red-500/50 blur-sm animate-ping-slow"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-6 h-6 rounded-full bg-orange-500/40 blur-sm animate-ping-slow-delayed"}),o.jsx("div",{className:"absolute top-2/3 right-1/3 w-10 h-10 rounded-full bg-yellow-500/30 blur-md animate-pulse-slow"}),o.jsxs("svg",{className:"absolute bottom-0 left-0 w-full h-48 opacity-30",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:[o.jsx("path",{d:"M0,100 Q150,60 300,100 T600,80 T900,120 T1200,90",fill:"none",stroke:"rgba(96, 165, 250, 0.6)",strokeWidth:"1"}),o.jsx("path",{d:"M0,120 Q150,80 300,120 T600,100 T900,140 T1200,110",fill:"none",stroke:"rgba(96, 165, 250, 0.5)",strokeWidth:"1"}),o.jsx("path",{d:"M0,140 Q150,100 300,140 T600,120 T900,160 T1200,130",fill:"none",stroke:"rgba(96, 165, 250, 0.4)",strokeWidth:"1"}),o.jsx("path",{d:"M0,160 Q150,120 300,160 T600,140 T900,180 T1200,150",fill:"none",stroke:"rgba(96, 165, 250, 0.3)",strokeWidth:"1"})]}),o.jsxs("div",{className:"absolute bottom-8 left-8 flex flex-col gap-0.5 opacity-60",children:[o.jsx("div",{className:"w-4 h-3 bg-red-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-orange-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-yellow-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-green-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-cyan-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-blue-500 rounded-sm"}),o.jsx("span",{className:"text-[8px] text-blue-300 mt-1",children:"Velocity"})]})]}),o.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Rh,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back to MyCAE Technologies App"})]}),o.jsxs("form",{className:"px-8 pb-8 space-y-5",onSubmit:M,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),o.jsx("input",{ref:L,id:"email",type:"email",value:r,onChange:ae=>e(ae.target.value),placeholder:"you@example.com",disabled:y,className:`w-full px-4 py-3 border ${v?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),v&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:v})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:a?"text":"password",value:t,onChange:ae=>n(ae.target.value),placeholder:"",disabled:y,className:`w-full px-4 py-3 pr-10 border ${S?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),o.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:a?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})})]}),S&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:S})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Yne,{ref:I,sitekey:z,onChange:U,theme:"light"})}),o.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3.5 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:y?"Logging in...":"Login"}),o.jsx("div",{className:"text-center mt-4",children:o.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>u(!0),children:"Forgot Password?"})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-white text-sm opacity-80",children:"Powered by MyCAE Technologies"})})]}),o.jsx(Tne,{isOpen:i,onClose:()=>l(!1),onSuccess:q,isFirstTimeLogin:p,userEmail:d}),o.jsx(kne,{isOpen:c,onClose:()=>u(!1)}),o.jsx("style",{children:`
        @keyframes flow-animate {
          0% {
            stroke-dashoffset: 1000;
          }
          100% {
            stroke-dashoffset: 0;
          }
        }

        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.3;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.05);
          }
        }

        @keyframes pulse-slow-delayed {
          0%, 100% {
            opacity: 0.2;
            transform: scale(1);
          }
          50% {
            opacity: 0.5;
            transform: scale(1.08);
          }
        }

        @keyframes ping-slow {
          0% {
            transform: scale(1);
            opacity: 0.5;
          }
          50% {
            transform: scale(1.5);
            opacity: 0.2;
          }
          100% {
            transform: scale(1);
            opacity: 0.5;
          }
        }

        @keyframes ping-slow-delayed {
          0% {
            transform: scale(1);
            opacity: 0.4;
          }
          60% {
            transform: scale(1.3);
            opacity: 0.15;
          }
          100% {
            transform: scale(1);
            opacity: 0.4;
          }
        }

        .flow-line-1, .flow-line-2, .flow-line-3, .flow-line-4 {
          stroke-dasharray: 20 10;
          animation: flow-animate 8s linear infinite;
        }

        .flow-line-2 {
          animation-delay: -2s;
          animation-duration: 10s;
        }

        .flow-line-3 {
          animation-delay: -4s;
          animation-duration: 12s;
        }

        .flow-line-4 {
          animation-delay: -6s;
          animation-duration: 9s;
        }

        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }

        .animate-pulse-slow-delayed {
          animation: pulse-slow-delayed 8s ease-in-out infinite;
          animation-delay: -3s;
        }

        .animate-ping-slow {
          animation: ping-slow 4s ease-in-out infinite;
        }

        .animate-ping-slow-delayed {
          animation: ping-slow-delayed 5s ease-in-out infinite;
          animation-delay: -2s;
        }

        .bg-gradient-radial {
          background: radial-gradient(circle, var(--tw-gradient-stops));
        }
      `})]})},Dt=Zs.forwardRef(({className:r,variant:e="primary",size:t="md",fullWidth:n,icon:a,iconPosition:s="left",loading:i=!1,loadingText:l,children:c,disabled:u,...d},f)=>{const p=u||i;return o.jsx("button",{ref:f,disabled:p,className:_r("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all","min-h-[44px]","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",!p&&"hover:scale-[1.02] active:scale-[0.98]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","dark:focus-visible:ring-offset-gray-900",e==="primary"&&"bg-primary-600 text-white shadow-sm focus-visible:ring-primary-500",e==="primary"&&!p&&"hover:bg-primary-700 hover:shadow-md",e==="secondary"&&"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus-visible:ring-gray-500",e==="secondary"&&!p&&"hover:bg-gray-200 dark:hover:bg-gray-600",e==="outline"&&"border-2 border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400 bg-transparent focus-visible:ring-primary-500",e==="outline"&&!p&&"hover:bg-primary-50 dark:hover:bg-primary-900/20",e==="ghost"&&"text-gray-700 dark:text-gray-300 bg-transparent focus-visible:ring-gray-500",e==="ghost"&&!p&&"hover:bg-gray-100 dark:hover:bg-gray-800",e==="danger"&&"bg-red-600 text-white shadow-sm focus-visible:ring-red-500",e==="danger"&&!p&&"hover:bg-red-700 hover:shadow-md",e==="success"&&"bg-green-600 text-white shadow-sm focus-visible:ring-green-500",e==="success"&&!p&&"hover:bg-green-700 hover:shadow-md",t==="xs"&&"px-2 py-2 text-xs",t==="sm"&&"px-3 py-2 text-sm",t==="md"&&"px-4 py-2.5 text-base",t==="lg"&&"px-6 py-3 text-lg min-h-[52px]",t==="xl"&&"px-8 py-4 text-xl min-h-[60px]",n&&"w-full",r),...d,children:i?o.jsxs(o.Fragment,{children:[o.jsx(n7,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),o.jsx("span",{children:l||"Loading..."})]}):o.jsxs(o.Fragment,{children:[a&&s==="left"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a}),c,a&&s==="right"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a})]})})});Dt.displayName="Button";const Jne=Zs.forwardRef(({className:r,size:e="md",icon:t,...n},a)=>{const s={xs:"w-8 h-8",sm:"w-9 h-9",md:"w-11 h-11",lg:"w-12 h-12",xl:"w-14 h-14"},i={xs:"w-3.5 h-3.5",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"};return o.jsx(Dt,{ref:a,size:e,className:_r("p-0",s[e],r),...n,children:o.jsx("span",{className:i[e],"aria-hidden":"true",children:t})})});Jne.displayName="IconButton";const ia=Zs.forwardRef(({className:r,label:e,error:t,success:n,icon:a,fullWidth:s,type:i="text",hint:l,id:c,onValidate:u,...d},f)=>{const p=c||`input-${d.name||Math.random().toString(36).substr(2,9)}`,m=t?`${p}-error`:void 0,y=n?`${p}-success`:void 0,g=l?`${p}-hint`:void 0,v=[m,y,g].filter(Boolean).join(" ")||void 0,w=!t&&n;return o.jsxs("div",{className:_r("flex flex-col gap-1.5",s&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:p,children:e}),o.jsxs("div",{className:"relative",children:[a&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400","aria-hidden":"true",children:a}),o.jsx("input",{ref:f,id:p,type:i,"aria-invalid":t?"true":void 0,"aria-describedby":v,className:_r("w-full rounded-lg border px-3 py-2.5 text-sm min-h-[44px]","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",a&&"pl-10",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",w&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",(t||w)&&"pr-10",r),...d}),(t||w)&&o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[t&&o.jsx(Cs,{className:"w-5 h-5 text-red-500 dark:text-red-400","aria-hidden":"true"}),w&&o.jsx(vy,{className:"w-5 h-5 text-green-500 dark:text-green-400","aria-hidden":"true"})]})]}),l&&!t&&!n&&o.jsx("span",{id:g,className:"text-xs text-gray-500 dark:text-gray-400",children:l}),t&&o.jsxs("span",{id:m,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(Cs,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:y,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(vy,{className:"w-3 h-3","aria-hidden":"true"}),n]})]})});ia.displayName="Input";const Zne=Zs.forwardRef(({className:r,label:e,error:t,success:n,fullWidth:a,hint:s,id:i,maxLength:l,showCharCount:c,value:u,...d},f)=>{const p=i||`textarea-${d.name||Math.random().toString(36).substr(2,9)}`,m=t?`${p}-error`:void 0,y=n?`${p}-success`:void 0,g=s?`${p}-hint`:void 0,v=[m,y,g].filter(Boolean).join(" ")||void 0,w=typeof u=="string"?u.length:0,S=!t&&n;return o.jsxs("div",{className:_r("flex flex-col gap-1.5",a&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:p,children:e}),o.jsx("textarea",{ref:f,id:p,value:u,maxLength:l,"aria-invalid":t?"true":void 0,"aria-describedby":v,className:_r("w-full rounded-lg border px-3 py-2.5 text-sm","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",S&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",r),...d}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[s&&!t&&!n&&o.jsx("span",{id:g,className:"text-xs text-gray-500 dark:text-gray-400",children:s}),t&&o.jsxs("span",{id:m,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(Cs,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:y,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(vy,{className:"w-3 h-3","aria-hidden":"true"}),n]})]}),c&&l&&o.jsxs("span",{className:_r("text-xs",w>=l?"text-red-500 dark:text-red-400":"text-gray-400 dark:text-gray-500"),children:[w,"/",l]})]})]})});Zne.displayName="TextArea";const eae=()=>{const r=ug(),[e]=rJ(),t=e.get("token"),[n,a]=B.useState("request"),[s,i]=B.useState(""),[l,c]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[C,j]=B.useState(!1),T=M=>M.length>=12&&/[A-Z]/.test(M)&&/[a-z]/.test(M)&&/\d/.test(M)&&/[!@#$%^&*(),.?":{}|<>]/.test(M),I=(M=>{if(M.length===0)return{score:0,label:"",color:""};let q=0;return q=[M.length>=12,/[A-Z]/.test(M),/[a-z]/.test(M),/\d/.test(M),/[!@#$%^&*(),.?":{}|<>]/.test(M)].filter(Boolean).length,q<=2?{score:q,label:"Weak",color:"bg-red-500"}:q<=3?{score:q,label:"Medium",color:"bg-yellow-500"}:{score:q,label:"Strong",color:"bg-green-500"}})(l),D=T(l),k=l===u&&l.length>0;B.useEffect(()=>{t&&z(t)},[t]);const z=async M=>{j(!0);try{const q=await bn.api.post("/auth/verify-reset-token",{token:M});q.data.valid?(S(!0),a("reset"),i(q.data.email)):(Lt.error("Invalid or expired reset link"),a("request"))}catch(q){console.error("Token verification error:",q),Lt.error(q.response?.data?.error||"Invalid or expired reset link"),a("request")}finally{j(!1)}},P=async M=>{if(M.preventDefault(),!s){Lt.error("Please enter your email address");return}v(!0);try{await bn.api.post("/auth/forgot-password",{email:s}),Lt.success("Password reset link sent! Check your email."),a("success")}catch(q){console.error("Forgot password error:",q),Lt.error(q.response?.data?.error||"Failed to send reset link")}finally{v(!1)}},U=async M=>{if(M.preventDefault(),!l||!u){Lt.error("Please fill in all fields");return}if(!D){Lt.error("Password does not meet requirements");return}if(!k){Lt.error("Passwords do not match");return}v(!0);try{await bn.api.post("/auth/reset-password",{token:t,newPassword:l}),Lt.success("Password reset successful!"),a("success"),setTimeout(()=>{r("/login")},2e3)}catch(q){console.error("Reset password error:",q),Lt.error(q.response?.data?.error||"Failed to reset password")}finally{v(!1)}};return C?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying reset link..."})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n!=="success"&&o.jsxs("button",{onClick:()=>r("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[o.jsx(aZ,{className:"w-4 h-4"}),"Back to Login"]}),n==="request"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Rh,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ag,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(ia,{type:"email",value:s,onChange:M=>i(M.target.value),placeholder:"your.email@example.com",className:"pl-10",required:!0})]})]}),o.jsx(Dt,{type:"submit",variant:"primary",className:"w-full",disabled:g,children:g?"Sending...":"Send Reset Link"})]})]}),n==="reset"&&w&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Rh,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:["Enter your new password for ",o.jsx("strong",{children:s})]})]}),o.jsxs("form",{onSubmit:U,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(ia,{type:f?"text":"password",value:l,onChange:M=>c(M.target.value),placeholder:"Enter new password",className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})})]}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:`text-xs font-medium capitalize ${I.score<=2?"text-red-600":I.score<=3?"text-yellow-600":"text-green-600"}`,children:I.label})]}),o.jsxs("div",{className:"flex gap-1 h-1.5",children:[o.jsx("div",{className:`flex-1 rounded-full ${I.score>=1?I.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${I.score>=2?I.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${I.score>=3?I.color:"bg-gray-200"}`})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:l.length>=12?"text-green-600":"",children:[l.length>=12?"":""," At least 12 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(l)?"text-green-600":"",children:[/[A-Z]/.test(l)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(l)?"text-green-600":"",children:[/[a-z]/.test(l)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(l)?"text-green-600":"",children:[/\d/.test(l)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(l)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(l)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(ia,{type:m?"text":"password",value:u,onChange:M=>d(M.target.value),placeholder:"Confirm new password",className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})}),l&&u&&l===u&&o.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:o.jsx($a,{className:"w-5 h-5 text-green-500"})}),l&&u&&l!==u&&o.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:o.jsx(Cs,{className:"w-5 h-5 text-red-500"})})]})]}),o.jsx(Dt,{type:"submit",variant:"primary",className:"w-full",disabled:!D||!k||g,children:g?"Resetting...":"Reset Password"})]})]}),n==="success"&&o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx($a,{className:"w-8 h-8 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t?"Password Reset!":"Email Sent!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:t?"Your password has been successfully reset. Redirecting to login...":"If an account exists with that email, we've sent a password reset link. Please check your inbox."}),!t&&o.jsx(Dt,{onClick:()=>r("/login"),variant:"primary",className:"w-full",children:"Back to Login"})]}),n!=="success"&&o.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Cs,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Security Notice"}),o.jsx("p",{className:"mt-1",children:"The reset link will expire in 1 hour. Never share this link with anyone."})]})]})})]})})},tae=30*1e3,ws=Oc((r,e)=>({projects:[],timesheets:[],loading:!1,lastFetched:null,fetchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<tae)){r({loading:!0});try{const i=await Cr.getProjects();r({projects:Array.isArray(i)?i:[],loading:!1,lastFetched:Date.now()})}catch(i){console.error("Failed to fetch projects:",i),r({loading:!1})}}},addProject:async t=>{try{const n=await Cr.createProject(t);return r(a=>({projects:[n,...a.projects],lastFetched:Date.now()})),n}catch(n){throw console.error("Failed to add project:",n),n}},updateProject:async(t,n)=>{try{const a=await Cr.updateProject(t,n);r(s=>({projects:s.projects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Failed to update project:",a),a}},deleteProject:async t=>{try{await Cr.deleteProject(t),r(n=>({projects:n.projects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Failed to delete project:",n),n}},fetchTimesheets:async t=>{r({loading:!0});try{const n=await Cr.getTimesheets(t),a=(Array.isArray(n)?n:[]).map(s=>({...s,hours:parseFloat(s.hours)||0}));r({timesheets:a,loading:!1})}catch(n){console.error("Failed to fetch timesheets:",n),r({timesheets:[],loading:!1})}},addTimesheet:async t=>{try{const n=await Cr.createTimesheet(t);r(a=>({timesheets:[n,...a.timesheets]})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to add timesheet:",n),n}},updateTimesheet:async(t,n)=>{try{const a=await Cr.updateTimesheet(t,n);r(s=>({timesheets:s.timesheets.map(i=>i.id===t?{...i,...a}:i)})),e().fetchProjects(!0)}catch(a){const s=a?.response?.data?.error||a?.message||"Failed to update timesheet";throw console.error("Error updating timesheet:",s),a}},deleteTimesheet:async t=>{try{await Cr.deleteTimesheet(t),r(n=>({timesheets:n.timesheets.filter(a=>a.id!==t)})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to delete timesheet:",n),n}}})),yx=r=>{if(r.name&&!r.user)return r;const e=r.user||{};return{id:r.id,userId:r.user_id||r.userId||e.id,name:e.name||r.name||"Unknown",email:e.email||r.email||"",role:e.role||r.role||"engineer",roles:e.roles||r.roles||[e.role||r.role||"engineer"],department:r.department||"engineering",phone:r.phone,avatar:e.avatar||r.avatar||"male-01",activeProjects:parseInt(r.activeProjects)||0,totalHoursThisMonth:parseFloat(r.totalHoursThisMonth)||0,joinDate:r.joinDate||new Date().toISOString(),status:r.status||"active",hourlyRate:r.hourlyRate,position:r.position,certifications:r.certifications||[]}},Dc=Oc(r=>({teamMembers:[],loading:!1,error:null,fetchTeamMembers:async e=>{try{r({loading:!0,error:null});const t=await Cr.getAllTeamMembers(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(yx);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team members";console.error("Error fetching team members:",n),r({error:n,loading:!1})}},addTeamMember:async e=>{try{r({loading:!0,error:null});const t=await Cr.createTeamMember(e),n=yx(t);r(a=>({teamMembers:[...a.teamMembers,n],loading:!1,error:null}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add team member";throw console.error("Error adding team member:",n),r({error:n,loading:!1}),t}},updateTeamMember:async(e,t)=>{try{r({loading:!0,error:null});const n=await Cr.updateTeamMember(e,t),a=yx(n);r(s=>({teamMembers:s.teamMembers.map(i=>i.id===e?a:i),loading:!1,error:null}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update team member";throw console.error("Error updating team member:",a),r({error:a,loading:!1}),n}},deleteTeamMember:async e=>{try{r({loading:!0,error:null}),await Cr.deleteTeamMember(e),r(t=>({teamMembers:t.teamMembers.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete team member";console.error("Error deleting team member:",n),r({error:n,loading:!1})}},reactivateTeamMember:async e=>{try{r({loading:!0,error:null});const t=await Cr.reactivateTeamMember(e),n=yx(t.data);r(a=>({teamMembers:a.teamMembers.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to reactivate team member";throw console.error("Error reactivating team member:",n),r({error:n,loading:!1}),t}},getTeamByDepartment:async e=>{try{r({loading:!0,error:null});const t=await Cr.getTeamByDepartment(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(yx);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team by department";console.error("Error fetching team by department:",n),r({error:n,loading:!1})}}})),uf=Oc(r=>({clients:[],loading:!1,error:null,fetchClients:async e=>{try{r({loading:!0,error:null});const t=await Cr.getAllClients(e);let n=[];Array.isArray(t)?n=t:t?.data?n=Array.isArray(t.data)?t.data:[]:n=[],r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch clients";console.error("Error fetching clients:",n),r({error:n,clients:[],loading:!1})}},addClient:async e=>{try{r({loading:!0,error:null});const t=await Cr.createClient(e);r(s=>({clients:[...s.clients,t],loading:!1,error:null}));const n=await Cr.getAllClients();let a=[];Array.isArray(n)?a=n:n?.data&&(a=Array.isArray(n.data)?n.data:[]),r({clients:a,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add client";console.error("Error adding client:",n),r({error:n,loading:!1})}},updateClient:async(e,t)=>{try{r({loading:!0,error:null});const n=await Cr.updateClient(e,t);r(i=>({clients:i.clients.map(l=>l.id===e?n:l),loading:!1,error:null}));const a=await Cr.getAllClients();let s=[];Array.isArray(a)?s=a:a?.data&&(s=Array.isArray(a.data)?a.data:[]),r({clients:s,loading:!1,error:null})}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update client";console.error("Error updating client:",a),r({error:a,loading:!1})}},deleteClient:async e=>{try{r({loading:!0,error:null}),await Cr.deleteClient(e),r(a=>({clients:a.clients.filter(s=>s.id!==e),loading:!1,error:null}));const t=await Cr.getAllClients();let n=[];Array.isArray(t)?n=t:t?.data&&(n=Array.isArray(t.data)?t.data:[]),r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete client";console.error("Error deleting client:",n),r({error:n,loading:!1})}},updateClientProjectCounts:async e=>{try{if(!(window.__clientStoreState?.clients||[]).find(a=>a.id===e))return;r({loading:!1})}catch(t){console.error("Error updating client project counts:",t)}}})),Gr=Zs.forwardRef(({className:r,variant:e="default",padding:t="md",active:n,children:a,...s},i)=>o.jsx("div",{ref:i,className:_r("bg-white",{"rounded-lg shadow-sm":e==="default","rounded-lg border border-gray-200":e==="bordered","rounded-lg shadow-md":e==="elevated","rounded-2xl shadow-sm border border-gray-100":e==="stat","rounded-2xl shadow-sm border border-gray-100 cursor-pointer transition-all hover:shadow-md hover:scale-[1.02]":e==="clickable","ring-2 ring-primary-500 ring-offset-2":n,"p-0":t==="none","p-3":t==="sm","p-4 md:p-6":t==="md","p-6 md:p-8":t==="lg"},r),...s,children:a}));Gr.displayName="Card";const U1=({className:r,children:e,...t})=>o.jsx("div",{className:_r("mb-4",r),...t,children:e}),Q1=({className:r,children:e,...t})=>o.jsx("h3",{className:_r("text-lg font-semibold text-gray-900",r),...t,children:e}),H1=({className:r,children:e,...t})=>o.jsx("div",{className:_r("",r),...t,children:e}),AA=({title:r,value:e,color:t="gray",onClick:n,active:a})=>{const s={gray:"text-gray-900",blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",purple:"text-purple-600",indigo:"text-indigo-600",red:"text-red-600"},i={gray:"ring-gray-500",blue:"ring-blue-500",green:"ring-green-500",yellow:"ring-yellow-500",purple:"ring-purple-500",indigo:"ring-indigo-500",red:"ring-red-500"};return n?o.jsxs("button",{onClick:n,className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${a?`ring-2 ${i[t]} ring-offset-2`:""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:r}),o.jsx("div",{className:`text-3xl font-bold ${s[t]}`,children:e})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:r}),o.jsx("div",{className:`text-3xl font-bold ${s[t]}`,children:e})]})},q7=({title:r,description:e,action:t,icon:n})=>o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[n&&o.jsx("div",{className:"hidden md:flex text-primary-600",children:n}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:r}),e&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]})]}),t&&o.jsx("div",{className:"flex-shrink-0",children:t})]})}),C_=({isOpen:r,onClose:e,project:t})=>{if(!r||!t)return null;const n=i=>{const l="px-4 py-2 rounded-lg font-semibold text-sm";switch(i){case"pre-lim":return o.jsx("span",{className:`${l} bg-blue-100 text-blue-800`,children:"Preliminary"});case"ongoing":return o.jsx("span",{className:`${l} bg-green-100 text-green-800`,children:"Ongoing"});case"completed":return o.jsx("span",{className:`${l} bg-gray-100 text-gray-800`,children:"Completed"});case"on-hold":return o.jsx("span",{className:`${l} bg-yellow-100 text-yellow-800`,children:"On Hold"});case"open":return o.jsx("span",{className:`${l} bg-purple-100 text-purple-800`,children:"Open"});case"closed":return o.jsx("span",{className:`${l} bg-red-100 text-red-800`,children:"Closed"});default:return o.jsx("span",{className:`${l} bg-gray-100 text-gray-800`,children:i})}},a=t.plannedHours>0?Math.round((t.actualHours||0)/t.plannedHours*100):0,s=(t.actualHours||0)>t.plannedHours;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-xl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:t.projectCode}),o.jsx("p",{className:"text-primary-100 text-sm mt-1",children:t.title})]}),o.jsx("button",{onClick:e,className:"text-white hover:bg-primary-800 p-1 rounded transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-3",children:"Status"}),o.jsx("div",{className:"flex items-center justify-center py-2",children:n(t.status)})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Hours Progress"}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.actualHours||0}),o.jsxs("span",{className:"text-sm text-gray-500",children:["of ",t.plannedHours," hrs"]})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${s?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(a,100)}%`}})}),o.jsx("p",{className:`text-xs mt-2 font-medium ${s?"text-red-600":"text-green-600"}`,children:s?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),(t.actualHours||0)-t.plannedHours," hrs over budget"]}):o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx($a,{className:"w-3 h-3"}),a,"% complete"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Company"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.companyName||o.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Lead Engineer"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.engineerName||o.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(Qi,{className:"w-3 h-3"}),"Start Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(t.startDate).toLocaleDateString()})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(Qi,{className:"w-3 h-3"}),"End Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.endDate?new Date(t.endDate).toLocaleDateString():"Not set"})]})]}),t.description&&o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-4 flex items-center gap-1",children:[o.jsx(ll,{className:"w-4 h-4"}),"Hours Overview"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Planned Hours"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t.plannedHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Actual Hours"}),o.jsxs("span",{className:`font-semibold ${s?"text-red-600":"text-green-600"}`,children:[t.actualHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Variance"}),o.jsxs("span",{className:`font-semibold ${s?"text-red-600":"text-green-600"}`,children:[s?"+":"",(t.actualHours||0)-t.plannedHours," hrs"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Project Code"}),o.jsx("p",{className:"text-sm font-mono font-medium text-gray-900",children:t.projectCode})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Created"}),o.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.createdDate||new Date).toLocaleDateString()})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:o.jsx(Dt,{variant:"outline",onClick:e,children:"Close"})})]})})},rae=({isOpen:r,onClose:e,teamMemberId:t,teamMemberName:n})=>{const{projects:a}=ws(),{clients:s}=uf(),i=B.useMemo(()=>t?a.filter(p=>p.engineerId===t):[],[t,a]),l=B.useMemo(()=>i.filter(p=>p.status==="ongoing"),[i]),c=B.useMemo(()=>i.filter(p=>p.status==="completed"),[i]),u=B.useMemo(()=>i.filter(p=>p.status==="pre-lim"),[i]),d=B.useMemo(()=>{const p=i.reduce((g,v)=>g+(v.actualHours||0),0),m=i.reduce((g,v)=>g+v.plannedHours,0),y=m>0?p/m*100:0;return{totalProjects:i.length,activeProjects:l.length,completedProjects:c.length,totalHours:p,totalPlannedHours:m,totalHoursUtilization:y}},[i,l,c]);if(!r)return null;const f=({project:p,status:m})=>{const y=s.find(w=>w.id===p.companyId),g=p.plannedHours>0?p.actualHours/p.plannedHours*100:0,v={active:{bg:"bg-blue-50",text:"text-blue-700"},completed:{bg:"bg-emerald-50",text:"text-emerald-700"},preLim:{bg:"bg-amber-50",text:"text-amber-700"}};return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:p.projectCode})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:p.title})})}),o.jsx("td",{className:"px-4 py-3 text-gray-700 text-sm",children:y?.name||"Unknown"}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-primary-600 h-1.5 rounded-full transition-all",style:{width:`${Math.min(g,100)}%`}})}),o.jsxs("span",{className:"font-semibold text-gray-900 w-6 text-right text-xs",children:[g.toFixed(0),"%"]})]})}),o.jsxs("td",{className:"px-4 py-3 text-right whitespace-nowrap",children:[o.jsx("span",{className:"font-medium text-gray-900",children:p.actualHours}),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:p.plannedHours})]}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${v[m].bg} ${v[m].text}`,children:m==="active"?"Ongoing":m==="completed"?"Completed":"Preliminary"})})]},p.id)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center pl-64",children:o.jsx("div",{className:"flex items-center justify-center w-full px-4 max-w-5xl",children:o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full max-h-[85vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Qp,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Project assignments and progress"})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(Ur,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Total Projects"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:d.totalProjects})]}),o.jsx(pA,{className:"w-8 h-8 text-blue-300"})]})}),o.jsx("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-cyan-600 uppercase tracking-wide",children:"Active"}),o.jsx("p",{className:"text-2xl font-bold text-cyan-900 mt-2",children:d.activeProjects})]}),o.jsx(Oee,{className:"w-8 h-8 text-cyan-300"})]})}),o.jsx("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-emerald-600 uppercase tracking-wide",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-emerald-900 mt-2",children:d.completedProjects})]}),o.jsx(pA,{className:"w-8 h-8 text-emerald-300"})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Hours Logged"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-2",children:d.totalHours})]}),o.jsx(ll,{className:"w-8 h-8 text-purple-300"})]})})]}),l.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Active Projects (",l.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(p=>o.jsx(f,{project:p,status:"active"},p.id))})]})})]}),c.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Completed Projects (",c.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(p=>o.jsx(f,{project:p,status:"completed"},p.id))})]})})]}),u.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Preliminary Projects (",u.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(p=>o.jsx(f,{project:p,status:"preLim"},p.id))})]})})]}),i.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pA,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned"})]})]}),o.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:o.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})})]})};var iS={},oS={},MD;function nae(){return MD||(MD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(oS)),oS}var lS={},RD;function G7(){return RD||(RD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(lS)),lS}var cS={},UD;function W7(){return UD||(UD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(cS)),cS}var uS={},QD;function N_(){return QD||(QD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){const n=[],a=t.length;if(a===0)return n;let s=0,i="",l="",c=!1;for(t.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=t[s];l?u==="\\"&&s+1<a?(s++,i+=t[s]):u===l?l="":i+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(i),i=""):i+=u:u==="["?(c=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}r.toPath=e})(uS)),uS}var HD;function S_(){return HD||(HD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=nae(),t=G7(),n=W7(),a=N_();function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?t.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}r.get=s})(iS)),iS}var AS,zD;function aae(){return zD||(zD=1,AS=S_().get),AS}var sae=aae();const E0=Fc(sae);var dS={exports:{}},Xn={};var KD;function iae(){if(KD)return Xn;KD=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case r:switch(g=g.type,g){case t:case a:case n:case c:case u:case p:return g;default:switch(g=g&&g.$$typeof,g){case i:case l:case f:case d:return g;case s:return g;default:return v}}case e:return v}}}return Xn.ContextConsumer=s,Xn.ContextProvider=i,Xn.Element=r,Xn.ForwardRef=l,Xn.Fragment=t,Xn.Lazy=f,Xn.Memo=d,Xn.Portal=e,Xn.Profiler=a,Xn.StrictMode=n,Xn.Suspense=c,Xn.SuspenseList=u,Xn.isContextConsumer=function(g){return y(g)===s},Xn.isContextProvider=function(g){return y(g)===i},Xn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===r},Xn.isForwardRef=function(g){return y(g)===l},Xn.isFragment=function(g){return y(g)===t},Xn.isLazy=function(g){return y(g)===f},Xn.isMemo=function(g){return y(g)===d},Xn.isPortal=function(g){return y(g)===e},Xn.isProfiler=function(g){return y(g)===a},Xn.isStrictMode=function(g){return y(g)===n},Xn.isSuspense=function(g){return y(g)===c},Xn.isSuspenseList=function(g){return y(g)===u},Xn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===a||g===n||g===c||g===u||typeof g=="object"&&g!==null&&(g.$$typeof===f||g.$$typeof===d||g.$$typeof===i||g.$$typeof===s||g.$$typeof===l||g.$$typeof===m||g.getModuleId!==void 0)},Xn.typeOf=y,Xn}var $D;function oae(){return $D||($D=1,dS.exports=iae()),dS.exports}var lae=oae(),gi=r=>r===0?0:r>0?1:-1,Kl=r=>typeof r=="number"&&r!=+r,s0=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,yr=r=>(typeof r=="number"||r instanceof Number)&&!Kl(r),yA=r=>yr(r)||typeof r=="string",cae=0,by=r=>{var e=++cae;return"".concat(r||"").concat(e)},uo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yr(e)&&typeof e!="string")return n;var s;if(s0(e)){if(t==null)return n;var i=e.indexOf("%");s=t*parseFloat(e.slice(0,i))/100}else s=+e;return Kl(s)&&(s=n),a&&t!=null&&s>t&&(s=t),s},Y7=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1};function Hi(r,e,t){return yr(r)&&yr(e)?r+t*(e-r):e}function uae(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):E0(n,e))===t)}var wi=r=>r===null||typeof r>"u",sv=r=>wi(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),Aae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function B_(r){if(typeof r!="string")return!1;var e=Aae;return e.includes(r)}var dae=["viewBox","children"],VD=["points","pathLength"],hS={svg:dae,polygon:VD,polyline:VD},hae=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(B.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(a=>{B_(a)&&(n[a]=(s=>t[a](t,s)))}),n},fae=(r,e,t)=>n=>(r(e,t,n),null),iv=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(a=>{var s=r[a];B_(a)&&typeof s=="function"&&(n||(n={}),n[a]=fae(s,e,t))}),n},mae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function X7(r){if(typeof r!="string")return!1;var e=mae;return e.includes(r)}function Af(r){var e=Object.entries(r).filter(t=>{var[n]=t;return X7(n)});return Object.fromEntries(e)}var qD=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",GD=null,fS=null,J7=r=>{if(r===GD&&Array.isArray(fS))return fS;var e=[];return B.Children.forEach(r,t=>{wi(t)||(lae.isFragment(t)?e=e.concat(J7(t.props.children)):e.push(t))}),fS=e,GD=r,e};function E_(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(a=>qD(a)):n=[qD(e)],J7(r).forEach(a=>{var s=E0(a,"type.displayName")||E0(a,"type.name");n.indexOf(s)!==-1&&t.push(a)}),t}var pae=(r,e,t,n)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(a=n&&hS?.[n])!==null&&a!==void 0?a:[],i=e.startsWith("data-"),l=typeof r!="function"&&(!!n&&s.includes(e)||X7(e)),c=!!t&&B_(e);return i||l||c},ei=(r,e,t)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(B.isValidElement(r)&&(n=r.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;pae((i=n)===null||i===void 0?void 0:i[s],s,e,t)&&(a[s]=n[s])}),a},gae=["children","width","height","viewBox","className","style","title","desc"];function A4(){return A4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},A4.apply(null,arguments)}function xae(r,e){if(r==null)return{};var t,n,a=yae(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function yae(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var j_=B.forwardRef((r,e)=>{var{children:t,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=r,d=xae(r,gae),f=s||{width:n,height:a,x:0,y:0},p=dn("recharts-surface",i);return B.createElement("svg",A4({},ei(d,!0,"svg"),{className:p,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),B.createElement("title",null,c),B.createElement("desc",null,u),t)}),vae=["children","className"];function d4(){return d4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},d4.apply(null,arguments)}function bae(r,e){if(r==null)return{};var t,n,a=wae(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function wae(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var ul=B.forwardRef((r,e)=>{var{children:t,className:n}=r,a=bae(r,vae),s=dn("recharts-layer",n);return B.createElement("g",d4({className:s},ei(a,!0),{ref:e}),t)}),Z7=B.createContext(null),Cae=()=>B.useContext(Z7);function Aa(r){return function(){return r}}const eQ=Math.cos,Ow=Math.sin,Eu=Math.sqrt,Dw=Math.PI,pC=2*Dw,h4=Math.PI,f4=2*h4,Wf=1e-6,Nae=f4-Wf;function tQ(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function Sae(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return tQ;const t=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*t)/t+n[a]}}class Bae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tQ:Sae(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,s,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,t,n,a,s){if(e=+e,t=+t,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-t,d=i-e,f=l-t,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>Wf)if(!(Math.abs(f*c-u*d)>Wf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let m=n-i,y=a-l,g=c*c+u*u,v=m*m+y*y,w=Math.sqrt(g),S=Math.sqrt(p),C=s*Math.tan((h4-Math.acos((g+p-v)/(2*w*S)))/2),j=C/S,T=C/w;Math.abs(j-1)>Wf&&this._append`L${e+j*d},${t+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*y)},${this._x1=e+T*c},${this._y1=t+T*u}`}}arc(e,t,n,a,s,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=t+c,f=1^i,p=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wf||Math.abs(this._y1-d)>Wf)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%f4+f4),p>Nae?this._append`A${n},${n},0,1,${f},${e-l},${t-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Wf&&this._append`A${n},${n},0,${+(p>=h4)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function __(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new Bae(e)}function T_(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function rQ(r){this._context=r}rQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function gC(r){return new rQ(r)}function nQ(r){return r[0]}function aQ(r){return r[1]}function sQ(r,e){var t=Aa(!0),n=null,a=gC,s=null,i=__(l);r=typeof r=="function"?r:r===void 0?nQ:Aa(r),e=typeof e=="function"?e:e===void 0?aQ:Aa(e);function l(c){var u,d=(c=T_(c)).length,f,p=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&t(f=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+r(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:Aa(+c),l):r},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Aa(+c),l):e},l.defined=function(c){return arguments.length?(t=typeof c=="function"?c:Aa(!!c),l):t},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function z1(r,e,t){var n=null,a=Aa(!0),s=null,i=gC,l=null,c=__(u);r=typeof r=="function"?r:r===void 0?nQ:Aa(+r),e=typeof e=="function"?e:Aa(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?aQ:Aa(+t);function u(f){var p,m,y,g=(f=T_(f)).length,v,w=!1,S,C=new Array(g),j=new Array(g);for(s==null&&(l=i(S=c())),p=0;p<=g;++p){if(!(p<g&&a(v=f[p],p,f))===w)if(w=!w)m=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=m;--y)l.point(C[y],j[y]);l.lineEnd(),l.areaEnd()}w&&(C[p]=+r(v,p,f),j[p]=+e(v,p,f),l.point(n?+n(v,p,f):C[p],t?+t(v,p,f):j[p]))}if(S)return l=null,S+""||null}function d(){return sQ().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(r=typeof f=="function"?f:Aa(+f),n=null,u):r},u.x0=function(f){return arguments.length?(r=typeof f=="function"?f:Aa(+f),u):r},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Aa(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Aa(+f),t=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Aa(+f),u):e},u.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:Aa(+f),u):t},u.lineX0=u.lineY0=function(){return d().x(r).y(e)},u.lineY1=function(){return d().x(r).y(t)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Aa(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class iQ{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Eae(r){return new iQ(r,!0)}function jae(r){return new iQ(r,!1)}const k_={draw(r,e){const t=Eu(e/Dw);r.moveTo(t,0),r.arc(0,0,t,0,pC)}},_ae={draw(r,e){const t=Eu(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},oQ=Eu(1/3),Tae=oQ*2,kae={draw(r,e){const t=Eu(e/Tae),n=t*oQ;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},Fae={draw(r,e){const t=Eu(e),n=-t/2;r.rect(n,n,t,t)}},Oae=.8908130915292852,lQ=Ow(Dw/10)/Ow(7*Dw/10),Dae=Ow(pC/10)*lQ,Pae=-eQ(pC/10)*lQ,Iae={draw(r,e){const t=Eu(e*Oae),n=Dae*t,a=Pae*t;r.moveTo(0,-t),r.lineTo(n,a);for(let s=1;s<5;++s){const i=pC*s/5,l=eQ(i),c=Ow(i);r.lineTo(c*t,-l*t),r.lineTo(l*n-c*a,c*n+l*a)}r.closePath()}},mS=Eu(3),Lae={draw(r,e){const t=-Eu(e/(mS*3));r.moveTo(0,t*2),r.lineTo(-mS*t,-t),r.lineTo(mS*t,-t),r.closePath()}},hc=-.5,fc=Eu(3)/2,m4=1/Eu(12),Mae=(m4/2+1)*3,Rae={draw(r,e){const t=Eu(e/Mae),n=t/2,a=t*m4,s=n,i=t*m4+t,l=-s,c=i;r.moveTo(n,a),r.lineTo(s,i),r.lineTo(l,c),r.lineTo(hc*n-fc*a,fc*n+hc*a),r.lineTo(hc*s-fc*i,fc*s+hc*i),r.lineTo(hc*l-fc*c,fc*l+hc*c),r.lineTo(hc*n+fc*a,hc*a-fc*n),r.lineTo(hc*s+fc*i,hc*i-fc*s),r.lineTo(hc*l+fc*c,hc*c-fc*l),r.closePath()}};function Uae(r,e){let t=null,n=__(a);r=typeof r=="function"?r:Aa(r||k_),e=typeof e=="function"?e:Aa(e===void 0?64:+e);function a(){let s;if(t||(t=s=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return a.type=function(s){return arguments.length?(r=typeof s=="function"?s:Aa(s),a):r},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Aa(+s),a):e},a.context=function(s){return arguments.length?(t=s??null,a):t},a}function Pw(){}function Iw(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function cQ(r){this._context=r}cQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Qae(r){return new cQ(r)}function uQ(r){this._context=r}uQ.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Iw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Hae(r){return new uQ(r)}function AQ(r){this._context=r}AQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Iw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function zae(r){return new AQ(r)}function dQ(r){this._context=r}dQ.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function Kae(r){return new dQ(r)}function WD(r){return r<0?-1:1}function YD(r,e,t){var n=r._x1-r._x0,a=e-r._x1,s=(r._y1-r._y0)/(n||a<0&&-0),i=(t-r._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(WD(s)+WD(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function XD(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function pS(r,e,t){var n=r._x0,a=r._y0,s=r._x1,i=r._y1,l=(s-n)/3;r._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*t,s,i)}function Lw(r){this._context=r}Lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pS(this,this._t0,XD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,pS(this,XD(this,t=YD(this,r,e)),t);break;default:pS(this,this._t0,t=YD(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function hQ(r){this._context=new fQ(r)}(hQ.prototype=Object.create(Lw.prototype)).point=function(r,e){Lw.prototype.point.call(this,e,r)};function fQ(r){this._context=r}fQ.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,a,s){this._context.bezierCurveTo(e,r,n,t,s,a)}};function $ae(r){return new Lw(r)}function Vae(r){return new hQ(r)}function mQ(r){this._context=r}mQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=JD(r),a=JD(e),s=0,i=1;i<t;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],r[i],e[i]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function JD(r){var e,t=r.length-1,n,a=new Array(t),s=new Array(t),i=new Array(t);for(a[0]=0,s[0]=2,i[0]=r[0]+2*r[1],e=1;e<t-1;++e)a[e]=1,s[e]=4,i[e]=4*r[e]+2*r[e+1];for(a[t-1]=2,s[t-1]=7,i[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[t-1]=i[t-1]/s[t-1],e=t-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[t-1]=(r[t]+a[t-1])/2,e=0;e<t-1;++e)s[e]=2*r[e+1]-a[e+1];return[a,s]}function qae(r){return new mQ(r)}function xC(r,e){this._context=r,this._t=e}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function Gae(r){return new xC(r,.5)}function Wae(r){return new xC(r,0)}function Yae(r){return new xC(r,1)}function Kp(r,e){if((i=r.length)>1)for(var t=1,n,a,s=r[e[0]],i,l=s.length;t<i;++t)for(a=s,s=r[e[t]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function p4(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Xae(r,e){return r[e]}function Jae(r){const e=[];return e.key=r,e}function Zae(){var r=Aa([]),e=p4,t=Kp,n=Xae;function a(s){var i=Array.from(r.apply(this,arguments),Jae),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=T_(e(i));l<c;++l)i[d[l]].index=l;return t(i,d),i}return a.keys=function(s){return arguments.length?(r=typeof s=="function"?s:Aa(Array.from(s)),a):r},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Aa(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?p4:typeof s=="function"?s:Aa(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(t=s??Kp,a):t},a}function ese(r,e){if((n=r.length)>0){for(var t,n,a=0,s=r[0].length,i;a<s;++a){for(i=t=0;t<n;++t)i+=r[t][a][1]||0;if(i)for(t=0;t<n;++t)r[t][a][1]/=i}Kp(r,e)}}function tse(r,e){if((a=r.length)>0){for(var t=0,n=r[e[0]],a,s=n.length;t<s;++t){for(var i=0,l=0;i<a;++i)l+=r[i][t][1]||0;n[t][1]+=n[t][0]=-l/2}Kp(r,e)}}function rse(r,e){if(!(!((i=r.length)>0)||!((s=(a=r[e[0]]).length)>0))){for(var t=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=r[e[l]],f=d[n][1]||0,p=d[n-1][1]||0,m=(f-p)/2,y=0;y<l;++y){var g=r[e[y]],v=g[n][1]||0,w=g[n-1][1]||0;m+=v-w}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=t,c&&(t-=u/c)}a[n-1][1]+=a[n-1][0]=t,Kp(r,e)}}var nse=["type","size","sizeType"];function g4(){return g4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},g4.apply(null,arguments)}function ZD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function eP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(t),!0).forEach(function(n){ase(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ase(r,e,t){return(e=sse(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sse(r){var e=ise(r,"string");return typeof e=="symbol"?e:e+""}function ise(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ose(r,e){if(r==null)return{};var t,n,a=lse(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function lse(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var pQ={symbolCircle:k_,symbolCross:_ae,symbolDiamond:kae,symbolSquare:Fae,symbolStar:Iae,symbolTriangle:Lae,symbolWye:Rae},cse=Math.PI/180,use=r=>{var e="symbol".concat(sv(r));return pQ[e]||k_},Ase=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*cse;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},dse=(r,e)=>{pQ["symbol".concat(sv(r))]=e},F_=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,a=ose(r,nse),s=eP(eP({},a),{},{type:e,size:t,sizeType:n}),i="circle";typeof e=="string"&&(i=e);var l=()=>{var p=use(i),m=Uae().type(p).size(Ase(t,n,i));return m()},{className:c,cx:u,cy:d}=s,f=ei(s,!0);return u===+u&&d===+d&&t===+t?B.createElement("path",g4({},f,{className:dn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};F_.registerSymbol=dse;function x4(){return x4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},x4.apply(null,arguments)}function tP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function hse(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(t),!0).forEach(function(n){O_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function O_(r,e,t){return(e=fse(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fse(r){var e=mse(r,"string");return typeof e=="symbol"?e:e+""}function mse(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var mc=32;class D_ extends B.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,a=mc/2,s=mc/6,i=mc/3,l=e.inactive?n:e.color,c=t??e.type;if(c==="none")return null;if(c==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:mc,y2:a,className:"recharts-legend-icon"});if(c==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(mc,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(mc/8,"h").concat(mc,"v").concat(mc*3/4,"h").concat(-mc,"z"),className:"recharts-legend-icon"});if(B.isValidElement(e.legendIcon)){var u=hse({},e);return delete u.legendIcon,B.cloneElement(e.legendIcon,u)}return B.createElement(F_,{fill:l,cx:a,cy:a,size:mc,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:a,inactiveColor:s,iconType:i}=this.props,l={x:0,y:0,width:mc,height:mc},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var p=d.formatter||a,m=dn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?s:d.color,g=p?p(d.value,d,f):d.value;return B.createElement("li",x4({className:m,style:c,key:"legend-item-".concat(f)},iv(this.props,d,f)),B.createElement(j_,{width:t,height:t,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},this.renderIcon(d,i)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:t==="horizontal"?n:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}O_(D_,"displayName","Legend");O_(D_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var gS={},xS={},rP;function pse(){return rP||(rP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const a=new Map;for(let s=0;s<t.length;s++){const i=t[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}r.uniqBy=e})(xS)),xS}var yS={},nP;function gQ(){return nP||(nP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(yS)),yS}var vS={},bS={},wS={},aP;function gse(){return aP||(aP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(wS)),wS}var sP;function P_(){return sP||(sP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=gse();function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(bS)),bS}var CS={},iP;function xse(){return iP||(iP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(CS)),CS}var oP;function yse(){return oP||(oP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=P_(),t=xse();function n(a){return t.isObjectLike(a)&&e.isArrayLike(a)}r.isArrayLikeObject=n})(vS)),vS}var NS={},SS={},lP;function vse(){return lP||(lP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=S_();function t(n){return function(a){return e.get(a,n)}}r.property=t})(SS)),SS}var BS={},ES={},jS={},_S={},cP;function xQ(){return cP||(cP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(_S)),_S}var TS={},uP;function yQ(){return uP||(uP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(TS)),TS}var kS={},AP;function vQ(){return AP||(AP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(kS)),kS}var dP;function bse(){return dP||(dP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=I_(),t=xQ(),n=yQ(),a=vQ();function s(f,p,m){return typeof m!="function"?e.isMatch(f,p):i(f,p,function y(g,v,w,S,C,j){const T=m(g,v,w,S,C,j);return T!==void 0?!!T:i(g,v,y,j)},new Map)}function i(f,p,m,y){if(p===f)return!0;switch(typeof p){case"object":return l(f,p,m,y);case"function":return Object.keys(p).length>0?i(f,{...p},m,y):a.eq(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:a.eq(f,p)}}function l(f,p,m,y){if(p==null)return!0;if(Array.isArray(p))return u(f,p,m,y);if(p instanceof Map)return c(f,p,m,y);if(p instanceof Set)return d(f,p,m,y);const g=Object.keys(p);if(f==null)return g.length===0;if(g.length===0)return!0;if(y&&y.has(p))return y.get(p)===f;y&&y.set(p,f);try{for(let v=0;v<g.length;v++){const w=g[v];if(!n.isPrimitive(f)&&!(w in f)||p[w]===void 0&&f[w]!==void 0||p[w]===null&&f[w]!==null||!m(f[w],p[w],w,f,p,y))return!1}return!0}finally{y&&y.delete(p)}}function c(f,p,m,y){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of p.entries()){const w=f.get(g);if(m(w,v,g,f,p,y)===!1)return!1}return!0}function u(f,p,m,y){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<p.length;v++){const w=p[v];let S=!1;for(let C=0;C<f.length;C++){if(g.has(C))continue;const j=f[C];let T=!1;if(m(j,w,v,f,p,y)&&(T=!0),T){g.add(C),S=!0;break}}if(!S)return!1}return!0}function d(f,p,m,y){return p.size===0?!0:f instanceof Set?u([...f],[...p],m,y):!1}r.isMatchWith=s,r.isSetMatch=d})(jS)),jS}var hP;function I_(){return hP||(hP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=bse();function t(n,a){return e.isMatchWith(n,a,()=>{})}r.isMatch=t})(ES)),ES}var FS={},OS={},DS={},fP;function wse(){return fP||(fP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(DS)),DS}var PS={},mP;function bQ(){return mP||(mP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(PS)),PS}var IS={},pP;function wQ(){return pP||(pP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",w="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",j="[object BigUint64Array]",T="[object Int8Array]",L="[object Int16Array]",I="[object Int32Array]",D="[object BigInt64Array]",k="[object Float32Array]",z="[object Float64Array]";r.argumentsTag=s,r.arrayBufferTag=p,r.arrayTag=d,r.bigInt64ArrayTag=D,r.bigUint64ArrayTag=j,r.booleanTag=a,r.dataViewTag=g,r.dateTag=l,r.errorTag=y,r.float32ArrayTag=k,r.float64ArrayTag=z,r.functionTag=f,r.int16ArrayTag=L,r.int32ArrayTag=I,r.int8ArrayTag=T,r.mapTag=c,r.numberTag=n,r.objectTag=m,r.regexpTag=e,r.setTag=u,r.stringTag=t,r.symbolTag=i,r.uint16ArrayTag=S,r.uint32ArrayTag=C,r.uint8ArrayTag=v,r.uint8ClampedArrayTag=w})(IS)),IS}var LS={},gP;function Cse(){return gP||(gP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})(LS)),LS}var xP;function CQ(){return xP||(xP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=wse(),t=bQ(),n=wQ(),a=yQ(),s=Cse();function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,p,m=new Map,y=void 0){const g=y?.(d,f,p,m);if(g!==void 0)return g;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let w=0;w<d.length;w++)v[w]=l(d[w],w,p,m,y);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[w,S]of d)v.set(w,l(S,w,p,m,y));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const w of d)v.add(l(w,void 0,p,m,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let w=0;w<d.length;w++)v[w]=l(d[w],w,p,m,y);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,p,m,y),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,p,m,y),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,p,m,y),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,p,m,y),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,p,m,y),v}return d}function c(d,f,p=d,m,y){const g=[...Object.keys(f),...e.getSymbols(f)];for(let v=0;v<g.length;v++){const w=g[v],S=Object.getOwnPropertyDescriptor(d,w);(S==null||S.writable)&&(d[w]=l(f[w],w,p,m,y))}}function u(d){switch(t.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=i,r.cloneDeepWithImpl=l,r.copyProperties=c})(OS)),OS}var yP;function Nse(){return yP||(yP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=CQ();function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(FS)),FS}var vP;function Sse(){return vP||(vP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=I_(),t=Nse();function n(a){return a=t.cloneDeep(a),s=>e.isMatch(s,a)}r.matches=n})(BS)),BS}var MS={},RS={},US={},bP;function Bse(){return bP||(bP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=CQ(),t=wQ();function n(a,s){return e.cloneDeepWith(a,(i,l,c,u)=>{const d=s?.(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case t.numberTag:case t.stringTag:case t.booleanTag:{const f=new a.constructor(a?.valueOf());return e.copyProperties(f,a),f}case t.argumentsTag:{const f={};return e.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}r.cloneDeepWith=n})(US)),US}var wP;function Ese(){return wP||(wP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Bse();function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(RS)),RS}var QS={},HS={},CP;function NQ(){return CP||(CP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(HS)),HS}var zS={},NP;function jse(){return NP||(NP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=bQ();function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})(zS)),zS}var SP;function _se(){return SP||(SP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=G7(),t=NQ(),n=jse(),a=N_();function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&i?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&t.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}r.has=s})(QS)),QS}var BP;function Tse(){return BP||(BP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=I_(),t=W7(),n=Ese(),a=S_(),s=_se();function i(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=t.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}r.matchesProperty=i})(MS)),MS}var EP;function kse(){return EP||(EP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=gQ(),t=vse(),n=Sse(),a=Tse();function s(i){if(i==null)return e.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return t.property(i)}}r.iteratee=s})(NS)),NS}var jP;function Fse(){return jP||(jP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=pse(),t=gQ(),n=yse(),a=kse();function s(i,l=t.identity){return n.isArrayLikeObject(i)?e.uniqBy(Array.from(i),a.iteratee(l)):[]}r.uniqBy=s})(gS)),gS}var KS,_P;function Ose(){return _P||(_P=1,KS=Fse().uniqBy),KS}var Dse=Ose();const TP=Fc(Dse);function SQ(r,e,t){return e===!0?TP(r,t):typeof e=="function"?TP(r,e):r}var $S={exports:{}},VS={},qS={exports:{}},GS={};var kP;function Pse(){if(kP)return GS;kP=1;var r=ig();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,a=r.useEffect,s=r.useLayoutEffect,i=r.useDebugValue;function l(f,p){var m=p(),y=n({inst:{value:m,getSnapshot:p}}),g=y[0].inst,v=y[1];return s(function(){g.value=m,g.getSnapshot=p,c(g)&&v({inst:g})},[f,m,p]),a(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),i(m),m}function c(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!t(f,m)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return GS.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,GS}var FP;function Ise(){return FP||(FP=1,qS.exports=Pse()),qS.exports}var OP;function Lse(){if(OP)return VS;OP=1;var r=ig(),e=Ise();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=r.useRef,i=r.useEffect,l=r.useMemo,c=r.useDebugValue;return VS.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var y=s(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=l(function(){function w(L){if(!S){if(S=!0,C=L,L=p(L),m!==void 0&&g.hasValue){var I=g.value;if(m(I,L))return j=I}return j=L}if(I=j,n(C,L))return I;var D=p(L);return m!==void 0&&m(I,D)?(C=L,I):(C=L,j=D)}var S=!1,C,j,T=f===void 0?null:f;return[function(){return w(d())},T===null?void 0:function(){return w(T())}]},[d,f,p,m]);var v=a(u,y[0],y[1]);return i(function(){g.hasValue=!0,g.value=v},[v]),c(v),v},VS}var DP;function Mse(){return DP||(DP=1,$S.exports=Lse()),$S.exports}var Rse=Mse(),L_=B.createContext(null),Use=r=>r,Wa=()=>{var r=B.useContext(L_);return r?r.store.dispatch:Use},Aw=()=>{},Qse=()=>Aw,Hse=(r,e)=>r===e;function Ar(r){var e=B.useContext(L_);return Rse.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Qse,e?e.store.getState:Aw,e?e.store.getState:Aw,e?r:Aw,Hse)}function zse(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function Kse(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function $se(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var PP=r=>Array.isArray(r)?r:[r];function Vse(r){const e=Array.isArray(r[0])?r[0]:r;return $se(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function qse(r,e){const t=[],{length:n}=r;for(let a=0;a<n;a++)t.push(r[a].apply(null,e));return t}var Gse=class{constructor(r){this.value=r}deref(){return this.value}},Wse=typeof WeakRef<"u"?WeakRef:Gse,Yse=0,IP=1;function K1(){return{s:Yse,v:void 0,o:null,p:null}}function BQ(r,e={}){let t=K1();const{resultEqualityCheck:n}=e;let a,s=0;function i(){let l=t;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(m);g===void 0?(l=K1(),y.set(m,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(m);g===void 0?(l=K1(),y.set(m,l)):l=g}}const u=l;let d;if(l.s===IP)d=l.v;else if(d=r.apply(null,arguments),s++,n){const f=a?.deref?.()??a;f!=null&&n(f,d)&&(d=f,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Wse(d):d}return u.s=IP,u.v=d,d}return i.clearCache=()=>{t=K1(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Xse(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),zse(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:m=BQ,argsMemoizeOptions:y=[]}=d,g=PP(p),v=PP(y),w=Vse(a),S=f(function(){return s++,u.apply(null,arguments)},...g),C=m(function(){i++;const T=qse(w,arguments);return l=S.apply(null,T),l},...v);return Object.assign(C,{resultFunc:u,memoizedResultFunc:S,dependencies:w,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var Je=Xse(BQ),Jse=Object.assign((r,e=Je)=>{Kse(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(s=>r[s]);return e(n,(...s)=>s.reduce((i,l,c)=>(i[t[c]]=l,i),{}))},{withTypes:()=>Jse}),WS={},YS={},XS={},LP;function Zse(){return LP||(LP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,a,s)=>{if(n!==a){const i=e(n),l=e(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};r.compareValues=t})(XS)),XS}var JS={},ZS={},MP;function EQ(){return MP||(MP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(ZS)),ZS}var RP;function eie(){return RP||(RP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=EQ(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!t.test(s))||i!=null&&Object.hasOwn(i,s)}r.isKey=a})(JS)),JS}var UP;function tie(){return UP||(UP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Zse(),t=eie(),n=N_();function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let g=m;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||t.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let g=0;g<f.length;g++){const v=e.compareValues(m.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}r.orderBy=a})(YS)),YS}var eB={},QP;function rie(){return QP||(QP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(t,0),a}r.flatten=e})(eB)),eB}var tB={},HP;function jQ(){return HP||(HP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=NQ(),t=P_(),n=xQ(),a=vQ();function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&t.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}r.isIterateeCall=s})(tB)),tB}var zP;function nie(){return zP||(zP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=tie(),t=rie(),n=jQ();function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),e.orderBy(s,t.flatten(i),["asc"])}r.sortBy=a})(WS)),WS}var rB,KP;function aie(){return KP||(KP=1,rB=nie().sortBy),rB}var sie=aie();const yC=Fc(sie);var _Q=r=>r.legend.settings,iie=r=>r.legend.size,oie=r=>r.legend.payload,lie=Je([oie,_Q],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?yC(n,t):n});function cie(){return Ar(lie)}var $1=1;function TQ(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=B.useState({height:0,left:0,top:0,width:0}),n=B.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-e.height)>$1||Math.abs(i.left-e.left)>$1||Math.abs(i.top-e.top)>$1||Math.abs(i.width-e.width)>$1)&&t({height:i.height,left:i.left,top:i.top,width:i.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Ii(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var uie=typeof Symbol=="function"&&Symbol.observable||"@@observable",$P=uie,nB=()=>Math.random().toString(36).substring(7).split("").join("."),Aie={INIT:`@@redux/INIT${nB()}`,REPLACE:`@@redux/REPLACE${nB()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nB()}`},Mw=Aie;function M_(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function kQ(r,e,t){if(typeof r!="function")throw new Error(Ii(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ii(1));return t(kQ)(r,e)}let n=r,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,w)=>{i.set(w,v)}))}function d(){if(c)throw new Error(Ii(3));return a}function f(v){if(typeof v!="function")throw new Error(Ii(4));if(c)throw new Error(Ii(5));let w=!0;u();const S=l++;return i.set(S,v),function(){if(w){if(c)throw new Error(Ii(6));w=!1,u(),i.delete(S),s=null}}}function p(v){if(!M_(v))throw new Error(Ii(7));if(typeof v.type>"u")throw new Error(Ii(8));if(typeof v.type!="string")throw new Error(Ii(17));if(c)throw new Error(Ii(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(S=>{S()}),v}function m(v){if(typeof v!="function")throw new Error(Ii(10));n=v,p({type:Mw.REPLACE})}function y(){const v=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ii(11));function S(){const j=w;j.next&&j.next(d())}return S(),{unsubscribe:v(S)}},[$P](){return this}}}return p({type:Mw.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[$P]:y}}function die(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Mw.INIT})>"u")throw new Error(Ii(12));if(typeof t(void 0,{type:Mw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function FQ(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const i=e[s];typeof r[i]=="function"&&(t[i]=r[i])}const n=Object.keys(t);let a;try{die(t)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],p=t[f],m=i[f],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(Ii(14));u[f]=y,c=c||y!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Rw(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function hie(...r){return e=>(t,n)=>{const a=e(t,n);let s=()=>{throw new Error(Ii(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=r.map(c=>c(i));return s=Rw(...l)(a.dispatch),{...a,dispatch:s}}}function OQ(r){return M_(r)&&"type"in r&&typeof r.type=="string"}var DQ=Symbol.for("immer-nothing"),VP=Symbol.for("immer-draftable"),$l=Symbol.for("immer-state");function gu(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var $p=Object.getPrototypeOf;function j0(r){return!!r&&!!r[$l]}function Sd(r){return r?PQ(r)||Array.isArray(r)||!!r[VP]||!!r.constructor?.[VP]||ov(r)||bC(r):!1}var fie=Object.prototype.constructor.toString();function PQ(r){if(!r||typeof r!="object")return!1;const e=$p(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===fie}function Uw(r,e){vC(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function vC(r){const e=r[$l];return e?e.type_:Array.isArray(r)?1:ov(r)?2:bC(r)?3:0}function y4(r,e){return vC(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function IQ(r,e,t){const n=vC(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function mie(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function ov(r){return r instanceof Map}function bC(r){return r instanceof Set}function Yf(r){return r.copy_||r.base_}function v4(r,e){if(ov(r))return new Map(r);if(bC(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=PQ(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[$l];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[i]})}return Object.create($p(r),n)}else{const n=$p(r);if(n!==null&&t)return{...r};const a=Object.create(n);return Object.assign(a,r)}}function R_(r,e=!1){return wC(r)||j0(r)||!Sd(r)||(vC(r)>1&&Object.defineProperties(r,{set:{value:V1},add:{value:V1},clear:{value:V1},delete:{value:V1}}),Object.freeze(r),e&&Object.values(r).forEach(t=>R_(t,!0))),r}function V1(){gu(2)}function wC(r){return Object.isFrozen(r)}var pie={};function _0(r){const e=pie[r];return e||gu(0,r),e}var wy;function LQ(){return wy}function gie(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qP(r,e){e&&(_0("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function b4(r){w4(r),r.drafts_.forEach(xie),r.drafts_=null}function w4(r){r===wy&&(wy=r.parent_)}function GP(r){return wy=gie(wy,r)}function xie(r){const e=r[$l];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function WP(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[$l].modified_&&(b4(e),gu(4)),Sd(r)&&(r=Qw(e,r),e.parent_||Hw(e,r)),e.patches_&&_0("Patches").generateReplacementPatches_(t[$l].base_,r,e.patches_,e.inversePatches_)):r=Qw(e,t,[]),b4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==DQ?r:void 0}function Qw(r,e,t){if(wC(e))return e;const n=e[$l];if(!n)return Uw(e,(a,s)=>YP(r,n,e,a,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return Hw(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),Uw(s,(l,c)=>YP(r,n,a,l,c,t,i)),Hw(r,a,!1),t&&r.patches_&&_0("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function YP(r,e,t,n,a,s,i){if(j0(a)){const l=s&&e&&e.type_!==3&&!y4(e.assigned_,n)?s.concat(n):void 0,c=Qw(r,a,l);if(IQ(t,n,c),j0(c))r.canAutoFreeze_=!1;else return}else i&&t.add(a);if(Sd(a)&&!wC(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Qw(r,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(ov(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&Hw(r,a)}}function Hw(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&R_(e,t)}function yie(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:LQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=U_;t&&(a=[n],s=Cy);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var U_={get(r,e){if(e===$l)return r;const t=Yf(r);if(!y4(t,e))return vie(r,t,e);const n=t[e];return r.finalized_||!Sd(n)?n:n===aB(r.base_,e)?(sB(r),r.copy_[e]=N4(n,r)):n},has(r,e){return e in Yf(r)},ownKeys(r){return Reflect.ownKeys(Yf(r))},set(r,e,t){const n=MQ(Yf(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const a=aB(Yf(r),e),s=a?.[$l];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(mie(t,a)&&(t!==void 0||y4(r.base_,e)))return!0;sB(r),C4(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return aB(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,sB(r),C4(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Yf(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){gu(11)},getPrototypeOf(r){return $p(r.base_)},setPrototypeOf(){gu(12)}},Cy={};Uw(U_,(r,e)=>{Cy[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Cy.deleteProperty=function(r,e){return Cy.set.call(this,r,e,void 0)};Cy.set=function(r,e,t){return U_.set.call(this,r[0],e,t,r[0])};function aB(r,e){const t=r[$l];return(t?Yf(t):r)[e]}function vie(r,e,t){const n=MQ(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function MQ(r,e){if(!(e in r))return;let t=$p(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=$p(t)}}function C4(r){r.modified_||(r.modified_=!0,r.parent_&&C4(r.parent_))}function sB(r){r.copy_||(r.copy_=v4(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var bie=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const i=this;return function(c=s,...u){return i.produce(c,d=>t.call(this,d,...u))}}typeof t!="function"&&gu(6),n!==void 0&&typeof n!="function"&&gu(7);let a;if(Sd(e)){const s=GP(this),i=N4(e,void 0);let l=!0;try{a=t(i),l=!1}finally{l?b4(s):w4(s)}return qP(s,n),WP(a,s)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===DQ&&(a=void 0),this.autoFreeze_&&R_(a,!0),n){const s=[],i=[];_0("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else gu(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,t,(i,l)=>{n=i,a=l}),n,a]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Sd(r)||gu(8),j0(r)&&(r=fd(r));const e=GP(this),t=N4(r,void 0);return t[$l].isManual_=!0,w4(e),t}finishDraft(r,e){const t=r&&r[$l];(!t||!t.isManual_)&&gu(9);const{scope_:n}=t;return qP(n,e),WP(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}t>-1&&(e=e.slice(t+1));const n=_0("Patches").applyPatches_;return j0(r)?n(r,e):this.produce(r,a=>n(a,e))}};function N4(r,e){const t=ov(r)?_0("MapSet").proxyMap_(r,e):bC(r)?_0("MapSet").proxySet_(r,e):yie(r,e);return(e?e.scope_:LQ()).drafts_.push(t),t}function fd(r){return j0(r)||gu(10,r),RQ(r)}function RQ(r){if(!Sd(r)||wC(r))return r;const e=r[$l];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=v4(r,e.scope_.immer_.useStrictShallowCopy_)}else t=v4(r,!0);return Uw(t,(n,a)=>{IQ(t,n,RQ(a))}),e&&(e.finalized_=!1),t}var wie=new bie,UQ=wie.produce;function QQ(r){return({dispatch:t,getState:n})=>a=>s=>typeof s=="function"?s(t,n,r):a(s)}var Cie=QQ(),Nie=QQ,Sie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rw:Rw.apply(null,arguments)};function _c(r,e){function t(...n){if(e){let a=e(...n);if(!a)throw new Error(Hl(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>OQ(n)&&n.type===r,t}var HQ=class zx extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zx.prototype)}static get[Symbol.species](){return zx}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zx(...e[0].concat(this)):new zx(...e.concat(this))}};function XP(r){return Sd(r)?UQ(r,()=>{}):r}function q1(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function Bie(r){return typeof r=="boolean"}var Eie=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new HQ;return t&&(Bie(t)?i.push(Cie):i.push(Nie(t.extraArgument))),i},jie="RTK_autoBatch",JP=r=>e=>{setTimeout(e,r)},_ie=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let a=!0,s=!1,i=!1;const l=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JP(10):r.type==="callback"?r.queueNotification:JP(r.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),p=n.subscribe(f);return l.add(d),()=>{p(),l.delete(d)}},dispatch(d){try{return a=!d?.meta?.[jie],s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},Tie=r=>function(t){const{autoBatch:n=!0}=t??{};let a=new HQ(r);return n&&a.push(_ie(typeof n=="object"?n:void 0)),a};function kie(r){const e=Eie(),{reducer:t=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=r||{};let l;if(typeof t=="function")l=t;else if(M_(t))l=FQ(t);else throw new Error(Hl(1));let c;typeof n=="function"?c=n(e):c=e();let u=Rw;a&&(u=Sie({trace:!1,...typeof a=="object"&&a}));const d=hie(...c),f=Tie(d);let p=typeof i=="function"?i(f):f();const m=u(...p);return kQ(l,s,m)}function zQ(r){const e={},t=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Hl(28));if(l in e)throw new Error(Hl(29));return e[l]=i,a},addAsyncThunk(s,i){return i.pending&&(e[s.pending.type]=i.pending),i.rejected&&(e[s.rejected.type]=i.rejected),i.fulfilled&&(e[s.fulfilled.type]=i.fulfilled),i.settled&&t.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return t.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return r(a),[e,t,n]}function Fie(r){return typeof r=="function"}function Oie(r,e){let[t,n,a]=zQ(e),s;if(Fie(r))s=()=>XP(r());else{const l=XP(r);s=()=>l}function i(l=s(),c){let u=[t[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(j0(d)){const m=f(d,c);return m===void 0?d:m}else{if(Sd(d))return UQ(d,p=>f(p,c));{const p=f(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},l)}return i.getInitialState=s,i}var Die="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Pie=(r=21)=>{let e="",t=r;for(;t--;)e+=Die[Math.random()*64|0];return e},Iie=Symbol.for("rtk-slice-createasyncthunk");function Lie(r,e){return`${r}/${e}`}function Mie({creators:r}={}){const e=r?.asyncThunk?.[Iie];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(Hl(11));const i=(typeof n.reducers=="function"?n.reducers(Uie()):n.reducers)||{},l=Object.keys(i),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,j){const T=typeof C=="string"?C:C.type;if(!T)throw new Error(Hl(12));if(T in c.sliceCaseReducersByType)throw new Error(Hl(13));return c.sliceCaseReducersByType[T]=j,u},addMatcher(C,j){return c.sliceMatchers.push({matcher:C,reducer:j}),u},exposeAction(C,j){return c.actionCreators[C]=j,u},exposeCaseReducer(C,j){return c.sliceCaseReducersByName[C]=j,u}};l.forEach(C=>{const j=i[C],T={reducerName:C,type:Lie(a,C),createNotation:typeof n.reducers=="function"};Hie(j)?Kie(T,j,u,e):Qie(T,j,u)});function d(){const[C={},j=[],T=void 0]=typeof n.extraReducers=="function"?zQ(n.extraReducers):[n.extraReducers],L={...C,...c.sliceCaseReducersByType};return Oie(n.initialState,I=>{for(let D in L)I.addCase(D,L[D]);for(let D of c.sliceMatchers)I.addMatcher(D.matcher,D.reducer);for(let D of j)I.addMatcher(D.matcher,D.reducer);T&&I.addDefaultCase(T)})}const f=C=>C,p=new Map,m=new WeakMap;let y;function g(C,j){return y||(y=d()),y(C,j)}function v(){return y||(y=d()),y.getInitialState()}function w(C,j=!1){function T(I){let D=I[C];return typeof D>"u"&&j&&(D=q1(m,T,v)),D}function L(I=f){const D=q1(p,j,()=>new WeakMap);return q1(D,I,()=>{const k={};for(const[z,P]of Object.entries(n.selectors??{}))k[z]=Rie(P,I,()=>q1(m,I,v),j);return k})}return{reducerPath:C,getSelectors:L,get selectors(){return L(T)},selectSlice:T}}const S={name:a,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...w(s),injectInto(C,{reducerPath:j,...T}={}){const L=j??s;return C.inject({reducerPath:L,reducer:g},T),{...S,...w(L,!0)}}};return S}}function Rie(r,e,t,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=t()),r(l,...i)}return a.unwrapped=r,a}var Yl=Mie();function Uie(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function Qie({type:r,reducerName:e,createNotation:t},n,a){let s,i;if("reducer"in n){if(t&&!zie(n))throw new Error(Hl(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,i?_c(r,i):_c(r))}function Hie(r){return r._reducerDefinitionType==="asyncThunk"}function zie(r){return r._reducerDefinitionType==="reducerWithPrepare"}function Kie({type:r,reducerName:e},t,n,a){if(!a)throw new Error(Hl(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=t,f=a(r,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||G1,pending:l||G1,rejected:c||G1,settled:u||G1})}function G1(){}var $ie="task",KQ="listener",$Q="completed",Q_="cancelled",Vie=`task-${Q_}`,qie=`task-${$Q}`,S4=`${KQ}-${Q_}`,Gie=`${KQ}-${$Q}`,CC=class{constructor(r){this.code=r,this.message=`${$ie} ${Q_} (reason: ${r})`}name="TaskAbortError";message},H_=(r,e)=>{if(typeof r!="function")throw new TypeError(Hl(32))},zw=()=>{},VQ=(r,e=zw)=>(r.catch(e),r),qQ=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),p0=(r,e)=>{const t=r.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},g0=r=>{if(r.aborted){const{reason:e}=r;throw new CC(e)}};function GQ(r,e){let t=zw;return new Promise((n,a)=>{const s=()=>a(new CC(r.reason));if(r.aborted){s();return}t=qQ(r,s),e.finally(()=>t()).then(n,a)}).finally(()=>{t=zw})}var Wie=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof CC?"cancelled":"rejected",error:t}}finally{e?.()}},Kw=r=>e=>VQ(GQ(r,e).then(t=>(g0(r),t))),WQ=r=>{const e=Kw(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:Np}=Object,ZP={},NC="listenerMiddleware",Yie=(r,e)=>{const t=n=>qQ(r,()=>p0(n,r.reason));return(n,a)=>{H_(n);const s=new AbortController;t(s);const i=Wie(async()=>{g0(r),g0(s.signal);const l=await n({pause:Kw(s.signal),delay:WQ(s.signal),signal:s.signal});return g0(s.signal),l},()=>p0(s,qie));return a?.autoJoin&&e.push(i.catch(zw)),{result:Kw(r)(i),cancel(){p0(s,Vie)}}}},Xie=(r,e)=>{const t=async(n,a)=>{g0(e);let s=()=>{};const l=[new Promise((c,u)=>{let d=r({predicate:n,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await GQ(e,Promise.race(l));return g0(e),c}finally{s()}};return(n,a)=>VQ(t(n,a))},YQ=r=>{let{type:e,actionCreator:t,matcher:n,predicate:a,effect:s}=r;if(e)a=_c(e).match;else if(t)e=t.type,a=t.match;else if(n)a=n;else if(!a)throw new Error(Hl(21));return H_(s),{predicate:a,type:e,effect:s}},XQ=Np(r=>{const{type:e,predicate:t,effect:n}=YQ(r);return{id:Pie(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Hl(22))}}},{withTypes:()=>XQ}),e6=(r,e)=>{const{type:t,effect:n,predicate:a}=YQ(e);return Array.from(r.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===a)&&s.effect===n)},B4=r=>{r.pending.forEach(e=>{p0(e,S4)})},Jie=r=>()=>{r.forEach(B4),r.clear()},t6=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},JQ=Np(_c(`${NC}/add`),{withTypes:()=>JQ}),Zie=_c(`${NC}/removeAll`),ZQ=Np(_c(`${NC}/remove`),{withTypes:()=>ZQ}),eoe=(...r)=>{console.error(`${NC}/error`,...r)},lv=(r={})=>{const e=new Map,{extra:t,onError:n=eoe}=r;H_(n);const a=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),f=>{d.unsubscribe(),f?.cancelActive&&B4(d)}),s=d=>{const f=e6(e,d)??XQ(d);return a(f)};Np(s,{withTypes:()=>s});const i=d=>{const f=e6(e,d);return f&&(f.unsubscribe(),d.cancelActive&&B4(f)),!!f};Np(i,{withTypes:()=>i});const l=async(d,f,p,m)=>{const y=new AbortController,g=Xie(s,y.signal),v=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,Np({},p,{getOriginalState:m,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:WQ(y.signal),pause:Kw(y.signal),extra:t,signal:y.signal,fork:Yie(y.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((w,S,C)=>{w!==y&&(p0(w,S4),C.delete(w))})},cancel:()=>{p0(y,S4),d.pending.delete(y)},throwIfCancelled:()=>{g0(y.signal)}})))}catch(w){w instanceof CC||t6(n,w,{raisedBy:"effect"})}finally{await Promise.all(v),p0(y,Gie),d.pending.delete(y)}},c=Jie(e);return{middleware:d=>f=>p=>{if(!OQ(p))return f(p);if(JQ.match(p))return s(p.payload);if(Zie.match(p)){c();return}if(ZQ.match(p))return i(p.payload);let m=d.getState();const y=()=>{if(m===ZP)throw new Error(Hl(23));return m};let g;try{if(g=f(p),e.size>0){const v=d.getState(),w=Array.from(e.values());for(const S of w){let C=!1;try{C=S.predicate(p,v,m)}catch(j){C=!1,t6(n,j,{raisedBy:"predicate"})}C&&l(S,p,d,y)}}}finally{m=ZP}return g},startListening:s,stopListening:i,clearListeners:c}};function Hl(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var toe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eH=Yl({name:"chartLayout",initialState:toe,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,a,s;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,r.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:roe,setLayout:noe,setChartSize:aoe,setScale:soe}=eH.actions,ioe=eH.reducer;function r6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function n6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(t),!0).forEach(function(n){ooe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):r6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ooe(r,e,t){return(e=loe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function loe(r){var e=coe(r,"string");return typeof e=="symbol"?e:e+""}function coe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $w=Math.PI/180,uoe=r=>r*180/Math.PI,Is=(r,e,t,n)=>({x:r+Math.cos(-$w*n)*t,y:e+Math.sin(-$w*n)*t}),tH=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Aoe=(r,e)=>{var{x:t,y:n}=r,{x:a,y:s}=e;return Math.sqrt((t-a)**2+(n-s)**2)},doe=(r,e)=>{var{x:t,y:n}=r,{cx:a,cy:s}=e,i=Aoe({x:t,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(t-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:uoe(c),angleInRadian:c}},hoe=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),a=Math.floor(t/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:t-s*360}},foe=(r,e)=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),i=Math.min(a,s);return r+i*360},moe=(r,e)=>{var{x:t,y:n}=r,{radius:a,angle:s}=doe({x:t,y:n},e),{innerRadius:i,outerRadius:l}=e;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=hoe(e),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?n6(n6({},e),{},{radius:a,angle:foe(d,e)}):null};function rH(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function a6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Cc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(t),!0).forEach(function(n){poe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):a6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function poe(r,e,t){return(e=goe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function goe(r){var e=xoe(r,"string");return typeof e=="symbol"?e:e+""}function xoe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Va(r,e,t){return wi(r)||wi(e)?t:yA(e)?E0(r,e,t):typeof e=="function"?e(r):t}var yoe=(r,e,t,n,a)=>{var s,i=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||r==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?t[c-1].coordinate:t[l-1].coordinate,d=t[c].coordinate,f=c>=l-1?t[0].coordinate:t[c+1].coordinate,p=void 0;if(gi(d-u)!==gi(f-d)){var m=[];if(gi(f-d)===gi(a[1]-a[0])){p=f;var y=d+a[1]-a[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{p=u;var g=f+a[1]-a[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(r>v[0]&&r<=v[1]||r>=m[0]&&r<=m[1]){({index:i}=t[c]);break}}else{var w=Math.min(u,f),S=Math.max(u,f);if(r>(w+d)/2&&r<=(S+d)/2){({index:i}=t[c]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&r<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&r>(e[C].coordinate+e[C-1].coordinate)/2&&r<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&r>(e[C].coordinate+e[C-1].coordinate)/2){({index:i}=e[C]);break}}return i},voe=(r,e,t)=>{if(e&&t){var{width:n,height:a}=t,{align:s,verticalAlign:i,layout:l}=e;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&yr(r[s]))return Cc(Cc({},r),{},{[s]:r[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&yr(r[i]))return Cc(Cc({},r),{},{[i]:r[i]+(a||0)})}return r},z0=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",nH=(r,e,t,n)=>{if(n)return r.map(l=>l.coordinate);var a,s,i=r.map(l=>(l.coordinate===e&&(a=!0),l.coordinate===t&&(s=!0),l.coordinate));return a||i.push(e),s||i.push(t),i},aH=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=r;if(!i)return null;var y=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/y:0;if(g=m==="angleAxis"&&s&&s.length>=2?gi(s[0]-s[1])*2*g:g,f||p){var v=(f||p||[]).map((w,S)=>{var C=n?n.indexOf(w):w;return{coordinate:i(C)+g,value:w,offset:g,index:S}});return v.filter(w=>!Kl(w.coordinate))}return c&&u?u.map((w,S)=>({coordinate:i(w)+g,value:w,index:S,offset:g})):i.ticks&&d!=null?i.ticks(d).map((w,S)=>({coordinate:i(w)+g,value:w,offset:g,index:S})):i.domain().map((w,S)=>({coordinate:i(w)+g,value:n?n[w]:w,index:S,offset:g}))},s6=1e-4,boe=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),a=Math.min(n[0],n[1])-s6,s=Math.max(n[0],n[1])+s6,i=r(e[0]),l=r(e[t-1]);(i<a||i>s||l<a||l>s)&&r.domain([e[0],e[t-1]])}},woe=(r,e)=>{if(!e||e.length!==2||!yr(e[0])||!yr(e[1]))return r;var t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),a=[r[0],r[1]];return(!yr(r[0])||r[0]<t)&&(a[0]=t),(!yr(r[1])||r[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<t&&(a[1]=t),a},Coe=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0,i=0;i<e;++i){var l=Kl(r[i][t][1])?r[i][t][0]:r[i][t][1];l>=0?(r[i][t][0]=a,r[i][t][1]=a+l,a=r[i][t][1]):(r[i][t][0]=s,r[i][t][1]=s+l,s=r[i][t][1])}},Noe=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0;s<e;++s){var i=Kl(r[s][t][1])?r[s][t][0]:r[s][t][1];i>=0?(r[s][t][0]=a,r[s][t][1]=a+i,a=r[s][t][1]):(r[s][t][0]=0,r[s][t][1]=0)}},Soe={sign:Coe,expand:ese,none:Kp,silhouette:tse,wiggle:rse,positive:Noe},Boe=(r,e,t)=>{var n=Soe[t],a=Zae().keys(e).value((s,i)=>+Va(s,i,0)).order(p4).offset(n);return a(r)};function Eoe(r){return r==null?void 0:String(r)}var i6=r=>{var{axis:e,ticks:t,offset:n,bandSize:a,entry:s,index:i}=r;if(e.type==="category")return t[i]?t[i].coordinate+n:null;var l=Va(s,e.dataKey,e.scale.domain()[i]);return wi(l)?null:e.scale(l)-a/2+n},joe=r=>{var{numericAxis:e}=r,t=e.scale.domain();if(e.type==="number"){var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return n<=0&&a>=0?0:a<0?a:n}return t[0]},_oe=r=>{var e=r.flat(2).filter(yr);return[Math.min(...e),Math.max(...e)]},Toe=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],koe=(r,e,t)=>{if(r!=null)return Toe(Object.keys(r).reduce((n,a)=>{var s=r[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var d=rH(u,e,t),f=_oe(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},o6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z_=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var a=yC(e,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function c6(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:a,name:s}=r;return Cc(Cc({},e),{},{dataKey:t,payload:n,value:a,name:s})}function SC(r,e){if(r)return String(r);if(typeof e=="string")return e}function Foe(r,e,t,n,a){if(t==="horizontal"||t==="vertical"){var s=r>=a.left&&r<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:r,y:e}:null}return n?moe({x:r,y:e},n):null}var Ooe=(r,e,t,n)=>{var a=e.find(u=>u&&u.index===t);if(a){if(r==="horizontal")return{x:a.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:a.coordinate};if(r==="centric"){var s=a.coordinate,{radius:i}=n;return Cc(Cc(Cc({},n),Is(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return Cc(Cc(Cc({},n),Is(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},Doe=(r,e)=>e==="horizontal"?r.x:e==="vertical"?r.y:e==="centric"?r.angle:r.radius,Id=r=>r.layout.width,Ld=r=>r.layout.height,Poe=r=>r.layout.scale,sH=r=>r.layout.margin,BC=Je(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),EC=Je(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),iH="data-recharts-item-index",oH="data-recharts-item-data-key",cv=60;function u6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function W1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(t),!0).forEach(function(n){Ioe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):u6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ioe(r,e,t){return(e=Loe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Loe(r){var e=Moe(r,"string");return typeof e=="symbol"?e:e+""}function Moe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Roe=r=>r.brush.height;function Uoe(r){var e=EC(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:cv;return t+a}return t},0)}function Qoe(r){var e=EC(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:cv;return t+a}return t},0)}function Hoe(r){var e=BC(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function zoe(r){var e=BC(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var ti=Je([Id,Ld,sH,Roe,Uoe,Qoe,Hoe,zoe,_Q,iie],(r,e,t,n,a,s,i,l,c,u)=>{var d={left:(t.left||0)+a,right:(t.right||0)+s},f={top:(t.top||0)+i,bottom:(t.bottom||0)+l},p=W1(W1({},f),d),m=p.bottom;p.bottom+=n,p=voe(p,c,u);var y=r-p.left-p.right,g=e-p.top-p.bottom;return W1(W1({brushBottom:m},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),Koe=Je(ti,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),K_=Je(Id,Ld,(r,e)=>({x:0,y:0,width:r,height:e})),$oe=B.createContext(null),Pc=()=>B.useContext($oe)!=null,jC=r=>r.brush,_C=Je([jC,ti,sH],(r,e,t)=>({height:r.height,x:yr(r.x)?r.x:e.left,y:yr(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:yr(r.width)?r.width:e.width})),$_=()=>{var r,e=Pc(),t=Ar(Koe),n=Ar(_C),a=(r=Ar(jC))===null||r===void 0?void 0:r.padding;return!e||!n||!a?t:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Voe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lH=()=>{var r;return(r=Ar(ti))!==null&&r!==void 0?r:Voe},V_=()=>Ar(Id),q_=()=>Ar(Ld),qoe=()=>Ar(r=>r.layout.margin),Cn=r=>r.layout.layoutType,G_=()=>Ar(Cn),Goe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cH=Yl({name:"legend",initialState:Goe,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload(r,e){r.payload.push(e.payload)},removeLegendPayload(r,e){var t=fd(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)}}}),{setLegendSize:A6,setLegendSettings:Woe,addLegendPayload:uH,removeLegendPayload:AH}=cH.actions,Yoe=cH.reducer,Xoe=["contextPayload"];function E4(){return E4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},E4.apply(null,arguments)}function d6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Vp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(t),!0).forEach(function(n){W_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):d6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function W_(r,e,t){return(e=Joe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Joe(r){var e=Zoe(r,"string");return typeof e=="symbol"?e:e+""}function Zoe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ele(r,e){if(r==null)return{};var t,n,a=tle(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function tle(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function rle(r){return r.value}function nle(r){var{contextPayload:e}=r,t=ele(r,Xoe),n=SQ(e,r.payloadUniqBy,rle),a=Vp(Vp({},t),{},{payload:n});return B.isValidElement(r.content)?B.cloneElement(r.content,a):typeof r.content=="function"?B.createElement(r.content,a):B.createElement(D_,a)}function ale(r,e,t,n,a,s){var{layout:i,align:l,verticalAlign:c}=e,u,d;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),Vp(Vp({},u),d)}function sle(r){var e=Wa();return B.useEffect(()=>{e(Woe(r))},[e,r]),null}function ile(r){var e=Wa();return B.useEffect(()=>(e(A6(r)),()=>{e(A6({width:0,height:0}))}),[e,r]),null}function ole(r){var e=cie(),t=Cae(),n=qoe(),{width:a,height:s,wrapperStyle:i,portal:l}=r,[c,u]=TQ([e]),d=V_(),f=q_();if(d==null||f==null)return null;var p=d-(n.left||0)-(n.right||0),m=TC.getWidthOrHeight(r.layout,s,a,p),y=l?i:Vp(Vp({position:"absolute",width:m?.width||a||"auto",height:m?.height||s||"auto"},ale(i,r,n,d,f,c)),i),g=l??t;if(g==null)return null;var v=B.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},B.createElement(sle,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),B.createElement(ile,{width:c.width,height:c.height}),B.createElement(nle,E4({},r,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:e})));return V8.createPortal(v,g)}class TC extends B.PureComponent{static getWidthOrHeight(e,t,n,a){return e==="vertical"&&yr(t)?{height:t}:e==="horizontal"?{width:n||a}:null}render(){return B.createElement(ole,this.props)}}W_(TC,"displayName","Legend");W_(TC,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function j4(){return j4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},j4.apply(null,arguments)}function h6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function iB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(t),!0).forEach(function(n){lle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lle(r,e,t){return(e=cle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cle(r){var e=ule(r,"string");return typeof e=="symbol"?e:e+""}function ule(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ale(r){return Array.isArray(r)&&yA(r[0])&&yA(r[1])?r.join(" ~ "):r}var dle=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=r,m=()=>{if(s&&s.length){var T={padding:0,margin:0},L=(l?yC(s,l):s).map((I,D)=>{if(I.type==="none")return null;var k=I.formatter||i||Ale,{value:z,name:P}=I,U=z,M=P;if(k){var q=k(z,P,I,D,s);if(Array.isArray(q))[U,M]=q;else if(q!=null)U=q;else return null}var ae=iB({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ae},yA(M)?B.createElement("span",{className:"recharts-tooltip-item-name"},M):null,yA(M)?B.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,B.createElement("span",{className:"recharts-tooltip-item-value"},U),B.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:T},L)}return null},y=iB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),g=iB({margin:0},a),v=!wi(d),w=v?d:"",S=dn("recharts-default-tooltip",c),C=dn("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(w=f(d,s));var j=p?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",j4({className:S,style:y},j),B.createElement("p",{className:C,style:g},B.isValidElement(w)?w:"".concat(w)),m())},vx="recharts-tooltip-wrapper",hle={visibility:"hidden"};function fle(r){var{coordinate:e,translateX:t,translateY:n}=r;return dn(vx,{["".concat(vx,"-right")]:yr(t)&&e&&yr(e.x)&&t>=e.x,["".concat(vx,"-left")]:yr(t)&&e&&yr(e.x)&&t<e.x,["".concat(vx,"-bottom")]:yr(n)&&e&&yr(e.y)&&n>=e.y,["".concat(vx,"-top")]:yr(n)&&e&&yr(e.y)&&n<e.y})}function f6(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=r;if(s&&yr(s[n]))return s[n];var d=t[n]-l-(a>0?a:0),f=t[n]+a;if(e[n])return i[n]?d:f;var p=c[n];if(p==null)return 0;if(i[n]){var m=d,y=p;return m<y?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var g=f+l,v=p+u;return g>v?Math.max(d,p):Math.max(f,p)}function mle(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function ple(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=r,u,d,f;return i.height>0&&i.width>0&&t?(d=f6({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=f6({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=mle({translateX:d,translateY:f,useTranslate3d:l})):u=hle,{cssProperties:u,cssClasses:fle({translateX:d,translateY:f,coordinate:t})}}function m6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Y1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(t),!0).forEach(function(n){_4(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):m6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _4(r,e,t){return(e=gle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gle(r){var e=xle(r,"string");return typeof e=="symbol"?e:e+""}function xle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class yle extends B.PureComponent{constructor(){super(...arguments),_4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:w}=this.props,{cssClasses:S,cssProperties:C}=ple({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),j=w?{}:Y1(Y1({transition:c&&e?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=Y1(Y1({},j),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return B.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:T,ref:v},s)}}var vle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),K0={devToolsEnabled:!1,isSsr:vle()},dH=()=>Ar(r=>r.rootProps.accessibilityLayer);function Vl(r){return Number.isFinite(r)}function qp(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function T4(){return T4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},T4.apply(null,arguments)}function p6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function g6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(t),!0).forEach(function(n){ble(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ble(r,e,t){return(e=wle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wle(r){var e=Cle(r,"string");return typeof e=="symbol"?e:e+""}function Cle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var x6={curveBasisClosed:Hae,curveBasisOpen:zae,curveBasis:Qae,curveBumpX:Eae,curveBumpY:jae,curveLinearClosed:Kae,curveLinear:gC,curveMonotoneX:$ae,curveMonotoneY:Vae,curveNatural:qae,curveStep:Gae,curveStepAfter:Yae,curveStepBefore:Wae},X1=r=>Vl(r.x)&&Vl(r.y),bx=r=>r.x,wx=r=>r.y,Nle=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(sv(r));return(t==="curveMonotone"||t==="curveBump")&&e?x6["".concat(t).concat(e==="vertical"?"Y":"X")]:x6[t]||gC},Sle=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:a,connectNulls:s=!1}=r,i=Nle(e,a),l=s?t.filter(X1):t,c;if(Array.isArray(n)){var u=s?n.filter(f=>X1(f)):n,d=l.map((f,p)=>g6(g6({},f),{},{base:u[p]}));return a==="vertical"?c=z1().y(wx).x1(bx).x0(f=>f.base.x):c=z1().x(bx).y1(wx).y0(f=>f.base.y),c.defined(X1).curve(i),c(d)}return a==="vertical"&&yr(n)?c=z1().y(wx).x1(bx).x0(n):yr(n)?c=z1().x(bx).y1(wx).y0(n):c=sQ().x(bx).y(wx),c.defined(X1).curve(i),c(l)},hH=r=>{var{className:e,points:t,path:n,pathRef:a}=r;if((!t||!t.length)&&!n)return null;var s=t&&t.length?Sle(r):n;return B.createElement("path",T4({},Af(r),hae(r),{className:dn("recharts-curve",e),d:s===null?void 0:s,ref:a}))},Ble=["x","y","top","left","width","height","className"];function k4(){return k4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},k4.apply(null,arguments)}function y6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ele(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(t),!0).forEach(function(n){jle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):y6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jle(r,e,t){return(e=_le(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _le(r){var e=Tle(r,"string");return typeof e=="symbol"?e:e+""}function Tle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kle(r,e){if(r==null)return{};var t,n,a=Fle(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Fle(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Ole=(r,e,t,n,a,s)=>"M".concat(r,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(t),Dle=r=>{var{x:e=0,y:t=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=r,c=kle(r,Ble),u=Ele({x:e,y:t,top:n,left:a,width:s,height:i},c);return!yr(e)||!yr(t)||!yr(s)||!yr(i)||!yr(n)||!yr(a)?null:B.createElement("path",k4({},ei(u,!0),{className:dn("recharts-cross",l),d:Ole(e,t,s,i,n,a)}))};function Ple(r,e,t,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-a:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-a,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function v6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ile(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(t),!0).forEach(function(n){Lle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):v6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lle(r,e,t){return(e=Mle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mle(r){var e=Rle(r,"string");return typeof e=="symbol"?e:e+""}function Rle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Fo(r,e){var t=Ile({},r),n=e,a=Object.keys(e),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),t);return s}function Ule(){}function b6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function w6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(t),!0).forEach(function(n){Qle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):b6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Qle(r,e,t){return(e=Hle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Hle(r){var e=zle(r,"string");return typeof e=="symbol"?e:e+""}function zle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Kle=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),fH=(r,e,t)=>r.map(n=>"".concat(Kle(n)," ").concat(e,"ms ").concat(t)).join(","),$le=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(a=>n.includes(a))),Ny=(r,e)=>Object.keys(e).reduce((t,n)=>w6(w6({},t),{},{[n]:r(n,e[n])}),{});function C6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ri(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(t),!0).forEach(function(n){Vle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):C6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Vle(r,e,t){return(e=qle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qle(r){var e=Gle(r,"string");return typeof e=="symbol"?e:e+""}function Gle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Vw=(r,e,t)=>r+(e-r)*t,F4=r=>{var{from:e,to:t}=r;return e!==t},mH=(r,e,t)=>{var n=Ny((a,s)=>{if(F4(s)){var[i,l]=r(s.from,s.to,s.velocity);return Ri(Ri({},s),{},{from:i,velocity:l})}return s},e);return t<1?Ny((a,s)=>F4(s)?Ri(Ri({},s),{},{velocity:Vw(s.velocity,n[a].velocity,t),from:Vw(s.from,n[a].from,t)}):s,e):mH(r,n,t-1)};function Wle(r,e,t,n,a,s){var i,l=n.reduce((p,m)=>Ri(Ri({},p),{},{[m]:{from:r[m],velocity:0,to:e[m]}}),{}),c=()=>Ny((p,m)=>m.from,l),u=()=>!Object.values(l).filter(F4).length,d=null,f=p=>{i||(i=p);var m=p-i,y=m/t.dt;l=mH(t,l,y),a(Ri(Ri(Ri({},r),e),c())),i=p,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function Yle(r,e,t,n,a,s,i){var l=null,c=a.reduce((f,p)=>Ri(Ri({},f),{},{[p]:[r[p],e[p]]}),{}),u,d=f=>{u||(u=f);var p=(f-u)/n,m=Ny((g,v)=>Vw(...v,t(p)),c);if(s(Ri(Ri(Ri({},r),e),m)),p<1)l=i.setTimeout(d);else{var y=Ny((g,v)=>Vw(...v,t(1)),c);s(Ri(Ri(Ri({},r),e),y))}};return()=>(l=i.setTimeout(d),()=>{l()})}const Xle=(r,e,t,n,a,s)=>{var i=$le(r,e);return t.isStepper===!0?Wle(r,e,t,i,a,s):Yle(r,e,t,n,i,a,s)};var qw=1e-4,pH=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],gH=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),N6=(r,e)=>t=>{var n=pH(r,e);return gH(n,t)},Jle=(r,e)=>t=>{var n=pH(r,e),a=[...n.map((s,i)=>s*i).slice(1),0];return gH(a,t)},S6=function(){for(var e,t,n,a,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];if(i.length===1)switch(i[0]){case"linear":[e,n,t,a]=[0,0,1,1];break;case"ease":[e,n,t,a]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,a]=[.42,0,1,1];break;case"ease-out":[e,n,t,a]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,a]=[0,0,.58,1];break;default:{var c=i[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,t,a]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else i.length===4&&([e,n,t,a]=i);var u=N6(e,t),d=N6(n,a),f=Jle(e,t),p=y=>y>1?1:y<0?0:y,m=y=>{for(var g=y>1?1:y,v=g,w=0;w<8;++w){var S=u(v)-g,C=f(v);if(Math.abs(S-g)<qw||C<qw)return d(v);v=p(v-S/C)}return d(v)};return m.isStepper=!1,m},Zle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:a=17}=e,s=(i,l,c)=>{var u=-(i-l)*t,d=c*n,f=c+(u-d)*a/1e3,p=c*a/1e3+i;return Math.abs(p-l)<qw&&Math.abs(f)<qw?[l,0]:[p,f]};return s.isStepper=!0,s.dt=a,s},ece=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S6(r);case"spring":return Zle();default:if(r.split("(")[0]==="cubic-bezier")return S6(r)}return typeof r=="function"?r:null};function tce(r){var e,t=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=r.setTimeout(s.bind(null,u),c);return}s(c),a=r.setTimeout(s.bind(null,u));return}typeof i=="string"&&(e=i,t(e)),typeof i=="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(t=i,()=>{t=()=>null}),getTimeoutController:()=>r}}class rce{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=t?e(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function nce(){return tce(new rce)}var ace=B.createContext(nce);function sce(r,e){var t=B.useContext(ace);return B.useMemo(()=>e??t(r),[r,e,t])}var ice={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},B6={t:0},oB={t:1};function kC(r){var e=Fo(r,ice),{isActive:t,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=sce(e.animationId,e.animationManager),[f,p]=B.useState(t?B6:oB),m=B.useRef(null);return B.useEffect(()=>{t||p(oB)},[t]),B.useEffect(()=>{if(!t||!n)return Ule;var y=Xle(B6,oB,ece(s),a,p,d.getTimeoutController()),g=()=>{m.current=y()};return d.start([c,i,g,a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[t,n,a,s,i,c,l,d]),u(f.t)}function FC(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=B.useRef(by(e)),n=B.useRef(r);return n.current!==r&&(t.current=by(e),n.current=r),t.current}function E6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function j6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(t),!0).forEach(function(n){oce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):E6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function oce(r,e,t){return(e=lce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lce(r){var e=cce(r,"string");return typeof e=="symbol"?e:e+""}function cce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Gw.apply(null,arguments)}var _6=(r,e,t,n,a)=>{var s=Math.min(Math.abs(t)/2,Math.abs(n)/2),i=n>=0?1:-1,l=t>=0?1:-1,c=n>=0&&t>=0||n<0&&t<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=a[f]>s?s:a[f];u="M".concat(r,",").concat(e+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(r+l*d[0],",").concat(e)),u+="L ".concat(r+t-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(r+t,",").concat(e+i*d[1])),u+="L ".concat(r+t,",").concat(e+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(r+t-l*d[2],",").concat(e+n)),u+="L ".concat(r+l*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(r,",").concat(e+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(r,",").concat(e+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+l*m,",").concat(e,`
            L `).concat(r+t-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+t,",").concat(e+i*m,`
            L `).concat(r+t,",").concat(e+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+t-l*m,",").concat(e+n,`
            L `).concat(r+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r,",").concat(e+n-i*m," Z")}else u="M ".concat(r,",").concat(e," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return u},uce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xH=r=>{var e=Fo(r,uce),t=B.useRef(null),[n,a]=B.useState(-1);B.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var q=t.current.getTotalLength();q&&a(q)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:g}=e,v=B.useRef(l),w=B.useRef(c),S=B.useRef(s),C=B.useRef(i),j=B.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),T=FC(j,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var L=dn("recharts-rectangle",d);if(!g)return B.createElement("path",Gw({},ei(e,!0),{className:L,d:_6(s,i,l,c,u)}));var I=v.current,D=w.current,k=S.current,z=C.current,P="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),M=fH(["strokeDasharray"],p,typeof f=="string"?f:void 0);return B.createElement(kC,{animationId:T,key:T,canBegin:n>0,duration:p,easing:f,isActive:g,begin:m},q=>{var ae=Hi(I,l,q),W=Hi(D,c,q),ee=Hi(k,s,q),re=Hi(z,i,q);t.current&&(v.current=ae,w.current=W,S.current=ee,C.current=re);var pe;return y?q>0?pe={transition:M,strokeDasharray:U}:pe={strokeDasharray:P}:pe={strokeDasharray:U},B.createElement("path",Gw({},ei(e,!0),{className:L,d:_6(ee,re,ae,W,u),ref:t,style:j6(j6({},pe),e.style)}))})};function yH(r){var{cx:e,cy:t,radius:n,startAngle:a,endAngle:s}=r,i=Is(e,t,n,a),l=Is(e,t,n,s);return{points:[i,l],cx:e,cy:t,radius:n,startAngle:a,endAngle:s}}function O4(){return O4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},O4.apply(null,arguments)}var Ace=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},J1=r=>{var{cx:e,cy:t,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=r,u=l*(i?1:-1)+n,d=Math.asin(l/u)/$w,f=c?a:a+s*d,p=Is(e,t,u,f),m=Is(e,t,n,f),y=c?a-s*d:a,g=Is(e,t,u*Math.cos(d*$w),y);return{center:p,circleTangency:m,lineTangency:g,theta:d}},vH=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=r,l=Ace(s,i),c=s+l,u=Is(e,t,a,s),d=Is(e,t,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=Is(e,t,n,s),m=Is(e,t,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(e,",").concat(t," Z");return f},dce=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=r,d=gi(u-c),{circleTangency:f,lineTangency:p,theta:m}=J1({cx:e,cy:t,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=J1({cx:e,cy:t,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),w=l?Math.abs(c-u):Math.abs(c-u)-m-v;if(w<0)return i?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vH({cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:j,theta:T}=J1({cx:e,cy:t,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:L,lineTangency:I,theta:D}=J1({cx:e,cy:t,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-T-D;if(k<0&&s===0)return"".concat(S,"L").concat(e,",").concat(t,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(e,",").concat(t,"Z");return S},hce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bH=r=>{var e=Fo(r,hce),{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(s<a||u===d)return null;var p=dn("recharts-sector",f),m=s-a,y=uo(i,m,0,!0),g;return y>0&&Math.abs(u-d)<360?g=dce({cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=vH({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),B.createElement("path",O4({},ei(e,!0),{className:p,d:g}))};function fce(r,e,t){var n,a,s,i;if(r==="horizontal")n=e.x,s=n,a=t.top,i=t.top+t.height;else if(r==="vertical")a=e.y,i=a,n=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=e,p=Is(l,c,u,f),m=Is(l,c,d,f);n=p.x,a=p.y,s=m.x,i=m.y}else return yH(e);return[{x:n,y:a},{x:s,y:i}]}var lB={},cB={},uB={},T6;function mce(){return T6||(T6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=EQ();function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(uB)),uB}var k6;function pce(){return k6||(k6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=mce();function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(cB)),cB}var F6;function gce(){return F6||(F6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jQ(),t=pce();function n(a,s,i){i&&typeof i!="number"&&e.isIterateeCall(a,s,i)&&(s=i=void 0),a=t.toFinite(a),s===void 0?(s=a,a=0):s=t.toFinite(s),i=i===void 0?a<s?1:-1:t.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}r.range=n})(lB)),lB}var AB,O6;function xce(){return O6||(O6=1,AB=gce().range),AB}var yce=xce();const wH=Fc(yce);function Vh(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function vce(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Y_(r){let e,t,n;r.length!==2?(e=Vh,t=(l,c)=>Vh(r(l),c),n=(l,c)=>r(l)-c):(e=r===Vh||r===vce?r:bce,t=r,n=r);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;t(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;t(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function bce(){return 0}function CH(r){return r===null?NaN:+r}function*wce(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const Cce=Y_(Vh),uv=Cce.right;Y_(CH).center;class D6 extends Map{constructor(e,t=Bce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(P6(this,e))}has(e){return super.has(P6(this,e))}set(e,t){return super.set(Nce(this,e),t)}delete(e){return super.delete(Sce(this,e))}}function P6({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function Nce({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function Sce({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function Bce(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Ece(r=Vh){if(r===Vh)return NH;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function NH(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const jce=Math.sqrt(50),_ce=Math.sqrt(10),Tce=Math.sqrt(2);function Ww(r,e,t){const n=(e-r)/Math.max(0,t),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=jce?10:s>=_ce?5:s>=Tce?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(r*u),c=Math.round(e*u),l/u<r&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(r/u),c=Math.round(e/u),l*u<r&&++l,c*u>e&&--c),c<l&&.5<=t&&t<2?Ww(r,e,t*2):[l,c,u]}function D4(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[a,s,i]=n?Ww(e,r,t):Ww(r,e,t);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function P4(r,e,t){return e=+e,r=+r,t=+t,Ww(r,e,t)[2]}function I4(r,e,t){e=+e,r=+r,t=+t;const n=e<r,a=n?P4(e,r,t):P4(r,e,t);return(n?-1:1)*(a<0?1/-a:a)}function I6(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function L6(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function SH(r,e,t=0,n=1/0,a){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(a=a===void 0?NH:Ece(a);n>t;){if(n-t>600){const c=n-t+1,u=e-t+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(t,Math.floor(e-u*f/c+p)),y=Math.min(n,Math.floor(e+(c-u)*f/c+p));SH(r,e,m,y,a)}const s=r[e];let i=t,l=n;for(Cx(r,t,e),a(r[n],s)>0&&Cx(r,t,n);i<l;){for(Cx(r,i,l),++i,--l;a(r[i],s)<0;)++i;for(;a(r[l],s)>0;)--l}a(r[t],s)===0?Cx(r,t,l):(++l,Cx(r,l,n)),l<=e&&(t=l+1),e<=l&&(n=l-1)}return r}function Cx(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function kce(r,e,t){if(r=Float64Array.from(wce(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return L6(r);if(e>=1)return I6(r);var n,a=(n-1)*e,s=Math.floor(a),i=I6(SH(r,s).subarray(0,s+1)),l=L6(r.subarray(s+1));return i+(l-i)*(a-s)}}function Fce(r,e,t=CH){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,a=(n-1)*e,s=Math.floor(a),i=+t(r[s],s,r),l=+t(r[s+1],s+1,r);return i+(l-i)*(a-s)}}function Oce(r,e,t){r=+r,e=+e,t=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+t;for(var n=-1,a=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(a);++n<a;)s[n]=r+n*t;return s}function Ic(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function Md(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L4=Symbol("implicit");function X_(){var r=new D6,e=[],t=[],n=L4;function a(s){let i=r.get(s);if(i===void 0){if(n!==L4)return n;r.set(s,i=e.push(s)-1)}return t[i%t.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new D6;for(const i of s)r.has(i)||r.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(t=Array.from(s),a):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return X_(e,t).unknown(n)},Ic.apply(a,arguments),a}function J_(){var r=X_().unknown(void 0),e=r.domain,t=r.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete r.unknown;function f(){var p=e().length,m=a<n,y=m?a:n,g=m?n:a;s=(g-y)/Math.max(1,p-c+u*2),l&&(s=Math.floor(s)),y+=(g-y-s*(p-c))*d,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var v=Oce(p).map(function(w){return y+s*w});return t(m?v.reverse():v)}return r.domain=function(p){return arguments.length?(e(p),f()):e()},r.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},r.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},r.bandwidth=function(){return i},r.step=function(){return s},r.round=function(p){return arguments.length?(l=!!p,f()):l},r.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},r.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},r.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},r.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},r.copy=function(){return J_(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ic.apply(f(),arguments)}function BH(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return BH(e())},r}function Dce(){return BH(J_.apply(null,arguments).paddingInner(1))}function Z_(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function EH(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function Av(){}var Sy=.7,Yw=1/Sy,Sp="\\s*([+-]?\\d+)\\s*",By="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pce=/^#([0-9a-f]{3,8})$/,Ice=new RegExp(`^rgb\\(${Sp},${Sp},${Sp}\\)$`),Lce=new RegExp(`^rgb\\(${xA},${xA},${xA}\\)$`),Mce=new RegExp(`^rgba\\(${Sp},${Sp},${Sp},${By}\\)$`),Rce=new RegExp(`^rgba\\(${xA},${xA},${xA},${By}\\)$`),Uce=new RegExp(`^hsl\\(${By},${xA},${xA}\\)$`),Qce=new RegExp(`^hsla\\(${By},${xA},${xA},${By}\\)$`),M6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Z_(Av,Ey,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:R6,formatHex:R6,formatHex8:Hce,formatHsl:zce,formatRgb:U6,toString:U6});function R6(){return this.rgb().formatHex()}function Hce(){return this.rgb().formatHex8()}function zce(){return jH(this).formatHsl()}function U6(){return this.rgb().formatRgb()}function Ey(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Pce.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?Q6(e):t===3?new al(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Z1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Z1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ice.exec(r))?new al(e[1],e[2],e[3],1):(e=Lce.exec(r))?new al(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mce.exec(r))?Z1(e[1],e[2],e[3],e[4]):(e=Rce.exec(r))?Z1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uce.exec(r))?K6(e[1],e[2]/100,e[3]/100,1):(e=Qce.exec(r))?K6(e[1],e[2]/100,e[3]/100,e[4]):M6.hasOwnProperty(r)?Q6(M6[r]):r==="transparent"?new al(NaN,NaN,NaN,0):null}function Q6(r){return new al(r>>16&255,r>>8&255,r&255,1)}function Z1(r,e,t,n){return n<=0&&(r=e=t=NaN),new al(r,e,t,n)}function Kce(r){return r instanceof Av||(r=Ey(r)),r?(r=r.rgb(),new al(r.r,r.g,r.b,r.opacity)):new al}function M4(r,e,t,n){return arguments.length===1?Kce(r):new al(r,e,t,n??1)}function al(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}Z_(al,M4,EH(Av,{brighter(r){return r=r==null?Yw:Math.pow(Yw,r),new al(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Sy:Math.pow(Sy,r),new al(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new al(x0(this.r),x0(this.g),x0(this.b),Xw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H6,formatHex:H6,formatHex8:$ce,formatRgb:z6,toString:z6}));function H6(){return`#${i0(this.r)}${i0(this.g)}${i0(this.b)}`}function $ce(){return`#${i0(this.r)}${i0(this.g)}${i0(this.b)}${i0((isNaN(this.opacity)?1:this.opacity)*255)}`}function z6(){const r=Xw(this.opacity);return`${r===1?"rgb(":"rgba("}${x0(this.r)}, ${x0(this.g)}, ${x0(this.b)}${r===1?")":`, ${r})`}`}function Xw(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function x0(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function i0(r){return r=x0(r),(r<16?"0":"")+r.toString(16)}function K6(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new xu(r,e,t,n)}function jH(r){if(r instanceof xu)return new xu(r.h,r.s,r.l,r.opacity);if(r instanceof Av||(r=Ey(r)),!r)return new xu;if(r instanceof xu)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,a=Math.min(e,t,n),s=Math.max(e,t,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(t-n)/l+(t<n)*6:t===s?i=(n-e)/l+2:i=(e-t)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new xu(i,l,c,r.opacity)}function Vce(r,e,t,n){return arguments.length===1?jH(r):new xu(r,e,t,n??1)}function xu(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}Z_(xu,Vce,EH(Av,{brighter(r){return r=r==null?Yw:Math.pow(Yw,r),new xu(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Sy:Math.pow(Sy,r),new xu(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,a=2*t-n;return new al(dB(r>=240?r-240:r+120,a,n),dB(r,a,n),dB(r<120?r+240:r-120,a,n),this.opacity)},clamp(){return new xu($6(this.h),eb(this.s),eb(this.l),Xw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Xw(this.opacity);return`${r===1?"hsl(":"hsla("}${$6(this.h)}, ${eb(this.s)*100}%, ${eb(this.l)*100}%${r===1?")":`, ${r})`}`}}));function $6(r){return r=(r||0)%360,r<0?r+360:r}function eb(r){return Math.max(0,Math.min(1,r||0))}function dB(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const eT=r=>()=>r;function qce(r,e){return function(t){return r+t*e}}function Gce(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Wce(r){return(r=+r)==1?_H:function(e,t){return t-e?Gce(e,t,r):eT(isNaN(e)?t:e)}}function _H(r,e){var t=e-r;return t?qce(r,t):eT(isNaN(r)?e:r)}const V6=(function r(e){var t=Wce(e);function n(a,s){var i=t((a=M4(a)).r,(s=M4(s)).r),l=t(a.g,s.g),c=t(a.b,s.b),u=_H(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=r,n})(1);function Yce(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),a;return function(s){for(a=0;a<t;++a)n[a]=r[a]*(1-s)+e[a]*s;return n}}function Xce(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Jce(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,a=new Array(n),s=new Array(t),i;for(i=0;i<n;++i)a[i]=pg(r[i],e[i]);for(;i<t;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function Zce(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function Jw(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function eue(r,e){var t={},n={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?t[a]=pg(r[a],e[a]):n[a]=e[a];return function(s){for(a in t)n[a]=t[a](s);return n}}var R4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hB=new RegExp(R4.source,"g");function tue(r){return function(){return r}}function rue(r){return function(e){return r(e)+""}}function nue(r,e){var t=R4.lastIndex=hB.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(r=r+"",e=e+"";(n=R4.exec(r))&&(a=hB.exec(e));)(s=a.index)>t&&(s=e.slice(t,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:Jw(n,a)})),t=hB.lastIndex;return t<e.length&&(s=e.slice(t),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?rue(c[0].x):tue(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pg(r,e){var t=typeof e,n;return e==null||t==="boolean"?eT(e):(t==="number"?Jw:t==="string"?(n=Ey(e))?(e=n,V6):nue:e instanceof Ey?V6:e instanceof Date?Zce:Xce(e)?Yce:Array.isArray(e)?Jce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eue:Jw)(r,e)}function tT(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function aue(r,e){e===void 0&&(e=r,r=pg);for(var t=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);t<n;)s[t]=r(a,a=e[++t]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function sue(r){return function(){return r}}function Zw(r){return+r}var q6=[0,1];function Eo(r){return r}function U4(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:sue(isNaN(e)?NaN:.5)}function iue(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function oue(r,e,t){var n=r[0],a=r[1],s=e[0],i=e[1];return a<n?(n=U4(a,n),s=t(i,s)):(n=U4(n,a),s=t(s,i)),function(l){return s(n(l))}}function lue(r,e,t){var n=Math.min(r.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=U4(r[i],r[i+1]),s[i]=t(e[i],e[i+1]);return function(l){var c=uv(r,l,1,n)-1;return s[c](a[c](l))}}function dv(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function OC(){var r=q6,e=q6,t=pg,n,a,s,i=Eo,l,c,u;function d(){var p=Math.min(r.length,e.length);return i!==Eo&&(i=iue(r[0],r[p-1])),l=p>2?lue:oue,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?s:(c||(c=l(r.map(n),e,t)))(n(i(p)))}return f.invert=function(p){return i(a((u||(u=l(e,r.map(n),Jw)))(p)))},f.domain=function(p){return arguments.length?(r=Array.from(p,Zw),d()):r.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),t=tT,d()},f.clamp=function(p){return arguments.length?(i=p?!0:Eo,d()):i!==Eo},f.interpolate=function(p){return arguments.length?(t=p,d()):t},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,m){return n=p,a=m,d()}}function rT(){return OC()(Eo,Eo)}function cue(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function e2(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function Gp(r){return r=e2(Math.abs(r)),r?r[1]:NaN}function uue(r,e){return function(t,n){for(var a=t.length,s=[],i=0,l=r[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(t.substring(a-=l,a+l)),!((c+=l+1)>n));)l=r[i=(i+1)%r.length];return s.reverse().join(e)}}function Aue(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var due=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jy(r){if(!(e=due.exec(r)))throw new Error("invalid format: "+r);var e;return new nT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jy.prototype=nT.prototype;function nT(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}nT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hue(r){e:for(var e=r.length,t=1,n=-1,a;t<e;++t)switch(r[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(a+1):r}var TH;function fue(r,e){var t=e2(r,e);if(!t)return r+"";var n=t[0],a=t[1],s=a-(TH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+e2(r,Math.max(0,e+s-1))[0]}function G6(r,e){var t=e2(r,e);if(!t)return r+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const W6={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:cue,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>G6(r*100,e),r:G6,s:fue,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function Y6(r){return r}var X6=Array.prototype.map,J6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mue(r){var e=r.grouping===void 0||r.thousands===void 0?Y6:uue(X6.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?Y6:Aue(X6.call(r.numerals,String)),i=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function u(f){f=jy(f);var p=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,w=f.width,S=f.comma,C=f.precision,j=f.trim,T=f.type;T==="n"?(S=!0,T="g"):W6[T]||(C===void 0&&(C=12),j=!0,T="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var L=g==="$"?t:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=g==="$"?n:/[%p]/.test(T)?i:"",D=W6[T],k=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(P){var U=L,M=I,q,ae,W;if(T==="c")M=D(P)+M,P="";else{P=+P;var ee=P<0||1/P<0;if(P=isNaN(P)?c:D(Math.abs(P),C),j&&(P=hue(P)),ee&&+P==0&&y!=="+"&&(ee=!1),U=(ee?y==="("?y:l:y==="-"||y==="("?"":y)+U,M=(T==="s"?J6[8+TH/3]:"")+M+(ee&&y==="("?")":""),k){for(q=-1,ae=P.length;++q<ae;)if(W=P.charCodeAt(q),48>W||W>57){M=(W===46?a+P.slice(q+1):P.slice(q))+M,P=P.slice(0,q);break}}}S&&!v&&(P=e(P,1/0));var re=U.length+P.length+M.length,pe=re<w?new Array(w-re+1).join(p):"";switch(S&&v&&(P=e(pe+P,pe.length?w-M.length:1/0),pe=""),m){case"<":P=U+P+M+pe;break;case"=":P=U+pe+P+M;break;case"^":P=pe.slice(0,re=pe.length>>1)+U+P+M+pe.slice(re);break;default:P=pe+U+P+M;break}return s(P)}return z.toString=function(){return f+""},z}function d(f,p){var m=u((f=jy(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Gp(p)/3)))*3,g=Math.pow(10,-y),v=J6[8+y/3];return function(w){return m(g*w)+v}}return{format:u,formatPrefix:d}}var tb,aT,kH;pue({thousands:",",grouping:[3],currency:["$",""]});function pue(r){return tb=mue(r),aT=tb.format,kH=tb.formatPrefix,tb}function gue(r){return Math.max(0,-Gp(Math.abs(r)))}function xue(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gp(e)/3)))*3-Gp(Math.abs(r)))}function yue(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,Gp(e)-Gp(r))+1}function FH(r,e,t,n){var a=I4(r,e,t),s;switch(n=jy(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=xue(a,i))&&(n.precision=s),kH(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=yue(a,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gue(a))&&(n.precision=s-(n.type==="%")*2);break}}return aT(n)}function df(r){var e=r.domain;return r.ticks=function(t){var n=e();return D4(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var a=e();return FH(a[0],a[a.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=P4(i,l,t),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return r},r}function OH(){var r=rT();return r.copy=function(){return dv(r,OH())},Ic.apply(r,arguments),df(r)}function DH(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,Zw),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return DH(r).unknown(e)},r=arguments.length?Array.from(r,Zw):[0,1],df(t)}function PH(r,e){r=r.slice();var t=0,n=r.length-1,a=r[t],s=r[n],i;return s<a&&(i=t,t=n,n=i,i=a,a=s,s=i),r[t]=e.floor(a),r[n]=e.ceil(s),r}function Z6(r){return Math.log(r)}function eI(r){return Math.exp(r)}function vue(r){return-Math.log(-r)}function bue(r){return-Math.exp(-r)}function wue(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Cue(r){return r===10?wue:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Nue(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function tI(r){return(e,t)=>-r(-e,t)}function sT(r){const e=r(Z6,eI),t=e.domain;let n=10,a,s;function i(){return a=Nue(n),s=Cue(n),t()[0]<0?(a=tI(a),s=tI(s),r(vue,bue)):r(Z6,eI),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(t(l),i()):t()},e.ticks=l=>{const c=t();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),y,g;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<n;++y)if(g=p<0?y/s(-p):y*s(p),!(g<u)){if(g>d)break;w.push(g)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/s(-p):y*s(p),!(g<u)){if(g>d)break;w.push(g)}w.length*2<v&&(w=D4(u,d,v))}else w=D4(p,m,Math.min(m-p,v)).map(s);return f?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=jy(c)).precision==null&&(c.trim=!0),c=aT(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>t(PH(t(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function IH(){const r=sT(OC()).domain([1,10]);return r.copy=()=>dv(r,IH()).base(r.base()),Ic.apply(r,arguments),r}function rI(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function nI(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function iT(r){var e=1,t=r(rI(e),nI(e));return t.constant=function(n){return arguments.length?r(rI(e=+n),nI(e)):e},df(t)}function LH(){var r=iT(OC());return r.copy=function(){return dv(r,LH()).constant(r.constant())},Ic.apply(r,arguments)}function aI(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function Sue(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function Bue(r){return r<0?-r*r:r*r}function oT(r){var e=r(Eo,Eo),t=1;function n(){return t===1?r(Eo,Eo):t===.5?r(Sue,Bue):r(aI(t),aI(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,n()):t},df(e)}function lT(){var r=oT(OC());return r.copy=function(){return dv(r,lT()).exponent(r.exponent())},Ic.apply(r,arguments),r}function Eue(){return lT.apply(null,arguments).exponent(.5)}function sI(r){return Math.sign(r)*r*r}function jue(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function MH(){var r=rT(),e=[0,1],t=!1,n;function a(s){var i=jue(r(s));return isNaN(i)?n:t?Math.round(i):i}return a.invert=function(s){return r.invert(sI(s))},a.domain=function(s){return arguments.length?(r.domain(s),a):r.domain()},a.range=function(s){return arguments.length?(r.range((e=Array.from(s,Zw)).map(sI)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(t=!!s,a):t},a.clamp=function(s){return arguments.length?(r.clamp(s),a):r.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return MH(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},Ic.apply(a,arguments),df(a)}function RH(){var r=[],e=[],t=[],n;function a(){var i=0,l=Math.max(1,e.length);for(t=new Array(l-1);++i<l;)t[i-1]=Fce(r,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[uv(t,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?t[l-1]:r[0],l<t.length?t[l]:r[r.length-1]]},s.domain=function(i){if(!arguments.length)return r.slice();r=[];for(let l of i)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(Vh),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return RH().domain(r).range(e).unknown(n)},Ic.apply(s,arguments)}function UH(){var r=0,e=1,t=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[uv(n,c,0,t)]:s}function l(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*e-(c-t)*r)/(t+1);return i}return i.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,l()):[r,e]},i.range=function(c){return arguments.length?(t=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[r,n[0]]:u>=t?[n[t-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return UH().domain([r,e]).range(a).unknown(s)},Ic.apply(df(i),arguments)}function QH(){var r=[.5],e=[0,1],t,n=1;function a(s){return s!=null&&s<=s?e[uv(r,s,0,n)]:t}return a.domain=function(s){return arguments.length?(r=Array.from(s),n=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[r[i-1],r[i]]},a.unknown=function(s){return arguments.length?(t=s,a):t},a.copy=function(){return QH().domain(r).range(e).unknown(t)},Ic.apply(a,arguments)}const fB=new Date,mB=new Date;function ri(r,e,t,n){function a(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(r(s=new Date(+s)),s),a.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),r(s);while(u<s&&s<i);return c},a.filter=s=>ri(i=>{if(i>=i)for(;r(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),t&&(a.count=(s,i)=>(fB.setTime(+s),mB.setTime(+i),r(fB),r(mB),Math.floor(t(fB,mB))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const t2=ri(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);t2.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?ri(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):t2);t2.range;const ud=1e3,Sc=ud*60,Ad=Sc*60,Bd=Ad*24,cT=Bd*7,iI=Bd*30,pB=Bd*365,o0=ri(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*ud)},(r,e)=>(e-r)/ud,r=>r.getUTCSeconds());o0.range;const uT=ri(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*ud)},(r,e)=>{r.setTime(+r+e*Sc)},(r,e)=>(e-r)/Sc,r=>r.getMinutes());uT.range;const AT=ri(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Sc)},(r,e)=>(e-r)/Sc,r=>r.getUTCMinutes());AT.range;const dT=ri(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*ud-r.getMinutes()*Sc)},(r,e)=>{r.setTime(+r+e*Ad)},(r,e)=>(e-r)/Ad,r=>r.getHours());dT.range;const hT=ri(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*Ad)},(r,e)=>(e-r)/Ad,r=>r.getUTCHours());hT.range;const hv=ri(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Sc)/Bd,r=>r.getDate()-1);hv.range;const DC=ri(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Bd,r=>r.getUTCDate()-1);DC.range;const HH=ri(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Bd,r=>Math.floor(r/Bd));HH.range;function $0(r){return ri(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sc)/cT)}const PC=$0(0),r2=$0(1),_ue=$0(2),Tue=$0(3),Wp=$0(4),kue=$0(5),Fue=$0(6);PC.range;r2.range;_ue.range;Tue.range;Wp.range;kue.range;Fue.range;function V0(r){return ri(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/cT)}const IC=V0(0),n2=V0(1),Oue=V0(2),Due=V0(3),Yp=V0(4),Pue=V0(5),Iue=V0(6);IC.range;n2.range;Oue.range;Due.range;Yp.range;Pue.range;Iue.range;const fT=ri(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());fT.range;const mT=ri(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());mT.range;const Ed=ri(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());Ed.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ri(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});Ed.range;const jd=ri(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());jd.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ri(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});jd.range;function zH(r,e,t,n,a,s){const i=[[o0,1,ud],[o0,5,5*ud],[o0,15,15*ud],[o0,30,30*ud],[s,1,Sc],[s,5,5*Sc],[s,15,15*Sc],[s,30,30*Sc],[a,1,Ad],[a,3,3*Ad],[a,6,6*Ad],[a,12,12*Ad],[n,1,Bd],[n,2,2*Bd],[t,1,cT],[e,1,iI],[e,3,3*iI],[r,1,pB]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return p?y.reverse():y}function c(u,d,f){const p=Math.abs(d-u)/f,m=Y_(([,,v])=>v).right(i,p);if(m===i.length)return r.every(I4(u/pB,d/pB,f));if(m===0)return t2.every(Math.max(I4(u,d,f),1));const[y,g]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(g)}return[l,c]}const[Lue,Mue]=zH(jd,mT,IC,HH,hT,AT),[Rue,Uue]=zH(Ed,fT,PC,hv,dT,uT);function gB(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function xB(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Nx(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function Que(r){var e=r.dateTime,t=r.date,n=r.time,a=r.periods,s=r.days,i=r.shortDays,l=r.months,c=r.shortMonths,u=Sx(a),d=Bx(a),f=Sx(s),p=Bx(s),m=Sx(i),y=Bx(i),g=Sx(l),v=Bx(l),w=Sx(c),S=Bx(c),C={a:ee,A:re,b:pe,B:Se,c:null,d:dI,e:dI,f:uAe,g:vAe,G:wAe,H:oAe,I:lAe,j:cAe,L:KH,m:AAe,M:dAe,p:ne,q:F,Q:mI,s:pI,S:hAe,u:fAe,U:mAe,V:pAe,w:gAe,W:xAe,x:null,X:null,y:yAe,Y:bAe,Z:CAe,"%":fI},j={a:Q,A:K,b:V,B:J,c:null,d:hI,e:hI,f:EAe,g:LAe,G:RAe,H:NAe,I:SAe,j:BAe,L:VH,m:jAe,M:_Ae,p:oe,q:Ne,Q:mI,s:pI,S:TAe,u:kAe,U:FAe,V:OAe,w:DAe,W:PAe,x:null,X:null,y:IAe,Y:MAe,Z:UAe,"%":fI},T={a:z,A:P,b:U,B:M,c:q,d:uI,e:uI,f:nAe,g:cI,G:lI,H:AI,I:AI,j:Zue,L:rAe,m:Jue,M:eAe,p:k,q:Xue,Q:sAe,s:iAe,S:tAe,u:Vue,U:que,V:Gue,w:$ue,W:Wue,x:ae,X:W,y:cI,Y:lI,Z:Yue,"%":aAe};C.x=L(t,C),C.X=L(n,C),C.c=L(e,C),j.x=L(t,j),j.X=L(n,j),j.c=L(e,j);function L(ue,xe){return function(Oe){var Be=[],qe=-1,Pe=0,X=ue.length,Me,We,bt;for(Oe instanceof Date||(Oe=new Date(+Oe));++qe<X;)ue.charCodeAt(qe)===37&&(Be.push(ue.slice(Pe,qe)),(We=oI[Me=ue.charAt(++qe)])!=null?Me=ue.charAt(++qe):We=Me==="e"?" ":"0",(bt=xe[Me])&&(Me=bt(Oe,We)),Be.push(Me),Pe=qe+1);return Be.push(ue.slice(Pe,qe)),Be.join("")}}function I(ue,xe){return function(Oe){var Be=Nx(1900,void 0,1),qe=D(Be,ue,Oe+="",0),Pe,X;if(qe!=Oe.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(xe&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(Pe=xB(Nx(Be.y,0,1)),X=Pe.getUTCDay(),Pe=X>4||X===0?n2.ceil(Pe):n2(Pe),Pe=DC.offset(Pe,(Be.V-1)*7),Be.y=Pe.getUTCFullYear(),Be.m=Pe.getUTCMonth(),Be.d=Pe.getUTCDate()+(Be.w+6)%7):(Pe=gB(Nx(Be.y,0,1)),X=Pe.getDay(),Pe=X>4||X===0?r2.ceil(Pe):r2(Pe),Pe=hv.offset(Pe,(Be.V-1)*7),Be.y=Pe.getFullYear(),Be.m=Pe.getMonth(),Be.d=Pe.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),X="Z"in Be?xB(Nx(Be.y,0,1)).getUTCDay():gB(Nx(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(X+5)%7:Be.w+Be.U*7-(X+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,xB(Be)):gB(Be)}}function D(ue,xe,Oe,Be){for(var qe=0,Pe=xe.length,X=Oe.length,Me,We;qe<Pe;){if(Be>=X)return-1;if(Me=xe.charCodeAt(qe++),Me===37){if(Me=xe.charAt(qe++),We=T[Me in oI?xe.charAt(qe++):Me],!We||(Be=We(ue,Oe,Be))<0)return-1}else if(Me!=Oe.charCodeAt(Be++))return-1}return Be}function k(ue,xe,Oe){var Be=u.exec(xe.slice(Oe));return Be?(ue.p=d.get(Be[0].toLowerCase()),Oe+Be[0].length):-1}function z(ue,xe,Oe){var Be=m.exec(xe.slice(Oe));return Be?(ue.w=y.get(Be[0].toLowerCase()),Oe+Be[0].length):-1}function P(ue,xe,Oe){var Be=f.exec(xe.slice(Oe));return Be?(ue.w=p.get(Be[0].toLowerCase()),Oe+Be[0].length):-1}function U(ue,xe,Oe){var Be=w.exec(xe.slice(Oe));return Be?(ue.m=S.get(Be[0].toLowerCase()),Oe+Be[0].length):-1}function M(ue,xe,Oe){var Be=g.exec(xe.slice(Oe));return Be?(ue.m=v.get(Be[0].toLowerCase()),Oe+Be[0].length):-1}function q(ue,xe,Oe){return D(ue,e,xe,Oe)}function ae(ue,xe,Oe){return D(ue,t,xe,Oe)}function W(ue,xe,Oe){return D(ue,n,xe,Oe)}function ee(ue){return i[ue.getDay()]}function re(ue){return s[ue.getDay()]}function pe(ue){return c[ue.getMonth()]}function Se(ue){return l[ue.getMonth()]}function ne(ue){return a[+(ue.getHours()>=12)]}function F(ue){return 1+~~(ue.getMonth()/3)}function Q(ue){return i[ue.getUTCDay()]}function K(ue){return s[ue.getUTCDay()]}function V(ue){return c[ue.getUTCMonth()]}function J(ue){return l[ue.getUTCMonth()]}function oe(ue){return a[+(ue.getUTCHours()>=12)]}function Ne(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var xe=L(ue+="",C);return xe.toString=function(){return ue},xe},parse:function(ue){var xe=I(ue+="",!1);return xe.toString=function(){return ue},xe},utcFormat:function(ue){var xe=L(ue+="",j);return xe.toString=function(){return ue},xe},utcParse:function(ue){var xe=I(ue+="",!0);return xe.toString=function(){return ue},xe}}}var oI={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,Hue=/^%/,zue=/[\\^$*+?|[\]().{}]/g;function wn(r,e,t){var n=r<0?"-":"",a=(n?-r:r)+"",s=a.length;return n+(s<t?new Array(t-s+1).join(e)+a:a)}function Kue(r){return r.replace(zue,"\\$&")}function Sx(r){return new RegExp("^(?:"+r.map(Kue).join("|")+")","i")}function Bx(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function $ue(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function Vue(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function que(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function Gue(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function Wue(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function lI(r,e,t){var n=Ci.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function cI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function Yue(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function Xue(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function Jue(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function uI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function Zue(r,e,t){var n=Ci.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function AI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function eAe(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function tAe(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function rAe(r,e,t){var n=Ci.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function nAe(r,e,t){var n=Ci.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function aAe(r,e,t){var n=Hue.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function sAe(r,e,t){var n=Ci.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function iAe(r,e,t){var n=Ci.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function dI(r,e){return wn(r.getDate(),e,2)}function oAe(r,e){return wn(r.getHours(),e,2)}function lAe(r,e){return wn(r.getHours()%12||12,e,2)}function cAe(r,e){return wn(1+hv.count(Ed(r),r),e,3)}function KH(r,e){return wn(r.getMilliseconds(),e,3)}function uAe(r,e){return KH(r,e)+"000"}function AAe(r,e){return wn(r.getMonth()+1,e,2)}function dAe(r,e){return wn(r.getMinutes(),e,2)}function hAe(r,e){return wn(r.getSeconds(),e,2)}function fAe(r){var e=r.getDay();return e===0?7:e}function mAe(r,e){return wn(PC.count(Ed(r)-1,r),e,2)}function $H(r){var e=r.getDay();return e>=4||e===0?Wp(r):Wp.ceil(r)}function pAe(r,e){return r=$H(r),wn(Wp.count(Ed(r),r)+(Ed(r).getDay()===4),e,2)}function gAe(r){return r.getDay()}function xAe(r,e){return wn(r2.count(Ed(r)-1,r),e,2)}function yAe(r,e){return wn(r.getFullYear()%100,e,2)}function vAe(r,e){return r=$H(r),wn(r.getFullYear()%100,e,2)}function bAe(r,e){return wn(r.getFullYear()%1e4,e,4)}function wAe(r,e){var t=r.getDay();return r=t>=4||t===0?Wp(r):Wp.ceil(r),wn(r.getFullYear()%1e4,e,4)}function CAe(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wn(e/60|0,"0",2)+wn(e%60,"0",2)}function hI(r,e){return wn(r.getUTCDate(),e,2)}function NAe(r,e){return wn(r.getUTCHours(),e,2)}function SAe(r,e){return wn(r.getUTCHours()%12||12,e,2)}function BAe(r,e){return wn(1+DC.count(jd(r),r),e,3)}function VH(r,e){return wn(r.getUTCMilliseconds(),e,3)}function EAe(r,e){return VH(r,e)+"000"}function jAe(r,e){return wn(r.getUTCMonth()+1,e,2)}function _Ae(r,e){return wn(r.getUTCMinutes(),e,2)}function TAe(r,e){return wn(r.getUTCSeconds(),e,2)}function kAe(r){var e=r.getUTCDay();return e===0?7:e}function FAe(r,e){return wn(IC.count(jd(r)-1,r),e,2)}function qH(r){var e=r.getUTCDay();return e>=4||e===0?Yp(r):Yp.ceil(r)}function OAe(r,e){return r=qH(r),wn(Yp.count(jd(r),r)+(jd(r).getUTCDay()===4),e,2)}function DAe(r){return r.getUTCDay()}function PAe(r,e){return wn(n2.count(jd(r)-1,r),e,2)}function IAe(r,e){return wn(r.getUTCFullYear()%100,e,2)}function LAe(r,e){return r=qH(r),wn(r.getUTCFullYear()%100,e,2)}function MAe(r,e){return wn(r.getUTCFullYear()%1e4,e,4)}function RAe(r,e){var t=r.getUTCDay();return r=t>=4||t===0?Yp(r):Yp.ceil(r),wn(r.getUTCFullYear()%1e4,e,4)}function UAe(){return"+0000"}function fI(){return"%"}function mI(r){return+r}function pI(r){return Math.floor(+r/1e3)}var Wm,GH,WH;QAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QAe(r){return Wm=Que(r),GH=Wm.format,Wm.parse,WH=Wm.utcFormat,Wm.utcParse,Wm}function HAe(r){return new Date(r)}function zAe(r){return r instanceof Date?+r:+new Date(+r)}function pT(r,e,t,n,a,s,i,l,c,u){var d=rT(),f=d.invert,p=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),S=u("%b %d"),C=u("%B"),j=u("%Y");function T(L){return(c(L)<L?m:l(L)<L?y:i(L)<L?g:s(L)<L?v:n(L)<L?a(L)<L?w:S:t(L)<L?C:j)(L)}return d.invert=function(L){return new Date(f(L))},d.domain=function(L){return arguments.length?p(Array.from(L,zAe)):p().map(HAe)},d.ticks=function(L){var I=p();return r(I[0],I[I.length-1],L??10)},d.tickFormat=function(L,I){return I==null?T:u(I)},d.nice=function(L){var I=p();return(!L||typeof L.range!="function")&&(L=e(I[0],I[I.length-1],L??10)),L?p(PH(I,L)):d},d.copy=function(){return dv(d,pT(r,e,t,n,a,s,i,l,c,u))},d}function KAe(){return Ic.apply(pT(Rue,Uue,Ed,fT,PC,hv,dT,uT,o0,GH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Ae(){return Ic.apply(pT(Lue,Mue,jd,mT,IC,DC,hT,AT,o0,WH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function LC(){var r=0,e=1,t,n,a,s,i=Eo,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-t)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([r,e]=f,t=s(r=+r),n=s(e=+e),a=t===n?0:1/(n-t),u):[r,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(p){var m,y;return arguments.length?([m,y]=p,i=f(m,y),u):[i(0),i(1)]}}return u.range=d(pg),u.rangeRound=d(tT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,t=f(r),n=f(e),a=t===n?0:1/(n-t),u}}function hf(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function YH(){var r=df(LC()(Eo));return r.copy=function(){return hf(r,YH())},Md.apply(r,arguments)}function XH(){var r=sT(LC()).domain([1,10]);return r.copy=function(){return hf(r,XH()).base(r.base())},Md.apply(r,arguments)}function JH(){var r=iT(LC());return r.copy=function(){return hf(r,JH()).constant(r.constant())},Md.apply(r,arguments)}function gT(){var r=oT(LC());return r.copy=function(){return hf(r,gT()).exponent(r.exponent())},Md.apply(r,arguments)}function VAe(){return gT.apply(null,arguments).exponent(.5)}function ZH(){var r=[],e=Eo;function t(n){if(n!=null&&!isNaN(n=+n))return e((uv(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let a of n)a!=null&&!isNaN(a=+a)&&r.push(a);return r.sort(Vh),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,a)=>e(a/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(a,s)=>kce(r,s/n))},t.copy=function(){return ZH(e).domain(r)},Md.apply(t,arguments)}function MC(){var r=0,e=.5,t=1,n=1,a,s,i,l,c,u=Eo,d,f=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([r,e,t]=g,a=d(r=+r),s=d(e=+e),i=d(t=+t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[r,e,t]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var w,S,C;return arguments.length?([w,S,C]=v,u=aue(g,[w,S,C]),m):[u(0),u(.5),u(1)]}}return m.range=y(pg),m.rangeRound=y(tT),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return d=g,a=g(r),s=g(e),i=g(t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function e9(){var r=df(MC()(Eo));return r.copy=function(){return hf(r,e9())},Md.apply(r,arguments)}function t9(){var r=sT(MC()).domain([.1,1,10]);return r.copy=function(){return hf(r,t9()).base(r.base())},Md.apply(r,arguments)}function r9(){var r=iT(MC());return r.copy=function(){return hf(r,r9()).constant(r.constant())},Md.apply(r,arguments)}function xT(){var r=oT(MC());return r.copy=function(){return hf(r,xT()).exponent(r.exponent())},Md.apply(r,arguments)}function qAe(){return xT.apply(null,arguments).exponent(.5)}const Kx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:J_,scaleDiverging:e9,scaleDivergingLog:t9,scaleDivergingPow:xT,scaleDivergingSqrt:qAe,scaleDivergingSymlog:r9,scaleIdentity:DH,scaleImplicit:L4,scaleLinear:OH,scaleLog:IH,scaleOrdinal:X_,scalePoint:Dce,scalePow:lT,scaleQuantile:RH,scaleQuantize:UH,scaleRadial:MH,scaleSequential:YH,scaleSequentialLog:XH,scaleSequentialPow:gT,scaleSequentialQuantile:ZH,scaleSequentialSqrt:VAe,scaleSequentialSymlog:JH,scaleSqrt:Eue,scaleSymlog:LH,scaleThreshold:QH,scaleTime:KAe,scaleUtc:$Ae,tickFormat:FH},Symbol.toStringTag,{value:"Module"}));var ff=r=>r.chartData,yT=Je([ff],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),vT=(r,e,t,n)=>n?yT(r):ff(r);function Xp(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if(Vl(e)&&Vl(t))return!0}return!1}function gI(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function GAe(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,a,s;if(Vl(t))a=t;else if(typeof t=="function")return;if(Vl(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Xp(i))return i}}function WAe(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(Xp(n))return gI(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[a,s]=r,i,l;if(a==="auto")e!=null&&(i=Math.min(...e));else if(yr(a))i=a;else if(typeof a=="function")try{e!=null&&(i=a(e?.[0]))}catch{}else if(typeof a=="string"&&o6.test(a)){var c=o6.exec(a);if(c==null||e==null)i=void 0;else{var u=+c[1];i=e[0]-u}}else i=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(yr(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&l6.test(s)){var d=l6.exec(s);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[1]+f}}else l=e?.[1];var p=[i,l];if(Xp(p))return e==null?p:gI(p,e,t)}}}var gg=1e9,YAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wT,Da=!0,Tc="[DecimalError] ",y0=Tc+"Invalid argument: ",bT=Tc+"Exponent out of range: ",xg=Math.floor,Xf=Math.pow,XAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ul,fi=1e7,ya=7,n9=9007199254740991,a2=xg(n9/ya),Wt={};Wt.absoluteValue=Wt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Wt.comparedTo=Wt.cmp=function(r){var e,t,n,a,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(n=s.d.length,a=r.d.length,e=0,t=n<a?n:a;e<t;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Wt.decimalPlaces=Wt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*ya;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Wt.dividedBy=Wt.div=function(r){return md(this,new this.constructor(r))};Wt.dividedToIntegerBy=Wt.idiv=function(r){var e=this,t=e.constructor;return oa(md(e,new t(r),0,1),t.precision)};Wt.equals=Wt.eq=function(r){return!this.cmp(r)};Wt.exponent=function(){return Ls(this)};Wt.greaterThan=Wt.gt=function(r){return this.cmp(r)>0};Wt.greaterThanOrEqualTo=Wt.gte=function(r){return this.cmp(r)>=0};Wt.isInteger=Wt.isint=function(){return this.e>this.d.length-2};Wt.isNegative=Wt.isneg=function(){return this.s<0};Wt.isPositive=Wt.ispos=function(){return this.s>0};Wt.isZero=function(){return this.s===0};Wt.lessThan=Wt.lt=function(r){return this.cmp(r)<0};Wt.lessThanOrEqualTo=Wt.lte=function(r){return this.cmp(r)<1};Wt.logarithm=Wt.log=function(r){var e,t=this,n=t.constructor,a=n.precision,s=a+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Ul))throw Error(Tc+"NaN");if(t.s<1)throw Error(Tc+(t.s?"NaN":"-Infinity"));return t.eq(Ul)?new n(0):(Da=!1,e=md(_y(t,s),_y(r,s),s),Da=!0,oa(e,a))};Wt.minus=Wt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?i9(e,r):a9(e,(r.s=-r.s,r))};Wt.modulo=Wt.mod=function(r){var e,t=this,n=t.constructor,a=n.precision;if(r=new n(r),!r.s)throw Error(Tc+"NaN");return t.s?(Da=!1,e=md(t,r,0,1).times(r),Da=!0,t.minus(e)):oa(new n(t),a)};Wt.naturalExponential=Wt.exp=function(){return s9(this)};Wt.naturalLogarithm=Wt.ln=function(){return _y(this)};Wt.negated=Wt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Wt.plus=Wt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?a9(e,r):i9(e,(r.s=-r.s,r))};Wt.precision=Wt.sd=function(r){var e,t,n,a=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(y0+r);if(e=Ls(a)+1,n=a.d.length-1,t=n*ya+1,n=a.d[n],n){for(;n%10==0;n/=10)t--;for(n=a.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};Wt.squareRoot=Wt.sqrt=function(){var r,e,t,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tc+"NaN")}for(r=Ls(l),Da=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=fA(l.d),(e.length+r)%2==0&&(e+="0"),a=Math.sqrt(e),r=xg((r+1)/2)-(r<0||r%2),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new c(e)):n=new c(a.toString()),t=c.precision,a=i=t+3;;)if(s=n,n=s.plus(md(l,s,i+2)).times(.5),fA(s.d).slice(0,i)===(e=fA(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(oa(s,t+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Da=!0,oa(n,t)};Wt.times=Wt.mul=function(r){var e,t,n,a,s,i,l,c,u,d=this,f=d.constructor,p=d.d,m=(r=new f(r)).d;if(!d.s||!r.s)return new f(0);for(r.s*=d.s,t=d.e+r.e,c=p.length,u=m.length,c<u&&(s=p,p=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+m[n]*p[a-n-1]+e,s[a--]=l%fi|0,e=l/fi|0;s[a]=(s[a]+e)%fi|0}for(;!s[--i];)s.pop();return e?++t:s.shift(),r.d=s,r.e=t,Da?oa(r,f.precision):r};Wt.toDecimalPlaces=Wt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(vA(r,0,gg),e===void 0?e=n.rounding:vA(e,0,8),oa(t,r+Ls(t)+1,e))};Wt.toExponential=function(r,e){var t,n=this,a=n.constructor;return r===void 0?t=T0(n,!0):(vA(r,0,gg),e===void 0?e=a.rounding:vA(e,0,8),n=oa(new a(n),r+1,e),t=T0(n,!0,r+1)),t};Wt.toFixed=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?T0(a):(vA(r,0,gg),e===void 0?e=s.rounding:vA(e,0,8),n=oa(new s(a),r+Ls(a)+1,e),t=T0(n.abs(),!1,r+Ls(n)+1),a.isneg()&&!a.isZero()?"-"+t:t)};Wt.toInteger=Wt.toint=function(){var r=this,e=r.constructor;return oa(new e(r),Ls(r)+1,e.rounding)};Wt.toNumber=function(){return+this};Wt.toPower=Wt.pow=function(r){var e,t,n,a,s,i,l=this,c=l.constructor,u=12,d=+(r=new c(r));if(!r.s)return new c(Ul);if(l=new c(l),!l.s){if(r.s<1)throw Error(Tc+"Infinity");return l}if(l.eq(Ul))return l;if(n=c.precision,r.eq(Ul))return oa(l,n);if(e=r.e,t=r.d.length-1,i=e>=t,s=l.s,i){if((t=d<0?-d:d)<=n9){for(a=new c(Ul),e=Math.ceil(n/ya+4),Da=!1;t%2&&(a=a.times(l),yI(a.d,e)),t=xg(t/2),t!==0;)l=l.times(l),yI(l.d,e);return Da=!0,r.s<0?new c(Ul).div(a):oa(a,n)}}else if(s<0)throw Error(Tc+"NaN");return s=s<0&&r.d[Math.max(e,t)]&1?-1:1,l.s=1,Da=!1,a=r.times(_y(l,n+u)),Da=!0,a=s9(a),a.s=s,a};Wt.toPrecision=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?(t=Ls(a),n=T0(a,t<=s.toExpNeg||t>=s.toExpPos)):(vA(r,1,gg),e===void 0?e=s.rounding:vA(e,0,8),a=oa(new s(a),r,e),t=Ls(a),n=T0(a,r<=t||t<=s.toExpNeg,r)),n};Wt.toSignificantDigits=Wt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(vA(r,1,gg),e===void 0?e=n.rounding:vA(e,0,8)),oa(new n(t),r,e)};Wt.toString=Wt.valueOf=Wt.val=Wt.toJSON=Wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Ls(r),t=r.constructor;return T0(r,e<=t.toExpNeg||e>=t.toExpPos)};function a9(r,e){var t,n,a,s,i,l,c,u,d=r.constructor,f=d.precision;if(!r.s||!e.s)return e.s||(e=new d(r)),Da?oa(e,f):e;if(c=r.d,u=e.d,i=r.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/ya),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),t=0;s;)t=(c[--s]=c[s]+u[s]+t)/fi|0,c[s]%=fi;for(t&&(c.unshift(t),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Da?oa(e,f):e}function vA(r,e,t){if(r!==~~r||r<e||r>t)throw Error(y0+r)}function fA(r){var e,t,n,a=r.length-1,s="",i=r[0];if(a>0){for(s+=i,e=1;e<a;e++)n=r[e]+"",t=ya-n.length,t&&(s+=Oh(t)),s+=n;i=r[e],n=i+"",t=ya-n.length,t&&(s+=Oh(t))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var md=(function(){function r(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%fi|0,i=s/fi|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function t(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*fi+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,p,m,y,g,v,w,S,C,j,T,L,I,D,k=n.constructor,z=n.s==a.s?1:-1,P=n.d,U=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Tc+"Division by zero");for(c=n.e-a.e,I=U.length,T=P.length,m=new k(z),y=m.d=[],u=0;U[u]==(P[u]||0);)++u;if(U[u]>(P[u]||0)&&--c,s==null?S=s=k.precision:i?S=s+(Ls(n)-Ls(a))+1:S=s,S<0)return new k(0);if(S=S/ya+2|0,u=0,I==1)for(d=0,U=U[0],S++;(u<T||d)&&S--;u++)C=d*fi+(P[u]||0),y[u]=C/U|0,d=C%U|0;else{for(d=fi/(U[0]+1)|0,d>1&&(U=r(U,d),P=r(P,d),I=U.length,T=P.length),j=I,g=P.slice(0,I),v=g.length;v<I;)g[v++]=0;D=U.slice(),D.unshift(0),L=U[0],U[1]>=fi/2&&++L;do d=0,l=e(U,g,I,v),l<0?(w=g[0],I!=v&&(w=w*fi+(g[1]||0)),d=w/L|0,d>1?(d>=fi&&(d=fi-1),f=r(U,d),p=f.length,v=g.length,l=e(f,g,p,v),l==1&&(d--,t(f,I<p?D:U,p))):(d==0&&(l=d=1),f=U.slice()),p=f.length,p<v&&f.unshift(0),t(g,f,v),l==-1&&(v=g.length,l=e(U,g,I,v),l<1&&(d++,t(g,I<v?D:U,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=P[j]||0:(g=[P[j]],v=1);while((j++<T||g[0]!==void 0)&&S--)}return y[0]||y.shift(),m.e=c,oa(m,i?s+Ls(m)+1:s)}})();function s9(r,e){var t,n,a,s,i,l,c=0,u=0,d=r.constructor,f=d.precision;if(Ls(r)>16)throw Error(bT+Ls(r));if(!r.s)return new d(Ul);for(Da=!1,l=f,i=new d(.03125);r.abs().gte(.1);)r=r.times(i),u+=5;for(n=Math.log(Xf(2,u))/Math.LN10*2+5|0,l+=n,t=a=s=new d(Ul),d.precision=l;;){if(a=oa(a.times(r),l),t=t.times(++c),i=s.plus(md(a,t,l)),fA(i.d).slice(0,l)===fA(s.d).slice(0,l)){for(;u--;)s=oa(s.times(s),l);return d.precision=f,e==null?(Da=!0,oa(s,f)):s}s=i}}function Ls(r){for(var e=r.e*ya,t=r.d[0];t>=10;t/=10)e++;return e}function yB(r,e,t){if(e>r.LN10.sd())throw Da=!0,t&&(r.precision=t),Error(Tc+"LN10 precision limit exceeded");return oa(new r(r.LN10),e)}function Oh(r){for(var e="";r--;)e+="0";return e}function _y(r,e){var t,n,a,s,i,l,c,u,d,f=1,p=10,m=r,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Tc+(m.s?"NaN":"-Infinity"));if(m.eq(Ul))return new g(0);if(e==null?(Da=!1,u=v):u=e,m.eq(10))return e==null&&(Da=!0),yB(g,u);if(u+=p,g.precision=u,t=fA(y),n=t.charAt(0),s=Ls(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)m=m.times(r),t=fA(m.d),n=t.charAt(0),f++;s=Ls(m),n>1?(m=new g("0."+t),s++):m=new g(n+"."+t.slice(1))}else return c=yB(g,u+2,v).times(s+""),m=_y(new g(n+"."+t.slice(1)),u-p).plus(c),g.precision=v,e==null?(Da=!0,oa(m,v)):m;for(l=i=m=md(m.minus(Ul),m.plus(Ul),u),d=oa(m.times(m),u),a=3;;){if(i=oa(i.times(d),u),c=l.plus(md(i,new g(a),u)),fA(c.d).slice(0,u)===fA(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(yB(g,u+2,v).times(s+""))),l=md(l,new g(f),u),g.precision=v,e==null?(Da=!0,oa(l,v)):l;l=c,a+=2}}function xI(r,e){var t,n,a;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,t=t-n-1,r.e=xg(t/ya),r.d=[],n=(t+1)%ya,t<0&&(n+=ya),n<a){for(n&&r.d.push(+e.slice(0,n)),a-=ya;n<a;)r.d.push(+e.slice(n,n+=ya));e=e.slice(n),n=ya-e.length}else n-=a;for(;n--;)e+="0";if(r.d.push(+e),Da&&(r.e>a2||r.e<-a2))throw Error(bT+t)}else r.s=0,r.e=0,r.d=[0];return r}function oa(r,e,t){var n,a,s,i,l,c,u,d,f=r.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=ya,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ya),s=f.length,d>=s)return r;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=ya,a=n-ya+i}if(t!==void 0&&(s=Xf(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=t<4?(l||c)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||c||t==6&&(n>0?a>0?u/Xf(10,i-a):0:f[d-1])%10&1||t==(r.s<0?8:7))),e<1||!f[0])return c?(s=Ls(r),f.length=1,e=e-s-1,f[0]=Xf(10,(ya-e%ya)%ya),r.e=xg(-e/ya)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Xf(10,ya-n),f[d]=a>0?(u/Xf(10,i-a)%Xf(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==fi&&(f[0]=1,++r.e);break}else{if(f[d]+=s,f[d]!=fi)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Da&&(r.e>a2||r.e<-a2))throw Error(bT+Ls(r));return r}function i9(r,e){var t,n,a,s,i,l,c,u,d,f,p=r.constructor,m=p.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new p(r),Da?oa(e,m):e;if(c=r.d,f=e.d,n=e.e,u=r.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(t=c,i=-i,l=f.length):(t=f,n=u,l=c.length),a=Math.max(Math.ceil(m/ya),l)+2,i>a&&(i=a,t.length=1),t.reverse(),a=i;a--;)t.push(0);t.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=fi-1;--c[s],c[a]+=fi}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Da?oa(e,m):e):new p(0)}function T0(r,e,t){var n,a=Ls(r),s=fA(r.d),i=s.length;return e?(t&&(n=t-i)>0?s=s.charAt(0)+"."+s.slice(1)+Oh(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Oh(-a-1)+s,t&&(n=t-i)>0&&(s+=Oh(n))):a>=i?(s+=Oh(a+1-i),t&&(n=t-a-1)>0&&(s=s+"."+Oh(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-i)>0&&(a+1===i&&(s+="."),s+=Oh(n))),r.s<0?"-"+s:s}function yI(r,e){if(r.length>e)return r.length=e,!0}function o9(r){var e,t,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(y0+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return xI(i,s.toString())}else if(typeof s!="string")throw Error(y0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,XAe.test(s))xI(i,s);else throw Error(y0+s)}if(a.prototype=Wt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=o9,a.config=a.set=JAe,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return a.config(r),a}function JAe(r){if(!r||typeof r!="object")throw Error(Tc+"Object expected");var e,t,n,a=["precision",1,gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=r[t=a[e]])!==void 0)if(xg(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(y0+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(y0+t+": "+n);return this}var wT=o9(YAe);Ul=new wT(1);const Un=wT;var ZAe=r=>r,l9={},c9=r=>r===l9,vI=r=>function e(){return arguments.length===0||arguments.length===1&&c9(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},u9=(r,e)=>r===1?e:vI(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(i=>i!==l9).length;return s>=r?e(...n):u9(r-s,vI(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>c9(d)?l.shift():d);return e(...u,...l)}))}),RC=r=>u9(r.length,r),Q4=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},ede=RC((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),tde=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return ZAe;var a=t.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},H4=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join(""),A9=r=>{var e=null,t=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e&&a.every((i,l)=>{var c;return i===((c=e)===null||c===void 0?void 0:c[l])})||(e=a,t=r(...a)),t}};function d9(r){var e;return r===0?e=1:e=Math.floor(new Un(r).abs().log(10).toNumber())+1,e}function h9(r,e,t){for(var n=new Un(r),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(t),a++;return s}RC((r,e,t)=>{var n=+r,a=+e;return n+t*(a-n)});RC((r,e,t)=>{var n=e-+r;return n=n||1/0,(t-r)/n});RC((r,e,t)=>{var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});var f9=r=>{var[e,t]=r,[n,a]=[e,t];return e>t&&([n,a]=[t,e]),[n,a]},m9=(r,e,t)=>{if(r.lte(0))return new Un(0);var n=d9(r.toNumber()),a=new Un(10).pow(n),s=r.div(a),i=n!==1?.05:.1,l=new Un(Math.ceil(s.div(i).toNumber())).add(t).mul(i),c=l.mul(a);return e?new Un(c.toNumber()):new Un(Math.ceil(c.toNumber()))},rde=(r,e,t)=>{var n=new Un(1),a=new Un(r);if(!a.isint()&&t){var s=Math.abs(r);s<1?(n=new Un(10).pow(d9(r)-1),a=new Un(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Un(Math.floor(r)))}else r===0?a=new Un(Math.floor((e-1)/2)):t||(a=new Un(Math.floor(r)));var i=Math.floor((e-1)/2),l=tde(ede(c=>a.add(new Un(c-i).mul(n)).toNumber()),Q4);return l(0,e)},p9=function(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var i=m9(new Un(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new Un(0):(l=new Un(e).add(t).div(2),l=l.sub(new Un(l).mod(i)));var c=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new Un(t).sub(l).div(i).toNumber()),d=c+u+1;return d>n?p9(e,t,n,a,s+1):(d<n&&(u=t>0?u+(n-d):u,c=t>0?c:c+(n-d)),{step:i,tickMin:l.sub(new Un(c).mul(i)),tickMax:l.add(new Un(u).mul(i))})};function nde(r){var[e,t]=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,l]=f9([e,t]);if(i===-1/0||l===1/0){var c=l===1/0?[i,...Q4(0,n-1).map(()=>1/0)]:[...Q4(0,n-1).map(()=>-1/0),l];return e>t?H4(c):c}if(i===l)return rde(i,n,a);var{step:u,tickMin:d,tickMax:f}=p9(i,l,s,a,0),p=h9(d,f.add(new Un(.1).mul(u)),u);return e>t?H4(p):p}function ade(r,e){var[t,n]=r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=f9([t,n]);if(s===-1/0||i===1/0)return[t,n];if(s===i)return[s];var l=Math.max(e,2),c=m9(new Un(i).sub(s).div(l-1),a,0),u=[...h9(new Un(s),new Un(i),c),i];return a===!1&&(u=u.map(d=>Math.round(d))),t>n?H4(u):u}var sde=A9(nde),ide=A9(ade),g9=r=>r.rootProps.maxBarSize,ode=r=>r.rootProps.barGap,x9=r=>r.rootProps.barCategoryGap,lde=r=>r.rootProps.barSize,fv=r=>r.rootProps.stackOffset,CT=r=>r.options.chartName,NT=r=>r.rootProps.syncId,y9=r=>r.rootProps.syncMethod,ST=r=>r.options.eventEmitter,ld={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},UC=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},cde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ld.angleAxisId,includeHidden:!1,name:void 0,reversed:ld.reversed,scale:ld.scale,tick:ld.tick,tickCount:void 0,ticks:void 0,type:ld.type,unit:void 0},ude={allowDataOverflow:Pl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pl.scale,tick:Pl.tick,tickCount:Pl.tickCount,ticks:void 0,type:Pl.type,unit:void 0},Ade={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ld.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ld.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ld.scale,tick:ld.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dde={allowDataOverflow:Pl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pl.scale,tick:Pl.tick,tickCount:Pl.tickCount,ticks:void 0,type:"category",unit:void 0},BT=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?Ade:cde,ET=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?dde:ude,QC=r=>r.polarOptions,jT=Je([Id,Ld,ti],tH),v9=Je([QC,jT],(r,e)=>{if(r!=null)return uo(r.innerRadius,e,0)}),b9=Je([QC,jT],(r,e)=>{if(r!=null)return uo(r.outerRadius,e,e*.8)}),hde=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},w9=Je([QC],hde);Je([BT,w9],UC);var C9=Je([jT,v9,b9],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});Je([ET,C9],UC);var N9=Je([Cn,QC,v9,b9,Id,Ld],(r,e,t,n,a,s)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=e;return{cx:uo(i,a,a/2),cy:uo(l,s,s/2),innerRadius:t,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ia=(r,e)=>e,mv=(r,e,t)=>t;function _T(r){return r?.id}var ni=r=>{var e=Cn(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yg=r=>r.tooltip.settings.axisId,Ni=r=>{var e=ni(r),t=yg(r);return pv(r,e,t)},S9=Je([Ni],r=>r?.dataKey);function B9(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=t,i=new Map;return r.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=_T(l);u.forEach((f,p)=>{var m=s==null||a?p:String(Va(f,s,null)),y=Va(f,l.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[d]:y}),i.set(m,g)})}}),Array.from(i.values())}function HC(r){return r.stackId!=null&&r.dataKey!=null}function bI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function s2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(t),!0).forEach(function(n){fde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fde(r,e,t){return(e=mde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mde(r){var e=pde(r,"string");return typeof e=="symbol"?e:e+""}function pde(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var z4=[0,"auto"],Tl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},E9=(r,e)=>r.cartesianAxis.xAxis[e],Rd=(r,e)=>{var t=E9(r,e);return t??Tl},kl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cv},j9=(r,e)=>r.cartesianAxis.yAxis[e],Ud=(r,e)=>{var t=j9(r,e);return t??kl},gde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TT=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??gde},Bs=(r,e,t)=>{switch(e){case"xAxis":return Rd(r,t);case"yAxis":return Ud(r,t);case"zAxis":return TT(r,t);case"angleAxis":return BT(r,t);case"radiusAxis":return ET(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},xde=(r,e,t)=>{switch(e){case"xAxis":return Rd(r,t);case"yAxis":return Ud(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},pv=(r,e,t)=>{switch(e){case"xAxis":return Rd(r,t);case"yAxis":return Ud(r,t);case"angleAxis":return BT(r,t);case"radiusAxis":return ET(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},_9=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function kT(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var FT=r=>r.graphicalItems.cartesianItems,yde=Je([Ia,mv],kT),OT=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),gv=Je([FT,Bs,yde],OT),T9=Je([gv],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(HC)),k9=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),F9=Je([gv],k9),DT=r=>r.map(e=>e.data).filter(Boolean).flat(1),vde=Je([gv],DT),PT=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:a}=e;return r.length>0?r:t.slice(n,a+1)},IT=Je([vde,vT],PT),LT=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:Va(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(a=>({value:Va(a,n)}))):r.map(n=>({value:n})),zC=Je([IT,Bs,gv],LT);function O9(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function q0(r){return r.filter(e=>yA(e)||e instanceof Date).map(Number).filter(e=>Kl(e)===!1)}function bde(r,e,t){return!t||typeof e!="number"||Kl(e)?[]:t.length?q0(t.flatMap(n=>{var a=Va(r,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Vl(s)||!Vl(i)))return[e-s,e+i]})):[]}var wde=Je([T9,vT,Ni],B9),D9=(r,e,t)=>{var n={},a=e.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,l]=s,c=l.map(_T);return[i,{stackedData:Boe(r,c,t),graphicalItems:l}]}))},K4=Je([wde,T9,fv],D9),P9=(r,e,t)=>{var{dataStartIndex:n,dataEndIndex:a}=e;if(t!=="zAxis"){var s=koe(r,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Cde=Je([K4,ff,Ia],P9),I9=(r,e,t,n,a)=>t.length>0?r.flatMap(s=>t.flatMap(i=>{var l,c,u=(l=n[i.id])===null||l===void 0?void 0:l.filter(f=>O9(a,f)),d=Va(s,(c=e.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:d,errorDomain:bde(s,d,u)}})).filter(Boolean):e?.dataKey!=null?r.map(s=>({value:Va(s,e.dataKey),errorDomain:[]})):r.map(s=>({value:s,errorDomain:[]})),KC=r=>r.errorBars,L9=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>O9(t,n));Je([F9,KC,Ia],L9);var Nde=Je([IT,Bs,F9,KC,Ia],I9);function Sde(r){var{value:e}=r;if(yA(e)||e instanceof Date)return e}var wI=r=>{var e=r.flatMap(n=>[n.value,n.errorDomain]).flat(1),t=q0(e);if(t.length!==0)return[Math.min(...t),Math.max(...t)]},Bde=(r,e,t)=>{var n=r.map(Sde).filter(a=>a!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&Y7(n))?wH(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},MT=r=>{var e;if(r==null||!("domain"in r))return z4;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var t=q0(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:z4},i2=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},M9=r=>r.referenceElements.dots,vg=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),Ede=Je([M9,Ia,mv],vg),R9=r=>r.referenceElements.areas,jde=Je([R9,Ia,mv],vg),U9=r=>r.referenceElements.lines,_de=Je([U9,Ia,mv],vg),Q9=(r,e)=>{var t=q0(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},Tde=Je(Ede,Ia,Q9),H9=(r,e)=>{var t=q0(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},kde=Je([jde,Ia],H9),z9=(r,e)=>{var t=q0(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},Fde=Je(_de,Ia,z9),Ode=Je(Tde,Fde,kde,(r,e,t)=>i2(r,t,e)),K9=Je([Bs],MT),RT=(r,e,t,n,a,s,i)=>{var l=GAe(e,r.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=c?i2(t,a,wI(n)):i2(a,wI(n));return WAe(e,u,r.allowDataOverflow)},Dde=Je([Bs,K9,Cde,Nde,Ode,Cn,Ia],RT),Pde=[0,1],UT=(r,e,t,n,a,s,i)=>{if(!((r==null||t==null||t.length===0)&&i===void 0)){var{dataKey:l,type:c}=r,u=z0(e,s);return u&&l==null?wH(0,t.length):c==="category"?Bde(n,r,u):a==="expand"?Pde:i}},QT=Je([Bs,Cn,IT,zC,fv,Ia,Dde],UT),$9=(r,e,t,n,a)=>{if(r!=null){var{scale:s,type:i}=r;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(sv(s));return l in Kx?l:"point"}}},bg=Je([Bs,Cn,_9,CT,Ia],$9);function Ide(r){if(r!=null){if(r in Kx)return Kx[r]();var e="scale".concat(sv(r));if(e in Kx)return Kx[e]()}}function HT(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var a=Ide(e);if(a!=null){var s=a.domain(t).range(n);return boe(s),s}}}var zT=(r,e,t)=>{var n=MT(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Xp(r))return sde(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Xp(r))return ide(r,e.tickCount,e.allowDecimals)}},KT=Je([QT,pv,bg],zT),$T=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&Xp(e)&&Array.isArray(t)&&t.length>0){var a=e[0],s=t[0],i=e[1],l=t[t.length-1];return[Math.min(a,s),Math.max(i,l)]}return e},Lde=Je([Bs,QT,KT,Ia],$T),Mde=Je(zC,Bs,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(q0(r.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];t=Math.min(t,i)}return t/a}}),V9=Je(Mde,Cn,x9,ti,(r,e,t,n)=>n,(r,e,t,n,a)=>{if(!Vl(r))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return r*s/2;if(a==="no-gap"){var i=uo(t,r*s),l=r*s/2;return l-i-(l-i)/s*i}return 0}),Rde=(r,e)=>{var t=Rd(r,e);return t==null||typeof t.padding!="string"?0:V9(r,"xAxis",e,t.padding)},Ude=(r,e)=>{var t=Ud(r,e);return t==null||typeof t.padding!="string"?0:V9(r,"yAxis",e,t.padding)},Qde=Je(Rd,Rde,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:a}=r;return typeof a=="string"?{left:e,right:e}:{left:((t=a.left)!==null&&t!==void 0?t:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),Hde=Je(Ud,Ude,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:a}=r;return typeof a=="string"?{top:e,bottom:e}:{top:((t=a.top)!==null&&t!==void 0?t:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),zde=Je([ti,Qde,_C,jC,(r,e,t)=>t],(r,e,t,n,a)=>{var{padding:s}=n;return a?[s.left,t.width-s.right]:[r.left+e.left,r.left+r.width-e.right]}),Kde=Je([ti,Cn,Hde,_C,jC,(r,e,t)=>t],(r,e,t,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),xv=(r,e,t,n)=>{var a;switch(e){case"xAxis":return zde(r,t,n);case"yAxis":return Kde(r,t,n);case"zAxis":return(a=TT(r,t))===null||a===void 0?void 0:a.range;case"angleAxis":return w9(r);case"radiusAxis":return C9(r,t);default:return}},q9=Je([Bs,xv],UC),wg=Je([Bs,bg,Lde,q9],HT);Je([gv,KC,Ia],L9);function G9(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var $C=(r,e)=>e,VC=(r,e,t)=>t,$de=Je(BC,$C,VC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(G9)),Vde=Je(EC,$C,VC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(G9)),W9=(r,e)=>({width:r.width,height:e.height}),qde=(r,e)=>{var t=typeof e.width=="number"?e.width:cv;return{width:t,height:r.height}},Y9=Je(ti,Rd,W9),Gde=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},Wde=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},Yde=Je(Ld,ti,$de,$C,VC,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=W9(e,l);i==null&&(i=Gde(e,n,r));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),Xde=Je(Id,ti,Vde,$C,VC,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=qde(e,l);i==null&&(i=Wde(e,n,r));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),Jde=(r,e)=>{var t=Rd(r,e);if(t!=null)return Yde(r,t.orientation,t.mirror)},Zde=Je([ti,Rd,Jde,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}}),ehe=(r,e)=>{var t=Ud(r,e);if(t!=null)return Xde(r,t.orientation,t.mirror)},the=Je([ti,Ud,ehe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}}),X9=Je(ti,Ud,(r,e)=>{var t=typeof e.width=="number"?e.width:cv;return{width:t,height:r.height}}),CI=(r,e,t)=>{switch(e){case"xAxis":return Y9(r,t).width;case"yAxis":return X9(r,t).height;default:return}},J9=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=t,l=z0(r,n),c=e.map(u=>u.value);if(i&&l&&s==="category"&&a&&Y7(c))return c}},VT=Je([Cn,zC,Bs,Ia],J9),Z9=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:a,scale:s}=t,i=z0(r,n);if(i&&(a==="number"||s!=="auto"))return e.map(l=>l.value)}},qT=Je([Cn,zC,pv,Ia],Z9),NI=Je([Cn,xde,bg,wg,VT,qT,xv,KT,Ia],(r,e,t,n,a,s,i,l,c)=>{if(e==null)return null;var u=z0(r,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:t,scale:n}}),rhe=(r,e,t,n,a,s,i,l,c)=>{if(!(e==null||n==null)){var u=z0(r,c),{type:d,ticks:f,tickCount:p}=e,m=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&s!=null&&s.length>=2?gi(s[0]-s[1])*2*y:y;var g=f||a;if(g){var v=g.map((w,S)=>{var C=i?i.indexOf(w):w;return{index:S,coordinate:n(C)+y,value:w,offset:y}});return v.filter(w=>!Kl(w.coordinate))}return u&&l?l.map((w,S)=>({coordinate:n(w)+y,value:w,index:S,offset:y})):n.ticks?n.ticks(p).map(w=>({coordinate:n(w)+y,value:w,offset:y})):n.domain().map((w,S)=>({coordinate:n(w)+y,value:i?i[w]:w,index:S,offset:y}))}},ez=Je([Cn,pv,bg,wg,KT,xv,VT,qT,Ia],rhe),nhe=(r,e,t,n,a,s,i)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var l=z0(r,i),{tickCount:c}=e,u=0;return u=i==="angleAxis"&&n?.length>=2?gi(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:t(d)+u,value:d,index:f,offset:u})):t.ticks?t.ticks(c).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,f)=>({coordinate:t(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Jp=Je([Cn,pv,wg,xv,VT,qT,Ia],nhe),Zp=Je(Bs,wg,(r,e)=>{if(!(r==null||e==null))return s2(s2({},r),{},{scale:e})}),ahe=Je([Bs,bg,QT,q9],HT);Je((r,e,t)=>TT(r,t),ahe,(r,e)=>{if(!(r==null||e==null))return s2(s2({},r),{},{scale:e})});var she=Je([Cn,BC,EC],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tz=r=>r.options.defaultTooltipEventType,rz=r=>r.options.validateTooltipEventTypes;function nz(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function GT(r,e){var t=tz(r),n=rz(r);return nz(e,t,n)}function ihe(r){return Ar(e=>GT(e,r))}var az=(r,e)=>{var t,n=Number(e);if(!(Kl(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},ohe=r=>r.tooltip.settings,Lh={active:!1,index:null,dataKey:void 0,coordinate:void 0},lhe={itemInteraction:{click:Lh,hover:Lh},axisInteraction:{click:Lh,hover:Lh},keyboardInteraction:Lh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sz=Yl({name:"tooltip",initialState:lhe,reducers:{addTooltipEntrySettings(r,e){r.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(r,e){var t=fd(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:che,removeTooltipEntrySettings:uhe,setTooltipSettingsState:Ahe,setActiveMouseOverItemIndex:iz,mouseLeaveItem:dhe,mouseLeaveChart:oz,setActiveClickItemIndex:hhe,setMouseOverAxisIndex:lz,setMouseClickAxisIndex:fhe,setSyncInteraction:$4,setKeyboardInteraction:V4}=sz.actions,mhe=sz.reducer;function SI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function rb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(t),!0).forEach(function(n){phe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function phe(r,e,t){return(e=ghe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ghe(r){var e=xhe(r,"string");return typeof e=="symbol"?e:e+""}function xhe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yhe(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function vhe(r){return r.index!=null}var cz=(r,e,t,n)=>{if(e==null)return Lh;var a=yhe(r,e,t);if(a==null)return Lh;if(a.active)return a;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var s=r.settings.active===!0;if(vhe(a)){if(s)return rb(rb({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return rb(rb({},Lh),{},{coordinate:a.coordinate})},WT=(r,e)=>{var t=r?.index;if(t==null)return null;var n=Number(t);if(!Vl(n))return t;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(n,s)))},uz=(r,e,t,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a?.[Number(s)];if(d)return t==="horizontal"?{x:d.coordinate,y:(n.top+e)/2}:{x:(n.left+r)/2,y:d.coordinate}}},Az=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var a;return t==="hover"?a=r.itemInteraction.hover.dataKey:a=r.itemInteraction.click.dataKey,a==null&&n!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},yv=r=>r.options.tooltipPayloadSearcher,Cg=r=>r.tooltip;function BI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function EI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(t),!0).forEach(function(n){bhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function bhe(r,e,t){return(e=whe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function whe(r){var e=Che(r,"string");return typeof e=="symbol"?e:e+""}function Che(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Nhe(r,e){return r??e}var dz=(r,e,t,n,a,s,i)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=t,f=[];return r.reduce((p,m)=>{var y,{dataDefinedOnItem:g,settings:v}=m,w=Nhe(g,l),S=Array.isArray(w)?rH(w,u,d):w,C=(y=v?.dataKey)!==null&&y!==void 0?y:n,j=v?.nameKey,T;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&i==="axis"?T=uae(S,n,a):T=s(S,e,c,j),Array.isArray(T))T.forEach(I=>{var D=EI(EI({},v),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});p.push(c6({tooltipEntrySettings:D,dataKey:I.dataKey,payload:I.payload,value:Va(I.payload,I.dataKey),name:I.name}))});else{var L;p.push(c6({tooltipEntrySettings:v,dataKey:C,payload:T,value:Va(T,C),name:(L=Va(T,j))!==null&&L!==void 0?L:v?.name}))}return p},f)}},YT=Je([Ni,Cn,_9,CT,ni],$9),She=Je([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),Bhe=Je([ni,yg],kT),vv=Je([She,Ni,Bhe],OT),Ehe=Je([vv],r=>r.filter(HC)),jhe=Je([vv],DT),Ng=Je([jhe,ff],PT),_he=Je([Ehe,ff,Ni],B9),XT=Je([Ng,Ni,vv],LT),The=Je([Ni],MT),khe=Je([vv],r=>r.filter(HC)),Fhe=Je([_he,khe,fv],D9),Ohe=Je([Fhe,ff,ni],P9),Dhe=Je([vv],k9),Phe=Je([Ng,Ni,Dhe,KC,ni],I9),Ihe=Je([M9,ni,yg],vg),Lhe=Je([Ihe,ni],Q9),Mhe=Je([R9,ni,yg],vg),Rhe=Je([Mhe,ni],H9),Uhe=Je([U9,ni,yg],vg),Qhe=Je([Uhe,ni],z9),Hhe=Je([Lhe,Qhe,Rhe],i2),zhe=Je([Ni,The,Ohe,Phe,Hhe,Cn,ni],RT),hz=Je([Ni,Cn,Ng,XT,fv,ni,zhe],UT),Khe=Je([hz,Ni,YT],zT),$he=Je([Ni,hz,Khe,ni],$T),fz=r=>{var e=ni(r),t=yg(r),n=!1;return xv(r,e,t,n)},mz=Je([Ni,fz],UC),pz=Je([Ni,YT,$he,mz],HT),Vhe=Je([Cn,XT,Ni,ni],J9),qhe=Je([Cn,XT,Ni,ni],Z9),Ghe=(r,e,t,n,a,s,i,l)=>{if(e){var{type:c}=e,u=z0(r,l);if(n){var d=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&a?.length>=2?gi(a[0]-a[1])*2*f:f,u&&i?i.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:s?s[p]:p,index:m,offset:f}))}}},Qd=Je([Cn,Ni,YT,pz,fz,Vhe,qhe,ni],Ghe),JT=Je([tz,rz,ohe],(r,e,t)=>nz(t.shared,r,e)),gz=r=>r.tooltip.settings.trigger,ZT=r=>r.tooltip.settings.defaultIndex,qC=Je([Cg,JT,gz,ZT],cz),k0=Je([qC,Ng],WT),xz=Je([Qd,k0],az),yz=Je([qC],r=>{if(r)return r.dataKey}),vz=Je([Cg,JT,gz,ZT],Az),Whe=Je([Id,Ld,Cn,ti,Qd,ZT,vz,yv],uz),Yhe=Je([qC,Whe],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),Xhe=Je([qC],r=>r.active),Jhe=Je([vz,k0,ff,S9,xz,yv,JT],dz);Je([Jhe],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function jI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function _I(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(t),!0).forEach(function(n){Zhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zhe(r,e,t){return(e=efe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function efe(r){var e=tfe(r,"string");return typeof e=="symbol"?e:e+""}function tfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var rfe=()=>Ar(Ni),nfe=()=>{var r=rfe(),e=Ar(Qd),t=Ar(pz);return z_(_I(_I({},r),{},{scale:t}),e)},afe=()=>Ar(CT),e3=(r,e)=>e,bz=(r,e,t)=>t,t3=(r,e,t,n)=>n,sfe=Je(Qd,r=>yC(r,e=>e.coordinate)),r3=Je([Cg,e3,bz,t3],cz),wz=Je([r3,Ng],WT),ife=(r,e,t)=>{if(e!=null){var n=Cg(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Cz=Je([Cg,e3,bz,t3],Az),o2=Je([Id,Ld,Cn,ti,Qd,t3,Cz,yv],uz),ofe=Je([r3,o2],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),Nz=Je(Qd,wz,az),lfe=Je([Cz,wz,ff,S9,Nz,yv,e3],dz),cfe=Je([r3],r=>({isActive:r.active,activeIndex:r.index})),ufe=(r,e,t,n,a,s,i,l)=>{if(!(!r||!e||!n||!a||!s)){var c=Foe(r.chartX,r.chartY,e,t,l);if(c){var u=Doe(c,e),d=yoe(u,i,s,n,a),f=Ooe(e,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function q4(){return q4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},q4.apply(null,arguments)}function TI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function nb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(t),!0).forEach(function(n){Afe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Afe(r,e,t){return(e=dfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dfe(r){var e=hfe(r,"string");return typeof e=="symbol"?e:e+""}function hfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ffe(r){var{coordinate:e,payload:t,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:l,tooltipEventType:c,chartName:u}=r,d=e,f=t,p=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=Dle;else if(u==="BarChart")m=Ple(i,d,a,s),y=xH;else if(i==="radial"){var{cx:g,cy:v,radius:w,startAngle:S,endAngle:C}=yH(d);m={cx:g,cy:v,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=bH}else m={points:fce(i,d,a)},y=hH;var j=typeof l=="object"&&"className"in l?l.className:void 0,T=nb(nb(nb(nb({stroke:"#ccc",pointerEvents:"none"},a),m),ei(l,!1)),{},{payload:f,payloadIndex:p,className:dn("recharts-tooltip-cursor",j)});return B.isValidElement(l)?B.cloneElement(l,T):B.createElement(y,T)}function mfe(r){var e=nfe(),t=lH(),n=G_(),a=afe();return B.createElement(ffe,q4({},r,{coordinate:r.coordinate,index:r.index,payload:r.payload,offset:t,layout:n,tooltipAxisBandSize:e,chartName:a}))}var Sz=B.createContext(null),pfe=()=>B.useContext(Sz),vB={exports:{}},kI;function gfe(){return kI||(kI=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,p),y=t?t+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=t?t+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},l.prototype.listenerCount=function(u){var d=t?t+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,m,y){var g=t?t+u:u;if(!this._events[g])return!1;var v=this._events[g],w=arguments.length,S,C;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,y),!0}for(C=1,S=new Array(w-1);C<w;C++)S[C-1]=arguments[C];v.fn.apply(v.context,S)}else{var j=v.length,T;for(C=0;C<j;C++)switch(v[C].once&&this.removeListener(u,v[C].fn,void 0,!0),w){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,d);break;case 3:v[C].fn.call(v[C].context,d,f);break;case 4:v[C].fn.call(v[C].context,d,f,p);break;default:if(!S)for(T=1,S=new Array(w-1);T<w;T++)S[T-1]=arguments[T];v[C].fn.apply(v[C].context,S)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var m=t?t+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&i(this,m);else{for(var g=0,v=[],w=y.length;g<w;g++)(y[g].fn!==d||p&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l})(vB)),vB.exports}var xfe=gfe();const yfe=Fc(xfe);var Ty=new yfe,G4="recharts.syncEvent.tooltip",FI="recharts.syncEvent.brush";function Bz(r,e){if(e){var t=Number.parseInt(e,10);if(!Kl(t))return r?.[t]}}var vfe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ez=Yl({name:"options",initialState:vfe,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bfe=Ez.reducer,{createEventEmitter:wfe}=Ez.actions;function Cfe(r){return r.tooltip.syncInteraction}var Nfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jz=Yl({name:"chartData",initialState:Nfe,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:OI,setDataStartEndIndexes:Sfe,setComputedData:fMe}=jz.actions,Bfe=jz.reducer,Efe=["x","y"];function DI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function $f(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(t),!0).forEach(function(n){jfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jfe(r,e,t){return(e=_fe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _fe(r){var e=Tfe(r,"string");return typeof e=="symbol"?e:e+""}function Tfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kfe(r,e){if(r==null)return{};var t,n,a=Ffe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Ffe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var _z=()=>{};function Ofe(){var r=Ar(NT),e=Ar(ST),t=Wa(),n=Ar(y9),a=Ar(Qd),s=G_(),i=$_(),l=Ar(c=>c.rootProps.className);B.useEffect(()=>{if(r==null)return _z;var c=(u,d,f)=>{if(e!==f&&r===u){if(n==="index"){var p;if(i&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate){var m=d.payload.coordinate,{x:y,y:g}=m,v=kfe(m,Efe),w=$f($f($f({},v),typeof y=="number"&&{x:Math.max(i.x,Math.min(y,i.x+i.width))}),typeof g=="number"&&{y:Math.max(i.y,Math.min(g,i.y+i.height))}),S=$f($f({},d),{},{payload:$f($f({},d.payload),{},{coordinate:w})});t(S)}else t(d);return}if(a!=null){var C;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=n(a,j);C=a[T]}else n==="value"&&(C=a.find(M=>String(M.value)===d.payload.label));var{coordinate:L}=d.payload;if(C==null||d.payload.active===!1||L==null||i==null){t($4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:D}=L,k=Math.min(I,i.x+i.width),z=Math.min(D,i.y+i.height),P={x:s==="horizontal"?C.coordinate:k,y:s==="horizontal"?z:C.coordinate},U=$4({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label});t(U)}}};return Ty.on(G4,c),()=>{Ty.off(G4,c)}},[l,t,e,r,n,a,s,i])}function Dfe(){var r=Ar(NT),e=Ar(ST),t=Wa();B.useEffect(()=>{if(r==null)return _z;var n=(a,s,i)=>{e!==i&&r===a&&t(Sfe(s))};return Ty.on(FI,n),()=>{Ty.off(FI,n)}},[t,e,r])}function Pfe(){var r=Wa();B.useEffect(()=>{r(wfe())},[r]),Ofe(),Dfe()}function Ife(r,e,t,n,a,s){var i=Ar(p=>ife(p,r,e)),l=Ar(ST),c=Ar(NT),u=Ar(y9),d=Ar(Cfe),f=d?.active;B.useEffect(()=>{if(!f&&c!=null&&l!=null){var p=$4({active:s,coordinate:t,dataKey:i,index:a,label:typeof n=="number"?String(n):n});Ty.emit(G4,c,p,l)}},[f,t,i,a,n,l,c,u,s])}function PI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function II(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(t),!0).forEach(function(n){Lfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lfe(r,e,t){return(e=Mfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mfe(r){var e=Rfe(r,"string");return typeof e=="symbol"?e:e+""}function Rfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ufe(r){return r.dataKey}function Qfe(r,e){return B.isValidElement(r)?B.cloneElement(r,e):typeof r=="function"?B.createElement(r,e):B.createElement(dle,e)}var LI=[],Hfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!K0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function l2(r){var e=Fo(r,Hfe),{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:p,useTranslate3d:m,wrapperStyle:y,cursor:g,shared:v,trigger:w,defaultIndex:S,portal:C,axisId:j}=e,T=Wa(),L=typeof S=="number"?String(S):S;B.useEffect(()=>{T(Ahe({shared:v,trigger:w,axisId:j,active:t,defaultIndex:L}))},[T,v,w,j,t,L]);var I=$_(),D=dH(),k=ihe(v),{activeIndex:z,isActive:P}=Ar(V=>cfe(V,k,w,L)),U=Ar(V=>lfe(V,k,w,L)),M=Ar(V=>Nz(V,k,w,L)),q=Ar(V=>ofe(V,k,w,L)),ae=U,W=pfe(),ee=t??P,[re,pe]=TQ([ae,ee]),Se=k==="axis"?M:void 0;Ife(k,w,q,Se,z,ee);var ne=C??W;if(ne==null)return null;var F=ae??LI;ee||(F=LI),l&&F.length&&(F=SQ(ae.filter(V=>V.value!=null&&(V.hide!==!0||e.includeHidden)),d,Ufe));var Q=F.length>0,K=B.createElement(yle,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:ee,coordinate:q,hasPayload:Q,offset:u,position:f,reverseDirection:p,useTranslate3d:m,viewBox:I,wrapperStyle:y,lastBoundingBox:re,innerRef:pe,hasPortalFromProps:!!C},Qfe(i,II(II({},e),{},{payload:F,label:Se,active:ee,coordinate:q,accessibilityLayer:D})));return B.createElement(B.Fragment,null,V8.createPortal(K,ne),ee&&B.createElement(mfe,{cursor:g,tooltipEventType:k,coordinate:q,payload:ae,index:z}))}var bB={},wB={},CB={},MI;function zfe(){return MI||(MI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(t.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),i=void 0,l=null},v=()=>{d()},w=function(...S){if(a?.aborted)return;i=this,l=S;const C=p==null;m(),c&&C&&d()};return w.schedule=m,w.cancel=g,w.flush=v,a?.addEventListener("abort",g,{once:!0}),w}r.debounce=e})(CB)),CB}var RI;function Kfe(){return RI||(RI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=zfe();function t(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const p=e.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,g),d)},y=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=y,m}r.debounce=t})(wB)),wB}var UI;function $fe(){return UI||(UI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Kfe();function t(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return e.debounce(n,a,{leading:i,maxWait:a,trailing:l})}r.throttle=t})(bB)),bB}var NB,QI;function Vfe(){return QI||(QI=1,NB=$fe().throttle),NB}var qfe=Vfe();const Gfe=Fc(qfe);var ry=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function HI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function SB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(t),!0).forEach(function(n){Wfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wfe(r,e,t){return(e=Yfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yfe(r){var e=Xfe(r,"string");return typeof e=="symbol"?e:e+""}function Xfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var c2=B.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:p,onResize:m,style:y={}}=r,g=B.useRef(null),v=B.useRef();v.current=m,B.useImperativeHandle(e,()=>g.current);var[w,S]=B.useState({containerWidth:n.width,containerHeight:n.height}),C=B.useCallback((T,L)=>{S(I=>{var D=Math.round(T),k=Math.round(L);return I.containerWidth===D&&I.containerHeight===k?I:{containerWidth:D,containerHeight:k}})},[]);B.useEffect(()=>{var T=k=>{var z,{width:P,height:U}=k[0].contentRect;C(P,U),(z=v.current)===null||z===void 0||z.call(v,P,U)};d>0&&(T=Gfe(T,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(T),{width:I,height:D}=g.current.getBoundingClientRect();return C(I,D),L.observe(g.current),()=>{L.disconnect()}},[C,d]);var j=B.useMemo(()=>{var{containerWidth:T,containerHeight:L}=w;if(T<0||L<0)return null;ry(s0(a)||s0(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),ry(!t||t>0,"The aspect(%s) must be greater than zero.",t);var I=s0(a)?T:a,D=s0(s)?L:s;return t&&t>0&&(I?D=I/t:D&&(I=D*t),c&&D>c&&(D=c)),ry(I>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,a,s,i,l,t),B.Children.map(u,k=>B.cloneElement(k,{width:I,height:D,style:SB({width:I,height:D},k.props.style)}))},[t,u,s,c,l,i,w,a]);return B.createElement("div",{id:f?"".concat(f):void 0,className:dn("recharts-responsive-container",p),style:SB(SB({},y),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:g},B.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),F0=r=>null;F0.displayName="Cell";function Jfe(r,e,t){return(e=Zfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zfe(r){var e=e0e(r,"string");return typeof e=="symbol"?e:e+""}function e0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class t0e{constructor(e){Jfe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function zI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function r0e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(t),!0).forEach(function(n){n0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function n0e(r,e,t){return(e=a0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function a0e(r){var e=s0e(r,"string");return typeof e=="symbol"?e:e+""}function s0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var i0e={cacheSize:2e3,enableCache:!0},Tz=r0e({},i0e),KI=new t0e(Tz.cacheSize),o0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$I="recharts_measurement_span";function l0e(r,e){var t=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",i=e.letterSpacing||"",l=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var VI=(r,e)=>{try{var t=document.getElementById($I);t||(t=document.createElement("span"),t.setAttribute("id",$I),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,o0e,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ny=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||K0.isSsr)return{width:0,height:0};if(!Tz.enableCache)return VI(e,t);var n=l0e(e,t),a=KI.get(n);if(a)return a;var s=VI(e,t);return KI.set(n,s),s},qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,u0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},A0e=Object.keys(kz),xp="NaN";function d0e(r,e){return r*kz[e]}class Zo{static parse(e){var t,[,n,a]=(t=u0e.exec(e))!==null&&t!==void 0?t:[];return new Zo(parseFloat(n),a??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Kl(e)&&(this.unit=""),t!==""&&!c0e.test(t)&&(this.num=NaN,this.unit=""),A0e.includes(t)&&(this.num=d0e(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Zo(NaN,""):new Zo(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Zo(NaN,""):new Zo(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zo(NaN,""):new Zo(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zo(NaN,""):new Zo(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kl(this.num)}}function Fz(r){if(r.includes(xp))return xp;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,a,s]=(t=qI.exec(e))!==null&&t!==void 0?t:[],i=Zo.parse(n??""),l=Zo.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return xp;e=e.replace(qI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,p]=(u=GI.exec(e))!==null&&u!==void 0?u:[],m=Zo.parse(d??""),y=Zo.parse(p??""),g=f==="+"?m.add(y):m.subtract(y);if(g.isNaN())return xp;e=e.replace(GI,g.toString())}return e}var WI=/\(([^()]*)\)/;function h0e(r){for(var e=r,t;(t=WI.exec(e))!=null;){var[,n]=t;e=e.replace(WI,Fz(n))}return e}function f0e(r){var e=r.replace(/\s+/g,"");return e=h0e(e),e=Fz(e),e}function m0e(r){try{return f0e(r)}catch{return xp}}function BB(r){var e=m0e(r.slice(5,-1));return e===xp?"":e}var p0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],g0e=["dx","dy","angle","className","breakAll"];function W4(){return W4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},W4.apply(null,arguments)}function YI(r,e){if(r==null)return{};var t,n,a=x0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function x0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Oz=/[ \f\n\r\t\v\u2028\u2029]+/,Dz=r=>{var{children:e,breakAll:t,style:n}=r;try{var a=[];wi(e)||(t?a=e.toString().split(""):a=e.toString().split(Oz));var s=a.map(l=>({word:l,width:ny(l,n).width})),i=t?0:ny("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},y0e=(r,e,t,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=r,u=yr(s),d=i,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((U,M)=>{var{word:q,width:ae}=M,W=U[U.length-1];if(W&&(n==null||a||W.width+ae+t<Number(n)))W.words.push(q),W.width+=ae+t;else{var ee={words:[q],width:ae};U.push(ee)}return U},[])},p=f(e),m=z=>z.reduce((P,U)=>P.width>U.width?P:U);if(!u||a)return p;var y=p.length>s||m(p).width>Number(n);if(!y)return p;for(var g="",v=z=>{var P=d.slice(0,z),U=Dz({breakAll:c,style:l,children:P+g}).wordsWithComputedWidth,M=f(U),q=M.length>s||m(M).width>Number(n);return[q,M]},w=0,S=d.length-1,C=0,j;w<=S&&C<=d.length-1;){var T=Math.floor((w+S)/2),L=T-1,[I,D]=v(L),[k]=v(T);if(!I&&!k&&(w=T+1),I&&k&&(S=T-1),!I&&k){j=D;break}C++}return j||p},XI=r=>{var e=wi(r)?[]:r.toString().split(Oz);return[{words:e}]},v0e=r=>{var{width:e,scaleToFit:t,children:n,style:a,breakAll:s,maxLines:i}=r;if((e||t)&&!K0.isSsr){var l,c,u=Dz({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return XI(n);return y0e({breakAll:s,children:n,maxLines:i,style:a},l,c,e,t)}return XI(n)},JI="#808080",GC=B.forwardRef((r,e)=>{var{x:t=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=JI}=r,d=YI(r,p0e),f=B.useMemo(()=>v0e({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:i,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,i,d.style,d.width]),{dx:p,dy:m,angle:y,className:g,breakAll:v}=d,w=YI(d,g0e);if(!yA(t)||!yA(n)||f.length===0)return null;var S=t+(yr(p)?p:0),C=n+(yr(m)?m:0),j;switch(c){case"start":j=BB("calc(".concat(s,")"));break;case"middle":j=BB("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=BB("calc(".concat(f.length-1," * -").concat(a,")"));break}var T=[];if(i){var L=f[0].width,{width:I}=d;T.push("scale(".concat(yr(I)?I/L:1,")"))}return y&&T.push("rotate(".concat(y,", ").concat(S,", ").concat(C,")")),T.length&&(w.transform=T.join(" ")),B.createElement("text",W4({},ei(w,!0),{ref:e,x:S,y:C,className:dn("recharts-text",g),textAnchor:l,fill:u.includes("url")?JI:u}),f.map((D,k)=>{var z=D.words.join(v?"":" ");return B.createElement("tspan",{x:S,dy:k===0?j:a,key:"".concat(z,"-").concat(k)},z)}))});GC.displayName="Text";var b0e=["labelRef"];function w0e(r,e){if(r==null)return{};var t,n,a=C0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function C0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function ZI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ms(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(t),!0).forEach(function(n){N0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function N0e(r,e,t){return(e=S0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function S0e(r){var e=B0e(r,"string");return typeof e=="symbol"?e:e+""}function B0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function cd(){return cd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cd.apply(null,arguments)}var Pz=B.createContext(null),E0e=r=>{var{x:e,y:t,width:n,height:a,children:s}=r,i=B.useMemo(()=>({x:e,y:t,width:n,height:a}),[e,t,n,a]);return B.createElement(Pz.Provider,{value:i},s)},Iz=()=>{var r=B.useContext(Pz),e=$_();return r||e},j0e=B.createContext(null),_0e=()=>{var r=B.useContext(j0e),e=Ar(N9);return r||e},T0e=r=>{var{value:e,formatter:t}=r,n=wi(r.children)?e:r.children;return typeof t=="function"?t(n):n},n3=r=>r!=null&&typeof r=="function",k0e=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),360);return t*n},F0e=(r,e,t,n,a)=>{var{offset:s,className:i}=r,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,y=(u+d)/2,g=k0e(f,p),v=g>=0?1:-1,w,S;switch(e){case"insideStart":w=f+v*s,S=m;break;case"insideEnd":w=p-v*s,S=!m;break;case"end":w=p+v*s,S=m;break;default:throw new Error("Unsupported position ".concat(e))}S=g<=0?S:!S;var C=Is(l,c,y,w),j=Is(l,c,y,w+(S?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),L=wi(r.id)?by("recharts-radial-line-"):r.id;return B.createElement("text",cd({},n,{dominantBaseline:"central",className:dn("recharts-radial-bar-label",i)}),B.createElement("defs",null,B.createElement("path",{id:L,d:T})),B.createElement("textPath",{xlinkHref:"#".concat(L)},t))},O0e=(r,e,t)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=r,u=(l+c)/2;if(t==="outside"){var{x:d,y:f}=Is(n,a,i+e,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(s+i)/2,{x:m,y}=Is(n,a,p,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},Lz=r=>"cx"in r&&yr(r.cx),D0e=(r,e)=>{var{parentViewBox:t,offset:n,position:a}=r,s;t!=null&&!Lz(t)&&(s=t);var{x:i,y:l,width:c,height:u}=e,d=u>=0?1:-1,f=d*n,p=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,g=y*n,v=y>0?"end":"start",w=y>0?"start":"end";if(a==="top"){var S={x:i+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:p};return ms(ms({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var C={x:i+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return ms(ms({},C),s?{height:Math.max(s.y+s.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:i-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return ms(ms({},j),s?{width:Math.max(j.x-s.x,0),height:u}:{})}if(a==="right"){var T={x:i+c+g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ms(ms({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:u}:{})}var L=s?{width:c,height:u}:{};return a==="insideLeft"?ms({x:i+g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},L):a==="insideRight"?ms({x:i+c-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},L):a==="insideTop"?ms({x:i+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},L):a==="insideBottom"?ms({x:i+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},L):a==="insideTopLeft"?ms({x:i+g,y:l+f,textAnchor:w,verticalAnchor:m},L):a==="insideTopRight"?ms({x:i+c-g,y:l+f,textAnchor:v,verticalAnchor:m},L):a==="insideBottomLeft"?ms({x:i+g,y:l+u-f,textAnchor:w,verticalAnchor:p},L):a==="insideBottomRight"?ms({x:i+c-g,y:l+u-f,textAnchor:v,verticalAnchor:p},L):a&&typeof a=="object"&&(yr(a.x)||s0(a.x))&&(yr(a.y)||s0(a.y))?ms({x:i+uo(a.x,c),y:l+uo(a.y,u),textAnchor:"end",verticalAnchor:"end"},L):ms({x:i+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},L)},P0e={offset:5};function Dh(r){var e=Fo(r,P0e),{viewBox:t,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=e,d=_0e(),f=Iz(),p=n==="center"?f:d??f,m=t||p;if(!m||wi(a)&&wi(s)&&!B.isValidElement(i)&&typeof i!="function")return null;var y=ms(ms({},e),{},{viewBox:m});if(B.isValidElement(i)){var{labelRef:g}=y,v=w0e(y,b0e);return B.cloneElement(i,v)}var w;if(typeof i=="function"){if(w=B.createElement(i,y),B.isValidElement(w))return w}else w=T0e(e);var S=Lz(m),C=ei(e,!0);if(S&&(n==="insideStart"||n==="insideEnd"||n==="end"))return F0e(e,n,w,C,m);var j=S?O0e(m,e.offset,e.position):D0e(e,m);return B.createElement(GC,cd({ref:u,className:dn("recharts-label",l)},C,j,{breakAll:c}),w)}Dh.displayName="Label";var I0e=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?B.createElement(Dh,cd({key:"label-implicit"},n)):yA(r)?B.createElement(Dh,cd({key:"label-implicit",value:r},n)):B.isValidElement(r)?r.type===Dh?B.cloneElement(r,ms({key:"label-implicit"},n)):B.createElement(Dh,cd({key:"label-implicit",content:r},n)):n3(r)?B.createElement(Dh,cd({key:"label-implicit",content:r},n)):r&&typeof r=="object"?B.createElement(Dh,cd({},r,{key:"label-implicit"},n)):null};function L0e(r){var{label:e}=r,t=Iz();return I0e(e,t)||null}var EB={},jB={},eL;function M0e(){return eL||(eL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(jB)),jB}var _B={},tL;function R0e(){return tL||(tL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(_B)),_B}var rL;function U0e(){return rL||(rL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=M0e(),t=R0e(),n=P_();function a(s){if(n.isArrayLike(s))return e.last(t.toArray(s))}r.last=a})(EB)),EB}var TB,nL;function Q0e(){return nL||(nL=1,TB=U0e().last),TB}var H0e=Q0e();const z0e=Fc(H0e);var K0e=["valueAccessor"],$0e=["dataKey","clockWise","id","textBreakAll"];function u2(){return u2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},u2.apply(null,arguments)}function aL(r,e){if(r==null)return{};var t,n,a=V0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function V0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var q0e=r=>Array.isArray(r.value)?z0e(r.value):r.value,Mz=B.createContext(void 0),G0e=Mz.Provider,Rz=B.createContext(void 0),W0e=Rz.Provider;function Y0e(){return B.useContext(Mz)}function X0e(){return B.useContext(Rz)}function dw(r){var{valueAccessor:e=q0e}=r,t=aL(r,K0e),{dataKey:n,clockWise:a,id:s,textBreakAll:i}=t,l=aL(t,$0e),c=Y0e(),u=X0e(),d=c||u;return!d||!d.length?null:B.createElement(ul,{className:"recharts-label-list"},d.map((f,p)=>{var m,y=wi(n)?e(f,p):Va(f&&f.payload,n),g=wi(s)?{}:{id:"".concat(s,"-").concat(p)};return B.createElement(Dh,u2({},ei(f,!0),l,g,{fill:(m=t.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:i,viewBox:f.viewBox,key:"label-".concat(p),index:p}))}))}dw.displayName="LabelList";function Uz(r){var{label:e}=r;return e?e===!0?B.createElement(dw,{key:"labelList-implicit"}):B.isValidElement(e)||n3(e)?B.createElement(dw,{key:"labelList-implicit",content:e}):typeof e=="object"?B.createElement(dw,u2({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Qz=r=>r.graphicalItems.polarItems,J0e=Je([Ia,mv],kT),a3=Je([Qz,Bs,J0e],OT),Z0e=Je([a3],DT),s3=Je([Z0e,yT],PT),eme=Je([s3,Bs,a3],LT),tme=Je([s3,Bs,a3],(r,e,t)=>t.length>0?r.flatMap(n=>t.flatMap(a=>{var s,i=Va(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?r.map(n=>({value:Va(n,e.dataKey),errorDomain:[]})):r.map(n=>({value:n,errorDomain:[]}))),sL=()=>{},rme=Je([Bs,K9,sL,tme,sL,Cn,Ia],RT),Hz=Je([Bs,Cn,s3,eme,fv,Ia,rme],UT),nme=Je([Hz,Bs,bg],zT);Je([Bs,Hz,nme,Ia],$T);var ame={radiusAxis:{},angleAxis:{}},zz=Yl({name:"polarAxis",initialState:ame,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:mMe,removeRadiusAxis:pMe,addAngleAxis:gMe,removeAngleAxis:xMe}=zz.actions,sme=zz.reducer;function iL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function oL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(t),!0).forEach(function(n){ime(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ime(r,e,t){return(e=ome(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ome(r){var e=lme(r,"string");return typeof e=="symbol"?e:e+""}function lme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var cme=(r,e)=>e,i3=Je([Qz,cme],(r,e)=>r.filter(t=>t.type==="pie").find(t=>t.id===e)),ume=[],o3=(r,e,t)=>t?.length===0?ume:t,Kz=Je([yT,i3,o3],(r,e,t)=>{var{chartData:n}=r;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&t!=null&&(a=t.map(s=>oL(oL({},e.presentationProps),s.props))),a!=null)return a}}),Ame=Je([Kz,i3,o3],(r,e,t)=>{if(!(r==null||e==null))return r.map((n,a)=>{var s,i=Va(n,e.nameKey,e.name),l;return t!=null&&(s=t[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=t[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:SC(i,e.dataKey),color:l,payload:n,type:e.legendType}})}),dme=Je([Kz,i3,o3,ti],(r,e,t,n)=>{if(!(e==null||r==null))return Ape({offset:n,pieSettings:e,displayedData:r,cells:t})}),kB={},lL;function hme(){return lL||(lL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const a=t[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${a}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(kB)),kB}var FB,cL;function fme(){return cL||(cL=1,FB=hme().isPlainObject),FB}var mme=fme();const pme=Fc(mme);function uL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function AL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(t),!0).forEach(function(n){gme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gme(r,e,t){return(e=xme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xme(r){var e=yme(r,"string");return typeof e=="symbol"?e:e+""}function yme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function A2(){return A2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},A2.apply(null,arguments)}var dL=(r,e,t,n,a)=>{var s=t-n,i;return i="M ".concat(r,",").concat(e),i+="L ".concat(r+t,",").concat(e),i+="L ".concat(r+t-s/2,",").concat(e+a),i+="L ".concat(r+t-s/2-n,",").concat(e+a),i+="L ".concat(r,",").concat(e," Z"),i},vme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bme=r=>{var e=Fo(r,vme),{x:t,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=e,p=B.useRef(),[m,y]=B.useState(-1),g=B.useRef(a),v=B.useRef(s),w=B.useRef(i),S=B.useRef(t),C=B.useRef(n),j=FC(r,"trapezoid-");if(B.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var q=p.current.getTotalLength();q&&y(q)}catch{}},[]),t!==+t||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var T=dn("recharts-trapezoid",l);if(!f)return B.createElement("g",null,B.createElement("path",A2({},ei(e,!0),{className:T,d:dL(t,n,a,s,i)})));var L=g.current,I=v.current,D=w.current,k=S.current,z=C.current,P="0px ".concat(m===-1?1:m,"px"),U="".concat(m,"px 0px"),M=fH(["strokeDasharray"],u,c);return B.createElement(kC,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},q=>{var ae=Hi(L,a,q),W=Hi(I,s,q),ee=Hi(D,i,q),re=Hi(k,t,q),pe=Hi(z,n,q);p.current&&(g.current=ae,v.current=W,w.current=ee,S.current=re,C.current=pe);var Se=q>0?{transition:M,strokeDasharray:U}:{strokeDasharray:P};return B.createElement("path",A2({},ei(e,!0),{className:T,d:dL(re,pe,ae,W,ee),ref:p,style:AL(AL({},Se),e.style)}))})},wme=["option","shapeType","propTransformer","activeClassName","isActive"];function Cme(r,e){if(r==null)return{};var t,n,a=Nme(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Nme(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function hL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function d2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(t),!0).forEach(function(n){Sme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Sme(r,e,t){return(e=Bme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bme(r){var e=Eme(r,"string");return typeof e=="symbol"?e:e+""}function Eme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jme(r,e){return d2(d2({},e),r)}function _me(r,e){return r==="symbols"}function fL(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return B.createElement(xH,t);case"trapezoid":return B.createElement(bme,t);case"sector":return B.createElement(bH,t);case"symbols":if(_me(e))return B.createElement(F_,t);break;default:return null}}function Tme(r){return B.isValidElement(r)?r.props:r}function $z(r){var{option:e,shapeType:t,propTransformer:n=jme,activeClassName:a="recharts-active-shape",isActive:s}=r,i=Cme(r,wme),l;if(B.isValidElement(e))l=B.cloneElement(e,d2(d2({},i),Tme(e)));else if(typeof e=="function")l=e(i);else if(pme(e)&&typeof e!="boolean"){var c=n(e,i);l=B.createElement(fL,{shapeType:t,elementProps:c})}else{var u=i;l=B.createElement(fL,{shapeType:t,elementProps:u})}return s?B.createElement(ul,{className:a},l):l}var l3=(r,e)=>{var t=Wa();return(n,a)=>s=>{r?.(n,a,s),t(iz({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},c3=r=>{var e=Wa();return(t,n)=>a=>{r?.(t,n,a),e(dhe())}},u3=(r,e)=>{var t=Wa();return(n,a)=>s=>{r?.(n,a,s),t(hhe({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function Vz(r){var{fn:e,args:t}=r,n=Wa(),a=Pc();return B.useEffect(()=>{if(!a){var s=e(t);return n(che(s)),()=>{n(uhe(s))}}},[e,t,n,a]),null}var qz=()=>{};function kme(r){var{legendPayload:e}=r,t=Wa(),n=Pc();return B.useEffect(()=>n?qz:(t(uH(e)),()=>{t(AH(e))}),[t,n,e]),null}function Fme(r){var{legendPayload:e}=r,t=Wa(),n=Ar(Cn);return B.useEffect(()=>n!=="centric"&&n!=="radial"?qz:(t(uH(e)),()=>{t(AH(e))}),[t,n,e]),null}var OB,Ome=()=>{var[r]=B.useState(()=>by("uid-"));return r},Dme=(OB=wY.useId)!==null&&OB!==void 0?OB:Ome;function Pme(r,e){var t=Dme();return e||(r?"".concat(r,"-").concat(t):t)}var Ime=B.createContext(void 0),Gz=r=>{var{id:e,type:t,children:n}=r,a=Pme("recharts-".concat(t),e);return B.createElement(Ime.Provider,{value:a},n(a))},Lme={cartesianItems:[],polarItems:[]},Wz=Yl({name:"graphicalItems",initialState:Lme,reducers:{addCartesianGraphicalItem(r,e){r.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(r,e){var{prev:t,next:n}=e.payload,a=fd(r).cartesianItems.indexOf(t);a>-1&&(r.cartesianItems[a]=n)},removeCartesianGraphicalItem(r,e){var t=fd(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},addPolarGraphicalItem(r,e){r.polarItems.push(e.payload)},removePolarGraphicalItem(r,e){var t=fd(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)}}}),{addCartesianGraphicalItem:Mme,replaceCartesianGraphicalItem:Rme,removeCartesianGraphicalItem:Ume,addPolarGraphicalItem:Qme,removePolarGraphicalItem:Hme}=Wz.actions,zme=Wz.reducer;function Kme(r){var e=Wa(),t=B.useRef(null);return B.useEffect(()=>{t.current===null?e(Mme(r)):t.current!==r&&e(Rme({prev:t.current,next:r})),t.current=r},[e,r]),B.useEffect(()=>()=>{t.current&&(e(Ume(t.current)),t.current=null)},[e]),null}function $me(r){var e=Wa();return B.useEffect(()=>(e(Qme(r)),()=>{e(Hme(r))}),[e,r]),null}var Vme=["onMouseEnter","onClick","onMouseLeave"],qme=["id"],Gme=["id"];function A3(r,e){if(r==null)return{};var t,n,a=Wme(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Wme(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function mL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Oa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(t),!0).forEach(function(n){Yme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Yme(r,e,t){return(e=Xme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xme(r){var e=Jme(r,"string");return typeof e=="symbol"?e:e+""}function Jme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Jh.apply(null,arguments)}function Zme(r){var e=B.useMemo(()=>E_(r.children,F0),[r.children]),t=Ar(n=>Ame(n,r.id,e));return t==null?null:B.createElement(Fme,{legendPayload:t})}function epe(r){var{dataKey:e,nameKey:t,sectors:n,stroke:a,strokeWidth:s,fill:i,name:l,hide:c,tooltipType:u}=r;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:e,nameKey:t,name:SC(l,e),hide:c,type:u,color:i,unit:""}}}var tpe=(r,e)=>r>e?"start":r<e?"end":"middle",rpe=(r,e,t)=>uo(typeof e=="function"?e(r):e,t,t*.8),npe=(r,e,t)=>{var{top:n,left:a,width:s,height:i}=e,l=tH(s,i),c=a+uo(r.cx,s,s/2),u=n+uo(r.cy,i,i/2),d=uo(r.innerRadius,l,0),f=rpe(t,r.outerRadius,l),p=r.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},ape=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),360);return t*n};function spe(r){return r&&typeof r=="object"&&"className"in r&&typeof r.className=="string"?r.className:""}var ipe=(r,e)=>{if(B.isValidElement(r))return B.cloneElement(r,e);if(typeof r=="function")return r(e);var t=dn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(hH,Jh({},e,{type:"linear",className:t}))},ope=(r,e,t)=>{if(B.isValidElement(r))return B.cloneElement(r,e);var n=t;if(typeof r=="function"&&(n=r(e),B.isValidElement(n)))return n;var a=dn("recharts-pie-label-text",spe(r));return B.createElement(GC,Jh({},e,{alignmentBaseline:"middle",className:a}),n)};function lpe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a,labelLine:s,dataKey:i}=t;if(!n||!a||!e)return null;var l=Af(t),c=ei(a,!1),u=ei(s,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=e.map((p,m)=>{var y=(p.startAngle+p.endAngle)/2,g=Is(p.cx,p.cy,p.outerRadius+d,y),v=Oa(Oa(Oa(Oa({},l),p),{},{stroke:"none"},c),{},{index:m,textAnchor:tpe(g.x,p.cx)},g),w=Oa(Oa(Oa(Oa({},l),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Is(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return B.createElement(ul,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},s&&ipe(s,w),ope(a,v,Va(p,i)))});return B.createElement(ul,{className:"recharts-pie-labels"},f)}function cpe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a}=t;return typeof a=="object"&&a!=null&&"position"in a?B.createElement(Uz,{label:a}):B.createElement(lpe,{sectors:e,props:t,showLabels:n})}function upe(r){var{sectors:e,activeShape:t,inactiveShape:n,allOtherPieProps:a}=r,s=Ar(k0),{onMouseEnter:i,onClick:l,onMouseLeave:c}=a,u=A3(a,Vme),d=l3(i,a.dataKey),f=c3(c),p=u3(l,a.dataKey);return e==null||e.length===0?null:B.createElement(B.Fragment,null,e.map((m,y)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var g=t&&String(y)===s,v=s?n:null,w=g?t:v,S=Oa(Oa({},m),{},{stroke:m.stroke,tabIndex:-1,[iH]:y,[oH]:a.dataKey});return B.createElement(ul,Jh({tabIndex:-1,className:"recharts-pie-sector"},iv(u,m,y),{onMouseEnter:d(m,y),onMouseLeave:f(m,y),onClick:p(m,y),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(y)}),B.createElement($z,Jh({option:w,isActive:g,shapeType:"sector"},S)))}))}function Ape(r){var e,{pieSettings:t,displayedData:n,cells:a,offset:s}=r,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=t,p=Math.abs(t.minAngle),m=ape(l,c),y=Math.abs(m),g=n.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(L=>Va(L,u,0)!==0).length,w=(y>=360?v:v-1)*g,S=y-v*p-w,C=n.reduce((L,I)=>{var D=Va(I,u,0);return L+(yr(D)?D:0)},0),j;if(C>0){var T;j=n.map((L,I)=>{var D=Va(L,u,0),k=Va(L,d,I),z=npe(t,s,L),P=(yr(D)?D:0)/C,U,M=Oa(Oa({},L),a&&a[I]&&a[I].props);I?U=T.endAngle+gi(m)*g*(D!==0?1:0):U=l;var q=U+gi(m)*((D!==0?p:0)+P*S),ae=(U+q)/2,W=(z.innerRadius+z.outerRadius)/2,ee=[{name:k,value:D,payload:M,dataKey:u,type:f}],re=Is(z.cx,z.cy,W,ae);return T=Oa(Oa(Oa(Oa({},t.presentationProps),{},{percent:P,cornerRadius:i,name:k,tooltipPayload:ee,midAngle:ae,middleRadius:W,tooltipPosition:re},M),z),{},{value:D,startAngle:U,endAngle:q,payload:M,paddingAngle:gi(m)*g}),T})}return j}function dpe(r){var{showLabels:e,sectors:t,children:n}=r,a=B.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return B.createElement(W0e,{value:e?a:void 0},n)}function hpe(r){var{props:e,previousSectorsRef:t}=r,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,p=FC(e,"recharts-pie-"),m=t.current,[y,g]=B.useState(!1),v=B.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),w=B.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return B.createElement(dpe,{showLabels:!y,sectors:n},B.createElement(kC,{animationId:p,begin:s,duration:i,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:v,key:p},S=>{var C=[],j=n&&n[0],T=j?.startAngle;return n?.forEach((L,I)=>{var D=m&&m[I],k=I>0?E0(L,"paddingAngle",0):0;if(D){var z=Hi(D.endAngle-D.startAngle,L.endAngle-L.startAngle,S),P=Oa(Oa({},L),{},{startAngle:T+k,endAngle:T+z+k});C.push(P),T=P.endAngle}else{var{endAngle:U,startAngle:M}=L,q=Hi(0,U-M,S),ae=Oa(Oa({},L),{},{startAngle:T+k,endAngle:T+q+k});C.push(ae),T=ae.endAngle}}),t.current=C,B.createElement(ul,null,B.createElement(upe,{sectors:C,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),B.createElement(cpe,{showLabels:!y,sectors:n,props:e}),e.children)}var fpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!K0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function mpe(r){var{id:e}=r,t=A3(r,qme),{hide:n,className:a,rootTabIndex:s}=r,i=B.useMemo(()=>E_(r.children,F0),[r.children]),l=Ar(d=>dme(d,e,i)),c=B.useRef(null),u=dn("recharts-pie",a);return n||l==null?(c.current=null,B.createElement(ul,{tabIndex:s,className:u})):B.createElement(B.Fragment,null,B.createElement(Vz,{fn:epe,args:Oa(Oa({},r),{},{sectors:l})}),B.createElement(ul,{tabIndex:s,className:u},B.createElement(hpe,{props:Oa(Oa({},t),{},{sectors:l}),previousSectorsRef:c})))}function h2(r){var e=Fo(r,fpe),{id:t}=e,n=A3(e,Gme),a=Af(n);return B.createElement(Gz,{id:t,type:"pie"},s=>B.createElement(B.Fragment,null,B.createElement($me,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),B.createElement(Zme,Jh({},n,{id:s})),B.createElement(mpe,Jh({},n,{id:s}))))}h2.displayName="Pie";function pL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function gL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(t),!0).forEach(function(n){ppe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ppe(r,e,t){return(e=gpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gpe(r){var e=xpe(r,"string");return typeof e=="symbol"?e:e+""}function xpe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ype={xAxis:{},yAxis:{},zAxis:{}},Yz=Yl({name:"cartesianAxis",initialState:ype,reducers:{addXAxis(r,e){r.xAxis[e.payload.id]=e.payload},removeXAxis(r,e){delete r.xAxis[e.payload.id]},addYAxis(r,e){r.yAxis[e.payload.id]=e.payload},removeYAxis(r,e){delete r.yAxis[e.payload.id]},addZAxis(r,e){r.zAxis[e.payload.id]=e.payload},removeZAxis(r,e){delete r.zAxis[e.payload.id]},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload;r.yAxis[t]&&(r.yAxis[t]=gL(gL({},r.yAxis[t]),{},{width:n}))}}}),{addXAxis:vpe,removeXAxis:bpe,addYAxis:wpe,removeYAxis:Cpe,addZAxis:yMe,removeZAxis:vMe,updateYAxisWidth:Npe}=Yz.actions,Spe=Yz.reducer,Bpe=Je([ti],r=>{if(r)return{top:r.top,bottom:r.bottom,left:r.left,right:r.right}}),Epe=Je([Bpe,Id,Ld],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),Xz=()=>Ar(Epe),jpe="Invariant failed";function Zn(r,e){if(!r)throw new Error(jpe)}var _pe=["x","y"];function Y4(){return Y4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Y4.apply(null,arguments)}function xL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ex(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(t),!0).forEach(function(n){Tpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tpe(r,e,t){return(e=kpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kpe(r){var e=Fpe(r,"string");return typeof e=="symbol"?e:e+""}function Fpe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ope(r,e){if(r==null)return{};var t,n,a=Dpe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Dpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Ppe(r,e){var{x:t,y:n}=r,a=Ope(r,_pe),s="".concat(t),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return Ex(Ex(Ex(Ex(Ex({},e),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function d3(r){return B.createElement($z,Y4({shapeType:"rectangle",propTransformer:Ppe,activeClassName:"recharts-active-bar"},r))}var Ipe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(yr(e))return e;var s=yr(n)||wi(n);return s?e(n,a):(s||Zn(!1),t)}},Lpe={},Jz=Yl({name:"errorBars",initialState:Lpe,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:a}=e.payload;r[t]&&(r[t]=r[t].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:bMe,replaceErrorBar:wMe,removeErrorBar:CMe}=Jz.actions,Mpe=Jz.reducer,Rpe=["children"];function Upe(r,e){if(r==null)return{};var t,n,a=Qpe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Qpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Hpe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zpe=B.createContext(Hpe);function Kpe(r){var{children:e}=r,t=Upe(r,Rpe);return B.createElement(zpe.Provider,{value:t},e)}function Zz(r,e){var t,n,a=Ar(u=>Rd(u,r)),s=Ar(u=>Ud(u,e)),i=(t=a?.allowDataOverflow)!==null&&t!==void 0?t:Tl.allowDataOverflow,l=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:kl.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function $pe(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,a=Xz(),{needClipX:s,needClipY:i,needClip:l}=Zz(e,t);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return B.createElement("clipPath",{id:"clipPath-".concat(n)},B.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var Vpe=["onMouseEnter","onMouseLeave","onClick"],qpe=["value","background","tooltipPosition"],Gpe=["id"],Wpe=["onMouseEnter","onClick","onMouseLeave"];function Zh(){return Zh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Zh.apply(null,arguments)}function yL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function So(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(t),!0).forEach(function(n){Ype(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ype(r,e,t){return(e=Xpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xpe(r){var e=Jpe(r,"string");return typeof e=="symbol"?e:e+""}function Jpe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function f2(r,e){if(r==null)return{};var t,n,a=Zpe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Zpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var ege=r=>{var{dataKey:e,name:t,fill:n,legendType:a,hide:s}=r;return[{inactive:s,dataKey:e,type:a,color:n,value:SC(t,e),payload:r}]};function tge(r){var{dataKey:e,stroke:t,strokeWidth:n,fill:a,name:s,hide:i,unit:l}=r;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:a,dataKey:e,nameKey:void 0,name:SC(s,e),hide:i,type:r.tooltipType,color:r.fill,unit:l}}}function rge(r){var e=Ar(k0),{data:t,dataKey:n,background:a,allOtherBarProps:s}=r,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=f2(s,Vpe),d=l3(i,n),f=c3(l),p=u3(c,n);if(!a||t==null)return null;var m=ei(a,!1);return B.createElement(B.Fragment,null,t.map((y,g)=>{var{value:v,background:w,tooltipPosition:S}=y,C=f2(y,qpe);if(!w)return null;var j=d(y,g),T=f(y,g),L=p(y,g),I=So(So(So(So(So({option:a,isActive:String(g)===e},C),{},{fill:"#eee"},w),m),iv(u,y,g)),{},{onMouseEnter:j,onMouseLeave:T,onClick:L,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return B.createElement(d3,Zh({key:"background-bar-".concat(I.index)},I))}))}function nge(r){var{showLabels:e,children:t,rects:n}=r,a=n?.map(s=>{var i={x:s.x,y:s.y,width:s.width,height:s.height};return So(So({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return B.createElement(G0e,{value:e?a:void 0},t)}function age(r){var{shape:e,activeBar:t,baseProps:n,entry:a,index:s,dataKey:i}=r,l=Ar(k0),c=Ar(yz),u=t&&String(s)===l&&(c==null||i===c),d=u?t:e;return B.createElement(d3,Zh({},n,a,{isActive:u,option:d,index:s,dataKey:i}))}function sge(r){var{shape:e,baseProps:t,entry:n,index:a,dataKey:s}=r;return B.createElement(d3,Zh({},t,n,{isActive:!1,option:e,index:a,dataKey:s}))}function ige(r){var{data:e,props:t}=r,n=Af(t),{id:a}=n,s=f2(n,Gpe),{shape:i,dataKey:l,activeBar:c}=t,{onMouseEnter:u,onClick:d,onMouseLeave:f}=t,p=f2(t,Wpe),m=l3(u,l),y=c3(f),g=u3(d,l);return e?B.createElement(B.Fragment,null,e.map((v,w)=>B.createElement(ul,Zh({className:"recharts-bar-rectangle"},iv(p,v,w),{onMouseEnter:m(v,w),onMouseLeave:y(v,w),onClick:g(v,w),key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(w)}),c?B.createElement(age,{shape:i,activeBar:c,baseProps:s,entry:v,index:w,dataKey:l}):B.createElement(sge,{shape:i,baseProps:s,entry:v,index:w,dataKey:l})))):null}function oge(r){var{props:e,previousRectanglesRef:t}=r,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=t.current,p=FC(e,"recharts-bar-"),[m,y]=B.useState(!1),g=!m,v=B.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),w=B.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return B.createElement(nge,{showLabels:g,rects:n},B.createElement(kC,{animationId:p,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:w,key:p},S=>{var C=S===1?n:n?.map((j,T)=>{var L=f&&f[T];if(L)return So(So({},j),{},{x:Hi(L.x,j.x,S),y:Hi(L.y,j.y,S),width:Hi(L.width,j.width,S),height:Hi(L.height,j.height,S)});if(a==="horizontal"){var I=Hi(0,j.height,S);return So(So({},j),{},{y:j.y+j.height-I,height:I})}var D=Hi(0,j.width,S);return So(So({},j),{},{width:D})});return S>0&&(t.current=C??null),C==null?null:B.createElement(ul,null,B.createElement(ige,{props:e,data:C}))}),B.createElement(Uz,{label:e.label}),e.children)}function lge(r){var e=B.useRef(null);return B.createElement(oge,{previousRectanglesRef:e,props:r})}var eK=0,cge=(r,e)=>{var t=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:t,errorVal:Va(r,e)}};class uge extends B.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(e||t==null)return null;var d=dn("recharts-bar",a),f=u;return B.createElement(ul,{className:d,id:u},l&&B.createElement("defs",null,B.createElement($pe,{clipPathId:f,xAxisId:s,yAxisId:i})),B.createElement(ul,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},B.createElement(rge,{data:t,dataKey:n,background:c,allOtherBarProps:this.props}),B.createElement(lge,this.props)))}}var Age={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!K0.isSsr,legendType:"rect",minPointSize:eK,xAxisId:0,yAxisId:0};function dge(r){var{xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=r,{needClip:f}=Zz(e,t),p=G_(),m=Pc(),y=E_(r.children,F0),g=Ar(S=>Uge(S,e,t,m,r.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,w=g?.[0];return w==null||w.height==null||w.width==null?v=0:v=p==="vertical"?w.height/2:w.width/2,B.createElement(Kpe,{xAxisId:e,yAxisId:t,data:g,dataPointFormatter:cge,errorBarOffset:v},B.createElement(uge,Zh({},r,{layout:p,needClip:f,data:g,xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function hge(r){var{layout:e,barSettings:{dataKey:t,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:p,cells:m,parentViewBox:y}=r,g=e==="horizontal"?l:i,v=d?g.scale.domain():null,w=joe({numericAxis:g});return f.map((S,C)=>{var j,T,L,I,D,k;d?j=woe(d[C],v):(j=Va(S,t),Array.isArray(j)||(j=[w,j]));var z=Ipe(n,eK)(j[1],C);if(e==="horizontal"){var P,[U,M]=[l.scale(j[0]),l.scale(j[1])];T=i6({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:S,index:C}),L=(P=M??U)!==null&&P!==void 0?P:void 0,I=a.size;var q=U-M;if(D=Kl(q)?0:q,k={x:T,y:p.top,width:I,height:p.height},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var ae=gi(D||z)*(Math.abs(z)-Math.abs(D));L-=ae,D+=ae}}else{var[W,ee]=[i.scale(j[0]),i.scale(j[1])];if(T=W,L=i6({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:S,index:C}),I=ee-W,D=a.size,k={x:p.left,y:L,width:p.width,height:D},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var re=gi(I||z)*(Math.abs(z)-Math.abs(I));I+=re}}if(T==null||L==null||I==null||D==null)return null;var pe=So(So({},S),{},{x:T,y:L,width:I,height:D,value:d?j:j[1],payload:S,background:k,tooltipPosition:{x:T+I/2,y:L+D/2},parentViewBox:y},m&&m[C]&&m[C].props);return pe}).filter(Boolean)}function fge(r){var e=Fo(r,Age),t=Pc();return B.createElement(Gz,{id:e.id,type:"bar"},n=>B.createElement(B.Fragment,null,B.createElement(kme,{legendPayload:ege(e)}),B.createElement(Vz,{fn:tge,args:e}),B.createElement(Kme,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Eoe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),B.createElement(dge,Zh({},e,{id:n}))))}var tK=B.memo(fge);tK.displayName="Bar";function vL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ab(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(t),!0).forEach(function(n){mge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function mge(r,e,t){return(e=pge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pge(r){var e=gge(r,"string");return typeof e=="symbol"?e:e+""}function gge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var xge=(r,e)=>e,yge=(r,e,t)=>t,vge=(r,e,t,n)=>n,bge=(r,e,t,n,a)=>a,bv=Je([FT,bge],(r,e)=>r.filter(t=>t.type==="bar").find(t=>t.id===e)),wge=Je([bv],r=>r?.maxBarSize),Cge=(r,e,t,n,a,s)=>s,bL=(r,e,t)=>{var n=t??r;if(!wi(n))return uo(n,e,0)},Nge=Je([Cn,FT,xge,yge,vge],(r,e,t,n,a)=>e.filter(s=>r==="horizontal"?s.xAxisId===t:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Sge=(r,e,t,n)=>{var a=Cn(r);return a==="horizontal"?K4(r,"yAxis",t,n):K4(r,"xAxis",e,n)},Bge=(r,e,t)=>{var n=Cn(r);return n==="horizontal"?CI(r,"xAxis",e):CI(r,"yAxis",t)},Ege=(r,e,t)=>{var n={},a=r.filter(HC),s=r.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,p=f.map(y=>y.dataKey),m=bL(e,t,f[0].barSize);return{stackId:d,dataKeys:p,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(p=>p!=null),f=bL(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},jge=Je([Nge,lde,Bge],Ege),_ge=(r,e,t,n,a)=>{var s,i,l=bv(r,e,t,n,a);if(l!=null){var c=Cn(r),u=g9(r),{maxBarSize:d}=l,f=wi(d)?u:d,p,m;return c==="horizontal"?(p=Zp(r,"xAxis",e,n),m=Jp(r,"xAxis",e,n)):(p=Zp(r,"yAxis",t,n),m=Jp(r,"yAxis",t,n)),(s=(i=z_(p,m,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},rK=(r,e,t,n)=>{var a=Cn(r),s,i;return a==="horizontal"?(s=Zp(r,"xAxis",e,n),i=Jp(r,"xAxis",e,n)):(s=Zp(r,"yAxis",t,n),i=Jp(r,"yAxis",t,n)),z_(s,i)};function Tge(r,e,t,n,a){var s=n.length;if(!(s<1)){var i=uo(r,t,0,!0),l,c=[];if(Vl(n[0].barSize)){var u=!1,d=t/s,f=n.reduce((w,S)=>w+(S.barSize||0),0);f+=(s-1)*i,f>=t&&(f-=(s-1)*i,i=0),f>=t&&d>0&&(u=!0,d*=.9,f=s*d);var p=(t-f)/2>>0,m={offset:p-i,size:0};l=n.reduce((w,S)=>{var C,j={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:m.offset+m.size+i,size:u?d:(C=S.barSize)!==null&&C!==void 0?C:0}},T=[...w,j];return m=T[T.length-1].position,T},c)}else{var y=uo(e,t,0,!0);t-2*y-(s-1)*i<=0&&(i=0);var g=(t-2*y-(s-1)*i)/s;g>1&&(g>>=0);var v=Vl(a)?Math.min(g,a):g;l=n.reduce((w,S,C)=>[...w,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(g+i)*C+(g-v)/2,size:v}}],c)}return l}}var kge=(r,e,t,n,a,s,i)=>{var l=wi(i)?e:i,c=Tge(t,n,a!==s?a:s,r,l);return a!==s&&c!=null&&(c=c.map(u=>ab(ab({},u),{},{position:ab(ab({},u.position),{},{offset:u.position.offset-a/2})}))),c},Fge=Je([jge,g9,ode,x9,_ge,rK,wge],kge),Oge=(r,e,t,n)=>Zp(r,"xAxis",e,n),Dge=(r,e,t,n)=>Zp(r,"yAxis",t,n),Pge=(r,e,t,n)=>Jp(r,"xAxis",e,n),Ige=(r,e,t,n)=>Jp(r,"yAxis",t,n),Lge=Je([Fge,bv],(r,e)=>{if(!(r==null||e==null)){var t=r.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),Mge=(r,e)=>{var t=_T(e);if(!(!r||t==null||e==null)){var{stackId:n}=e;if(n!=null){var a=r[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===t)}}}},Rge=Je([Sge,bv],Mge),Uge=Je([ti,K_,Oge,Dge,Pge,Ige,Lge,Cn,vT,rK,Rge,bv,Cge],(r,e,t,n,a,s,i,l,c,u,d,f,p)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:g}=c;if(!(f==null||i==null||e==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||a==null||s==null||u==null)){var{data:v}=f,w;if(v!=null&&v.length>0?w=v:w=m?.slice(y,g+1),w!=null)return hge({layout:l,barSettings:f,pos:i,parentViewBox:e,bandSize:u,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:w,offset:r,cells:p})}}),nK=r=>{var{chartData:e}=r,t=Wa(),n=Pc();return B.useEffect(()=>n?()=>{}:(t(OI(e)),()=>{t(OI(void 0))}),[e,t,n]),null},wL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aK=Yl({name:"brush",initialState:wL,reducers:{setBrushSettings(r,e){return e.payload==null?wL:e.payload}}}),{setBrushSettings:NMe}=aK.actions,Qge=aK.reducer;function Hge(r,e,t){return(e=zge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zge(r){var e=Kge(r,"string");return typeof e=="symbol"?e:e+""}function Kge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class h3{static create(e){return new h3(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],a=t[t.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}Hge(h3,"EPS",1e-4);function $ge(r){return(r%180+180)%180}var Vge=function(e){var{width:t,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=$ge(a),i=s*Math.PI/180,l=Math.atan(n/t),c=i>l&&i<Math.PI-l?n/Math.sin(i):t/Math.cos(i);return Math.abs(c)},qge={dots:[],areas:[],lines:[]},sK=Yl({name:"referenceElements",initialState:qge,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=fd(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=fd(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=fd(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:SMe,removeDot:BMe,addArea:EMe,removeArea:jMe,addLine:_Me,removeLine:TMe}=sK.actions,Gge=sK.reducer,Wge=B.createContext(void 0),Yge=r=>{var{children:e}=r,[t]=B.useState("".concat(by("recharts"),"-clip")),n=Xz();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return B.createElement(Wge.Provider,{value:t},B.createElement("defs",null,B.createElement("clipPath",{id:t},B.createElement("rect",{x:a,y:s,height:l,width:i}))),e)};function eg(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function iK(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],a=0;a<r.length;a+=e)n.push(r[a]);return n}function Xge(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return Vge(n,t)}function Jge(r,e,t){var n=t==="width",{x:a,y:s,width:i,height:l}=r;return e===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function m2(r,e,t,n,a){if(r*e<r*n||r*e>r*a)return!1;var s=t();return r*(e-r*s/2-n)>=0&&r*(e+r*s/2-a)<=0}function Zge(r,e){return iK(r,e+1)}function exe(r,e,t,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=e,c=0,u=1,d=i,f=function(){var y=n?.[c];if(y===void 0)return{v:iK(n,u)};var g=c,v,w=()=>(v===void 0&&(v=t(y,g)),v),S=y.coordinate,C=c===0||m2(r,S,w,d,l);C||(c=0,d=i,u+=1),C&&(d=S+r*(w()/2+a),c+=u)},p;u<=s.length;)if(p=f(),p)return p.v;return[]}function CL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ao(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(t),!0).forEach(function(n){txe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function txe(r,e,t){return(e=rxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rxe(r){var e=nxe(r,"string");return typeof e=="symbol"?e:e+""}function nxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function axe(r,e,t,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=e,{end:c}=e,u=function(p){var m=s[p],y,g=()=>(y===void 0&&(y=t(m,p)),y);if(p===i-1){var v=r*(m.coordinate+r*g()/2-c);s[p]=m=ao(ao({},m),{},{tickCoord:v>0?m.coordinate-v*r:m.coordinate})}else s[p]=m=ao(ao({},m),{},{tickCoord:m.coordinate});var w=m2(r,m.tickCoord,g,l,c);w&&(c=m.tickCoord-r*(g()/2+a),s[p]=ao(ao({},m),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function sxe(r,e,t,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=e;if(s){var d=n[l-1],f=t(d,l-1),p=r*(d.coordinate+r*f/2-u);i[l-1]=d=ao(ao({},d),{},{tickCoord:p>0?d.coordinate-p*r:d.coordinate});var m=m2(r,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-r*(f/2+a),i[l-1]=ao(ao({},d),{},{isShow:!0}))}for(var y=s?l-1:l,g=function(S){var C=i[S],j,T=()=>(j===void 0&&(j=t(C,S)),j);if(S===0){var L=r*(C.coordinate-r*T()/2-c);i[S]=C=ao(ao({},C),{},{tickCoord:L<0?C.coordinate-L*r:C.coordinate})}else i[S]=C=ao(ao({},C),{},{tickCoord:C.coordinate});var I=m2(r,C.tickCoord,T,c,u);I&&(c=C.tickCoord+r*(T()/2+a),i[S]=ao(ao({},C),{},{isShow:!0}))},v=0;v<y;v++)g(v);return i}function f3(r,e,t){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=r;if(!a||!a.length||!n)return[];if(yr(c)||K0.isSsr){var p;return(p=Zge(a,yr(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",g=d&&y==="width"?ny(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},v=(C,j)=>{var T=typeof u=="function"?u(C.value,j):C.value;return y==="width"?Xge(ny(T,{fontSize:e,letterSpacing:t}),g,f):ny(T,{fontSize:e,letterSpacing:t})[y]},w=a.length>=2?gi(a[1].coordinate-a[0].coordinate):1,S=Jge(s,w,y);return c==="equidistantPreserveStart"?exe(w,S,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=sxe(w,S,v,a,i,c==="preserveStartEnd"):m=axe(w,S,v,a,i),m.filter(C=>C.isShow))}var ixe=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=r,i=0;if(e){e.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=t?t.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(t?n:0);return Math.round(u)}return 0},oxe=["axisLine","width","height","className","hide","ticks"],lxe=["viewBox"],cxe=["viewBox"];function X4(r,e){if(r==null)return{};var t,n,a=uxe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function uxe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function O0(){return O0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},O0.apply(null,arguments)}function NL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Xs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(t),!0).forEach(function(n){Axe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Axe(r,e,t){return(e=dxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dxe(r){var e=hxe(r,"string");return typeof e=="symbol"?e:e+""}function hxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var m3={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function fxe(r){var{x:e,y:t,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=r;if(!l)return null;var u=Xs(Xs(Xs({},c),ei(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=Xs(Xs({},u),{},{x1:e,y1:t+d*a,x2:e+n,y2:t+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=Xs(Xs({},u),{},{x1:e+f*n,y1:t,x2:e+f*n,y2:t+a})}return B.createElement("line",O0({},u,{className:dn("recharts-cartesian-axis-line",E0(l,"className"))}))}function mxe(r,e,t,n,a,s,i,l,c){var u,d,f,p,m,y,g=l?-1:1,v=r.tickSize||i,w=yr(r.tickCoord)?r.tickCoord:r.coordinate;switch(s){case"top":u=d=r.coordinate,p=t+ +!l*a,f=p-g*v,y=f-g*c,m=w;break;case"left":f=p=r.coordinate,d=e+ +!l*n,u=d-g*v,m=u-g*c,y=w;break;case"right":f=p=r.coordinate,d=e+ +l*n,u=d+g*v,m=u+g*c,y=w;break;default:u=d=r.coordinate,p=t+ +l*a,f=p+g*v,y=f+g*c,m=w;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y}}}function pxe(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function gxe(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function xxe(r){var{option:e,tickProps:t,value:n}=r,a,s=dn(t.className,"recharts-cartesian-axis-tick-value");if(B.isValidElement(e))a=B.cloneElement(e,Xs(Xs({},t),{},{className:s}));else if(typeof e=="function")a=e(Xs(Xs({},t),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(i=dn(i,e?.className)),a=B.createElement(GC,O0({},t,{className:i}),n)}return a}function yxe(r){var{ticks:e=[],tick:t,tickLine:n,stroke:a,tickFormatter:s,unit:i,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:p,width:m,height:y,tickSize:g,tickMargin:v,fontSize:w,letterSpacing:S,getTicksConfig:C,events:j}=r,T=f3(Xs(Xs({},C),{},{ticks:e}),w,S),L=pxe(u,d),I=gxe(u,d),D=Af(C),k=ei(t,!1),z=Xs(Xs({},D),{},{fill:"none"},ei(n,!1)),P=T.map((U,M)=>{var{line:q,tick:ae}=mxe(U,f,p,m,y,u,g,d,v),W=Xs(Xs(Xs(Xs({textAnchor:L,verticalAnchor:I},D),{},{stroke:"none",fill:a},k),ae),{},{index:M,payload:U,visibleTicksCount:T.length,tickFormatter:s,padding:l},c);return B.createElement(ul,O0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},iv(j,U,M)),n&&B.createElement("line",O0({},z,q,{className:dn("recharts-cartesian-axis-tick-line",E0(n,"className"))})),t&&B.createElement(xxe,{option:t,tickProps:W,value:"".concat(typeof s=="function"?s(U.value,M):U.value).concat(i||"")}))});return P.length>0?B.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var vxe=B.forwardRef((r,e)=>{var{axisLine:t,width:n,height:a,className:s,hide:i,ticks:l}=r,c=X4(r,oxe),[u,d]=B.useState(""),[f,p]=B.useState(""),m=B.useRef([]);B.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var g;return ixe({ticks:m.current,label:(g=r.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var y=B.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(v);var w=v[0];if(w){var S=window.getComputedStyle(w),C=S.fontSize,j=S.letterSpacing;(C!==u||j!==f)&&(d(C),p(j))}}},[u,f]);return i||n!=null&&n<=0||a!=null&&a<=0?null:B.createElement(ul,{className:dn("recharts-cartesian-axis",s),ref:y},B.createElement(fxe,{x:r.x,y:r.y,width:n,height:a,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:Af(r)}),B.createElement(yxe,{ticks:l,tick:r.tick,tickLine:r.tickLine,stroke:r.stroke,tickFormatter:r.tickFormatter,unit:r.unit,padding:r.padding,tickTextProps:r.tickTextProps,orientation:r.orientation,mirror:r.mirror,x:r.x,y:r.y,width:r.width,height:r.height,tickSize:r.tickSize,tickMargin:r.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:r,events:c}),B.createElement(E0e,{x:r.x,y:r.y,width:r.width,height:r.height},B.createElement(L0e,{label:r.label}),r.children))}),bxe=B.memo(vxe,(r,e)=>{var{viewBox:t}=r,n=X4(r,lxe),{viewBox:a}=e,s=X4(e,cxe);return eg(t,a)&&eg(n,s)}),p3=B.forwardRef((r,e)=>{var t=Fo(r,m3);return B.createElement(bxe,O0({},t,{ref:e}))});p3.displayName="CartesianAxis";var wxe=["x1","y1","x2","y2","key"],Cxe=["offset"],Nxe=["xAxisId","yAxisId"],Sxe=["xAxisId","yAxisId"];function SL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function oo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(t),!0).forEach(function(n){Bxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bxe(r,e,t){return(e=Exe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Exe(r){var e=jxe(r,"string");return typeof e=="symbol"?e:e+""}function jxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function l0(){return l0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},l0.apply(null,arguments)}function p2(r,e){if(r==null)return{};var t,n,a=_xe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function _xe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Txe=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:a,width:s,height:i,ry:l}=r;return B.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function oK(r,e){var t;if(B.isValidElement(r))t=B.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var{x1:n,y1:a,x2:s,y2:i,key:l}=e,c=p2(e,wxe),u=Af(c),{offset:d}=u,f=p2(u,Cxe);t=B.createElement("line",l0({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return t}function kxe(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=p2(r,Nxe),c=a.map((u,d)=>{var f=oo(oo({},l),{},{x1:e,y1:u,x2:e+t,y2:u,key:"line-".concat(d),index:d});return oK(n,f)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Fxe(r){var{y:e,height:t,vertical:n=!0,verticalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=p2(r,Sxe),c=a.map((u,d)=>{var f=oo(oo({},l),{},{x1:u,y1:e,x2:u,y2:e+t,key:"line-".concat(d),index:d});return oK(n,f)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Oxe(r){var{horizontalFill:e,fillOpacity:t,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=r;if(!c||!e||!e.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],y=m?a+i-f:u[p+1]-f;if(y<=0)return null;var g=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:y,width:s,stroke:"none",fill:e[g],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Dxe(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=r;if(!e||!t||!t.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],y=m?a+i-f:u[p+1]-f;if(y<=0)return null;var g=p%t.length;return B.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:y,height:l,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Pxe=(r,e)=>{var{xAxis:t,width:n,height:a,offset:s}=r;return nH(f3(oo(oo(oo({},m3),t),{},{ticks:aH(t),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},Ixe=(r,e)=>{var{yAxis:t,width:n,height:a,offset:s}=r;return nH(f3(oo(oo(oo({},m3),t),{},{ticks:aH(t),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},Lxe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function lK(r){var e=V_(),t=q_(),n=lH(),a=oo(oo({},Fo(r,Lxe)),{},{x:yr(r.x)?r.x:n.left,y:yr(r.y)?r.y:n.top,width:yr(r.width)?r.width:n.width,height:yr(r.height)?r.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,y=Pc(),g=Ar(k=>NI(k,"xAxis",s,y)),v=Ar(k=>NI(k,"yAxis",i,y));if(!yr(u)||u<=0||!yr(d)||d<=0||!yr(l)||l!==+l||!yr(c)||c!==+c)return null;var w=a.verticalCoordinatesGenerator||Pxe,S=a.horizontalCoordinatesGenerator||Ixe,{horizontalPoints:C,verticalPoints:j}=a;if((!C||!C.length)&&typeof S=="function"){var T=p&&p.length,L=S({yAxis:v?oo(oo({},v),{},{ticks:T?p:v.ticks}):void 0,width:e,height:t,offset:n},T?!0:f);ry(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(C=L)}if((!j||!j.length)&&typeof w=="function"){var I=m&&m.length,D=w({xAxis:g?oo(oo({},g),{},{ticks:I?m:g.ticks}):void 0,width:e,height:t,offset:n},I?!0:f);ry(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(j=D)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(Txe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),B.createElement(Oxe,l0({},a,{horizontalPoints:C})),B.createElement(Dxe,l0({},a,{verticalPoints:j})),B.createElement(kxe,l0({},a,{offset:n,horizontalPoints:C,xAxis:g,yAxis:v})),B.createElement(Fxe,l0({},a,{offset:n,verticalPoints:j,xAxis:g,yAxis:v})))}lK.displayName="CartesianGrid";var Mxe=["dangerouslySetInnerHTML","ticks"],Rxe=["id"],Uxe=["domain"],Qxe=["domain"];function J4(){return J4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},J4.apply(null,arguments)}function g2(r,e){if(r==null)return{};var t,n,a=Hxe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Hxe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function zxe(r){var e=Wa();return B.useEffect(()=>(e(vpe(r)),()=>{e(bpe(r))}),[r,e]),null}var Kxe=r=>{var{xAxisId:e,className:t}=r,n=Ar(K_),a=Pc(),s="xAxis",i=Ar(v=>wg(v,s,e,a)),l=Ar(v=>ez(v,s,e,a)),c=Ar(v=>Y9(v,e)),u=Ar(v=>Zde(v,e)),d=Ar(v=>E9(v,e));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=r,m=g2(r,Mxe),{id:y}=d,g=g2(d,Rxe);return B.createElement(p3,J4({},m,g,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:dn("recharts-".concat(s," ").concat(s),t),viewBox:n,ticks:l}))},$xe={allowDataOverflow:Tl.allowDataOverflow,allowDecimals:Tl.allowDecimals,allowDuplicatedCategory:Tl.allowDuplicatedCategory,height:Tl.height,hide:!1,mirror:Tl.mirror,orientation:Tl.orientation,padding:Tl.padding,reversed:Tl.reversed,scale:Tl.scale,tickCount:Tl.tickCount,type:Tl.type,xAxisId:0},Vxe=r=>{var e,t,n,a,s,i=Fo(r,$xe);return B.createElement(B.Fragment,null,B.createElement(zxe,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.xAxisId,scale:i.scale,type:i.type,padding:i.padding,allowDataOverflow:i.allowDataOverflow,domain:i.domain,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,height:i.height,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),B.createElement(Kxe,i))},qxe=(r,e)=>{var{domain:t}=r,n=g2(r,Uxe),{domain:a}=e,s=g2(e,Qxe);return eg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:eg({domain:t},{domain:a}):!1},cK=B.memo(Vxe,qxe);cK.displayName="XAxis";var Gxe=["dangerouslySetInnerHTML","ticks"],Wxe=["id"],Yxe=["domain"],Xxe=["domain"];function Z4(){return Z4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Z4.apply(null,arguments)}function x2(r,e){if(r==null)return{};var t,n,a=Jxe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Jxe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Zxe(r){var e=Wa();return B.useEffect(()=>(e(wpe(r)),()=>{e(Cpe(r))}),[r,e]),null}var eye=r=>{var{yAxisId:e,className:t,width:n,label:a}=r,s=B.useRef(null),i=B.useRef(null),l=Ar(K_),c=Pc(),u=Wa(),d="yAxis",f=Ar(T=>wg(T,d,e,c)),p=Ar(T=>X9(T,e)),m=Ar(T=>the(T,e)),y=Ar(T=>ez(T,d,e,c)),g=Ar(T=>j9(T,e));if(B.useLayoutEffect(()=>{if(!(n!=="auto"||!p||n3(a)||B.isValidElement(a)||g==null)){var T=s.current;if(T){var L=T.getCalculatedWidth();Math.round(p.width)!==Math.round(L)&&u(Npe({id:e,width:L}))}}},[y,p,u,a,e,n,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:w}=r,S=x2(r,Gxe),{id:C}=g,j=x2(g,Wxe);return B.createElement(p3,Z4({},S,j,{ref:s,labelRef:i,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:dn("recharts-".concat(d," ").concat(d),t),viewBox:l,ticks:y}))},tye={allowDataOverflow:kl.allowDataOverflow,allowDecimals:kl.allowDecimals,allowDuplicatedCategory:kl.allowDuplicatedCategory,hide:!1,mirror:kl.mirror,orientation:kl.orientation,padding:kl.padding,reversed:kl.reversed,scale:kl.scale,tickCount:kl.tickCount,type:kl.type,width:kl.width,yAxisId:0},rye=r=>{var e,t,n,a,s,i=Fo(r,tye);return B.createElement(B.Fragment,null,B.createElement(Zxe,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.yAxisId,scale:i.scale,type:i.type,domain:i.domain,allowDataOverflow:i.allowDataOverflow,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,padding:i.padding,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,width:i.width,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),B.createElement(eye,i))},nye=(r,e)=>{var{domain:t}=r,n=x2(r,Yxe),{domain:a}=e,s=x2(e,Xxe);return eg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:eg({domain:t},{domain:a}):!1},uK=B.memo(rye,nye);uK.displayName="YAxis";var DB={exports:{}},PB={};var BL;function aye(){if(BL)return PB;BL=1;var r=ig();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,i=r.useMemo,l=r.useDebugValue;return PB.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var m=a(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=i(function(){function v(T){if(!w){if(w=!0,S=T,T=f(T),p!==void 0&&y.hasValue){var L=y.value;if(p(L,T))return C=L}return C=T}if(L=C,t(S,T))return L;var I=f(T);return p!==void 0&&p(L,I)?(S=T,L):(S=T,C=I)}var w=!1,S,C,j=d===void 0?null:d;return[function(){return v(u())},j===null?void 0:function(){return v(j())}]},[u,d,f,p]);var g=n(c,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=g},[g]),l(g),g},PB}var EL;function sye(){return EL||(EL=1,DB.exports=aye()),DB.exports}sye();function iye(r){r()}function oye(){let r=null,e=null;return{clear(){r=null,e=null},notify(){iye(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!n||r===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var jL={notify(){},get:()=>[]};function lye(r,e){let t,n=jL,a=0,s=!1;function i(g){d();const v=n.subscribe(g);let w=!1;return()=>{w||(w=!0,v(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){a++,t||(t=r.subscribe(c),n=oye())}function f(){a--,t&&a===0&&(t(),t=void 0,n.clear(),n=jL)}function p(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const y={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return y}var cye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uye=cye(),Aye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dye=Aye(),hye=()=>uye||dye?B.useLayoutEffect:B.useEffect,fye=hye(),mye=Symbol.for("react-redux-context"),pye=typeof globalThis<"u"?globalThis:{};function gye(){if(!B.createContext)return{};const r=pye[mye]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var xye=gye();function yye(r){const{children:e,context:t,serverState:n,store:a}=r,s=B.useMemo(()=>{const c=lye(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=B.useMemo(()=>a.getState(),[a]);fye(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=t||xye;return B.createElement(l.Provider,{value:s},e)}var vye=yye,bye=(r,e)=>e,g3=Je([bye,Cn,N9,ni,mz,Qd,sfe,ti],ufe),x3=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},AK=_c("mouseClick"),dK=lv();dK.startListening({actionCreator:AK,effect:(r,e)=>{var t=r.payload,n=g3(e.getState(),x3(t));n?.activeIndex!=null&&e.dispatch(fhe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ej=_c("mouseMove"),hK=lv();hK.startListening({actionCreator:ej,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=GT(n,n.tooltip.settings.shared),s=g3(n,x3(t));a==="axis"&&(s?.activeIndex!=null?e.dispatch(lz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(oz()))}});var _L={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fK=Yl({name:"rootProps",initialState:_L,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:_L.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className}}}),wye=fK.reducer,{updateOptions:Cye}=fK.actions,mK=Yl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:Nye}=mK.actions,Sye=mK.reducer,pK=_c("keyDown"),gK=_c("focus"),y3=lv();y3.startListening({actionCreator:pK,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip,s=r.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number(WT(a,Ng(t))),l=Qd(t);if(s==="Enter"){var c=o2(t,"axis","hover",String(a.index));e.dispatch(V4({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=she(t),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,p=i+f*d;if(!(l==null||p>=l.length||p<0)){var m=o2(t,"axis","hover",String(p));e.dispatch(V4({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});y3.startListening({actionCreator:gK,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip;if(!a.active&&a.index==null){var s="0",i=o2(t,"axis","hover",String(s));e.dispatch(V4({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var xc=_c("externalEvent"),xK=lv();xK.startListening({actionCreator:xc,effect:(r,e)=>{if(r.payload.handler!=null){var t=e.getState(),n={activeCoordinate:Yhe(t),activeDataKey:yz(t),activeIndex:k0(t),activeLabel:xz(t),activeTooltipIndex:k0(t),isTooltipActive:Xhe(t)};r.payload.handler(n,r.payload.reactEvent)}}});var Bye=Je([Cg],r=>r.tooltipItemPayloads),Eye=Je([Bye,yv,(r,e,t)=>e,(r,e,t)=>t],(r,e,t,n)=>{var a=r.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=e(s,t);return i}}}),yK=_c("touchMove"),vK=lv();vK.startListening({actionCreator:yK,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=GT(n,n.tooltip.settings.shared);if(a==="axis"){var s=g3(n,x3({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));s?.activeIndex!=null&&e.dispatch(lz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=t.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(iH),d=(i=c.getAttribute(oH))!==null&&i!==void 0?i:void 0,f=Eye(e.getState(),u,d);e.dispatch(iz({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var jye=FQ({brush:Qge,cartesianAxis:Spe,chartData:Bfe,errorBars:Mpe,graphicalItems:zme,layout:ioe,legend:Yoe,options:bfe,polarAxis:sme,polarOptions:Sye,referenceElements:Gge,rootProps:wye,tooltip:mhe}),_ye=function(e){return kie({reducer:jye,preloadedState:e,middleware:t=>t({serializableCheck:!1}).concat([dK.middleware,hK.middleware,y3.middleware,xK.middleware,vK.middleware]),devTools:K0.devToolsEnabled})};function bK(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,a=Pc(),s=B.useRef(null);if(a)return t;s.current==null&&(s.current=_ye(e));var i=L_;return B.createElement(vye,{context:i,store:s.current},t)}function wK(r){var{layout:e,width:t,height:n,margin:a}=r,s=Wa(),i=Pc();return B.useEffect(()=>{i||(s(noe(e)),s(aoe({width:t,height:n})),s(roe(a)))},[s,i,e,t,n,a]),null}function CK(r){var e=Wa();return B.useEffect(()=>{e(Cye(r))},[e,r]),null}var Tye=["children"];function kye(r,e){if(r==null)return{};var t,n,a=Fye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Fye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function y2(){return y2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},y2.apply(null,arguments)}var Oye={width:"100%",height:"100%"},Dye=B.forwardRef((r,e)=>{var t=V_(),n=q_(),a=dH();if(!qp(t)||!qp(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=r,u,d;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0,B.createElement(j_,y2({},i,{title:l,desc:c,role:d,tabIndex:u,width:t,height:n,style:Oye,ref:e}),s)}),Pye=r=>{var{children:e}=r,t=Ar(_C);if(!t)return null;var{width:n,height:a,y:s,x:i}=t;return B.createElement(j_,{width:n,height:a,x:i,y:s},e)},TL=B.forwardRef((r,e)=>{var{children:t}=r,n=kye(r,Tye),a=Pc();return a?B.createElement(Pye,null,t):B.createElement(Dye,y2({ref:e},n),t)});function Iye(){var r=Wa(),[e,t]=B.useState(null),n=Ar(Poe);return B.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Vl(s)&&s!==n&&r(soe(s))}},[e,r,n]),t}function kL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Lye(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(t),!0).forEach(function(n){Mye(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Mye(r,e,t){return(e=Rye(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rye(r){var e=Uye(r,"string");return typeof e=="symbol"?e:e+""}function Uye(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Qye=B.forwardRef((r,e)=>{var{children:t,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:y,onTouchStart:g,style:v,width:w}=r,S=Wa(),[C,j]=B.useState(null),[T,L]=B.useState(null);Pfe();var I=Iye(),D=B.useCallback(F=>{I(F),typeof e=="function"&&e(F),j(F),L(F)},[I,e,j,L]),k=B.useCallback(F=>{S(AK(F)),S(xc({handler:s,reactEvent:F}))},[S,s]),z=B.useCallback(F=>{S(ej(F)),S(xc({handler:u,reactEvent:F}))},[S,u]),P=B.useCallback(F=>{S(oz()),S(xc({handler:d,reactEvent:F}))},[S,d]),U=B.useCallback(F=>{S(ej(F)),S(xc({handler:f,reactEvent:F}))},[S,f]),M=B.useCallback(()=>{S(gK())},[S]),q=B.useCallback(F=>{S(pK(F.key))},[S]),ae=B.useCallback(F=>{S(xc({handler:i,reactEvent:F}))},[S,i]),W=B.useCallback(F=>{S(xc({handler:l,reactEvent:F}))},[S,l]),ee=B.useCallback(F=>{S(xc({handler:c,reactEvent:F}))},[S,c]),re=B.useCallback(F=>{S(xc({handler:p,reactEvent:F}))},[S,p]),pe=B.useCallback(F=>{S(xc({handler:g,reactEvent:F}))},[S,g]),Se=B.useCallback(F=>{S(yK(F)),S(xc({handler:y,reactEvent:F}))},[S,y]),ne=B.useCallback(F=>{S(xc({handler:m,reactEvent:F}))},[S,m]);return B.createElement(Sz.Provider,{value:C},B.createElement(Z7.Provider,{value:T},B.createElement("div",{className:dn("recharts-wrapper",n),style:Lye({position:"relative",cursor:"default",width:w,height:a},v),onClick:k,onContextMenu:ae,onDoubleClick:W,onFocus:M,onKeyDown:q,onMouseDown:ee,onMouseEnter:z,onMouseLeave:P,onMouseMove:U,onMouseUp:re,onTouchEnd:ne,onTouchMove:Se,onTouchStart:pe,ref:D},t)))}),Hye=["children","className","width","height","style","compact","title","desc"];function zye(r,e){if(r==null)return{};var t,n,a=Kye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Kye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var NK=B.forwardRef((r,e)=>{var{children:t,className:n,width:a,height:s,style:i,compact:l,title:c,desc:u}=r,d=zye(r,Hye),f=Af(d);return l?B.createElement(TL,{otherAttributes:f,title:c,desc:u},t):B.createElement(Qye,{className:n,style:i,width:a,height:s,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},B.createElement(TL,{otherAttributes:f,title:c,desc:u,ref:e},B.createElement(Yge,null,t)))}),$ye=["width","height"];function tj(){return tj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tj.apply(null,arguments)}function Vye(r,e){if(r==null)return{};var t,n,a=qye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function qye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Gye={top:5,right:5,bottom:5,left:5},Wye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gye,reverseStackOrder:!1,syncMethod:"index"},Yye=B.forwardRef(function(e,t){var n,a=Fo(e.categoricalChartProps,Wye),{width:s,height:i}=a,l=Vye(a,$ye);if(!qp(s)||!qp(i))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:p}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return B.createElement(bK,{preloadedState:{options:m},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:c},B.createElement(nK,{chartData:p.data}),B.createElement(wK,{width:s,height:i,layout:a.layout,margin:a.margin}),B.createElement(CK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),B.createElement(NK,tj({},l,{width:s,height:i,ref:t})))}),Xye=["axis","item"],Jye=B.forwardRef((r,e)=>B.createElement(Yye,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xye,tooltipPayloadSearcher:Bz,categoricalChartProps:r,ref:e}));function Zye(r){var e=Wa();return B.useEffect(()=>{e(Nye(r))},[e,r]),null}var eve=["width","height","layout"];function rj(){return rj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rj.apply(null,arguments)}function tve(r,e){if(r==null)return{};var t,n,a=rve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function rve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var nve={top:5,right:5,bottom:5,left:5},ave={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nve,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},sve=B.forwardRef(function(e,t){var n,a=Fo(e.categoricalChartProps,ave),{width:s,height:i,layout:l}=a,c=tve(a,eve);if(!qp(s)||!qp(i))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return B.createElement(bK,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},B.createElement(nK,{chartData:a.data}),B.createElement(wK,{width:s,height:i,layout:l,margin:a.margin}),B.createElement(CK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),B.createElement(Zye,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),B.createElement(NK,rj({width:s,height:i},c,{ref:t})))}),ive=["item"],ove={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},nj=B.forwardRef((r,e)=>{var t=Fo(r,ove);return B.createElement(sve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ive,tooltipPayloadSearcher:Bz,categoricalChartProps:t,ref:e})});const lve=()=>{const{projects:r,fetchProjects:e,fetchTimesheets:t}=ws(),{fetchTeamMembers:n}=Dc(),{clients:a,fetchClients:s}=uf(),[i,l]=B.useState(""),[c,u]=B.useState("all"),[d,f]=B.useState(null),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState(null),[S,C]=B.useState(!1);B.useEffect(()=>{e(),t(),n(),s()},[]);const j=B.useMemo(()=>{const k=r.length,z=r.filter(M=>M.status==="ongoing").length,P=r.filter(M=>M.status==="completed").length,U=r.filter(M=>M.status==="pre-lim").length;return{total:k,active:z,completed:P,preLim:U}},[r]),T=B.useMemo(()=>[{name:"Pre-lim",value:j.preLim,color:"#f59e0b"},{name:"Ongoing",value:j.active,color:"#3b82f6"},{name:"Completed",value:j.completed,color:"#10b981"}].filter(k=>k.value>0),[j]),L=B.useMemo(()=>{const k={CFD:0,FEA:0,"Vibration & Acoustic":0},z={"computational-fluid-dynamic":"CFD","Computational Fluid Dynamics":"CFD",CFD:"CFD","finite-element-analysis":"FEA","Finite Element Analysis":"FEA",FEA:"FEA","vibration-acoustic":"Vibration & Acoustic",Vibration:"Vibration & Acoustic","Vibration & Acoustic":"Vibration & Acoustic",Acoustic:"Vibration & Acoustic"};r.forEach(U=>{let M=U.categories||U.workTypes;if(typeof M=="string")try{M=JSON.parse(M)}catch{console.warn("Failed to parse categories:",M)}M&&Array.isArray(M)&&M.forEach(q=>{const ae=z[q];ae&&k[ae]++})});const P={CFD:"#6366f1",FEA:"#ec4899","Vibration & Acoustic":"#f59e0b"};return Object.entries(k).map(([U,M])=>({name:U,value:M,color:P[U]})).filter(U=>U.value>0)},[r]),I=B.useMemo(()=>{let k=r;return c!=="all"&&(k=k.filter(z=>z.status===c)),i&&(k=k.filter(z=>z.projectCode.toLowerCase().includes(i.toLowerCase())||z.title.toLowerCase().includes(i.toLowerCase()))),k},[r,i,c]),D=k=>{f(k),m(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:j.total}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"all statuses"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(pA,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:j.active}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"currently ongoing"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(g_,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:j.completed}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"finished projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center",children:o.jsx(A_,{className:"w-6 h-6 text-emerald-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Preliminary"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:j.preLim}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"pending projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-lg flex items-center justify-center",children:o.jsx(ll,{className:"w-6 h-6 text-amber-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Status Distribution"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by status"})]}),o.jsx(c2,{width:"100%",height:280,children:o.jsxs(nj,{children:[o.jsx(h2,{data:T,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:T.map((k,z)=>o.jsx(F0,{fill:k.color},`cell-${z}`))}),o.jsx(l2,{formatter:k=>`${k} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:T.map((k,z)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"text-gray-700",children:k.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:k.value})]},z))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Field of Work"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by engineering field"})]}),L.length>0?o.jsxs(o.Fragment,{children:[o.jsx(c2,{width:"100%",height:280,children:o.jsxs(nj,{children:[o.jsx(h2,{data:L,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:L.map((k,z)=>o.jsx(F0,{fill:k.color},`field-${z}`))}),o.jsx(l2,{formatter:k=>`${k} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:L.map((k,z)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"text-gray-700",children:k.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:k.value})]},z))})]}):o.jsx("div",{className:"flex items-center justify-center h-80 text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(sC,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No field data available"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Browse and filter all projects"})]})})}),o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(jc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by project code or title...",value:i,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 bg-gray-100 rounded-lg p-1",children:["all","pre-lim","ongoing","completed"].map(k=>o.jsx("button",{onClick:()=>u(k),className:`px-3 py-1.5 text-xs font-medium rounded transition-colors ${c===k?"bg-white text-primary-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-900"}`,children:k==="all"?"All":k==="pre-lim"?"Preliminary":k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),I.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(pA,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:I.map(k=>{const z=a.find(M=>M.id===k.companyId),P=k.leadEngineer?.name||k.manager?.name||"Unassigned",U=k.plannedHours>0?(k.actualHours||0)/k.plannedHours*100:0;return o.jsxs("tr",{onClick:()=>D(k),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:k.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:k.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:z?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:P}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min(U,100)}%`}})}),o.jsxs("span",{className:"font-semibold text-gray-900 w-8 text-right text-xs",children:[U.toFixed(0),"%"]})]})}),o.jsxs("td",{className:"px-6 py-4 text-right text-gray-700",children:[o.jsx("span",{className:"font-medium",children:k.actualHours}),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:k.plannedHours})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${k.status==="ongoing"?"bg-blue-50 text-blue-700":k.status==="completed"?"bg-emerald-50 text-emerald-700":k.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:k.status==="pre-lim"?"Preliminary":k.status.charAt(0).toUpperCase()+k.status.slice(1)})})]},k.id)})})]})})]}),p&&d&&o.jsx(C_,{project:d,isOpen:p,onClose:()=>{m(!1),f(null)}}),o.jsx(rae,{isOpen:S,onClose:()=>{C(!1),g(null),w(null)},teamMemberId:y,teamMemberName:v})]})},cve=()=>{const{fetchProjects:r}=ws();return B.useEffect(()=>{r()},[r]),o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Project tracking and statistics"})]}),o.jsx(sC,{className:"w-12 h-12 text-blue-600 opacity-20"})]})}),o.jsx(lve,{})]})})},Hd=Oc((r,e)=>({companies:[],loading:!1,error:null,fetchCompanies:async()=>{r({loading:!0,error:null});try{const t=await bn.api.get("/companies");r({companies:t.data,loading:!1})}catch(t){console.error("Error fetching companies:",t),r({error:t.response?.data?.error||"Failed to fetch companies",loading:!1}),Lt.error("Failed to fetch companies")}},createCompany:async t=>{r({loading:!0,error:null});try{const n=await bn.api.post("/companies",t);return r(a=>({companies:[...a.companies,{...n.data.company,contacts:[]}],loading:!1})),Lt.success("Company created successfully"),n.data.company}catch(n){console.error("Error creating company:",n);const a=n.response?.data?.error||"Failed to create company";return r({error:a,loading:!1}),Lt.error(a),null}},updateCompany:async(t,n)=>{r({loading:!0,error:null});try{const a=await bn.api.put(`/companies/${t}`,n);r(s=>({companies:s.companies.map(i=>i.id===t?{...i,...a.data.company}:i),loading:!1})),Lt.success("Company updated successfully")}catch(a){console.error("Error updating company:",a);const s=a.response?.data?.error||"Failed to update company";r({error:s,loading:!1}),Lt.error(s)}},deleteCompany:async t=>{r({loading:!0,error:null});try{await bn.api.delete(`/companies/${t}`),r(n=>({companies:n.companies.filter(a=>a.id!==t),loading:!1})),Lt.success("Company deleted successfully")}catch(n){console.error("Error deleting company:",n);const a=n.response?.data?.error||"Failed to delete company";r({error:a,loading:!1}),Lt.error(a)}},createContact:async t=>{r({loading:!0,error:null});try{const a=(await bn.api.post("/contacts",t)).data.contact;return r(s=>({companies:s.companies.map(i=>i.id===a.company_id?{...i,contacts:[...i.contacts,a]}:i),loading:!1})),Lt.success("Contact created successfully"),a}catch(n){console.error("Error creating contact:",n);const a=n.response?.data?.error||"Failed to create contact";return r({error:a,loading:!1}),Lt.error(a),null}},updateContact:async(t,n)=>{r({loading:!0,error:null});try{const s=(await bn.api.put(`/contacts/${t}`,n)).data.contact;r(i=>({companies:i.companies.map(l=>l.id===s.company_id?{...l,contacts:l.contacts.map(c=>c.id===t?s:c)}:l),loading:!1})),Lt.success("Contact updated successfully")}catch(a){console.error("Error updating contact:",a);const s=a.response?.data?.error||"Failed to update contact";r({error:s,loading:!1}),Lt.error(s)}},deleteContact:async t=>{r({loading:!0,error:null});try{await bn.api.delete(`/contacts/${t}`),r(n=>({companies:n.companies.map(a=>({...a,contacts:a.contacts.filter(s=>s.id!==t)})),loading:!1})),Lt.success("Contact deleted successfully")}catch(n){console.error("Error deleting contact:",n);const a=n.response?.data?.error||"Failed to delete contact";r({error:a,loading:!1}),Lt.error(a)}}})),uve=r=>{const e=B.useRef(null),t=B.useRef(null);return B.useEffect(()=>{r?setTimeout(()=>{e.current?.focus()},0):t.current?.focus()},[r]),{firstInputRef:e,closeButtonRef:t}},Ave=({isOpen:r,onClose:e})=>{const{clients:t,fetchClients:n,loading:a}=uf(),{companies:s,fetchCompanies:i,loading:l}=Hd(),{teamMembers:c,fetchTeamMembers:u,loading:d}=Dc(),{addProject:f}=ws(),{firstInputRef:p,closeButtonRef:m}=uve(r),[y,g]=B.useState({projectCode:"",title:"",companyId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",hourlyRate:"",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0]}),[v,w]=B.useState(null),[S,C]=B.useState({projectCode:null}),[j,T]=B.useState(!1);B.useEffect(()=>{r&&(n(),i(),u(),di.getNextProjectCode().then(P=>w(P)).catch(P=>Rt.error("Failed to fetch latest project code:",P)))},[r,n,i,u]);const L=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],I=P=>{g(U=>{const M=U.workTypes.includes(P)?U.workTypes.filter(q=>q!==P):[...U.workTypes,P];return{...U,workTypes:M}})},D=c,k=c.filter(P=>P.role==="senior-engineer"||P.role==="principal-engineer"||P.role==="manager"||P.role==="managing-director"||P.role==="admin"),z=async P=>{if(P.preventDefault(),!y.projectCode||!y.title||!y.companyId||!y.managerId){Ce.error("Please fill in all required fields (Project Code, Title, Company, and Project Manager)");return}if(!/^J\d{5}$/.test(y.projectCode)){Ce.error("Project Code must be in format J2XXXX (e.g., J25001)");return}T(!0);try{const M=s.find(ee=>ee.id===y.companyId),q={...y,engineerId:y.leadEngineerId,plannedHours:parseFloat(y.plannedHours)||0,hourlyRate:y.hourlyRate?parseFloat(y.hourlyRate):null,companyName:M?.name||""},ae=await f(q),W=$7.getState().addNotification;if(W({type:"success",title:"Project Created",message:`${y.title} (${y.projectCode}) has been created successfully.`,category:"project-assignment"}),y.managerId){const ee=c.find(re=>re.id===y.managerId);ee&&W({type:"info",title:"Project Assignment",message:`${ee.name} has been assigned as Project Manager for ${y.title}.`,category:"project-assignment"})}if(y.leadEngineerId){const ee=c.find(re=>re.id===y.leadEngineerId);ee&&W({type:"info",title:"Project Assignment",message:`${ee.name} has been assigned as Lead Engineer for ${y.title}.`,category:"project-assignment"})}Ce.success("Project created successfully!"),g({projectCode:"",title:"",companyId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",hourlyRate:"",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0]}),C({projectCode:null}),e()}catch(M){if(M?.isAxiosError){const q=M?.response?.data?.error||M?.response?.data?.message||M?.message||String(M);q.includes("already exists")&&q.includes("Project code")?(C({projectCode:"This code already exists"}),Ce.error(`Project code "${y.projectCode}" already exists. Please use a different code.`,{duration:5e3})):(C({projectCode:null}),Ce.error("Failed to create project: "+q))}else Rt.error("Failed to create project:",M),Ce.error("Failed to create project: "+(M?.message||String(M)))}finally{T(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Project"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:z,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectCode",type:"text",ref:p,value:y.projectCode,onChange:P=>{g({...y,projectCode:P.target.value.toUpperCase()}),C({projectCode:null})},placeholder:"e.g., J25001",pattern:"^J\\d{5}$",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${S.projectCode?"border-red-500 dark:border-red-500 bg-red-50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":"projectCodeHint"}),S.projectCode&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.projectCode}),o.jsxs("p",{id:"projectCodeHint",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Format: J2XXXX (e.g., J25001)",v&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-gray-900 font-medium",children:["Latest: ",v.latestCode||"None"]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-green-700 font-medium",children:["Suggested: ",v.nextSuggestion]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectTitle",type:"text",value:y.title,onChange:P=>g({...y,title:P.target.value}),placeholder:"e.g., Equipment Vibration Analysis",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0,autoComplete:"off"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(bu,{className:"w-4 h-4 inline mr-1"}),"Contact ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"contact",value:y.contactId,onChange:P=>{const U=P.target.value,M=s.find(q=>q.contacts.some(ae=>ae.id===U));g({...y,contactId:U,companyId:M?.id||""})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white grouped-select",disabled:l,required:!0,children:[o.jsx("option",{value:"",children:l?"Loading contacts...":s.length===0?"No contacts available":"Select Contact"}),s.map(P=>o.jsx("optgroup",{label:P.name,children:P.contacts.map(U=>o.jsxs("option",{value:U.id,children:[U.name," ",U.position?`(${U.position})`:""]},U.id))},P.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"manager",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(bu,{className:"w-4 h-4 inline mr-1"}),"Project Manager ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"manager",value:y.managerId,onChange:P=>g({...y,managerId:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:d,required:!0,"aria-describedby":"managerHint",children:[o.jsx("option",{value:"",children:d?"Loading...":k.length===0?"No managers available":"Select Project Manager"}),k.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"leadEngineer",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(bu,{className:"w-4 h-4 inline mr-1"}),"Lead Engineer"]}),o.jsxs("select",{id:"leadEngineer",value:y.leadEngineerId,onChange:P=>g({...y,leadEngineerId:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:d,children:[o.jsx("option",{value:"",children:d?"Loading...":D.length===0?"No engineers available":"Select Lead Engineer"}),D.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Field of Work"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:L.map(P=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:y.workTypes.includes(P),onChange:()=>I(P),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 bg-white dark:bg-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:P})]},P))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"plannedHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(ll,{className:"w-4 h-4 inline mr-1"}),"Planned Hours"]}),o.jsx("input",{id:"plannedHours",type:"number",value:y.plannedHours,onChange:P=>g({...y,plannedHours:P.target.value}),placeholder:"e.g., 120",min:"0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"hourlyRate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Hourly Rate (MYR)",o.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Optional)"})]}),o.jsx("input",{id:"hourlyRate",type:"number",step:"0.01",value:y.hourlyRate,onChange:P=>g({...y,hourlyRate:P.target.value}),placeholder:"e.g., 500",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Leave blank to use default RM 437.50/hr"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(os,{className:"w-4 h-4 inline mr-1"}),"Description"]}),o.jsx("textarea",{id:"description",value:y.description,onChange:P=>g({...y,description:P.target.value}),placeholder:"Describe the project scope and objectives...",rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:e,disabled:j,ref:m,children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",disabled:j,children:j?"Creating...":"Create Project"})]})]})]})})]}):null},dve=({isOpen:r,onClose:e,project:t,onSave:n})=>{const[a,s]=B.useState({}),{teamMembers:i,fetchTeamMembers:l}=Dc();if(B.useEffect(()=>{l()},[l]),B.useEffect(()=>{t&&s({...t,dailyRate:t.dailyRate||null})},[t]),!r||!t)return null;const c=d=>{const f=new Date().toISOString(),p={status:d};d==="pre-lim"&&!a.inquiryDate&&(p.inquiryDate=f),s({...a,...p})},u=async()=>{try{await n(a),Ce.success("Project updated successfully!"),e()}catch(d){Ce.error(d?.message||"Failed to update project")}};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-white flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Project"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.projectCode," - ",t.title]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Qp,{className:"w-5 h-5 text-indigo-600"}),"Team Assignment"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Engineer"}),o.jsxs("select",{value:a.leadEngineerId||"",onChange:d=>{const f=i.find(p=>p.id===d.target.value);s({...a,leadEngineerId:d.target.value,engineerName:f?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Engineer"}),i.filter(d=>d.role==="engineer"||d.role==="senior-engineer"||d.role==="principal-engineer").map(d=>o.jsxs("option",{value:d.id,children:[d.name," - ",d.role.replace("-"," ").toUpperCase()]},d.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Manager"}),o.jsxs("select",{value:a.managerId||"",onChange:d=>{const f=i.find(p=>p.id===d.target.value);s({...a,managerId:d.target.value,managerName:f?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Project Manager"}),i.filter(d=>d.role==="senior-engineer"||d.role==="principal-engineer"||d.role==="manager"||d.role==="managing-director").map(d=>o.jsxs("option",{value:d.id,children:[d.name," - ",d.role.replace("-"," ").toUpperCase()]},d.id))]})]})]}),(a.engineerName||a.managerName)&&o.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-indigo-200",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Current Team:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.engineerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[" ",a.engineerName]}),a.managerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:[" ",a.managerName]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Status ",a.status==="pre-lim"&&o.jsx("span",{className:"text-blue-600 text-xs",children:"(Auto-updates on PO receipt)"})]}),o.jsxs("select",{value:a.status,onChange:d=>c(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"pre-lim",children:"Preliminary"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Qi,{className:"w-4 h-4 inline mr-1"}),"Inquiry Date"]}),o.jsx("input",{type:"date",value:a.inquiryDate?new Date(a.inquiryDate).toISOString().split("T")[0]:"",onChange:d=>s({...a,inquiryDate:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours"}),o.jsx("input",{type:"number",value:a.plannedHours||0,onChange:d=>s({...a,plannedHours:parseInt(d.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hourly Rate (MYR)",o.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Optional)"})]}),o.jsx("input",{type:"number",step:"0.01",value:a.dailyRate||"",onChange:d=>s({...a,dailyRate:parseFloat(d.target.value)||null}),placeholder:"e.g., 500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to use default RM 437.50/hr"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),o.jsx("textarea",{value:a.remarks||"",onChange:d=>s({...a,remarks:d.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Add any notes or remarks about this project..."})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("button",{onClick:e,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{onClick:u,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all font-medium flex items-center gap-2",children:[o.jsx(A_,{className:"w-4 h-4"}),"Save Changes"]})]})]})})]})},hve={danger:{icon:Cs,iconBg:"bg-red-100",iconColor:"text-red-600",headerBg:"from-red-50 to-red-100",confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:Xh,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",headerBg:"from-yellow-50 to-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:m_,iconBg:"bg-blue-100",iconColor:"text-blue-600",headerBg:"from-blue-50 to-blue-100",confirmButton:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}},G0=({isOpen:r,onClose:e,onConfirm:t,title:n,message:a,variant:s="info",confirmText:i="Confirm",cancelText:l="Cancel",isLoading:c=!1})=>{const u=hve[s],d=u.icon,f=()=>{c||t()},p=m=>{m.key==="Escape"&&!c&&e(),m.key==="Enter"&&!c&&f()};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:m=>{m.target===m.currentTarget&&!c&&e()},onKeyDown:p,role:"presentation",children:o.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in",children:[o.jsxs("div",{className:_r("flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r",u.headerBg),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:_r("w-10 h-10 rounded-lg flex items-center justify-center",u.iconBg),children:o.jsx(d,{className:_r("w-6 h-6",u.iconColor)})}),o.jsx("h2",{id:"confirm-dialog-title",className:"text-xl font-bold text-gray-900",children:n})]}),!c&&o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Close dialog",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-600"})})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{id:"confirm-dialog-description",className:"text-gray-700 leading-relaxed",children:a})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:e,disabled:c,className:"px-4 py-2.5 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:l}),o.jsx("button",{onClick:f,disabled:c,className:_r("px-4 py-2.5 text-white rounded-lg transition-all font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] focus:outline-none focus:ring-2 focus:ring-offset-2",u.confirmButton,c&&"cursor-wait"),children:c?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):i})]})]})}):null};function v3(){const{user:r}=cf();return B.useMemo(()=>{if(!r)return{canAddProject:!1,canAddResearch:!1,canAddBusinessContact:!1,canAddTimesheet:!1,canExportTimesheet:!1,canAddTeamMember:!1,canEditTeamMember:!1,canDeleteTeamMember:!1,canAddOrRemoveInventory:!1,canAddMaintenanceDates:!1,canAddOrRemovePC:!1,canCheckoutEquipment:!1,canAssignPC:!1,canAccessFinance:!1,canUploadPO:!1,canApproveInvoices:!1,canEditInvoices:!1,canDeletePO:!1,canDeleteInvoices:!1,canViewBaseCost:!1,canViewAnalytics:!1,canManageProjectRates:!1,isAuthenticated:!1,roleInfo:null,roles:[],highestRole:"engineer"};const t=r.roles||[r.role],n=t.includes("admin")?"admin":t.reduce((s,i)=>{const l={engineer:1,"senior-engineer":2,"principal-engineer":3,manager:3,"managing-director":4,admin:5};return(l[i]||0)>(l[s]||0)?i:s},t[0]);return{...lC(t),isAuthenticated:!0,roleInfo:y_(n),roles:t,highestRole:n}},[r])}const fve=()=>{const{projects:r,loading:e,fetchProjects:t}=ws(),{clients:n,fetchClients:a}=uf(),{companies:s,fetchCompanies:i}=Hd(),{teamMembers:l,fetchTeamMembers:c}=Dc(),{canAddProject:u}=v3(),[d,f]=B.useState(""),[p,m]=B.useState("all"),[y,g]=B.useState("projectCode"),[v,w]=B.useState("asc"),[S,C]=B.useState(!1),[j,T]=B.useState(!1),[L,I]=B.useState(!1),[D,k]=B.useState(null),[z,P]=B.useState({isOpen:!1});B.useEffect(()=>{t(),a(),i(),c()},[]);const U=B.useCallback(()=>{if(!u){Ce.error(gA("add project","senior-engineer"));return}C(!0)},[u]),M=B.useCallback(F=>{const Q=r.find(K=>K.id===F);Q&&(k(Q),I(!0))},[r]),q=B.useCallback(F=>{if(!u){Ce.error(gA("edit project","senior-engineer"));return}const Q=r.find(K=>K.id===F);Q&&(k(Q),T(!0))},[u,r]),ae=B.useCallback(F=>{y===F?w(Q=>Q==="asc"?"desc":"asc"):(g(F),w("asc"))},[y]),W=F=>y!==F?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):v==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"}),ee=async F=>{if(!D){Ce.error("No project selected");return}try{F.status&&F.status!==D.status&&await ws.getState().updateProject(D.id,{status:F.status,inquiryDate:F.inquiryDate,poReceivedDate:F.poReceivedDate,completionDate:F.completionDate});const Q={};F.title&&(Q.title=F.title),F.plannedHours!==void 0&&(Q.plannedHours=F.plannedHours),F.remarks!==void 0&&(Q.remarks=F.remarks),F.categories!==void 0&&(Q.categories=F.categories),F.leadEngineerId&&(Q.leadEngineerId=F.leadEngineerId),F.managerId&&(Q.managerId=F.managerId),Object.keys(Q).length>0&&await ws.getState().updateProject(D.id,Q),Ce.success(`Project ${D.projectCode} updated successfully!`),t(!0),T(!1),k(null)}catch(Q){throw Rt.error("Failed to update project:",Q),Ce.error(Q?.message||"Failed to update project"),Q}},re=B.useCallback((F,Q)=>{if(!u){Ce.error(gA("delete project","senior-engineer"));return}P({isOpen:!0,projectId:F,projectCode:Q})},[u]),pe=B.useCallback(async()=>{if(!(!z.projectId||!z.projectCode))try{await ws.getState().deleteProject(z.projectId),Ce.success(`Project ${z.projectCode} deleted successfully`),t(),P({isOpen:!1})}catch(F){Rt.error("Failed to delete project:",F),Ce.error("Failed to delete project: "+(F instanceof Error?F.message:String(F)))}},[z.projectId,z.projectCode,t]),Se=B.useMemo(()=>r.filter(F=>{const Q=d===""||F.projectCode.toLowerCase().includes(d.toLowerCase())||F.title.toLowerCase().includes(d.toLowerCase()),K=p==="all"||F.status===p;return Q&&K}).sort((F,Q)=>{const K=oe=>{switch(y){case"projectCode":return oe.projectCode.toLowerCase();case"title":return oe.title.toLowerCase();case"client":return(n.find(ue=>ue.id===oe.companyId)?.name||"").toLowerCase();case"engineer":return(oe.engineerName||oe.leadEngineer?.name||l.find(ue=>ue.userId===oe.leadEngineerId)?.name||l.find(ue=>ue.userId===oe.engineerId)?.name||"").toLowerCase();case"status":return oe.status;case"hours":return oe.actualHours||0;default:return oe.projectCode.toLowerCase()}},V=K(F),J=K(Q);return typeof V=="string"&&typeof J=="string"?v==="asc"?V.localeCompare(J):J.localeCompare(V):v==="asc"?V-J:J-V}),[r,d,p,y,v,n,l]),ne=B.useMemo(()=>({total:r.length,preLim:r.filter(F=>F.status==="pre-lim").length,ongoing:r.filter(F=>F.status==="ongoing").length,completed:r.filter(F=>F.status==="completed").length}),[r]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your engineering projects and track progress"})]}),u&&o.jsxs("button",{onClick:U,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx(Gr,{variant:"stat",padding:"sm",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(jc,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:d,onChange:F=>f(F.target.value),placeholder:"Search by project code or title...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(ev,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:p,onChange:F=>m(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Preliminary"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(AA,{title:"Total Projects",value:ne.total,color:"gray",onClick:()=>m("all"),active:p==="all"}),o.jsx(AA,{title:"Preliminary",value:ne.preLim,color:"yellow",onClick:()=>m("pre-lim"),active:p==="pre-lim"}),o.jsx(AA,{title:"Ongoing",value:ne.ongoing,color:"green",onClick:()=>m("ongoing"),active:p==="ongoing"}),o.jsx(AA,{title:"Completed",value:ne.completed,color:"gray",onClick:()=>m("completed"),active:p==="completed"})]}),o.jsxs(Gr,{variant:"stat",padding:"none",className:"overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[p==="all"&&`All Projects (${Se.length})`,p==="pre-lim"&&`Preliminary Projects (${Se.length})`,p==="ongoing"&&`Ongoing Projects (${Se.length})`,p==="completed"&&`Completed Projects (${Se.length})`]})}),e?o.jsx("div",{className:"px-6 py-8",children:o.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(F=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"grid grid-cols-7 gap-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded col-span-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})},F))})}):Se.length===0?o.jsxs("div",{className:"px-6 py-16 text-center",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx(pA,{className:"w-12 h-12 mx-auto opacity-50"})}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"No projects found"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:d||p!=="all"?"Try adjusting your search or filters":"Get started by creating your first project"}),u&&!d&&p==="all"&&o.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),"Create First Project"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>ae("projectCode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Code ",W("projectCode")]}),o.jsxs("th",{onClick:()=>ae("title"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Title ",W("title")]}),o.jsxs("th",{onClick:()=>ae("client"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Company ",W("client")]}),o.jsxs("th",{onClick:()=>ae("engineer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Engineer ",W("engineer")]}),o.jsxs("th",{onClick:()=>ae("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",W("status")]}),o.jsxs("th",{onClick:()=>ae("hours"),className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",W("hours")]}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Se.map(F=>{let Q=s.find(K=>K.id===F.companyId);return!Q&&F.companyId&&(Q=n.find(K=>K.id===F.companyId)),o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:()=>M(F.id),className:"text-primary-600 hover:text-primary-700 hover:underline transition-colors cursor-pointer",title:`View details for project ${F.projectCode}`,"aria-label":`View details for project ${F.projectCode}`,children:F.projectCode})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:F.title,children:F.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Q?.name||F.companyName||"Unknown"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.engineerName||F.leadEngineer?.name||l.find(K=>K.userId===F.leadEngineerId)?.name||l.find(K=>K.userId===F.engineerId)?.name||"Unassigned"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.status==="pre-lim"?"bg-blue-100 text-blue-800":F.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.status==="pre-lim"?"Preliminary":F.status==="ongoing"?"Ongoing":"Completed"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[F.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",F.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(F.actualHours||0)>F.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(F.plannedHours>0?(F.actualHours||0)/F.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>M(F.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View Details","aria-label":`View details for project ${F.projectCode}`,children:o.jsx(Vi,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>q(F.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit Project","aria-label":`Edit project ${F.projectCode}`,children:o.jsx(l7,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>re(F.id,F.projectCode),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Project","aria-label":`Delete project ${F.projectCode}`,children:o.jsx(Ns,{className:"w-4 h-4"})})]})})]},F.id)})})]})})]}),o.jsx(Ave,{isOpen:S,onClose:()=>{C(!1),t()}}),o.jsx(dve,{isOpen:j,onClose:()=>{T(!1),k(null)},project:D,onSave:ee}),o.jsx(C_,{isOpen:L,onClose:()=>{I(!1),k(null)},project:D}),o.jsx(G0,{isOpen:z.isOpen,onClose:()=>P({isOpen:!1}),onConfirm:pe,title:"Delete Project",message:`Are you sure you want to delete Project ${z.projectCode}? This action cannot be undone.`,variant:"danger",confirmText:"Delete Project",cancelText:"Cancel"})]})})},mve={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl",full:"max-w-[95vw] h-[90vh]"},pve={gradient:"bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",white:"bg-white dark:bg-gray-800",dark:"bg-gray-900 text-white dark:bg-gray-950"},WC=({isOpen:r,onClose:e,title:t,description:n,children:a,size:s="lg",icon:i,footer:l,showCloseButton:c=!0,isLoading:u=!1,preventBackdropClose:d=!1,hasUnsavedChanges:f=!1,className:p,headerVariant:m="gradient",loadingText:y="Processing..."})=>{const g=B.useRef(null),v=B.useRef(null),[w,S]=B.useState(!1),C=`modal-title-${Zs.useId()}`,j=n?`modal-description-${Zs.useId()}`:void 0,T=B.useCallback(()=>{u||(f?S(!0):e())},[u,f,e]),L=B.useCallback(z=>{z.key==="Escape"&&T()},[T]),I=B.useCallback(z=>{if(z.key!=="Tab"||!g.current)return;const P=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),U=P[0],M=P[P.length-1];z.shiftKey?document.activeElement===U&&(z.preventDefault(),M?.focus()):document.activeElement===M&&(z.preventDefault(),U?.focus())},[]);B.useEffect(()=>(r&&(v.current=document.activeElement,document.addEventListener("keydown",L),document.addEventListener("keydown",I),document.body.style.overflow="hidden",setTimeout(()=>{const z=document.activeElement;if(!(g.current?.contains(z)&&(z?.tagName==="INPUT"||z?.tagName==="SELECT"||z?.tagName==="TEXTAREA"))){const U=g.current?.querySelectorAll("input, select, textarea, button"),M=Array.from(U||[]).find(q=>q.tagName==="INPUT"||q.tagName==="SELECT"||q.tagName==="TEXTAREA");M?M.focus():g.current?.focus()}},0)),()=>{document.removeEventListener("keydown",L),document.removeEventListener("keydown",I),document.body.style.overflow="",!r&&v.current&&v.current.focus()}),[r,L,I]);const D=z=>{z.target===z.currentTarget&&!d&&T()};if(B.useEffect(()=>{r||S(!1)},[r]),!r)return null;const k=m==="dark";return o.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:D,role:"presentation",children:o.jsxs("div",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":C,"aria-describedby":j,tabIndex:-1,className:_r("bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-scale-in","max-w-[95vw]",`md:${mve[s]}`,s==="full"&&"h-[90vh]",p),children:[w&&o.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center",children:o.jsx(Xh,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Unsaved Changes"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You have unsaved changes that will be lost."})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Keep Editing"}),o.jsx("button",{onClick:()=>{S(!1),e()},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})}),o.jsxs("div",{className:_r("flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",pve[m]),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[i&&o.jsx("div",{className:_r("w-10 h-10 rounded-lg flex items-center justify-center",k?"bg-white/10":"bg-primary-100 dark:bg-primary-900/30"),"aria-hidden":"true",children:i}),o.jsxs("div",{children:[o.jsx("h2",{id:C,className:_r("text-lg md:text-xl font-bold",k?"text-white":"text-gray-900 dark:text-white"),children:t}),n&&o.jsx("p",{id:j,className:_r("text-sm",k?"text-gray-300":"text-gray-600 dark:text-gray-400"),children:n})]})]}),c&&!u&&o.jsx("button",{onClick:T,className:_r("p-2 md:p-3 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",k?"hover:bg-white/10 text-gray-300 hover:text-white":"hover:bg-primary-200 dark:hover:bg-gray-700"),"aria-label":"Close dialog",children:o.jsx(Ur,{className:_r("w-5 h-5",k?"":"text-gray-600 dark:text-gray-400"),"aria-hidden":"true"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[a,u&&o.jsx("div",{className:"absolute inset-0 bg-white/75 dark:bg-gray-800/75 flex items-center justify-center z-10",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 dark:border-primary-800 border-t-primary-600 dark:border-t-primary-400 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y})]})})]}),l&&o.jsx("div",{className:"flex items-center justify-between p-4 md:p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:l})]})})},gve=({isOpen:r,onClose:e})=>{const{createCompany:t}=Hd(),[n,a]=B.useState(!1),[s,i]=B.useState({name:"",company_type:[],industry:"",website:"",address:""}),l=["client","vendor","customer","supplier"],c=f=>{i(p=>({...p,company_type:p.company_type.includes(f)?p.company_type.filter(m=>m!==f):[...p.company_type,f]}))},u=async f=>{if(f.preventDefault(),!s.name.trim())return;a(!0);const p=await t(s);a(!1),p&&d()},d=()=>{i({name:"",company_type:[],industry:"",website:"",address:""}),e()};return o.jsx(WC,{isOpen:r,onClose:d,title:"Add New Company",icon:o.jsx(N0,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ia,{id:"company-name",type:"text",value:s.name,onChange:f=>i({...s,name:f.target.value}),placeholder:"Enter company name",required:!0,disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(f=>o.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:s.company_type.includes(f),onChange:()=>c(f),disabled:n,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:f})]},f))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Industry"}),o.jsx(ia,{id:"industry",type:"text",value:s.industry,onChange:f=>i({...s,industry:f.target.value}),placeholder:"e.g., Manufacturing, Technology, Healthcare",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Website"}),o.jsx(ia,{id:"website",type:"url",value:s.website,onChange:f=>i({...s,website:f.target.value}),placeholder:"https://www.example.com",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Address"}),o.jsx("textarea",{id:"address",value:s.address,onChange:f=>i({...s,address:f.target.value}),placeholder:"Enter company address",rows:3,disabled:n,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed resize-none"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:d,disabled:n,className:"flex-1",children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",disabled:n,className:"flex-1",children:n?"Adding...":"Add Company"})]})]})})},xve=({isOpen:r,onClose:e,companyId:t,companyName:n})=>{const{createContact:a}=Hd(),[s,i]=B.useState(!1),[l,c]=B.useState({name:"",email:"",phone:"",position:""}),u=async f=>{if(f.preventDefault(),!l.name.trim()||!l.email.trim())return;i(!0);const p=await a({company_id:t,...l});i(!1),p&&d()},d=()=>{c({name:"",email:"",phone:"",position:""}),e()};return o.jsx(WC,{isOpen:r,onClose:d,title:`Add Contact - ${n}`,icon:o.jsx(kw,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Contact Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ia,{id:"contact-name",type:"text",value:l.name,onChange:f=>c({...l,name:f.target.value}),placeholder:"Enter contact name",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ia,{id:"email",type:"email",value:l.email,onChange:f=>c({...l,email:f.target.value}),placeholder:"contact@example.com",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone"}),o.jsx(ia,{id:"phone",type:"tel",value:l.phone,onChange:f=>c({...l,phone:f.target.value}),placeholder:"+60 12-345 6789",disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Position"}),o.jsx(ia,{id:"position",type:"text",value:l.position,onChange:f=>c({...l,position:f.target.value}),placeholder:"e.g., CEO, Project Manager, Engineer",disabled:s})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:d,disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",disabled:s,className:"flex-1",children:s?"Adding...":"Add Contact"})]})]})})},yve=()=>{const{companies:r,fetchCompanies:e,deleteCompany:t,deleteContact:n}=Hd(),[a,s]=B.useState(!1),[i,l]=B.useState(!1),[c,u]=B.useState(null),[d,f]=B.useState(null),[p,m]=B.useState("");B.useEffect(()=>{e()},[]);const y=B.useCallback(()=>{s(!1)},[]),g=B.useCallback(()=>{l(!1),u(null)},[]),v=T=>{u(T),l(!0)},w=async(T,L)=>{window.confirm(`Are you sure you want to delete "${L}"? This will also delete all associated contacts.`)&&await t(T)},S=async(T,L)=>{window.confirm(`Are you sure you want to delete "${L}"?`)&&await n(T)},C=T=>{f(d===T?null:T)},j=r.filter(T=>{const L=p.toLowerCase(),I=T.name.toLowerCase().includes(L),D=T.contacts.some(k=>k.name.toLowerCase().includes(L)||k.email.toLowerCase().includes(L));return I||D});return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Companies & Contacts"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your business contacts and company information"})]}),o.jsx(Dt,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(vi,{className:"w-4 h-4"}),children:"Add Company"})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search companies or contacts...",value:p,onChange:T=>m(T.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),j.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p?"No companies found":"No companies yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:p?"Try adjusting your search query":"Get started by adding your first company"}),!p&&o.jsx(Dt,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(vi,{className:"w-4 h-4"}),children:"Add First Company"})]}):o.jsx("div",{className:"space-y-4",children:j.map(T=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>C(T.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:T.name}),o.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:[T.contacts.length," ",T.contacts.length===1?"contact":"contacts"]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 ml-8",children:[T.industry&&o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(wd,{className:"w-4 h-4"}),T.industry]}),T.website&&o.jsx("a",{href:T.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",onClick:L=>L.stopPropagation(),children:T.website})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{variant:"outline",size:"sm",onClick:L=>{L.stopPropagation(),v(T)},icon:o.jsx(kw,{className:"w-4 h-4"}),children:"Add Contact"}),o.jsx(Dt,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),w(T.id,T.name)},icon:o.jsx(Ns,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})]})}),d===T.id&&o.jsx("div",{className:"border-t border-gray-100 bg-gray-50",children:T.contacts.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(kw,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts yet for this company"}),o.jsx(Dt,{variant:"primary",size:"sm",onClick:()=>v(T),icon:o.jsx(vi,{className:"w-4 h-4"}),children:"Add First Contact"})]}):o.jsx("div",{className:"p-6 space-y-3",children:T.contacts.map(L=>o.jsx("div",{className:"bg-white rounded-xl p-4 hover:shadow-sm transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:L.name}),L.position&&o.jsxs("span",{className:"text-sm text-gray-600",children:[" ",L.position]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ag,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${L.email}`,className:"text-primary-600 hover:underline",children:L.email})]}),L.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(iC,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${L.phone}`,className:"text-primary-600 hover:underline",children:L.phone})]})]})]}),o.jsx(Dt,{variant:"ghost",size:"sm",onClick:()=>S(L.id,L.name),icon:o.jsx(Ns,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})},L.id))})})]},T.id))})]}),o.jsx(gve,{isOpen:a,onClose:y}),c&&o.jsx(xve,{isOpen:i,onClose:g,companyId:c.id,companyName:c.name})]})},vve=30*1e3,D0=Oc((r,e)=>({researchProjects:[],researchTimesheets:[],loading:!1,lastFetched:null,fetchResearchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<vve)){r({loading:!0});try{const i=await Cr.getAllResearchProjects();r({researchProjects:Array.isArray(i)?i:[],lastFetched:Date.now()})}catch(i){console.error("Error fetching research projects:",i)}finally{r({loading:!1})}}},fetchResearchTimesheets:async t=>{r({loading:!0});try{const n=await Cr.getResearchTimesheets(t);r({researchTimesheets:Array.isArray(n)?n:[]})}catch(n){console.error("Error fetching research timesheets:",n)}finally{r({loading:!1})}},addResearchProject:async t=>{try{const n=await Cr.createResearchProject(t);r(a=>({researchProjects:[n,...a.researchProjects],lastFetched:Date.now()}))}catch(n){throw console.error("Error creating research project:",n),n}},updateResearchProject:async(t,n)=>{try{const a=await Cr.updateResearchProject(t,n);r(s=>({researchProjects:s.researchProjects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Error updating research project:",a),a}},deleteResearchProject:async t=>{try{await Cr.deleteResearchProject(t),r(n=>({researchProjects:n.researchProjects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Error deleting research project:",n),n}},logTimesheetHours:async(t,n)=>{try{const a=await Cr.logResearchTimesheet({...n,projectId:t});r(s=>({researchTimesheets:[a,...s.researchTimesheets]})),e().fetchResearchProjects(!0)}catch(a){throw console.error("Error logging timesheet hours:",a),a}},approveTimesheetEntry:async(t,n)=>{try{await Cr.approveResearchTimesheet(t,n),r(a=>({researchTimesheets:a.researchTimesheets.map(s=>s.id===t?{...s,status:"approved",approvedBy:n}:s)}))}catch(a){throw console.error("Error approving timesheet entry:",a),a}},deleteTimesheetEntry:async t=>{try{await Cr.deleteResearchTimesheet(t),r(n=>({researchTimesheets:n.researchTimesheets.filter(a=>a.id!==t)})),e().fetchResearchProjects(!0)}catch(n){throw console.error("Error deleting timesheet entry:",n),n}}})),bve=({isOpen:r,onClose:e,onSubmit:t})=>{const{teamMembers:n}=Dc(),[a,s]=B.useState({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),[i,l]=B.useState({}),c=()=>{const p={};return a.title.trim()||(p.title="Project title is required"),a.description.trim()||(p.description="Description is required"),a.startDate||(p.startDate="Start date is required"),a.leadResearcherId||(p.leadResearcherId="Lead researcher is required"),l(p),Object.keys(p).length===0},u=p=>{p.preventDefault(),c()&&(t({researchCode:a.researchCode,title:a.title,description:a.description,status:a.status,startDate:a.startDate,plannedEndDate:a.endDate||void 0,leadResearcherId:a.leadResearcherId,leadResearcherName:a.leadResearcherName,budget:a.budget||void 0,plannedHours:a.plannedHours||void 0}),s({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),l({}))},d=(p,m)=>{s(y=>({...y,[p]:m})),i[p]&&l(y=>{const g={...y};return delete g[p],g})},f=p=>{const m=n.find(g=>g.id===p),y=m?.userId||p;d("leadResearcherId",y),m&&d("leadResearcherName",m.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(S0,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("input",{type:"text",value:a.researchCode,onChange:p=>d("researchCode",p.target.value.toUpperCase()),placeholder:"e.g., R26001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: RYYXXX (R=Research, YY=Year, XXX=Number)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:a.title,onChange:p=>d("title",p.target.value),placeholder:"Enter project title",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 ${i.title?"border-red-300 bg-red-50":"border-gray-300"}`}),i.title&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.title})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:a.description,onChange:p=>d("description",p.target.value),placeholder:"Enter project description",rows:3,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none ${i.description?"border-red-300 bg-red-50":"border-gray-300"}`}),i.description&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:a.status,onChange:p=>d("status",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lead Researcher ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:a.leadResearcherId,onChange:p=>f(p.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white ${i.leadResearcherId?"border-red-300 bg-red-50":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select a team member"}),n.map(p=>o.jsx("option",{value:p.userId||p.id,children:p.name},p.id))]}),i.leadResearcherId&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.leadResearcherId})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:a.startDate,onChange:p=>d("startDate",p.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 ${i.startDate?"border-red-300 bg-red-50":"border-gray-300"}`}),i.startDate&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.startDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),o.jsx("input",{type:"date",value:a.endDate,onChange:p=>d("endDate",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:a.plannedHours,onChange:p=>d("plannedHours",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:a.budget,onChange:p=>d("budget",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Dt,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Dt,{onClick:u,className:"flex-1",children:"Create Project"})]})]})]})}):null},wve=({isOpen:r,onClose:e,onSubmit:t,project:n})=>{const{teamMembers:a}=Dc(),[s,i]=B.useState({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0,researchCode:n.researchCode||""}),[l,c]=B.useState({});B.useEffect(()=>{r&&(i({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0,researchCode:n.researchCode||""}),c({}))},[r,n]);const u=()=>{const m={};return s.title.trim()||(m.title="Project title is required"),s.description.trim()||(m.description="Description is required"),s.leadResearcherId||(m.leadResearcherId="Lead researcher is required"),c(m),Object.keys(m).length===0},d=m=>{m.preventDefault(),u()&&(t(n.id,{title:s.title,description:s.description,status:s.status,plannedEndDate:s.plannedEndDate||void 0,leadResearcherId:s.leadResearcherId,leadResearcherName:s.leadResearcherName,budget:s.budget||void 0,plannedHours:s.plannedHours||void 0,researchCode:s.researchCode}),e())},f=(m,y)=>{i(g=>({...g,[m]:y})),l[m]&&c(g=>{const v={...g};return delete v[m],v})},p=m=>{const y=a.find(v=>v.id===m),g=y?.userId||m;f("leadResearcherId",g),y&&f("leadResearcherName",y.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(S0,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("input",{type:"text",value:s.researchCode,onChange:m=>f("researchCode",m.target.value.toUpperCase()),placeholder:"e.g., R25001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title"}),o.jsx("input",{type:"text",value:s.title,onChange:m=>f("title",m.target.value),placeholder:"Enter project title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),l.title&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.title})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:s.description,onChange:m=>f("description",m.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"}),l.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:s.status,onChange:m=>f("status",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Researcher"}),o.jsxs("select",{value:s.leadResearcherId,onChange:m=>p(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"",children:"Select a team member"}),a.map(m=>o.jsx("option",{value:m.userId||m.id,children:m.name},m.id))]}),l.leadResearcherId&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.leadResearcherId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned End Date (Optional)"}),o.jsx("input",{type:"date",value:s.plannedEndDate,onChange:m=>f("plannedEndDate",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:s.plannedHours,onChange:m=>f("plannedHours",parseFloat(m.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:s.budget,onChange:m=>f("budget",parseFloat(m.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Dt,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Dt,{onClick:d,className:"flex-1",children:"Update Project"})]})]})]})}):null};function qa(){const r=localStorage.getItem("currentUser");if(!r||r.trim()==="undefined"||r.trim()==="null")return console.warn("Invalid user data in localStorage (null/undefined), using default"),{displayName:"User",email:"user@mycae.com.my",userId:"1",id:"1",name:"User",role:"engineer"};if(r)try{const n=JSON.parse(r);if(!n||typeof n!="object")return console.error("Invalid user object after parsing:",r),localStorage.removeItem("currentUser"),{displayName:"User",email:"user@mycae.com.my",userId:"1",id:"1",name:"User",role:"engineer"};const a=n.id||n.userId||"1",s=n.name||n.displayName||"User";return{displayName:s,email:n.email||"user@mycae.com.my",userId:a,id:a,name:s,role:n.role||n.roles&&n.roles[0]||"engineer",roles:n.roles||(n.role?[n.role]:["engineer"]),department:n.department||"engineering"}}catch(n){console.error("Error parsing user from localStorage:",n),localStorage.removeItem("currentUser")}const e=localStorage.getItem("user_id")||"1",t=localStorage.getItem("user_name")||"User";return{displayName:t,email:localStorage.getItem("user_email")||"user@mycae.com.my",userId:e,id:e,name:t,role:localStorage.getItem("user_role")||"engineer"}}const Cve=()=>{const{researchProjects:r,loading:e,fetchResearchProjects:t,deleteResearchProject:n,updateResearchProject:a}=D0(),{fetchTeamMembers:s}=Dc(),i=qa(),l=i&&nl(i.role||"engineer","canAddProject"),[c,u]=B.useState(""),[d,f]=B.useState("all"),[p,m]=B.useState("researchCode"),[y,g]=B.useState("asc"),[v,w]=B.useState(!1),[S,C]=B.useState(!1),[j,T]=B.useState(!1),[L,I]=B.useState(null),[D,k]=B.useState({isOpen:!1});B.useEffect(()=>{t(),s()},[s]);const z=()=>{if(!l){Ce.error(gA("add research project","senior-engineer"));return}w(!0)},P=Se=>{I(Se),C(!0)},U=Se=>{I(Se),T(!0)},M=async(Se,ne)=>{if(!l){Ce.error(gA("delete research project","senior-engineer"));return}k({isOpen:!0,projectId:Se,title:ne})},q=B.useCallback(Se=>{p===Se?g(ne=>ne==="asc"?"desc":"asc"):(m(Se),g("asc"))},[p]),ae=Se=>p!==Se?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):y==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"}),W=async()=>{if(D.projectId)try{await n(D.projectId),Ce.success("Research project deleted successfully"),t(),k({isOpen:!1})}catch(Se){Rt.error("Failed to delete research project:",Se),Ce.error("Failed to delete research project")}},ee=B.useMemo(()=>r.filter(Se=>{const ne=c===""||Se.title.toLowerCase().includes(c.toLowerCase())||Se.description?.toLowerCase().includes(c.toLowerCase()),F=d==="all"||Se.status===d;return ne&&F}).sort((Se,ne)=>{const F=V=>{switch(p){case"researchCode":return(V.researchCode||"").toLowerCase();case"title":return V.title.toLowerCase();case"leadResearcher":return(V.leadResearcherName||"").toLowerCase();case"status":return{planning:0,"in-progress":1,"on-hold":2,completed:3,archived:4}[V.status]??5;case"hours":return V.totalHoursLogged||0;case"startDate":return new Date(V.startDate).getTime();default:return(V.researchCode||"").toLowerCase()}},Q=F(Se),K=F(ne);if(typeof Q=="string"&&typeof K=="string")return y==="asc"?Q.localeCompare(K):K.localeCompare(Q);{const V=typeof Q=="number"?Q:0,J=typeof K=="number"?K:0;return y==="asc"?V-J:J-V}}),[r,c,d,p,y]),re=Se=>{switch(Se){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-green-100 text-green-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-gray-100 text-gray-800";case"archived":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},pe=Se=>{switch(Se){case"planning":return"Planning";case"in-progress":return"In Progress";case"on-hold":return"On Hold";case"completed":return"Completed";case"archived":return"Archived";default:return Se}};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Research Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track research initiatives and timesheet hours"})]}),l&&o.jsxs("button",{onClick:z,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(jc,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:c,onChange:Se=>u(Se.target.value),placeholder:"Search research projects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(ev,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:d,onChange:Se=>f(Se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("button",{onClick:()=>f("all"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="all"?"ring-2 ring-primary-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Projects"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.length})]}),o.jsxs("button",{onClick:()=>f("planning"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="planning"?"ring-2 ring-blue-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Planning"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.filter(Se=>Se.status==="planning").length})]}),o.jsxs("button",{onClick:()=>f("in-progress"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="in-progress"?"ring-2 ring-green-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.filter(Se=>Se.status==="in-progress").length})]}),o.jsxs("button",{onClick:()=>f("completed"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="completed"?"ring-2 ring-gray-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:r.filter(Se=>Se.status==="completed").length})]}),o.jsxs("button",{onClick:()=>f("on-hold"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="on-hold"?"ring-2 ring-yellow-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"On Hold"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:r.filter(Se=>Se.status==="on-hold").length})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary-600 rounded-full animate-spin"})}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading research projects..."})]}):ee.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"No research projects found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new project to get started"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>q("researchCode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Code ",ae("researchCode")]}),o.jsxs("th",{onClick:()=>q("title"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Title ",ae("title")]}),o.jsxs("th",{onClick:()=>q("leadResearcher"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Lead Researcher ",ae("leadResearcher")]}),o.jsxs("th",{onClick:()=>q("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",ae("status")]}),o.jsxs("th",{onClick:()=>q("hours"),className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",ae("hours")]}),o.jsxs("th",{onClick:()=>q("startDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Start Date ",ae("startDate")]}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(Se=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary-600",children:Se.researchCode||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:Se.title,children:Se.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Se.leadResearcherName||"TBD"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${re(Se.status)}`,children:pe(Se.status)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:[Se.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(Se.startDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>P(Se),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View details",children:o.jsx(Vi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>U(Se),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit project",children:o.jsx(l7,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>M(Se.id,Se.title),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete project",children:o.jsx(Ns,{className:"w-4 h-4"})})]})})]},Se.id))})]})})})]}),v&&o.jsx(bve,{isOpen:v,onClose:()=>w(!1),onSubmit:async Se=>{try{await D0.getState().addResearchProject(Se),Ce.success("Research project created successfully"),w(!1),t()}catch{Ce.error("Failed to create research project")}}}),S&&L&&o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>{C(!1),I(null)}}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:L.title}),o.jsx("p",{className:"text-gray-600 mb-4",children:L.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsx("p",{className:"text-lg",children:pe(L.status)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Hours"}),o.jsxs("p",{className:"text-lg",children:[L.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),o.jsx("p",{className:"text-lg",children:new Date(L.startDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Lead Researcher"}),o.jsx("p",{className:"text-lg",children:L.leadResearcherName||"TBD"})]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>{C(!1),I(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]}),j&&L&&o.jsx(wve,{isOpen:j,onClose:()=>{T(!1),I(null)},project:L,onSubmit:async(Se,ne)=>{try{await a(Se,ne),Ce.success("Research project updated successfully!"),T(!1),I(null),t()}catch(F){Ce.error("Failed to update research project"),Rt.error("Update error:",F)}}}),o.jsx(G0,{isOpen:D.isOpen,onClose:()=>k({isOpen:!1}),onConfirm:W,title:"Delete Research Project",message:`Are you sure you want to delete "${D.title}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},Nve=({isOpen:r,onClose:e,onSuccess:t})=>{const[n,a]=B.useState({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),[s,i]=B.useState(!1),[l,c]=B.useState(null),[u,d]=B.useState(!1),f=async y=>{if(y.preventDefault(),!n.name||!n.email){Ce.error("Please fill in all required fields");return}i(!0);try{const g={name:n.name,email:n.email,phone:n.phone,role:n.role,department:n.department,employment_type:"full-time",status:"active"},v=await Cr.createTeamMember(g);v&&(v.tempPassword?c({tempPassword:v.tempPassword,name:n.name,email:n.email,message:v.message}):(Ce.success(`Team member ${n.name} added successfully!`),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()))}catch(g){const v=g?.response?.data?.error||(Array.isArray(g?.response?.data?.errors)?g.response.data.errors[0]?.msg:"")||g?.message||"Failed to add team member";Rt.error("Error adding team member:",v),Ce.error(v)}finally{i(!1)}};if(!r)return null;const p=y=>{navigator.clipboard.writeText(y),d(!0),setTimeout(()=>d(!1),2e3)},m=()=>{c(null),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()};return l?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-green-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Team Member Created"}),o.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsx("p",{className:"text-green-800",children:l.message})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Team Member Name"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Temporary Password"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"text",value:l.tempPassword,readOnly:!0,className:"flex-1 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg font-mono text-sm"}),o.jsx("button",{onClick:()=>p(l.tempPassword),className:"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",title:"Copy to clipboard",children:u?o.jsx(vy,{className:"w-4 h-4"}):o.jsx(TZ,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Share this password with the team member. They must change it on first login."})]})]}),o.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:o.jsx("button",{onClick:m,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})})]})]})})]}):o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:f,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(bu,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:n.name,onChange:y=>a({...n,name:y.target.value}),placeholder:"e.g., John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ag,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:n.email,onChange:y=>a({...n,email:y.target.value}),placeholder:"john@mycae.com.my",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(iC,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:n.phone,onChange:y=>a({...n,phone:y.target.value}),placeholder:"+60 12-345 6789",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:n.role,onChange:y=>a({...n,role:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineer",children:"Engineer"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineer"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineer"}),o.jsx("option",{value:"manager",children:"Manager"}),o.jsx("option",{value:"managing-director",children:"Managing Director"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(wd,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:n.department,onChange:y=>a({...n,department:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Active:"})," This team member will be created with a user account and saved to the database."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:s,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Team Member"})]})]})]})})]})},SK=r=>Array.from({length:10},(e,t)=>{const n=String(t+1).padStart(2,"0");return{id:`${r}-${n}`,gender:r,path:`/assets/avatars/${r}/${r}-${n}.svg`,alt:`${r.charAt(0).toUpperCase()+r.slice(1)} Avatar ${t+1}`}}),BK=SK("male"),Sve=SK("female"),EK=[...BK,...Sve],jK=r=>EK.find(t=>t.id===r)?.path||BK[0].path,Bve=({selectedAvatar:r,onSelect:e,size:t="md"})=>{const n={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return o.jsxs("div",{className:"avatar-picker",children:[o.jsx("div",{className:"overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-3 min-w-max",children:EK.map(a=>o.jsx("button",{type:"button",onClick:()=>e(a.id),className:_r("rounded-full border-4 transition-all hover:scale-110 flex-shrink-0",r===a.id?"border-blue-500 ring-2 ring-blue-300":"border-gray-200 hover:border-gray-400"),children:o.jsx("img",{src:jK(a.id),alt:a.alt,className:_r("rounded-full",n[t])})},a.id))})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scroll right to see more avatars "})]})},Eve=({isOpen:r,onClose:e,onSuccess:t,teamMemberId:n,initialData:a})=>{const{user:s}=cf(),{updateTeamMember:i}=Dc(),[l,c]=B.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",roles:a?.roles||[a?.role||"engineer"],department:a?.department||"engineering",avatar:a?.avatar||"male-01"}),[u,d]=B.useState(!1),[f,p]=B.useState(!0),[m,y]=B.useState("");B.useEffect(()=>{if(a&&r){const v={name:a.name||"",email:a.email||"",phone:a.phone||"",roles:a.roles||[a.role||"engineer"],department:a.department||"engineering",avatar:a.avatar||"male-01"};if(c(v),a.user_id===s?.id||a.email===s?.email)p(!0),y("");else{const S=s?.roles||[s?.role||"engineer"];nl(S,"canEditTeamMember")?(p(!0),y("")):(p(!1),y("Only Principal Engineers, Managers, Managing Directors, and Admins can edit team members"))}}},[a,s,r]);const g=async v=>{if(v.preventDefault(),!f){Ce.error(m);return}if(!l.name||!l.email||!n){Ce.error("Please fill in all required fields");return}d(!0);try{if(Rt.debug("EDIT TEAM MEMBER START"),Rt.debug("Team Member ID:",n),!n){Ce.error("Team member ID is missing"),d(!1);return}const w=a?.user_id===s?.id||a?.email===s?.email,S={name:l.name,email:l.email,phone:l.phone,department:l.department,avatar:l.avatar};w||(S.roles=l.roles),Rt.debug("Form Data being sent:",S),Rt.debug("Is editing self:",w),await i(n,S),Rt.debug("Team member updated successfully"),Ce.success("Team member updated successfully!"),e(),t&&(Rt.debug("Calling onSuccess callback"),t()),Rt.debug("EDIT TEAM MEMBER END")}catch(w){Rt.error("Error in edit team member:",w),Rt.error("Error response:",w?.response),Rt.error("Error response data:",w?.response?.data);const S=w?.response?.data?.error||(Array.isArray(w?.response?.data?.errors)?w.response.data.errors[0]?.msg:"")||w?.message||"Failed to update team member";Rt.error("Error updating team member:",S),Ce.error(S)}finally{d(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),!f&&o.jsxs("div",{className:"m-6 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-3",children:[o.jsx(Cs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:m}),o.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Contact a Principal Engineer, Manager, Managing Director, or Admin to make changes"})]})]}),o.jsxs("form",{onSubmit:g,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(bu,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),placeholder:"e.g., John Doe",disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Avatar"}),o.jsx(Bve,{selectedAvatar:l.avatar,onSelect:v=>c({...l,avatar:v})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ag,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),placeholder:"john@mycae.com.my",disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(iC,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),placeholder:"+60 12-345 6789",disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Roles ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(Select one or more)"})]}),o.jsx("div",{className:"space-y-2",children:[{value:"engineer",label:"Engineer"},{value:"senior-engineer",label:"Senior Engineer"},{value:"principal-engineer",label:"Principal Engineer"},{value:"manager",label:"Manager"},{value:"managing-director",label:"Managing Director"},{value:"admin",label:"Admin"}].map(v=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.roles.includes(v.value),onChange:w=>{const S=v.value;w.target.checked?c({...l,roles:[...l.roles,S]}):l.roles.length>1&&c({...l,roles:l.roles.filter(C=>C!==S)})},disabled:!f||u||l.roles.length===1&&l.roles.includes(v.value),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${!f||u?"text-gray-400":"text-gray-700"}`,children:v.label})]},v.value))}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"At least one role must be selected"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(wd,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:l.department,onChange:v=>c({...l,department:v.target.value}),disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),f&&o.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Info:"})," Changes will be saved to the team member's profile."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:u,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!f||u,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Save Changes"})]})]})]})})]}):null},jve=r=>({engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"})[r]||r,_ve=()=>{const{teamMembers:r,fetchTeamMembers:e,deleteTeamMember:t,reactivateTeamMember:n}=Dc(),[a,s]=B.useState(""),[i,l]=B.useState("all"),[c,u]=B.useState("active"),[d,f]=B.useState(!1),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState({isOpen:!1}),S=qa(),C=S?.role||"engineer",j=S?.roles||[C],T=lC(j);B.useEffect(()=>{e({status:c==="all"?void 0:c})},[e,c]);const L=()=>{if(!T.canAddTeamMember){Ce.error("You need Principal Engineer level or higher to add team members");return}f(!0)},I=M=>{if(!T.canEditTeamMember){Ce.error("You do not have permission to edit team members");return}if(C==="senior-engineer"&&S?.department&&M?.department&&S.department!==M.department){Ce.error("Senior Engineers can only edit team members in their own department");return}g(M),m(!0)},D=async M=>{if(!T.canDeleteTeamMember){Ce.error("You do not have permission to delete team members");return}if(C==="senior-engineer"&&S?.department&&M?.department&&S.department!==M.department){Ce.error("Senior Engineers can only delete team members in their own department");return}w({isOpen:!0,action:"deactivate",memberName:M?.name,memberId:M.id})},k=async()=>{if(!(!v.memberId||!v.action))try{v.action==="deactivate"?(await t(v.memberId),Ce.success(`${v.memberName||"Team member"} has been deactivated successfully`)):v.action==="reactivate"&&(await n(v.memberId),Ce.success(`${v.memberName||"Team member"} has been reactivated successfully`)),e({status:c==="all"?void 0:c}),w({isOpen:!1})}catch{Ce.error(`Failed to ${v.action} team member`)}},z=async M=>{if(!T.canDeleteTeamMember){Ce.error("You do not have permission to reactivate team members");return}w({isOpen:!0,action:"reactivate",memberName:M?.name,memberId:M.id})},P=r.filter(M=>{const q=a===""||M.name&&M.name.toLowerCase().includes(a.toLowerCase())||M.department&&M.department.toLowerCase().includes(a.toLowerCase()),ae=i==="all"||M.role===i;return q&&ae}),U=M=>{switch(M){case"engineer":return"bg-blue-100 text-blue-800";case"senior-engineer":return"bg-indigo-100 text-indigo-800";case"principal-engineer":return"bg-purple-100 text-purple-800";case"manager":return"bg-green-100 text-green-800";case"managing-director":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx(q7,{title:"Team",description:"Manage your team members and track their workload",action:T.canAddTeamMember?o.jsxs("button",{onClick:L,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),"Add Team Member"]}):void 0}),o.jsx(Gr,{variant:"stat",padding:"sm",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(jc,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:M=>s(M.target.value),placeholder:"Search by name or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{children:o.jsxs("select",{value:i,onChange:M=>l(M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"engineer",children:"Engineers"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineers"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineers"}),o.jsx("option",{value:"manager",children:"Managers"}),o.jsx("option",{value:"managing-director",children:"Managing Directors"})]})}),o.jsx("div",{children:o.jsxs("select",{value:c,onChange:M=>u(M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"active",children:"Active Members"}),o.jsx("option",{value:"inactive",children:"Inactive Members"}),o.jsx("option",{value:"all",children:"All Members"})]})})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[o.jsx(AA,{title:"Total",value:r.length,color:"gray"}),o.jsx(AA,{title:"Engineers",value:r.filter(M=>M.role==="engineer").length,color:"blue"}),o.jsx(AA,{title:"Senior Eng",value:r.filter(M=>M.role==="senior-engineer").length,color:"indigo"}),o.jsx(AA,{title:"Principal Eng",value:r.filter(M=>M.role==="principal-engineer").length,color:"purple"}),o.jsx(AA,{title:"Managers",value:r.filter(M=>M.role==="manager").length,color:"green"}),o.jsx(AA,{title:"Man. Directors",value:r.filter(M=>M.role==="managing-director").length,color:"red"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(M=>o.jsxs(Gr,{variant:"stat",className:"hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:jK(M.avatar||"male-01"),alt:M.name,className:`w-16 h-16 rounded-full ${M.status==="inactive"?"opacity-50 grayscale":""}`}),M.status==="inactive"&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Inactive"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(M.roles||[M.role]).map(q=>o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U(q)}`,children:jve(q)},q))})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[o.jsx(wd,{className:"w-4 h-4"}),o.jsx("span",{children:M.department})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Ag,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${M.email}`,className:"hover:text-primary-600 transition-colors truncate",children:M.email})]}),M.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(iC,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${M.phone}`,className:"hover:text-primary-600 transition-colors",children:M.phone})]})]}),M.certifications&&M.certifications.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[o.jsx(iZ,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Certifications"})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.certifications.slice(0,2).map((q,ae)=>o.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",title:q,children:q.length>25?q.substring(0,25)+"...":q},ae)),M.certifications.length>2&&o.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["+",M.certifications.length-2," more"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:M.activeProjects}),o.jsx("div",{className:"text-xs text-gray-600",children:"Active Projects"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-600",children:M.totalHoursThisMonth}),o.jsx("div",{className:"text-xs text-gray-600",children:"Hours This Month"})]})]}),o.jsx("div",{className:"mt-4 flex gap-2",children:M.status==="active"?o.jsxs(o.Fragment,{children:[T.canEditTeamMember&&o.jsxs("button",{onClick:()=>I(M),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",children:[o.jsx(cl,{className:"w-4 h-4"}),"Edit"]}),T.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>D(M),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Deactivate"]})]}):o.jsx(o.Fragment,{children:T.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>z(M),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",children:[o.jsx(oC,{className:"w-4 h-4"}),"Reactivate"]})})})]},M.id))}),o.jsx(Nve,{isOpen:d,onClose:()=>f(!1),onSuccess:()=>{e(),f(!1)}}),y&&o.jsx(Eve,{isOpen:p,onClose:()=>{m(!1),g(null)},teamMemberId:y.id,initialData:{id:y.id,name:y.name,email:y.email,phone:y.phone,role:y.role,department:y.department},onSuccess:()=>{e(),m(!1),g(null)}}),o.jsx(G0,{isOpen:v.isOpen,onClose:()=>w({isOpen:!1}),onConfirm:k,title:v.action==="deactivate"?"Deactivate Team Member":"Reactivate Team Member",message:v.action==="deactivate"?`Are you sure you want to deactivate ${v.memberName||"this team member"}? This will mark them as inactive.`:`Are you sure you want to reactivate ${v.memberName||"this team member"}?`,variant:v.action==="deactivate"?"warning":"info",confirmText:v.action==="deactivate"?"Deactivate":"Reactivate",cancelText:"Cancel"})]})})};var v2={};v2.version="0.18.5";var _K=1252,Tve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],TK=function(r){Tve.indexOf(r)!=-1&&(_K=r)};function kve(){TK(1252)}var ky=function(r){TK(r)};function Fve(){ky(1200),kve()}var sb=function(e){return String.fromCharCode(e)},FL=function(e){return String.fromCharCode(e)},b2,Uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fy(r){for(var e="",t=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<r.length;)t=r.charCodeAt(u++),s=t>>2,n=r.charCodeAt(u++),i=(t&3)<<4|n>>4,a=r.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=Uh.charAt(s)+Uh.charAt(i)+Uh.charAt(l)+Uh.charAt(c);return e}function _d(r){var e="",t=0,n=0,a=0,s=0,i=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)s=Uh.indexOf(r.charAt(u++)),i=Uh.indexOf(r.charAt(u++)),t=s<<2|i>>4,e+=String.fromCharCode(t),l=Uh.indexOf(r.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Uh.indexOf(r.charAt(u++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var _n=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),zd=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function P0(r){return _n?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function OL(r){return _n?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var yu=function(e){return _n?zd(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function YC(r){if(typeof ArrayBuffer>"u")return yu(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function wv(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function Ove(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var zi=_n?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:zd(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Dve(r){for(var e=[],t=0,n=r.length+250,a=P0(r.length+255),s=0;s<r.length;++s){var i=r.charCodeAt(s);if(i<128)a[t++]=i;else if(i<2048)a[t++]=192|i>>6&31,a[t++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=r.charCodeAt(++s)&1023;a[t++]=240|i>>8&7,a[t++]=128|i>>2&63,a[t++]=128|l>>6&15|(i&3)<<4,a[t++]=128|l&63}else a[t++]=224|i>>12&15,a[t++]=128|i>>6&63,a[t++]=128|i&63;t>n&&(e.push(a.slice(0,t)),t=0,a=P0(65535),n=65530)}return e.push(a.slice(0,t)),zi(e)}var ay=/\u0000/g,ib=/[\u0001-\u0006]/g;function Bp(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function vu(r,e){var t=""+r;return t.length>=e?t:is("0",e-t.length)+t}function b3(r,e){var t=""+r;return t.length>=e?t:is(" ",e-t.length)+t}function w2(r,e){var t=""+r;return t.length>=e?t:t+is(" ",e-t.length)}function Pve(r,e){var t=""+Math.round(r);return t.length>=e?t:is("0",e-t.length)+t}function Ive(r,e){var t=""+r;return t.length>=e?t:is("0",e-t.length)+t}var DL=Math.pow(2,32);function Ym(r,e){if(r>DL||r<-DL)return Pve(r,e);var t=Math.round(r);return Ive(t,e)}function C2(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var PL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],IB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lve(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var ls={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},IL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Mve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function N2(r,e,t){for(var n=r<0?-1:1,a=r*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<e&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>e&&(u>e?(d=c,l=s):(d=u,l=i)),!t)return[0,n*l,d];var p=Math.floor(n*l/d);return[p,n*l-p*d,d]}function ob(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),s=0,i=[],l={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),t&&(s=$ve(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var kK=new Date(1899,11,31,0,0,0),Rve=kK.getTime(),Uve=new Date(1900,2,1,0,0,0);function FK(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=Uve&&(t+=1440*60*1e3),(t-(Rve+(r.getTimezoneOffset()-kK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function w3(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Qve(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Hve(r){var e=r<0?12:11,t=w3(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function zve(r){var e=w3(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function Kve(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=Hve(r):e===10?t=r.toFixed(10).substr(0,12):t=zve(r),w3(Qve(t.toUpperCase()))}function aj(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Kve(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return ef(14,FK(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function $ve(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function Vve(r,e,t,n){var a="",s=0,i=0,l=t.y,c,u=0;switch(r){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return IB[t.m-1][1];case 5:return IB[t.m-1][0];default:return IB[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return PL[t.q][0];default:return PL[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?vu(t.S,e.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(t.S+t.u)),s>=60*i&&(s=0),e==="s"?s===0?"0":""+s/i:(a=vu(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?vu(c,u):"";return d}function Qh(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var OK=/%/g;function qve(r,e,t){var n=e.replace(OK,""),a=e.length-n.length;return pd(r,n,t*Math.pow(10,2*a))+is("%",a)}function Gve(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pd(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function DK(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+DK(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),t.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+s):t+="E+"+(i-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var PK=/# (\?+)( ?)\/( ?)(\d+)/;function Wve(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),s=Math.floor(a/n),i=a-s*n,l=n;return t+(s===0?"":""+s)+" "+(i===0?is(" ",r[1].length+1+r[4].length):b3(i,r[1].length)+r[2]+"/"+r[3]+vu(l,r[4].length))}function Yve(r,e,t){return t+(e===0?"":""+e)+is(" ",r[1].length+2+r[4].length)}var IK=/^#*0*\.([0#]+)/,LK=/\).*[0#]/,MK=/\(###\) ###\\?-####/;function Co(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function LL(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function ML(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function Xve(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function Jve(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function yc(r,e,t){if(r.charCodeAt(0)===40&&!e.match(LK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?yc("n",n,t):"("+yc("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Gve(r,e,t);if(e.indexOf("%")!==-1)return qve(r,e,t);if(e.indexOf("E")!==-1)return DK(e,t);if(e.charCodeAt(0)===36)return"$"+yc(r,e.substr(e.charAt(1)==" "?2:1),t);var a,s,i,l,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Ym(c,e.length);if(e.match(/^[#?]+$/))return a=Ym(t,0),a==="0"&&(a=""),a.length>e.length?a:Co(e.substr(0,e.length-a.length))+a;if(s=e.match(PK))return Wve(s,c,u);if(e.match(/^#+0+$/))return u+Ym(c,e.length-e.indexOf("0"));if(s=e.match(IK))return a=LL(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Co(s[1])).replace(/\.$/,"."+Co(s[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+is("0",Co(s[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+LL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Qh(Ym(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+yc(r,e,-t):Qh(""+(Math.floor(t)+Xve(t,s[1].length)))+"."+vu(ML(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return yc(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Bp(yc(r,e.replace(/[\\-]/g,""),t)),i=0,Bp(Bp(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<a.length?a.charAt(i++):y==="0"?"0":""}));if(e.match(MK))return a=yc(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=N2(c,Math.pow(10,i)-1,!1),a=""+u,d=pd("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=w2(l[2],i),d.length<s[4].length&&(d=Co(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=N2(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?b3(l[1],i)+s[2]+"/"+s[3]+w2(l[2],i):is(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=Ym(t,0),e.length<=a.length?a:Co(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=e.indexOf(".")-i,p=e.length-a.length-f;return Co(e.substr(0,f)+a+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return i=ML(t,s[1].length),t<0?"-"+yc(r,e,-t):Qh(Jve(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?vu(0,3-y.length):"")+y})+"."+vu(i,s[1].length);switch(e){case"###,##0.00":return yc(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Qh(Ym(c,0));return m!=="0"?u+m:"";case"###,###.00":return yc(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return yc(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Zve(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pd(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function e1e(r,e,t){var n=e.replace(OK,""),a=e.length-n.length;return pd(r,n,t*Math.pow(10,2*a))+is("%",a)}function RK(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+RK(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!t.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+s):t+="E+"+(i-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function sA(r,e,t){if(r.charCodeAt(0)===40&&!e.match(LK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?sA("n",n,t):"("+sA("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Zve(r,e,t);if(e.indexOf("%")!==-1)return e1e(r,e,t);if(e.indexOf("E")!==-1)return RK(e,t);if(e.charCodeAt(0)===36)return"$"+sA(r,e.substr(e.charAt(1)==" "?2:1),t);var a,s,i,l,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+vu(c,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Co(e.substr(0,e.length-a.length))+a;if(s=e.match(PK))return Yve(s,c,u);if(e.match(/^#+0+$/))return u+vu(c,e.length-e.indexOf("0"));if(s=e.match(IK))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Co(s[1])).replace(/\.$/,"."+Co(s[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+is("0",Co(s[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Qh(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+sA(r,e,-t):Qh(""+t)+"."+is("0",s[1].length);if(s=e.match(/^#,#*,#0/))return sA(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Bp(sA(r,e.replace(/[\\-]/g,""),t)),i=0,Bp(Bp(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<a.length?a.charAt(i++):y==="0"?"0":""}));if(e.match(MK))return a=sA(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=N2(c,Math.pow(10,i)-1,!1),a=""+u,d=pd("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=w2(l[2],i),d.length<s[4].length&&(d=Co(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=N2(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?b3(l[1],i)+s[2]+"/"+s[3]+w2(l[2],i):is(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Co(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=e.indexOf(".")-i,p=e.length-a.length-f;return Co(e.substr(0,f)+a+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+sA(r,e,-t):Qh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?vu(0,3-y.length):"")+y})+"."+vu(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Qh(""+c);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return sA(r,e.slice(0,e.lastIndexOf(".")),t)+Co(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pd(r,e,t){return(t|0)===t?sA(r,e,t):yc(r,e,t)}function t1e(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var UK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function QK(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":C2(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(UK))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function r1e(r,e,t,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,p="H";i<r.length;)switch(l=r.charAt(i)){case"G":if(!C2(r,i))throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=r.charCodeAt(++i))!==34&&i<r.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=r.charAt(++i),y=m==="("||m===")"?m:"t";a[a.length]={t:y,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:e},++i;break;case"B":case"b":if(r.charAt(i+1)==="1"||r.charAt(i+1)==="2"){if(u==null&&(u=ob(e,t,r.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:r.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=ob(e,t),u==null))return"";for(s=l;++i<r.length&&r.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=ob(e,t)),r.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",p="h",i+=3):r.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,p="h"):r.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,p="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;r.charAt(i++)!=="]"&&i<r.length;)s+=r.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(UK)){if(u==null&&(u=ob(e,t),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",QK(r)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<r.length&&(l=r.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;r.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(r.charAt(i)==" "||r.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<r.length&&"0123456789".indexOf(r.charAt(++i))>-1;)s+=r.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"t",v:l},++i;break}var v=0,w=0,S;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=p,c="h",v<1&&(v=1);break;case"s":(S=a[i].v.match(/\.0+$/))&&(w=Math.max(w,S[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",j;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Vve(a[i].t.charCodeAt(0),a[i].v,u,w),a[i].t="t";break;case"n":case"?":for(j=i+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[i].v+=a[j].v,a[j]={v:"",t:";"},++j;C+=a[i].v,i=j-1;break;case"G":a[i].t="t",a[i].v=aj(e,t);break}var T="",L,I;if(C.length>0){C.charCodeAt(0)==40?(L=e<0&&C.charCodeAt(0)===45?-e:e,I=pd("n",C,L)):(L=e<0&&n>1?-e:e,I=pd("n",C,L),L<0&&a[0]&&a[0].t=="t"&&(I=I.substr(1),a[0].v="-"+a[0].v)),j=I.length-1;var D=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){D=i;break}var k=a.length;if(D===a.length&&I.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(j>=a[i].v.length-1?(j-=a[i].v.length,a[i].v=I.substr(j+1,a[i].v.length)):j<0?a[i].v="":(a[i].v=I.substr(0,j+1),j=-1),a[i].t="t",k=i);j>=0&&k<a.length&&(a[k].v=I.substr(0,j+1)+a[k].v)}else if(D!==a.length&&I.indexOf("E")===-1){for(j=I.indexOf(".")-1,i=D;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===D?a[i].v.indexOf(".")-1:a[i].v.length-1,T=a[i].v.substr(d+1);d>=0;--d)j>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(T=I.charAt(j--)+T);a[i].v=T,a[i].t="t",k=i}for(j>=0&&k<a.length&&(a[k].v=I.substr(0,j+1)+a[k].v),j=I.indexOf(".")+1,i=D;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==D)){for(d=a[i].v.indexOf(".")>-1&&i===D?a[i].v.indexOf(".")+1:0,T=a[i].v.substr(0,d);d<a[i].v.length;++d)j<I.length&&(T+=I.charAt(j++));a[i].v=T,a[i].t="t",k=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(L=n>1&&e<0&&i>0&&a[i-1].v==="-"?-e:e,a[i].v=pd(a[i].t,a[i].v,L),a[i].t="t");var z="";for(i=0;i!==a.length;++i)a[i]!=null&&(z+=a[i].v);return z}var RL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function UL(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function n1e(r,e){var t=t1e(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var i=t[0].match(RL),l=t[1].match(RL);return UL(e,i)?[n,t[0]]:UL(e,l)?[n,t[1]]:[n,t[i!=null&&l!=null?2:1]]}return[n,s]}function ef(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:ls)[r],n==null&&(n=t.table&&t.table[IL[r]]||ls[IL[r]]),n==null&&(n=Mve[r]||"General");break}if(C2(n,0))return aj(e,t);e instanceof Date&&(e=FK(e,t.date1904));var a=n1e(n,e);if(C2(a[1]))return aj(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return r1e(a[1],e,t,a[0])}function HK(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(ls[t]==null){e<0&&(e=t);continue}if(ls[t]==r){e=t;break}}e<0&&(e=391)}return ls[e]=r,e}function XC(r){for(var e=0;e!=392;++e)r[e]!==void 0&&HK(r[e],e)}function JC(){ls=Lve()}var zK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function a1e(r){var e=typeof r=="number"?ls[r]:r;return e=e.replace(zK,"(\\d+)"),new RegExp("^"+e+"$")}function s1e(r,e,t){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(e.match(zK)||[]).forEach(function(f,p){var m=parseInt(t[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var i1e=(function(){var r={};r.version="1.2.0";function e(){for(var I=0,D=new Array(256),k=0;k!=256;++k)I=k,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,D[k]=I;return typeof Int32Array<"u"?new Int32Array(D):D}var t=e();function n(I){var D=0,k=0,z=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)P[z]=I[z];for(z=0;z!=256;++z)for(k=I[z],D=256+z;D<4096;D+=256)k=P[D]=k>>>8^I[k&255];var U=[];for(z=1;z!=16;++z)U[z-1]=typeof Int32Array<"u"?P.subarray(z*256,z*256+256):P.slice(z*256,z*256+256);return U}var a=n(t),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],p=a[7],m=a[8],y=a[9],g=a[10],v=a[11],w=a[12],S=a[13],C=a[14];function j(I,D){for(var k=D^-1,z=0,P=I.length;z<P;)k=k>>>8^t[(k^I.charCodeAt(z++))&255];return~k}function T(I,D){for(var k=D^-1,z=I.length-15,P=0;P<z;)k=C[I[P++]^k&255]^S[I[P++]^k>>8&255]^w[I[P++]^k>>16&255]^v[I[P++]^k>>>24]^g[I[P++]]^y[I[P++]]^m[I[P++]]^p[I[P++]]^f[I[P++]]^d[I[P++]]^u[I[P++]]^c[I[P++]]^l[I[P++]]^i[I[P++]]^s[I[P++]]^t[I[P++]];for(z+=15;P<z;)k=k>>>8^t[(k^I[P++])&255];return~k}function L(I,D){for(var k=D^-1,z=0,P=I.length,U=0,M=0;z<P;)U=I.charCodeAt(z++),U<128?k=k>>>8^t[(k^U)&255]:U<2048?(k=k>>>8^t[(k^(192|U>>6&31))&255],k=k>>>8^t[(k^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,M=I.charCodeAt(z++)&1023,k=k>>>8^t[(k^(240|U>>8&7))&255],k=k>>>8^t[(k^(128|U>>2&63))&255],k=k>>>8^t[(k^(128|M>>6&15|(U&3)<<4))&255],k=k>>>8^t[(k^(128|M&63))&255]):(k=k>>>8^t[(k^(224|U>>12&15))&255],k=k>>>8^t[(k^(128|U>>6&63))&255],k=k>>>8^t[(k^(128|U&63))&255]);return~k}return r.table=t,r.bstr=j,r.buf=T,r.str=L,r})(),ea=(function(){var e={};e.version="1.2.1";function t(se,ve){for(var de=se.split("/"),he=ve.split("/"),me=0,we=0,Ue=Math.min(de.length,he.length);me<Ue;++me){if(we=de[me].length-he[me].length)return we;if(de[me]!=he[me])return de[me]<he[me]?-1:1}return de.length-he.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var ve=se.lastIndexOf("/");return ve===-1?se:se.slice(0,ve+1)}function a(se){if(se.charAt(se.length-1)=="/")return a(se.slice(0,-1));var ve=se.lastIndexOf("/");return ve===-1?se:se.slice(ve+1)}function s(se,ve){typeof ve=="string"&&(ve=new Date(ve));var de=ve.getHours();de=de<<6|ve.getMinutes(),de=de<<5|ve.getSeconds()>>>1,se.write_shift(2,de);var he=ve.getFullYear()-1980;he=he<<4|ve.getMonth()+1,he=he<<5|ve.getDate(),se.write_shift(2,he)}function i(se){var ve=se.read_shift(2)&65535,de=se.read_shift(2)&65535,he=new Date,me=de&31;de>>>=5;var we=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(we-1),he.setDate(me);var Ue=ve&31;ve>>>=5;var tt=ve&63;return ve>>>=6,he.setHours(ve),he.setMinutes(tt),he.setSeconds(Ue<<1),he}function l(se){Il(se,0);for(var ve={},de=0;se.l<=se.length-4;){var he=se.read_shift(2),me=se.read_shift(2),we=se.l+me,Ue={};he===21589&&(de=se.read_shift(1),de&1&&(Ue.mtime=se.read_shift(4)),me>5&&(de&2&&(Ue.atime=se.read_shift(4)),de&4&&(Ue.ctime=se.read_shift(4))),Ue.mtime&&(Ue.mt=new Date(Ue.mtime*1e3))),se.l=we,ve[he]=Ue}return ve}var c;function u(){return c||(c={})}function d(se,ve){if(se[0]==80&&se[1]==75)return or(se,ve);if((se[0]|32)==109&&(se[1]|32)==105)return sr(se,ve);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var de=3,he=512,me=0,we=0,Ue=0,tt=0,He=0,ze=[],$e=se.slice(0,512);Il($e,0);var yt=f($e);switch(de=yt[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(yt[1]==0)return or(se,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&($e=se.slice(0,he),Il($e,28));var St=se.slice(0,he);p($e,de);var kt=$e.read_shift(4,"i");if(de===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);$e.l+=4,Ue=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),tt=$e.read_shift(4,"i"),me=$e.read_shift(4,"i"),He=$e.read_shift(4,"i"),we=$e.read_shift(4,"i");for(var Ct=-1,jt=0;jt<109&&(Ct=$e.read_shift(4,"i"),!(Ct<0));++jt)ze[jt]=Ct;var $t=m(se,he);v(He,we,$t,he,ze);var Nn=S($t,Ue,ze,he);Nn[Ue].name="!Directory",me>0&&tt!==M&&(Nn[tt].name="!MiniFAT"),Nn[ze[0]].name="!FAT",Nn.fat_addrs=ze,Nn.ssz=he;var Vr={},kn=[],Si=[],fl=[];C(Ue,Nn,$t,kn,me,Vr,Si,tt),y(Si,fl,kn),kn.shift();var ml={FileIndex:Si,FullPaths:fl};return ve&&ve.raw&&(ml.raw={header:St,sectors:$t}),ml}function f(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(q,"Header Signature: "),se.l+=16;var ve=se.read_shift(2,"u");return[se.read_shift(2,"u"),ve]}function p(se,ve){var de=9;switch(se.l+=2,de=se.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function m(se,ve){for(var de=Math.ceil(se.length/ve)-1,he=[],me=1;me<de;++me)he[me-1]=se.slice(me*ve,(me+1)*ve);return he[de-1]=se.slice(de*ve),he}function y(se,ve,de){for(var he=0,me=0,we=0,Ue=0,tt=0,He=de.length,ze=[],$e=[];he<He;++he)ze[he]=$e[he]=he,ve[he]=de[he];for(;tt<$e.length;++tt)he=$e[tt],me=se[he].L,we=se[he].R,Ue=se[he].C,ze[he]===he&&(me!==-1&&ze[me]!==me&&(ze[he]=ze[me]),we!==-1&&ze[we]!==we&&(ze[he]=ze[we])),Ue!==-1&&(ze[Ue]=he),me!==-1&&he!=ze[he]&&(ze[me]=ze[he],$e.lastIndexOf(me)<tt&&$e.push(me)),we!==-1&&he!=ze[he]&&(ze[we]=ze[he],$e.lastIndexOf(we)<tt&&$e.push(we));for(he=1;he<He;++he)ze[he]===he&&(we!==-1&&ze[we]!==we?ze[he]=ze[we]:me!==-1&&ze[me]!==me&&(ze[he]=ze[me]));for(he=1;he<He;++he)if(se[he].type!==0){if(tt=he,tt!=ze[tt])do tt=ze[tt],ve[he]=ve[tt]+"/"+ve[he];while(tt!==0&&ze[tt]!==-1&&tt!=ze[tt]);ze[he]=-1}for(ve[0]+="/",he=1;he<He;++he)se[he].type!==2&&(ve[he]+="/")}function g(se,ve,de){for(var he=se.start,me=se.size,we=[],Ue=he;de&&me>0&&Ue>=0;)we.push(ve.slice(Ue*U,Ue*U+U)),me-=U,Ue=e0(de,Ue*4);return we.length===0?ot(0):zi(we).slice(0,se.size)}function v(se,ve,de,he,me){var we=M;if(se===M){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ue=de[se],tt=(he>>>2)-1;if(!Ue)return;for(var He=0;He<tt&&(we=e0(Ue,He*4))!==M;++He)me.push(we);v(e0(Ue,he-4),ve-1,de,he,me)}}function w(se,ve,de,he,me){var we=[],Ue=[];me||(me=[]);var tt=he-1,He=0,ze=0;for(He=ve;He>=0;){me[He]=!0,we[we.length]=He,Ue.push(se[He]);var $e=de[Math.floor(He*4/he)];if(ze=He*4&tt,he<4+ze)throw new Error("FAT boundary crossed: "+He+" 4 "+he);if(!se[$e])break;He=e0(se[$e],ze)}return{nodes:we,data:GL([Ue])}}function S(se,ve,de,he){var me=se.length,we=[],Ue=[],tt=[],He=[],ze=he-1,$e=0,yt=0,St=0,kt=0;for($e=0;$e<me;++$e)if(tt=[],St=$e+ve,St>=me&&(St-=me),!Ue[St]){He=[];var Ct=[];for(yt=St;yt>=0;){Ct[yt]=!0,Ue[yt]=!0,tt[tt.length]=yt,He.push(se[yt]);var jt=de[Math.floor(yt*4/he)];if(kt=yt*4&ze,he<4+kt)throw new Error("FAT boundary crossed: "+yt+" 4 "+he);if(!se[jt]||(yt=e0(se[jt],kt),Ct[yt]))break}we[St]={nodes:tt,data:GL([He])}}return we}function C(se,ve,de,he,me,we,Ue,tt){for(var He=0,ze=he.length?2:0,$e=ve[se].data,yt=0,St=0,kt;yt<$e.length;yt+=128){var Ct=$e.slice(yt,yt+128);Il(Ct,64),St=Ct.read_shift(2),kt=E3(Ct,0,St-ze),he.push(kt);var jt={name:kt,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},$t=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);$t!==0&&(jt.ct=j(Ct,Ct.l-8));var Nn=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);Nn!==0&&(jt.mt=j(Ct,Ct.l-8)),jt.start=Ct.read_shift(4,"i"),jt.size=Ct.read_shift(4,"i"),jt.size<0&&jt.start<0&&(jt.size=jt.type=0,jt.start=M,jt.name=""),jt.type===5?(He=jt.start,me>0&&He!==M&&(ve[He].name="!StreamData")):jt.size>=4096?(jt.storage="fat",ve[jt.start]===void 0&&(ve[jt.start]=w(de,jt.start,ve.fat_addrs,ve.ssz)),ve[jt.start].name=jt.name,jt.content=ve[jt.start].data.slice(0,jt.size)):(jt.storage="minifat",jt.size<0?jt.size=0:He!==M&&jt.start!==M&&ve[He]&&(jt.content=g(jt,ve[He].data,(ve[tt]||{}).data))),jt.content&&Il(jt.content,0),we[kt]=jt,Ue.push(jt)}}function j(se,ve){return new Date((Rl(se,ve+4)/1e7*Math.pow(2,32)+Rl(se,ve)/1e7-11644473600)*1e3)}function T(se,ve){return u(),d(c.readFileSync(se),ve)}function L(se,ve){var de=ve&&ve.type;switch(de||_n&&Buffer.isBuffer(se)&&(de="buffer"),de||"base64"){case"file":return T(se,ve);case"base64":return d(yu(_d(se)),ve);case"binary":return d(yu(se),ve)}return d(se,ve)}function I(se,ve){var de=ve||{},he=de.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=he+"/",se.FileIndex[0]={name:he,type:5}),de.CLSID&&(se.FileIndex[0].clsid=de.CLSID),D(se)}function D(se){var ve="Sh33tJ5";if(!ea.find(se,"/"+ve)){var de=ot(4);de[0]=55,de[1]=de[3]=50,de[2]=54,se.FileIndex.push({name:ve,type:2,content:de,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+ve),k(se)}}function k(se,ve){I(se);for(var de=!1,he=!1,me=se.FullPaths.length-1;me>=0;--me){var we=se.FileIndex[me];switch(we.type){case 0:he?de=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(we.R*we.L*we.C)&&(de=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!ve)){var Ue=new Date(1987,1,19),tt=0,He=Object.create?Object.create(null):{},ze=[];for(me=0;me<se.FullPaths.length;++me)He[se.FullPaths[me]]=!0,se.FileIndex[me].type!==0&&ze.push([se.FullPaths[me],se.FileIndex[me]]);for(me=0;me<ze.length;++me){var $e=n(ze[me][0]);he=He[$e],he||(ze.push([$e,{name:a($e).replace("/",""),type:1,clsid:W,ct:Ue,mt:Ue,content:null}]),He[$e]=!0)}for(ze.sort(function(kt,Ct){return t(kt[0],Ct[0])}),se.FullPaths=[],se.FileIndex=[],me=0;me<ze.length;++me)se.FullPaths[me]=ze[me][0],se.FileIndex[me]=ze[me][1];for(me=0;me<ze.length;++me){var yt=se.FileIndex[me],St=se.FullPaths[me];if(yt.name=a(St).replace("/",""),yt.L=yt.R=yt.C=-(yt.color=1),yt.size=yt.content?yt.content.length:0,yt.start=0,yt.clsid=yt.clsid||W,me===0)yt.C=ze.length>1?1:-1,yt.size=0,yt.type=5;else if(St.slice(-1)=="/"){for(tt=me+1;tt<ze.length&&n(se.FullPaths[tt])!=St;++tt);for(yt.C=tt>=ze.length?-1:tt,tt=me+1;tt<ze.length&&n(se.FullPaths[tt])!=n(St);++tt);yt.R=tt>=ze.length?-1:tt,yt.type=1}else n(se.FullPaths[me+1]||"")==n(St)&&(yt.R=me+1),yt.type=2}}}function z(se,ve){var de=ve||{};if(de.fileType=="mad")return wa(se,de);if(k(se),de.fileType==="zip")return ct(se,de);var he=(function(kt){for(var Ct=0,jt=0,$t=0;$t<kt.FileIndex.length;++$t){var Nn=kt.FileIndex[$t];if(Nn.content){var Vr=Nn.content.length;Vr>0&&(Vr<4096?Ct+=Vr+63>>6:jt+=Vr+511>>9)}}for(var kn=kt.FullPaths.length+3>>2,Si=Ct+7>>3,fl=Ct+127>>7,ml=Si+jt+kn+fl,fo=ml+127>>7,Fu=fo<=109?0:Math.ceil((fo-109)/127);ml+fo+Fu+127>>7>fo;)Fu=++fo<=109?0:Math.ceil((fo-109)/127);var ha=[1,Fu,fo,fl,kn,jt,Ct,0];return kt.FileIndex[0].size=Ct<<6,ha[7]=(kt.FileIndex[0].start=ha[0]+ha[1]+ha[2]+ha[3]+ha[4]+ha[5])+(ha[6]+7>>3),ha})(se),me=ot(he[7]<<9),we=0,Ue=0;{for(we=0;we<8;++we)me.write_shift(1,ae[we]);for(we=0;we<8;++we)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),we=0;we<3;++we)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,he[2]),me.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:M),me.write_shift(4,he[3]),me.write_shift(-4,he[1]?he[0]-1:M),me.write_shift(4,he[1]),we=0;we<109;++we)me.write_shift(-4,we<he[2]?he[1]+we:-1)}if(he[1])for(Ue=0;Ue<he[1];++Ue){for(;we<236+Ue*127;++we)me.write_shift(-4,we<he[2]?he[1]+we:-1);me.write_shift(-4,Ue===he[1]-1?M:Ue+1)}var tt=function(kt){for(Ue+=kt;we<Ue-1;++we)me.write_shift(-4,we+1);kt&&(++we,me.write_shift(-4,M))};for(Ue=we=0,Ue+=he[1];we<Ue;++we)me.write_shift(-4,ee.DIFSECT);for(Ue+=he[2];we<Ue;++we)me.write_shift(-4,ee.FATSECT);tt(he[3]),tt(he[4]);for(var He=0,ze=0,$e=se.FileIndex[0];He<se.FileIndex.length;++He)$e=se.FileIndex[He],$e.content&&(ze=$e.content.length,!(ze<4096)&&($e.start=Ue,tt(ze+511>>9)));for(tt(he[6]+7>>3);me.l&511;)me.write_shift(-4,ee.ENDOFCHAIN);for(Ue=we=0,He=0;He<se.FileIndex.length;++He)$e=se.FileIndex[He],$e.content&&(ze=$e.content.length,!(!ze||ze>=4096)&&($e.start=Ue,tt(ze+63>>6)));for(;me.l&511;)me.write_shift(-4,ee.ENDOFCHAIN);for(we=0;we<he[4]<<2;++we){var yt=se.FullPaths[we];if(!yt||yt.length===0){for(He=0;He<17;++He)me.write_shift(4,0);for(He=0;He<3;++He)me.write_shift(4,-1);for(He=0;He<12;++He)me.write_shift(4,0);continue}$e=se.FileIndex[we],we===0&&($e.start=$e.size?$e.start-1:M);var St=we===0&&de.root||$e.name;if(ze=2*(St.length+1),me.write_shift(64,St,"utf16le"),me.write_shift(2,ze),me.write_shift(1,$e.type),me.write_shift(1,$e.color),me.write_shift(-4,$e.L),me.write_shift(-4,$e.R),me.write_shift(-4,$e.C),$e.clsid)me.write_shift(16,$e.clsid,"hex");else for(He=0;He<4;++He)me.write_shift(4,0);me.write_shift(4,$e.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,$e.start),me.write_shift(4,$e.size),me.write_shift(4,0)}for(we=1;we<se.FileIndex.length;++we)if($e=se.FileIndex[we],$e.size>=4096)if(me.l=$e.start+1<<9,_n&&Buffer.isBuffer($e.content))$e.content.copy(me,me.l,0,$e.size),me.l+=$e.size+511&-512;else{for(He=0;He<$e.size;++He)me.write_shift(1,$e.content[He]);for(;He&511;++He)me.write_shift(1,0)}for(we=1;we<se.FileIndex.length;++we)if($e=se.FileIndex[we],$e.size>0&&$e.size<4096)if(_n&&Buffer.isBuffer($e.content))$e.content.copy(me,me.l,0,$e.size),me.l+=$e.size+63&-64;else{for(He=0;He<$e.size;++He)me.write_shift(1,$e.content[He]);for(;He&63;++He)me.write_shift(1,0)}if(_n)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function P(se,ve){var de=se.FullPaths.map(function(He){return He.toUpperCase()}),he=de.map(function(He){var ze=He.split("/");return ze[ze.length-(He.slice(-1)=="/"?2:1)]}),me=!1;ve.charCodeAt(0)===47?(me=!0,ve=de[0].slice(0,-1)+ve):me=ve.indexOf("/")!==-1;var we=ve.toUpperCase(),Ue=me===!0?de.indexOf(we):he.indexOf(we);if(Ue!==-1)return se.FileIndex[Ue];var tt=!we.match(ib);for(we=we.replace(ay,""),tt&&(we=we.replace(ib,"!")),Ue=0;Ue<de.length;++Ue)if((tt?de[Ue].replace(ib,"!"):de[Ue]).replace(ay,"")==we||(tt?he[Ue].replace(ib,"!"):he[Ue]).replace(ay,"")==we)return se.FileIndex[Ue];return null}var U=64,M=-2,q="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(se,ve,de){u();var he=z(se,de);c.writeFileSync(ve,he)}function pe(se){for(var ve=new Array(se.length),de=0;de<se.length;++de)ve[de]=String.fromCharCode(se[de]);return ve.join("")}function Se(se,ve){var de=z(se,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),c.writeFileSync(ve.filename,de),de;case"binary":return typeof de=="string"?de:pe(de);case"base64":return Fy(typeof de=="string"?de:pe(de));case"buffer":if(_n)return Buffer.isBuffer(de)?de:zd(de);case"array":return typeof de=="string"?yu(de):de}return de}var ne;function F(se){try{var ve=se.InflateRaw,de=new ve;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)ne=se;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function Q(se,ve){if(!ne)return Wr(se,ve);var de=ne.InflateRaw,he=new de,me=he._processChunk(se.slice(se.l),he._finishFlushFlag);return se.l+=he.bytesRead,me}function K(se){return ne?ne.deflateRawSync(se):De(se)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(se){var ve=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var ue=typeof Uint8Array<"u",xe=ue?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)xe[Oe]=Ne(Oe);function Be(se,ve){var de=xe[se&255];return ve<=8?de>>>8-ve:(de=de<<8|xe[se>>8&255],ve<=16?de>>>16-ve:(de=de<<8|xe[se>>16&255],de>>>24-ve))}function qe(se,ve){var de=ve&7,he=ve>>>3;return(se[he]|(de<=6?0:se[he+1]<<8))>>>de&3}function Pe(se,ve){var de=ve&7,he=ve>>>3;return(se[he]|(de<=5?0:se[he+1]<<8))>>>de&7}function X(se,ve){var de=ve&7,he=ve>>>3;return(se[he]|(de<=4?0:se[he+1]<<8))>>>de&15}function Me(se,ve){var de=ve&7,he=ve>>>3;return(se[he]|(de<=3?0:se[he+1]<<8))>>>de&31}function We(se,ve){var de=ve&7,he=ve>>>3;return(se[he]|(de<=1?0:se[he+1]<<8))>>>de&127}function bt(se,ve,de){var he=ve&7,me=ve>>>3,we=(1<<de)-1,Ue=se[me]>>>he;return de<8-he||(Ue|=se[me+1]<<8-he,de<16-he)||(Ue|=se[me+2]<<16-he,de<24-he)||(Ue|=se[me+3]<<24-he),Ue&we}function st(se,ve,de){var he=ve&7,me=ve>>>3;return he<=5?se[me]|=(de&7)<<he:(se[me]|=de<<he&255,se[me+1]=(de&7)>>8-he),ve+3}function Ye(se,ve,de){var he=ve&7,me=ve>>>3;return de=(de&1)<<he,se[me]|=de,ve+1}function ht(se,ve,de){var he=ve&7,me=ve>>>3;return de<<=he,se[me]|=de&255,de>>>=8,se[me+1]=de,ve+8}function wt(se,ve,de){var he=ve&7,me=ve>>>3;return de<<=he,se[me]|=de&255,de>>>=8,se[me+1]=de&255,se[me+2]=de>>>8,ve+16}function Bt(se,ve){var de=se.length,he=2*de>ve?2*de:ve+5,me=0;if(de>=ve)return se;if(_n){var we=OL(he);if(se.copy)se.copy(we);else for(;me<se.length;++me)we[me]=se[me];return we}else if(ue){var Ue=new Uint8Array(he);if(Ue.set)Ue.set(se);else for(;me<de;++me)Ue[me]=se[me];return Ue}return se.length=he,se}function Ut(se){for(var ve=new Array(se),de=0;de<se;++de)ve[de]=0;return ve}function dr(se,ve,de){var he=1,me=0,we=0,Ue=0,tt=0,He=se.length,ze=ue?new Uint16Array(32):Ut(32);for(we=0;we<32;++we)ze[we]=0;for(we=He;we<de;++we)se[we]=0;He=se.length;var $e=ue?new Uint16Array(He):Ut(He);for(we=0;we<He;++we)ze[me=se[we]]++,he<me&&(he=me),$e[we]=0;for(ze[0]=0,we=1;we<=he;++we)ze[we+16]=tt=tt+ze[we-1]<<1;for(we=0;we<He;++we)tt=se[we],tt!=0&&($e[we]=ze[tt+16]++);var yt=0;for(we=0;we<He;++we)if(yt=se[we],yt!=0)for(tt=Be($e[we],he)>>he-yt,Ue=(1<<he+4-yt)-1;Ue>=0;--Ue)ve[tt|Ue<<yt]=yt&15|we<<4;return he}var ur=ue?new Uint16Array(512):Ut(512),hr=ue?new Uint16Array(32):Ut(32);if(!ue){for(var ar=0;ar<512;++ar)ur[ar]=0;for(ar=0;ar<32;++ar)hr[ar]=0}(function(){for(var se=[],ve=0;ve<32;ve++)se.push(5);dr(se,hr,32);var de=[];for(ve=0;ve<=143;ve++)de.push(8);for(;ve<=255;ve++)de.push(9);for(;ve<=279;ve++)de.push(7);for(;ve<=287;ve++)de.push(8);dr(de,ur,288)})();var ke=(function(){for(var ve=ue?new Uint8Array(32768):[],de=0,he=0;de<oe.length-1;++de)for(;he<oe[de+1];++he)ve[he]=de;for(;he<32768;++he)ve[he]=29;var me=ue?new Uint8Array(259):[];for(de=0,he=0;de<J.length-1;++de)for(;he<J[de+1];++he)me[he]=de;function we(tt,He){for(var ze=0;ze<tt.length;){var $e=Math.min(65535,tt.length-ze),yt=ze+$e==tt.length;for(He.write_shift(1,+yt),He.write_shift(2,$e),He.write_shift(2,~$e&65535);$e-- >0;)He[He.l++]=tt[ze++]}return He.l}function Ue(tt,He){for(var ze=0,$e=0,yt=ue?new Uint16Array(32768):[];$e<tt.length;){var St=Math.min(65535,tt.length-$e);if(St<10){for(ze=st(He,ze,+($e+St==tt.length)),ze&7&&(ze+=8-(ze&7)),He.l=ze/8|0,He.write_shift(2,St),He.write_shift(2,~St&65535);St-- >0;)He[He.l++]=tt[$e++];ze=He.l*8;continue}ze=st(He,ze,+($e+St==tt.length)+2);for(var kt=0;St-- >0;){var Ct=tt[$e];kt=(kt<<5^Ct)&32767;var jt=-1,$t=0;if((jt=yt[kt])&&(jt|=$e&-32768,jt>$e&&(jt-=32768),jt<$e))for(;tt[jt+$t]==tt[$e+$t]&&$t<250;)++$t;if($t>2){Ct=me[$t],Ct<=22?ze=ht(He,ze,xe[Ct+1]>>1)-1:(ht(He,ze,3),ze+=5,ht(He,ze,xe[Ct-23]>>5),ze+=3);var Nn=Ct<8?0:Ct-4>>2;Nn>0&&(wt(He,ze,$t-J[Ct]),ze+=Nn),Ct=ve[$e-jt],ze=ht(He,ze,xe[Ct]>>3),ze-=3;var Vr=Ct<4?0:Ct-2>>1;Vr>0&&(wt(He,ze,$e-jt-oe[Ct]),ze+=Vr);for(var kn=0;kn<$t;++kn)yt[kt]=$e&32767,kt=(kt<<5^tt[$e])&32767,++$e;St-=$t-1}else Ct<=143?Ct=Ct+48:ze=Ye(He,ze,1),ze=ht(He,ze,xe[Ct]),yt[kt]=$e&32767,++$e}ze=ht(He,ze,0)-1}return He.l=(ze+7)/8|0,He.l}return function(He,ze){return He.length<8?we(He,ze):Ue(He,ze)}})();function De(se){var ve=ot(50+Math.floor(se.length*1.1)),de=ke(se,ve);return ve.slice(0,de)}var rt=ue?new Uint16Array(32768):Ut(32768),pr=ue?new Uint16Array(32768):Ut(32768),Qt=ue?new Uint16Array(128):Ut(128),Nt=1,Yt=1;function ir(se,ve){var de=Me(se,ve)+257;ve+=5;var he=Me(se,ve)+1;ve+=5;var me=X(se,ve)+4;ve+=4;for(var we=0,Ue=ue?new Uint8Array(19):Ut(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],He=1,ze=ue?new Uint8Array(8):Ut(8),$e=ue?new Uint8Array(8):Ut(8),yt=Ue.length,St=0;St<me;++St)Ue[V[St]]=we=Pe(se,ve),He<we&&(He=we),ze[we]++,ve+=3;var kt=0;for(ze[0]=0,St=1;St<=He;++St)$e[St]=kt=kt+ze[St-1]<<1;for(St=0;St<yt;++St)(kt=Ue[St])!=0&&(tt[St]=$e[kt]++);var Ct=0;for(St=0;St<yt;++St)if(Ct=Ue[St],Ct!=0){kt=xe[tt[St]]>>8-Ct;for(var jt=(1<<7-Ct)-1;jt>=0;--jt)Qt[kt|jt<<Ct]=Ct&7|St<<3}var $t=[];for(He=1;$t.length<de+he;)switch(kt=Qt[We(se,ve)],ve+=kt&7,kt>>>=3){case 16:for(we=3+qe(se,ve),ve+=2,kt=$t[$t.length-1];we-- >0;)$t.push(kt);break;case 17:for(we=3+Pe(se,ve),ve+=3;we-- >0;)$t.push(0);break;case 18:for(we=11+We(se,ve),ve+=7;we-- >0;)$t.push(0);break;default:$t.push(kt),He<kt&&(He=kt);break}var Nn=$t.slice(0,de),Vr=$t.slice(de);for(St=de;St<286;++St)Nn[St]=0;for(St=he;St<30;++St)Vr[St]=0;return Nt=dr(Nn,rt,286),Yt=dr(Vr,pr,30),ve}function Pt(se,ve){if(se[0]==3&&!(se[1]&3))return[P0(ve),2];for(var de=0,he=0,me=OL(ve||1<<18),we=0,Ue=me.length>>>0,tt=0,He=0;(he&1)==0;){if(he=Pe(se,de),de+=3,he>>>1)he>>1==1?(tt=9,He=5):(de=ir(se,de),tt=Nt,He=Yt);else{de&7&&(de+=8-(de&7));var ze=se[de>>>3]|se[(de>>>3)+1]<<8;if(de+=32,ze>0)for(!ve&&Ue<we+ze&&(me=Bt(me,we+ze),Ue=me.length);ze-- >0;)me[we++]=se[de>>>3],de+=8;continue}for(;;){!ve&&Ue<we+32767&&(me=Bt(me,we+32767),Ue=me.length);var $e=bt(se,de,tt),yt=he>>>1==1?ur[$e]:rt[$e];if(de+=yt&15,yt>>>=4,(yt>>>8&255)===0)me[we++]=yt;else{if(yt==256)break;yt-=257;var St=yt<8?0:yt-4>>2;St>5&&(St=0);var kt=we+J[yt];St>0&&(kt+=bt(se,de,St),de+=St),$e=bt(se,de,He),yt=he>>>1==1?hr[$e]:pr[$e],de+=yt&15,yt>>>=4;var Ct=yt<4?0:yt-2>>1,jt=oe[yt];for(Ct>0&&(jt+=bt(se,de,Ct),de+=Ct),!ve&&Ue<kt&&(me=Bt(me,kt+100),Ue=me.length);we<kt;)me[we]=me[we-jt],++we}}}return ve?[me,de+7>>>3]:[me.slice(0,we),de+7>>>3]}function Wr(se,ve){var de=se.slice(se.l||0),he=Pt(de,ve);return se.l+=he[1],he[0]}function mr(se,ve){if(se)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function or(se,ve){var de=se;Il(de,0);var he=[],me=[],we={FileIndex:he,FullPaths:me};I(we,{root:ve.root});for(var Ue=de.length-4;(de[Ue]!=80||de[Ue+1]!=75||de[Ue+2]!=5||de[Ue+3]!=6)&&Ue>=0;)--Ue;de.l=Ue+4,de.l+=4;var tt=de.read_shift(2);de.l+=6;var He=de.read_shift(4);for(de.l=He,Ue=0;Ue<tt;++Ue){de.l+=20;var ze=de.read_shift(4),$e=de.read_shift(4),yt=de.read_shift(2),St=de.read_shift(2),kt=de.read_shift(2);de.l+=8;var Ct=de.read_shift(4),jt=l(de.slice(de.l+yt,de.l+yt+St));de.l+=yt+St+kt;var $t=de.l;de.l=Ct+4,dt(de,ze,$e,we,jt),de.l=$t}return we}function dt(se,ve,de,he,me){se.l+=2;var we=se.read_shift(2),Ue=se.read_shift(2),tt=i(se);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var He=se.read_shift(4),ze=se.read_shift(4),$e=se.read_shift(4),yt=se.read_shift(2),St=se.read_shift(2),kt="",Ct=0;Ct<yt;++Ct)kt+=String.fromCharCode(se[se.l++]);if(St){var jt=l(se.slice(se.l,se.l+St));(jt[21589]||{}).mt&&(tt=jt[21589].mt),((me||{})[21589]||{}).mt&&(tt=me[21589].mt)}se.l+=St;var $t=se.slice(se.l,se.l+ze);switch(Ue){case 8:$t=Q(se,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ue)}var Nn=!1;we&8&&(He=se.read_shift(4),He==134695760&&(He=se.read_shift(4),Nn=!0),ze=se.read_shift(4),$e=se.read_shift(4)),ze!=ve&&mr(Nn,"Bad compressed size: "+ve+" != "+ze),$e!=de&&mr(Nn,"Bad uncompressed size: "+de+" != "+$e),ua(he,kt,$t,{unsafe:!0,mt:tt})}function ct(se,ve){var de=ve||{},he=[],me=[],we=ot(1),Ue=de.compression?8:0,tt=0,He=0,ze=0,$e=0,yt=0,St=se.FullPaths[0],kt=St,Ct=se.FileIndex[0],jt=[],$t=0;for(He=1;He<se.FullPaths.length;++He)if(kt=se.FullPaths[He].slice(St.length),Ct=se.FileIndex[He],!(!Ct.size||!Ct.content||kt=="Sh33tJ5")){var Nn=$e,Vr=ot(kt.length);for(ze=0;ze<kt.length;++ze)Vr.write_shift(1,kt.charCodeAt(ze)&127);Vr=Vr.slice(0,Vr.l),jt[yt]=i1e.buf(Ct.content,0);var kn=Ct.content;Ue==8&&(kn=K(kn)),we=ot(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,Ue),Ct.mt?s(we,Ct.mt):we.write_shift(4,0),we.write_shift(-4,jt[yt]),we.write_shift(4,kn.length),we.write_shift(4,Ct.content.length),we.write_shift(2,Vr.length),we.write_shift(2,0),$e+=we.length,he.push(we),$e+=Vr.length,he.push(Vr),$e+=kn.length,he.push(kn),we=ot(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,Ue),we.write_shift(4,0),we.write_shift(-4,jt[yt]),we.write_shift(4,kn.length),we.write_shift(4,Ct.content.length),we.write_shift(2,Vr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Nn),$t+=we.l,me.push(we),$t+=Vr.length,me.push(Vr),++yt}return we=ot(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,yt),we.write_shift(2,yt),we.write_shift(4,$t),we.write_shift(4,$e),we.write_shift(2,0),zi([zi(he),zi(me),we])}var Ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function It(se,ve){if(se.ctype)return se.ctype;var de=se.name||"",he=de.match(/\.([^\.]+)$/);return he&&Ot[he[1]]||ve&&(he=(de=ve).match(/[\.\\]([^\.\\])+$/),he&&Ot[he[1]])?Ot[he[1]]:"application/octet-stream"}function hn(se){for(var ve=Fy(se),de=[],he=0;he<ve.length;he+=76)de.push(ve.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Tr(se){var ve=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var $e=ze.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=ve.split(`\r
`),me=0;me<he.length;++me){var we=he[me];if(we.length==0){de.push("");continue}for(var Ue=0;Ue<we.length;){var tt=76,He=we.slice(Ue,Ue+tt);He.charAt(tt-1)=="="?tt--:He.charAt(tt-2)=="="?tt-=2:He.charAt(tt-3)=="="&&(tt-=3),He=we.slice(Ue,Ue+tt),Ue+=tt,Ue<we.length&&(He+="="),de.push(He)}}return de.join(`\r
`)}function cs(se){for(var ve=[],de=0;de<se.length;++de){for(var he=se[de];de<=se.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+se[++de];ve.push(he)}for(var me=0;me<ve.length;++me)ve[me]=ve[me].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return yu(ve.join(`\r
`))}function ca(se,ve,de){for(var he="",me="",we="",Ue,tt=0;tt<10;++tt){var He=ve[tt];if(!He||He.match(/^\s*$/))break;var ze=He.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":he=ze[2].trim();break;case"content-type":we=ze[2].trim();break;case"content-transfer-encoding":me=ze[2].trim();break}}switch(++tt,me.toLowerCase()){case"base64":Ue=yu(_d(ve.slice(tt).join("")));break;case"quoted-printable":Ue=cs(ve.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var $e=ua(se,he.slice(de.length),Ue,{unsafe:!0});we&&($e.ctype=we)}function sr(se,ve){if(pe(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=ve&&ve.root||"",he=(_n&&Buffer.isBuffer(se)?se.toString("binary"):pe(se)).split(`\r
`),me=0,we="";for(me=0;me<he.length;++me)if(we=he[me],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),de||(de=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),we.slice(0,de.length)!=de););var Ue=(he[1]||"").match(/boundary="(.*?)"/);if(!Ue)throw new Error("MAD cannot find boundary");var tt="--"+(Ue[1]||""),He=[],ze=[],$e={FileIndex:He,FullPaths:ze};I($e);var yt,St=0;for(me=0;me<he.length;++me){var kt=he[me];kt!==tt&&kt!==tt+"--"||(St++&&ca($e,he.slice(yt,me),de),yt=me)}return $e}function wa(se,ve){var de=ve||{},he=de.boundary||"SheetJS";he="------="+he;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],we=se.FullPaths[0],Ue=we,tt=se.FileIndex[0],He=1;He<se.FullPaths.length;++He)if(Ue=se.FullPaths[He].slice(we.length),tt=se.FileIndex[He],!(!tt.size||!tt.content||Ue=="Sh33tJ5")){Ue=Ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($t){return"_x"+$t.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($t){return"_u"+$t.charCodeAt(0).toString(16)+"_"});for(var ze=tt.content,$e=_n&&Buffer.isBuffer(ze)?ze.toString("binary"):pe(ze),yt=0,St=Math.min(1024,$e.length),kt=0,Ct=0;Ct<=St;++Ct)(kt=$e.charCodeAt(Ct))>=32&&kt<128&&++yt;var jt=yt>=St*4/5;me.push(he),me.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Ue),me.push("Content-Transfer-Encoding: "+(jt?"quoted-printable":"base64")),me.push("Content-Type: "+It(tt,Ue)),me.push(""),me.push(jt?Tr($e):hn($e))}return me.push(he+`--\r
`),me.join(`\r
`)}function Ya(se){var ve={};return I(ve,se),ve}function ua(se,ve,de,he){var me=he&&he.unsafe;me||I(se);var we=!me&&ea.find(se,ve);if(!we){var Ue=se.FullPaths[0];ve.slice(0,Ue.length)==Ue?Ue=ve:(Ue.slice(-1)!="/"&&(Ue+="/"),Ue=(Ue+ve).replace("//","/")),we={name:a(ve),type:2},se.FileIndex.push(we),se.FullPaths.push(Ue),me||ea.utils.cfb_gc(se)}return we.content=de,we.size=de?de.length:0,he&&(he.CLSID&&(we.clsid=he.CLSID),he.mt&&(we.mt=he.mt),he.ct&&(we.ct=he.ct)),we}function Es(se,ve){I(se);var de=ea.find(se,ve);if(de){for(var he=0;he<se.FileIndex.length;++he)if(se.FileIndex[he]==de)return se.FileIndex.splice(he,1),se.FullPaths.splice(he,1),!0}return!1}function Tn(se,ve,de){I(se);var he=ea.find(se,ve);if(he){for(var me=0;me<se.FileIndex.length;++me)if(se.FileIndex[me]==he)return se.FileIndex[me].name=a(de),se.FullPaths[me]=de,!0}return!1}function Ca(se){k(se,!0)}return e.find=P,e.read=L,e.parse=d,e.write=Se,e.writeFile=re,e.utils={cfb_new:Ya,cfb_add:ua,cfb_del:Es,cfb_mov:Tn,cfb_gc:Ca,ReadShift:iy,CheckField:o$,prep_blob:Il,bconcat:zi,use_zlib:F,_deflateRaw:De,_inflateRaw:Wr,consts:ee},e})();function o1e(r){return typeof r=="string"?YC(r):Array.isArray(r)?Ove(r):r}function Cv(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=YC(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Dy(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var a=new Blob([o1e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,r);if(typeof saveAs<"u")return saveAs(a,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=r,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(r);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=wv(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function Gi(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function QL(r,e){for(var t=[],n=Gi(r),a=0;a!==n.length;++a)t[r[n[a]][e]]==null&&(t[r[n[a]][e]]=n[a]);return t}function C3(r){for(var e=[],t=Gi(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function ZC(r){for(var e=[],t=Gi(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function l1e(r){for(var e=[],t=Gi(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var S2=new Date(1899,11,30,0,0,0);function Al(r,e){var t=r.getTime(),n=S2.getTime()+(r.getTimezoneOffset()-S2.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var KK=new Date,c1e=S2.getTime()+(KK.getTimezoneOffset()-S2.getTimezoneOffset())*6e4,HL=KK.getTimezoneOffset();function $K(r){var e=new Date;return e.setTime(r*24*60*60*1e3+c1e),e.getTimezoneOffset()!==HL&&e.setTime(e.getTime()+(e.getTimezoneOffset()-HL)*6e4),e}var zL=new Date("2017-02-19T19:06:09.000Z"),VK=isNaN(zL.getFullYear())?new Date("2/19/17"):zL,u1e=VK.getFullYear()==2017;function _o(r,e){var t=new Date(r);if(u1e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(VK.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function e5(r,e){if(_n&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function dl(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=dl(r[t]));return e}function is(r,e){for(var t="";t.length<e;)t+=r;return t}function gd(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var A1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Oy(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var i=r.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&A1e.indexOf(i)==-1)return t}else if(i.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function $r(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return _n?n=zd(t):n=Dve(t),ea.utils.cfb_add(r,e,n)}ea.utils.cfb_add(r,e,t)}else r.file(e,t)}function N3(){return ea.utils.cfb_new()}var Rs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,d1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},S3=C3(d1e),B3=/[&<>'"]/g,h1e=/[\u0000-\u0008\u000b-\u001f]/g;function Hn(r){var e=r+"";return e.replace(B3,function(t){return S3[t]}).replace(h1e,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function KL(r){return Hn(r).replace(/ /g,"_x0020_")}var qK=/[\u0000-\u001f]/g;function f1e(r){var e=r+"";return e.replace(B3,function(t){return S3[t]}).replace(/\n/g,"<br/>").replace(qK,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function m1e(r){var e=r+"";return e.replace(B3,function(t){return S3[t]}).replace(qK,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function p1e(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function g1e(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function LB(r){for(var e="",t=0,n=0,a=0,s=0,i=0,l=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){i=(n&31)<<6,i|=a&63,e+=String.fromCharCode(i);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=r.charCodeAt(t++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function $L(r){var e=P0(2*r.length),t,n,a=1,s=0,i=0,l;for(n=0;n<r.length;n+=a)a=1,(l=r.charCodeAt(n))<128?t=l:l<224?(t=(l&31)*64+(r.charCodeAt(n+1)&63),a=2):l<240?(t=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,i=55296+(t>>>10&1023),t=56320+(t&1023)),i!==0&&(e[s++]=i&255,e[s++]=i>>>8,i=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function VL(r){return zd(r,"binary").toString("utf8")}var lb="foo bar baz",sy=_n&&(VL(lb)==LB(lb)&&VL||$L(lb)==LB(lb)&&$L)||LB,Dy=_n?function(r){return zd(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},x1e=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}})(),GK=/(^\s|\s$|\n)/;function Ki(r,e){return"<"+r+(e.match(GK)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function Py(r){return Gi(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Et(r,e,t){return"<"+r+(t!=null?Py(t):"")+(e!=null?(e.match(GK)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function sj(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function y1e(r,e){switch(typeof r){case"string":var t=Et("vt:lpwstr",Hn(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Et((r|0)==r?"vt:i4":"vt:r8",Hn(String(r)));case"boolean":return Et("vt:bool",r?"true":"false")}if(r instanceof Date)return Et("vt:filetime",sj(r));throw new Error("Unable to serialize "+r)}var pi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Sg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ml={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function v1e(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,s=5;s>=0;--s)a=a*256+r[e+s];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function b1e(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,i=n?-e:e;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)r[t+l]=s&255;r[t+6]=(a&15)<<4|s&15,r[t+7]=a>>4|n}var qL=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,s=r[0][n].length;a<s;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},GL=_n?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:zd(e)})):qL(r)}:qL,WL=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode($x(r,a)));return n.join("").replace(ay,"")},E3=_n?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(ay,""):WL(r,e,t)}:WL,YL=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},WK=_n?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):YL(r,e,t)}:YL,XL=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(Ap(r,a)));return n.join("")},Nv=_n?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):XL(e,t,n)}:XL,YK=function(r,e){var t=Rl(r,e);return t>0?Nv(r,e+4,e+4+t-1):""},XK=YK,JK=function(r,e){var t=Rl(r,e);return t>0?Nv(r,e+4,e+4+t-1):""},ZK=JK,e$=function(r,e){var t=2*Rl(r,e);return t>0?Nv(r,e+4,e+4+t-1):""},t$=e$,r$=function(e,t){var n=Rl(e,t);return n>0?E3(e,t+4,t+4+n):""},n$=r$,a$=function(r,e){var t=Rl(r,e);return t>0?Nv(r,e+4,e+4+t):""},s$=a$,i$=function(r,e){return v1e(r,e)},B2=i$,j3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};_n&&(XK=function(e,t){if(!Buffer.isBuffer(e))return YK(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},ZK=function(e,t){if(!Buffer.isBuffer(e))return JK(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},t$=function(e,t){if(!Buffer.isBuffer(e))return e$(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},n$=function(e,t){if(!Buffer.isBuffer(e))return r$(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},s$=function(e,t){if(!Buffer.isBuffer(e))return a$(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},B2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):i$(e,t)},j3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ap=function(r,e){return r[e]},$x=function(r,e){return r[e+1]*256+r[e]},w1e=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Rl=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},e0=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},C1e=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function iy(r,e){var t="",n,a,s=[],i,l,c,u;switch(e){case"dbcs":if(u=this.l,_n&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode($x(this,u)),u+=2;r*=2;break;case"utf8":t=Nv(this,this.l,this.l+r);break;case"utf16le":r*=2,t=E3(this,this.l,this.l+r);break;case"wstr":return iy.call(this,r,"dbcs");case"lpstr-ansi":t=XK(this,this.l),r=4+Rl(this,this.l);break;case"lpstr-cp":t=ZK(this,this.l),r=4+Rl(this,this.l);break;case"lpwstr":t=t$(this,this.l),r=4+2*Rl(this,this.l);break;case"lpp4":r=4+Rl(this,this.l),t=n$(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Rl(this,this.l),t=s$(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(i=Ap(this,this.l+r++))!==0;)s.push(sb(i));t=s.join("");break;case"_wstr":for(r=0,t="";(i=$x(this,this.l+r))!==0;)s.push(sb(i)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ap(this,u),this.l=u+1,l=iy.call(this,r-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(sb($x(this,u))),u+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ap(this,u),this.l=u+1,l=iy.call(this,r-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(sb(Ap(this,u))),u+=1}t=s.join("");break;default:switch(r){case 1:return n=Ap(this,this.l),this.l++,n;case 2:return n=(e==="i"?w1e:$x)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?e0:C1e)(this,this.l),this.l+=4,n):(a=Rl(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=B2(this,this.l):a=B2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=WK(this,this.l,r);break}}return this.l+=r,t}var N1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},S1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},B1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function E1e(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)B1e(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var i=e.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,N1e(this,e,this.l);break;case 8:if(n=8,t==="f"){b1e(this,e,this.l);break}case 16:break;case-4:n=4,S1e(this,e,this.l);break}return this.l+=n,this}function o$(r,e){var t=WK(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Il(r,e){r.l=e,r.read_shift=iy,r.chk=o$,r.write_shift=E1e}function bA(r,e){r.l+=e}function ot(r){var e=P0(r);return Il(e,0),e}function ol(){var r=[],e=_n?256:2048,t=function(u){var d=ot(u);return Il(d,0),d},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=t(Math.max(u+1,e)))},i=function(){return a(),zi(r)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:l,end:i,_bufs:r}}function xt(r,e,t,n){var a=+e,s;if(!isNaN(a)){n||(n=vNe[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=r.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&j3(t)&&r.push(t)}}function oy(r,e,t){var n=dl(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function JL(r,e,t){var n=dl(r);return n.s=oy(n.s,e.s,t),n.e=oy(n.e,e.s,t),n}function ly(r,e){if(r.cRel&&r.c<0)for(r=dl(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=dl(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Kn(r);return!r.cRel&&r.cRel!=null&&(t=T1e(t)),!r.rRel&&r.rRel!=null&&(t=j1e(t)),t}function MB(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Ao(r.s.c)+":"+(r.e.cRel?"":"$")+Ao(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+qi(r.s.r)+":"+(r.e.rRel?"":"$")+qi(r.e.r):ly(r.s,e.biff)+":"+ly(r.e,e.biff)}function _3(r){return parseInt(_1e(r),10)-1}function qi(r){return""+(r+1)}function j1e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _1e(r){return r.replace(/\$(\d+)$/,"$1")}function T3(r){for(var e=k1e(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Ao(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function T1e(r){return r.replace(/^([A-Z])/,"$$$1")}function k1e(r){return r.replace(/^\$([A-Z])/,"$1")}function F1e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Kn(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function ql(r){var e=r.indexOf(":");return e==-1?{s:xi(r),e:xi(r)}:{s:xi(r.slice(0,e)),e:xi(r.slice(e+1))}}function Ms(r,e){return typeof e>"u"||typeof e=="number"?Ms(r.s,r.e):(typeof r!="string"&&(r=Kn(r)),typeof e!="string"&&(e=Kn(e)),r==e?r:r+":"+e)}function ba(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,s=r.length;for(t=0;n<s&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<s&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=s&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function ZL(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=ef(r.z,t?Al(e):e)}catch{}try{return r.w=ef((r.XF||{}).numFmtId||(t?14:0),t?Al(e):e)}catch{return""+e}}function Td(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Sv[r.v]||r.v:e==null?ZL(r,r.v):ZL(r,e))}function W0(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function l$(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,s=r||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=ba(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[f].length;++p)if(!(typeof e[f][p]>"u")){var m={v:e[f][p]},y=i+f,g=l+p;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),e[f][p]&&typeof e[f][p]=="object"&&!Array.isArray(e[f][p])&&!(e[f][p]instanceof Date))m=e[f][p];else if(Array.isArray(m.v)&&(m.f=e[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||ls[14],n.cellDates?(m.t="d",m.w=ef(m.z,Al(m.v))):(m.t="n",m.v=Al(m.v),m.w=ef(m.z,m.v))):m.t="s";if(a)s[y]||(s[y]=[]),s[y][g]&&s[y][g].z&&(m.z=s[y][g].z),s[y][g]=m;else{var v=Kn({c:g,r:y});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Ms(u)),s}function Bg(r,e){return l$(null,r,e)}function O1e(r){return r.read_shift(4,"i")}function wu(r,e){return e||(e=ot(4)),e.write_shift(4,r),e}function ho(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function yi(r,e){var t=!1;return e==null&&(t=!0,e=ot(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function D1e(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function P1e(r,e){return e||(e=ot(4)),e.write_shift(2,0),e.write_shift(2,0),e}function k3(r,e){var t=r.l,n=r.read_shift(1),a=ho(r),s=[],i={t:a,h:a};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)s.push(D1e(r));i.r=s}else i.r=[{ich:0,ifnt:0}];return r.l=t+e,i}function I1e(r,e){var t=!1;return e==null&&(t=!0,e=ot(15+4*r.t.length)),e.write_shift(1,0),yi(r.t,e),t?e.slice(0,e.l):e}var L1e=k3;function M1e(r,e){var t=!1;return e==null&&(t=!0,e=ot(23+4*r.t.length)),e.write_shift(1,1),yi(r.t,e),e.write_shift(4,1),P1e({},e),t?e.slice(0,e.l):e}function Lc(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Y0(r,e){return e==null&&(e=ot(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function X0(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function J0(r,e){return e==null&&(e=ot(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var R1e=ho,c$=yi;function F3(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function E2(r,e){var t=!1;return e==null&&(t=!0,e=ot(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var U1e=ho,ij=F3,O3=E2;function u$(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?B2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):e0(e,0)>>2;return t?a/100:a}function A$(r,e){e==null&&(e=ot(4));var t=0,n=0,a=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?a:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function d$(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function Q1e(r,e){return e||(e=ot(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Z0=d$,Eg=Q1e;function jg(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function I0(r,e){return(e||ot(8)).write_shift(8,r,"f")}function H1e(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),s=r.read_shift(2,"i"),i=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=X1e[a];u&&(e.rgb=uM(u));break;case 2:e.rgb=uM([i,l,c]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function j2(r,e){if(e||(e=ot(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function z1e(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function K1e(r,e){e||(e=ot(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var h$=2,Fl=3,cb=11,_2=19,ub=64,$1e=65,V1e=71,q1e=4108,G1e=4126,Li=80,eM={1:{n:"CodePage",t:h$},2:{n:"Category",t:Li},3:{n:"PresentationFormat",t:Li},4:{n:"ByteCount",t:Fl},5:{n:"LineCount",t:Fl},6:{n:"ParagraphCount",t:Fl},7:{n:"SlideCount",t:Fl},8:{n:"NoteCount",t:Fl},9:{n:"HiddenCount",t:Fl},10:{n:"MultimediaClipCount",t:Fl},11:{n:"ScaleCrop",t:cb},12:{n:"HeadingPairs",t:q1e},13:{n:"TitlesOfParts",t:G1e},14:{n:"Manager",t:Li},15:{n:"Company",t:Li},16:{n:"LinksUpToDate",t:cb},17:{n:"CharacterCount",t:Fl},19:{n:"SharedDoc",t:cb},22:{n:"HyperlinksChanged",t:cb},23:{n:"AppVersion",t:Fl,p:"version"},24:{n:"DigSig",t:$1e},26:{n:"ContentType",t:Li},27:{n:"ContentStatus",t:Li},28:{n:"Language",t:Li},29:{n:"Version",t:Li},255:{},2147483648:{n:"Locale",t:_2},2147483651:{n:"Behavior",t:_2},1919054434:{}},tM={1:{n:"CodePage",t:h$},2:{n:"Title",t:Li},3:{n:"Subject",t:Li},4:{n:"Author",t:Li},5:{n:"Keywords",t:Li},6:{n:"Comments",t:Li},7:{n:"Template",t:Li},8:{n:"LastAuthor",t:Li},9:{n:"RevNumber",t:Li},10:{n:"EditTime",t:ub},11:{n:"LastPrinted",t:ub},12:{n:"CreatedDate",t:ub},13:{n:"ModifiedDate",t:ub},14:{n:"PageCount",t:Fl},15:{n:"WordCount",t:Fl},16:{n:"CharCount",t:Fl},17:{n:"Thumbnail",t:V1e},18:{n:"Application",t:Li},19:{n:"DocSecurity",t:Fl},255:{},2147483648:{n:"Locale",t:_2},2147483651:{n:"Behavior",t:_2},1919054434:{}};function W1e(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Y1e=W1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),X1e=dl(Y1e),Sv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},J1e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ab={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function f$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function m$(r,e){var t=l1e(J1e),n=[],a;n[n.length]=Rs,n[n.length]=Et("Types",null,{xmlns:pi.CT,"xmlns:xsd":pi.xsd,"xmlns:xsi":pi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Et("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){r[c]&&r[c].length>0&&(a=r[c][0],n[n.length]=Et("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Ab[c][e.bookType]||Ab[c].xlsx}))},i=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Et("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ab[c][e.bookType]||Ab[c].xlsx})})},l=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Et("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var vn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function p$(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Ep(r){var e=[Rs,Et("Relationships",null,{xmlns:pi.RELS})];return Gi(r["!id"]).forEach(function(t){e[e.length]=Et("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Rn(r,e,t,n,a,s){if(a||(a={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=t,[vn.HLINK,vn.XPATH,vn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),r["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][a.Id]=a,r[("/"+a.Target).replace("//","/")]=a,e}function Z1e(r){var e=[Rs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function rM(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function ebe(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function tbe(r){var e=[Rs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(rM(r[t][0],r[t][1])),e.push(ebe("",r[t][0]));return e.push(rM("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function g$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+v2.version+"</meta:generator></office:meta></office:document-meta>"}var v0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function RB(r,e,t,n,a){a[r]!=null||e==null||e===""||(a[r]=e,e=Hn(e),n[n.length]=t?Et(r,e,t):Ki(r,e))}function x$(r,e){var t=e||{},n=[Rs,Et("cp:coreProperties",null,{"xmlns:cp":pi.CORE_PROPS,"xmlns:dc":pi.dc,"xmlns:dcterms":pi.dcterms,"xmlns:dcmitype":pi.dcmitype,"xmlns:xsi":pi.xsi})],a={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&RB("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:sj(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),r.ModifiedDate!=null&&RB("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:sj(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=v0.length;++s){var i=v0[s],l=t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:r?r[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&RB(i[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var jp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],y$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function v$(r){var e=[],t=Et;return r||(r={}),r.Application="SheetJS",e[e.length]=Rs,e[e.length]=Et("Properties",null,{xmlns:pi.EXT_PROPS,"xmlns:vt":pi.vt}),jp.forEach(function(n){if(r[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Hn(String(r[n[1]]));break;case"bool":a=r[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(n[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Hn(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function b$(r){var e=[Rs,Et("Properties",null,{xmlns:pi.CUST_PROPS,"xmlns:vt":pi.vt})];if(!r)return e.join("");var t=1;return Gi(r).forEach(function(a){++t,e[e.length]=Et("property",y1e(r[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Hn(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var nM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function rbe(r,e){var t=[];return Gi(nM).map(function(n){for(var a=0;a<v0.length;++a)if(v0[a][1]==n)return v0[a];for(a=0;a<jp.length;++a)if(jp[a][1]==n)return jp[a];throw n}).forEach(function(n){if(r[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];n[2]==="date"&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(Ki(nM[n[1]]||n[1],a))}}),Et("DocumentProperties",t.join(""),{xmlns:Ml.o})}function nbe(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return r&&Gi(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var i=0;i<v0.length;++i)if(s==v0[i][1])return;for(i=0;i<jp.length;++i)if(s==jp[i][1])return;for(i=0;i<t.length;++i)if(s==t[i])return;var l=r[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Et(KL(s),l,{"dt:dt":c}))}}),e&&Gi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var i=e[s],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Et(KL(s),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ml.o+'">'+a.join("")+"</"+n+">"}function abe(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),a=(t-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=ot(8);return i.write_shift(4,n),i.write_shift(4,a),i}function aM(r,e){var t=ot(4),n=ot(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=ot(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=abe(e);break;case 31:case 80:for(n=ot(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return zi([t,n])}var w$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function sbe(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function sM(r,e,t){var n=ot(8),a=[],s=[],i=8,l=0,c=ot(8),u=ot(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!e){u=ot(8),u.write_shift(4,0),a.unshift(u);var d=[ot(4)];for(d[0].write_shift(4,r.length),l=0;l<r.length;++l){var f=r[l][0];for(c=ot(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=zi(d),s.unshift(c),i+=8+c.length}for(l=0;l<r.length;++l)if(!(e&&!e[r[l][0]])&&!(w$.indexOf(r[l][0])>-1||y$.indexOf(r[l][0])>-1)&&r[l][1]!=null){var p=r[l][1],m=0;if(e){m=+e[r[l][0]];var y=t[m];if(y.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=aM(y.t,p)}else{var v=sbe(p);v==-1&&(v=31,p=String(p)),c=aM(v,p)}s.push(c),u=ot(8),u.write_shift(4,e?m:2+l),a.push(u),i+=8+c.length}var w=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,w),w+=s[l].length;return n.write_shift(4,i),n.write_shift(4,s.length),zi([n].concat(a).concat(s))}function iM(r,e,t,n,a,s){var i=ot(a?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,ea.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,a?68:48);var c=sM(r,t,n);if(l.push(c),a){var u=sM(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),l.push(u)}return zi(l)}function ibe(r,e){e||(e=ot(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function obe(r,e){return r.read_shift(e)===1}function No(r,e){return e||(e=ot(2)),e.write_shift(2,+!!r),e}function C$(r){return r.read_shift(2,"u")}function wc(r,e){return e||(e=ot(2)),e.write_shift(2,r),e}function N$(r,e,t){return t||(t=ot(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function S$(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var i=n?r.read_shift(n,a):"";return i}function lbe(r){var e=r.t||"",t=ot(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=ot(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[t,n];return zi(a)}function cbe(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function ube(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):cbe(r,n,t)}function Abe(r,e,t){if(t.biff>5)return ube(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function B$(r,e,t){return t||(t=ot(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function oM(r,e){e||(e=ot(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function dbe(r){var e=ot(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(t=0;t<i.length;++t)e.write_shift(4,i[t]);if(s==28)n=n.slice(1),oM(n,e);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<i.length;++t)e.write_shift(1,parseInt(i[t],16));var l=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),s&8&&oM(a>-1?n.slice(a+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<i.length;++t)e.write_shift(1,parseInt(i[t],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),t=0;t<n.length-3*c;++t)e.write_shift(1,n.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function L0(r,e,t,n){return n||(n=ot(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function hbe(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),s=r.read_shift(n,"i"),i=r.read_shift(n,"i");return[a,s,i]}function fbe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function E$(r,e){return e||(e=ot(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function D3(r,e,t){var n=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ot(a);return s.write_shift(2,n),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function mbe(r,e){var t=!e||e.biff==8,n=ot(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function pbe(r,e){var t=!e||e.biff>=8?2:1,n=ot(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function gbe(r,e){var t=ot(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],a=0;a<r.length;++a)n[a]=lbe(r[a]);var s=zi([t].concat(n));return s.parts=[t.length].concat(n.map(function(i){return i.length})),s}function xbe(){var r=ot(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function ybe(r){var e=ot(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function vbe(r,e){var t=r.name||"Arial",n=e&&e.biff==5,a=n?15+t.length:16+2*t.length,s=ot(a);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function bbe(r,e,t,n){var a=ot(10);return L0(r,e,n,a),a.write_shift(4,t),a}function wbe(r,e,t,n,a){var s=!a||a.biff==8,i=ot(8+ +s+(1+s)*t.length);return L0(r,e,n,i),i.write_shift(2,t.length),s&&i.write_shift(1,1),i.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),i}function Cbe(r,e,t,n){var a=t&&t.biff==5;n||(n=ot(a?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function Nbe(r,e){var t=e.biff==8||!e.biff?4:2,n=ot(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function lM(r,e,t,n){var a=t&&t.biff==5;n||(n=ot(a?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Sbe(r){var e=ot(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Bbe(r,e,t,n,a,s){var i=ot(8);return L0(r,e,n,i),N$(t,s,i),i}function Ebe(r,e,t,n){var a=ot(14);return L0(r,e,n,a),I0(t,a),a}function jbe(r,e,t){if(t.biff<8)return _be(r,e,t);for(var n=[],a=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(hbe(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function _be(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=S$(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function Tbe(r){var e=ot(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)E$(r[t],e);return e}function kbe(r){var e=ot(24),t=xi(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return zi([e,dbe(r[1])])}function Fbe(r){var e=r[1].Tooltip,t=ot(10+2*(e.length+1));t.write_shift(2,2048);var n=xi(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function Obe(r){return r||(r=ot(4)),r.write_shift(2,1),r.write_shift(2,1),r}function Dbe(r,e,t){if(!t.cellStyles)return bA(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),s=r.read_shift(n),i=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function Pbe(r,e){var t=ot(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function Ibe(r){for(var e=ot(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function Lbe(r,e,t){var n=ot(15);return Ev(n,r,e),n.write_shift(8,t,"f"),n}function Mbe(r,e,t){var n=ot(9);return Ev(n,r,e),n.write_shift(2,t),n}var Rbe=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=C3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,c){var u=[],d=P0(1);switch(c.type){case"base64":d=yu(_d(l));break;case"binary":d=yu(l);break;case"buffer":case"array":d=l;break}Il(d,0);var f=d.read_shift(1),p=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var w=d.read_shift(2),S=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(S=r[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var C=[],j={},T=Math.min(d.length,f==2?521:v-10-(m?264:0)),L=y?32:11;d.l<T&&d[d.l]!=13;)switch(j={},j.name=b2.utils.decode(S,d.slice(d.l,d.l+L)).replace(/[\u0000\r\n].*$/g,""),d.l+=L,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&C.push(j),f!=2&&(d.l+=y?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var I=0,D=0;for(u[0]=[],D=0;D!=C.length;++D)u[0][D]=C[D].name;for(;g-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,u[++I]=[],D=0,D=0;D!=C.length;++D){var k=d.slice(d.l,d.l+C[D].len);d.l+=C[D].len,Il(k,0);var z=b2.utils.decode(S,k);switch(C[D].type){case"C":z.trim().length&&(u[I][D]=z.replace(/\s+$/,""));break;case"D":z.length===8?u[I][D]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):u[I][D]=z;break;case"F":u[I][D]=parseFloat(z.trim());break;case"+":case"I":u[I][D]=y?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":u[I][D]=!0;break;case"N":case"F":u[I][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[I][D]="##MEMO##"+(y?parseInt(z.trim(),10):k.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(u[I][D]=+z||0);break;case"@":u[I][D]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[I][D]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[I][D]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[I][D]=-k.read_shift(-8,"f");break;case"B":if(m&&C[D].len==8){u[I][D]=k.read_shift(8,"f");break}case"G":case"P":k.l+=C[D].len;break;case"0":if(C[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[D].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=C,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Bg(t(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return W0(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&ky(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ol(),f=D2(l,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),y=l["!cols"]||[],g=0,v=0,w=0,S=1;for(g=0;g<p.length;++g){if(((y[g]||{}).DBF||{}).name){p[g]=y[g].DBF.name,++w;continue}if(p[g]!=null){if(++w,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(v=0;v<1024;++v)if(p.indexOf(p[g]+"_"+v)==-1){p[g]+="_"+v;break}}}}var C=ba(l["!ref"]),j=[],T=[],L=[];for(g=0;g<=C.e.c-C.s.c;++g){var I="",D="",k=0,z=[];for(v=0;v<m.length;++v)m[v][g]!=null&&z.push(m[v][g]);if(z.length==0||p[g]==null){j[g]="?";continue}for(v=0;v<z.length;++v){switch(typeof z[v]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=z[v]instanceof Date?"D":"C";break;default:D="C"}k=Math.max(k,String(z[v]).length),I=I&&I!=D?"C":D}k>250&&(k=250),D=((y[g]||{}).DBF||{}).type,D=="C"&&y[g].DBF.len>k&&(k=y[g].DBF.len),I=="B"&&D=="N"&&(I="N",L[g]=y[g].DBF.dec,k=y[g].DBF.len),T[g]=I=="C"||D=="N"?k:s[I]||0,S+=T[g],j[g]=I}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*w),P.write_shift(2,S),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[_K]||3)<<8),g=0,v=0;g<p.length;++g)if(p[g]!=null){var U=d.next(32),M=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,M,"sbcs"),U.write_shift(1,j[g]=="?"?"C":j[g],"sbcs"),U.write_shift(4,v),U.write_shift(1,T[g]||s[j[g]]||0),U.write_shift(1,L[g]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),v+=T[g]||s[j[g]]||0}var q=d.next(264);for(q.write_shift(4,13),g=0;g<65;++g)q.write_shift(4,0);for(g=0;g<m.length;++g){var ae=d.next(S);for(ae.write_shift(1,0),v=0;v<p.length;++v)if(p[v]!=null)switch(j[v]){case"L":ae.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":ae.write_shift(8,m[g][v]||0,"f");break;case"N":var W="0";for(typeof m[g][v]=="number"&&(W=m[g][v].toFixed(L[v]||0)),w=0;w<T[v]-W.length;++w)ae.write_shift(1,32);ae.write_shift(1,W,"sbcs");break;case"D":m[g][v]?(ae.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(m[g][v]!=null?m[g][v]:"").slice(0,T[v]);for(ae.write_shift(1,ee,"sbcs"),w=0;w<T[v]-ee.length;++w)ae.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}})(),Ube=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Gi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,m){var y=r[m];return typeof y=="number"?FL(y):y},n=function(p,m,y){var g=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?p:FL(g)};r["|"]=254;function a(p,m){switch(m.type){case"base64":return s(_d(p),m);case"binary":return s(p,m);case"buffer":return s(_n&&Buffer.isBuffer(p)?p.toString("binary"):wv(p),m);case"array":return s(e5(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),g=-1,v=-1,w=0,S=0,C=[],j=[],T=null,L={},I=[],D=[],k=[],z=0,P;for(+m.codepage>=0&&ky(+m.codepage);w!==y.length;++w){z=0;var U=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),M=U.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),q=M[0],ae;if(U.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&j.push(U.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,ee=!1,re=!1,pe=!1,Se=-1,ne=-1;for(S=1;S<M.length;++S)switch(M[S].charAt(0)){case"A":break;case"X":v=parseInt(M[S].slice(1))-1,ee=!0;break;case"Y":for(g=parseInt(M[S].slice(1))-1,ee||(v=0),P=C.length;P<=g;++P)C[P]=[];break;case"K":ae=M[S].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(gd(ae))?isNaN(Oy(ae).getDate())||(ae=_o(ae)):(ae=gd(ae),T!==null&&QK(T)&&(ae=$K(ae))),W=!0;break;case"E":pe=!0;var F=Mwe(M[S].slice(1),{r:g,c:v});C[g][v]=[C[g][v],F];break;case"S":re=!0,C[g][v]=[C[g][v],"S5S"];break;case"G":break;case"R":Se=parseInt(M[S].slice(1))-1;break;case"C":ne=parseInt(M[S].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}if(W&&(C[g][v]&&C[g][v].length==2?C[g][v][0]=ae:C[g][v]=ae,T=null),re){if(pe)throw new Error("SYLK shared formula cannot have own formula");var Q=Se>-1&&C[Se][ne];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");C[g][v][1]=Rwe(Q[1],{r:g-Se,c:v-ne})}break;case"F":var K=0;for(S=1;S<M.length;++S)switch(M[S].charAt(0)){case"X":v=parseInt(M[S].slice(1))-1,++K;break;case"Y":for(g=parseInt(M[S].slice(1))-1,P=C.length;P<=g;++P)C[P]=[];break;case"M":z=parseInt(M[S].slice(1))/20;break;case"F":break;case"G":break;case"P":T=j[parseInt(M[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=M[S].slice(1).split(" "),P=parseInt(k[0],10);P<=parseInt(k[1],10);++P)z=parseInt(k[2],10),D[P-1]=z===0?{hidden:!0}:{wch:z},P3(D[P-1]);break;case"C":v=parseInt(M[S].slice(1))-1,D[v]||(D[v]={});break;case"R":g=parseInt(M[S].slice(1))-1,I[g]||(I[g]={}),z>0?(I[g].hpt=z,I[g].hpx=F$(z)):z===0&&(I[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}K<1&&(T=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}}return I.length>0&&(L["!rows"]=I),D.length>0&&(L["!cols"]=D),m&&m.sheetRows&&(C=C.slice(0,m.sheetRows)),[C,L]}function i(p,m){var y=a(p,m),g=y[0],v=y[1],w=Bg(g,m);return Gi(v).forEach(function(S){w[S]=v[S]}),w}function l(p,m){return W0(i(p,m),m)}function c(p,m,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(p.t){case"n":v+=p.v||0,p.f&&!p.F&&(v+=";E"+L3(p.f,{r:y,c:g}));break;case"b":v+=p.v?"TRUE":"FALSE";break;case"e":v+=p.w||p.v;break;case"d":v+='"'+(p.w||p.v)+'"';break;case"s":v+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(p,m){m.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=T2(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=k2(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&p.push(v)})}function d(p,m){m.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*F2(y.hpx)+";"),v.length>2&&p.push(v+"R"+(g+1))})}function f(p,m){var y=["ID;PWXL;N;E"],g=[],v=ba(p["!ref"]),w,S=Array.isArray(p),C=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&u(y,p["!cols"]),p["!rows"]&&d(y,p["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var j=v.s.r;j<=v.e.r;++j)for(var T=v.s.c;T<=v.e.c;++T){var L=Kn({r:j,c:T});w=S?(p[j]||[])[T]:p[L],!(!w||w.v==null&&(!w.f||w.F))&&g.push(c(w,p,j,T))}return y.join(C)+C+g.join(C)+C+"E"+C}return{to_workbook:l,to_sheet:i,from_sheet:f}})(),Qbe=(function(){function r(s,i){switch(i.type){case"base64":return e(_d(s),i);case"binary":return e(s,i);case"buffer":return e(_n&&Buffer.isBuffer(s)?s.toString("binary"):wv(s),i);case"array":return e(e5(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var p=l[d].trim().split(","),m=p[0],y=p[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(gd(y))?isNaN(Oy(y).getDate())?f[c][u]=y:f[c][u]=_o(y):f[c][u]=gd(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function t(s,i){return Bg(r(s,i),i)}function n(s,i){return W0(t(s,i),i)}var a=(function(){var s=function(c,u,d,f,p){c.push(u),c.push(d+","+f),c.push('"'+p.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=ba(c["!ref"]),f,p=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var g=Kn({r:m,c:y});if(f=p?(c[m]||[])[y]:c[g],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ef(f.z||ls[14],Al(_o(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var w=`\r
`,S=u.join(w);return S}})();return{to_workbook:n,to_sheet:t,from_sheet:a}})(),j$=(function(){function r(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,p){for(var m=f.split(`
`),y=-1,g=-1,v=0,w=[];v!==m.length;++v){var S=m[v].trim().split(":");if(S[0]==="cell"){var C=xi(S[1]);if(w.length<=C.r)for(y=w.length;y<=C.r;++y)w[y]||(w[y]=[]);switch(y=C.r,g=C.c,S[2]){case"t":w[y][g]=r(S[3]);break;case"v":w[y][g]=+S[3];break;case"vtf":var j=S[S.length-1];case"vtc":S[3]==="nl"?w[y][g]=!!+S[4]:w[y][g]=+S[4],S[2]=="vtf"&&(w[y][g]=[w[y][g],j])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function n(f,p){return Bg(t(f,p),p)}function a(f,p){return W0(n(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],y,g="",v=ql(f["!ref"]),w=Array.isArray(f),S=v.s.r;S<=v.e.r;++S)for(var C=v.s.c;C<=v.e.c;++C)if(g=Kn({r:S,c:C}),y=w?(f[S]||[])[C]:f[g],!(!y||y.v==null||y.t==="z")){switch(m=["cell",g,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var j=Al(_o(y.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=y.w||ef(y.z||ls[14],j);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),Hbe=(function(){function r(d,f,p,m,y){y.raw?f[p][m]=d:d===""||(d==="TRUE"?f[p][m]=!0:d==="FALSE"?f[p][m]=!1:isNaN(gd(d))?isNaN(Oy(d).getDate())?f[p][m]=d:f[p][m]=_o(d):f[p][m]=gd(d))}function e(d,f){var p=f||{},m=[];if(!d||d.length===0)return m;for(var y=d.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,w=0,S=0;S<=g;++S)w=y[S].indexOf(" "),w==-1?w=y[S].length:w++,v=Math.max(v,w);for(S=0;S<=g;++S){m[S]=[];var C=0;for(r(y[S].slice(0,v).trim(),m,S,C,p),C=1;C<=(y[S].length-v)/10+1;++C)r(y[S].slice(v+(C-1)*10,v+C*10).trim(),m,S,C,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},p=!1,m=0,y=0;m<d.length;++m)(y=d.charCodeAt(m))==34?p=!p:!p&&y in t&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),t[y.pop()[1]]||44}function s(d,f){var p=f||{},m="",y=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):p&&p.FS?m=p.FS:m=a(d.slice(0,1024));var v=0,w=0,S=0,C=0,j=0,T=m.charCodeAt(0),L=!1,I=0,D=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?a1e(p.dateNF):null;function z(){var P=d.slice(C,j),U={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)U.t="z";else if(p.raw)U.t="s",U.v=P;else if(P.trim().length===0)U.t="s",U.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(U.t="s",U.v=P.slice(2,-1).replace(/""/g,'"')):Uwe(P)?(U.t="n",U.f=P.slice(1)):(U.t="s",U.v=P);else if(P=="TRUE")U.t="b",U.v=!0;else if(P=="FALSE")U.t="b",U.v=!1;else if(!isNaN(S=gd(P)))U.t="n",p.cellText!==!1&&(U.w=P),U.v=S;else if(!isNaN(Oy(P).getDate())||k&&P.match(k)){U.z=p.dateNF||ls[14];var M=0;k&&P.match(k)&&(P=s1e(P,p.dateNF,P.match(k)||[]),M=1),p.cellDates?(U.t="d",U.v=_o(P,M)):(U.t="n",U.v=Al(_o(P,M))),p.cellText!==!1&&(U.w=ef(U.z,U.v instanceof Date?Al(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=P;if(U.t=="z"||(p.dense?(y[v]||(y[v]=[]),y[v][w]=U):y[Kn({c:w,r:v})]=U),C=j+1,D=d.charCodeAt(C),g.e.c<w&&(g.e.c=w),g.e.r<v&&(g.e.r=v),I==T)++w;else if(w=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;j<d.length;++j)switch(I=d.charCodeAt(j)){case 34:D===34&&(L=!L);break;case T:case 10:case 13:if(!L&&z())break e;break}return j-C>0&&z(),y["!ref"]=Ms(g),y}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Bg(e(d,f),f)}function l(d,f){var p="",m=f.type=="string"?[0,0,0,0]:eSe(d,f);switch(f.type){case"base64":p=_d(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof b2<"u"||(p=_n&&Buffer.isBuffer(d)?d.toString("binary"):wv(d));break;case"array":p=e5(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=sy(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=sy(p):f.type=="binary"&&typeof b2<"u",p.slice(0,19)=="socialcalc:version:"?j$.to_sheet(f.type=="string"?p:sy(p),f):i(p,f)}function c(d,f){return W0(l(d,f),f)}function u(d){for(var f=[],p=ba(d["!ref"]),m,y=Array.isArray(d),g=p.s.r;g<=p.e.r;++g){for(var v=[],w=p.s.c;w<=p.e.c;++w){var S=Kn({r:g,c:w});if(m=y?(d[g]||[])[w]:d[S],!m||m.v==null){v.push("          ");continue}for(var C=(m.w||(Td(m),m.w)||"").slice(0,10);C.length<10;)C+=" ";v.push(C+(w===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})(),cM=(function(){function r(F,Q,K){if(F){Il(F,F.l||0);for(var V=K.Enum||Se;F.l<F.length;){var J=F.read_shift(2),oe=V[J]||V[65535],Ne=F.read_shift(2),ue=F.l+Ne,xe=oe.f&&oe.f(F,Ne,K);if(F.l=ue,Q(xe,oe,J))return}}}function e(F,Q){switch(Q.type){case"base64":return t(yu(_d(F)),Q);case"binary":return t(yu(F),Q);case"buffer":case"array":return t(F,Q)}throw"Unsupported type "+Q.type}function t(F,Q){if(!F)return F;var K=Q||{},V=K.dense?[]:{},J="Sheet1",oe="",Ne=0,ue={},xe=[],Oe=[],Be={s:{r:0,c:0},e:{r:0,c:0}},qe=K.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)K.Enum=Se,r(F,function(We,bt,st){switch(st){case 0:K.vers=We,We>=4096&&(K.qpro=!0);break;case 6:Be=We;break;case 204:We&&(oe=We);break;case 222:oe=We;break;case 15:case 51:K.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:st==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=K.dateNF||ls[14],K.cellDates&&(We[1].t="d",We[1].v=$K(We[1].v))),K.qpro&&We[3]>Ne&&(V["!ref"]=Ms(Be),ue[J]=V,xe.push(J),V=K.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},Ne=We[3],J=oe||"Sheet"+(Ne+1),oe="");var Ye=K.dense?(V[We[0].r]||[])[We[0].c]:V[Kn(We[0])];if(Ye){Ye.t=We[1].t,Ye.v=We[1].v,We[1].z!=null&&(Ye.z=We[1].z),We[1].f!=null&&(Ye.f=We[1].f);break}K.dense?(V[We[0].r]||(V[We[0].r]=[]),V[We[0].r][We[0].c]=We[1]):V[Kn(We[0])]=We[1];break}},K);else if(F[2]==26||F[2]==14)K.Enum=ne,F[2]==14&&(K.qpro=!0,F.l=0),r(F,function(We,bt,st){switch(st){case 204:J=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>Ne&&(V["!ref"]=Ms(Be),ue[J]=V,xe.push(J),V=K.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},Ne=We[3],J="Sheet"+(Ne+1)),qe>0&&We[0].r>=qe)break;K.dense?(V[We[0].r]||(V[We[0].r]=[]),V[We[0].r][We[0].c]=We[1]):V[Kn(We[0])]=We[1],Be.e.c<We[0].c&&(Be.e.c=We[0].c),Be.e.r<We[0].r&&(Be.e.r=We[0].r);break;case 27:We[14e3]&&(Oe[We[14e3][0]]=We[14e3][1]);break;case 1537:Oe[We[0]]=We[1],We[0]==Ne&&(J=We[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(V["!ref"]=Ms(Be),ue[oe||J]=V,xe.push(oe||J),!Oe.length)return{SheetNames:xe,Sheets:ue};for(var Pe={},X=[],Me=0;Me<Oe.length;++Me)ue[xe[Me]]?(X.push(Oe[Me]||xe[Me]),Pe[Oe[Me]]=ue[Oe[Me]]||ue[xe[Me]]):(X.push(Oe[Me]),Pe[Oe[Me]]={"!ref":"A1"});return{SheetNames:X,Sheets:Pe}}function n(F,Q){var K=Q||{};if(+K.codepage>=0&&ky(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var V=ol(),J=ba(F["!ref"]),oe=Array.isArray(F),Ne=[];_t(V,0,s(1030)),_t(V,6,c(J));for(var ue=Math.min(J.e.r,8191),xe=J.s.r;xe<=ue;++xe)for(var Oe=qi(xe),Be=J.s.c;Be<=J.e.c;++Be){xe===J.s.r&&(Ne[Be]=Ao(Be));var qe=Ne[Be]+Oe,Pe=oe?(F[xe]||[])[Be]:F[qe];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?_t(V,13,m(xe,Be,Pe.v)):_t(V,14,g(xe,Be,Pe.v));else{var X=Td(Pe);_t(V,15,f(xe,Be,X.slice(0,239)))}}return _t(V,1),V.end()}function a(F,Q){var K=Q||{};if(+K.codepage>=0&&ky(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var V=ol();_t(V,0,i(F));for(var J=0,oe=0;J<F.SheetNames.length;++J)(F.Sheets[F.SheetNames[J]]||{})["!ref"]&&_t(V,27,pe(F.SheetNames[J],oe++));var Ne=0;for(J=0;J<F.SheetNames.length;++J){var ue=F.Sheets[F.SheetNames[J]];if(!(!ue||!ue["!ref"])){for(var xe=ba(ue["!ref"]),Oe=Array.isArray(ue),Be=[],qe=Math.min(xe.e.r,8191),Pe=xe.s.r;Pe<=qe;++Pe)for(var X=qi(Pe),Me=xe.s.c;Me<=xe.e.c;++Me){Pe===xe.s.r&&(Be[Me]=Ao(Me));var We=Be[Me]+X,bt=Oe?(ue[Pe]||[])[Me]:ue[We];if(!(!bt||bt.t=="z"))if(bt.t=="n")_t(V,23,z(Pe,Me,Ne,bt.v));else{var st=Td(bt);_t(V,22,I(Pe,Me,Ne,st.slice(0,239)))}}++Ne}}return _t(V,1),V.end()}function s(F){var Q=ot(2);return Q.write_shift(2,F),Q}function i(F){var Q=ot(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var K=0,V=0,J=0,oe=0;oe<F.SheetNames.length;++oe){var Ne=F.SheetNames[oe],ue=F.Sheets[Ne];if(!(!ue||!ue["!ref"])){++J;var xe=ql(ue["!ref"]);K<xe.e.r&&(K=xe.e.r),V<xe.e.c&&(V=xe.e.c)}}return K>8191&&(K=8191),Q.write_shift(2,K),Q.write_shift(1,J),Q.write_shift(1,V),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function l(F,Q,K){var V={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&K.qpro?(V.s.c=F.read_shift(1),F.l++,V.s.r=F.read_shift(2),V.e.c=F.read_shift(1),F.l++,V.e.r=F.read_shift(2),V):(V.s.c=F.read_shift(2),V.s.r=F.read_shift(2),Q==12&&K.qpro&&(F.l+=2),V.e.c=F.read_shift(2),V.e.r=F.read_shift(2),Q==12&&K.qpro&&(F.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function c(F){var Q=ot(8);return Q.write_shift(2,F.s.c),Q.write_shift(2,F.s.r),Q.write_shift(2,F.e.c),Q.write_shift(2,F.e.r),Q}function u(F,Q,K){var V=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(V[0].c=F.read_shift(1),V[3]=F.read_shift(1),V[0].r=F.read_shift(2),F.l+=2):(V[2]=F.read_shift(1),V[0].c=F.read_shift(2),V[0].r=F.read_shift(2)),V}function d(F,Q,K){var V=F.l+Q,J=u(F,Q,K);if(J[1].t="s",K.vers==20768){F.l++;var oe=F.read_shift(1);return J[1].v=F.read_shift(oe,"utf8"),J}return K.qpro&&F.l++,J[1].v=F.read_shift(V-F.l,"cstr"),J}function f(F,Q,K){var V=ot(7+K.length);V.write_shift(1,255),V.write_shift(2,Q),V.write_shift(2,F),V.write_shift(1,39);for(var J=0;J<V.length;++J){var oe=K.charCodeAt(J);V.write_shift(1,oe>=128?95:oe)}return V.write_shift(1,0),V}function p(F,Q,K){var V=u(F,Q,K);return V[1].v=F.read_shift(2,"i"),V}function m(F,Q,K){var V=ot(7);return V.write_shift(1,255),V.write_shift(2,Q),V.write_shift(2,F),V.write_shift(2,K,"i"),V}function y(F,Q,K){var V=u(F,Q,K);return V[1].v=F.read_shift(8,"f"),V}function g(F,Q,K){var V=ot(13);return V.write_shift(1,255),V.write_shift(2,Q),V.write_shift(2,F),V.write_shift(8,K,"f"),V}function v(F,Q,K){var V=F.l+Q,J=u(F,Q,K);if(J[1].v=F.read_shift(8,"f"),K.qpro)F.l=V;else{var oe=F.read_shift(2);j(F.slice(F.l,F.l+oe),J),F.l+=oe}return J}function w(F,Q,K){var V=Q&32768;return Q&=-32769,Q=(V?F:0)+(Q>=8192?Q-16384:Q),(V?"":"$")+(K?Ao(Q):qi(Q))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(F,Q){Il(F,0);for(var K=[],V=0,J="",oe="",Ne="",ue="";F.l<F.length;){var xe=F[F.l++];switch(xe){case 0:K.push(F.read_shift(8,"f"));break;case 1:oe=w(Q[0].c,F.read_shift(2),!0),J=w(Q[0].r,F.read_shift(2),!1),K.push(oe+J);break;case 2:{var Oe=w(Q[0].c,F.read_shift(2),!0),Be=w(Q[0].r,F.read_shift(2),!1);oe=w(Q[0].c,F.read_shift(2),!0),J=w(Q[0].r,F.read_shift(2),!1),K.push(Oe+Be+":"+oe+J)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(F.read_shift(2));break;case 6:{for(var qe="";xe=F[F.l++];)qe+=String.fromCharCode(xe);K.push('"'+qe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ue=K.pop(),Ne=K.pop(),K.push(["AND","OR"][xe-20]+"("+Ne+","+ue+")");break;default:if(xe<32&&C[xe])ue=K.pop(),Ne=K.pop(),K.push(Ne+C[xe]+ue);else if(S[xe]){if(V=S[xe][1],V==69&&(V=F[F.l++]),V>K.length){console.error("WK1 bad formula parse 0x"+xe.toString(16)+":|"+K.join("|")+"|");return}var Pe=K.slice(-V);K.length-=V,K.push(S[xe][0]+"("+Pe.join(",")+")")}else return xe<=7?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=24?console.error("WK1 unsupported op "+xe.toString(16)):xe<=30?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=115?console.error("WK1 unsupported function opcode "+xe.toString(16)):console.error("WK1 unrecognized opcode "+xe.toString(16))}}K.length==1?Q[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function T(F){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=F.read_shift(2),Q[3]=F[F.l++],Q[0].c=F[F.l++],Q}function L(F,Q){var K=T(F);return K[1].t="s",K[1].v=F.read_shift(Q-4,"cstr"),K}function I(F,Q,K,V){var J=ot(6+V.length);J.write_shift(2,F),J.write_shift(1,K),J.write_shift(1,Q),J.write_shift(1,39);for(var oe=0;oe<V.length;++oe){var Ne=V.charCodeAt(oe);J.write_shift(1,Ne>=128?95:Ne)}return J.write_shift(1,0),J}function D(F,Q){var K=T(F);K[1].v=F.read_shift(2);var V=K[1].v>>1;if(K[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return K[1].v=V,K}function k(F,Q){var K=T(F),V=F.read_shift(4),J=F.read_shift(4),oe=F.read_shift(2);if(oe==65535)return V===0&&J===3221225472?(K[1].t="e",K[1].v=15):V===0&&J===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Ne=oe&32768;return oe=(oe&32767)-16446,K[1].v=(1-Ne*2)*(J*Math.pow(2,oe+32)+V*Math.pow(2,oe)),K}function z(F,Q,K,V){var J=ot(14);if(J.write_shift(2,F),J.write_shift(1,K),J.write_shift(1,Q),V==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var oe=0,Ne=0,ue=0,xe=0;return V<0&&(oe=1,V=-V),Ne=Math.log2(V)|0,V/=Math.pow(2,Ne-31),xe=V>>>0,(xe&2147483648)==0&&(V/=2,++Ne,xe=V>>>0),V-=xe,xe|=2147483648,xe>>>=0,V*=Math.pow(2,32),ue=V>>>0,J.write_shift(4,ue),J.write_shift(4,xe),Ne+=16383+(oe?32768:0),J.write_shift(2,Ne),J}function P(F,Q){var K=k(F);return F.l+=Q-14,K}function U(F,Q){var K=T(F),V=F.read_shift(4);return K[1].v=V>>6,K}function M(F,Q){var K=T(F),V=F.read_shift(8,"f");return K[1].v=V,K}function q(F,Q){var K=M(F);return F.l+=Q-10,K}function ae(F,Q){return F[F.l+Q-1]==0?F.read_shift(Q,"cstr"):""}function W(F,Q){var K=F[F.l++];K>Q-1&&(K=Q-1);for(var V="";V.length<K;)V+=String.fromCharCode(F[F.l++]);return V}function ee(F,Q,K){if(!(!K.qpro||Q<21)){var V=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var J=F.read_shift(Q-21,"cstr");return[V,J]}}function re(F,Q){for(var K={},V=F.l+Q;F.l<V;){var J=F.read_shift(2);if(J==14e3){for(K[J]=[0,""],K[J][0]=F.read_shift(2);F[F.l];)K[J][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return K}function pe(F,Q){var K=ot(5+F.length);K.write_shift(2,14e3),K.write_shift(2,Q);for(var V=0;V<F.length;++V){var J=F.charCodeAt(V);K[K.l++]=J>127?95:J}return K[K.l++]=0,K}var Se={0:{n:"BOF",f:C$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:L},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),zbe=/^\s|\s$|[\t\n\r]/;function _$(r,e){if(!e.bookSST)return"";var t=[Rs];t[t.length]=Et("sst",null,{xmlns:Sg[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var a=r[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(zbe)&&(s+=' xml:space="preserve"'),s+=">"+Hn(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function Kbe(r){return[r.read_shift(4),r.read_shift(4)]}function $be(r,e){return e||(e=ot(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var Vbe=I1e;function qbe(r){var e=ol();xt(e,159,$be(r));for(var t=0;t<r.length;++t)xt(e,19,Vbe(r[t]));return xt(e,160),e.end()}function Gbe(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function T$(r){var e=0,t,n=Gbe(r),a=n.length+1,s,i,l,c,u;for(t=P0(a),t[0]=n.length,s=1;s!=a;++s)t[s]=n[s-1];for(s=a-1;s>=0;--s)i=t[s],l=(e&16384)===0?0:1,c=e<<1&32767,u=l|c,e=u^i;return e^52811}var Wbe=(function(){function r(a,s){switch(s.type){case"base64":return e(_d(a),s);case"binary":return e(a,s);case"buffer":return e(_n&&Buffer.isBuffer(a)?a.toString("binary"):wv(a),s);case"array":return e(e5(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var p=/\\\w+\b/g,m=0,y,g=-1;y=p.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(m,p.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var w={v,t:"s"};Array.isArray(l)?l[f][g]=w:l[Kn({r:f,c:g})]=w}break}m=p.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Ms(u),l}function t(a,s){return W0(r(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=ba(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Kn({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Td(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function uM(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var Ybe=6,xd=Ybe;function T2(r){return Math.floor((r+Math.round(128/xd)/256)*xd)}function k2(r){return Math.floor((r-5)/xd*100+.5)/100}function oj(r){return Math.round((r*xd+5)/xd*256)/256}function P3(r){r.width?(r.wpx=T2(r.width),r.wch=k2(r.wpx),r.MDW=xd):r.wpx?(r.wch=k2(r.wpx),r.width=oj(r.wch),r.MDW=xd):typeof r.wch=="number"&&(r.width=oj(r.wch),r.wpx=T2(r.width),r.MDW=xd),r.customWidth&&delete r.customWidth}var Xbe=96,k$=Xbe;function F2(r){return r*96/k$}function F$(r){return r*k$/96}function Jbe(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Et("numFmt",null,{numFmtId:n,formatCode:Hn(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Zbe(r){var e=[];return e[e.length]=Et("cellXfs",null),r.forEach(function(t){e[e.length]=Et("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function O$(r,e){var t=[Rs,Et("styleSheet",null,{xmlns:Sg[0],"xmlns:vt":pi.vt})],n;return r.SSF&&(n=Jbe(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Zbe(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function ewe(r,e){var t=r.read_shift(2),n=ho(r);return[t,n]}function twe(r,e,t){t||(t=ot(6+4*e.length)),t.write_shift(2,r),yi(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function rwe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=z1e(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=r.read_shift(1);i!=0&&(n.underline=i);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=H1e(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ho(r),n}function nwe(r,e){e||(e=ot(153)),e.write_shift(2,r.sz*20),K1e(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),j2(r.color,e);var n=0;return n=2,e.write_shift(1,n),yi(r.name,e),e.length>e.l?e.slice(0,e.l):e}var awe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],UB,swe=bA;function AM(r,e){e||(e=ot(84)),UB||(UB=C3(awe));var t=UB[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(j2({auto:1},e),j2({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function iwe(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}function D$(r,e,t){t||(t=ot(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function jx(r,e){return e||(e=ot(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var owe=bA;function lwe(r,e){return e||(e=ot(51)),e.write_shift(1,0),jx(null,e),jx(null,e),jx(null,e),jx(null,e),jx(null,e),e.length>e.l?e.slice(0,e.l):e}function cwe(r,e){return e||(e=ot(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),E2(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function uwe(r,e,t){var n=ot(2052);return n.write_shift(4,r),E2(e,n),E2(t,n),n.length>n.l?n.slice(0,n.l):n}function Awe(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++t}),t!=0&&(xt(r,615,wu(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&xt(r,44,twe(a,e[a]))}),xt(r,616))}}function dwe(r){var e=1;xt(r,611,wu(e)),xt(r,43,nwe({sz:12,color:{theme:1},name:"Calibri",family:2})),xt(r,612)}function hwe(r){var e=2;xt(r,603,wu(e)),xt(r,45,AM({patternType:"none"})),xt(r,45,AM({patternType:"gray125"})),xt(r,604)}function fwe(r){var e=1;xt(r,613,wu(e)),xt(r,46,lwe()),xt(r,614)}function mwe(r){var e=1;xt(r,626,wu(e)),xt(r,47,D$({numFmtId:0},65535)),xt(r,627)}function pwe(r,e){xt(r,617,wu(e.length)),e.forEach(function(t){xt(r,47,D$(t,0))}),xt(r,618)}function gwe(r){var e=1;xt(r,619,wu(e)),xt(r,48,cwe({xfId:0,name:"Normal"})),xt(r,620)}function xwe(r){var e=0;xt(r,505,wu(e)),xt(r,506)}function ywe(r){var e=0;xt(r,508,uwe(e,"TableStyleMedium9","PivotStyleMedium4")),xt(r,509)}function vwe(r,e){var t=ol();return xt(t,278),Awe(t,r.SSF),dwe(t),hwe(t),fwe(t),mwe(t),pwe(t,e.cellXfs),gwe(t),xwe(t),ywe(t),xt(t,279),t.end()}function P$(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Rs];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function bwe(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:ho(r)}}function wwe(r){var e=ot(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),yi(r.name,e),e.slice(0,e.l)}function Cwe(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function Nwe(r){var e=ot(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function Swe(r,e){var t=ot(8+2*e.length);return t.write_shift(4,r),yi(e,t),t.slice(0,t.l)}function Bwe(r){return r.l+=4,r.read_shift(4)!=0}function Ewe(r,e){var t=ot(8);return t.write_shift(4,r),t.write_shift(4,1),t}function jwe(){var r=ol();return xt(r,332),xt(r,334,wu(1)),xt(r,335,wwe({name:"XLDAPR",version:12e4,flags:3496657072})),xt(r,336),xt(r,339,Swe(1,"XLDAPR")),xt(r,52),xt(r,35,wu(514)),xt(r,4096,wu(0)),xt(r,4097,wc(1)),xt(r,36),xt(r,53),xt(r,340),xt(r,337,Ewe(1)),xt(r,51,Nwe([[1,0]])),xt(r,338),xt(r,333),r.end()}function I$(){var r=[Rs];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function _we(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Kn(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var yp=1024;function L$(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Et("xml",null,{"xmlns:v":Ml.v,"xmlns:o":Ml.o,"xmlns:x":Ml.x,"xmlns:mv":Ml.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];yp<r*1e3;)yp+=1e3;return e.forEach(function(s){var i=xi(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Et("v:fill",c,l),d={on:"t",obscured:"t"};++yp,a=a.concat(["<v:shape"+Py({id:"_x0000_s"+yp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Et("v:shadow",null,d),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ki("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),Ki("x:AutoFill","False"),Ki("x:Row",String(i.r)),Ki("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function M$(r){var e=[Rs,Et("comments",null,{xmlns:Sg[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(a){var s=Hn(a.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=t.indexOf(Hn(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(Ki("t",Hn(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)i+=`Reply:
    `+s[l]+`
`;e.push(Ki("t",Hn(i)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Twe(r,e,t){var n=[Rs,Et("ThreadedComments",null,{xmlns:pi.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),n.push(Et("threadedComment",Ki("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function kwe(r){var e=[Rs,Et("personList",null,{xmlns:pi.TCMNT,"xmlns:x":Sg[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Et("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Fwe(r){var e={};e.iauthor=r.read_shift(4);var t=Z0(r);return e.rfx=t.s,e.ref=Kn(t.s),r.l+=16,e}function Owe(r,e){return e==null&&(e=ot(36)),e.write_shift(4,r[1].iauthor),Eg(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Dwe=ho;function Pwe(r){return yi(r.slice(0,54))}function Iwe(r){var e=ol(),t=[];return xt(e,628),xt(e,630),r.forEach(function(n){n[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),xt(e,632,Pwe(a.a)))})}),xt(e,631),xt(e,633),r.forEach(function(n){n[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:xi(n[0]),e:xi(n[0])};xt(e,635,Owe([s,a])),a.t&&a.t.length>0&&xt(e,637,M1e(a)),xt(e,636),delete a.iauthor})}),xt(e,634),xt(e,629),e.end()}function Lwe(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ea.utils.cfb_add(r,a,e.FileIndex[n].content)}})}var R$=["xlsb","xlsm","xlam","biff8","xla"],Mwe=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=e.c:--d,c?u+=e.r:--u,a+(l?"":"$")+Ao(d)+(c?"":"$")+qi(u)}return function(a,s){return e=s,a.replace(r,t)}})(),I3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,L3=(function(){return function(e,t){return e.replace(I3,function(n,a,s,i,l,c){var u=T3(i)-(s?0:t.c),d=_3(c)-(l?0:t.r),f=d==0?"":l?d+1:"["+d+"]",p=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+p})}})();function Rwe(r,e){return r.replace(I3,function(t,n,a,s,i,l){return n+(a=="$"?a+s:Ao(T3(s)+e.c))+(i=="$"?i+l:qi(_3(l)+e.r))})}function Uwe(r){return r.length!=1}function Os(r){r.l+=1}function tf(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function U$(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return Q$(r);t.biff==12&&(n=4)}var a=r.read_shift(n),s=r.read_shift(n),i=tf(r),l=tf(r);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function Q$(r){var e=tf(r),t=tf(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function Qwe(r,e,t){if(t.biff<8)return Q$(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),s=tf(r),i=tf(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function H$(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return Hwe(r);var n=r.read_shift(t&&t.biff==12?4:2),a=tf(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Hwe(r){var e=tf(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function zwe(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Kwe(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return $we(r);var a=r.read_shift(n>=12?4:2),s=r.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function $we(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function Vwe(r,e,t){var n=(r[r.l++]&96)>>5,a=U$(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function qwe(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var i=U$(r,s,t);return[n,a,i]}function Gwe(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function Wwe(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,a]}function Ywe(r,e,t){var n=(r[r.l++]&96)>>5,a=Qwe(r,e-1,t);return[n,a]}function Xwe(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function dM(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function Jwe(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function Zwe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function e2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function t2e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function r2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function z$(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function n2e(r){return r.read_shift(2),z$(r)}function a2e(r){return r.read_shift(2),z$(r)}function s2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=H$(r,0,t);return[n,a]}function i2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=Kwe(r,0,t);return[n,a]}function o2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=H$(r,0,t);return[n,a,s]}function l2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[lCe[a],V$[a],n]}function c2e(r,e,t){var n=r[r.l++],a=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:u2e(r);return[a,(s[0]===0?V$:oCe)[s[1]]]}function u2e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function A2e(r,e,t){r.l+=t&&t.biff==2?3:4}function d2e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function h2e(r){return r.l++,Sv[r.read_shift(1)]}function f2e(r){return r.l++,r.read_shift(2)}function m2e(r){return r.l++,r.read_shift(1)!==0}function p2e(r){return r.l++,jg(r)}function g2e(r,e,t){return r.l++,S$(r,e-1,t)}function x2e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=obe(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Sv[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=jg(r);break;case 2:t[1]=Abe(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function y2e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((t.biff==12?Z0:fbe)(r));return a}function v2e(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=x2e(r,t.biff);return i}function b2e(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function w2e(r,e,t){if(t.biff==5)return C2e(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),s=r.read_shift(4);return[n,a,s]}function C2e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function N2e(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function S2e(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function B2e(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function E2e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,a]}var j2e=bA,_2e=bA,T2e=bA;function Bv(r,e,t){return r.l+=2,[zwe(r)]}function M3(r){return r.l+=6,[]}var k2e=Bv,F2e=M3,O2e=M3,D2e=Bv;function K$(r){return r.l+=2,[C$(r),r.read_shift(2)&1]}var P2e=Bv,I2e=K$,L2e=M3,M2e=Bv,R2e=Bv,U2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Q2e(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),s=r.read_shift(2),i=U2e[t>>2&31];return{ixti:e,coltype:t&3,rt:i,idx:n,c:a,C:s}}function H2e(r){return r.l+=2,[r.read_shift(4)]}function z2e(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function K2e(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function $2e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function V2e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function q2e(r){return r.l+=4,[0,0]}var hM={1:{n:"PtgExp",f:d2e},2:{n:"PtgTbl",f:T2e},3:{n:"PtgAdd",f:Os},4:{n:"PtgSub",f:Os},5:{n:"PtgMul",f:Os},6:{n:"PtgDiv",f:Os},7:{n:"PtgPower",f:Os},8:{n:"PtgConcat",f:Os},9:{n:"PtgLt",f:Os},10:{n:"PtgLe",f:Os},11:{n:"PtgEq",f:Os},12:{n:"PtgGe",f:Os},13:{n:"PtgGt",f:Os},14:{n:"PtgNe",f:Os},15:{n:"PtgIsect",f:Os},16:{n:"PtgUnion",f:Os},17:{n:"PtgRange",f:Os},18:{n:"PtgUplus",f:Os},19:{n:"PtgUminus",f:Os},20:{n:"PtgPercent",f:Os},21:{n:"PtgParen",f:Os},22:{n:"PtgMissArg",f:Os},23:{n:"PtgStr",f:g2e},26:{n:"PtgSheet",f:z2e},27:{n:"PtgEndSheet",f:K2e},28:{n:"PtgErr",f:h2e},29:{n:"PtgBool",f:m2e},30:{n:"PtgInt",f:f2e},31:{n:"PtgNum",f:p2e},32:{n:"PtgArray",f:Xwe},33:{n:"PtgFunc",f:l2e},34:{n:"PtgFuncVar",f:c2e},35:{n:"PtgName",f:b2e},36:{n:"PtgRef",f:s2e},37:{n:"PtgArea",f:Vwe},38:{n:"PtgMemArea",f:N2e},39:{n:"PtgMemErr",f:j2e},40:{n:"PtgMemNoMem",f:_2e},41:{n:"PtgMemFunc",f:S2e},42:{n:"PtgRefErr",f:B2e},43:{n:"PtgAreaErr",f:Gwe},44:{n:"PtgRefN",f:i2e},45:{n:"PtgAreaN",f:Ywe},46:{n:"PtgMemAreaN",f:$2e},47:{n:"PtgMemNoMemN",f:V2e},57:{n:"PtgNameX",f:w2e},58:{n:"PtgRef3d",f:o2e},59:{n:"PtgArea3d",f:qwe},60:{n:"PtgRefErr3d",f:E2e},61:{n:"PtgAreaErr3d",f:Wwe},255:{}},G2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},W2e={1:{n:"PtgElfLel",f:K$},2:{n:"PtgElfRw",f:M2e},3:{n:"PtgElfCol",f:k2e},6:{n:"PtgElfRwV",f:R2e},7:{n:"PtgElfColV",f:D2e},10:{n:"PtgElfRadical",f:P2e},11:{n:"PtgElfRadicalS",f:L2e},13:{n:"PtgElfColS",f:F2e},15:{n:"PtgElfColSV",f:O2e},16:{n:"PtgElfRadicalLel",f:I2e},25:{n:"PtgList",f:Q2e},29:{n:"PtgSxName",f:H2e},255:{}},Y2e={0:{n:"PtgAttrNoop",f:q2e},1:{n:"PtgAttrSemi",f:r2e},2:{n:"PtgAttrIf",f:e2e},4:{n:"PtgAttrChoose",f:Jwe},8:{n:"PtgAttrGoto",f:Zwe},16:{n:"PtgAttrSum",f:A2e},32:{n:"PtgAttrBaxcel",f:dM},33:{n:"PtgAttrBaxcel",f:dM},64:{n:"PtgAttrSpace",f:n2e},65:{n:"PtgAttrSpaceSemi",f:a2e},128:{n:"PtgAttrIfError",f:t2e},255:{}};function X2e(r,e,t,n){if(n.biff<8)return bA(r,e);for(var a=r.l+e,s=[],i=0;i!==t.length;++i)switch(t[i][0]){case"PtgArray":t[i][1]=v2e(r,0,n),s.push(t[i][1]);break;case"PtgMemArea":t[i][2]=y2e(r,t[i][1],n),s.push(t[i][2]);break;case"PtgExp":n&&n.biff==12&&(t[i][1][1]=r.read_shift(4),s.push(t[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[i][0]}return e=a-r.l,e!==0&&s.push(bA(r,e)),s}function J2e(r,e,t){for(var n=r.l+e,a,s,i=[];n!=r.l;)e=n-r.l,s=r[r.l],a=hM[s]||hM[G2e[s]],(s===24||s===25)&&(a=(s===24?W2e:Y2e)[r[r.l+1]]),!a||!a.f?bA(r,e):i.push([a.n,a.f(r,e,t)]);return i}function Z2e(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],s=0;s<n.length;++s){var i=n[s];i?i[0]===2?a.push('"'+i[1].replace(/"/g,'""')+'"'):a.push(i[1]):a.push("")}e.push(a.join(","))}return e.join(";")}var eCe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function tCe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function $$(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function fM(r,e,t){var n=$$(r,e,t);return n=="#REF"?n:tCe(n,t)}function tg(r,e,t,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},l=[],c,u,d,f=0,p=0,m,y="";if(!r[0]||!r[0][0])return"";for(var g=-1,v="",w=0,S=r[0].length;w<S;++w){var C=r[0][w];switch(C[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(r[0][g][1][0]){case 0:v=is(" ",r[0][g][1][1]);break;case 1:v=is("\r",r[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}u=u+v,g=-1}l.push(u+eCe[C[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=oy(C[1][1],i,a),l.push(ly(d,s));break;case"PtgRefN":d=t?oy(C[1][1],t,a):C[1][1],l.push(ly(d,s));break;case"PtgRef3d":f=C[1][1],d=oy(C[1][2],i,a),y=fM(n,f,a),l.push(y+"!"+ly(d,s));break;case"PtgFunc":case"PtgFuncVar":var j=C[1][0],T=C[1][1];j||(j=0),j&=127;var L=j==0?[]:l.slice(-j);l.length-=j,T==="User"&&(T=L.shift()),l.push(T+"("+L.join(",")+")");break;case"PtgBool":l.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(C[1]);break;case"PtgNum":l.push(String(C[1]));break;case"PtgStr":l.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(C[1]);break;case"PtgAreaN":m=JL(C[1][1],t?{s:t}:i,a),l.push(MB(m,a));break;case"PtgArea":m=JL(C[1][1],i,a),l.push(MB(m,a));break;case"PtgArea3d":f=C[1][1],m=C[1][2],y=fM(n,f,a),l.push(y+"!"+MB(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=C[1][2];var I=(n.names||[])[p-1]||(n[0]||[])[p],D=I?I.Name:"SH33TJSNAME"+String(p);D&&D.slice(0,6)=="_xlfn."&&!a.xlfn&&(D=D.slice(6)),l.push(D);break;case"PtgNameX":var k=C[1][1];p=C[1][2];var z;if(a.biff<=5)k<0&&(k=-k),n[k]&&(z=n[k][p]);else{var P="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][p]&&n[k][p].itab>0&&(P=n.SheetNames[n[k][p].itab-1]+"!"):P=n.SheetNames[p-1]+"!"),n[k]&&n[k][p])P+=n[k][p].Name;else if(n[0]&&n[0][p])P+=n[0][p].Name;else{var U=($$(n,k,a)||"").split(";;");U[p-1]?P=U[p-1]:P+="SH33TJSERRX"}l.push(P);break}z||(z={Name:"SH33TJSERRY"}),l.push(z.Name);break;case"PtgParen":var M="(",q=")";if(g>=0){switch(v="",r[0][g][1][0]){case 2:M=is(" ",r[0][g][1][1])+M;break;case 3:M=is("\r",r[0][g][1][1])+M;break;case 4:q=is(" ",r[0][g][1][1])+q;break;case 5:q=is("\r",r[0][g][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}g=-1}l.push(M+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:C[1][1],r:C[1][0]};var ae={c:t.c,r:t.r};if(n.sharedf[Kn(d)]){var W=n.sharedf[Kn(d)];l.push(tg(W,i,ae,n,a))}else{var ee=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(tg(u[1],i,ae,n,a)),ee=!0;break}ee||l.push(C[1])}break;case"PtgArray":l.push("{"+Z2e(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&re.indexOf(r[0][w][0])==-1){C=r[0][g];var pe=!0;switch(C[1][0]){case 4:pe=!1;case 0:v=is(" ",C[1][1]);break;case 5:pe=!1;case 1:v=is("\r",C[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}l.push((pe?v:"")+l.pop()+(pe?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function rCe(r){if(r==null){var e=ot(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return I0(r);return I0(0)}function nCe(r,e,t,n,a){var s=L0(e,t,a),i=rCe(r.v),l=ot(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=ot(r.bf.length),d=0;d<r.bf.length;++d)u[d]=r.bf[d];var f=zi([s,i,l,u]);return f}function t5(r,e,t){var n=r.read_shift(4),a=J2e(r,n,t),s=r.read_shift(4),i=s>0?X2e(r,s,a,t):null;return[a,i]}var aCe=t5,r5=t5,sCe=t5,iCe=t5,oCe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},V$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lCe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function cCe(r){var e="of:="+r.replace(I3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function uCe(r){return r.replace(/\./,"!")}var cy=typeof Map<"u";function R3(r,e,t){var n=0,a=r.length;if(t){if(cy?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=cy?t.get(e):t[e];n<s.length;++n)if(r[s[n]].t===e)return r.Count++,s[n]}}else for(;n<a;++n)if(r[n].t===e)return r.Count++,n;return r[a]={t:e},r.Count++,r.Unique++,t&&(cy?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function n5(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(xd=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=k2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=oj(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function q$(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function mf(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],a=60,s=r.length;if(n==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){HK(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=n=a;break}}for(a=0;a!=s;++a)if(r[a].numFmtId===n)return a;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function ACe(r,e,t){if(r&&r["!ref"]){var n=ba(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function dCe(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Ms(r[t])+'"/>';return e+"</mergeCells>"}function hCe(r,e,t,n,a){var s=!1,i={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,i.codeName=Dy(Hn(c))}if(r&&r["!outline"]){var u={summaryBelow:1,summaryRight:1};r["!outline"].above&&(u.summaryBelow=0),r["!outline"].left&&(u.summaryRight=0),l=(l||"")+Et("outlinePr",null,u)}!s&&!l||(a[a.length]=Et("sheetPr",l,i))}var fCe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],mCe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function pCe(r){var e={sheet:1};return fCe.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),mCe.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=T$(r.password).toString(16).toUpperCase()),Et("sheetProtection",null,e)}function gCe(r){return q$(r),Et("pageMargins",null,r)}function xCe(r,e){for(var t=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(t[t.length]=Et("col",null,n5(a,n)));return t[t.length]="</cols>",t.join("")}function yCe(r,e,t,n){var a=typeof r.ref=="string"?r.ref:Ms(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,i=ql(a);i.s.r==i.e.r&&(i.e.r=ql(e["!ref"]).e.r,a=Ms(i));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+t.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),Et("autoFilter",null,{ref:a})}function vCe(r,e,t,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,a),{})}function bCe(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var a="",s=r.t,i=r.v;if(r.t!=="z")switch(r.t){case"b":a=r.v?"1":"0";break;case"n":a=""+r.v;break;case"e":a=Sv[r.v];break;case"d":n&&n.cellDates?a=_o(r.v,-1).toISOString():(r=dl(r),r.t="n",a=""+(r.v=Al(_o(r.v)))),typeof r.z>"u"&&(r.z=ls[14]);break;default:a=r.v;break}var l=Ki("v",Hn(a)),c={r:e},u=mf(n.cellXfs,r,n);switch(u!==0&&(c.s=u),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ki("v",""+R3(n.Strings,r.v,n.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=s&&(r.t=s,r.v=i),typeof r.f=="string"&&r.f){var d=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;l=Et("f",Hn(r.f),d)+(r.v!=null?l:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(c.cm=1),Et("c",l,c)}function wCe(r,e,t,n){var a=[],s=[],i=ba(r["!ref"]),l="",c,u="",d=[],f=0,p=0,m=r["!rows"],y=Array.isArray(r),g={r:u},v,w=-1;for(p=i.s.c;p<=i.e.c;++p)d[p]=Ao(p);for(f=i.s.r;f<=i.e.r;++f){for(s=[],u=qi(f),p=i.s.c;p<=i.e.c;++p){c=d[p]+u;var S=y?(r[f]||[])[p]:r[c];S!==void 0&&(l=bCe(S,c,r,e))!=null&&s.push(l)}(s.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(v=m[f],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=F2(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=Et("row",s.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},v=m[f],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=F2(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=Et("row","",g));return a.join("")}function G$(r,e,t,n){var a=[Rs,Et("worksheet",null,{xmlns:Sg[0],"xmlns:r":pi.r})],s=t.SheetNames[r],i=0,l="",c=t.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=ba(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Ms(d)}n||(n={}),c["!comments"]=[];var f=[];hCe(c,t,r,e,a),a[a.length]=Et("dimension",null,{ref:u}),a[a.length]=vCe(c,e,r,t),e.sheetFormat&&(a[a.length]=Et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=xCe(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=wCe(c,e),l.length>0&&(a[a.length]=l)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=pCe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=yCe(c["!autofilter"],c,t,r)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=dCe(c["!merges"]));var p=-1,m,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Rn(n,-1,Hn(g[1].Target).replace(/#.*$/,""),vn.HLINK),m["r:id"]="rId"+y),(p=g[1].Target.indexOf("#"))>-1&&(m.location=Hn(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=Hn(g[1].Tooltip)),a[a.length]=Et("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=gCe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=Ki("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=Rn(n,-1,"../drawings/drawing"+(r+1)+".xml",vn.DRAW),a[a.length]=Et("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=Rn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",vn.VML),a[a.length]=Et("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function CCe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function NCe(r,e,t){var n=ot(145),a=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;a.hpx?s=F2(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var f=-1,p=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var y=Array.isArray(t)?(t[u.r]||[])[u.c]:t[Kn(u)];y&&(f<0&&(f=m),p=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,p))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function SCe(r,e,t,n){var a=NCe(n,t,e);(a.length>17||(e["!rows"]||[])[n])&&xt(r,0,a)}var BCe=Z0,ECe=Eg;function jCe(){}function _Ce(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=R1e(r),t}function TCe(r,e,t){t==null&&(t=ot(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var a=1;a<3;++a)t.write_shift(1,0);return j2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),c$(r,t),t.slice(0,t.l)}function kCe(r){var e=Lc(r);return[e]}function FCe(r,e,t){return t==null&&(t=ot(8)),Y0(e,t)}function OCe(r){var e=X0(r);return[e]}function DCe(r,e,t){return t==null&&(t=ot(4)),J0(e,t)}function PCe(r){var e=Lc(r),t=r.read_shift(1);return[e,t,"b"]}function ICe(r,e,t){return t==null&&(t=ot(9)),Y0(e,t),t.write_shift(1,r.v?1:0),t}function LCe(r){var e=X0(r),t=r.read_shift(1);return[e,t,"b"]}function MCe(r,e,t){return t==null&&(t=ot(5)),J0(e,t),t.write_shift(1,r.v?1:0),t}function RCe(r){var e=Lc(r),t=r.read_shift(1);return[e,t,"e"]}function UCe(r,e,t){return t==null&&(t=ot(9)),Y0(e,t),t.write_shift(1,r.v),t}function QCe(r){var e=X0(r),t=r.read_shift(1);return[e,t,"e"]}function HCe(r,e,t){return t==null&&(t=ot(8)),J0(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function zCe(r){var e=Lc(r),t=r.read_shift(4);return[e,t,"s"]}function KCe(r,e,t){return t==null&&(t=ot(12)),Y0(e,t),t.write_shift(4,e.v),t}function $Ce(r){var e=X0(r),t=r.read_shift(4);return[e,t,"s"]}function VCe(r,e,t){return t==null&&(t=ot(8)),J0(e,t),t.write_shift(4,e.v),t}function qCe(r){var e=Lc(r),t=jg(r);return[e,t,"n"]}function GCe(r,e,t){return t==null&&(t=ot(16)),Y0(e,t),I0(r.v,t),t}function WCe(r){var e=X0(r),t=jg(r);return[e,t,"n"]}function YCe(r,e,t){return t==null&&(t=ot(12)),J0(e,t),I0(r.v,t),t}function XCe(r){var e=Lc(r),t=u$(r);return[e,t,"n"]}function JCe(r,e,t){return t==null&&(t=ot(12)),Y0(e,t),A$(r.v,t),t}function ZCe(r){var e=X0(r),t=u$(r);return[e,t,"n"]}function e5e(r,e,t){return t==null&&(t=ot(8)),J0(e,t),A$(r.v,t),t}function t5e(r){var e=Lc(r),t=k3(r);return[e,t,"is"]}function r5e(r){var e=Lc(r),t=ho(r);return[e,t,"str"]}function n5e(r,e,t){return t==null&&(t=ot(12+4*r.v.length)),Y0(e,t),yi(r.v,t),t.length>t.l?t.slice(0,t.l):t}function a5e(r){var e=X0(r),t=ho(r);return[e,t,"str"]}function s5e(r,e,t){return t==null&&(t=ot(8+4*r.v.length)),J0(e,t),yi(r.v,t),t.length>t.l?t.slice(0,t.l):t}function i5e(r,e,t){var n=r.l+e,a=Lc(r);a.r=t["!row"];var s=r.read_shift(1),i=[a,s,"b"];if(t.cellFormula){r.l+=2;var l=r5(r,n-r.l,t);i[3]=tg(l,null,a,t.supbooks,t)}else r.l=n;return i}function o5e(r,e,t){var n=r.l+e,a=Lc(r);a.r=t["!row"];var s=r.read_shift(1),i=[a,s,"e"];if(t.cellFormula){r.l+=2;var l=r5(r,n-r.l,t);i[3]=tg(l,null,a,t.supbooks,t)}else r.l=n;return i}function l5e(r,e,t){var n=r.l+e,a=Lc(r);a.r=t["!row"];var s=jg(r),i=[a,s,"n"];if(t.cellFormula){r.l+=2;var l=r5(r,n-r.l,t);i[3]=tg(l,null,a,t.supbooks,t)}else r.l=n;return i}function c5e(r,e,t){var n=r.l+e,a=Lc(r);a.r=t["!row"];var s=ho(r),i=[a,s,"str"];if(t.cellFormula){r.l+=2;var l=r5(r,n-r.l,t);i[3]=tg(l,null,a,t.supbooks,t)}else r.l=n;return i}var u5e=Z0,A5e=Eg;function d5e(r,e){return e==null&&(e=ot(4)),e.write_shift(4,r),e}function h5e(r,e){var t=r.l+e,n=Z0(r),a=F3(r),s=ho(r),i=ho(r),l=ho(r);r.l=t;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function f5e(r,e){var t=ot(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Eg({s:xi(r[0]),e:xi(r[0])},t),O3("rId"+e,t);var n=r[1].Target.indexOf("#"),a=n==-1?"":r[1].Target.slice(n+1);return yi(a||"",t),yi(r[1].Tooltip||"",t),yi("",t),t.slice(0,t.l)}function m5e(){}function p5e(r,e,t){var n=r.l+e,a=d$(r),s=r.read_shift(1),i=[a];if(i[2]=s,t.cellFormula){var l=aCe(r,n-r.l,t);i[1]=l}else r.l=n;return i}function g5e(r,e,t){var n=r.l+e,a=Z0(r),s=[a];if(t.cellFormula){var i=iCe(r,n-r.l,t);s[1]=i,r.l=n}else r.l=n;return s}function x5e(r,e,t){t==null&&(t=ot(18));var n=n5(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var W$=["left","right","top","bottom","header","footer"];function y5e(r){var e={};return W$.forEach(function(t){e[t]=jg(r)}),e}function v5e(r,e){return e==null&&(e=ot(48)),q$(r),W$.forEach(function(t){I0(r[t],e)}),e}function b5e(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function w5e(r,e,t){t==null&&(t=ot(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function C5e(r){var e=ot(24);return e.write_shift(4,4),e.write_shift(4,1),Eg(r,e),e}function N5e(r,e){return e==null&&(e=ot(66)),e.write_shift(2,r.password?T$(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function S5e(){}function B5e(){}function E5e(r,e,t,n,a,s,i){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=dl(e),e.z=e.z||ls[14],e.v=Al(_o(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r:t,c:n};switch(c.s=mf(a.cellXfs,e,a),e.l&&s["!links"].push([Kn(c),e.l]),e.c&&s["!comments"].push([Kn(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=R3(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,i?xt(r,18,VCe(e,c)):xt(r,7,KCe(e,c))):(c.t="str",i?xt(r,17,s5e(e,c)):xt(r,6,n5e(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?xt(r,13,e5e(e,c)):xt(r,2,JCe(e,c)):i?xt(r,16,YCe(e,c)):xt(r,5,GCe(e,c)),!0;case"b":return c.t="b",i?xt(r,15,MCe(e,c)):xt(r,4,ICe(e,c)),!0;case"e":return c.t="e",i?xt(r,14,HCe(e,c)):xt(r,3,UCe(e,c)),!0}return i?xt(r,12,DCe(e,c)):xt(r,1,FCe(e,c)),!0}function j5e(r,e,t,n){var a=ba(e["!ref"]||"A1"),s,i="",l=[];xt(r,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var d=a.s.r;d<=u;++d){i=qi(d),SCe(r,e,a,d);var f=!1;if(d<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){d===a.s.r&&(l[p]=Ao(p)),s=l[p]+i;var m=c?(e[d]||[])[p]:e[s];if(!m){f=!1;continue}f=E5e(r,m,d,p,n,e,f)}}xt(r,146)}function _5e(r,e){!e||!e["!merges"]||(xt(r,177,d5e(e["!merges"].length)),e["!merges"].forEach(function(t){xt(r,176,A5e(t))}),xt(r,178))}function T5e(r,e){!e||!e["!cols"]||(xt(r,390),e["!cols"].forEach(function(t,n){t&&xt(r,60,x5e(n,t))}),xt(r,391))}function k5e(r,e){!e||!e["!ref"]||(xt(r,648),xt(r,649,C5e(ba(e["!ref"]))),xt(r,650))}function F5e(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var a=Rn(t,-1,n[1].Target.replace(/#.*$/,""),vn.HLINK);xt(r,494,f5e(n,a))}}),delete e["!links"]}function O5e(r,e,t,n){if(e["!comments"].length>0){var a=Rn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",vn.VML);xt(r,551,O3("rId"+a)),e["!legacy"]=a}}function D5e(r,e,t,n){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:Ms(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var i=t.Workbook.Names,l=ql(s);l.s.r==l.e.r&&(l.e.r=ql(e["!ref"]).e.r,s=Ms(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+t.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),xt(r,161,Eg(ba(s))),xt(r,162)}}function P5e(r,e,t){xt(r,133),xt(r,137,w5e(e,t)),xt(r,138),xt(r,134)}function I5e(r,e){e["!protect"]&&xt(r,535,N5e(e["!protect"]))}function L5e(r,e,t,n){var a=ol(),s=t.SheetNames[r],i=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}var c=ba(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],xt(a,129),(t.vbaraw||i["!outline"])&&xt(a,147,TCe(l,i["!outline"])),xt(a,148,ECe(c)),P5e(a,i,t.Workbook),T5e(a,i),j5e(a,i,r,e),I5e(a,i),D5e(a,i,t,r),_5e(a,i),F5e(a,i,n),i["!margins"]&&xt(a,476,v5e(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&k5e(a,i),O5e(a,i,r,n),xt(a,130),a.end()}function M5e(r,e){r.l+=10;var t=ho(r);return{name:t}}var R5e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function U5e(r){return!r.Workbook||!r.Workbook.WBProps?"false":g1e(r.Workbook.WBProps.date1904)?"true":"false"}var Q5e="][*?/\\".split("");function Y$(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Q5e.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function H5e(r,e,t){r.forEach(function(n,a){Y$(n);for(var s=0;s<a;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var i=e&&e[a]&&e[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function z5e(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];H5e(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)ACe(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function X$(r){var e=[Rs];e[e.length]=Et("workbook",null,{xmlns:Sg[0],"xmlns:r":pi.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(R5e.forEach(function(l){r.Workbook.WBProps[l[0]]!=null&&r.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=r.Workbook.WBProps[l[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Et("workbookPr",null,n);var a=r.Workbook&&r.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var i={name:Hn(r.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=Et("sheet",null,i)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Et("definedName",Hn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function K5e(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=ij(r),t.name=ho(r),t}function $5e(r,e){return e||(e=ot(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),O3(r.strRelID,e),yi(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function V5e(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?ho(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function q5e(r,e){e||(e=ot(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),c$(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function G5e(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),s=U1e(r),i=sCe(r,0,t),l=F3(r);r.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function W5e(r,e){xt(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};xt(r,156,$5e(a))}xt(r,144)}function Y5e(r,e){e||(e=ot(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return yi("SheetJS",e),yi(v2.version,e),yi(v2.version,e),yi("7262",e),e.length>e.l?e.slice(0,e.l):e}function X5e(r,e){e||(e=ot(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function J5e(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,a=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&a==-1?a=n:t[n].Hidden==1&&s==-1&&(s=n);s>a||(xt(r,135),xt(r,158,X5e(a)),xt(r,136))}}function Z5e(r,e){var t=ol();return xt(t,131),xt(t,128,Y5e()),xt(t,153,q5e(r.Workbook&&r.Workbook.WBProps||null)),J5e(t,r),W5e(t,r),xt(t,132),t.end()}function eNe(r,e,t){return(e.slice(-4)===".bin"?Z5e:X$)(r)}function tNe(r,e,t,n,a){return(e.slice(-4)===".bin"?L5e:G$)(r,t,n,a)}function rNe(r,e,t){return(e.slice(-4)===".bin"?vwe:O$)(r,t)}function nNe(r,e,t){return(e.slice(-4)===".bin"?qbe:_$)(r,t)}function aNe(r,e,t){return(e.slice(-4)===".bin"?Iwe:M$)(r)}function sNe(r){return(r.slice(-4)===".bin"?jwe:I$)()}function iNe(r,e){var t=[];return r.Props&&t.push(rbe(r.Props,e)),r.Custprops&&t.push(nbe(r.Props,r.Custprops)),t.join("")}function oNe(){return""}function lNe(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var s=[];s.push(Et("NumberFormat",null,{"ss:Format":Hn(ls[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};t.push(Et("Style",s.join(""),i))}),Et("Styles",t.join(""))}function J$(r){return Et("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+L3(r.Ref,{r:0,c:0})})}function cNe(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(J$(a)))}return Et("Names",t.join(""))}function uNe(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var l=a[i];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(J$(l)))}return s.join("")}function ANe(r,e,t,n){if(!r)return"";var a=[];if(r["!margins"]&&(a.push("<PageSetup>"),r["!margins"].header&&a.push(Et("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&a.push(Et("Footer",null,{"x:Margin":r["!margins"].footer})),a.push(Et("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)a.push(Et("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),r["!protect"]&&(a.push(Ki("ProtectContents","True")),r["!protect"].objects&&a.push(Ki("ProtectObjects","True")),r["!protect"].scenarios&&a.push(Ki("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?a.push(Ki("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&a.push(Ki("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){r["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Et("WorksheetOptions",a.join(""),{xmlns:Ml.x})}function dNe(r){return r.map(function(e){var t=p1e(e.t||""),n=Et("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",n,{"ss:Author":e.a})}).join("")}function hNe(r,e,t,n,a,s,i){if(!r||r.v==null&&r.f==null)return"";var l={};if(r.f&&(l["ss:Formula"]="="+Hn(L3(r.f,i))),r.F&&r.F.slice(0,e.length)==e){var c=xi(r.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(r.l&&r.l.Target&&(l["ss:HRef"]=Hn(r.l.Target),r.l.Tooltip&&(l["x:HRefScreenTip"]=Hn(r.l.Tooltip))),t["!merges"])for(var u=t["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",p="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",p=String(r.v);break;case"b":f="Boolean",p=r.v?"1":"0";break;case"e":f="Error",p=Sv[r.v];break;case"d":f="DateTime",p=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||ls[14]);break;case"s":f="String",p=m1e(r.v||"");break}var m=mf(n.cellXfs,r,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=i.c+1;var y=r.v!=null?p:"",g=r.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(r.c||[]).length>0&&(g+=dNe(r.c)),Et("Cell",g,l)}function fNe(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=F$(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function mNe(r,e,t,n){if(!r["!ref"])return"";var a=ba(r["!ref"]),s=r["!merges"]||[],i=0,l=[];r["!cols"]&&r["!cols"].forEach(function(v,w){P3(v);var S=!!v.width,C=n5(w,v),j={"ss:Index":w+1};S&&(j["ss:Width"]=T2(C.width)),v.hidden&&(j["ss:Hidden"]="1"),l.push(Et("Column",null,j))});for(var c=Array.isArray(r),u=a.s.r;u<=a.e.r;++u){for(var d=[fNe(u,(r["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var p=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>u)&&!(s[i].e.c<f)&&!(s[i].e.r<u)){(s[i].s.c!=f||s[i].s.r!=u)&&(p=!0);break}if(!p){var m={r:u,c:f},y=Kn(m),g=c?(r[u]||[])[f]:r[y];d.push(hNe(g,y,r,e,t,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function pNe(r,e,t){var n=[],a=t.SheetNames[r],s=t.Sheets[a],i=s?uNe(s,e,r,t):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?mNe(s,e,r,t):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(ANe(s,e,r,t)),n.join("")}function gNe(r,e){e||(e={}),r.SSF||(r.SSF=dl(ls)),r.SSF&&(JC(),XC(r.SSF),e.revssf=ZC(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],mf(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(iNe(r,e)),t.push(oNe()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Et("Worksheet",pNe(n,e,r),{"ss:Name":Hn(r.SheetNames[n])}));return t[2]=lNe(r,e),t[3]=cNe(r),Rs+Et("Workbook",t.join(""),{xmlns:Ml.ss,"xmlns:o":Ml.o,"xmlns:x":Ml.x,"xmlns:ss":Ml.ss,"xmlns:dt":Ml.dt,"xmlns:html":Ml.html})}var QB={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xNe(r,e){var t=[],n=[],a=[],s=0,i,l=QL(eM,"n"),c=QL(tM,"n");if(r.Props)for(i=Gi(r.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(l,i[s])?t:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],r.Props[i[s]]]);if(r.Custprops)for(i=Gi(r.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(l,i[s])?t:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],r.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)w$.indexOf(a[s][0])>-1||y$.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&ea.utils.cfb_add(e,"/SummaryInformation",iM(n,QB.SI,c,tM)),(t.length||u.length)&&ea.utils.cfb_add(e,"/DocumentSummaryInformation",iM(t,QB.DSI,l,eM,u.length?u:null,QB.UDI))}function yNe(r,e){var t=e||{},n=ea.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return ea.utils.cfb_add(n,a,Z$(r,t)),t.biff==8&&(r.Props||r.Custprops)&&xNe(r,n),t.biff==8&&r.vbaraw&&Lwe(n,ea.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var vNe={0:{f:CCe},1:{f:kCe},2:{f:XCe},3:{f:RCe},4:{f:PCe},5:{f:qCe},6:{f:r5e},7:{f:zCe},8:{f:c5e},9:{f:l5e},10:{f:i5e},11:{f:o5e},12:{f:OCe},13:{f:ZCe},14:{f:QCe},15:{f:LCe},16:{f:WCe},17:{f:a5e},18:{f:$Ce},19:{f:k3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:G5e},40:{},42:{},43:{f:rwe},44:{f:ewe},45:{f:swe},46:{f:owe},47:{f:iwe},48:{},49:{f:O1e},50:{},51:{f:Cwe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Dbe},62:{f:t5e},63:{f:_we},64:{f:S5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:bA,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:b5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_Ce},148:{f:BCe,p:16},151:{f:m5e},152:{},153:{f:V5e},154:{},155:{},156:{f:K5e},157:{},158:{},159:{T:1,f:Kbe},160:{T:-1},161:{T:1,f:Z0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:u5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:bwe},336:{T:-1},337:{f:Bwe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ij},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jbe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:p5e},427:{f:g5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:y5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:jCe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:h5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ij},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Dwe},633:{T:1},634:{T:-1},635:{T:1,f:Fwe},636:{T:-1},637:{f:L1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:M5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:B5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function _t(r,e,t,n){var a=e;if(!isNaN(a)){var s=n||(t||[]).length||0,i=r.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&j3(t)&&r.push(t)}}function bNe(r,e,t,n){var a=(t||[]).length||0;if(a<=8224)return _t(r,e,t,a);var s=e;if(!isNaN(s)){for(var i=t.parts||[],l=0,c=0,u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;var d=r.next(4);for(d.write_shift(2,s),d.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u;c<a;){for(d=r.next(4),d.write_shift(2,60),u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;d.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u}}}function Ev(r,e,t){return r||(r=ot(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function wNe(r,e,t,n){var a=ot(9);return Ev(a,r,e),N$(t,n||"b",a),a}function CNe(r,e,t){var n=ot(8+2*t.length);return Ev(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function NNe(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Al(_o(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?_t(r,2,Mbe(t,n,a)):_t(r,3,Lbe(t,n,a));return;case"b":case"e":_t(r,5,wNe(t,n,e.v,e.t));return;case"s":case"str":_t(r,4,CNe(t,n,(e.v||"").slice(0,255)));return}_t(r,1,Ev(null,t,n))}function SNe(r,e,t,n){var a=Array.isArray(e),s=ba(e["!ref"]||"A1"),i,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Ms(s)}for(var u=s.s.r;u<=s.e.r;++u){l=qi(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=Ao(d)),i=c[d]+l;var f=a?(e[u]||[])[d]:e[i];f&&NNe(r,f,u,d)}}}function BNe(r,e){for(var t=e||{},n=ol(),a=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return _t(n,t.biff==4?1033:t.biff==3?521:9,D3(r,16,t)),SNe(n,r.Sheets[r.SheetNames[a]],a,t),_t(n,10),n.end()}function ENe(r,e,t){_t(r,49,vbe({sz:12,name:"Arial"},t))}function jNe(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&_t(r,1054,Cbe(a,e[a],t))})}function _Ne(r,e){var t=ot(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),_t(r,2151,t),t=ot(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),E$(ba(e["!ref"]||"A1"),t),t.write_shift(4,4),_t(r,2152,t)}function TNe(r,e){for(var t=0;t<16;++t)_t(r,224,lM({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){_t(r,224,lM(n,0,e))})}function kNe(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];_t(r,440,kbe(n)),n[1].Tooltip&&_t(r,2048,Fbe(n))}delete e["!links"]}function FNe(r,e){if(e){var t=0;e.forEach(function(n,a){++t<=256&&n&&_t(r,125,Pbe(n5(a,n),a))})}}function ONe(r,e,t,n,a){var s=16+mf(a.cellXfs,e,a);if(e.v==null&&!e.bf){_t(r,513,L0(t,n,s));return}if(e.bf)_t(r,6,nCe(e,t,n,a,s));else switch(e.t){case"d":case"n":var i=e.t=="d"?Al(_o(e.v)):e.v;_t(r,515,Ebe(t,n,i,s));break;case"b":case"e":_t(r,517,Bbe(t,n,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var l=R3(a.Strings,e.v,a.revStrings);_t(r,253,bbe(t,n,l,s))}else _t(r,516,wbe(t,n,(e.v||"").slice(0,255),s,a));break;default:_t(r,513,L0(t,n,s))}}function DNe(r,e,t){var n=ol(),a=t.SheetNames[r],s=t.Sheets[a]||{},i=(t||{}).Workbook||{},l=(i.Sheets||[])[r]||{},c=Array.isArray(s),u=e.biff==8,d,f="",p=[],m=ba(s["!ref"]||"A1"),y=u?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}_t(n,2057,D3(t,16,e)),_t(n,13,wc(1)),_t(n,12,wc(100)),_t(n,15,No(!0)),_t(n,17,No(!1)),_t(n,16,I0(.001)),_t(n,95,No(!0)),_t(n,42,No(!1)),_t(n,43,No(!1)),_t(n,130,wc(1)),_t(n,128,Sbe()),_t(n,131,No(!1)),_t(n,132,No(!1)),u&&FNe(n,s["!cols"]),_t(n,512,Nbe(m,e)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=qi(g);for(var v=m.s.c;v<=m.e.c;++v){g===m.s.r&&(p[v]=Ao(v)),d=p[v]+f;var w=c?(s[g]||[])[v]:s[d];w&&(ONe(n,w,g,v,e),u&&w.l&&s["!links"].push([d,w.l]))}}var S=l.CodeName||l.name||a;return u&&_t(n,574,ybe((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&_t(n,229,Tbe(s["!merges"])),u&&kNe(n,s),_t(n,442,B$(S)),u&&_Ne(n,s),_t(n,10),n.end()}function PNe(r,e,t){var n=ol(),a=(r||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},l=t.biff==8,c=t.biff==5;if(_t(n,2057,D3(r,5,t)),t.bookType=="xla"&&_t(n,135),_t(n,225,l?wc(1200):null),_t(n,193,ibe(2)),c&&_t(n,191),c&&_t(n,192),_t(n,226),_t(n,92,mbe("SheetJS",t)),_t(n,66,wc(l?1200:1252)),l&&_t(n,353,wc(0)),l&&_t(n,448),_t(n,317,Ibe(r.SheetNames.length)),l&&r.vbaraw&&_t(n,211),l&&r.vbaraw){var u=i.CodeName||"ThisWorkbook";_t(n,442,B$(u))}_t(n,156,wc(17)),_t(n,25,No(!1)),_t(n,18,No(!1)),_t(n,19,wc(0)),l&&_t(n,431,No(!1)),l&&_t(n,444,wc(0)),_t(n,61,xbe()),_t(n,64,No(!1)),_t(n,141,wc(0)),_t(n,34,No(U5e(r)=="true")),_t(n,14,No(!0)),l&&_t(n,439,No(!1)),_t(n,218,wc(0)),ENe(n,r,t),jNe(n,r.SSF,t),TNe(n,t),l&&_t(n,352,No(!1));var d=n.end(),f=ol();l&&_t(f,140,Obe()),l&&t.Strings&&bNe(f,252,gbe(t.Strings)),_t(f,10);var p=f.end(),m=ol(),y=0,g=0;for(g=0;g<r.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*r.SheetNames[g].length;var v=d.length+y+p.length;for(g=0;g<r.SheetNames.length;++g){var w=s[g]||{};_t(m,133,pbe({pos:v,hs:w.Hidden||0,dt:0,name:r.SheetNames[g]},t)),v+=e[g].length}var S=m.end();if(y!=S.length)throw new Error("BS8 "+y+" != "+S.length);var C=[];return d.length&&C.push(d),S.length&&C.push(S),p.length&&C.push(p),zi(C)}function INe(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=dl(ls)),r&&r.SSF&&(JC(),XC(r.SSF),t.revssf=ZC(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,U3(t),t.cellXfs=[],mf(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var a=0;a<r.SheetNames.length;++a)n[n.length]=DNe(a,t,r);return n.unshift(PNe(r,n,t)),zi(n)}function Z$(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var a=ql(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return INe(r,e);case 4:case 3:case 2:return BNe(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function LNe(r,e,t,n){for(var a=r["!merges"]||[],s=[],i=e.s.c;i<=e.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>t||a[u].s.c>i)&&!(a[u].e.r<t||a[u].e.c<i)){if(a[u].s.r<t||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Kn({r:t,c:i}),f=n.dense?(r[t]||[])[i]:r[d],p=f&&f.v!=null&&(f.h||f1e(f.w||(Td(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(Et("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var MNe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',RNe="</body></html>";function UNe(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function eV(r,e){var t=e||{},n=t.header!=null?t.header:MNe,a=t.footer!=null?t.footer:RNe,s=[n],i=ql(r["!ref"]);t.dense=Array.isArray(r),s.push(UNe(r,i,t));for(var l=i.s.r;l<=i.e.r;++l)s.push(LNe(r,i,l,t));return s.push("</table>"+a),s.join("")}function tV(r,e,t){var n=t||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?xi(n.origin):n.origin;a=i.r,s=i.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(r["!ref"]){var d=ql(r["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],p=0,m=r["!rows"]||(r["!rows"]=[]),y=0,g=0,v=0,w=0,S=0,C=0;for(r["!cols"]||(r["!cols"]=[]);y<l.length&&g<c;++y){var j=l[y];if(mM(j)){if(n.display)continue;m[g]={hidden:!0}}var T=j.children;for(v=w=0;v<T.length;++v){var L=T[v];if(!(n.display&&mM(L))){var I=L.hasAttribute("data-v")?L.getAttribute("data-v"):L.hasAttribute("v")?L.getAttribute("v"):x1e(L.innerHTML),D=L.getAttribute("data-z")||L.getAttribute("z");for(p=0;p<f.length;++p){var k=f[p];k.s.c==w+s&&k.s.r<g+a&&g+a<=k.e.r&&(w=k.e.c+1-s,p=-1)}C=+L.getAttribute("colspan")||1,((S=+L.getAttribute("rowspan")||1)>1||C>1)&&f.push({s:{r:g+a,c:w+s},e:{r:g+a+(S||1)-1,c:w+s+(C||1)-1}});var z={t:"s",v:I},P=L.getAttribute("data-t")||L.getAttribute("t")||"";I!=null&&(I.length==0?z.t=P||"z":n.raw||I.trim().length==0||P=="s"||(I==="TRUE"?z={t:"b",v:!0}:I==="FALSE"?z={t:"b",v:!1}:isNaN(gd(I))?isNaN(Oy(I).getDate())||(z={t:"d",v:_o(I)},n.cellDates||(z={t:"n",v:Al(z.v)}),z.z=n.dateNF||ls[14]):z={t:"n",v:gd(I)})),z.z===void 0&&D!=null&&(z.z=D);var U="",M=L.getElementsByTagName("A");if(M&&M.length)for(var q=0;q<M.length&&!(M[q].hasAttribute("href")&&(U=M[q].getAttribute("href"),U.charAt(0)!="#"));++q);U&&U.charAt(0)!="#"&&(z.l={Target:U}),n.dense?(r[g+a]||(r[g+a]=[]),r[g+a][w+s]=z):r[Kn({c:w+s,r:g+a})]=z,u.e.c<w+s&&(u.e.c=w+s),w+=C}}++g}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),r["!ref"]=Ms(u),g>=c&&(r["!fullref"]=Ms((u.e.r=l.length-y+g-1+a,u))),r}function rV(r,e){var t=e||{},n=t.dense?[]:{};return tV(n,r,e)}function QNe(r,e){return W0(rV(r,e),e)}function mM(r){var e="",t=HNe(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function HNe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var zNe=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Py({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Rs+e}})(),pM=(function(){var r=function(s){return Hn(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(s,i,l){var c=[];c.push('      <table:table table:name="'+Hn(i.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=ql(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",v=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(e);for(;d<=f.e.c;++d){var w=!1,S={},C="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>d)&&!(p[m].s.r>u)&&!(p[m].e.c<d)&&!(p[m].e.r<u)){(p[m].s.c!=d||p[m].s.r!=u)&&(w=!0),S["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,S["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(w){c.push(t);continue}var j=Kn({r:u,c:d}),T=y?(s[u]||[])[d]:s[j];if(T&&T.f&&(S["table:formula"]=Hn(cCe(T.f)),T.F&&T.F.slice(0,j.length)==j)){var L=ql(T.F);S["table:number-matrix-columns-spanned"]=L.e.c-L.s.c+1,S["table:number-matrix-rows-spanned"]=L.e.r-L.s.r+1}if(!T){c.push(e);continue}switch(T.t){case"b":C=T.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=T.v?"true":"false";break;case"n":C=T.w||String(T.v||0),S["office:value-type"]="float",S["office:value"]=T.v||0;break;case"s":case"str":C=T.v==null?"":T.v,S["office:value-type"]="string";break;case"d":C=T.w||_o(T.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=_o(T.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(e);continue}var I=r(C);if(T.l&&T.l.Target){var D=T.l.Target;D=D.charAt(0)=="#"?"#"+uCe(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),I=Et("text:a",I,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+Et("table:table-cell",Et("text:p",I,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;P3(f),f.ods=l;var p=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,l){var c=[Rs],u=Py({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Py({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(g$().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function nV(r,e){if(e.bookType=="fods")return pM(r,e);var t=N3(),n="",a=[],s=[];return n="mimetype",$r(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$r(t,n,pM(r,e)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",$r(t,n,zNe(r,e)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",$r(t,n,Rs+g$()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",$r(t,n,tbe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$r(t,n,Z1e(a)),t}function O2(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function KNe(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):yu(Dy(r))}function $Ne(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function rf(r){var e=r.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function VNe(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)r[e+s]=a&255;r[e+15]|=t>=0?0:128}function Iy(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ln(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function _p(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ys(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=Iy(r,t),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=t[0];r[t[0]++]>=128;);l=r.slice(c,t[0])}break;case 5:i=4,l=r.slice(t[0],t[0]+i),t[0]+=i;break;case 1:i=8,l=r.slice(t[0],t[0]+i),t[0]+=i;break;case 2:i=Iy(r,t),l=r.slice(t[0],t[0]+i),t[0]+=i;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function Pi(r){var e=[];return r.forEach(function(t,n){t.forEach(function(a){a.data&&(e.push(Ln(n*8+a.type)),a.type==2&&e.push(Ln(a.data.length)),e.push(a.data))})}),rf(e)}function Au(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=Iy(r,n),s=Ys(r.slice(n[0],n[0]+a));n[0]+=a;var i={id:_p(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ys(l.data),u=_p(c[3][0].data);i.messages.push({meta:c,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(i.merge=_p(s[3][0].data)>>>0>0),t.push(i)}return t}function Xm(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Ln(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Ln(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Ln(i.data.length)}],n[2].push({data:Pi(i.meta),type:2})});var s=Pi(n);e.push(Ln(s.length)),e.push(s),a.forEach(function(i){return e.push(i)})}),rf(e)}function qNe(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Iy(e,t),a=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var i=e[t[0]++]>>2;if(i<60)++i;else{var l=i-59;i=e[t[0]],l>1&&(i|=e[t[0]+1]<<8),l>2&&(i|=e[t[0]+2]<<16),l>3&&(i|=e[t[0]+3]<<24),i>>>=0,i++,t[0]+=l}a.push(e.slice(t[0],t[0]+i)),t[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[rf(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=rf(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function du(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(qNe(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return rf(e)}function Jm(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),a=new Uint8Array(4);e.push(a);var s=Ln(n),i=s.length;e.push(s),n<=60?(i++,e.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,t+=n}return rf(e)}function HB(r,e){var t=new Uint8Array(32),n=O2(t),a=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,VNe(t,a,r.v),s|=1,a+=16;break;case"b":t[1]=6,n.setFloat64(a,r.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(a,e.indexOf(r.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),t.slice(0,a)}function zB(r,e){var t=new Uint8Array(32),n=O2(t),a=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(a,r.v,!0),s|=32,a+=8;break;case"b":t[2]=6,n.setFloat64(a,r.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(a,e.indexOf(r.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),t.slice(0,a)}function Bh(r){var e=Ys(r);return Iy(e[1][0].data)}function GNe(r,e,t){var n,a,s,i;if(!((n=r[6])!=null&&n[0])||!((a=r[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(s=r[8])==null?void 0:s[0])==null?void 0:i.data)&&_p(r[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=O2(r[7][0].data),d=0,f=[],p=O2(r[4][0].data),m=0,y=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),p.setUint16(g*2,m,!0);var v,w;switch(typeof e[g]){case"string":v=HB({t:"s",v:e[g]},t),w=zB({t:"s",v:e[g]},t);break;case"number":v=HB({t:"n",v:e[g]},t),w=zB({t:"n",v:e[g]},t);break;case"boolean":v=HB({t:"b",v:e[g]},t),w=zB({t:"b",v:e[g]},t);break;default:throw new Error("Unsupported value "+e[g])}f.push(v),d+=v.length,y.push(w),m+=w.length,++c}for(r[2][0].data=Ln(c);g<r[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return r[6][0].data=rf(f),r[3][0].data=rf(y),c}function WNe(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ql(t["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ms(n)));var s=D2(t,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(Q){return Q.forEach(function(K){typeof K=="string"&&i.push(K)})});var l={},c=[],u=ea.read(e.numbers,{type:"base64"});u.FileIndex.map(function(Q,K){return[Q,u.FullPaths[K]]}).forEach(function(Q){var K=Q[0],V=Q[1];if(K.type==2&&K.name.match(/\.iwa/)){var J=K.content,oe=du(J),Ne=Au(oe);Ne.forEach(function(ue){c.push(ue.id),l[ue.id]={deps:[],location:V,type:_p(ue.messages[0].meta[1][0].data)}})}}),c.sort(function(Q,K){return Q-K});var d=c.filter(function(Q){return Q>1}).map(function(Q){return[Q,Ln(Q)]});u.FileIndex.map(function(Q,K){return[Q,u.FullPaths[K]]}).forEach(function(Q){var K=Q[0];if(Q[1],!!K.name.match(/\.iwa/)){var V=Au(du(K.content));V.forEach(function(J){J.messages.forEach(function(oe){d.forEach(function(Ne){J.messages.some(function(ue){return _p(ue.meta[1][0].data)!=11006&&$Ne(ue.data,Ne[1])})&&l[Ne[0]].deps.push(J.id)})})})}});for(var f=ea.find(u,l[1].location),p=Au(du(f.content)),m,y=0;y<p.length;++y){var g=p[y];g.id==1&&(m=g)}var v=Bh(Ys(m.messages[0].data)[1][0].data);for(f=ea.find(u,l[v].location),p=Au(du(f.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);for(v=Bh(Ys(m.messages[0].data)[2][0].data),f=ea.find(u,l[v].location),p=Au(du(f.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);for(v=Bh(Ys(m.messages[0].data)[2][0].data),f=ea.find(u,l[v].location),p=Au(du(f.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);var w=Ys(m.messages[0].data);{w[6][0].data=Ln(n.e.r+1),w[7][0].data=Ln(n.e.c+1);var S=Bh(w[46][0].data),C=ea.find(u,l[S].location),j=Au(du(C.content));{for(var T=0;T<j.length&&j[T].id!=S;++T);if(j[T].id!=S)throw"Bad ColumnRowUIDMapArchive";var L=Ys(j[T].messages[0].data);L[1]=[],L[2]=[],L[3]=[];for(var I=0;I<=n.e.c;++I){var D=[];D[1]=D[2]=[{type:0,data:Ln(I+420690)}],L[1].push({type:2,data:Pi(D)}),L[2].push({type:0,data:Ln(I)}),L[3].push({type:0,data:Ln(I)})}L[4]=[],L[5]=[],L[6]=[];for(var k=0;k<=n.e.r;++k)D=[],D[1]=D[2]=[{type:0,data:Ln(k+726270)}],L[4].push({type:2,data:Pi(D)}),L[5].push({type:0,data:Ln(k)}),L[6].push({type:0,data:Ln(k)});j[T].messages[0].data=Pi(L)}C.content=Jm(Xm(j)),C.size=C.content.length,delete w[46];var z=Ys(w[4][0].data);{z[7][0].data=Ln(n.e.r+1);var P=Ys(z[1][0].data),U=Bh(P[2][0].data);C=ea.find(u,l[U].location),j=Au(du(C.content));{if(j[0].id!=U)throw"Bad HeaderStorageBucket";var M=Ys(j[0].messages[0].data);for(k=0;k<s.length;++k){var q=Ys(M[2][0].data);q[1][0].data=Ln(k),q[4][0].data=Ln(s[k].length),M[2][k]={type:M[2][0].type,data:Pi(q)}}j[0].messages[0].data=Pi(M)}C.content=Jm(Xm(j)),C.size=C.content.length;var ae=Bh(z[2][0].data);C=ea.find(u,l[ae].location),j=Au(du(C.content));{if(j[0].id!=ae)throw"Bad HeaderStorageBucket";for(M=Ys(j[0].messages[0].data),I=0;I<=n.e.c;++I)q=Ys(M[2][0].data),q[1][0].data=Ln(I),q[4][0].data=Ln(n.e.r+1),M[2][I]={type:M[2][0].type,data:Pi(q)};j[0].messages[0].data=Pi(M)}C.content=Jm(Xm(j)),C.size=C.content.length;var W=Bh(z[4][0].data);(function(){for(var Q=ea.find(u,l[W].location),K=Au(du(Q.content)),V,J=0;J<K.length;++J){var oe=K[J];oe.id==W&&(V=oe)}var Ne=Ys(V.messages[0].data);{Ne[3]=[];var ue=[];i.forEach(function(Be,qe){ue[1]=[{type:0,data:Ln(qe)}],ue[2]=[{type:0,data:Ln(1)}],ue[3]=[{type:2,data:KNe(Be)}],Ne[3].push({type:2,data:Pi(ue)})})}V.messages[0].data=Pi(Ne);var xe=Xm(K),Oe=Jm(xe);Q.content=Oe,Q.size=Q.content.length})();var ee=Ys(z[3][0].data);{var re=ee[1][0];delete ee[2];var pe=Ys(re.data);{var Se=Bh(pe[2][0].data);(function(){for(var Q=ea.find(u,l[Se].location),K=Au(du(Q.content)),V,J=0;J<K.length;++J){var oe=K[J];oe.id==Se&&(V=oe)}var Ne=Ys(V.messages[0].data);{delete Ne[6],delete ee[7];var ue=new Uint8Array(Ne[5][0].data);Ne[5]=[];for(var xe=0,Oe=0;Oe<=n.e.r;++Oe){var Be=Ys(ue);xe+=GNe(Be,s[Oe],i),Be[1][0].data=Ln(Oe),Ne[5].push({data:Pi(Be),type:2})}Ne[1]=[{type:0,data:Ln(n.e.c+1)}],Ne[2]=[{type:0,data:Ln(n.e.r+1)}],Ne[3]=[{type:0,data:Ln(xe)}],Ne[4]=[{type:0,data:Ln(n.e.r+1)}]}V.messages[0].data=Pi(Ne);var qe=Xm(K),Pe=Jm(qe);Q.content=Pe,Q.size=Q.content.length})()}re.data=Pi(pe)}z[3][0].data=Pi(ee)}w[4][0].data=Pi(z)}m.messages[0].data=Pi(w);var ne=Xm(p),F=Jm(ne);return f.content=F,f.size=f.content.length,u}function YNe(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function U3(r){YNe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function XNe(r,e){return e.bookType=="ods"?nV(r,e):e.bookType=="numbers"?WNe(r,e):e.bookType=="xlsb"?JNe(r,e):ZNe(r,e)}function JNe(r,e){yp=1024,r&&!r.SSF&&(r.SSF=dl(ls)),r&&r.SSF&&(JC(),XC(r.SSF),e.revssf=ZC(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,cy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=R$.indexOf(e.bookType)>-1,a=f$();U3(e=e||{});var s=N3(),i="",l=0;if(e.cellXfs=[],mf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),i="docProps/core.xml",$r(s,i,x$(r.Props,e)),a.coreprops.push(i),Rn(e.rels,2,i,vn.CORE_PROPS),i="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,$r(s,i,v$(r.Props)),a.extprops.push(i),Rn(e.rels,3,i,vn.EXT_PROPS),r.Custprops!==r.Props&&Gi(r.Custprops||{}).length>0&&(i="docProps/custom.xml",$r(s,i,b$(r.Custprops)),a.custprops.push(i),Rn(e.rels,4,i,vn.CUST_PROPS)),l=1;l<=r.SheetNames.length;++l){var d={"!id":{}},f=r.Sheets[r.SheetNames[l-1]],p=(f||{})["!type"]||"sheet";if(i="xl/worksheets/sheet"+l+"."+t,$r(s,i,tNe(l-1,i,e,r,d)),a.sheets.push(i),Rn(e.wbrels,-1,"worksheets/sheet"+l+"."+t,vn.WS[0]),f){var m=f["!comments"],y=!1,g="";m&&m.length>0&&(g="xl/comments"+l+"."+t,$r(s,g,aNe(m,g)),a.comments.push(g),Rn(d,-1,"../comments"+l+"."+t,vn.CMNT),y=!0),f["!legacy"]&&y&&$r(s,"xl/drawings/vmlDrawing"+l+".vml",L$(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&$r(s,p$(i),Ep(d))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+t,$r(s,i,nNe(e.Strings,i,e)),a.strs.push(i),Rn(e.wbrels,-1,"sharedStrings."+t,vn.SST)),i="xl/workbook."+t,$r(s,i,eNe(r,i)),a.workbooks.push(i),Rn(e.rels,1,i,vn.WB),i="xl/theme/theme1.xml",$r(s,i,P$(r.Themes,e)),a.themes.push(i),Rn(e.wbrels,-1,"theme/theme1.xml",vn.THEME),i="xl/styles."+t,$r(s,i,rNe(r,i,e)),a.styles.push(i),Rn(e.wbrels,-1,"styles."+t,vn.STY),r.vbaraw&&n&&(i="xl/vbaProject.bin",$r(s,i,r.vbaraw),a.vba.push(i),Rn(e.wbrels,-1,"vbaProject.bin",vn.VBA)),i="xl/metadata."+t,$r(s,i,sNe(i)),a.metadata.push(i),Rn(e.wbrels,-1,"metadata."+t,vn.XLMETA),$r(s,"[Content_Types].xml",m$(a,e)),$r(s,"_rels/.rels",Ep(e.rels)),$r(s,"xl/_rels/workbook."+t+".rels",Ep(e.wbrels)),delete e.revssf,delete e.ssf,s}function ZNe(r,e){yp=1024,r&&!r.SSF&&(r.SSF=dl(ls)),r&&r.SSF&&(JC(),XC(r.SSF),e.revssf=ZC(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,cy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=R$.indexOf(e.bookType)>-1,a=f$();U3(e=e||{});var s=N3(),i="",l=0;if(e.cellXfs=[],mf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),i="docProps/core.xml",$r(s,i,x$(r.Props,e)),a.coreprops.push(i),Rn(e.rels,2,i,vn.CORE_PROPS),i="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,$r(s,i,v$(r.Props)),a.extprops.push(i),Rn(e.rels,3,i,vn.EXT_PROPS),r.Custprops!==r.Props&&Gi(r.Custprops||{}).length>0&&(i="docProps/custom.xml",$r(s,i,b$(r.Custprops)),a.custprops.push(i),Rn(e.rels,4,i,vn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,l=1;l<=r.SheetNames.length;++l){var f={"!id":{}},p=r.Sheets[r.SheetNames[l-1]],m=(p||{})["!type"]||"sheet";if(i="xl/worksheets/sheet"+l+"."+t,$r(s,i,G$(l-1,e,r,f)),a.sheets.push(i),Rn(e.wbrels,-1,"worksheets/sheet"+l+"."+t,vn.WS[0]),p){var y=p["!comments"],g=!1,v="";if(y&&y.length>0){var w=!1;y.forEach(function(S){S[1].forEach(function(C){C.T==!0&&(w=!0)})}),w&&(v="xl/threadedComments/threadedComment"+l+"."+t,$r(s,v,Twe(y,d,e)),a.threadedcomments.push(v),Rn(f,-1,"../threadedComments/threadedComment"+l+"."+t,vn.TCMNT)),v="xl/comments"+l+"."+t,$r(s,v,M$(y)),a.comments.push(v),Rn(f,-1,"../comments"+l+"."+t,vn.CMNT),g=!0}p["!legacy"]&&g&&$r(s,"xl/drawings/vmlDrawing"+l+".vml",L$(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&$r(s,p$(i),Ep(f))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+t,$r(s,i,_$(e.Strings,e)),a.strs.push(i),Rn(e.wbrels,-1,"sharedStrings."+t,vn.SST)),i="xl/workbook."+t,$r(s,i,X$(r)),a.workbooks.push(i),Rn(e.rels,1,i,vn.WB),i="xl/theme/theme1.xml",$r(s,i,P$(r.Themes,e)),a.themes.push(i),Rn(e.wbrels,-1,"theme/theme1.xml",vn.THEME),i="xl/styles."+t,$r(s,i,O$(r,e)),a.styles.push(i),Rn(e.wbrels,-1,"styles."+t,vn.STY),r.vbaraw&&n&&(i="xl/vbaProject.bin",$r(s,i,r.vbaraw),a.vba.push(i),Rn(e.wbrels,-1,"vbaProject.bin",vn.VBA)),i="xl/metadata."+t,$r(s,i,I$()),a.metadata.push(i),Rn(e.wbrels,-1,"metadata."+t,vn.XLMETA),d.length>1&&(i="xl/persons/person.xml",$r(s,i,kwe(d)),a.people.push(i),Rn(e.wbrels,-1,"persons/person.xml",vn.PEOPLE)),$r(s,"[Content_Types].xml",m$(a,e)),$r(s,"_rels/.rels",Ep(e.rels)),$r(s,"xl/_rels/workbook."+t+".rels",Ep(e.wbrels)),delete e.revssf,delete e.ssf,s}function eSe(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=_d(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function aV(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Cv(e.file,ea.write(r,{type:_n?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ea.write(r,e)}function tSe(r,e){var t=dl(e||{}),n=XNe(r,t);return rSe(n,t)}function rSe(r,e){var t={},n=_n?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=r.FullPaths?ea.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(YC(a))}return e.password&&typeof encrypt_agile<"u"?aV(encrypt_agile(a,e.password),e):e.type==="file"?Cv(e.file,a):e.type=="string"?sy(a):a}function nSe(r,e){var t=e||{},n=yNe(r,t);return aV(n,t)}function iA(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return Fy(Dy(n));case"binary":return Dy(n);case"string":return r;case"file":return Cv(e.file,n,"utf8");case"buffer":return _n?zd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):iA(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function aSe(r,e){switch(e.type){case"base64":return Fy(r);case"binary":return r;case"string":return r;case"file":return Cv(e.file,r,"binary");case"buffer":return _n?zd(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function db(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?Fy(t):e.type=="string"?sy(t):t;case"file":return Cv(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function sV(r,e){Fve(),z5e(r);var t=dl(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=sV(r,t);return t.type="array",YC(n)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=r.SheetNames.indexOf(t.sheet),!r.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return iA(gNe(r,t),t);case"slk":case"sylk":return iA(Ube.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"htm":case"html":return iA(eV(r.Sheets[r.SheetNames[a]],t),t);case"txt":return aSe(iV(r.Sheets[r.SheetNames[a]],t),t);case"csv":return iA(Q3(r.Sheets[r.SheetNames[a]],t),t,"\uFEFF");case"dif":return iA(Qbe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"dbf":return db(Rbe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"prn":return iA(Hbe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"rtf":return iA(Wbe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"eth":return iA(j$.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"fods":return iA(nV(r,t),t);case"wk1":return db(cM.sheet_to_wk1(r.Sheets[r.SheetNames[a]],t),t);case"wk3":return db(cM.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),db(Z$(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),nSe(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return tSe(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function sSe(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function jv(r,e,t){var n={};return n.type="file",n.file=e,sSe(n),sV(r,n)}function iSe(r,e,t,n,a,s,i,l){var c=qi(t),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!i||r[t])for(var m=e.s.c;m<=e.e.c;++m){var y=i?r[t][m]:r[n[m]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[m]!=null&&(p[s[m]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(g==null)if(y.t=="e"&&g===null)p[s[m]]=null;else if(u!==void 0)p[s[m]]=u;else if(d&&g===null)p[s[m]]=null;else continue;else p[s[m]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:Td(y,g,l);g!=null&&(f=!1)}}return{row:p,isempty:f}}function D2(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=ba(d);break;case"number":c=ba(r["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=qi(c.s.r),p=[],m=[],y=0,g=0,v=Array.isArray(r),w=c.s.r,S=0,C={};v&&!r[w]&&(r[w]=[]);var j=u.skipHidden&&r["!cols"]||[],T=u.skipHidden&&r["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(j[S]||{}).hidden)switch(p[S]=Ao(S),t=v?r[w][S]:r[p[S]+f],n){case 1:s[S]=S-c.s.c;break;case 2:s[S]=p[S];break;case 3:s[S]=u.header[S-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=i=Td(t,null,u),g=C[i]||0,!g)C[i]=1;else{do l=i+"_"+g++;while(C[l]);C[i]=g,C[l]=1}s[S]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(T[w]||{}).hidden){var L=iSe(r,c,w,p,n,s,v,u);(L.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=L.row)}return m.length=y,m}var gM=/"/g;function oSe(r,e,t,n,a,s,i,l){for(var c=!0,u=[],d="",f=qi(t),p=e.s.c;p<=e.e.c;++p)if(n[p]){var m=l.dense?(r[t]||[])[p]:r[n[p]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:Td(m,null,l));for(var y=0,g=0;y!==d.length;++y)if((g=d.charCodeAt(y))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(gM,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(gM,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function Q3(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var a=ba(r["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(r);for(var p=n.skipHidden&&r["!cols"]||[],m=n.skipHidden&&r["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(p[y]||{}).hidden||(f[y]=Ao(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=oSe(r,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&t.push((g++?l:"")+d)));return delete n.dense,t.join("")}function iV(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Q3(r,e);return t}function lSe(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=ba(r["!ref"]),s="",i=[],l,c=[],u=Array.isArray(r);for(l=a.s.c;l<=a.e.c;++l)i[l]=Ao(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=qi(d),l=a.s.c;l<=a.e.c;++l)if(e=i[l]+s,t=u?(r[d]||[])[l]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}c[c.length]=e+"="+n}return c}function oV(r,e,t){var n=t||{},a=+!n.skipHeader,s=r||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+e.length-1+a}};if(s["!ref"]){var f=ba(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+e.length-1+a)}else i==-1&&(i=0,d.e.r=e.length-1+a);var p=n.header||[],m=0;e.forEach(function(g,v){Gi(g).forEach(function(w){(m=p.indexOf(w))==-1&&(p[m=p.length]=w);var S=g[w],C="z",j="",T=Kn({c:l+m,r:i+v+a});u=Ly(s,T),S&&typeof S=="object"&&!(S instanceof Date)?s[T]=S:(typeof S=="number"?C="n":typeof S=="boolean"?C="b":typeof S=="string"?C="s":S instanceof Date?(C="d",n.cellDates||(C="n",S=Al(S)),j=n.dateNF||ls[14]):S===null&&n.nullError&&(C="e",S=0),u?(u.t=C,u.v=S,delete u.w,delete u.R,j&&(u.z=j)):s[T]=u={t:C,v:S},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+p.length-1);var y=qi(i);if(a)for(m=0;m<p.length;++m)s[Ao(m+l)+y]={t:"s",v:p[m]};return s["!ref"]=Ms(d),s}function cSe(r,e){return oV(null,r,e)}function Ly(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=xi(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Ly(r,Kn(e)):Ly(r,Kn({r:e,c:t||0}))}function uSe(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function ASe(){return{SheetNames:[],Sheets:{}}}function dSe(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=i+a)!=-1;++a);}if(Y$(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function hSe(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=uSe(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function fSe(r,e){return r.z=e,r}function lV(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function mSe(r,e,t){return lV(r,"#"+e,t)}function pSe(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function gSe(r,e,t,n){for(var a=typeof e!="string"?e:ba(e),s=typeof e=="string"?e:Ms(e),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=Ly(r,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=t,n&&(c.D=!0))}return r}var To={encode_col:Ao,encode_row:qi,encode_cell:Kn,encode_range:Ms,decode_col:T3,decode_row:_3,split_cell:F1e,decode_cell:xi,decode_range:ql,format_cell:Td,sheet_add_aoa:l$,sheet_add_json:oV,sheet_add_dom:tV,aoa_to_sheet:Bg,json_to_sheet:cSe,table_to_sheet:rV,table_to_book:QNe,sheet_to_csv:Q3,sheet_to_txt:iV,sheet_to_json:D2,sheet_to_html:eV,sheet_to_formulae:lSe,sheet_to_row_object_array:D2,sheet_get_cell:Ly,book_new:ASe,book_append_sheet:dSe,book_set_sheet_visibility:hSe,cell_set_number_format:fSe,cell_set_hyperlink:lV,cell_set_internal_link:mSe,cell_add_comment:pSe,sheet_set_array_formula:gSe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const xSe=({isOpen:r,onClose:e})=>{const{projects:t,addTimesheet:n}=ws(),{researchProjects:a}=D0(),s=qa(),[i,l]=B.useState("project"),[c,u]=B.useState({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),d=t,p=(Array.isArray(a)?a:[]).filter(g=>g.status==="planning"||g.status==="in-progress"),m=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management (E.g.: Business/Site Discussion, Proposal Preparation or Quotations)"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],y=async g=>{if(g.preventDefault(),i==="project"&&!c.projectId){Ce.error("Please select a project");return}if(i==="research"&&!c.researchId){Ce.error("Please select a research project");return}if(i==="project"&&!c.workCategory){Ce.error("Please select a work category");return}if(c.hours<=0){Ce.error("Please enter a valid number of hours");return}let v="",w="";if(i==="project"?(v=t.find(C=>C.id===c.projectId)?.projectCode||"",w="Project"):(v=a.find(C=>C.id===c.researchId)?.id||"",w="Research"),i==="project"){const S={date:c.date,engineerId:s?.userId||"",projectId:c.projectId,workCategory:c.workCategory,description:c.description,hours:c.hours};try{await n(S),Ce.success(` Timesheet Entry Created!
${w}: ${v}
Hours: ${c.hours} hrs
Project hours and finance analytics updated!`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(C){Ce.error("Failed to create timesheet entry"),Rt.error("Error creating timesheet:",C)}}else{const S={projectId:c.researchId,teamMemberId:s?.userId||"",teamMemberName:s?.displayName||"",date:c.date,hoursLogged:c.hours,description:c.description,researchCategory:c.workCategory||"General",status:"approved"};try{await D0.getState().logTimesheetHours(c.researchId,S),Ce.success(` Research Timesheet Entry Created!
Research: ${v}
Hours: ${c.hours} hrs`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(C){Ce.error("Failed to create research timesheet entry"),Rt.error("Error:",C)}}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ll,{className:"w-6 h-6 text-primary-600"}),"Add Timesheet Entry"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Log your work hours"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-gray-200",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["What are you working on? ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>{l("project"),u(g=>({...g,researchId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="project"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(wd,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Project"})]}),o.jsxs("button",{type:"button",onClick:()=>{l("research"),u(g=>({...g,projectId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="research"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(S0,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Research"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Qi,{className:"w-4 h-4 inline mr-1"}),"Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:c.date,onChange:g=>u({...c,date:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ll,{className:"w-4 h-4 inline mr-1"}),"Hours ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",value:c.hours,onChange:g=>u({...c,hours:parseFloat(g.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,step:"0.1",min:"0"})]})]}),i==="project"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(wd,{className:"w-4 h-4 inline mr-1"}),"Select Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.projectId,onChange:g=>u({...c,projectId:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a project..."}),d.map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Showing ",d.length," active projects"]})]}):o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(S0,{className:"w-4 h-4 inline mr-1"}),"Select Research Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.researchId,onChange:g=>u({...c,researchId:g.target.value}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a research project..."}),p.map(g=>o.jsxs("option",{value:g.id,children:[g.researchCode," - ",g.title]},g.id))]}),o.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Showing ",p.length," active research projects"]})]}),i==="project"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(os,{className:"w-4 h-4 inline mr-1"}),"Work Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.workCategory,onChange:g=>u({...c,workCategory:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category..."}),m.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(os,{className:"w-4 h-4 inline mr-1"}),"Description (Optional)"]}),o.jsx("textarea",{value:c.description,onChange:g=>u({...c,description:g.target.value}),placeholder:"Describe what you worked on...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:s.displayName.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.displayName}),o.jsx("p",{className:"text-xs text-gray-600",children:s.email}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This entry will be logged under your account"})]})]})}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Auto-Sync Enabled:"})," When you add a timesheet entry, it automatically updates:"]}),o.jsxs("ul",{className:"text-xs text-green-700 mt-2 ml-4 space-y-1 list-disc",children:[o.jsx("li",{children:"Project actual hours"}),o.jsx("li",{children:"Finance base cost calculations"}),o.jsx("li",{children:"Timesheet reports"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Add Entry"})]})]})]})})]}):null},ySe=({isOpen:r,onClose:e,timesheet:t,onUpdate:n})=>{const{projects:a}=ws(),[s,i]=B.useState({hours:0,workCategory:"engineering",description:""});B.useEffect(()=>{t&&i({hours:t.hours,workCategory:t.workCategory,description:t.description||""})},[t,r]);const l=d=>{if(d.preventDefault(),!s.hours||s.hours<=0){Ce.error("Hours must be greater than 0");return}if(s.hours>24){Ce.error("Hours cannot exceed 24 per day");return}if(!s.description.trim()){Ce.error("Description is required");return}if(t){const f={...t,hours:s.hours,workCategory:s.workCategory,description:s.description};n&&n(f),Ce.success("Timesheet updated successfully!"),e()}};if(!r||!t)return null;const c=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],u=a.find(d=>d.id===t.projectId);return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Timesheet Entry"}),o.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Project"}),o.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[u?.projectCode," - ",u?.title||"Unknown"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:new Date(t.date).toLocaleDateString()})]})]})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hours Worked *"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"24",value:s.hours,onChange:d=>i({...s,hours:parseFloat(d.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"8"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be between 0.5 and 24 hours"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Category *"}),o.jsx("select",{value:s.workCategory,onChange:d=>i({...s,workCategory:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:c.map(d=>o.jsx("option",{value:d.value,children:d.label},d.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:s.description,onChange:d=>i({...s,description:d.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe what work was done..."})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Update Entry"})]})]})]})]})})},vSe=()=>{const{timesheets:r,projects:e,fetchTimesheets:t,fetchProjects:n,updateTimesheet:a,deleteTimesheet:s}=ws(),{teamMembers:i,fetchTeamMembers:l}=Dc(),{researchTimesheets:c,fetchResearchProjects:u,fetchResearchTimesheets:d}=D0(),[f,p]=B.useState("projects"),[m,y]=B.useState(""),[g,v]=B.useState(""),[w,S]=B.useState(""),[C,j]=B.useState(""),[T,L]=B.useState(!1),[I,D]=B.useState(!1),[k,z]=B.useState(null),[P,U]=B.useState({isOpen:!1}),[M,q]=B.useState(!1),[ae,W]=B.useState(!1),[ee,re]=B.useState("date"),[pe,Se]=B.useState("desc"),[ne,F]=B.useState("date"),[Q,K]=B.useState("desc"),V=B.useRef(null),J=[g,w,C,m].filter(Boolean).length,oe=B.useCallback(()=>{const ke={};g&&(ke.engineerId=g),w&&(ke.startDate=w),C&&(ke.endDate=C),t(Object.keys(ke).length>0?ke:void 0)},[g,w,C,t]);B.useEffect(()=>{t(),n(),l(),u(),d();const ke=new Date;y(`${ke.getFullYear()}-${String(ke.getMonth()+1).padStart(2,"0")}`)},[]),B.useEffect(()=>{oe()},[g,w,C]),B.useEffect(()=>{const ke=De=>{V.current&&!V.current.contains(De.target)&&q(!1)};return document.addEventListener("mousedown",ke),()=>document.removeEventListener("mousedown",ke)},[]);const Ne=B.useMemo(()=>(Array.isArray(r)?r:[]).filter(ke=>{if(!m)return!0;const De=new Date(ke.date);return`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}`===m}).sort((ke,De)=>{const rt=Nt=>{switch(ee){case"date":return new Date(Nt.date).getTime();case"engineer":return(Nt.engineerName||"").toLowerCase();case"projectCode":return(Nt.projectCode||"").toLowerCase();case"projectName":return(e.find(ir=>ir.id===Nt.projectId)?.title||Nt.projectTitle||"").toLowerCase();case"category":return Pe(Nt.workCategory).toLowerCase();case"hours":return Nt.hours||0;default:return new Date(Nt.date).getTime()}},pr=rt(ke),Qt=rt(De);return typeof pr=="string"&&typeof Qt=="string"?pe==="asc"?pr.localeCompare(Qt):Qt.localeCompare(pr):pe==="asc"?pr-Qt:Qt-pr}),[r,m,e,ee,pe]),ue=B.useMemo(()=>(Array.isArray(c)?c:[]).filter(ke=>{if(!m)return!0;const De=new Date(ke.date);return`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}`===m}).sort((ke,De)=>{const rt=Nt=>{switch(ne){case"date":return new Date(Nt.date).getTime();case"researcher":return(Nt.teamMemberName||Nt.researcherName||"").toLowerCase();case"project":return(Nt.projectTitle||Nt.researchProjectTitle||"").toLowerCase();case"category":return(Nt.researchCategory||"").toLowerCase();case"hours":return Nt.hoursLogged||Nt.hours||0;case"status":return{completed:0,"in-progress":1,planning:2,"on-hold":3,archived:4}[Nt.status]??5;default:return new Date(Nt.date).getTime()}},pr=rt(ke),Qt=rt(De);return typeof pr=="string"&&typeof Qt=="string"?Q==="asc"?pr.localeCompare(Qt):Qt.localeCompare(pr):Q==="asc"?pr-Qt:Qt-pr}),[c,m,ne,Q]),xe=Ne.reduce((ke,De)=>ke+parseFloat(De.hours||0),0),Oe=ue.reduce((ke,De)=>ke+parseFloat(De.hoursLogged||De.hours||0),0),Be=f==="projects"?Ne:ue,qe=f==="projects"?xe:Oe;Be.length>0&&qe/Be.length;const Pe=ke=>{switch(ke){case"engineering":return"Engineering";case"project-management":return"Project Management";case"measurement-site":return"Measurement (Site)";case"measurement-office":return"Measurement (Office)";default:return ke}},X=B.useCallback(ke=>{ee===ke?Se(De=>De==="asc"?"desc":"asc"):(re(ke),Se("asc"))},[ee]),Me=ke=>ee!==ke?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):pe==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"}),We=B.useCallback(ke=>{ne===ke?K(De=>De==="asc"?"desc":"asc"):(F(ke),K("asc"))},[ne]),bt=ke=>ne!==ke?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):Q==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"}),st=()=>{L(!0)},Ye=ke=>{z(ke),D(!0)},ht=async ke=>{try{await a(ke.id,{hours:ke.hours,workCategory:ke.workCategory,description:ke.description}),Ce.success(`Timesheet entry updated! Hours: ${ke.hours}`),D(!1),z(null)}catch(De){const rt=De?.response?.data?.error||De?.message||"Failed to update timesheet entry";Ce.error(rt),Rt.error("Update error:",De)}},wt=async ke=>{U({isOpen:!0,entryId:ke,entryType:"project"})},Bt=async()=>{if(!(!P.entryId||!P.entryType))try{P.entryType==="project"?(await s(P.entryId),Ce.success("Timesheet entry deleted!")):P.entryType==="research"&&(await D0.getState().deleteTimesheetEntry(P.entryId),Ce.success("Research timesheet entry deleted!")),U({isOpen:!1})}catch(ke){Ce.error("Failed to delete timesheet entry"),Rt.error("Delete error:",ke)}},Ut=async ke=>{U({isOpen:!0,entryId:ke,entryType:"research"})},dr=ke=>{let De="all";return m?De=m:w&&C?De=`${w}-to-${C}`:w?De=`from-${w}`:C&&(De=`until-${C}`),`timesheets-${f==="projects"?"project":"research"}-${De}.${ke}`},ur=()=>f==="projects"?Ne.map(ke=>{const De=e.find(pr=>pr.id===ke.projectId);return{Date:new Date(ke.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),"Engineer Name":ke.engineerName||"Unassigned","Project Code":ke.projectCode||"N/A","Project Name":De?.title||ke.projectTitle||"N/A",Type:"Project","Work Category":Pe(ke.workCategory),Hours:ke.hours,Description:ke.description||""}}):ue.map(ke=>{const De=new Date(ke.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),rt=ke.hoursLogged||ke.hours||0;return{Date:De,Researcher:ke.teamMemberName||ke.researcherName||"Unknown","Research Project":ke.projectTitle||ke.researchProjectTitle||"N/A",Type:"Research",Category:ke.researchCategory||"-",Hours:rt,Status:ke.status?.replace("-"," ")||"N/A",Description:ke.description||""}}),hr=()=>{const ke=ur();if(ke.length===0){Ce.error("No data to export"),q(!1);return}const De=To.json_to_sheet(ke),rt=To.book_new();To.book_append_sheet(rt,De,"Timesheets");const pr=Object.keys(ke[0]).map(Qt=>({wch:Math.max(Qt.length,...ke.map(Nt=>String(Nt[Qt]||"").length))}));De["!cols"]=pr,jv(rt,dr("xlsx")),Ce.success(`Exported ${ke.length} entries to Excel`),q(!1)},ar=()=>{const ke=ur();if(ke.length===0){Ce.error("No data to export"),q(!1);return}const De=Object.keys(ke[0]),rt=[De.join(","),...ke.map(Nt=>De.map(Yt=>{const ir=Nt[Yt],Pt=String(ir||"");return Pt.includes(",")||Pt.includes(`
`)||Pt.includes('"')?`"${Pt.replace(/"/g,'""')}"`:Pt}).join(","))].join(`
`),pr=new Blob([rt],{type:"text/csv;charset=utf-8;"}),Qt=document.createElement("a");Qt.href=URL.createObjectURL(pr),Qt.download=dr("csv"),Qt.click(),URL.revokeObjectURL(Qt.href),Ce.success(`Exported ${ke.length} entries to CSV`),q(!1)};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Timesheets"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage time entries for projects and research"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>W(!ae),className:`inline-flex items-center justify-center gap-2 px-3 py-2 border rounded-lg transition-colors ${ae||J>0?"bg-primary-50 border-primary-300 text-primary-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(ev,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Filters"}),J>0&&o.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-primary-600 text-white rounded-full",children:J})]}),o.jsxs("div",{className:"relative",ref:V,children:[o.jsxs("button",{onClick:()=>q(!M),className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(Pd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Export"}),o.jsx(Bo,{className:`w-4 h-4 transition-transform ${M?"rotate-180":""}`})]}),M&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[o.jsxs("button",{onClick:hr,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx(KZ,{className:"w-4 h-4 text-green-600"}),"Export to Excel"]}),o.jsxs("button",{onClick:ar,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx(os,{className:"w-4 h-4 text-blue-600"}),"Export to CSV"]})]})]}),o.jsxs("button",{onClick:st,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Add Entry"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>p("projects"),className:`pb-2 font-medium transition-all flex items-center gap-2 ${f==="projects"?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(wd,{className:"w-4 h-4"}),"Projects"]}),o.jsxs("button",{onClick:()=>p("research"),className:`pb-2 font-medium transition-all flex items-center gap-2 ${f==="research"?"border-b-2 border-purple-600 text-purple-600":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(S0,{className:"w-4 h-4"}),"Research"]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:Be.length})," entries"]}),o.jsx("span",{className:"text-gray-300",children:""}),o.jsxs("span",{className:f==="projects"?"text-primary-600":"text-purple-600",children:[o.jsx("span",{className:"font-semibold",children:qe.toFixed(1)})," hrs"]})]})]}),ae&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Engineer:"}),o.jsxs("select",{value:g,onChange:ke=>v(ke.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All"}),(Array.isArray(i)?i:[]).map(ke=>o.jsx("option",{value:ke.userId||ke.id,children:ke.name},ke.userId||ke.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),o.jsx("input",{type:"date",value:w,onChange:ke=>S(ke.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),o.jsx("input",{type:"date",value:C,onChange:ke=>j(ke.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Month:"}),o.jsx("input",{type:"month",value:m,onChange:ke=>y(ke.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),J>0&&o.jsxs("button",{onClick:()=>{v(""),S(""),j(""),y("")},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx(Ur,{className:"w-3 h-3"}),"Clear all"]})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[f==="projects"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>X("date"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Date ",Me("date")]}),o.jsxs("th",{onClick:()=>X("engineer"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Name ",Me("engineer")]}),o.jsxs("th",{onClick:()=>X("projectCode"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Code ",Me("projectCode")]}),o.jsxs("th",{onClick:()=>X("projectName"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Name ",Me("projectName")]}),o.jsxs("th",{onClick:()=>X("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Work Category ",Me("category")]}),o.jsxs("th",{onClick:()=>X("hours"),className:"px-3 py-2 text-right text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",Me("hours")]}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ne.map(ke=>{const De=e.find(pr=>pr.id===ke.projectId),rt=new Date(ke.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:rt}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:ke.engineerName||"Unassigned"}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-primary-600",children:ke.projectCode||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:De?.title||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Pe(ke.workCategory)}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-medium text-primary-600",children:[ke.hours," hrs"]}),o.jsx("td",{className:"px-3 py-2 text-sm text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:()=>Ye(ke),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit entry",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>wt(ke.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(Ns,{className:"w-4 h-4"})})]})})]},ke.id)})}),o.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:5,className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Total:"}),o.jsxs("td",{className:"px-3 py-2 text-right text-sm font-bold text-primary-700",children:[xe.toFixed(1)," hrs"]}),o.jsx("td",{className:"px-3 py-2"})]})})]})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>We("date"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Date ",bt("date")]}),o.jsxs("th",{onClick:()=>We("researcher"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Researcher ",bt("researcher")]}),o.jsxs("th",{onClick:()=>We("project"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Research Project ",bt("project")]}),o.jsxs("th",{onClick:()=>We("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Category ",bt("category")]}),o.jsxs("th",{onClick:()=>We("hours"),className:"px-3 py-2 text-right text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",bt("hours")]}),o.jsxs("th",{onClick:()=>We("status"),className:"px-3 py-2 text-center text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",bt("status")]}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ue.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"px-3 py-12 text-center",children:[o.jsx(S0,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No research timesheet entries"}),o.jsx("p",{className:"text-gray-600",children:"No research timesheet entries found for the selected period."})]})}):ue.map(ke=>{const De=new Date(ke.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),rt=ke.hoursLogged||ke.hours||0;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:De}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:ke.teamMemberName||ke.researcherName||"Unknown"}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-purple-600",children:ke.projectTitle||ke.researchProjectTitle||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:ke.researchCategory||"-"}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-medium text-purple-600",children:[rt," hrs"]}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize ${ke.status==="completed"?"bg-green-100 text-green-800":ke.status==="in-progress"?"bg-blue-100 text-blue-800":ke.status==="planning"?"bg-yellow-100 text-yellow-800":ke.status==="on-hold"?"bg-orange-100 text-orange-800":ke.status==="archived"?"bg-gray-100 text-gray-800":"bg-gray-100 text-gray-600"}`,children:ke.status?.replace("-"," ")||"N/A"})}),o.jsx("td",{className:"px-3 py-2 text-sm text-right",children:o.jsx("div",{className:"flex gap-1 justify-end",children:o.jsx("button",{onClick:()=>Ut(ke.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(Ns,{className:"w-4 h-4"})})})})]},ke.id)})}),ue.length>0&&o.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:4,className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Total:"}),o.jsxs("td",{className:"px-3 py-2 text-right text-sm font-bold text-purple-700",children:[Oe.toFixed(1)," hrs"]}),o.jsx("td",{colSpan:2,className:"px-3 py-2"})]})})]})}),f==="projects"&&Ne.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(ll,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No timesheet entries"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking your time by adding your first entry"}),o.jsxs("button",{onClick:st,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),"Add Entry"]})]})]}),o.jsx(xSe,{isOpen:T,onClose:()=>{L(!1),oe()}}),o.jsx(ySe,{isOpen:I,onClose:()=>{D(!1),z(null)},timesheet:k,onUpdate:ht}),o.jsx(G0,{isOpen:P.isOpen,onClose:()=>U({isOpen:!1}),onConfirm:Bt,title:"Delete Timesheet Entry",message:P.entryType==="research"?"Are you sure you want to delete this research timesheet entry? This cannot be undone.":"Are you sure you want to delete this timesheet entry? This cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})})},za=({className:r,variant:e="default",size:t="md",isClickable:n=!1,children:a,...s})=>o.jsx("span",{className:_r("inline-flex items-center justify-center rounded-full font-medium",{"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":e==="default","bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e==="success","bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":e==="warning","bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":e==="danger","bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":e==="info","px-2.5 py-2 text-xs":t==="sm"&&n,"px-3 py-2 text-sm":t==="md"&&n,"px-4 py-2.5 text-base":t==="lg"&&n,"px-2 py-0.5 text-xs":t==="sm"&&!n,"px-2.5 py-1 text-sm":t==="md"&&!n,"px-3 py-1.5 text-base":t==="lg"&&!n,"cursor-pointer hover:shadow-md transition-shadow":n},r),...s,children:a});function bSe(r){return r.split(`
`).filter(t=>t.trim()).map(t=>{const n=[];let a="",s=!1;for(let i=0;i<t.length;i++){const l=t[i];l==='"'?s=!s:l===","&&!s?(n.push(a.trim()),a=""):a+=l}return n.push(a.trim()),n})}function wSe(r,e){const t={};if(e.forEach((l,c)=>{t[l]=r[c]}),!t.title||!t.sku)return{valid:!1,error:"Missing required fields: title or sku"};const n=parseInt(t.quantity);if(isNaN(n)||n<0)return{valid:!1,error:"Invalid quantity value"};const a=parseInt(t.minimumStock);if(isNaN(a)||a<0)return{valid:!1,error:"Invalid minimumStock value"};const s=parseFloat(t.cost||"0"),i=parseFloat(t.price||"0");return isNaN(s)||isNaN(i)?{valid:!1,error:"Invalid cost or price value"}:{valid:!0}}function CSe(r,e){const t={};e.forEach((a,s)=>{t[a]=r[s]});const n=qa();return{title:t.title,sku:t.sku,barcode:t.barcode||"",category:t.category||"Uncategorized",quantity:parseInt(t.quantity)||0,minimumStock:parseInt(t.minimumStock)||0,location:t.location||"",unitOfMeasure:t.unitOfMeasure||"Unit",cost:parseFloat(t.cost)||0,price:parseFloat(t.price)||0,supplier:t.supplier||"",status:t.status||"Active",notes:t.notes||"",lastUpdated:new Date().toISOString(),createdBy:n.displayName}}async function NSe(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=a=>{try{const s=a.target?.result,i=bSe(s);if(i.length<2){e({success:!1,imported:0,failed:0,errors:[{row:0,error:"CSV file is empty or has no data rows"}]});return}const l=i[0],c=i.slice(1),u=[],d=[];c.forEach((f,p)=>{const m=wSe(f,l);if(!m.valid)u.push({row:p+2,error:m.error||"Unknown error"});else try{const y=CSe(f,l);d.push(y)}catch(y){u.push({row:p+2,error:`Failed to parse row: ${y}`})}}),e({success:d.length>0,imported:d.length,failed:u.length,errors:u.length>0?u:void 0})}catch(s){t(new Error(`Failed to process CSV file: ${s}`))}},n.onerror=()=>{t(new Error("Failed to read file"))},n.readAsText(r)})}function SSe(){const e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=Math.random().toString(36).substring(2,7).toUpperCase();return`MCO-${e}-${t}`}function BSe({isOpen:r,onClose:e,onImport:t}){const[n,a]=B.useState(null),[s,i]=B.useState(!1),[l,c]=B.useState(null);if(!r)return null;const u=m=>{const y=m.target.files?.[0];y&&(a(y),c(null))},d=async()=>{if(n){i(!0);try{const m=await NSe(n);c(m),m.success&&await t(n)}catch(m){c({success:!1,imported:0,failed:0,errors:[{row:0,error:`Upload failed: ${m}`}]})}finally{i(!1)}}},f=()=>{a(null),c(null),e()},p=()=>{const m=document.createElement("a");m.href="/templates/inventory-bulk-upload-template.csv",m.download="inventory-bulk-upload-template.csv",m.click()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Import Inventory"}),o.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"How to use bulk import:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[o.jsx("li",{children:"Download the CSV template below"}),o.jsx("li",{children:"Fill in your inventory data (keep the header row)"}),o.jsx("li",{children:"Upload the completed CSV file"}),o.jsx("li",{children:"Review the validation results"})]})]}),o.jsx("div",{children:o.jsxs(Dt,{variant:"outline",onClick:p,className:"w-full",children:[o.jsx(Pd,{className:"w-4 h-4 mr-2"}),"Download CSV Template"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx("input",{type:"file",accept:".csv",onChange:u,className:"hidden",id:"csv-upload"}),o.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(ko,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:n?n.name:"Click to select CSV file"})]})]})]}),l&&o.jsx("div",{className:`border rounded-lg p-4 ${l.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[l.success?o.jsx($a,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):o.jsx(Cs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium mb-2 ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Validation Successful":"Validation Failed"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{className:l.success?"text-green-800":"text-red-800",children:[" ",l.imported," items ready to import"]}),l.failed>0&&o.jsxs("p",{className:"text-red-800",children:[" ",l.failed," items failed validation"]})]}),l.errors&&l.errors.length>0&&o.jsxs("div",{className:"mt-3 max-h-40 overflow-y-auto",children:[o.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Errors:"}),o.jsx("ul",{className:"text-xs text-red-800 space-y-1",children:l.errors.map((m,y)=>o.jsxs("li",{children:["Row ",m.row,": ",m.error]},y))})]})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Dt,{variant:"outline",onClick:f,children:"Cancel"}),o.jsx(Dt,{onClick:d,disabled:!n||s,children:s?"Uploading...":"Import Items"})]})]})})}function ESe({isOpen:r,onClose:e,onCheckout:t}){const[n]=B.useState(SSe()),[a,s]=B.useState([{barcode:"",quantity:1}]),[i,l]=B.useState(""),[c,u]=B.useState(""),[d,f]=B.useState(""),[p,m]=B.useState(!1);if(!r)return null;const y=()=>{s([...a,{barcode:"",quantity:1}])},g=C=>{s(a.filter((j,T)=>T!==C))},v=(C,j,T)=>{const L=[...a];L[C]={...L[C],[j]:T},s(L)},w=async()=>{const C=a.filter(L=>L.barcode.trim()!==""&&L.quantity>0);if(C.length===0){alert("Please add at least one item with a valid barcode");return}const j=qa(),T={masterBarcode:n,items:C,checkedOutBy:j.displayName,checkedOutDate:new Date().toISOString(),expectedReturnDate:i||void 0,purpose:c||void 0,notes:d||void 0};m(!0);try{await t(T),S()}catch(L){alert(`Checkout failed: ${L}`)}finally{m(!1)}},S=()=>{s([{barcode:"",quantity:1}]),l(""),u(""),f(""),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Checkout"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Check out multiple items with a single master barcode"})]}),o.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Tw,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Master Barcode"}),o.jsx("p",{className:"text-lg font-mono font-bold text-blue-700",children:n}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Use this barcode to return all items together"})]})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items to Check Out"}),o.jsxs(Dt,{variant:"outline",size:"sm",onClick:y,children:[o.jsx(vi,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),o.jsx("div",{className:"space-y-3",children:a.map((C,j)=>o.jsxs("div",{className:"flex gap-3 items-start",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ia,{placeholder:"Barcode or SKU",value:C.barcode,onChange:T=>v(j,"barcode",T.target.value)})}),o.jsx("div",{className:"w-24",children:o.jsx(ia,{type:"number",min:"1",placeholder:"Qty",value:C.quantity,onChange:T=>v(j,"quantity",parseInt(T.target.value)||1)})}),o.jsx(Dt,{variant:"outline",size:"sm",onClick:()=>g(j),disabled:a.length===1,className:"text-red-600 hover:text-red-700",children:o.jsx(Ns,{className:"w-4 h-4"})})]},j))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Qi,{className:"w-4 h-4 inline mr-1"}),"Expected Return Date (Optional)"]}),o.jsx(ia,{type:"date",value:i,onChange:C=>l(C.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose (Optional)"}),o.jsx(ia,{placeholder:"e.g., Project deployment, Training session, etc.",value:c,onChange:C=>u(C.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Additional notes...",value:d,onChange:C=>f(C.target.value)})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Total items: ",a.filter(C=>C.barcode.trim()).length]}),o.jsxs("p",{children:["Checked out by: ",qa().displayName]}),i&&o.jsxs("p",{children:["Expected return: ",new Date(i).toLocaleDateString()]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Dt,{variant:"outline",onClick:S,children:"Cancel"}),o.jsx(Dt,{onClick:w,disabled:p||a.filter(C=>C.barcode.trim()).length===0,children:p?"Processing...":"Complete Checkout"})]})]})})}const H3=Oc((r,e)=>({checkouts:[],filteredCheckouts:[],filters:{showMyCheckoutsFirst:!0},stats:{totalActive:0,myActive:0,overdue:0,partialReturns:0},loading:!1,fetchCheckouts:async()=>{r({loading:!0});try{const t=await jn.getAllCheckouts(),n=qa(),a=[...t].sort((s,i)=>{const l=s.checkedOutByEmail===n.email,c=i.checkedOutByEmail===n.email;return l&&!c?-1:!l&&c?1:new Date(i.checkedOutDate).getTime()-new Date(s.checkedOutDate).getTime()});r({checkouts:a,filteredCheckouts:a}),e().getCheckoutStats()}catch(t){console.error("Failed to fetch checkouts:",t),r({checkouts:[],filteredCheckouts:[]})}finally{r({loading:!1})}},setFilters:t=>{r({filters:t});const{checkouts:n}=e(),a=qa();let s=[...n];if(t.status&&t.status!=="all"&&(s=s.filter(i=>i.status===t.status)),t.userId&&(s=s.filter(i=>i.checkedOutByEmail===t.userId)),t.search){const i=t.search.toLowerCase();s=s.filter(l=>l.masterBarcode.toLowerCase().includes(i)||l.purpose?.toLowerCase().includes(i)||l.checkedOutBy.toLowerCase().includes(i)||l.items.some(c=>c.itemName.toLowerCase().includes(i)))}t.showMyCheckoutsFirst&&s.sort((i,l)=>{const c=i.checkedOutByEmail===a.email,u=l.checkedOutByEmail===a.email;return c&&!u?-1:!c&&u?1:0}),r({filteredCheckouts:s})},getCheckoutByMasterBarcode:t=>{const{checkouts:n}=e();return n.find(a=>a.masterBarcode===t)},getMyActiveCheckouts:()=>{const{checkouts:t}=e(),n=qa();return t.filter(a=>a.checkedOutByEmail===n.email&&(a.status==="active"||a.status==="partial-return"||a.status==="overdue"))},getCheckoutStats:()=>{const{checkouts:t}=e(),n=qa(),a=t.filter(i=>i.status==="active"||i.status==="partial-return"||i.status==="overdue"),s={totalActive:a.length,myActive:a.filter(i=>i.checkedOutByEmail===n.email).length,overdue:t.filter(i=>i.status==="overdue").length,partialReturns:t.filter(i=>i.status==="partial-return").length};return r({stats:s}),s}}));function jSe({isOpen:r,onClose:e,onCheckIn:t}){const{getCheckoutByMasterBarcode:n}=H3(),[a,s]=B.useState(""),[i,l]=B.useState(""),[c,u]=B.useState("full"),[d,f]=B.useState(new Map),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState(null),[S,C]=B.useState(!1);if(B.useEffect(()=>{r||(s(""),l(""),u("full"),f(new Map),g(null),w(null))},[r]),!r)return null;const j=async()=>{if(!a.trim()){w("Please enter a master barcode");return}C(!0),w(null);try{const W=n(a);if(W){g(W),w(null);const ee=new Map;W.items.filter(re=>re.returnStatus==="checked-out").forEach(re=>{ee.set(re.id,re.remainingQuantity)}),f(ee)}else w("Master barcode not found or already fully returned"),g(null)}catch{w("Failed to lookup checkout. Please try again."),g(null)}finally{C(!1)}},T=(W,ee)=>{const re=new Map(d);re.has(W)?re.delete(W):re.set(W,ee),f(re)},L=(W,ee,re)=>{const pe=new Map(d),Se=Math.max(0,Math.min(ee,re));Se>0?pe.set(W,Se):pe.delete(W),f(pe)},I=async()=>{if(!y)return;const W=qa(),ee=[];if(c==="full"?y.items.filter(pe=>pe.returnStatus==="checked-out").forEach(pe=>{ee.push({itemId:pe.itemId,quantityToReturn:pe.remainingQuantity})}):d.forEach((pe,Se)=>{const ne=y.items.find(F=>F.id===Se);ne&&ee.push({itemId:ne.itemId,quantityToReturn:pe})}),ee.length===0){w("Please select at least one item to return");return}const re={masterBarcode:a,returnType:c,returnDate:new Date().toISOString(),returnedBy:W.displayName,notes:i||void 0,items:ee};m(!0);try{await t(re),D()}catch(pe){w(`Check-in failed: ${pe}`)}finally{m(!1)}},D=()=>{s(""),l(""),u("full"),f(new Map),g(null),w(null),e()},k=y?.expectedReturnDate&&new Date(y.expectedReturnDate)<new Date,z=qa(),P=y?.checkedOutByEmail===z.email,U=y?.items.filter(W=>W.returnStatus==="checked-out")||[],M=y?.items.filter(W=>W.returnStatus==="returned")||[],q=d.size,ae=Array.from(d.values()).reduce((W,ee)=>W+ee,0);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Check-In Items"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Return items using master barcode"})]}),o.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Tw,{className:"w-4 h-4 inline mr-1"}),"Master Barcode"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ia,{placeholder:"MCO-YYYYMMDD-XXXXX",value:a,onChange:W=>{s(W.target.value),g(null),w(null)},onKeyPress:W=>{W.key==="Enter"&&j()},className:"flex-1"}),o.jsx(Dt,{onClick:j,disabled:S||!a.trim(),children:S?"Looking up...":"Lookup"})]})]}),v&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(Cs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),o.jsx("p",{className:"text-sm text-red-800",children:v})]})]}),y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`border rounded-lg overflow-hidden ${k?"border-red-300":"border-gray-200"}`,children:[o.jsxs("div",{className:`p-4 ${k?"bg-red-50":P?"bg-blue-50":"bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Checkout Details"}),k&&o.jsx("span",{className:"text-xs font-medium text-red-700 bg-red-100 px-2 py-1 rounded",children:"OVERDUE"}),P&&!k&&o.jsx("span",{className:"text-xs font-medium text-blue-700 bg-blue-100 px-2 py-1 rounded",children:"YOUR CHECKOUT"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Master Barcode"}),o.jsx("p",{className:"font-mono font-medium text-gray-900",children:y.masterBarcode})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Checked Out By"}),o.jsx("p",{className:"font-medium text-gray-900",children:P?"You":y.checkedOutBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Checkout Date"}),o.jsx("p",{className:"font-medium text-gray-900",children:new Date(y.checkedOutDate).toLocaleDateString()})]}),y.expectedReturnDate&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Expected Return"}),o.jsx("p",{className:`font-medium ${k?"text-red-700":"text-gray-900"}`,children:new Date(y.expectedReturnDate).toLocaleDateString()})]}),y.purpose&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("p",{className:"text-gray-600",children:"Purpose"}),o.jsx("p",{className:"font-medium text-gray-900",children:y.purpose})]})]})]}),o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Type"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>{u("full");const W=new Map;U.forEach(ee=>{W.set(ee.id,ee.remainingQuantity)}),f(W)},className:`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-colors ${c==="full"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[o.jsx($a,{className:"w-5 h-5 inline mr-2"}),"Full Return (All Items)"]}),o.jsxs("button",{onClick:()=>u("partial"),className:`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-colors ${c==="partial"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[o.jsx(Nd,{className:"w-5 h-5 inline mr-2"}),"Partial Return (Select Items)"]})]})]}),U.length>0&&o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Items Still Checked Out (",U.length,")"]}),o.jsx("div",{className:"space-y-2",children:U.map(W=>{const ee=d.has(W.id),re=d.get(W.id)||W.remainingQuantity;return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border-2 transition-colors ${c==="full"||ee?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c==="partial"&&o.jsx("input",{type:"checkbox",checked:ee,onChange:()=>T(W.id,W.remainingQuantity),className:"w-5 h-5 text-blue-600 rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:W.itemName}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Barcode: ",W.barcode]})]})]}),o.jsx("div",{className:"flex items-center gap-3",children:c==="partial"&&ee?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Qty:"}),o.jsx("input",{type:"number",min:"1",max:W.remainingQuantity,value:re,onChange:pe=>L(W.id,parseInt(pe.target.value),W.remainingQuantity),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),o.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",W.remainingQuantity]})]}):o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Qty: ",W.remainingQuantity]})})]},W.id)})})]}),M.length>0&&o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[o.jsxs("h4",{className:"font-medium text-gray-500 mb-2 text-sm",children:["Previously Returned (",M.length,")"]}),o.jsx("div",{className:"space-y-1",children:M.map(W=>o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($a,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:W.itemName})]}),o.jsxs("span",{children:["Qty: ",W.returnedQuantity]})]},W.id))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Notes (Optional)"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"e.g., All items in good condition, HDMI cable has minor wear...",value:i,onChange:W=>l(W.target.value)})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx($a,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-green-900 mb-2",children:c==="full"?"Full Return Summary":"Partial Return Summary"}),o.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[c==="full"?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[" ",U.length," items will be returned"]}),o.jsxs("p",{children:[" ",y.remainingItems," total units"]}),o.jsx("p",{children:' Checkout will be marked as "Fully Returned"'})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[" ",q," items selected to return"]}),o.jsxs("p",{children:[" ",ae," total units"]}),o.jsxs("p",{children:[" ",U.length-q," items will remain checked out"]}),q<U.length&&o.jsx("p",{className:"text-yellow-700",children:" Master barcode will remain active"})]}),o.jsxs("p",{children:[" Returned by: ",z.displayName]}),o.jsxs("p",{children:[" Return date: ",new Date().toLocaleDateString()]})]})]})]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Dt,{variant:"outline",onClick:D,children:"Cancel"}),o.jsx(Dt,{onClick:I,disabled:!y||p||c==="partial"&&q===0,children:p?"Processing...":`Complete ${c==="full"?"Full":"Partial"} Check-In`})]})]})})}function _Se({isOpen:r,onClose:e,onCheckout:t,prefilledBarcode:n=""}){const[a,s]=B.useState(n),[i,l]=B.useState(1),[c,u]=B.useState(""),[d,f]=B.useState(""),[p,m]=B.useState(""),[y,g]=B.useState(""),[v,w]=B.useState(!1);if(!r)return null;const S=async()=>{if(!a.trim()){Lt.error("Please enter an item barcode or SKU");return}if(i<=0){Lt.error("Quantity must be greater than 0");return}const T=qa(),L={itemBarcode:a.trim(),quantity:i,checkedOutBy:T.displayName,checkedOutByEmail:T.email,checkedOutDate:new Date().toISOString(),expectedReturnDate:c||void 0,purpose:d.trim()||void 0,location:p.trim()||void 0,notes:y.trim()||void 0};w(!0);try{await t(L),C(),Lt.success("Item checked out successfully!")}catch(I){Lt.error(I?.message||"Checkout failed. Please try again.")}finally{w(!1)}},C=()=>{s(""),l(1),u(""),f(""),m(""),g(""),e()},j=qa();return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Single Item Checkout"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Check out a single item or quantity"})]}),o.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Nd,{className:"w-4 h-4 inline mr-1"}),"Item Barcode or SKU *"]}),o.jsx(ia,{placeholder:"Scan or enter barcode/SKU",value:a,onChange:T=>s(T.target.value),autoFocus:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(h_,{className:"w-4 h-4 inline mr-1"}),"Quantity *"]}),o.jsx(ia,{type:"number",min:"1",placeholder:"1",value:i,onChange:T=>l(parseInt(T.target.value)||1)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location/Site (Optional)"}),o.jsx(ia,{placeholder:"e.g., Client Site - Building A, Office 3B",value:p,onChange:T=>m(T.target.value)}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Where will this equipment be taken to?"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Qi,{className:"w-4 h-4 inline mr-1"}),"Expected Return Date (Optional)"]}),o.jsx(ia,{type:"date",value:c,onChange:T=>u(T.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose (Optional)"}),o.jsx(ia,{placeholder:"e.g., Client demonstration, Field testing, Repair",value:d,onChange:T=>f(T.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Any additional notes...",value:y,onChange:T=>g(T.target.value)})]}),o.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-indigo-900 mb-2 flex items-center gap-2",children:[o.jsx(bu,{className:"w-4 h-4"}),"Checkout Summary"]}),o.jsxs("div",{className:"text-sm text-indigo-800 space-y-1",children:[o.jsxs("p",{children:["Checked out by: ",o.jsx("span",{className:"font-medium",children:j.displayName})]}),o.jsxs("p",{children:["Checkout date: ",o.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]}),i>0&&o.jsxs("p",{children:["Quantity: ",o.jsx("span",{className:"font-medium",children:i})]}),p&&o.jsxs("p",{children:["Destination: ",o.jsx("span",{className:"font-medium",children:p})]}),c&&o.jsxs("p",{children:["Expected return: ",o.jsx("span",{className:"font-medium",children:new Date(c).toLocaleDateString()})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx(Dt,{variant:"outline",onClick:C,disabled:v,children:"Cancel"}),o.jsx(Dt,{onClick:S,disabled:v||!a.trim()||i<=0,children:v?"Processing...":"Complete Checkout"})]})]})})}function TSe({isOpen:r,onClose:e,onCheckIn:t,prefilledBarcode:n=""}){const[a,s]=B.useState(n),[i,l]=B.useState(1),[c,u]=B.useState("good"),[d,f]=B.useState(""),[p,m]=B.useState(!1);if(!r)return null;const y=async()=>{if(!a.trim()){Lt.error("Please enter an item barcode or SKU");return}if(i<=0){Lt.error("Quantity must be greater than 0");return}const S=qa(),C={itemBarcode:a.trim(),quantityToReturn:i,returnedBy:S.displayName,returnedByEmail:S.email,returnDate:new Date().toISOString(),condition:c,notes:d.trim()||void 0};m(!0);try{await t(C),g(),Lt.success("Item checked in successfully!")}catch(j){Lt.error(j?.message||"Check-in failed. Please try again.")}finally{m(!1)}},g=()=>{s(""),l(1),u("good"),f(""),e()},v=qa(),w=S=>{switch(S){case"good":return"bg-green-100 text-green-700 border-green-300";case"fair":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"damaged":return"bg-orange-100 text-orange-700 border-orange-300";case"needs-repair":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Single Item Check-In"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Return a single item or quantity"})]}),o.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Nd,{className:"w-4 h-4 inline mr-1"}),"Item Barcode or SKU *"]}),o.jsx(ia,{placeholder:"Scan or enter barcode/SKU",value:a,onChange:S=>s(S.target.value),autoFocus:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Scan or enter the barcode of the item you're returning"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(h_,{className:"w-4 h-4 inline mr-1"}),"Quantity to Return *"]}),o.jsx(ia,{type:"number",min:"1",placeholder:"1",value:i,onChange:S=>l(parseInt(S.target.value)||1)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Item Condition *"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["good","fair","damaged","needs-repair"].map(S=>o.jsxs("button",{type:"button",onClick:()=>u(S),className:`px-4 py-3 rounded-lg border-2 text-sm font-medium transition-all ${c===S?w(S)+" border-current shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[S==="good"&&" Good Condition",S==="fair"&&" Fair Condition",S==="damaged"&&" Damaged",S==="needs-repair"&&" Needs Repair"]},S))}),(c==="damaged"||c==="needs-repair")&&o.jsxs("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[o.jsx("span",{children:""})," Please add detailed notes about the damage or repair needed"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Notes ",(c==="damaged"||c==="needs-repair")&&o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:c==="damaged"||c==="needs-repair"?"Describe the damage or repair needed...":"Any additional notes about the return...",value:d,onChange:S=>f(S.target.value)})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-green-900 mb-2 flex items-center gap-2",children:[o.jsx($a,{className:"w-4 h-4"}),"Check-In Summary"]}),o.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[o.jsxs("p",{children:["Returned by: ",o.jsx("span",{className:"font-medium",children:v.displayName})]}),o.jsxs("p",{children:["Return date: ",o.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]}),i>0&&o.jsxs("p",{children:["Quantity: ",o.jsx("span",{className:"font-medium",children:i})]}),o.jsxs("p",{children:["Condition: ",o.jsx("span",{className:`font-medium px-2 py-0.5 rounded ${w(c)}`,children:c.charAt(0).toUpperCase()+c.slice(1).replace("-"," ")})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx(Dt,{variant:"outline",onClick:g,disabled:p,children:"Cancel"}),o.jsx(Dt,{onClick:y,disabled:p||!a.trim()||i<=0||(c==="damaged"||c==="needs-repair")&&!d.trim(),children:p?"Processing...":"Complete Check-In"})]})]})})}const kSe=({isOpen:r,onClose:e,onSubmit:t,initialData:n,isEditMode:a=!1})=>{const[s,i]=B.useState({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Active",barcode:"",notes:"",lastAction:"added",lastActionDate:new Date().toISOString()});B.useEffect(()=>{a&&n?i({title:n.title||"",sku:n.sku||"",category:n.category||"",quantity:n.quantity||0,minimumStock:n.minimumStock||0,location:n.location||"",unitOfMeasure:n.unitOfMeasure||"units",cost:n.cost||0,price:n.price||0,supplier:n.supplier||"",status:n.status||"Active",barcode:n.barcode||"",notes:n.notes||"",lastAction:n.lastAction||"added",lastActionDate:n.lastActionDate||new Date().toISOString()}):r||y()},[r,a,n]);const[l,c]=B.useState({}),u=["Chassis","Consumables","Data Acquisition Module","Dytran Impact Hammer","Electronics","Furniture","Impulse Force Hammer","IT Equipment","Laptop","Microphone","Office Supplies","Safety Equipment","Sound Level Meter","Tools & Equipment","Triaxial Vibration Sensor","Vibration Sensor","Other"],d=["In the office","On site"],f=["units","boxes","packs","pieces","sets","meters","kg","liters"],p=()=>{const w={};return s.title.trim()||(w.title="Item name is required"),s.sku.trim()||(w.sku="SKU is required"),s.category||(w.category="Category is required"),s.quantity<0&&(w.quantity="Quantity must be 0 or greater"),s.minimumStock<0&&(w.minimumStock="Minimum stock must be 0 or greater"),s.location||(w.location="Location is required"),c(w),Object.keys(w).length===0},m=w=>{w.preventDefault(),p()&&(t(s),y())},y=()=>{i({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Active",barcode:"",notes:"",lastAction:"added",lastActionDate:new Date().toISOString()}),c({}),e()},g=(w,S)=>{i(C=>({...C,[w]:S})),l[w]&&c(C=>({...C,[w]:""}))},v=o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-500",children:["Fields marked with ",o.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Dt,{variant:"outline",onClick:y,children:"Cancel"}),o.jsx(Dt,{onClick:m,children:a?"Update Item":"Add Item"})]})]});return o.jsx(WC,{isOpen:r,onClose:y,title:a?"Edit Item":"Add New Item",description:"Register a new equipment or item to inventory",icon:o.jsx(Nd,{className:"w-5 h-5 text-primary-600","aria-hidden":"true"}),size:"xl",footer:v,children:o.jsx("form",{onSubmit:m,className:"p-6",id:"add-item-form",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Item Name ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-title",type:"text",value:s.title,onChange:w=>g("title",w.target.value),"aria-invalid":l.title?"true":void 0,"aria-describedby":l.title?"title-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Laptop Dell XPS 15"}),l.title&&o.jsx("p",{id:"title-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.title})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-sku",className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(h_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-sku",type:"text",value:s.sku,onChange:w=>g("sku",w.target.value),"aria-invalid":l.sku?"true":void 0,"aria-describedby":l.sku?"sku-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.sku?"border-red-500":"border-gray-300"}`,placeholder:"e.g., LAP-DELL-001"})]}),l.sku&&o.jsx("p",{id:"sku-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.sku})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-barcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(lZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-barcode",type:"text",value:s.barcode,onChange:w=>g("barcode",w.target.value),className:"w-full pl-10 pr-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 1234567890123"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("select",{id:"item-category",value:s.category,onChange:w=>g("category",w.target.value),"aria-invalid":l.category?"true":void 0,"aria-describedby":l.category?"category-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.category?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select category"}),u.map(w=>o.jsx("option",{value:w,children:w},w))]}),l.category&&o.jsx("p",{id:"category-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.category})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:["Quantity ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-quantity",type:"number",value:s.quantity,onChange:w=>g("quantity",parseInt(w.target.value)||0),"aria-invalid":l.quantity?"true":void 0,"aria-describedby":l.quantity?"quantity-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.quantity?"border-red-500":"border-gray-300"}`,min:"0"}),l.quantity&&o.jsx("p",{id:"quantity-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-unit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure"}),o.jsx("select",{id:"item-unit",value:s.unitOfMeasure,onChange:w=>g("unitOfMeasure",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:f.map(w=>o.jsx("option",{value:w,children:w},w))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-min-stock",className:"block text-sm font-medium text-gray-700 mb-2",children:["Minimum Stock Level ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-min-stock",type:"number",value:s.minimumStock,onChange:w=>g("minimumStock",parseInt(w.target.value)||0),"aria-invalid":l.minimumStock?"true":void 0,"aria-describedby":l.minimumStock?"min-stock-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.minimumStock?"border-red-500":"border-gray-300"}`,min:"0"}),l.minimumStock&&o.jsx("p",{id:"min-stock-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.minimumStock})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-location",className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Hx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsxs("select",{id:"item-location",value:s.location,onChange:w=>g("location",w.target.value),"aria-invalid":l.location?"true":void 0,"aria-describedby":l.location?"location-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.location?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select location"}),d.map(w=>o.jsx("option",{value:w,children:w},w))]})]}),l.location&&o.jsx("p",{id:"location-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.location})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-supplier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier (Optional)"}),o.jsx("input",{id:"item-supplier",type:"text",value:s.supplier,onChange:w=>g("supplier",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Dell Malaysia"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{id:"item-status",value:s.status,onChange:w=>g("status",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"item-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{id:"item-notes",value:s.notes,onChange:w=>g("notes",w.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,placeholder:"Additional information about this item..."})]})]})})})},_v=Oc((r,e)=>({items:[],filteredItems:[],filters:{},loading:!1,stats:null,fetchInventory:async()=>{r({loading:!0});try{const t=await jn.getInventoryItems();r({items:t,filteredItems:t}),e().calculateStats()}catch{Lt.error("Failed to fetch inventory")}finally{r({loading:!1})}},fetchInventoryById:async t=>{const{items:n}=e();return n.find(a=>a.id===t)||null},createItem:async t=>{r({loading:!0});try{const n=await jn.createInventoryItem(t);r(a=>({items:[...a.items,n],filteredItems:[...a.filteredItems,n]})),e().calculateStats(),Lt.success("Item created")}catch{Lt.error("Failed to create item")}finally{r({loading:!1})}},updateItem:async(t,n)=>{r({loading:!0});try{await jn.updateInventoryItem(t,n),r(a=>({items:a.items.map(s=>s.id===t?{...s,...n}:s),filteredItems:a.filteredItems.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),Lt.success("Item updated")}catch{Lt.error("Failed to update item")}finally{r({loading:!1})}},deleteItem:async t=>{r({loading:!0});try{await jn.deleteInventoryItem(t),r(n=>({items:n.items.filter(a=>a.id!==t),filteredItems:n.filteredItems.filter(a=>a.id!==t)})),e().calculateStats(),Lt.success("Item deleted")}catch{Lt.error("Failed to delete item")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{items:t,filters:n}=e();let a=[...t];if(n.search){const s=n.search.toLowerCase();a=a.filter(i=>i.title.toLowerCase().includes(s)||i.sku.toLowerCase().includes(s)||i.barcode?.toLowerCase().includes(s))}n.category&&(a=a.filter(s=>s.category===n.category)),n.location&&(a=a.filter(s=>s.location===n.location)),n.status&&(a=a.filter(s=>s.status===n.status)),n.lowStockOnly&&(a=a.filter(s=>s.quantity<=s.minimumStock)),r({filteredItems:a})},calculateStats:()=>{const{items:t}=e(),n={totalItems:t.length,totalValue:t.reduce((a,s)=>a+s.quantity*s.price,0),lowStockItems:t.filter(a=>a.quantity<=a.minimumStock).length,categories:new Set(t.map(a=>a.category)).size,recentActivity:0};r({stats:n})},scanBarcode:async t=>{try{const n=await jn.getInventoryItems({search:t});return n.length>0?(Lt.success(`Found: ${n[0].title}`),n[0]):(Lt.error("Item not found"),null)}catch{return Lt.error("An error occurred while scanning"),null}}})),FSe=()=>{const{filteredItems:r,filters:e,setFilters:t,fetchInventory:n,loading:a}=_v(),s=Array.isArray(r)?r:[],{isMobile:i}=fC(),l=qa(),c=l&&nl(l.role,"canAddOrRemoveInventory"),[u,d]=B.useState(""),[f,p]=B.useState(!1),[m,y]=B.useState(""),[g,v]=B.useState(""),[w,S]=B.useState(""),[C,j]=B.useState("title"),[T,L]=B.useState("asc"),[I,D]=B.useState(!1),[k,z]=B.useState(!1),[P,U]=B.useState(!1),[M,q]=B.useState(!1),[ae,W]=B.useState(!1),[ee,re]=B.useState(!1),[pe,Se]=B.useState(!1),[ne,F]=B.useState(!1),[Q,K]=B.useState(null),[V,J]=B.useState(!1),[oe,Ne]=B.useState({isOpen:!1}),ue=["Chassis","Consumables","Data Acquisition Module","Dytran Impact Hammer","Electronics","Furniture","Impulse Force Hammer","IT Equipment","Laptop","Microphone","Office Supplies","Safety Equipment","Sound Level Meter","Tools & Equipment","Triaxial Vibration Sensor","Vibration Sensor","Other"],xe=[m,g,w].filter(Boolean).length,Oe=B.useMemo(()=>[...s.filter(rt=>!(m&&rt.category!==m||g&&rt.status!==g||w==="low"&&rt.quantity>rt.minimumStock||w==="out"&&rt.quantity!==0||w==="in"&&rt.quantity<=rt.minimumStock))].sort((rt,pr)=>{const Qt=ir=>{switch(C){case"title":return ir.title.toLowerCase();case"sku":return(ir.sku||"").toLowerCase();case"category":return ir.category.toLowerCase();case"quantity":return ir.quantity||0;case"price":return ir.price||0;case"location":return(ir.location||"").toLowerCase();case"status":return{active:0,inactive:1,discontinued:2}[ir.status]??3;default:return ir.title.toLowerCase()}},Nt=Qt(rt),Yt=Qt(pr);if(typeof Nt=="string"&&typeof Yt=="string")return T==="asc"?Nt.localeCompare(Yt):Yt.localeCompare(Nt);{const ir=typeof Nt=="number"?Nt:0,Pt=typeof Yt=="number"?Yt:0;return T==="asc"?ir-Pt:Pt-ir}}),[s,m,g,w,C,T]),Be=()=>{y(""),v(""),S("")},qe=B.useCallback(De=>{C===De?L(rt=>rt==="asc"?"desc":"asc"):(j(De),L("asc"))},[C]),Pe=De=>C!==De?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):T==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"});B.useEffect(()=>{n()},[]);const X=B.useCallback(()=>{re(!1),K(null),J(!1)},[]),Me=De=>{d(De),t({...e,search:De})},We=De=>{const rt={Active:"success",Inactive:"warning",Discontinued:"danger"};return o.jsx(za,{variant:rt[De]||"default",children:De})},bt=(De,rt)=>De===0?o.jsx(za,{variant:"danger",children:"Out of Stock"}):De<=rt?o.jsx(za,{variant:"warning",children:"Low Stock"}):o.jsx(za,{variant:"success",children:"In Stock"}),st=De=>{if(!De)return null;const rt={added:"success",returned:"info","checked-out":"warning",updated:"default"},pr={added:"ADDED",returned:"RETURNED","checked-out":"CHECKED OUT",updated:"UPDATED"};return o.jsx(za,{variant:rt[De]||"default",size:"sm",children:pr[De]||De})},Ye=async De=>{try{const rt=new FileReader;rt.onload=async pr=>{try{const Nt=(pr.target?.result).split(`
`).filter(or=>or.trim());if(Nt.length<2){Ce.error("CSV file is empty or has no data rows");return}const Yt=Nt[0].split(",").map(or=>or.trim()),ir=Nt.slice(1),Pt=[];let Wr=0;for(let or=0;or<ir.length;or++){const dt=ir[or].split(",").map(ca=>ca.trim()),ct={};if(Yt.forEach((ca,sr)=>{ct[ca]=dt[sr]}),!ct.title||!ct.sku){Wr++;continue}const Ot=parseInt(ct.quantity),It=parseInt(ct.minimumStock),hn=parseFloat(ct.cost||"0"),Tr=parseFloat(ct.price||"0");if(isNaN(Ot)||isNaN(It)||isNaN(hn)||isNaN(Tr)){Wr++;continue}const cs={title:ct.title,sku:ct.sku,barcode:ct.barcode||"",category:ct.category||"Uncategorized",quantity:Ot||0,minimumStock:It||0,location:ct.location||"",unitOfMeasure:ct.unitOfMeasure||"Unit",cost:hn||0,price:Tr||0,supplier:ct.supplier||"",status:ct.status||"Active",notes:ct.notes||"",lastUpdated:new Date().toISOString(),createdBy:l.displayName};Pt.push(cs)}if(Pt.length===0){Ce.error("No valid items found in CSV file");return}const mr=await jn.bulkCreateInventoryItems(Pt);Ce.success(`Successfully imported ${Pt.length} items${Wr>0?` (${Wr} rows skipped due to errors)`:""}`),D(!1),await n()}catch(Qt){const Nt=Qt?.response?.data?.error||Qt?.message||"Failed to import items";Ce.error(Nt)}},rt.onerror=()=>{Ce.error("Failed to read CSV file")},rt.readAsText(De)}catch{Ce.error("Error processing bulk import")}},ht=async De=>{try{const rt=await jn.createBulkCheckout(De);Ce.success(rt.message||"Bulk checkout completed successfully!"),await n(),z(!1)}catch(rt){Ce.error(rt?.response?.data?.error||"Failed to complete checkout")}},wt=async De=>{try{const rt=await jn.checkInBulk({masterBarcode:De.masterBarcode,returnType:De.returnType,items:De.items,notes:De.notes});Ce.success(rt.message||"Check-in completed successfully!"),await n(),U(!1)}catch(rt){Ce.error(rt?.response?.data?.error||"Failed to complete check-in")}},Bt=async De=>{if(!c){Ce.error(gA("add or remove inventory","engineer"));return}try{const rt=De;await jn.createInventoryItem(rt),Ce.success(`Item "${De.title}" added successfully!`),await n()}catch(rt){throw Ce.error(rt?.response?.data?.error||"Failed to add item"),rt}},Ut=async De=>{try{const rt=await jn.createSingleCheckout(De);Ce.success(rt.message||"Item checked out successfully!"),await n(),q(!1)}catch(rt){Ce.error(rt?.response?.data?.error||"Failed to checkout item")}},dr=async De=>{try{const rt=await jn.checkInSingle(De);Ce.success(rt.message||"Item checked in successfully!"),await n(),W(!1)}catch(rt){Ce.error(rt?.response?.data?.error||"Failed to check in item")}},ur=De=>{K(De),J(!0),re(!0)},hr=async De=>{const rt=s.find(pr=>pr.id===De);Ne({isOpen:!0,itemId:De,itemTitle:rt?.title})},ar=async()=>{if(oe.itemId)try{await jn.deleteInventoryItem(oe.itemId),Ce.success("Item deleted successfully!"),await n(),Ne({isOpen:!1})}catch(De){Ce.error(De?.response?.data?.error||"Failed to delete item")}},ke=async De=>{if(!c){Ce.error(gA("add or remove inventory","engineer"));return}try{V&&Q?(await jn.updateInventoryItem(Q.id,De),Ce.success("Item updated successfully!")):await Bt(De),re(!1),K(null),J(!1),await n()}catch(rt){Ce.error(rt?.response?.data?.error||"Failed to save item")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Inventory"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your equipment, tools, and materials inventory"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>D(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(ko,{className:"w-5 h-5"}),!i&&"Bulk Import"]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>Se(!pe),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(Tw,{className:"w-5 h-5"}),!i&&"Checkout",o.jsx(Bo,{className:"w-4 h-4"})]}),pe&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[o.jsxs("button",{onClick:()=>{q(!0),Se(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-t-lg",children:[o.jsx(XE,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Single Item"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Check out one item"})]})]}),o.jsxs("button",{onClick:()=>{z(!0),Se(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-b-lg border-t border-gray-100",children:[o.jsx(Tw,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Bulk Checkout"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Check out multiple items"})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>F(!ne),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(iD,{className:"w-5 h-5"}),!i&&"Check-In",o.jsx(Bo,{className:"w-4 h-4"})]}),ne&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[o.jsxs("button",{onClick:()=>{W(!0),F(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-t-lg",children:[o.jsx(XE,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Single Item"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Return one item"})]})]}),o.jsxs("button",{onClick:()=>{U(!0),F(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-b-lg border-t border-gray-100",children:[o.jsx(iD,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Bulk Check-In"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Return with master barcode"})]})]})]})]}),c&&o.jsxs("button",{onClick:()=>re(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium shadow-sm",children:[o.jsx(vi,{className:"w-5 h-5"}),!i&&"Add Item"]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-3",children:o.jsxs("div",{className:"relative",children:[o.jsx(jc,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:u,onChange:De=>Me(De.target.value),placeholder:"Search by name, SKU, or barcode...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>p(!f),className:`w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 border rounded-xl transition-colors ${xe>0?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(ev,{className:"w-5 h-5"}),"Filters",xe>0&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs font-medium bg-primary-600 text-white rounded-full",children:xe}),f?o.jsx(Cd,{className:"w-4 h-4"}):o.jsx(Bo,{className:"w-4 h-4"})]})})]}),f&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:m,onChange:De=>y(De.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Categories"}),ue.map(De=>o.jsx("option",{value:De,children:De},De))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:g,onChange:De=>v(De.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Level"}),o.jsxs("select",{value:w,onChange:De=>S(De.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Stock Levels"}),o.jsx("option",{value:"in",children:"In Stock"}),o.jsx("option",{value:"low",children:"Low Stock"}),o.jsx("option",{value:"out",children:"Out of Stock"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{onClick:Be,disabled:xe===0,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(Ur,{className:"w-4 h-4"}),"Clear Filters"]})})]})})]}),a&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!a&&i&&o.jsx("div",{className:"space-y-3",children:Oe.map(De=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:De.title}),o.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["SKU: ",De.sku]})]}),We(De.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),o.jsxs("p",{className:"text-sm font-medium",children:[De.quantity," ",De.unitOfMeasure]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Price"}),o.jsx("p",{className:"text-sm font-medium",children:AD(De.price)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),o.jsx("p",{className:"text-sm font-medium",children:De.location})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Category"}),o.jsx("p",{className:"text-sm font-medium",children:De.category})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[bt(De.quantity,De.minimumStock),st(De.lastAction)]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",up(De.lastUpdated)]})]}),c&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>ur(De),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[o.jsx(cl,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>hr(De.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})]})]},De.id))}),!a&&!i&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Items (",Oe.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>qe("title"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Item ",Pe("title")]}),o.jsxs("th",{onClick:()=>qe("sku"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["SKU ",Pe("sku")]}),o.jsxs("th",{onClick:()=>qe("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Category ",Pe("category")]}),o.jsxs("th",{onClick:()=>qe("quantity"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Quantity ",Pe("quantity")]}),o.jsxs("th",{onClick:()=>qe("price"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Price ",Pe("price")]}),o.jsxs("th",{onClick:()=>qe("location"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Location ",Pe("location")]}),o.jsxs("th",{onClick:()=>qe("status"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",Pe("status")]}),c&&o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Oe.map(De=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:De.title}),o.jsx("p",{className:"text-xs text-gray-500",children:De.supplier})]})}),o.jsx("td",{className:"px-3 py-2 text-gray-900",children:De.sku}),o.jsx("td",{className:"px-3 py-2 text-gray-600",children:De.category}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-900",children:De.quantity}),bt(De.quantity,De.minimumStock)]})}),o.jsx("td",{className:"px-3 py-2 text-gray-900",children:AD(De.price)}),o.jsx("td",{className:"px-3 py-2 text-gray-600",children:De.location}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[We(De.status),st(De.lastAction)]})}),c&&o.jsx("td",{className:"px-3 py-2 text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:()=>ur(De),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit item",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>hr(De.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete item",children:o.jsx(Ns,{className:"w-4 h-4"})})]})})]},De.id))})]})})]}),!a&&Oe.length===0&&o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(Nd,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No items found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})}),o.jsx(BSe,{isOpen:I,onClose:()=>D(!1),onImport:Ye}),o.jsx(ESe,{isOpen:k,onClose:()=>z(!1),onCheckout:ht}),o.jsx(jSe,{isOpen:P,onClose:()=>U(!1),onCheckIn:wt}),o.jsx(_Se,{isOpen:M,onClose:()=>q(!1),onCheckout:Ut}),o.jsx(TSe,{isOpen:ae,onClose:()=>W(!1),onCheckIn:dr}),o.jsx(kSe,{isOpen:ee,onClose:X,onSubmit:ke,initialData:V&&Q||void 0,isEditMode:V}),o.jsx(G0,{isOpen:oe.isOpen,onClose:()=>Ne({isOpen:!1}),onConfirm:ar,title:"Delete Inventory Item",message:`Are you sure you want to delete "${oe.itemTitle}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete Item",cancelText:"Cancel"})]})})},OSe="modulepreload",DSe=function(r){return"/"+r},xM={},hw=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(t.map(u=>{if(u=DSe(u),u in xM)return;xM[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":OSe,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},z3=Oc((r,e)=>({tickets:[],filteredTickets:[],filters:{},loading:!1,stats:null,fetchMaintenance:async()=>{r({loading:!0});try{const t=await Cr.getAllMaintenanceTickets();r({tickets:t,filteredTickets:t}),e().calculateStats()}catch{Lt.error("Failed to fetch maintenance tickets")}finally{r({loading:!1})}},fetchMaintenanceById:async t=>{try{const{tickets:n}=e();return n.find(a=>a.id===t)||null}catch{return Lt.error("Failed to fetch ticket"),null}},createTicket:async t=>{r({loading:!0});try{const n=await Cr.createMaintenanceTicket(t);r(a=>({tickets:[...a.tickets,n],filteredTickets:[...a.filteredTickets,n]})),e().calculateStats(),Lt.success("Ticket created successfully")}catch{Lt.error("Failed to create ticket")}finally{r({loading:!1})}},updateTicket:async(t,n)=>{r({loading:!0});try{await Cr.updateMaintenanceTicket(t,n),r(a=>({tickets:a.tickets.map(s=>s.id===t?{...s,...n}:s),filteredTickets:a.filteredTickets.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),Lt.success("Ticket updated successfully")}catch{Lt.error("Failed to update ticket")}finally{r({loading:!1})}},deleteTicket:async t=>{r({loading:!0});try{await Cr.deleteMaintenanceTicket(t),r(n=>({tickets:n.tickets.filter(a=>a.id!==t),filteredTickets:n.filteredTickets.filter(a=>a.id!==t)})),e().calculateStats(),Lt.success("Ticket deleted successfully")}catch{Lt.error("Failed to delete ticket")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{tickets:t,filters:n}=e();let a=[...t];n.status&&(a=a.filter(s=>s.status===n.status)),n.priority&&(a=a.filter(s=>s.priority===n.priority)),n.assignedTo&&(a=a.filter(s=>s.assignedTo===n.assignedTo)),r({filteredTickets:a})},calculateStats:()=>{const{tickets:t}=e(),n={total:t.length,pending:t.filter(a=>a.status==="open").length,inProgress:t.filter(a=>a.status==="in-progress").length,completed:t.filter(a=>a.status==="resolved"||a.status==="closed").length,overdue:0};r({stats:n})}})),lj={calibration:"Calibration",inspection:"Inspection",servicing:"Servicing",replacement:"Replacement",other:"Other"},My={deduct:"Deduct from inventory","status-only":'Mark as "In Maintenance" only',none:"No change to inventory"},cV={deduct:"The item quantity will be reduced when maintenance starts and restored when completed.","status-only":'The item will be marked as "In Maintenance" but quantity remains unchanged.',none:"No changes will be made to inventory quantity or status."},PSe=({isOpen:r,onClose:e,editingTicket:t})=>{const{createTicket:n,updateTicket:a}=z3(),{items:s,fetchInventory:i}=_v(),[l,c]=B.useState({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1});B.useEffect(()=>{r&&(i(),t&&c({title:t.title||"",itemId:t.itemId||"",itemName:t.itemName||"",description:t.description||"",status:t.status,priority:t.priority,category:t.category||"",assignedTo:t.assignedTo||"",inventoryAction:t.inventoryAction||"none",quantityAffected:t.quantityAffected||1}))},[r,i,t]);const[u,d]=B.useState(!1);if(!r)return null;const f=(g,v)=>{c(w=>{const S={...w,[g]:v};if(g==="itemId"){const C=s.find(j=>j.id===v);C&&(S.itemName=C.title)}return S})},p=async g=>{if(g.preventDefault(),!l.title.trim()){Ce.error("Please enter a title");return}if(!l.description.trim()){Ce.error("Please enter a description");return}if(!l.category.trim()){Ce.error("Please select a category");return}if(l.inventoryAction==="deduct"&&l.itemId){const v=s.find(w=>w.id===l.itemId);if(v&&l.quantityAffected>v.quantity){Ce.error(`Cannot deduct more than available quantity (${v.quantity})`);return}}d(!0);try{if(t){const v={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,assignedTo:l.assignedTo||void 0};await a(t.id,v)}else{const v={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,createdDate:new Date().toISOString(),itemId:l.itemId||void 0,itemName:l.itemName||void 0,assignedTo:l.assignedTo||void 0,inventoryAction:l.itemId?l.inventoryAction:void 0,quantityAffected:l.itemId&&l.inventoryAction==="deduct"?l.quantityAffected:void 0};await n(v)}y()}catch(v){Rt.error("Error saving ticket:",v)}finally{d(!1)}},m=s.find(g=>g.id===l.itemId),y=()=>{c({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1}),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Hp,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?"Edit Maintenance Ticket":"New Maintenance Ticket"}),o.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:t?"Update ticket details and status":"Create a new maintenance request"})]})]}),o.jsx("button",{onClick:y,className:"p-2 hover:bg-primary-200 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-600"})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.title,onChange:g=>f("title",g.target.value),placeholder:"e.g., Equipment maintenance required",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:l.description,onChange:g=>f("description",g.target.value),placeholder:"Describe the maintenance issue in detail",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.category,onChange:g=>f("category",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"Equipment",children:"Equipment"}),o.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),o.jsx("option",{value:"Software",children:"Software"}),o.jsx("option",{value:"Hardware",children:"Hardware"}),o.jsx("option",{value:"Facility",children:"Facility"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.priority,onChange:g=>f("priority",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]}),t&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.status,onChange:g=>f("status",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"resolved",children:"Resolved"}),o.jsx("option",{value:"closed",children:"Closed"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item (Optional)"}),o.jsxs("select",{value:l.itemId,onChange:g=>f("itemId",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select an item"}),s.map(g=>o.jsx("option",{value:g.id,children:g.title},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To (Optional)"}),o.jsx("input",{type:"text",value:l.assignedTo,onChange:g=>f("assignedTo",g.target.value),placeholder:"Team member name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),l.itemId&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(My).map(g=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-all ${l.inventoryAction===g?"border-primary-500 bg-white shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventoryAction",value:g,checked:l.inventoryAction===g,onChange:v=>f("inventoryAction",v.target.value),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:My[g]}),o.jsx("div",{className:"text-sm text-gray-500",children:cV[g]})]})]},g))}),l.inventoryAction==="deduct"&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Deduct"}),o.jsx("input",{type:"number",min:1,max:m?.quantity||100,value:l.quantityAffected,onChange:g=>f("quantityAffected",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),m&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",m.quantity," ",m.unitOfMeasure||"units"]})]}),o.jsxs("div",{className:"flex items-start gap-2 mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(Cs,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-blue-800",children:"Inventory will be restored automatically when this ticket is marked as completed or resolved."})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:t?u?"Saving...":"Save Changes":u?"Creating...":"Create Ticket"})]})]})]})})},hu="/scheduled-maintenance",uV=Oc((r,e)=>({schedules:[],upcomingSchedules:[],overdueSchedules:[],stats:null,loading:!1,error:null,fetchSchedules:async t=>{r({loading:!0,error:null});try{const n=new URLSearchParams;t?.item_id&&n.append("item_id",t.item_id),t?.is_completed!==void 0&&n.append("is_completed",String(t.is_completed)),t?.maintenance_type&&n.append("maintenance_type",t.maintenance_type),t?.from_date&&n.append("from_date",t.from_date),t?.to_date&&n.append("to_date",t.to_date);const a=n.toString(),s=a?`${hu}?${a}`:hu,i=await bn.api.get(s);r({schedules:i.data,loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to fetch schedules";r({error:a,loading:!1}),Ce.error(a)}},fetchUpcoming:async()=>{r({loading:!0,error:null});try{const t=await bn.api.get(`${hu}/upcoming`);r({upcomingSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch upcoming schedules";r({error:n,loading:!1}),Ce.error(n)}},fetchOverdue:async()=>{r({loading:!0,error:null});try{const t=await bn.api.get(`${hu}/overdue`);r({overdueSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch overdue schedules";r({error:n,loading:!1}),Ce.error(n)}},fetchStats:async()=>{try{const t=await bn.api.get(`${hu}/stats`);r({stats:t.data})}catch(t){console.error("Failed to fetch maintenance stats:",t)}},fetchSchedulesForItem:async t=>{try{return(await bn.api.get(`${hu}/item/${t}`)).data}catch(n){return console.error("Failed to fetch item schedules:",n),[]}},createSchedule:async t=>{r({loading:!0,error:null});try{const a=(await bn.api.post(hu,t)).data;return r(s=>({schedules:[a,...s.schedules],loading:!1})),Ce.success("Scheduled maintenance created"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to create schedule";throw r({error:a,loading:!1}),Ce.error(a),n}},updateSchedule:async(t,n)=>{r({loading:!0,error:null});try{const s=(await bn.api.put(`${hu}/${t}`,n)).data;return r(i=>({schedules:i.schedules.map(l=>l.id===t?s:l),upcomingSchedules:i.upcomingSchedules.map(l=>l.id===t?s:l),loading:!1})),Ce.success("Schedule updated"),s}catch(a){const s=a.response?.data?.message||"Failed to update schedule";throw r({error:s,loading:!1}),Ce.error(s),a}},deleteSchedule:async t=>{r({loading:!0,error:null});try{await bn.api.delete(`${hu}/${t}`),r(n=>({schedules:n.schedules.filter(a=>a.id!==t),upcomingSchedules:n.upcomingSchedules.filter(a=>a.id!==t),overdueSchedules:n.overdueSchedules.filter(a=>a.id!==t),loading:!1})),Ce.success("Schedule deleted"),e().fetchStats()}catch(n){const a=n.response?.data?.message||"Failed to delete schedule";throw r({error:a,loading:!1}),Ce.error(a),n}},markCompleted:async t=>{r({loading:!0,error:null});try{const a=(await bn.api.post(`${hu}/${t}/complete`)).data;return r(s=>({schedules:s.schedules.map(i=>i.id===t?a:i),upcomingSchedules:s.upcomingSchedules.filter(i=>i.id!==t),overdueSchedules:s.overdueSchedules.filter(i=>i.id!==t),loading:!1})),Ce.success("Maintenance marked as completed"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to mark as completed";throw r({error:a,loading:!1}),Ce.error(a),n}},createTicketFromSchedule:async t=>{r({loading:!0,error:null});try{await bn.api.post(`${hu}/${t}/create-ticket`),await e().fetchSchedules(),await e().fetchUpcoming(),Ce.success("Maintenance ticket created"),r({loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to create ticket";throw r({error:a,loading:!1}),Ce.error(a),n}},resetError:()=>r({error:null})})),ISe=({isOpen:r,onClose:e,editingSchedule:t,preselectedItemId:n})=>{const{items:a,fetchInventory:s}=_v(),{createSchedule:i,updateSchedule:l,loading:c}=uV(),[u,d]=B.useState({item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),[f,p]=B.useState({});B.useEffect(()=>{r&&s()},[r,s]),B.useEffect(()=>{d(t?{item_id:t.item_id,maintenance_type:t.maintenance_type,description:t.description||"",scheduled_date:t.scheduled_date.split("T")[0],inventory_action:t.inventory_action,quantity_affected:t.quantity_affected}:n?v=>({...v,item_id:n}):{item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),p({})},[t,n,r]);const m=()=>{const v={};if(u.item_id||(v.item_id="Please select an item"),!u.scheduled_date)v.scheduled_date="Please select a date";else{const w=new Date(u.scheduled_date),S=new Date;S.setHours(0,0,0,0),w<S&&!t&&(v.scheduled_date="Date cannot be in the past")}return u.inventory_action==="deduct"&&u.quantity_affected<1&&(v.quantity_affected="Quantity must be at least 1"),p(v),Object.keys(v).length===0},y=async v=>{if(v.preventDefault(),!!m())try{t?await l(t.id,{maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}):await i({item_id:u.item_id,maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}),e()}catch{}},g=a.find(v=>v.id===u.item_id);return o.jsx(WC,{isOpen:r,onClose:e,title:t?"Edit Scheduled Maintenance":"Schedule Maintenance",description:"Set up maintenance reminders",icon:o.jsx(Qi,{className:"w-5 h-5 text-amber-600"}),size:"md",children:o.jsxs("form",{onSubmit:y,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Equipment/Item *"}),o.jsxs("select",{value:u.item_id,onChange:v=>d({...u,item_id:v.target.value}),disabled:!!t||!!n,className:`w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${f.item_id?"border-red-300":"border-gray-200"} ${t||n?"bg-gray-50 cursor-not-allowed":""}`,children:[o.jsx("option",{value:"",children:"Select an item..."}),a.map(v=>o.jsxs("option",{value:v.id,children:[v.title," (",v.sku,")"]},v.id))]}),f.item_id&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.item_id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Maintenance Type *"}),o.jsx("select",{value:u.maintenance_type,onChange:v=>d({...u,maintenance_type:v.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:Object.entries(lj).map(([v,w])=>o.jsx("option",{value:v,children:w},v))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Scheduled Date *"}),o.jsx(ia,{type:"date",value:u.scheduled_date,onChange:v=>d({...u,scheduled_date:v.target.value}),min:new Date().toISOString().split("T")[0],className:f.scheduled_date?"border-red-300":""}),f.scheduled_date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.scheduled_date})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description (Optional)"}),o.jsx("textarea",{value:u.description,onChange:v=>d({...u,description:v.target.value}),placeholder:"Additional notes about this maintenance...",rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(My).map(v=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-xl cursor-pointer transition-all ${u.inventory_action===v?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventory_action",value:v,checked:u.inventory_action===v,onChange:w=>d({...u,inventory_action:w.target.value}),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:My[v]}),o.jsx("div",{className:"text-sm text-gray-500",children:cV[v]})]})]},v))})]}),u.inventory_action==="deduct"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Quantity to Deduct"}),o.jsx(ia,{type:"number",min:1,max:g?.quantity||100,value:u.quantity_affected,onChange:v=>d({...u,quantity_affected:parseInt(v.target.value)||1}),className:f.quantity_affected?"border-red-300":""}),g&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",g.quantity," ",g.unitOfMeasure||"units"]}),f.quantity_affected&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.quantity_affected})]}),o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[o.jsx(Cs,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-amber-800",children:[o.jsx("p",{className:"font-medium",children:"Reminders will be sent:"}),o.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:"14 days before the scheduled date"}),o.jsx("li",{children:"7 days before the scheduled date"}),o.jsx("li",{children:"1 day before the scheduled date"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),o.jsx(Dt,{type:"submit",disabled:c,className:"flex-1",children:c?"Saving...":t?"Update Schedule":"Create Schedule"})]})]})})},LSe=()=>{const{filteredTickets:r,fetchMaintenance:e,loading:t,stats:n,updateTicket:a,deleteTicket:s}=z3(),{schedules:i,stats:l,loading:c,fetchSchedules:u,fetchStats:d,deleteSchedule:f,markCompleted:p,createTicketFromSchedule:m}=uV(),{isMobile:y}=fC(),[g,v]=B.useState("ongoing"),[w,S]=B.useState(!1),[C,j]=B.useState(!1),[T,L]=B.useState(!1),[I,D]=B.useState(null),[k,z]=B.useState(null),[P,U]=B.useState([]),[M,q]=B.useState(""),[ae,W]=B.useState({isOpen:!1}),ee=async()=>{try{const X=new Date;X.setDate(1),X.setHours(0,0,0,0);const Me=await(await hw(async()=>{const{httpClient:We}=await Promise.resolve().then(()=>lne);return{httpClient:We}},[])).httpClient.api.get("/scheduled-maintenance",{params:{is_completed:!0,from_date:X.toISOString()}});U(Me.data)}catch(X){console.error("Failed to fetch completed schedules:",X)}};B.useEffect(()=>{e(),u({is_completed:!1}),d(),g==="completed"&&ee()},[g]);const re=X=>{const Me={open:"warning","in-progress":"info",resolved:"success",closed:"default"},We={open:"Open","in-progress":"In Progress",resolved:"Resolved",closed:"Closed"};return o.jsx(za,{variant:Me[X]||"default",children:We[X]||X})},pe=X=>{const Me={critical:"danger",high:"warning",medium:"info",low:"default"},We={critical:"Critical",high:"High",medium:"Medium",low:"Low"};return o.jsx(za,{variant:Me[X]||"default",size:"sm",children:We[X]||X})},Se=X=>{D(X),L(!0)},ne=X=>{W({isOpen:!0,ticketId:X,type:"ticket"})},F=X=>{W({isOpen:!0,scheduleId:X,type:"schedule"})},Q=async()=>{try{ae.type==="ticket"&&ae.ticketId?(await s(ae.ticketId),Lt.success("Ticket deleted successfully"),e()):ae.type==="schedule"&&ae.scheduleId&&(await f(ae.scheduleId),Lt.success("Scheduled maintenance deleted"),u({is_completed:!1}),d()),W({isOpen:!1})}catch{Lt.error(`Failed to delete ${ae.type}`)}},K=X=>{z(X),j(!0)},V=async X=>{try{await p(X),Lt.success("Maintenance marked as completed"),u({is_completed:!1}),d()}catch{Lt.error("Failed to mark as completed")}},J=async X=>{try{await m(X),Lt.success("Maintenance ticket created"),e(),u({is_completed:!1})}catch{Lt.error("Failed to create ticket")}},oe=X=>{const Me=i.find(We=>We.id===X);if(Me?.ticket_id){const We=r.find(bt=>bt.id===Me.ticket_id);if(We){const bt=We.status==="resolved"||We.status==="closed";v(bt?"completed":"ongoing"),Lt.success(`Switched to ${bt?"Completed":"On-going"} tab`)}}},Ne=X=>{r.find(We=>We.id===X)?.scheduledMaintenanceId&&(v("scheduled"),Lt.success("Switched to Scheduled tab"))},ue=X=>{const Me=new Date;Me.setHours(0,0,0,0);const We=new Date(X);We.setHours(0,0,0,0);const bt=We.getTime()-Me.getTime();return Math.ceil(bt/(1e3*60*60*24))},xe=X=>{const Me=ue(X);return Me<0?o.jsxs(za,{variant:"danger",children:[Math.abs(Me)," days overdue"]}):Me===0?o.jsx(za,{variant:"danger",children:"Due today"}):Me<=7?o.jsxs(za,{variant:"warning",children:[Me," days left"]}):Me<=14?o.jsxs(za,{variant:"info",children:[Me," days left"]}):o.jsxs(za,{variant:"success",children:[Me," days left"]})},Oe=X=>{if(!M.trim())return!0;const Me=M.toLowerCase(),We=(X.title||X.itemName||"").toLowerCase(),bt=(X.description||"").toLowerCase(),st=(X.item?.title||"").toLowerCase();return We.includes(Me)||bt.includes(Me)||st.includes(Me)},Be=r.filter(X=>g==="ongoing"?X.status!=="resolved"&&X.status!=="closed":X.status==="resolved"||X.status==="closed").filter(Oe),qe=P.filter(Oe),Pe=i.filter(Oe);return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[n?.pending||0," on-going, ",n?.completed||0," completed",l&&`, ${l.total} scheduled`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Dt,{onClick:()=>{z(null),j(!0)},variant:"outline",icon:o.jsx(Qi,{className:"w-5 h-5"}),size:y?"md":"lg",children:"Schedule"}),o.jsx(Dt,{onClick:()=>S(!0),icon:o.jsx(vi,{className:"w-5 h-5"}),size:y?"md":"lg",children:"New Ticket"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:o.jsx(Hp,{className:"w-5 h-5 text-amber-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"On-going"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n?.pending||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(Qi,{className:"w-5 h-5 text-blue-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.total||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center",children:o.jsx(Xh,{className:"w-5 h-5 text-red-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.overdue||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx($a,{className:"w-5 h-5 text-green-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Completed This Month"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.completedThisMonth||0})]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search by title, description, or item name...",value:M,onChange:X=>q(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>v("ongoing"),className:`px-4 py-2 font-medium transition-colors relative ${g==="ongoing"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["On-going",n&&n.pending>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary-100 text-primary-700 rounded-full",children:n.pending})]}),o.jsxs("button",{onClick:()=>v("completed"),className:`px-4 py-2 font-medium transition-colors relative ${g==="completed"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Completed",n&&n.completed>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded-full",children:n.completed})]}),o.jsxs("button",{onClick:()=>v("scheduled"),className:`px-4 py-2 font-medium transition-colors relative ${g==="scheduled"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Scheduled",l&&(l.upcoming>0||l.overdue>0)&&o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.overdue>0?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:l.overdue>0?l.overdue:l.upcoming})]})]}),(t||c)&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!t&&g!=="scheduled"&&Be.length>0&&o.jsx("div",{className:"space-y-3",children:Be.map(X=>o.jsx(Gr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:X.title}),pe(X.priority),X.scheduledMaintenanceId&&o.jsxs(za,{variant:"info",size:"sm",children:[o.jsx(Qi,{className:"w-3 h-3 inline mr-1"}),"From Schedule"]})]}),X.itemName&&o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Item: ",X.itemName]}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:X.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Created: ",up(X.createdDate)]}),X.assignedTo&&o.jsxs("span",{children:["Assigned to: ",X.assignedTo]}),X.completedDate&&o.jsxs("span",{children:["Completed: ",up(X.completedDate)]})]})]}),o.jsxs("div",{className:"flex md:flex-col items-center md:items-end gap-2",children:[re(X.status),o.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[X.scheduledMaintenanceId&&o.jsx("button",{onClick:()=>Ne(X.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-colors",title:"View linked schedule",children:o.jsx(Qi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Se(X),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit ticket",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>ne(X.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete ticket",children:o.jsx(Ns,{className:"w-4 h-4"})})]})]})]})},X.id))}),!c&&g==="completed"&&qe.length>0&&o.jsx("div",{className:"space-y-3",children:qe.map(X=>o.jsx(Gr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 flex-1",children:[X.item?.title||"Unknown Item"," - ",lj[X.maintenance_type]]}),o.jsx(za,{variant:"success",children:"Completed"})]}),X.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:X.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Scheduled: ",up(X.scheduled_date)]}),X.completed_date&&o.jsxs("span",{children:["Completed: ",up(X.completed_date)]}),X.ticket_id&&o.jsxs(za,{variant:"info",size:"sm",children:["Ticket #",X.ticket_id.slice(0,8)]})]})]})})},`schedule-${X.id}`))}),!c&&g==="scheduled"&&Pe.length>0&&o.jsx("div",{className:"space-y-3",children:Pe.map(X=>o.jsx(Gr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:X.item?.title||"Unknown Item"}),xe(X.scheduled_date)]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o.jsx(za,{variant:"info",size:"sm",children:lj[X.maintenance_type]}),o.jsx(za,{variant:"default",size:"sm",children:My[X.inventory_action]}),X.ticket_id&&o.jsx(za,{variant:"success",size:"sm",children:"Ticket Created"})]}),X.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:X.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Qi,{className:"w-3 h-3"}),up(X.scheduled_date)]}),X.item?.sku&&o.jsxs("span",{children:["SKU: ",X.item.sku]}),X.inventory_action==="deduct"&&o.jsxs("span",{children:["Qty: ",X.quantity_affected]})]})]}),o.jsx("div",{className:"flex md:flex-col items-center gap-2",children:o.jsxs("div",{className:"flex gap-1",children:[X.ticket_id?o.jsx("button",{onClick:()=>oe(X.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"View linked ticket",children:o.jsx($a,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>J(X.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded transition-colors",title:"Create maintenance ticket",children:o.jsx(SZ,{className:"w-4 h-4"})}),X.ticket_id?o.jsx("button",{disabled:!0,className:"p-2 text-gray-400 cursor-not-allowed rounded",title:"Complete by resolving the linked ticket",children:o.jsx($a,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>V(X.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Mark as completed",children:o.jsx($a,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>K(X),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit schedule",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>F(X.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete schedule",children:o.jsx(Ns,{className:"w-4 h-4"})})]})})]})},X.id))}),!t&&g!=="scheduled"&&Be.length===0&&o.jsx(o.Fragment,{children:qe.length===0&&o.jsx(Gr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(Hp,{className:"w-16 h-16 mb-4 opacity-50"}),M?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No results found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-lg font-medium mb-2",children:["No ",g," tickets"]}),o.jsx("p",{className:"text-sm",children:"Create a new maintenance ticket to get started"})]})]})})}),!c&&g==="scheduled"&&Pe.length===0&&o.jsx(Gr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(Qi,{className:"w-16 h-16 mb-4 opacity-50"}),M?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance found"}),o.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance"}),o.jsx("p",{className:"text-sm mb-4",children:"Schedule equipment maintenance, calibrations, or inspections"})]}),!M&&o.jsx(Dt,{onClick:()=>{z(null),j(!0)},icon:o.jsx(vi,{className:"w-5 h-5"}),children:"Schedule Maintenance"})]})}),y&&o.jsx("button",{onClick:()=>S(!0),className:"fixed bottom-20 right-4 w-14 h-14 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center z-30",title:"Create new maintenance ticket",children:o.jsx(vi,{className:"w-6 h-6"})})]}),o.jsx(PSe,{isOpen:w||T,onClose:()=>{S(!1),L(!1),D(null),e()},editingTicket:I||void 0}),o.jsx(ISe,{isOpen:C,onClose:()=>{j(!1),z(null),u({is_completed:!1}),d()},editingSchedule:k}),o.jsx(G0,{isOpen:ae.isOpen,onClose:()=>W({isOpen:!1}),onConfirm:Q,title:ae.type==="schedule"?"Delete Scheduled Maintenance":"Delete Maintenance Ticket",message:ae.type==="schedule"?"Are you sure you want to delete this scheduled maintenance? This action cannot be undone.":"Are you sure you want to delete this ticket? This action cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},yM={minLength:8},MSe=({isOpen:r,onClose:e,userEmail:t=""})=>{const[n,a]=B.useState(""),[s,i]=B.useState(""),[l,c]=B.useState(""),[u,d]=B.useState(!1),[f,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),w=I=>I.length>=yM.minLength&&/[A-Z]/.test(I)&&/[a-z]/.test(I)&&/\d/.test(I)&&/[!@#$%^&*(),.?":{}|<>]/.test(I),C=(I=>{let D=0;return D=[I.length>=yM.minLength,/[A-Z]/.test(I),/[a-z]/.test(I),/\d/.test(I),/[!@#$%^&*(),.?":{}|<>]/.test(I)].filter(Boolean).length,D<=2?{score:1,label:"Weak",color:"bg-red-500"}:D<=3?{score:2,label:"Medium",color:"bg-yellow-500"}:{score:3,label:"Strong",color:"bg-green-500"}})(s),j=w(s),T=s===l&&s.length>0,L=async I=>{if(I.preventDefault(),!n){Ce.error("Current password is required");return}if(!j){Ce.error("Password does not meet requirements");return}if(!T){Ce.error("Passwords do not match");return}v(!0);try{await Cr.changePassword(t,n,s),Ce.success("Password changed successfully"),a(""),i(""),c(""),e()}catch(D){const k=D.response?.data?.error||D.response?.data?.message||"Failed to change password";Ce.error(k),Rt.error("Password change error:",D)}finally{v(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-lg shadow-lg",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(Rh,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Change Password"}),o.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),o.jsxs("form",{onSubmit:L,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:n,onChange:I=>a(I.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter current password"}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:u?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:f?"text":"password",value:s,onChange:I=>i(I.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter new password"}),o.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:f?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})})]}),s&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex gap-1 h-2",children:[o.jsx("div",{className:`flex-1 rounded-full ${C.score>=1?C.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${C.score>=2?C.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${C.score>=3?C.color:"bg-gray-200"}`})]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Strength: ",o.jsx("span",{className:`font-semibold ${C.score===1?"text-red-600":C.score===2?"text-yellow-600":"text-green-600"}`,children:C.label})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:s.length>=8?"text-green-600":"",children:[s.length>=8?"":""," At least 8 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(s)?"text-green-600":"",children:[/[A-Z]/.test(s)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(s)?"text-green-600":"",children:[/[a-z]/.test(s)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(s)?"text-green-600":"",children:[/\d/.test(s)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(s)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",value:l,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Confirm new password"}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:m?o.jsx(hd,{className:"w-5 h-5"}):o.jsx(Vi,{className:"w-5 h-5"})}),l&&o.jsx("div",{className:"absolute right-10 top-2.5",children:T?o.jsx($a,{className:"w-5 h-5 text-green-500"}):o.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-red-500"})})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:g,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!j||!T||!n||g,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Changing...":"Change Password"})]})]})]})}):null},AV=B.createContext(void 0),vM="mycae-theme";function bM(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const RSe=({children:r})=>{const[e,t]=B.useState(()=>{if(typeof window>"u")return"system";const c=localStorage.getItem("theme"),u=localStorage.getItem(vM);return u||c||"system"}),[n,a]=B.useState(()=>e==="system"?bM():e),s=B.useCallback(c=>{const u=document.documentElement;c==="dark"?u.classList.add("dark"):u.classList.remove("dark"),u.style.colorScheme=c},[]);B.useEffect(()=>{const c=e==="system"?bM():e;a(c),s(c),localStorage.setItem(vM,e),localStorage.removeItem("theme")},[e,s]),B.useEffect(()=>{if(e!=="system")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),u=d=>{const f=d.matches?"dark":"light";a(f),s(f)};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[e,s]);const i=B.useCallback(c=>{t(c)},[]),l=B.useCallback(()=>{i(n==="light"?"dark":"light")},[n,i]);return o.jsx(AV.Provider,{value:{theme:e,resolvedTheme:n,setTheme:i,toggleTheme:l},children:r})},USe=()=>{const r=B.useContext(AV);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},QSe={emailNotifications:!0,pushNotifications:!0,lowStockAlerts:!0,maintenanceReminders:!0,darkMode:!1,language:"en",timeZone:"Asia/Kuala_Lumpur",twoFactorEnabled:!1},HSe=({isOpen:r,onClose:e,userEmail:t=""})=>{const{theme:n,toggleTheme:a}=USe(),[s,i]=B.useState({...QSe,darkMode:n==="dark"}),[l,c]=B.useState(!1);B.useEffect(()=>{const f=localStorage.getItem("userPreferences");if(f)try{const p=JSON.parse(f);i({...p,darkMode:n==="dark"})}catch(p){Rt.error("Failed to load preferences:",p)}else i(p=>({...p,darkMode:n==="dark"}))},[r,n]);const u=(f,p)=>{i(m=>({...m,[f]:p})),f==="darkMode"&&a()},d=async()=>{c(!0);try{localStorage.setItem("userPreferences",JSON.stringify(s)),Ce.success("Preferences saved successfully"),e()}catch{Ce.error("Failed to save preferences")}finally{c(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-2xl p-6 bg-white rounded-lg shadow-lg max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(YE,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:f=>u("emailNotifications",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.pushNotifications,onChange:f=>u("pushNotifications",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Push Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.lowStockAlerts,onChange:f=>u("lowStockAlerts",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Low Stock Alerts"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.maintenanceReminders,onChange:f=>u("maintenanceReminders",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Maintenance Reminders"})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Vi,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Display"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.darkMode,onChange:f=>u("darkMode",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Dark Mode"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),o.jsxs("select",{value:s.language,onChange:f=>u("language",f.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"ms",children:"Malay (Bahasa Melayu)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),o.jsxs("select",{value:s.timeZone,onChange:f=>u("timeZone",f.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"Asia/Kuala_Lumpur",children:"Malaysia (GMT+8)"}),o.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"}),o.jsx("option",{value:"Asia/Bangkok",children:"Thailand (GMT+7)"}),o.jsx("option",{value:"UTC",children:"UTC"}),o.jsx("option",{value:"Europe/London",children:"London (GMT)"}),o.jsx("option",{value:"America/New_York",children:"New York (EST)"})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:e,disabled:l,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:d,disabled:l,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:l?"Saving...":"Save Preferences"})]})]})}):null},hb={async getSettings(){return(await at.get("/company-settings")).data},async updateSettings(r){return(await at.put("/company-settings",r)).data},async uploadLogo(r){const e=new FormData;return e.append("logo",r),(await at.post("/company-settings/logo",e,{headers:{"Content-Type":"multipart/form-data"}})).data},async deleteLogo(){await at.delete("/company-settings/logo")}},zSe="/api",KSe=()=>{const[r,e]=B.useState(null),[t,n]=B.useState(!0),[a,s]=B.useState(!1),[i,l]=B.useState(!1),c=B.useRef(null),[u,d]=B.useState({company_name:"",registration_number:"",address:"",phone:"",mobile:"",email:"",sst_id:"",primary_color:"#2563eb",invoice_footer:"",po_footer:"",bank_details:"",header_position:"top-center",logo_size:"medium",show_sst_id:!0,show_bank_details:!0,page_margin:50});B.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await hb.getSettings();e(v),d({company_name:v.company_name||"",registration_number:v.registration_number||"",address:v.address||"",phone:v.phone||"",mobile:v.mobile||"",email:v.email||"",sst_id:v.sst_id||"",primary_color:v.primary_color||"#2563eb",invoice_footer:v.invoice_footer||"",po_footer:v.po_footer||"",bank_details:v.bank_details||"",header_position:v.header_position||"top-center",logo_size:v.logo_size||"medium",show_sst_id:v.show_sst_id??!0,show_bank_details:v.show_bank_details??!0,page_margin:v.page_margin||50})}catch(v){Rt.error("Error loading company settings:",v),Ce.error("Failed to load company settings")}finally{n(!1)}},p=v=>{const{name:w,value:S,type:C}=v.target,j=v.target.checked;d(T=>({...T,[w]:C==="checkbox"?j:C==="number"?Number(S):S}))},m=async()=>{s(!0);try{const v=await hb.updateSettings(u);e(v),Ce.success("Company settings saved successfully")}catch(v){Rt.error("Error saving company settings:",v),Ce.error("Failed to save company settings")}finally{s(!1)}},y=async v=>{const w=v.target.files?.[0];if(!w)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(w.type)){Ce.error("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image.");return}if(w.size>5*1024*1024){Ce.error("File too large. Maximum size is 5MB.");return}l(!0);try{const C=await hb.uploadLogo(w);e(j=>j&&{...j,logo_url:C.logoUrl}),Ce.success("Logo uploaded successfully")}catch(C){Rt.error("Error uploading logo:",C),Ce.error("Failed to upload logo")}finally{l(!1),c.current&&(c.current.value="")}},g=async()=>{if(r?.logo_url&&confirm("Are you sure you want to delete the company logo?"))try{await hb.deleteLogo(),e(v=>v&&{...v,logo_url:null}),Ce.success("Logo deleted successfully")}catch(v){Rt.error("Error deleting logo:",v),Ce.error("Failed to delete logo")}};return t?o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(N0,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Settings"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Configure your company details for PDF documents"})]})]}),o.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[o.jsx(s7,{className:"w-4 h-4"}),a?"Saving...":"Save Changes"]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(_w,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Logo"})]}),o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"w-40 h-40 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:r?.logo_url?o.jsx("img",{src:`${zSe}${r.logo_url}`,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(_w,{className:"w-12 h-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"No logo"})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload your company logo. Recommended size: 300x100px. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:y,className:"hidden"}),o.jsxs("button",{onClick:()=>c.current?.click(),disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:[o.jsx(ko,{className:"w-4 h-4"}),i?"Uploading...":"Upload Logo"]}),r?.logo_url&&o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Position"}),o.jsxs("select",{name:"header_position",value:u.header_position,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"top-left",children:"Top Left"}),o.jsx("option",{value:"top-center",children:"Top Center"}),o.jsx("option",{value:"top-right",children:"Top Right"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Size"}),o.jsxs("select",{name:"logo_size",value:u.logo_size,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"small",children:"Small (60px)"}),o.jsx("option",{value:"medium",children:"Medium (100px)"}),o.jsx("option",{value:"large",children:"Large (150px)"})]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(N0,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),o.jsx("input",{type:"text",name:"company_name",value:u.company_name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),o.jsx("input",{type:"text",name:"registration_number",value:u.registration_number,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 863273W"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("textarea",{name:"address",value:u.address,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter company address (one line per address line)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"text",name:"phone",value:u.phone,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +604 376 2355"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),o.jsx("input",{type:"text",name:"mobile",value:u.mobile,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +60 17 2008173"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:u.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., contact@company.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SST ID"}),o.jsx("input",{type:"text",name:"sst_id",value:u.sst_id,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., P11-1808-31028245"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(os,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"PDF Document Options"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Margin (px)"}),o.jsx("input",{type:"number",name:"page_margin",value:u.page_margin,onChange:p,min:20,max:100,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_sst_id",checked:u.show_sst_id,onChange:p,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show SST ID on PDFs"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_bank_details",checked:u.show_bank_details,onChange:p,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Bank Details on PDFs"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Footer Text"}),o.jsx("textarea",{name:"invoice_footer",value:u.invoice_footer,onChange:p,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Payment terms, notes, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Footer Text"}),o.jsx("textarea",{name:"po_footer",value:u.po_footer,onChange:p,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"PO terms, signature requirements, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Details"}),o.jsx("textarea",{name:"bank_details",value:u.bank_details,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Bank name, account number, etc."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(xee,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Branding Colors"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",name:"primary_color",value:u.primary_color,onChange:p,className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:u.primary_color,onChange:v=>d(w=>({...w,primary_color:v.target.value})),className:"w-28 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"#2563eb"})]})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"This color will be used for accents in generated PDF documents."})]})]})]})},dV=Oc(r=>({pcs:[],loading:!1,error:null,fetchPCs:async e=>{try{r({loading:!0,error:null});const t=await Cr.getAllComputers(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>{let i="available";return s.status==="in-repair"?i="maintenance":s.assigned_to&&(i="assigned"),{id:s.id,name:s.device_name||s.name,location:s.location||"",status:i,assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(l=>l.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}});r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch PCs";console.error("Error fetching PCs:",n),r({error:n,loading:!1})}},addPC:async e=>{try{r({loading:!0,error:null});const t=await Cr.createComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:t.assigned_to?"assigned":t.status==="maintenance"?"maintenance":"available",assignedTo:t.assignee?.name||t.assignedTo,assignedToEmail:t.assignee?.email||t.assignedToEmail,assignedDate:t.updated_at,notes:t.notes,softwareUsed:t.installed_software?t.installed_software.split(",").filter(a=>a.trim()):[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:[...a.pcs,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add PC";console.error("Error adding PC:",n),r({error:n,loading:!1})}},assignPC:async(e,t,n,a,s,i)=>{try{r({loading:!0,error:null});const l=await Cr.assignComputerToUser(e,t,i,s),c={id:l.id,name:l.device_name||l.name,location:l.location||"",status:"assigned",assignedTo:l.assignee?.name||n,assignedToEmail:l.assignee?.email||a,assignedDate:new Date().toISOString(),notes:l.notes||s,softwareUsed:l.installed_software?l.installed_software.split(",").filter(u=>u.trim()):i,lastUpdated:l.updated_at||new Date().toISOString()};r(u=>({pcs:u.pcs.map(d=>d.id===e?c:d),loading:!1}))}catch(l){const c=l?.response?.data?.error||l?.message||"Failed to assign PC";throw console.error("Error assigning PC:",c),r({error:c,loading:!1}),l}},releasePC:async e=>{try{r({loading:!0,error:null});const t=await Cr.unassignComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:"available",assignedTo:void 0,assignedToEmail:void 0,assignedDate:void 0,notes:t.notes,softwareUsed:[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:a.pcs.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to release PC";console.error("Error releasing PC:",n),r({error:n,loading:!1})}},updatePC:async(e,t)=>{try{r({loading:!0,error:null});const n=await Cr.updateComputer(e,t);let a="available";n.status==="in-repair"?a="maintenance":n.assigned_to&&(a="assigned");const s={id:n.id,name:n.device_name||n.name,location:n.location||"",status:a,assignedTo:n.assignee?.name||n.assignedTo,assignedToEmail:n.assignee?.email||n.assignedToEmail,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(i=>({pcs:i.pcs.map(l=>l.id===e?s:l),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update PC";console.error("Error updating PC:",a),r({error:a,loading:!1})}},deletePC:async e=>{try{r({loading:!0,error:null}),await Cr.deleteComputer(e),r(t=>({pcs:t.pcs.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete PC";console.error("Error deleting PC:",n),r({error:n,loading:!1})}},getPCsAssignedTo:async e=>{try{r({loading:!0,error:null});const t=await Cr.getComputersAssignedTo(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>({id:s.id,name:s.device_name||s.name,location:s.location||"",status:"assigned",assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}));r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch assigned PCs";console.error("Error fetching assigned PCs:",n),r({error:n,loading:!1})}},setMaintenanceStatus:async(e,t)=>{try{r({loading:!0,error:null});const n=await Cr.setMaintenanceStatus(e,t),a={id:n.id,name:n.device_name||n.name,location:n.location||"",status:t?"maintenance":"available",assignedTo:t?void 0:n.assignee?.name,assignedToEmail:t?void 0:n.assignee?.email,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(s=>s.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(s=>({pcs:s.pcs.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update maintenance status";throw console.error("Error updating maintenance status:",a),r({error:a,loading:!1}),n}}})),$Se=()=>{const r=B.useRef(null),[e,t]=B.useState(!1),[n,a]=B.useState(!1),[s,i]=B.useState(!1),{user:l}=cf(),c=l&&(l.role==="admin"||Array.isArray(l.roles)&&l.roles.includes("admin")),u=Dc(j=>j.teamMembers),d=ws(j=>j.projects),f=uf(j=>j.clients),p=_v(j=>j.items),m=H3(j=>j.checkouts),y=dV(j=>j.pcs),g=D0(j=>j.researchProjects),v=z3(j=>j.tickets),w=()=>{try{const j={exportDate:new Date().toISOString(),version:"1.0.0",records:{teamMembers:u,projects:d,clients:f,inventoryItems:p,checkouts:m,pcs:y,researchProjects:g,maintenanceTickets:v},summary:{totalTeamMembers:u.length,totalProjects:d.length,totalClients:f.length,totalInventoryItems:p.length,totalCheckouts:m.length,totalPCs:y.length,totalResearchProjects:g.length,totalMaintenanceTickets:v.length}},T=JSON.stringify(j,null,2),L=new Blob([T],{type:"application/json"}),I=URL.createObjectURL(L),D=document.createElement("a");D.href=I,D.download=`mycae-tracker-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(I),Lt.success(` Data exported successfully! (${Object.keys(j.summary).length} entities)`)}catch(j){Lt.error(" Failed to export data"),Rt.error("Export error:",j)}},S=()=>{r.current?.click()},C=j=>{const T=j.target.files?.[0];if(!T)return;const L=new FileReader;L.onload=I=>{try{const D=I.target?.result,k=JSON.parse(D);if(!k.records||!k.summary)throw new Error("Invalid file format");Lt.success(` Data imported successfully!
Teams: ${k.summary.totalTeamMembers}, Projects: ${k.summary.totalProjects}, Clients: ${k.summary.totalClients}, Inventory: ${k.summary.totalInventoryItems}`),Rt.debug("Imported data:",k)}catch(D){Lt.error(" Failed to parse import file"),Rt.error("Import error:",D)}},L.readAsText(T),j.target.value=""};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Settings"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage app data and integrations"})]}),o.jsxs(Gr,{variant:"bordered",className:"mb-4",children:[o.jsx(U1,{children:o.jsx(Q1,{children:"Profile"})}),o.jsx(H1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(bu,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:l?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500",children:l?.email||"user@mycae.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rh,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Change Password"})]}),o.jsx(f0,{className:"w-5 h-5 text-gray-400"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(i7,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preferences"})]}),o.jsx(f0,{className:"w-5 h-5 text-gray-400"})]})]})]})})]}),c&&o.jsxs(Gr,{variant:"bordered",className:"mb-4",children:[o.jsx(U1,{children:o.jsx(Q1,{children:"Company Settings"})}),o.jsx(H1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("strong",{children:"Admin Only:"})," Configure company branding, logo, and PDF document settings. These settings will be applied to all generated invoices and purchase orders."]})}),o.jsxs("button",{onClick:()=>i(!s),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(N0,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:s?"Hide Company Settings":"Edit Company Settings"})]}),o.jsx(f0,{className:`w-5 h-5 text-gray-400 transition-transform ${s?"rotate-90":""}`})]}),s&&o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:o.jsx(KSe,{})})]})})]}),o.jsxs(Gr,{variant:"bordered",className:"mb-4",children:[o.jsx(U1,{children:o.jsx(Q1,{children:"Data Management"})}),o.jsx(H1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Export:"})," Download all application data as JSON file",o.jsx("br",{}),o.jsx("strong",{children:"Import:"})," Load data from previously exported JSON file"]})}),o.jsx(Dt,{variant:"outline",fullWidth:!0,icon:o.jsx(Pd,{className:"w-5 h-5"}),onClick:w,children:"Export Data"}),o.jsx(Dt,{variant:"outline",fullWidth:!0,icon:o.jsx(ko,{className:"w-5 h-5"}),onClick:S,children:"Import Data"}),o.jsx("input",{ref:r,type:"file",accept:".json",onChange:C,className:"hidden"}),o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Current Data Summary"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Team Members"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:u.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Projects"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:d.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Inventory Items"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:p.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"PCs"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:y.length})]})]})]})]})})]}),o.jsxs(Gr,{variant:"bordered",children:[o.jsx(U1,{children:o.jsx(Q1,{children:"About"})}),o.jsxs(H1,{children:[o.jsx("div",{className:"w-full flex items-center justify-between p-3 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(m_,{className:"w-5 h-5 text-gray-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"App Version"}),o.jsx("p",{className:"text-sm text-gray-500",children:"1.0.0"})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-600",children:"MyCAE Equipment Tracker - Inventory Management System"})})]})]})]}),o.jsx(MSe,{isOpen:e,onClose:()=>t(!1),userEmail:l?.email,onSuccess:()=>{t(!1),Lt.success("Password changed successfully!")}}),o.jsx(HSe,{isOpen:n,onClose:()=>a(!1),onSave:j=>{a(!1),Lt.success("Preferences saved successfully!")}})]})},VSe=()=>{const{filteredCheckouts:r,fetchCheckouts:e,setFilters:t,loading:n}=H3(),{items:a,fetchInventory:s,loading:i}=_v(),{isMobile:l}=fC(),c=qa(),[u,d]=B.useState("transactions"),[f,p]=B.useState(""),[m,y]=B.useState("all"),[g,v]=B.useState("masterBarcode"),[w,S]=B.useState("asc"),[C,j]=B.useState(""),[T,L]=B.useState("all"),[I,D]=B.useState("location"),[k,z]=B.useState("asc"),P=n||i;B.useEffect(()=>{e(),s()},[]),B.useEffect(()=>{u==="locations"&&(s(),e())},[u]),B.useEffect(()=>{t({userId:void 0,status:m==="all"?void 0:m,search:f,showMyCheckoutsFirst:!1})},[m,f]);const U=B.useMemo(()=>{const Q=[];return r.filter(K=>K.status==="active"||K.status==="partial-return"||K.status==="overdue").forEach(K=>{K.items.filter(V=>V.returnStatus==="checked-out").forEach(V=>{const J=K.purpose||K.checkedOutBy;let oe=Q.find(Ne=>Ne.location===J&&Ne.checkedOutByEmail===K.checkedOutByEmail);oe||(oe={location:J,totalItems:0,uniqueEquipment:0,checkedOutBy:K.checkedOutBy,checkedOutByEmail:K.checkedOutByEmail,checkoutDate:K.checkedOutDate,expectedReturn:K.expectedReturnDate,items:[]},Q.push(oe)),oe.totalItems+=V.remainingQuantity,oe.uniqueEquipment+=1,oe.items.push({itemName:V.itemName,quantity:V.remainingQuantity,barcode:V.barcode})})}),Q},[r]),M=B.useMemo(()=>{let Q=[...U];if(C){const K=C.toLowerCase();Q=Q.filter(V=>V.location.toLowerCase().includes(K)||V.checkedOutBy.toLowerCase().includes(K)||V.items.some(J=>J.itemName.toLowerCase().includes(K)))}return Q.sort((K,V)=>{const J=ue=>{switch(I){case"location":return ue.location.toLowerCase();case"checkedOutBy":return ue.checkedOutBy.toLowerCase();case"totalItems":return ue.totalItems;case"uniqueEquipment":return ue.uniqueEquipment;case"checkoutDate":return new Date(ue.checkoutDate).getTime();case"expectedReturn":return ue.expectedReturn?new Date(ue.expectedReturn).getTime():0;default:return ue.location.toLowerCase()}},oe=J(K),Ne=J(V);if(typeof oe=="string"&&typeof Ne=="string")return k==="asc"?oe.localeCompare(Ne):Ne.localeCompare(oe);{const ue=typeof oe=="number"?oe:0,xe=typeof Ne=="number"?Ne:0;return k==="asc"?ue-xe:xe-ue}})},[U,C,I,k]),q=B.useMemo(()=>{const Q=U.reduce((oe,Ne)=>oe+Ne.totalItems,0),K=U.length,V=new Set(U.map(oe=>oe.checkedOutByEmail)).size,J=Array.isArray(a)?a.reduce((oe,Ne)=>oe+Ne.quantity,0):0;return{totalEquipmentOut:Q,totalLocations:K,uniqueUsers:V,totalInWarehouse:J-Q,totalCheckouts:r.length}},[U,a,r]),ae=Q=>{switch(Q){case"active":return o.jsx(za,{variant:"success",children:"Active"});case"partial-return":return o.jsx(za,{variant:"warning",children:"Partial Return"});case"overdue":return o.jsx(za,{variant:"danger",children:"Overdue"});case"fully-returned":return o.jsx(za,{variant:"default",children:"Returned"});default:return null}},W=Q=>{if(!Q)return null;const K=new Date,J=new Date(Q).getTime()-K.getTime(),oe=Math.ceil(J/(1e3*60*60*24));return oe<0?{text:`${Math.abs(oe)} days overdue`,className:"text-red-600"}:oe===0?{text:"Due today",className:"text-orange-600"}:oe===1?{text:"Due tomorrow",className:"text-gray-600"}:{text:`Due in ${oe} days`,className:"text-gray-600"}},ee=Q=>Q?new Date(Q)<new Date:!1,re=B.useCallback(Q=>{g===Q?S(K=>K==="asc"?"desc":"asc"):(v(Q),S("asc"))},[g]),pe=Q=>g!==Q?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):w==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"}),Se=B.useCallback(Q=>{I===Q?z(K=>K==="asc"?"desc":"asc"):(D(Q),z("asc"))},[I]),ne=Q=>I!==Q?o.jsx(Yh,{className:"w-4 h-4 ml-1 inline-block"}):k==="asc"?o.jsx(Cd,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Bo,{className:"w-4 h-4 ml-1 inline-block"}),F=B.useMemo(()=>[...r].sort((Q,K)=>{const V=Ne=>{switch(g){case"masterBarcode":return Ne.masterBarcode.toLowerCase();case"checkedOutBy":return Ne.checkedOutBy.toLowerCase();case"purpose":return(Ne.purpose||"").toLowerCase();case"items":return Ne.totalItems||0;case"dueDate":return Ne.expectedReturnDate?new Date(Ne.expectedReturnDate).getTime():0;case"status":return{active:0,"partial-return":1,overdue:2,"fully-returned":3}[Ne.status]??4;default:return Ne.masterBarcode.toLowerCase()}},J=V(Q),oe=V(K);return typeof J=="string"&&typeof oe=="string"?w==="asc"?J.localeCompare(oe):oe.localeCompare(J):w==="asc"?J-oe:oe-J}),[r,g,w]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage checkouts and track equipment locations"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:o.jsx(Nd,{className:"w-6 h-6 text-primary-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Equipment Out"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.totalEquipmentOut})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(N0,{className:"w-6 h-6 text-green-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Locations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.totalLocations})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(bu,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Users"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.uniqueUsers})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(XE,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Office Storage"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.totalInWarehouse})]}),o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:o.jsx(sC,{className:"w-6 h-6 text-orange-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Checkouts"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.totalCheckouts})]})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-2 px-4 md:px-6",children:[o.jsxs("button",{onClick:()=>d("transactions"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="transactions"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(ll,{className:"w-4 h-4 inline mr-2"}),"Transactions"]}),o.jsxs("button",{onClick:()=>d("locations"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="locations"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Hx,{className:"w-4 h-4 inline mr-2"}),"Locations"]})]})}),u==="transactions"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6 space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ia,{placeholder:"Search by barcode, purpose, or items...",icon:o.jsx(jc,{className:"w-4 h-4"}),value:f,onChange:Q=>p(Q.target.value),fullWidth:!0})}),o.jsxs("select",{value:m,onChange:Q=>y(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"partial-return",children:"Partial Return"}),o.jsx("option",{value:"overdue",children:"Overdue"}),o.jsx("option",{value:"fully-returned",children:"Returned"})]})]})}),P&&o.jsx("div",{className:"flex justify-center items-center py-12 px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!P&&F.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(Nd,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No checkouts found"})]}),!P&&F.length>0&&l&&o.jsx("div",{className:"space-y-3 px-4 md:px-6",children:F.map(Q=>{const K=W(Q.expectedReturnDate),V=Q.checkedOutByEmail===c.email;return o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-mono text-sm font-medium text-gray-900",children:Q.masterBarcode}),Q.purpose&&o.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:Q.purpose})]}),ae(Q.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checked Out By"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:V?"You":Q.checkedOutBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:Q.status==="partial-return"?`${Q.remainingItems}/${Q.totalItems} out`:`${Q.totalItems} items`})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checkout Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(Q.checkedOutDate).toLocaleDateString()})]}),K&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:`text-sm font-medium ${K.className}`,children:K.text})]})]}),(Q.status==="active"||Q.status==="partial-return"||Q.status==="overdue")&&V&&o.jsx("div",{className:"pt-3 border-t border-gray-100",children:o.jsx(Dt,{size:"sm",fullWidth:!0,variant:"outline",children:"Check-In Items"})})]},Q.id)})}),!P&&F.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(Gr,{variant:"bordered",padding:"none",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>re("masterBarcode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Master Barcode ",pe("masterBarcode")]}),o.jsxs("th",{onClick:()=>re("checkedOutBy"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checked Out By ",pe("checkedOutBy")]}),o.jsxs("th",{onClick:()=>re("purpose"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Purpose ",pe("purpose")]}),o.jsxs("th",{onClick:()=>re("items"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Items ",pe("items")]}),o.jsxs("th",{onClick:()=>re("dueDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Due Date ",pe("dueDate")]}),o.jsxs("th",{onClick:()=>re("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",pe("status")]})]})}),o.jsx("tbody",{children:F.map(Q=>{const K=W(Q.expectedReturnDate),V=Q.checkedOutByEmail===c.email;return o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-mono text-sm text-gray-900",children:Q.masterBarcode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:V?"You":Q.checkedOutBy})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:Q.purpose||"-"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:Q.status==="partial-return"?`${Q.remainingItems}/${Q.totalItems}`:Q.totalItems})}),o.jsx("td",{className:"px-6 py-4",children:K?o.jsx("p",{className:`text-sm font-medium ${K.className}`,children:K.text}):o.jsx("p",{className:"text-sm text-gray-500",children:"-"})}),o.jsx("td",{className:"px-6 py-4",children:ae(Q.status)})]},Q.id)})})]})})})})]}),u==="locations"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ia,{placeholder:"Search by location, person, or equipment...",icon:o.jsx(jc,{className:"w-4 h-4"}),value:C,onChange:Q=>j(Q.target.value),fullWidth:!0})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>L("all"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${T==="all"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{onClick:()=>L("person"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${T==="person"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Person"}),o.jsx("button",{onClick:()=>L("site"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${T==="site"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Site"})]})]})}),P&&o.jsx("div",{className:"flex justify-center items-center py-12 px-4 md:px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!P&&M.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(Hx,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No equipment at locations"})]}),!P&&M.length>0&&l&&o.jsx("div",{className:"space-y-4 px-4 md:px-6",children:M.map((Q,K)=>o.jsxs(Gr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Hx,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:Q.location}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Q.checkedOutBy})]})]}),ee(Q.expectedReturn)&&o.jsx(za,{variant:"danger",children:"Overdue"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items Out"}),o.jsx("p",{className:"font-semibold text-gray-900",children:Q.totalItems})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Types"}),o.jsx("p",{className:"font-semibold text-gray-900",children:Q.uniqueEquipment})]})]}),Q.items.length>0&&o.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Equipment:"}),o.jsxs("div",{className:"space-y-1 text-xs",children:[Q.items.slice(0,3).map((V,J)=>o.jsxs("p",{className:"text-gray-600",children:[" ",V.itemName," (",V.quantity,"x)"]},J)),Q.items.length>3&&o.jsxs("p",{className:"text-gray-500 italic",children:["+",Q.items.length-3," more"]})]})]})]},K))}),!P&&M.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(Gr,{variant:"bordered",padding:"none",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>Se("location"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Location ",ne("location")]}),o.jsxs("th",{onClick:()=>Se("checkedOutBy"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checked Out By ",ne("checkedOutBy")]}),o.jsxs("th",{onClick:()=>Se("totalItems"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Items ",ne("totalItems")]}),o.jsxs("th",{onClick:()=>Se("uniqueEquipment"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Types ",ne("uniqueEquipment")]}),o.jsxs("th",{onClick:()=>Se("checkoutDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checkout Date ",ne("checkoutDate")]}),o.jsxs("th",{onClick:()=>Se("expectedReturn"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Expected Return ",ne("expectedReturn")]})]})}),o.jsx("tbody",{children:M.map((Q,K)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hx,{className:"w-4 h-4 text-gray-400"}),o.jsx("p",{className:"font-medium text-gray-900",children:Q.location})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:Q.checkedOutBy})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.totalItems})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:Q.uniqueEquipment})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:new Date(Q.checkoutDate).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4",children:Q.expectedReturn?o.jsx("p",{className:`text-sm font-medium ${ee(Q.expectedReturn)?"text-red-600":"text-gray-900"}`,children:new Date(Q.expectedReturn).toLocaleDateString()}):o.jsx("p",{className:"text-sm text-gray-500",children:"-"})})]},K))})]})})})})]})]})})},cj=Zs.forwardRef(({isLoading:r=!1,loadingText:e,children:t,disabled:n,icon:a,...s},i)=>o.jsx(Dt,{ref:i,disabled:n||r,icon:r?o.jsx(n7,{className:"w-4 h-4 animate-spin"}):a,...s,children:r?e||"Loading...":t}));cj.displayName="LoadingButton";const qSe=({onClose:r,onAdd:e,isLoading:t=!1})=>{const[n,a]=B.useState({name:"",location:"",status:"available"}),s=i=>{i.preventDefault();const l={assetTag:n.name,deviceName:n.name,computerType:"laptop",location:n.location};e(l)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(p_,{className:"w-6 h-6 text-primary-600"}),"Add New PC"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Register a new computer"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:s,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:i=>a({...n,name:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:i=>a({...n,location:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., Office Floor 2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:n.status,onChange:i=>a({...n,status:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(cj,{type:"button",variant:"secondary",fullWidth:!0,onClick:r,children:"Cancel"}),o.jsx(cj,{type:"submit",variant:"primary",fullWidth:!0,isLoading:t,loadingText:"Adding PC...",children:"Add PC"})]})]})]})})]})},GSe=[{name:"Ansys",licenses:[{name:"Mechanical Enterprise",count:1},{name:"Mechanical Premium",count:1},{name:"CFD Enterprise",count:1},{name:"Discovery License",count:2},{name:"HPC",count:1}]},{name:"Solidworks",licenses:[{name:"Standard",count:2},{name:"Premium 2020 (n-locked)",count:1,lockedTo:"PC5"},{name:"2016 (locked)",count:1,lockedTo:"PC9"}]},{name:"BIMHVAC Tool",licenses:[{name:"Reseller Demo",count:1},{name:"Standard",count:1}]}],hV=({selectedSoftware:r,onSelectionChange:e})=>{const t=n=>{const a=r.includes(n)?r.filter(s=>s!==n):[...r,n];e(a)};return o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Software Used"}),o.jsx("div",{className:"space-y-4",children:GSe.map(n=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:n.name}),o.jsx("div",{className:"pl-4 mt-2 space-y-2",children:n.licenses.map(a=>{const s=`${n.name} - ${a.name}`;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:s,checked:r.includes(s),onChange:()=>t(s),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:s,className:"ml-3 text-sm text-gray-600",children:[a.name," (",a.count," license",a.count>1?"s":"",")",a.lockedTo&&o.jsxs("span",{className:"text-xs text-red-500 ml-2",children:["(Locked to ",a.lockedTo,")"]})]})]},s)})})]},n.name))})]})},WSe=({pc:r,currentUser:e,onClose:t,onAssign:n})=>{const[a,s]=B.useState({assignedTo:e?.displayName||"",assignedToEmail:e?.email||"",notes:""}),[i,l]=B.useState([]),c=u=>{u.preventDefault(),n(a.assignedTo,a.assignedToEmail,a.notes,i)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(kw,{className:"w-6 h-6 text-primary-600"}),"Assign ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign this PC to an engineer"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:c,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To *"}),o.jsx("input",{type:"text",required:!0,value:a.assignedTo,onChange:u=>s({...a,assignedTo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Staff name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a.assignedToEmail,onChange:u=>s({...a,assignedToEmail:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"staff@email.com"})]}),o.jsx(hV,{selectedSoftware:i,onSelectionChange:l}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:a.notes,onChange:u=>s({...a,notes:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Dt,{type:"button",variant:"secondary",fullWidth:!0,onClick:t,children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",fullWidth:!0,children:"Assign PC"})]})]})]})})]})},YSe=({pc:r,onClose:e,onEdit:t})=>{const[n,a]=B.useState({name:r.name,location:r.location,notes:r.notes||""}),[s,i]=B.useState(r.softwareUsed||[]),l=c=>{c.preventDefault(),t({name:n.name,location:n.location,notes:n.notes,softwareUsed:s})};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(cl,{className:"w-6 h-6 text-blue-600"}),"Edit ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update PC properties"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:l,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:c=>a({...n,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:c=>a({...n,location:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Office Floor 2"})]}),o.jsx(hV,{selectedSoftware:s,onSelectionChange:i}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:n.notes,onChange:c=>a({...n,notes:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Dt,{type:"button",variant:"secondary",fullWidth:!0,onClick:e,children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",fullWidth:!0,children:"Save Changes"})]})]})]})})]})},XSe=({isOpen:r,onClose:e,items:t,triggerClassName:n})=>{const a=B.useRef(null);return B.useEffect(()=>{const s=l=>{a.current&&!a.current.contains(l.target)&&e()},i=l=>{l.key==="Escape"&&e()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",i)}},[r,e]),r?o.jsx("div",{ref:a,className:"relative",children:o.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:o.jsx("div",{className:"py-1",children:t.map((s,i)=>o.jsxs("button",{onClick:()=>{s.onClick(),e()},className:_r("w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 transition-colors",s.variant==="danger"?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx("span",{className:"w-4 h-4",children:s.icon}),o.jsx("span",{children:s.label})]},i))})})}):null},JSe=({isOpen:r,onClick:e,className:t})=>o.jsx("button",{onClick:e,className:_r("text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-colors p-1",t),"aria-label":"More options","aria-expanded":r,children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"2",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"10",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"2",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"10",cy:"10",r:"1.5",fill:"currentColor"})]})}),ZSe=()=>{const{pcs:r,fetchPCs:e,addPC:t,assignPC:n,releasePC:a,deletePC:s,updatePC:i,setMaintenanceStatus:l}=dV(),[c,u]=B.useState(!1),[d,f]=B.useState(!1),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState(null),[S]=B.useState(qa());B.useEffect(()=>{e()},[e]);const C=M=>{g(M),f(!0)},j=M=>{g(M),m(!0)},T=M=>{confirm("Are you sure you want to release this PC?")&&a(M)},L=M=>{confirm("Are you sure you want to delete this PC?")&&s(M)},I=async(M,q)=>{try{await l(M,q)}catch(ae){console.error("Failed to update maintenance status:",ae)}},D=(M,q)=>{let ae;return q?ae="End maintenance for this PC?":M.status==="assigned"&&M.assignedTo?ae=`Mark this PC for maintenance? This will unassign ${M.assignedTo}.`:ae="Mark this PC for maintenance?",confirm(ae)},k=B.useMemo(()=>[...r].sort((M,q)=>{const ae=M.name.match(/^PC(\d+)$/),W=q.name.match(/^PC(\d+)$/);if(ae&&W){const ee=parseInt(ae[1]),re=parseInt(W[1]);return ee-re}return M.name.localeCompare(q.name)}),[r]),z={total:r.length,available:r.filter(M=>M.status==="available").length,assigned:r.filter(M=>M.status==="assigned").length,maintenance:r.filter(M=>M.status==="maintenance").length},P=S&&nl(S.role||"engineer","canAddOrRemovePC"),U=S&&nl(S.role||"engineer","canAssignPC");return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"PC Assignment Tracking"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track which engineers are using company PCs"})]}),P&&o.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(vi,{className:"w-4 h-4"}),"Add New PC"]})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Total PCs"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:z.total})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Available"}),o.jsx("div",{className:"text-3xl font-bold text-green-600 mt-2",children:z.available})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Assigned"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 mt-2",children:z.assigned})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Maintenance"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600 mt-2",children:z.maintenance})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(M=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-shadow relative",children:[P&&o.jsxs("div",{className:"absolute top-4 right-4 z-10",children:[o.jsx(JSe,{isOpen:v===M.id,onClick:()=>w(v===M.id?null:M.id)}),o.jsx(XSe,{isOpen:v===M.id,onClose:()=>w(null),items:[{icon:o.jsx(cl,{className:"w-4 h-4"}),label:"Edit PC",onClick:()=>j(M)},{icon:o.jsx(Ns,{className:"w-4 h-4"}),label:"Delete PC",onClick:()=>L(M.id),variant:"danger"},...M.status==="maintenance"?[{icon:o.jsx(Hp,{className:"w-4 h-4"}),label:"End Maintenance",onClick:()=>{D(M,!1)&&I(M.id,!1)}}]:[{icon:o.jsx(Hp,{className:"w-4 h-4"}),label:"Mark for Maintenance",onClick:()=>{D(M,!0)&&I(M.id,!0)}}]]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(p_,{className:`w-8 h-8 ${M.status==="available"?"text-green-600":M.status==="assigned"?"text-blue-600":"text-yellow-600"}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:M.name}),M.status==="available"&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:"Available"}),M.status==="assigned"&&o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-medium rounded",children:"Assigned"}),M.status==="maintenance"&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:"Maintenance"})]})]})}),M.status==="assigned"&&o.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:M.assignedTo?M.assignedTo.charAt(0).toUpperCase():"?"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.assignedTo||"Unknown User"}),M.assignedToEmail&&o.jsx("p",{className:"text-sm text-gray-600 truncate",children:M.assignedToEmail})]})]})}),M.status==="assigned"&&M.softwareUsed&&M.softwareUsed.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Software"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:M.softwareUsed.map(q=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:q},q))})]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:o.jsx("span",{children:M.location})}),M.status==="assigned"&&M.assignedDate&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(ll,{className:"w-4 h-4"}),o.jsxs("span",{children:["Assigned ",new Date(M.assignedDate).toLocaleDateString()]})]}),M.notes&&o.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-700",children:M.notes})]}),o.jsxs("div",{className:"flex gap-2",children:[M.status==="available"&&U&&o.jsx("button",{onClick:()=>C(M),className:"flex-1 px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors",children:"Assign"}),M.status==="assigned"&&U&&o.jsx("button",{onClick:()=>T(M.id),className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Release"}),M.status==="maintenance"&&P&&o.jsx("button",{onClick:()=>{D(M,!1)&&I(M.id,!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Available"})]})]})]},M.id))}),c&&o.jsx(qSe,{onClose:()=>u(!1),onAdd:M=>{t(M),u(!1),e()}}),d&&y&&o.jsx(WSe,{pc:y,currentUser:S,onClose:()=>{f(!1),g(null)},onAssign:async(M,q,ae,W)=>{const ee=S?.id||S?.userId;if(!ee){alert("Error: Unable to identify current user. Please log in again.");return}try{await n(y.id,ee,M,q,ae,W),f(!1),g(null),e()}catch(re){const pe=re?.response?.data?.error||re?.message||"Failed to assign PC";alert(`Assignment failed: ${pe}`)}}}),p&&y&&o.jsx(YSe,{pc:y,onClose:()=>{m(!1),g(null)},onEdit:M=>{i(y.id,M),m(!1),g(null),e()}})]})})},fV=3500,eBe=8,uj=fV/eBe;function fb(r,e,t){if(e===0)return!0;const n=new Date(r),a=n.getFullYear(),s=n.getMonth()+1;return!(a!==e||t>0&&s!==t)}function tBe(r=0,e=0){const{projects:t,timesheets:n,fetchProjects:a,fetchTimesheets:s,loading:i}=ws(),{teamMembers:l,fetchTeamMembers:c,loading:u}=Dc(),[d,f]=B.useState([]),[p,m]=B.useState([]),[y,g]=B.useState([]),[v,w]=B.useState([]),[S,C]=B.useState({}),[j,T]=B.useState(!0),[L,I]=B.useState(null),D=B.useCallback(async()=>{T(!0),I(null);try{const[W,ee,re,pe]=await Promise.all([nr.getAllPurchaseOrders(),nr.getAllInvoices(),nr.getAllIssuedPOs(),nr.getAllReceivedInvoices(),a(),s(),c()]),Se=Array.isArray(W)?W:W?.data||W||[];f(Se),m(Array.isArray(ee)?ee:[]);const ne=Array.isArray(re)?re:re?.data||[];g(ne);const F=Array.isArray(pe)?pe:pe?.data||[];w(F);const Q={},V=ws.getState().projects.map(async J=>{try{const oe=await di.getProjectHourlyRates(J.id);Q[J.id]={},oe.forEach(Ne=>{Q[J.id][Ne.teamMemberId]=parseFloat(Ne.hourlyRate)})}catch{}});await Promise.all(V),C(Q)}catch(W){console.error("Failed to fetch finance data:",W),I(W?.message||"Failed to load finance data")}finally{T(!1)}},[a,s,c]);B.useEffect(()=>{D()},[D]);const k=B.useMemo(()=>d.filter(W=>fb(W.receivedDate,r,e)),[d,r,e]),z=B.useMemo(()=>p.filter(W=>fb(W.invoiceDate,r,e)),[p,r,e]),P=B.useMemo(()=>y.filter(W=>fb(W.issueDate,r,e)),[y,r,e]),U=B.useMemo(()=>v.filter(W=>fb(W.invoiceDate,r,e)),[v,r,e]),M=B.useMemo(()=>rBe(t,k,z,P,U,n,l),[t,k,z,P,U,n,l,S]),q=B.useMemo(()=>nBe(M,k,z,P,U),[M,k,z,P,U]);return{projectSummaries:M,totals:q,loading:j||i||u,error:L,refetch:D}}function rBe(r,e,t,n,a,s,i,l){const c=Array.isArray(s)?s:[];return r.map(u=>{const d=e.filter(U=>U.projectCode===u.projectCode&&U.isActive),f=t.filter(U=>U.projectCode===u.projectCode),p=d.reduce((U,M)=>{let q;return M.amountMyrAdjusted!==null&&M.amountMyrAdjusted!==void 0?q=M.amountMyrAdjusted:M.amountMyr!==null&&M.amountMyr!==void 0?q=M.amountMyr:q=M.amount,U+parseFloat((q||0).toString())},0),m=d.map(U=>{let M;return U.amountMyrAdjusted!==null&&U.amountMyrAdjusted!==void 0?M=U.amountMyrAdjusted:U.amountMyr!==null&&U.amountMyr!==void 0?M=U.amountMyr:M=U.amount,{amount:parseFloat(U.amount.toString()),currency:U.currency||"MYR",amountMyr:parseFloat((M||0).toString())}}),y=f.reduce((U,M)=>{const q=M.amountMyr!==null&&M.amountMyr!==void 0?M.amountMyr:M.amount;return U+parseFloat((q||0).toString())},0),g=f.map(U=>({amount:parseFloat(U.amount.toString()),currency:U.currency||"MYR",amountMyr:parseFloat((U.amountMyr!==null&&U.amountMyr!==void 0?U.amountMyr:U.amount||0).toString())})),v=p-y,w=n.filter(U=>U.projectCode===u.projectCode),S=w.reduce((U,M)=>U+parseFloat((M.amount||0).toString()),0),C=w.map(U=>({amount:parseFloat(U.amount.toString()),currency:"MYR",amountMyr:parseFloat((U.amount||0).toString())})),j=a.filter(U=>n.find(q=>q.id===U.issuedPoId)?.projectCode===u.projectCode),T=j.reduce((U,M)=>{const q=M.amountMyr!==null&&M.amountMyr!==void 0?M.amountMyr:M.amount;return U+parseFloat((q||0).toString())},0),L=j.map(U=>({amount:parseFloat(U.amount.toString()),currency:U.currency||"MYR",amountMyr:parseFloat((U.amountMyr!==null&&U.amountMyr!==void 0?U.amountMyr:U.amount||0).toString())})),I=c.filter(U=>U.projectId.toString()===u.id),D=I.reduce((U,M)=>U+parseFloat(M.hours.toString()||"0"),0),k={};I.forEach(U=>{const M=U.engineerId.toString();if(!k[M]){const q=i.find(ae=>ae.userId?.toString()===M);k[M]={hours:0,engineer:q}}k[M].hours+=parseFloat(U.hours.toString()||"0")});const z=Object.entries(k).map(([U,M])=>{const q=M.engineer;return{engineerId:U,engineerName:q?.name||"Unknown",role:q?.role||"engineer",hours:M.hours,hourlyRate:uj,totalCost:M.hours*uj}}),P=z.reduce((U,M)=>U+M.totalCost,0);return{projectId:u.id,projectCode:u.projectCode,projectTitle:u.title,clientName:u.companyName||"Unknown Client",status:u.status,poReceived:p,invoiced:y,outstanding:v,poReceivedOriginal:m,invoicedOriginal:g,baseCost:P,actualHours:D,engineerBreakdown:z,vendorPOsIssued:S,vendorInvoicesReceived:T,vendorPOsOriginal:C,vendorInvoicesOriginal:L}})}function nBe(r,e,t,n,a){const s=r.reduce((g,v)=>g+v.poReceived,0),i=r.reduce((g,v)=>g+v.invoiced,0),l=s-i,c=r.reduce((g,v)=>g+v.baseCost,0),u={};e.filter(g=>g.isActive).forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());u[v]=(u[v]||0)+w});const d={};t.forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());d[v]=(d[v]||0)+w});const f=r.reduce((g,v)=>g+v.vendorPOsIssued,0),p=r.reduce((g,v)=>g+v.vendorInvoicesReceived,0),m={};n.forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());m[v]=(m[v]||0)+w});const y={};return a.forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());y[v]=(y[v]||0)+w}),{totalPOReceived:s,totalInvoiced:i,totalOutstanding:l,totalBaseCost:c,poReceivedByCurrency:u,invoicedByCurrency:d,totalVendorPOsIssued:f,totalVendorInvoicesReceived:p,vendorPOsByCurrency:m,vendorInvoicesByCurrency:y}}function mb(r,e,t){if(e.length===0)return`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(e.length===1){const{amount:s,currency:i}=e[0];return fw(s,i)}const n={};e.forEach(s=>{n[s.currency]=(n[s.currency]||0)+1});const a=Object.keys(n);if(a.length===1){const s=a[0],i=e.reduce((l,c)=>l+c.amount,0);return fw(i,s)}return e.map(s=>fw(s.amount,s.currency)).join(" + ")}function fw(r,e){return`${{MYR:"RM",USD:"US$",SGD:"S$",EUR:"",GBP:"",JPY:"",CNY:"",AUD:"A$",THB:"",IDR:"Rp"}[e]||e} ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function pb(r,e,t){const n=Object.keys(e);return n.length===0?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.length===1&&n[0]==="MYR"?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.map(a=>fw(e[a],a)).join(`
`)}const aBe=({totals:r,showOriginalCurrency:e,loading:t=!1})=>{const n=s=>`RM ${s.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,a=[{title:"PO Received",value:e?pb(r.totalPOReceived,r.poReceivedByCurrency):n(r.totalPOReceived),icon:os,iconBg:"bg-green-100",iconColor:"text-green-600",subtitle:"Total purchase orders received"},{title:"Invoiced",value:e?pb(r.totalInvoiced,r.invoicedByCurrency):n(r.totalInvoiced),icon:a7,iconBg:"bg-blue-100",iconColor:"text-blue-600",subtitle:"Total amount invoiced"},{title:"Outstanding",value:n(r.totalOutstanding),icon:ll,iconBg:r.totalOutstanding>0?"bg-orange-100":"bg-gray-100",iconColor:r.totalOutstanding>0?"text-orange-600":"text-gray-600",subtitle:"Remaining to invoice"},{title:"Vendor POs Issued",value:e?pb(r.totalVendorPOsIssued,r.vendorPOsByCurrency):n(r.totalVendorPOsIssued),icon:o7,iconBg:"bg-indigo-100",iconColor:"text-indigo-600",subtitle:"Purchase orders to vendors"},{title:"Vendor Invoices",value:e?pb(r.totalVendorInvoicesReceived,r.vendorInvoicesByCurrency):n(r.totalVendorInvoicesReceived),icon:IZ,iconBg:"bg-teal-100",iconColor:"text-teal-600",subtitle:"Invoices received from vendors"},{title:"Base Cost",value:n(r.totalBaseCost),icon:wd,iconBg:"bg-purple-100",iconColor:"text-purple-600",subtitle:`Base rate: RM ${fV.toLocaleString()}/day (RM ${uj.toFixed(2)}/hr)`}];return t?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[...Array(6)].map((s,i)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded w-28"})]},i))}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:a.map(s=>{const i=s.icon,l=s.value.includes(`
`);return o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:`w-12 h-12 ${s.iconBg} rounded-xl flex items-center justify-center`,children:o.jsx(i,{className:`w-6 h-6 ${s.iconColor}`})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:s.title}),l?o.jsx("div",{className:"space-y-1",children:s.value.split(`
`).map((c,u)=>o.jsx("div",{className:"text-sm font-bold text-gray-900",children:c},u))}):o.jsx("div",{className:"text-xl lg:text-2xl font-bold text-gray-900 whitespace-nowrap",children:s.value}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:s.subtitle})]},s.title)})})},sBe={engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"},iBe=({engineers:r})=>{const{canViewBaseCost:e}=v3(),t=i=>`RM ${i.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(r.length===0)return o.jsx("div",{className:"py-6 px-4",children:o.jsxs("div",{className:"flex items-center justify-center text-gray-500",children:[o.jsx(bu,{className:"w-5 h-5 mr-2"}),o.jsx("span",{className:"text-sm",children:"No timesheets recorded for this project"})]})});const n=r.reduce((i,l)=>i+l.hours,0),a=r.reduce((i,l)=>i+l.totalCost,0),s=n>0?a/n:0;return o.jsxs("div",{className:"py-4 px-4 border-l-4 border-primary-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Engineer Breakdown"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Engineer"}),o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Role"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Hours"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Rate/hr"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Cost"})]})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(i=>o.jsxs("tr",{className:"hover:bg-gray-100/50",children:[o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"font-medium text-gray-900",children:i.engineerName})}),o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"text-gray-600",children:sBe[i.role]||i.role})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsxs("span",{className:"text-gray-900",children:[i.hours.toFixed(1)," hrs"]})}),e&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"text-gray-600",children:t(i.hourlyRate)})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:t(i.totalCost)})})]})]},i.engineerId))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-gray-200 bg-gray-50/50",children:[o.jsx("td",{className:"py-2.5 font-semibold text-gray-900",children:"Total"}),o.jsx("td",{className:"py-2.5"}),o.jsxs("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:[n.toFixed(1)," hrs"]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs("td",{className:"py-2.5 text-right text-gray-600",children:["Avg: ",t(s)]}),o.jsx("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:t(a)})]})]})})]})})]})},oBe={"pre-lim":"bg-amber-100 text-amber-700",ongoing:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"},lBe={"pre-lim":"Pre-lim",ongoing:"Ongoing",completed:"Completed"},cBe=({projects:r,showOriginalCurrency:e,loading:t=!1,selectedYear:n,selectedMonth:a})=>{const[s,i]=B.useState(new Set),[l,c]=B.useState(""),[u,d]=B.useState("all"),f=y=>{i(g=>{const v=new Set(g);return v.has(y)?v.delete(y):v.add(y),v})},p=r.filter(y=>{if(u!=="all"&&y.status!==u)return!1;if(l.trim()){const g=l.toLowerCase();return y.projectCode.toLowerCase().includes(g)||y.projectTitle.toLowerCase().includes(g)||y.clientName.toLowerCase().includes(g)}return!0}),m=y=>`RM ${y.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return t?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"})}),o.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((y,g)=>o.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},g))})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Project Breakdown"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:y=>c(y.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full sm:w-64"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ev,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Pre-lim"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-8"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PO Received"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Invoiced"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Outstanding"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Base Cost"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendor POs"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendor Invoices"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:p.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(jc,{className:"w-12 h-12 text-gray-300 mb-3"}),o.jsx("p",{className:"text-sm",children:"No projects found"}),l&&o.jsx("button",{onClick:()=>c(""),className:"mt-2 text-sm text-primary-600 hover:text-primary-700",children:"Clear search"})]})})}):p.map(y=>{const g=s.has(y.projectId),v=y.poReceived>0?Math.round(y.invoiced/y.poReceived*100):0;return o.jsxs(Zs.Fragment,{children:[o.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${g?"bg-gray-50":""}`,onClick:()=>f(y.projectId),children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",onClick:w=>{w.stopPropagation(),f(y.projectId)},children:g?o.jsx(Bo,{className:"w-4 h-4 text-gray-500"}):o.jsx(f0,{className:"w-4 h-4 text-gray-500"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:y.projectCode}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${oBe[y.status]||"bg-gray-100 text-gray-700"}`,children:lBe[y.status]||y.status})]}),o.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:y.projectTitle}),o.jsx("span",{className:"text-xs text-gray-500",children:y.clientName})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.poReceivedOriginal.length>0?mb(y.poReceived,y.poReceivedOriginal):m(y.poReceived)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.invoicedOriginal.length>0?mb(y.invoiced,y.invoicedOriginal):m(y.invoiced)}),y.poReceived>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",v,"%)"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:`font-medium ${y.outstanding>0?"text-orange-600":"text-gray-900"}`,children:m(y.outstanding)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:m(y.baseCost)}),y.actualHours>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[y.actualHours.toFixed(1)," hrs"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.vendorPOsOriginal.length>0?mb(y.vendorPOsIssued,y.vendorPOsOriginal):m(y.vendorPOsIssued)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.vendorInvoicesOriginal.length>0?mb(y.vendorInvoicesReceived,y.vendorInvoicesOriginal):m(y.vendorInvoicesReceived)})})]}),g&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-0 bg-gray-50",children:o.jsx(iBe,{engineers:y.engineerBreakdown})})})]},y.projectId)})})]})}),o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:o.jsxs("span",{children:["Showing ",p.length," of ",r.length," projects"]})})})]})},uBe=new Date().getFullYear(),ABe=[0,...Array.from({length:6},(r,e)=>uBe-e)],dBe=[{value:0,label:"All Months"},{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],hBe=()=>{const r=ug(),{canAccessFinance:e,roleInfo:t}=v3(),[n,a]=B.useState(0),[s,i]=B.useState(0),{projectSummaries:l,totals:c,loading:u,error:d,refetch:f}=tBe(n,s),[p,m]=B.useState(!1);return B.useEffect(()=>{const y=()=>{document.visibilityState==="visible"&&f()},g=()=>{f()};return document.addEventListener("visibilitychange",y),window.addEventListener("focus",g),()=>{document.removeEventListener("visibilitychange",y),window.removeEventListener("focus",g)}},[f]),e?d?o.jsx("div",{className:"min-h-full bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Cs,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Data"}),o.jsx("p",{className:"text-gray-600 mb-4",children:d}),o.jsx("button",{onClick:()=>f(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Try Again"})]})}):o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Overview"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"PO received, invoiced amounts, and labor costs"})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-xl border border-gray-200",children:[o.jsx(Qi,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:s,onChange:y=>i(Number(y.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:dBe.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))}),o.jsx("select",{value:n,onChange:y=>a(Number(y.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:ABe.map(y=>o.jsx("option",{value:y,children:y===0?"All Time":y},y))})]}),o.jsxs("button",{onClick:()=>m(!p),className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-colors ${p?"bg-primary-100 text-primary-700 border border-primary-200":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,title:p?"Showing original currencies":"Showing MYR",children:[p?o.jsx(Lee,{className:"w-5 h-5"}):o.jsx(Pee,{className:"w-5 h-5"}),p?"Original":"MYR"]})]})]})}),o.jsx(aBe,{totals:c,showOriginalCurrency:p,loading:u}),o.jsx(cBe,{projects:l,showOriginalCurrency:p,loading:u,selectedYear:n,selectedMonth:s})]})}):o.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Cs,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:gA("access finance","senior-engineer")}),t&&o.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg ${t.color} mb-6`,children:[o.jsx("span",{children:t.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm font-semibold",children:t.label}),o.jsxs("p",{className:"text-xs opacity-75",children:["Level ",t.level," Access"]})]})]}),o.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Back to Dashboard"})]})})},fBe=Oc(r=>({purchaseOrders:[],loading:!1,error:null,fetchPurchaseOrders:async e=>{try{r({loading:!0,error:null});const t=await Cr.getAllPurchaseOrders(e),n=t.data||t,a=Array.isArray(n)?n:[];r({purchaseOrders:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch purchase orders";console.error("Error fetching purchase orders:",n),r({error:n,loading:!1})}},createPurchaseOrder:async e=>{try{r({loading:!0,error:null});const t=await Cr.createPurchaseOrder(e),n=t.data||t;r(a=>({purchaseOrders:[...a.purchaseOrders,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to create purchase order";throw console.error("Error creating purchase order:",n),r({error:n,loading:!1}),t}},updatePurchaseOrder:async(e,t)=>{try{r({loading:!0,error:null});const n=await Cr.updatePurchaseOrder(e,t),a=n.data||n;r(s=>({purchaseOrders:s.purchaseOrders.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update purchase order";throw console.error("Error updating purchase order:",a),r({error:a,loading:!1}),n}},deletePurchaseOrder:async e=>{try{r({loading:!0,error:null}),await Cr.deletePurchaseOrder(e),r(t=>({purchaseOrders:t.purchaseOrders.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete purchase order";throw console.error("Error deleting purchase order:",n),r({error:n,loading:!1}),t}}})),mBe=()=>{const r=qa(),e=r&&nl(r.role||"engineer","canAccessFinance"),t=r&&nl(r.role||"engineer","canUploadPO"),{purchaseOrders:n,fetchPurchaseOrders:a,createPurchaseOrder:s,updatePurchaseOrder:i,deletePurchaseOrder:l,loading:c}=fBe(),[u,d]=B.useState("all"),[f,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(null),[w,S]=B.useState({isOpen:!1});B.useEffect(()=>{a()},[]);const C=n.filter(P=>u==="all"||P.status===u),j=P=>C.filter(U=>U.status===P).reduce((U,M)=>U+(M.amount||0),0),T=P=>({received:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",invoiced:"bg-purple-100 text-purple-800",paid:"bg-green-100 text-green-800"})[P]||"bg-gray-100 text-gray-800",L=P=>({received:"Received","in-progress":"In Progress",invoiced:"Invoiced",paid:"Paid"})[P]||P,I=()=>{if(!t){Lt.error("You do not have permission to create purchase orders");return}v(null),p(!0)},D=P=>{if(!t){Lt.error("You do not have permission to edit purchase orders");return}v(P),y(!0)},k=(P,U)=>{if(!t){Lt.error("You do not have permission to delete purchase orders");return}S({isOpen:!0,poId:P,poNumber:U})},z=async()=>{if(w.poId)try{await l(w.poId),Lt.success("Purchase order deleted successfully"),S({isOpen:!1})}catch{Lt.error("Failed to delete purchase order")}};return e?o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Purchase Orders"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create, track, and manage purchase orders"})]}),t&&o.jsx(Dt,{onClick:I,icon:o.jsx(vi,{className:"w-5 h-5"}),children:"Create PO"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total POs"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-blue-800",children:"Received"}),o.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["RM ",j("received").toLocaleString()]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-yellow-800",children:"In Progress"}),o.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["RM ",j("in-progress").toLocaleString()]})]}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-purple-800",children:"Invoiced"}),o.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:["RM ",j("invoiced").toLocaleString()]})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-green-800",children:"Paid"}),o.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["RM ",j("paid").toLocaleString()]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:o.jsxs("select",{value:u,onChange:P=>d(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})}),c&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!c&&o.jsx("div",{className:"space-y-3",children:C.length===0?o.jsx(Gr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(os,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No purchase orders found"}),o.jsx("p",{className:"text-sm",children:t?"Create a new purchase order to get started":"No purchase orders match the current filters"})]})}):C.map(P=>o.jsx(Gr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(os,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"font-semibold text-gray-900",children:P.poNumber}),o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${T(P.status)}`,children:L(P.status)}),P.fileUrl&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx(os,{className:"w-3 h-3"}),"Document"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",P.clientName]}),P.projectCode?o.jsxs("p",{className:"text-sm text-gray-600",children:["Project: ",o.jsx("span",{className:"font-medium text-gray-900",children:P.projectCode}),P.project?.title&&o.jsxs("span",{className:"text-gray-500",children:[" - ",P.project.title]})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"Project: Not linked"})]}),P.description&&o.jsx("p",{className:"text-sm text-gray-700 mt-2",children:P.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Received: ",new Date(P.receivedDate).toLocaleDateString()]}),P.dueDate&&o.jsxs("span",{children:["Due: ",new Date(P.dueDate).toLocaleDateString()]})]}),P.fileUrl&&o.jsx("div",{className:"mt-3",children:o.jsxs("a",{href:P.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",children:[o.jsx(Pd,{className:"w-3 h-3"}),"View Document"]})})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RM ",(P.amount||0).toLocaleString("en-MY",{minimumFractionDigits:2})]})}),t&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>D(P),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>k(P.id,P.poNumber),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:o.jsx(Ns,{className:"w-4 h-4"})})]})]})]})},P.id))})]}),(f||m)&&o.jsx(pBe,{isOpen:f||m,po:g,onClose:()=>{p(!1),y(!1),v(null)},onSave:async P=>{try{g?(await i(g.id,P),Lt.success("Purchase order updated successfully")):(await s(P),Lt.success("Purchase order created successfully")),p(!1),y(!1),v(null)}catch{}}}),o.jsx(G0,{isOpen:w.isOpen,onClose:()=>S({isOpen:!1}),onConfirm:z,title:"Delete Purchase Order",message:`Are you sure you want to delete PO ${w.poNumber}? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ur,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You do not have permission to access the Finance section."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your manager if you need access to this section."})]})})},pBe=({isOpen:r,po:e,onClose:t,onSave:n})=>{const{projects:a,fetchProjects:s}=ws(),{companies:i,fetchCompanies:l}=Hd(),[c,u]=B.useState({poNumber:e?.poNumber||"",projectId:"",projectCode:e?.projectCode||"",clientId:"",clientName:e?.clientName||"",amount:e?.amount?.toString()||"",receivedDate:e?.receivedDate||"",dueDate:e?.dueDate||"",description:e?.description||"",status:e?.status||"received",fileUrl:e?.fileUrl||""}),[d,f]=B.useState(null),[p,m]=B.useState(!1);if(B.useEffect(()=>{r&&(l(),s())},[r,l,s]),!r)return null;const y=async g=>{g.preventDefault(),m(!0);try{let v=c.fileUrl;if(d){const S=new FormData;S.append("file",d),S.append("projectCode",c.projectCode),v=(await Cr.uploadPurchaseOrderFile(S)).fileUrl}const w={...c,fileUrl:v};await n(w),f(null)}catch(v){Lt.error(v.message||"Failed to save purchase order")}finally{m(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Purchase Order":"Create Purchase Order"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e?"Update PO details":"Add a new purchase order"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Number *"}),o.jsx("input",{type:"text",required:!0,value:c.poNumber,onChange:g=>u({...c,poNumber:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"PO-2025-001"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code *"}),o.jsxs("select",{required:!0,value:c.projectId,onChange:g=>{const v=a.find(w=>w.id===g.target.value);u({...c,projectId:g.target.value,projectCode:v?.projectCode||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.filter(g=>g.status==="pre-lim").map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),o.jsxs("select",{required:!0,value:c.clientId,onChange:g=>{const v=i.find(w=>w.id===g.target.value);u({...c,clientId:g.target.value,clientName:v?.name||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a company"}),i.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (RM) *"}),o.jsx("input",{type:"number",required:!0,step:"0.01",value:c.amount,onChange:g=>u({...c,amount:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),o.jsxs("select",{required:!0,value:c.status,onChange:g=>u({...c,status:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),o.jsx("input",{type:"date",required:!0,value:c.receivedDate,onChange:g=>u({...c,receivedDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",value:c.dueDate,onChange:g=>u({...c,dueDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:g=>u({...c,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"PO details..."})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Document"}),c.fileUrl&&o.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(os,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Current Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:c.fileUrl.split("/").pop()})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:c.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"View Document",children:o.jsx(Pd,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>u({...c,fileUrl:""}),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Remove Document",children:o.jsx(Ns,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[o.jsx("input",{type:"file",id:"po-file-upload",accept:".pdf,.png,.jpg,.jpeg,.docx,.doc",onChange:g=>{const v=g.target.files?.[0];if(v){if(v.size>10*1024*1024){Lt.error("File size must be less than 10MB");return}f(v)}},className:"hidden"}),o.jsxs("label",{htmlFor:"po-file-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(ko,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:d?d.name:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG, DOCX (max 10MB)"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:p,className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:p?"Saving...":e?"Update PO":"Create PO"})]})]})]})})},gBe=({activeTab:r,onTabChange:e,receivedPOCount:t=0,invoiceCount:n=0,issuedPOCount:a=0,receivedInvoiceCount:s=0})=>{const i=[{id:"received-pos",label:"Received POs",icon:os,count:t},{id:"invoices",label:"Invoices",icon:a7,count:n},{id:"issued-pos",label:"Issued POs",icon:o7,count:a},{id:"received-invoices",label:"Received Invoices",icon:MZ,count:s}];return o.jsx("div",{className:"flex justify-center py-6 bg-white",children:o.jsx("div",{className:"flex items-stretch gap-4",children:i.map(l=>{const c=l.icon,u=r===l.id;return o.jsxs("button",{onClick:()=>e(l.id),className:`
                relative flex items-center gap-4 px-8 py-5 rounded-2xl min-w-[200px]
                transition-all duration-200 ease-out border-2
                ${u?"bg-white border-primary-500 shadow-lg shadow-primary-100/50":"bg-gray-50 border-transparent hover:bg-white hover:border-gray-200 hover:shadow-md"}
              `,children:[o.jsx("div",{className:`
                  p-3 rounded-xl transition-colors
                  ${u?"bg-primary-100":"bg-gray-100"}
                `,children:o.jsx(c,{className:`w-6 h-6 ${u?"text-primary-600":"text-gray-500"}`})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:`font-semibold text-base ${u?"text-gray-900":"text-gray-600"}`,children:l.label}),o.jsxs("span",{className:`text-sm ${u?"text-primary-600 font-medium":"text-gray-400"}`,children:[l.count," ",l.count===1?"document":"documents"]})]})]},l.id)})})})},KB={maxFileSize:10*1024*1024,maxFiles:5,allowedTypes:["application/pdf","image/jpeg","image/jpg","image/png","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"]},$B=r=>{if(r===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,n)*100)/100+" "+t[n]},xBe=r=>r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase(),wo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Aj=[.001,0,0,.001,0,0],VB=1.35,Ol={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},dA={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ry="pdfjs_internal_editor_",Lr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},nn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},mV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Di={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},uy={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ps={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},dp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tv={ERRORS:0,WARNINGS:1,INFOS:5},rg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},gb={moveTo:0,lineTo:1,curveTo:2,closePath:3},pV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let a5=Tv.WARNINGS;function yBe(r){Number.isInteger(r)&&(a5=r)}function vBe(){return a5}function s5(r){a5>=Tv.INFOS&&console.info(`Info: ${r}`)}function Mr(r){a5>=Tv.WARNINGS&&console.warn(`Warning: ${r}`)}function la(r){throw new Error(r)}function ln(r,e){r||la(e)}function bBe(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function K3(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=BBe(r)}catch{}const n=e?URL.parse(r,e):URL.parse(r);return bBe(n)?n:null}function $3(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&K3(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function zr(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const em=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class wM extends em{constructor(e,t){super(e,"PasswordException"),this.code=t}}class qB extends em{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class P2 extends em{constructor(e){super(e,"InvalidPDFException")}}class Uy extends em{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class wBe extends em{constructor(e){super(e,"FormatError")}}class kd extends em{constructor(e){super(e,"AbortException")}}function gV(r){(typeof r!="object"||r?.length===void 0)&&la("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let a=0;a<e;a+=t){const s=Math.min(a+t,e),i=r.subarray(a,s);n.push(String.fromCharCode.apply(null,i))}return n.join("")}function kv(r){typeof r!="string"&&la("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function CBe(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function NBe(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function SBe(){try{return new Function(""),!0}catch{return!1}}class bi{static get isLittleEndian(){return zr(this,"isLittleEndian",NBe())}static get isEvalSupported(){return zr(this,"isEvalSupported",SBe())}static get isOffscreenCanvasSupported(){return zr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return zr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return zr(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return zr(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const GB=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Gt{static makeHexColor(e,t,n){return`#${GB[e]}${GB[t]}${GB[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const a=e[n],s=e[n+1];e[n]=a*t[0]+s*t[2]+t[4],e[n+1]=a*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const f=e[n+d],p=e[n+d+1];e[n+d]=f*a+p*i+c,e[n+d+1]=f*s+p*l+u}}static applyInverseTransform(e,t){const n=e[0],a=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5],d=e[0],f=e[1],p=e[2],m=e[3];let y=a*d+c,g=y,v=a*p+c,w=v,S=l*f+u,C=S,j=l*m+u,T=j;if(s!==0||i!==0){const L=s*d,I=s*p,D=i*f,k=i*m;y+=D,w+=D,v+=k,g+=k,S+=L,T+=L,j+=I,C+=I}n[0]=Math.min(n[0],y,v,g,w),n[1]=Math.min(n[1],S,j,C,T),n[2]=Math.max(n[2],y,v,g,w),n[3]=Math.max(n[3],S,j,C,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],a=e[1],s=e[2],i=e[3],l=n**2+a**2,c=n*s+a*i,u=s**2+i**2,d=(l+u)/2,f=Math.sqrt(d**2-(l*u-c**2));t[0]=Math.sqrt(d+f||1),t[1]=Math.sqrt(d-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>a)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>i?null:[n,s,a,i]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,a,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,a),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,a)}static#e(e,t,n,a,s,i,l,c,u,d){if(u<=0||u>=1)return;const f=1-u,p=u*u,m=p*u,y=f*(f*(f*e+3*u*t)+3*p*n)+m*a,g=f*(f*(f*s+3*u*i)+3*p*l)+m*c;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],g)}static#t(e,t,n,a,s,i,l,c,u,d,f,p){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,t,n,a,s,i,l,c,-f/d,p);return}const m=d**2-4*f*u;if(m<0)return;const y=Math.sqrt(m),g=2*u;this.#e(e,t,n,a,s,i,l,c,(-d+y)/g,p),this.#e(e,t,n,a,s,i,l,c,(-d-y)/g,p)}static bezierBoundingBox(e,t,n,a,s,i,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),this.#t(e,n,s,l,t,a,i,c,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),u),this.#t(e,n,s,l,t,a,i,c,3*(-t+3*(a-i)+c),6*(t-2*a+i),3*(a-t),u)}}function BBe(r){return decodeURIComponent(escape(r))}let WB=null,CM=null;function xV(r){return WB||(WB=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,CM=new Map([["","t"]])),r.replaceAll(WB,(e,t,n)=>t?t.normalize("NFKC"):CM.get(n))}function V3(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),gV(r)}const q3="pdfjs_internal_id_";function EBe(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,a,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(a))return!1;const i=s.length;let l=!0;switch(a.name){case"XYZ":if(i<2||i>3)return!1;break;case"Fit":case"FitB":return i===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(i>1)return!1;break;case"FitR":if(i!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function so(r,e,t){return Math.min(Math.max(r,e),t)}function yV(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(gV(r))}function jBe(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):kv(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class Qy{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function a(s){if(!s)return;let i=null;const l=s.name;if(l==="#text")i=s.value;else if(Qy.shouldBuildText(l))s?.attributes?.textContent?i=s.attributes.textContent:s.value&&(i=s.value);else return;if(i!==null&&t.push({str:i}),!!s.children)for(const c of s.children)a(c)}return a(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class G3{static setupStorage(e,t,n,a,s){const i=a.getValue(t,{value:null});switch(n.name){case"textarea":if(i.value!==null&&(e.textContent=i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(i.value===n.attributes.xfaOn?e.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{a.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(i.value!==null&&e.setAttribute("value",i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})})}break;case"select":if(i.value!==null){e.setAttribute("value",i.value);for(const l of n.children)l.attributes.value===i.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;a.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:a,linkService:s}){const{attributes:i}=t,l=e instanceof HTMLAnchorElement;i.type==="radio"&&(i.name=`${i.name}-${a}`);for(const[c,u]of Object.entries(i))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&s.addLinkAttributes(e,i.href,i.newWindow),n&&i.dataId&&this.setupStorage(e,i.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,a=e.xfaHtml,s=e.intent||"display",i=document.createElement(a.name);a.attributes&&this.setAttributes({html:i,element:a,intent:s,linkService:n});const l=s!=="richText",c=e.div;if(c.append(i),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=f}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(a.children.length===0){if(a.value){const f=document.createTextNode(a.value);i.append(f),l&&Qy.shouldBuildText(a.name)&&u.push(f)}return{textDivs:u}}const d=[[a,-1,i]];for(;d.length>0;){const[f,p,m]=d.at(-1);if(p+1===f.children.length){d.pop();continue}const y=f.children[++d.at(-1)[1]];if(y===null)continue;const{name:g}=y;if(g==="#text"){const w=document.createTextNode(y.value);u.push(w),m.append(w);continue}const v=y?.attributes?.xmlns?document.createElementNS(y.attributes.xmlns,g):document.createElement(g);if(m.append(v),y.attributes&&this.setAttributes({html:v,element:y,storage:t,intent:s,linkService:n}),y.children?.length>0)d.push([y,-1,v]);else if(y.value){const w=document.createTextNode(y.value);l&&Qy.shouldBuildText(g)&&u.push(w),v.append(w)}}for(const f of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const sd="http://www.w3.org/2000/svg";class M0{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function _g(r,e="text"){if(Vx(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class Fv{constructor({viewBox:e,userUnit:t,scale:n,rotation:a,offsetX:s=0,offsetY:i=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=a,this.offsetX=s,this.offsetY=i,n*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,f,p,m;switch(a%=360,a<0&&(a+=360),a){case 180:d=-1,f=0,p=0,m=1;break;case 90:d=0,f=1,p=1,m=0;break;case 270:d=0,f=-1,p=-1,m=0;break;case 0:d=1,f=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(p=-p,m=-m);let y,g,v,w;d===0?(y=Math.abs(u-e[1])*n+s,g=Math.abs(c-e[0])*n+i,v=(e[3]-e[1])*n,w=(e[2]-e[0])*n):(y=Math.abs(c-e[0])*n+s,g=Math.abs(u-e[1])*n+i,v=(e[2]-e[0])*n,w=(e[3]-e[1])*n),this.transform=[d*n,f*n,p*n,m*n,y-d*n*c-p*n*u,g-f*n*c-m*n*u],this.width=v,this.height=w}get rawDims(){const e=this.viewBox;return zr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:s=!1}={}){return new Fv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Gt.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Gt.applyTransform(t,this.transform);const n=[e[2],e[3]];return Gt.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Gt.applyInverseTransform(n,this.transform),n}}class i5 extends em{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Ov(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function o5(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function vV(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function bV(r,e="document.pdf"){if(typeof r!="string")return e;if(Ov(r))return Mr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const a=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,i=n.pathname.split("/").at(-1);if(s.test(i))return a(i);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const u of l)if(s.test(u))return a(u);const c=Array.from(n.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return a(u)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return a(c[0])}return e}class NM{started=Object.create(null);times=[];time(e){e in this.started&&Mr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Mr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:a,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-a}ms
`);return e.join("")}}function Vx(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Gl(r){r.preventDefault()}function Ka(r){r.preventDefault(),r.stopPropagation()}function _Be(r){console.log("Deprecated API usage: "+r)}class I2{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(i+=d,l+=f):u==="+"&&(i-=d,l-=f),new Date(Date.UTC(n,a,s,i,l,c))}}function wV(r,{scale:e=1,rotation:t=0}){const{width:n,height:a}=r.attributes.style,s=[0,0,parseInt(n),parseInt(a)];return new Fv({viewBox:s,userUnit:1,scale:e,rotation:t})}function Tg(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Mr(`Not a valid color format: "${r}"`),[0,0,0])}function TBe(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Tg(n))}e.remove()}function Ha(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform();return[e,t,n,a,s,i]}function tA(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform().invertSelf();return[e,t,n,a,s,i]}function nf(r,e,t=!1,n=!0){if(e instanceof Fv){const{pageWidth:a,pageHeight:s}=e.rawDims,{style:i}=r,l=bi.isCSSRoundSupported,c=`var(--total-scale-factor) * ${a}px`,u=`var(--total-scale-factor) * ${s}px`,d=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,f=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(i.width=d,i.height=f):(i.width=f,i.height=d)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Cu{constructor(){const{pixelRatio:e}=Cu;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,a,s=-1){let i=1/0,l=1/0,c=1/0;n=Cu.capPixels(n,s),n>0&&(i=Math.sqrt(n/(e*t))),a!==-1&&(l=a/e,c=a/t);const u=Math.min(i,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const L2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class kBe{static get isDarkMode(){return zr(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class CV{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),zr(this,"commentForegroundColor",Tg(n))}}function NV(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return r=Math.round(r*n+a),e=Math.round(e*n+a),t=Math.round(t*n+a),[r,e,t]}function SM(r,e){const t=r[0]/255,n=r[1]/255,a=r[2]/255,s=Math.max(t,n,a),i=Math.min(t,n,a),l=(s+i)/2;if(s===i)e[0]=e[1]=0;else{const c=s-i;switch(e[1]=l<.5?c/(s+i):c/(2-s-i),s){case t:e[0]=((n-a)/c+(n<a?6:0))*60;break;case n:e[0]=((a-t)/c+2)*60;break;case a:e[0]=((t-n)/c+4)*60;break}}e[2]=l}function dj(r,e){const t=r[0],n=r[1],a=r[2],s=(1-Math.abs(2*a-1))*n,i=s*(1-Math.abs(t/60%2-1)),l=a-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=i+l,e[2]=l;break;case 1:e[0]=i+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=i+l;break;case 3:e[0]=l,e[1]=i+l,e[2]=s+l;break;case 4:e[0]=i+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=i+l;break}}function BM(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function EM(r,e,t){dj(r,t),t.map(BM);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];dj(e,t),t.map(BM);const a=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const jM=new Map;function SV(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=jM.get(t);if(n)return n;const a=new Float32Array(9),s=a.subarray(0,3),i=a.subarray(3,6);SM(r,i);const l=a.subarray(6,9);SM(e,l);const c=l[2]<.5,u=c?12:4.5;if(i[2]=c?Math.sqrt(i[2]):1-Math.sqrt(1-i[2]),EM(i,l,s)<u){let d,f;c?(d=i[2],f=1):(d=0,f=i[2]);const p=.005;for(;f-d>p;){const m=i[2]=(d+f)/2;c===EM(i,l,s)<u?d=m:f=m}i[2]=c?f:d}return dj(i,s),n=Gt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),jM.set(t,n),n}function W3({html:r,dir:e,className:t},n){const a=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const i=r.split(/(?:\r\n?|\n)/);for(let l=0,c=i.length;l<c;++l){const u=i[l];s.append(document.createTextNode(u)),l<c-1&&s.append(document.createElement("br"))}a.append(s)}else G3.render({xfaHtml:r,div:a,intent:"richText"});a.firstChild.classList.add("richText",t),n.append(a)}class Ay{#e=null;#t=null;#n;#r=null;#i=null;#a=null;#s=null;#o=null;static#c=null;constructor(e){this.#n=e,Ay.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Gl,{signal:t}),e.addEventListener("pointerdown",Ay.#l,{signal:t}));const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const a=this.#n.toolbarPosition;if(a){const{style:s}=e,i=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,Ka(e)}#A(e){this.#n._focusEventsAllowed=!0,Ka(e)}#h(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#A.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gl,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Ay.#c[e]),this.#h(n)&&n.addEventListener("click",a=>{t.delete()},{signal:t._signal}),this.#r.append(n)}get#p(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#r.append(t,this.#p),this.#i=e}addComment(e,t=null){if(this.#a)return;const n=e.renderForToolbar();if(!n)return;this.#h(n);const a=this.#s=this.#p;t?(this.#r.insertBefore(n,t),this.#r.insertBefore(a,t)):this.#r.append(n,a),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#r.append(t,this.#p)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#h(t),this.#r.append(t,this.#p)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#s?.remove(),this.#s=null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const a=this.#r.querySelector(n);a&&e==="comment"&&this.addComment(t,a)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class FBe{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Gl,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#n.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#i(e,t){let n=0,a=0;for(const s of e){const i=s.y+s.height;if(i<n)continue;const l=s.x+(t?s.width:0);if(i>n){a=l,n=i;continue}t?l>a&&(a=l):l<a&&(a=l)}return[t?1-a:a,n]}show(e,t,n){const[a,s]=this.#i(t,n),{style:i}=this.#t||=this.#r();e.append(this.#t),i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,t,n,a){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const i=document.createElement("span");s.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id",n);const l=this.#n._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Gl,{signal:l}),s.addEventListener("click",a,{signal:l})),this.#e.append(s)}}function BV(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}class OBe{#e=0;get id(){return`${Ry}${this.#e++}`}}class Y3{#e=V3();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const s=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return zr(this,"_isSVGFittingCanvas",s)}async#r(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof t=="string"?(n.url=t,a=await _g(t,"blob")):t instanceof File?a=n.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const s=Y3._isSVGFittingCanvas,i=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,u()},i.onload=async()=>{const f=n.svgUrl=i.result;l.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},l.onerror=i.onerror=d});i.readAsDataURL(a),await c}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){Mr(a),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:a,type:s}=e;return this.#r(`${t}_${n}_${a}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const n=await t;return this.#r(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class DBe{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:a,type:s=NaN,overwriteIfSameType:i=!1,keepUndo:l=!1}){if(a&&e(),this.#t)return;const c={cmd:e,undo:t,post:n,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(c);return}if(i&&this.#e[this.#r].type===s){l&&(c.undo=this.#e[this.#r].undo),this.#e[this.#r]=c;return}const u=this.#r+1;u===this.#n?this.#e.splice(0,1):(this.#r=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(c)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Dv{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bi.platform;for(const[n,a,s={}]of e)for(const i of n){const l=i.startsWith("mac+");t&&l?(this.callbacks.set(i.slice(4),{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1))):!t&&!l&&(this.callbacks.set(i,{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:a,options:{bubbles:s=!1,args:i=[],checker:l=null}}=n;l&&!l(e,t)||(a.bind(e,...i,t)(),s||Ka(t))}}class X3{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return TBe(e),zr(this,"_colors",e)}convert(e){const t=Tg(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,a]of this._colors)if(a.every((s,i)=>s===t[i]))return X3._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Gt.makeHexColor(...t):e}}class Fd{#e=new AbortController;#t=null;#n=null;#r=new Map;#i=new Map;#a=null;#s=null;#o=null;#c=new DBe;#l=null;#d=null;#A=null;#h=0;#p=new Set;#f=null;#u=null;#m=new Set;_editorUndoBar=null;#g=!1;#y=!1;#x=!1;#S=null;#C=null;#v=null;#E=null;#w=!1;#N=null;#T=new OBe;#j=!1;#_=!1;#L=!1;#F=null;#D=null;#M=null;#P=null;#K=null;#B=Lr.NONE;#b=new Set;#O=null;#R=null;#Q=null;#q=null;#V=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#I=null;#$=null;#J=null;#Z=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Fd.prototype,t=i=>i.#$.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&i.hasSomethingToControl(),n=(i,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},a=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return zr(this,"_keyboardManager",new Dv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#$.contains(l)&&!i.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#$.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,a,s,i,l,c,u,d,f,p,m,y,g,v){const w=this._signal=this.#e.signal;this.#$=e,this.#J=t,this.#Z=n,this.#a=a,this.#l=s,this.#R=i,this.#V=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:w}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),l._on("setpreference",this.onSetPreference.bind(this),{signal:w}),l._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#_=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#_=!1},{capture:!0,signal:w}),this.#le(),this.#de(),this.#te(),this.#s=c.annotationStorage,this.#S=c.filterFactory,this.#Q=u,this.#E=d||null,this.#g=f,this.#y=p,this.#x=m,this.#K=y||null,this.viewParameters={realScale:M0.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=v!==!1,s?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#r.clear(),this.#m.clear(),this.#P?.clear(),this.#t=null,this.#b.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#R?.destroy(),this.#N?.hide(),this.#N=null,this.#M?.destroy(),this.#M=null,this.#n=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#K}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#x}get hcmFilter(){return zr(this,"hcmFilter",this.#Q?this.#S.addHCMFilter(this.#Q.foreground,this.#Q.background):"none")}get direction(){return zr(this,"direction",getComputedStyle(this.#$).direction)}get _highlightColors(){return zr(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return zr(this,"highlightColors",null);const t=new Map,n=!!this.#Q;for(const[a,s]of e){const i=a.endsWith("_HCM");if(n&&i){t.set(a.replace("_HCM",""),s);continue}!n&&!i&&t.set(a,s)}return zr(this,"highlightColors",t)}get highlightColorNames(){return zr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#A=e}setMainHighlightColorPicker(e){this.#M=e}editAltText(e,t=!1){this.#a?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,n,a){this.#l?.showDialog(this,e,t,n,a)}selectComment(e,t){this.#i.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#l?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),a=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",a),t())};this._eventBus.on("editorsrendered",a),await n}getSignature(e){this.#R?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#R}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#x=t)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#$.focus()}findParent(e,t){for(const n of this.#i.values()){const{x:a,y:s,width:i,height:l}=n.div.getBoundingClientRect();if(e>=a&&e<=a+i&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*M0.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#A?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#X({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#i.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l}=n,c=n.toString(),d=this.#X(n).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;n.empty();const p=this.#ee(d),m=this.#B===Lr.NONE,y=()=>{const g=p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l,text:c});m&&this.showAllEditors("highlight",!0,!0),t&&g?.editComment()};if(m){this.switchToMode(Lr.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#X(e).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(this.#N||=new FBe(this),this.#N.show(n,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#s)return null;const t=`${Ry}${e}`,n=this.#s.getRawValue(t);return n&&this.#s.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#Z;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#O&&(this.#N?.hide(),this.#O=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#O)return;const a=this.#X(e).closest(".textLayer");if(!a){this.#O&&(this.#N?.hide(),this.#O=null,this.#k({hasSelectedText:!1}));return}if(this.#N?.hide(),this.#O=t,this.#k({hasSelectedText:!0}),!(this.#B!==Lr.HIGHLIGHT&&this.#B!==Lr.NONE)&&(this.#B===Lr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#B===Lr.HIGHLIGHT?this.#ee(a):null;if(s?.toggleDrawing(),this.#_){const i=new AbortController,l=this.combinedSignal(i),c=u=>{u.type==="pointerup"&&u.button!==0||(i.abort(),s?.toggleDrawing(!0),u.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else s?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#B===Lr.HIGHLIGHT?this.highlightSelection(e):this.#g&&this.#ie()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#v)return;this.#v=new AbortController;const e=this.combinedSignal(this.#v);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#v?.abort(),this.#v=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#b)if(t.div.contains(e)){this.#D=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,t]=this.#D;this.#D=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#F)return;this.#F=new AbortController;const e=this.combinedSignal(this.#F);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#Ae(){this.#F?.abort(),this.#F=null}#re(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ne(){this.#d?.abort(),this.#d=null}#de(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#re()}removeEditListeners(){this.#Ae(),this.#ne()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#b){const a=n.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(s.type)){i.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Mr(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const s=[];for(const c of n){const u=await a.deserialize(c);if(!u)return;s.push(u)}const i=()=>{for(const c of s)this.#ae(c);this.#se(s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:i,undo:l,mustExec:!0})}catch(s){Mr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#B!==Lr.NONE&&!this.isEditorHandlingKeyboard&&Fd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(e){Object.entries(e).some(([n,a])=>this.#G[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#B===Lr.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#z([[nn.HIGHLIGHT_FREE,!0]]))}#z(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#re(),this.#k({isEditing:this.#B!==Lr.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#ne(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#z(t.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#j?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,a=!1,s=!1){if(this.#B!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#A?.commitOrRemove(),this.#B===Lr.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#B=e,e===Lr.NONE){this.setEditingState(!1),this.#fe();for(const i of this.#r.values())i.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const i of this.#r.values())i.addStandaloneCommentButton();e===Lr.SIGNATURE&&await this.#R?.loadSignatures(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const i of this.#i.values())i.updateMode(e);if(e===Lr.POPUP){this.#n||=await this.#V.getAnnotationsByType(new Set(this.#u.map(c=>c._editorType)));const i=new Set,l=[];for(const c of this.#r.values()){const{annotationElementId:u,hasComment:d,deleted:f}=c;u&&i.add(u),d&&!f&&l.push(c.getData())}for(const c of this.#n){const{id:u,popupRef:d,contentsObj:f}=c;d&&f?.str&&!i.has(u)&&!this.#p.has(u)&&l.push(c)}this.#l?.showSidebar(l)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const i of this.#r.values())i.uid===t?(this.setSelected(i),s?i.editComment():a?i.enterInEditMode():i.focus()):i.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#B&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case nn.CREATE:this.currentLayer.addNewEditor(t);return;case nn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#b)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#r.values())s.editorType===e&&s.show(t);(this.#q?.get(nn.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#z([[nn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#j){this.#j=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#r.values())t.enable()}}#fe(){if(this.unselectAll(),this.#j){this.#j=!1;for(const e of this.#i.values())e.disable();for(const e of this.#r.values())e.disable()}}*getEditors(e){for(const t of this.#r.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#r.get(e)}addEditor(e){this.#r.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#r.delete(e.id),e.annotationElementId&&this.#P?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#p.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#p.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#p.has(e)}removeDeletedAnnotationElement(e){this.#p.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ae(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#z(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#b);return e}updateUI(e){this.#me===e&&this.#z(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#z(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#b.has(e)){this.#b.delete(e),e.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#b.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#A?.commitOrRemove();for(const t of this.#b)t!==e&&t.unselect();this.#b.clear(),this.#b.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(e){return this.#b.has(e)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(e){e.unselect(),this.#b.delete(e),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#k({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(e){this.#c.add(e),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(e){this.#c.cleanType(e)}#Y(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const e of this.#r.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#b],n=()=>{this._editorUndoBar?.show(a,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},a=()=>{for(const s of t)this.#ae(s)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#se(e){for(const t of this.#b)t.unselect();this.#b.clear();for(const t of e)t.isEmpty()||(this.#b.add(t),t.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#b)e.commit();this.#se(this.#r.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#B!==Lr.NONE))&&!this.#A?.commitOrRemove()&&this.hasSelection){for(const e of this.#b)e.unselect();this.#b.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[a,s]=this.#H,i=[...this.#b],l=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(a,s),c.translationDone())},undo:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(-a,-s),c.translationDone())},mustExec:!1})},l);for(const c of i)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#b)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:a,y:s,pageIndex:i},l]of e)l.newX=a,l.newY=s,l.newPageIndex=i,t||=a!==l.savedX||s!==l.savedY||i!==l.savedPageIndex;if(!t)return!1;const n=(a,s,i,l)=>{if(this.#r.has(a.id)){const c=this.#i.get(l);c?a._setParentAndPosition(c,s,i):(a.pageIndex=l,a.x=s,a.y=i)}};return this.addCommands({cmd:()=>{for(const[a,{newX:s,newY:i,newPageIndex:l}]of e)n(a,s,i,l)},undo:()=>{for(const[a,{savedX:s,savedY:i,savedPageIndex:l}]of e)n(a,s,i,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#B}isEditingMode(){return this.#B!==Lr.NONE}get imageManager(){return zr(this,"imageManager",new Y3)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:a,width:s,height:i}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,f,p)=>({x:(d-a)/i,y:1-(u+f-n)/s,width:p/i,height:f/s});break;case"180":l=(u,d,f,p)=>({x:1-(u+f-n)/s,y:1-(d+p-a)/i,width:f/s,height:p/i});break;case"270":l=(u,d,f,p)=>({x:1-(d+p-a)/i,y:(u-n)/s,width:p/i,height:f/s});break;default:l=(u,d,f,p)=>({x:(u-n)/s,y:(d-a)/i,width:f/s,height:p/i});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const f=t.getRangeAt(u);if(!f.collapsed)for(const{x:p,y:m,width:y,height:g}of f.getClientRects())y===0||g===0||c.push(l(p,m,y,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#s.getRawValue(t);n&&(this.#B===Lr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const a=this.#P?.get(e);a&&(a.setCanvas(t,n),this.#P.delete(e))}addMissingCanvas(e,t){(this.#P||=new Map).set(e,t)}}class cA{#e=null;#t=!1;#n=null;#r=null;#i=null;#a=null;#s=!1;#o=null;#c=null;#l=null;#d=null;#A=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#A=e._uiManager.useNewAltTextFlow,cA.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){cA._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#A?(e.classList.add("new"),e.setAttribute("data-l10n-id",cA.#h.missing),t.setAttribute("data-l10n-id",cA.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;e.addEventListener("contextmenu",Gl,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#A&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#s=!0,a(s))},{signal:n}),await this.#f(),e}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#A?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#A?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#d=await cA._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#f())}toggleAltTextBadge(e=!1){if(!this.#A||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:a,cancel:s=!1}){n&&(this.#l=n,this.#d=a),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#f())}toggle(e=!1){this.#n&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#i=null,this.#o?.remove(),this.#o=null}async#f(){const e=this.#n;if(!e)return;if(this.#A){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",cA.#h[this.#p]),this.#r?.setAttribute("data-l10n-id",cA.#h[`${this.#p}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const a=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class xb{#e=null;#t=null;#n=!1;#r=null;#i=null;#a=null;#s=null;#o=null;#c=!1;#l=null;constructor(e){this.#r=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#d(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#r.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#r._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const a=this.#r.commentButtonColor;a&&(n.backgroundColor=a)}return this.#d(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#r.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#r._uiManager.updatePopupColor(this.#r)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#r.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#r.parent.boundingClientRect;return[(e-a)/i,(t+n-s)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#d(e,t){if(!this.#r._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#r._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#r._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Gl,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#r._focusEventsAllowed=!1,Ka(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#r._focusEventsAllowed=!0,Ka(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),e===this.#t?this.edit():this.#r.toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#n=!0,a(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#r.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#r.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,a;if(t)[n,a]=t;else{[n,a]=this.#r.commentButtonPosition;const{width:d,height:f,x:p,y:m}=this.#r;n=p+n*d,a=m+a*f}const s=this.#r.parent.boundingClientRect,{x:i,y:l,width:c,height:u}=s;this.#r._uiManager.editComment(this.#r,i+n*c,l+a*u,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#i}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#s&&(this.#a=null),e===null){this.#s="",this.#c=!0;return}this.#s=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#i=e,this.data=e,this.#o=null,this.#a=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#s="",this.#a=null,this.#o=null,this.#r=null,this.#n=!1,this.#c=!1}}class Pv{#e;#t=!1;#n=null;#r;#i;#a;#s;#o=null;#c;#l=null;#d;#A=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:i=null,signal:l}){this.#e=e,this.#n=n,this.#r=t,this.#i=a,this.#a=s,this.#s=i,this.#d=new AbortController,this.#c=AbortSignal.any([l,this.#d.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Cu.pixelRatio}#h(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,s=AbortSignal.any([this.#c,a.signal]),i=this.#e,l={capture:!0,signal:s,passive:!1},c=u=>{u.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};i.addEventListener("pointerdown",u=>{u.pointerType==="touch"&&(Ka(u),c(u))},l),i.addEventListener("pointerup",c,l),i.addEventListener("pointercancel",c,l);return}if(!this.#A){this.#A=new AbortController;const a=AbortSignal.any([this.#c,this.#A.signal]),s=this.#e,i={signal:a,capture:!1,passive:!1};s.addEventListener("touchmove",this.#p.bind(this),i);const l=this.#f.bind(this);s.addEventListener("touchend",l,i),s.addEventListener("touchcancel",l,i),i.capture=!0,s.addEventListener("pointerdown",Ka,i),s.addEventListener("pointermove",Ka,i),s.addEventListener("pointercancel",Ka,i),s.addEventListener("pointerup",Ka,i),this.#i?.()}if(Ka(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(e){if(!this.#l||e.touches.length!==2)return;Ka(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:a,screenY:s}=t,{screenX:i,screenY:l}=n,c=this.#l,{touch0X:u,touch0Y:d,touch1X:f,touch1Y:p}=c,m=f-u,y=p-d,g=i-a,v=l-s,w=Math.hypot(g,v)||1,S=Math.hypot(m,y)||1;if(!this.#t&&Math.abs(S-w)<=Pv.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=a,c.touch0Y=s,c.touch1X=i,c.touch1Y=l,!this.#t){this.#t=!0;return}const C=[(a+i)/2,(s+l)/2];this.#a?.(C,S,w)}#f(e){e.touches.length>=2||(this.#A&&(this.#A.abort(),this.#A=null,this.#s?.()),this.#l&&(Ka(e),this.#l=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class wr{#e=null;#t=null;#n=null;#r=null;#i=null;#a=!1;#s=null;#o="";#c=null;#l=null;#d=null;#A=null;#h=null;#p="";#f=!1;#u=null;#m=!1;#g=!1;#y=!1;#x=null;#S=0;#C=0;#v=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#N=wr._zIndex++;static _borderLineWidth=-1;static _colorManager=new X3;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=wr.prototype._resizeWithKeyboard,t=Fd.TRANSLATE_SMALL,n=Fd.TRANSLATE_BIG;return zr(this,"_resizerKeyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],wr.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[s,i];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return zr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new PBe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(wr._l10n??=e,wr._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),wr._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);wr._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){la("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#N}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#A?.remove(),this.#A=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,a){const[s,i]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(e+n)/s,this.y=(t+a)/i,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,a]=this.parentDimensions;this.setAt(e*n,t*a,this.width*n,this.height*a),this._onTranslated()}#T([e,t],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#T(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[a,s]}=this;if(this.x+=e/a,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:l}=this;const[c,u]=this.getBaseTranslation();i+=c,l+=u;const{style:d}=n;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(i,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=wr,a=n/e,s=n/t;switch(this.rotation){case 90:return[-a,s];case 180:return[a,s];case 270:return[a,-s];default:return[-a,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,a]}=this;let{x:s,y:i,width:l,height:c}=this;if(l*=n,c*=a,s*=n,i*=a,this._mustFixPosition)switch(e){case 0:s=so(s,0,n-l),i=so(i,0,a-c);break;case 90:s=so(s,0,n-c),i=so(i,l,a);break;case 180:s=so(s,l,n),i=so(i,c,a);break;case 270:s=so(s,c,n),i=so(i,0,a-l);break}this.x=s/=n,this.y=i/=a;const[u,d]=this.getBaseTranslation();s+=u,i+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#j(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return wr.#j(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return wr.#j(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",this.#F.bind(this,n),{signal:t}),a.addEventListener("contextmenu",Gl,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#c)}#F(e,t){t.preventDefault();const{isMac:n}=bi.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,i=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,e),{passive:!0,capture:!0,signal:i}),window.addEventListener("touchmove",Ka,{passive:!1,signal:i}),window.addEventListener("contextmenu",Gl,{signal:i}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#M()};window.addEventListener("pointerup",u,{signal:i}),window.addEventListener("blur",u,{signal:i})}#D(e,t,n,a){this.width=n,this.height=a,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#M(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:a}=this.#d;this.#d=null;const s=this.x,i=this.y,l=this.width,c=this.height;s===e&&i===t&&l===n&&c===a||this.addCommands({cmd:this.#D.bind(this,s,i,l,c),undo:this.#D.bind(this,e,t,n,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#P(e,t){const[n,a]=this.parentDimensions,s=this.x,i=this.y,l=this.width,c=this.height,u=wr.MIN_SIZE/n,d=wr.MIN_SIZE/a,f=this.#_(this.rotation),p=(W,ee)=>[f[0]*W+f[2]*ee,f[1]*W+f[3]*ee],m=this.#_(360-this.rotation),y=(W,ee)=>[m[0]*W+m[2]*ee,m[1]*W+m[3]*ee];let g,v,w=!1,S=!1;switch(e){case"topLeft":w=!0,g=(W,ee)=>[0,0],v=(W,ee)=>[W,ee];break;case"topMiddle":g=(W,ee)=>[W/2,0],v=(W,ee)=>[W/2,ee];break;case"topRight":w=!0,g=(W,ee)=>[W,0],v=(W,ee)=>[0,ee];break;case"middleRight":S=!0,g=(W,ee)=>[W,ee/2],v=(W,ee)=>[0,ee/2];break;case"bottomRight":w=!0,g=(W,ee)=>[W,ee],v=(W,ee)=>[0,0];break;case"bottomMiddle":g=(W,ee)=>[W/2,ee],v=(W,ee)=>[W/2,0];break;case"bottomLeft":w=!0,g=(W,ee)=>[0,ee],v=(W,ee)=>[W,0];break;case"middleLeft":S=!0,g=(W,ee)=>[0,ee/2],v=(W,ee)=>[W,ee/2];break}const C=g(l,c),j=v(l,c);let T=p(...j);const L=wr._round(s+T[0]),I=wr._round(i+T[1]);let D=1,k=1,z,P;if(t.fromKeyboard)({deltaX:z,deltaY:P}=t);else{const{screenX:W,screenY:ee}=t,[re,pe]=this.#l;[z,P]=this.screenToPageTranslation(W-re,ee-pe),this.#l[0]=W,this.#l[1]=ee}if([z,P]=y(z/n,P/a),w){const W=Math.hypot(l,c);D=k=Math.max(Math.min(Math.hypot(j[0]-C[0]-z,j[1]-C[1]-P)/W,1/l,1/c),u/l,d/c)}else S?D=so(Math.abs(j[0]-C[0]-z),u,1)/l:k=so(Math.abs(j[1]-C[1]-P),d,1)/c;const U=wr._round(l*D),M=wr._round(c*k);T=p(...v(U,M));const q=L-T[0],ae=I-T[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=U,this.height=M,this.x=q,this.y=ae,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#g)return this._editToolbar;this._editToolbar=new Ay(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(cA.initialize(wr._l10n),this.#n=new cA(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#r?.focusButton()}addCommentButton(){return this.#r||=new xb(this)}addStandaloneCommentButton(){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#r.renderForStandalone(),this.div.append(this.#i))}removeStandaloneCommentButton(){this.#r.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:a}}=this.#r;return{text:t,richText:e,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#r||=new xb(this),this.#r.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#r||=new xb(this),this.#r.setInitialText(e,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#r?.hasBeenEdited()}get hasDeletedComment(){return this.#r?.isDeleted()}get hasComment(){return!!this.#r&&!this.#r.isEmpty()&&!this.#r.isDeleted()}async editComment(e){this.#r||=new xb(this),this.#r.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#r.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[s]=this.pageDimensions,[i]=this.pageTranslation,l=i+s+1,c=a-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#r.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#Q();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[a,s]=this.getInitialTranslation();return this.translate(a,s),BV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Pv({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#K.bind(this),onPinching:this.#B.bind(this),onPinchEnd:this.#b.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#K(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#B(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const i=this.#_(this.rotation),l=(L,I)=>[i[0]*L+i[2]*I,i[1]*L+i[3]*I],[c,u]=this.parentDimensions,d=this.x,f=this.y,p=this.width,m=this.height,y=wr.MIN_SIZE/c,g=wr.MIN_SIZE/u;s=Math.max(Math.min(s,1/p,1/m),y/p,g/m);const v=wr._round(p*s),w=wr._round(m*s);if(v===p&&w===m)return;this.#u||=[d,f,p,m];const S=l(p/2,m/2),C=wr._round(d+S[0]),j=wr._round(f+S[1]),T=l(v/2,w/2);this.x=C-T[0],this.y=j-T[1],this.width=v,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#M()}pointerdown(e){const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#R(e);return}this.#O(e)}#O(e){const{isMac:t}=bi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#R(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a),i={capture:!0,passive:!1,signal:s},l=u=>{a.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#O(u),n&&this._onStopDragging()};t&&(this.#S=e.clientX,this.#C=e.clientY,this.#s=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",u=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:f,pointerId:p}=u;if(p!==this.#s){Ka(u);return}const[m,y]=this.screenToPageTranslation(d-this.#S,f-this.#C);this.#S=d,this.#C=f,this._uiManager.dragSelectedEditors(m,y)},i),window.addEventListener("touchmove",Ka,i),window.addEventListener("pointerdown",u=>{u.pointerType===this.#o&&(this.#E||u.isPrimary)&&l(u),Ka(u)},i));const c=u=>{if(!this.#s||this.#s===u.pointerId){l(u);return}Ka(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const a=this.parentScale,[s,i]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/a,d=t/a,f=this.x*s,p=this.y*i,m=this.width*s,y=this.height*i;switch(n){case 0:return[f+u+l,i-p-d-y+c,f+u+m+l,i-p-d+c];case 90:return[f+d+l,i-p+u+c,f+d+y+l,i-p+u+m+c];case 180:return[f-u-m+l,i-p+d+c,f-u+l,i-p+d+y+c];case 270:return[f-d-y+l,i-p-u-m+c,f-d+l,i-p-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,a,s,i]=e,l=s-n,c=i-a;switch(this.rotation){case 0:return[n,t-i,l,c];case 90:return[n,t-a,c,l];case 180:return[s,t-a,l,c];case 270:return[s,t-i,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&wr._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#r?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:a,deleted:s,richText:i},uid:l,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:i,contentsObj:{str:e},creationDate:u,modificationDate:n||d,popupRef:!s,color:t,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:s,innerWidth:i}=window;return t<i&&a>0&&e<s&&n>0}#Q(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#Q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[s,i]=a.pageDimensions,[l,c,u,d]=a.getRectInCurrentCoords(e.rect,i);return a.x=l/s,a.y=c/i,a.width=u/s,a.height=d/i,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#x&&(clearTimeout(this.#x),this.#x=null),this.#I(),this.removeEditToolbar(),this.#v){for(const e of this.#v.values())clearTimeout(e);this.#v=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,a,s,i]=this.getPDFRect();return[wr._round(n+(s-n)*e),wr._round(a+(i-a)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#r.commentPopupPositionInLayer}set commentPopupPosition(e){this.#r.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#r.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#r.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const i=this.#q.bind(this),l=this.#V.bind(this),c=this._uiManager._signal;for(const u of this.#t){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",i,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",this.#G.bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",wr._l10nResizer[d])}}const n=this.#t[0];let a=0;for(const i of t){if(i===n)break;a++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==a){if(s<a)for(let l=0;l<a-s;l++)this.#c.append(this.#c.firstChild);else if(s>a)for(let l=0;l<s-a;l++)this.#c.firstChild.before(this.#c.lastChild);let i=0;for(const l of t){const u=this.#t[i++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",wr._l10nResizer[u])}}this.#H(0),this.#y=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#q(e){wr._resizerKeyboardManager.exec(this,e)}#V(e){this.#y&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#G(e){this.#p=this.#y?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#P(this.#p,{deltaX:e,deltaY:t,fromKeyboard:!0})}#I(){this.#y=!1,this.#H(-1),this.#M()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#v||=new Map;const{action:n}=e;let a=this.#v.get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#v.delete(n),this.#v.size===0&&(this.#v=null)},wr._telemetryTimeout),this.#v.set(n,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#A&&!this.deleted){this.#A=e.addFakeAnnotation(this);return}if(this.deleted){this.#A.remove(),this.#A=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#A.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class PBe extends wr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _M=3285377520,pc=4294901760,rA=65535;class EV{constructor(e){this.h1=e?e&4294967295:_M,this.h2=e?e&4294967295:_M}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let g=0,v=e.length;g<v;g++){const w=e.charCodeAt(g);w<=255?t[n++]=w:(t[n++]=w>>>8,t[n++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,s=n-a*4,i=new Uint32Array(t.buffer,0,a);let l=0,c=0,u=this.h1,d=this.h2;const f=3432918353,p=461845907,m=f&rA,y=p&rA;for(let g=0;g<a;g++)g&1?(l=i[g],l=l*f&pc|l*m&rA,l=l<<15|l>>>17,l=l*p&pc|l*y&rA,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=i[g],c=c*f&pc|c*m&rA,c=c<<15|c>>>17,c=c*p&pc|c*y&rA,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,s){case 3:l^=t[a*4+2]<<16;case 2:l^=t[a*4+1]<<8;case 1:l^=t[a*4],l=l*f&pc|l*m&rA,l=l<<15|l>>>17,l=l*p&pc|l*y&rA,a&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&pc|e*36045&rA,t=t*4283543511&pc|((t<<16|e>>>16)*2950163797&pc)>>>16,e^=t>>>1,e=e*444984403&pc|e*60499&rA,t=t*3301882366&pc|((t<<16|e>>>16)*3120437893&pc)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const hj=Object.freeze({map:null,hash:"",transfer:void 0});class J3{#e=!1;#t=null;#n=null;#r=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#r.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#r.get(e)}remove(e){const t=this.#r.get(e);if(t!==void 0&&(t instanceof wr&&this.#n.delete(t.annotationElementId),this.#r.delete(e),this.#r.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#r.values())if(n instanceof wr)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#r.get(e);let a=!1;if(n!==void 0)for(const[s,i]of Object.entries(t))n[s]!==i&&(a=!0,n[s]=i);else a=!0,this.#r.set(e,t);a&&this.#i(),t instanceof wr&&((this.#n||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#r.has(e)}get size(){return this.#r.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new jV(this)}get serializable(){if(this.#r.size===0)return hj;const e=new Map,t=new EV,n=[],a=Object.create(null);let s=!1;for(const[i,l]of this.#r){const c=l instanceof wr?l.serialize(!1,a):l;c&&(e.set(i,c),t.update(`${i}:${JSON.stringify(c)}`),s||=!!c.bitmap)}if(s)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:hj}get editorStats(){let e=null;const t=new Map;let n=0,a=0;for(const s of this.#r.values()){if(!(s instanceof wr)){s.popup&&(s.popup.deleted?a+=1:n+=1);continue}s.isCommentDeleted?a+=1:s.hasEditedComment&&(n+=1);const i=s.telemetryFinalData;if(!i)continue;const{type:l}=i;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[u,d]of Object.entries(i)){if(u==="type")continue;let f=c.get(u);f||(f=new Map,c.set(u,f));const p=f.get(d)??0;f.set(d,p+1)}}if((a>0||n>0)&&(e||=Object.create(null),e.comments={deleted:a,edited:n}),!e)return null;for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#n?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#n?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#n)for(const t of this.#n.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#r.entries()}}class jV extends J3{#e;constructor(e){super();const{map:t,hash:n,transfer:a}=e.serializable,s=structuredClone(t,a?{transfer:a}:null);this.#e={map:s,hash:n,transfer:a}}get print(){la("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return zr(this,"modifiedIds",{ids:new Set,hash:""})}}class IBe{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(ln(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:s,style:i}=e,l=new FontFace(a,s,i);this.addNativeFontFace(l);try{await l.load(),this.#e.add(a),n?.(e)}catch{Mr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}la("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw Mr(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return zr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return zr(this,"isSyncFontLoadingSupported",wo||bi.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ln(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:t,callback:e};return n.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return zr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(j,T){return j.charCodeAt(T)<<24|j.charCodeAt(T+1)<<16|j.charCodeAt(T+2)<<8|j.charCodeAt(T+3)&255}function a(j,T,L,I){const D=j.substring(0,T),k=j.substring(T+L);return D+I+k}let s,i;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(j,T){if(++u>30){Mr("Load test font never loaded."),T();return}if(c.font="30px "+j,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,j,T))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=a(p,976,f.length,f);const y=16,g=1482184792;let v=n(p,y);for(s=0,i=f.length-3;s<i;s+=4)v=v-g+n(f,s)|0;s<f.length&&(v=v-g+n(f+"XXX",s)|0),p=a(p,y,4,CBe(v));const w=`url(data:font/opentype;base64,${btoa(p)});`,S=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(S);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const j of[e.loadedName,f]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=j,C.append(T)}this._document.body.append(C),d(f,()=>{C.remove(),t.complete()})}}class LBe{#e;constructor(e,t=null,n,a){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${yV(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let a;try{a=e.get(n)}catch(i){Mr(`getPathGenerator - ignoring character: "${i}".`)}const s=new Path2D(a||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function MBe(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(wo)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function RBe(r){if(wo&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return kv(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function yb(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const fj=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,UBe=r=>typeof r=="object"&&typeof r?.name=="string",_V=EBe.bind(null,fj,UBe);class QBe{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,n)})}addEventListener(e,t,n=null){let a=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Mr("LoopbackPort - cannot use an `aborted` signal.");return}const i=()=>this.removeEventListener(e,t);a=()=>s.removeEventListener("abort",i),s.addEventListener("abort",i)}this.#e.set(t,a)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const vb={DATA:1,ERROR:2},Ds={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function TM(){}function Jo(r){if(r instanceof kd||r instanceof P2||r instanceof wM||r instanceof Uy||r instanceof qB)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||la('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new kd(r.message);case"InvalidPDFException":return new P2(r.message);case"PasswordException":return new wM(r.message,r.code);case"ResponseException":return new Uy(r.message,r.status,r.missing);case"UnknownErrorException":return new qB(r.message,r.details)}return new qB(r.message,r.toString())}class qx{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const n=e.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===vb.DATA)a.resolve(e.data);else if(e.callback===vb.ERROR)a.reject(Jo(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,a=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(i){s.postMessage({sourceName:n,targetName:a,callback:vb.DATA,callbackId:e.callbackId,data:i})},function(i){s.postMessage({sourceName:n,targetName:a,callback:vb.ERROR,callbackId:e.callbackId,reason:Jo(i)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const a=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[a]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(i){s.reject(i)}return s.promise}sendWithStream(e,t,n,a){const s=this.streamId++,i=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:i,targetName:l,action:e,streamId:s,data:t,desiredSize:u.desiredSize},a),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:i,targetName:l,stream:Ds.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{ln(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:i,targetName:l,stream:Ds.CANCEL,streamId:s,reason:Jo(u)}),d.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:a,stream:Ds.ENQUEUE,streamId:t,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Ds.CLOSE,streamId:t}),delete i.streamSinks[t])},error(u){ln(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Ds.ERROR,streamId:t,reason:Jo(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Ds.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Ds.START_COMPLETE,streamId:t,reason:Jo(u)})})}#r(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Ds.START_COMPLETE:e.success?i.startCall.resolve():i.startCall.reject(Jo(e.reason));break;case Ds.PULL_COMPLETE:e.success?i.pullCall.resolve():i.pullCall.reject(Jo(e.reason));break;case Ds.PULL:if(!l){s.postMessage({sourceName:n,targetName:a,stream:Ds.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||TM).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Ds.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Ds.PULL_COMPLETE,streamId:t,reason:Jo(u)})});break;case Ds.ENQUEUE:if(ln(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case Ds.CLOSE:if(ln(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),this.#i(i,t);break;case Ds.ERROR:ln(i,"error should have stream controller"),i.controller.error(Jo(e.reason)),this.#i(i,t);break;case Ds.CANCEL_COMPLETE:e.success?i.cancelCall.resolve():i.cancelCall.reject(Jo(e.reason)),this.#i(i,t);break;case Ds.CANCEL:if(!l)break;const c=Jo(e.reason);Promise.try(l.onCancel||TM,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Ds.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Ds.CANCEL_COMPLETE,streamId:t,reason:Jo(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class TV{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){la("Abstract method `_createCanvas` called.")}}class HBe extends TV{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class kV{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class kM extends kV{async _fetch(e){const t=await _g(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):kv(t)}}class FV{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,a,s){return"none"}destroy(e=!1){}}class zBe extends FV{#e;#t;#n;#r;#i;#a;#s=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#i=t}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#n){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#i.createElementNS(sd,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#i.createElementNS(sd,"defs"),e.append(n),n.append(this.#n),this.#i.body.append(e)}return this.#n}#d(e){if(e.length===1){const c=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[t,n,a]=e,s=new Array(256),i=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=t[c]/255,i[c]=n[c]/255,l[c]=a[c]/255;return[s.join(","),i.join(","),l.join(",")]}#A(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(Ov(t)?Mr('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=$3(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,a,s]=this.#d(e),i=e.length===1?n:`${n}${a}${s}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const l=`g_${this.#r}_transfer_map_${this.#s++}`,c=this.#A(l);this.#o.set(e,c),this.#o.set(i,c);const u=this.#f(l);return this.#m(n,a,s,u),c}addHCMFilter(e,t){const n=`${e}-${t}`,a="base";let s=this.#c.get(a);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(a,s)),!e||!t))return s.url;const i=this.#y(e);e=Gt.makeHexColor(...i);const l=this.#y(t);if(t=Gt.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const c=new Array(256);for(let m=0;m<=255;m++){const y=m/255;c[m]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),d=`g_${this.#r}_hcm_filter`,f=s.filter=this.#f(d);this.#m(u,u,u,f),this.#p(f);const p=(m,y)=>{const g=i[m]/255,v=l[m]/255,w=new Array(y+1);for(let S=0;S<=y;S++)w[S]=g+S/y*(v-g);return w.join(",")};return this.#m(p(0,5),p(1,5),p(2,5),f),s.url=this.#A(d),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#d([e]),a=`alpha_${n}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#s++}`,i=this.#A(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#g(n,l),i}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,a;if(e?([n]=this.#d([e]),a=`luminosity_${n}`):a="luminosity",t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#s++}`,i=this.#A(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#h(l),e&&this.#g(n,l),i}addHighlightHCMFilter(e,t,n,a,s){const i=`${t}-${n}-${a}-${s}`;let l=this.#c.get(e);if(l?.key===i||(l?(l.filter?.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},this.#c.set(e,l)),!t||!n))return l.url;const[c,u]=[t,n].map(this.#y.bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[a,s].map(this.#y.bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),this.#l.style.color="";const y=(w,S,C)=>{const j=new Array(256),T=(f-d)/C,L=w/255,I=(S-w)/(255*C);let D=0;for(let k=0;k<=C;k++){const z=Math.round(d+k*T),P=L+k*I;for(let U=D;U<=z;U++)j[U]=P;D=z+1}for(let k=D;k<256;k++)j[k]=j[D-1];return j.join(",")},g=`g_${this.#r}_hcm_${e}_filter`,v=l.filter=this.#f(g);return this.#p(v),this.#m(y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),v),l.url=this.#A(g),l.url}destroy(e=!1){e&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#s=0)}#h(e){const t=this.#i.createElementNS(sd,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#i.createElementNS(sd,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){const t=this.#i.createElementNS(sd,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,n){const a=this.#i.createElementNS(sd,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",n),e.append(a)}#m(e,t,n,a){const s=this.#i.createElementNS(sd,"feComponentTransfer");a.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#g(e,t){const n=this.#i.createElementNS(sd,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#y(e){return this.#l.style.color=e,Tg(getComputedStyle(this.#l).getPropertyValue("color"))}}class OV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class FM extends OV{async _fetch(e){const t=await _g(e,"arraybuffer");return new Uint8Array(t)}}class DV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class OM extends DV{async _fetch(e){const t=await _g(e,"arraybuffer");return new Uint8Array(t)}}wo&&Mr("Please use the `legacy` build in Node.js environments.");async function Z3(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class KBe extends FV{}class $Be extends TV{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class VBe extends kV{async _fetch(e){return Z3(e)}}class qBe extends OV{async _fetch(e){return Z3(e)}}class GBe extends DV{async _fetch(e){return Z3(e)}}const Zm="__forcedDependency",{floor:DM,ceil:PM}=Math;function bb(r,e,t,n,a,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],a),r[e*4+3]=Math.max(r[e*4+3],s)}const mj=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class WBe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===mj}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const wb=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};class YBe{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Zm]:[]};#n=new Map;#r=[];#i=[];#a=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#A=new Map;#h;#p;#f;#u;#m;constructor(e,t,n=!1){this.#h=e.width,this.#p=e.height,this.#g(t),n&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#g(e,this.#u)}#g(e,t){const n=new ArrayBuffer(e*4);this.#f=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(mj,t.length)):this.#u.fill(mj)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Zm]:{__proto__:this.#t[Zm]}},this.#s={__proto__:this.#s},this.#r.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#s=Object.getPrototypeOf(this.#s);const n=this.#r.pop();return n!==void 0&&(wb(this.#m,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#r.push(e),this}getOpenMarker(){return this.#r.length===0?null:this.#r.at(-1)}recordCloseMarker(e){const t=this.#r.pop();return t!==void 0&&(wb(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const t=this.#i.pop();return t!==void 0&&(wb(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#a.push(Gt.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#n.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Zm,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Zm,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,a,s,i){const l=Gt.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Gt.axialAlignedBoundingBox([n,s,a,i],l,c);const u=Gt.intersect(this.#s,c);return u?(this.#s[0]=u[0],this.#s[1]=u[1],this.#s[2]=u[2],this.#s[3]=u[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(e,t,n,a,s,i){const l=this.#s;if(l[0]===1/0)return this;const c=Gt.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform());if(l[0]===-1/0)return Gt.axialAlignedBoundingBox([n,s,a,i],c,this.#o),this;const u=[1/0,1/0,-1/0,-1/0];return Gt.axialAlignedBoundingBox([n,s,a,i],c,u),this.#o[0]=Math.min(this.#o[0],Math.max(u[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(u[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(u[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,n,a=1,s=0,i=0,l){const c=n.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&this.#A.get(n),u!==!1&&(d=[0,0,0,0],Gt.axialAlignedBoundingBox(c,n.fontMatrix,d),(a!==1||s!==0||i!==0)&&Gt.scaleMinMax([a,0,0,-a,s,i],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!l)return this.recordFullPageBBox(e);const f=l();return c&&d&&u===void 0&&(u=d[0]<=s-f.actualBoundingBoxLeft&&d[2]>=s+f.actualBoundingBoxRight&&d[1]<=i-f.actualBoundingBoxAscent&&d[3]>=i+f.actualBoundingBoxDescent,this.#A.set(n,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,i-f.actualBoundingBoxAscent,i+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#h,this.#s[2]),this.#o[3]=Math.min(this.#p,this.#s[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#l,a=this.#e,s=this.#t;for(const i of t)i in this.#e?n.add(a[i]):i in s&&s[i].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#l.add(this.#n.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Zm]),this.#m){const n=wb(this.#m,e),{dependencies:a}=n;this.#l.forEach(a.add,a),this.#r.forEach(a.add,a),this.#i.forEach(a.add,a),a.delete(e),n.isRenderingOperation=!0}if(this.#c===e){const n=DM(this.#o[0]*256/this.#h),a=DM(this.#o[1]*256/this.#p),s=PM(this.#o[2]*256/this.#h),i=PM(this.#o[3]*256/this.#p);bb(this.#f,e,n,a,s,i);for(const l of this.#l)l!==e&&bb(this.#f,l,n,a,s,i);for(const l of this.#r)l!==e&&bb(this.#f,l,n,a,s,i);for(const l of this.#i)l!==e&&bb(this.#f,l,n,a,s,i);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#d.get(e);return this.#d.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#A.clear(),new WBe(this.#u,this.#f)}takeDebugMetadata(){return this.#m}}class M2{#e;#t;#n;#r=0;#i=0;constructor(e,t,n){if(e instanceof M2&&e.#n===!!n)return e;this.#e=e,this.#t=t,this.#n=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#r++,this}getOpenMarker(){return this.#r>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#r--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#n||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,a,s,i){return this.#n||this.#e.recordClipBox(this.#t,t,n,a,s,i),this}recordBBox(e,t,n,a,s,i){return this.#n||this.#e.recordBBox(this.#t,t,n,a,s,i),this}recordCharacterBBox(e,t,n,a,s,i,l){return this.#n||this.#e.recordCharacterBBox(this.#t,t,n,a,s,i,l),this}recordFullPageBBox(e){return this.#n||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#n||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const gc={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ui={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pj(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,n),r.clip(a)}class ek{isModifyingCurrentTransform(){return!1}getPattern(){la("Abstract method `getPattern` called.")}}class XBe extends ek{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,a){let s;if(a===Ui.STROKE||a===Ui.FILL){const i=t.current.getClippedPathBoundingBox(a,Ha(e))||[0,0,0,0],l=Math.ceil(i[2]-i[0])||1,c=Math.ceil(i[3]-i[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-i[0],-i[1]),n=Gt.transform(n,[1,0,0,1,i[0],i[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),pj(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else pj(e,this._bbox),s=this._createGradient(e);return s}}function YB(r,e,t,n,a,s,i,l){const c=e.coords,u=e.colors,d=r.data,f=r.width*4;let p;c[t+1]>c[n+1]&&(p=t,t=n,n=p,p=s,s=i,i=p),c[n+1]>c[a+1]&&(p=n,n=a,a=p,p=i,i=l,l=p),c[t+1]>c[n+1]&&(p=t,t=n,n=p,p=s,s=i,i=p);const m=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,g=(c[n]+e.offsetX)*e.scaleX,v=(c[n+1]+e.offsetY)*e.scaleY,w=(c[a]+e.offsetX)*e.scaleX,S=(c[a+1]+e.offsetY)*e.scaleY;if(y>=S)return;const C=u[s],j=u[s+1],T=u[s+2],L=u[i],I=u[i+1],D=u[i+2],k=u[l],z=u[l+1],P=u[l+2],U=Math.round(y),M=Math.round(S);let q,ae,W,ee,re,pe,Se,ne;for(let F=U;F<=M;F++){if(F<v){const oe=F<y?0:(y-F)/(y-v);q=m-(m-g)*oe,ae=C-(C-L)*oe,W=j-(j-I)*oe,ee=T-(T-D)*oe}else{let oe;F>S?oe=1:v===S?oe=0:oe=(v-F)/(v-S),q=g-(g-w)*oe,ae=L-(L-k)*oe,W=I-(I-z)*oe,ee=D-(D-P)*oe}let Q;F<y?Q=0:F>S?Q=1:Q=(y-F)/(y-S),re=m-(m-w)*Q,pe=C-(C-k)*Q,Se=j-(j-z)*Q,ne=T-(T-P)*Q;const K=Math.round(Math.min(q,re)),V=Math.round(Math.max(q,re));let J=f*F+K*4;for(let oe=K;oe<=V;oe++)Q=(q-oe)/(q-re),Q<0?Q=0:Q>1&&(Q=1),d[J++]=ae-(ae-pe)*Q|0,d[J++]=W-(W-Se)*Q|0,d[J++]=ee-(ee-ne)*Q|0,d[J++]=255}}function JBe(r,e,t){const n=e.coords,a=e.colors;let s,i;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,u=l-1;for(s=0;s<c;s++){let d=s*l;for(let f=0;f<u;f++,d++)YB(r,t,n[d],n[d+1],n[d+l],a[d],a[d+1],a[d+l]),YB(r,t,n[d+l+1],n[d+1],n[d+l],a[d+l+1],a[d+1],a[d+l])}break;case"triangles":for(s=0,i=n.length;s<i;s+=3)YB(r,t,n[s],n[s+1],n[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class ZBe extends ek{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=u/f,y=d/p,g={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/y},v=f+4,w=p+4,S=n.getCanvas("mesh",v,w),C=S.context,j=C.createImageData(f,p);if(t){const L=j.data;for(let I=0,D=L.length;I<D;I+=4)L[I]=t[0],L[I+1]=t[1],L[I+2]=t[2],L[I+3]=255}for(const L of this._figures)JBe(j,L,g);return C.putImageData(j,2,2),{canvas:S.canvas,offsetX:l-2*m,offsetY:c-2*y,scaleX:m,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,a){pj(e,this._bbox);const s=new Float32Array(2);if(a===Ui.SHADING)Gt.singularValueDecompose2dScale(Ha(e),s);else if(this.matrix){Gt.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;Gt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else Gt.singularValueDecompose2dScale(t.baseTransform,s);const i=this._createMeshCanvas(s,a===Ui.SHADING?null:this._background,t.cachedCanvases);return a!==Ui.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class eEe extends ek{getPattern(){return"hotpink"}}function tEe(r){switch(r[0]){case"RadialAxial":return new XBe(r);case"Mesh":return new ZBe(r);case"Dummy":return new eEe}throw new Error(`Unknown IR type: ${r[0]}`)}const IM={COLORED:1,UNCOLORED:2};class tk{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(e,t){const{bbox:n,operatorList:a,paintType:s,tilingType:i,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),s5("TilingType: "+i);const f=n[0],p=n[1],m=n[2],y=n[3],g=m-f,v=y-p,w=new Float32Array(2);Gt.singularValueDecompose2dScale(this.matrix,w);const[S,C]=w;Gt.singularValueDecompose2dScale(this.baseTransform,w);const j=S*w[0],T=C*w[1];let L=g,I=v,D=!1,k=!1;const z=Math.ceil(u*j),P=Math.ceil(d*T),U=Math.ceil(g*j),M=Math.ceil(v*T);z>=U?L=u:D=!0,P>=M?I=d:k=!0;const q=this.getSizeAndScale(L,this.ctx.canvas.width,j),ae=this.getSizeAndScale(I,this.ctx.canvas.height,T),W=e.cachedCanvases.getCanvas("pattern",q.size,ae.size),ee=W.context,re=c.createCanvasGraphics(ee,t);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,s,l),ee.translate(-q.scale*f,-ae.scale*p),re.transform(0,q.scale,0,0,ae.scale,0,0),ee.save(),re.dependencyTracker?.save(),this.clipBbox(re,f,p,m,y),re.baseTransform=Ha(re.ctx),re.executeOperatorList(a),re.endDrawing(),re.dependencyTracker?.restore(),ee.restore(),D||k){const pe=W.canvas;D&&(L=u),k&&(I=d);const Se=this.getSizeAndScale(L,this.ctx.canvas.width,j),ne=this.getSizeAndScale(I,this.ctx.canvas.height,T),F=Se.size,Q=ne.size,K=e.cachedCanvases.getCanvas("pattern-workaround",F,Q),V=K.context,J=D?Math.floor(g/u):0,oe=k?Math.floor(v/d):0;for(let Ne=0;Ne<=J;Ne++)for(let ue=0;ue<=oe;ue++)V.drawImage(pe,F*Ne,Q*ue,F,Q,0,0,F,Q);return{canvas:K.canvas,scaleX:Se.scale,scaleY:ne.scale,offsetX:f,offsetY:p}}return{canvas:W.canvas,scaleX:q.scale,scaleY:ae.scale,offsetX:f,offsetY:p}}getSizeAndScale(e,t,n){const a=Math.max(tk.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=a?s=a:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,a,s){const i=a-t,l=s-n;e.ctx.rect(t,n,i,l),Gt.axialAlignedBoundingBox([t,n,a,s],Ha(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const a=e.ctx,s=e.current;switch(t){case IM.COLORED:const{fillStyle:i,strokeStyle:l}=this.ctx;a.fillStyle=s.fillColor=i,a.strokeStyle=s.strokeColor=l;break;case IM.UNCOLORED:a.fillStyle=a.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new wBe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,a,s){let i=n;a!==Ui.SHADING&&(i=Gt.transform(i,t.baseTransform),this.matrix&&(i=Gt.transform(i,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(i);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}}function rEe({src:r,srcPos:e=0,dest:t,width:n,height:a,nonBlackColor:s=4294967295,inverseDecode:i=!1}){const l=bi.isLittleEndian?4278190080:255,[c,u]=i?[s,l]:[l,s],d=n>>3,f=n&7,p=r.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<a;y++){for(const v=e+d;e<v;e++){const w=e<p?r[e]:255;t[m++]=w&128?u:c,t[m++]=w&64?u:c,t[m++]=w&32?u:c,t[m++]=w&16?u:c,t[m++]=w&8?u:c,t[m++]=w&4?u:c,t[m++]=w&2?u:c,t[m++]=w&1?u:c}if(f===0)continue;const g=e<p?r[e++]:255;for(let v=0;v<f;v++)t[m++]=g&1<<7-v?u:c}return{srcPos:e,destPos:m}}const LM=16,MM=100,nEe=15,RM=10,el=16,XB=new DOMMatrix,Ll=new Float32Array(2),vp=new Float32Array([1/0,1/0,-1/0,-1/0]);function aEe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,a,s,i,l){e.transform(t,n,a,s,i,l),this.__originalTransform(t,n,a,s,i,l)},r.setTransform=function(t,n,a,s,i,l){e.setTransform(t,n,a,s,i,l),this.__originalSetTransform(t,n,a,s,i,l)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,a,s,i,l){e.bezierCurveTo(t,n,a,s,i,l),this.__originalBezierCurveTo(t,n,a,s,i,l)},r.rect=function(t,n,a,s){e.rect(t,n,a,s),this.__originalRect(t,n,a,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class sEe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,n)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Cb(r,e,t,n,a,s,i,l,c,u){const[d,f,p,m,y,g]=Ha(r);if(f===0&&p===0){const S=i*d+y,C=Math.round(S),j=l*m+g,T=Math.round(j),L=(i+c)*d+y,I=Math.abs(Math.round(L)-C)||1,D=(l+u)*m+g,k=Math.abs(Math.round(D)-T)||1;return r.setTransform(Math.sign(d),0,0,Math.sign(m),C,T),r.drawImage(e,t,n,a,s,0,0,I,k),r.setTransform(d,f,p,m,y,g),[I,k]}if(d===0&&m===0){const S=l*p+y,C=Math.round(S),j=i*f+g,T=Math.round(j),L=(l+u)*p+y,I=Math.abs(Math.round(L)-C)||1,D=(i+c)*f+g,k=Math.abs(Math.round(D)-T)||1;return r.setTransform(0,Math.sign(f),Math.sign(p),0,C,T),r.drawImage(e,t,n,a,s,0,0,k,I),r.setTransform(d,f,p,m,y,g),[k,I]}r.drawImage(e,t,n,a,s,i,l,c,u);const v=Math.hypot(d,f),w=Math.hypot(p,m);return[v*c,w*u]}class UM{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Aj;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Di.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=vp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ui.FILL,t=null){const n=this.minMax.slice();if(e===Ui.STROKE){t||la("Stroke bounding box must include transform."),Gt.singularValueDecompose2dScale(t,Ll);const a=Ll[0]*this.lineWidth/2,s=Ll[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}updateClipFromPath(){const e=Gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(vp,0)}getClippedPathBoundingBox(e=Ui.FILL,t=null){return Gt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function QM(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,a=t%el,s=(t-a)/el,i=a===0?s:s+1,l=r.createImageData(n,el);let c=0,u;const d=e.data,f=l.data;let p,m,y,g;if(e.kind===uy.GRAYSCALE_1BPP){const v=d.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),S=w.length,C=n+7>>3,j=4294967295,T=bi.isLittleEndian?4278190080:255;for(p=0;p<i;p++){for(y=p<s?el:a,u=0,m=0;m<y;m++){const L=v-c;let I=0;const D=L>C?n:L*8-7,k=D&-8;let z=0,P=0;for(;I<k;I+=8)P=d[c++],w[u++]=P&128?j:T,w[u++]=P&64?j:T,w[u++]=P&32?j:T,w[u++]=P&16?j:T,w[u++]=P&8?j:T,w[u++]=P&4?j:T,w[u++]=P&2?j:T,w[u++]=P&1?j:T;for(;I<D;I++)z===0&&(P=d[c++],z=128),w[u++]=P&z?j:T,z>>=1}for(;u<S;)w[u++]=0;r.putImageData(l,0,p*el)}}else if(e.kind===uy.RGBA_32BPP){for(m=0,g=n*el*4,p=0;p<s;p++)f.set(d.subarray(c,c+g)),c+=g,r.putImageData(l,0,m),m+=el;p<i&&(g=n*a*4,f.set(d.subarray(c,c+g)),r.putImageData(l,0,m))}else if(e.kind===uy.RGB_24BPP)for(y=el,g=n*y,p=0;p<i;p++){for(p>=s&&(y=a,g=n*y),u=0,m=g;m--;)f[u++]=d[c++],f[u++]=d[c++],f[u++]=d[c++],f[u++]=255;r.putImageData(l,0,p*el)}else throw new Error(`bad image kind: ${e.kind}`)}function HM(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,a=t%el,s=(t-a)/el,i=a===0?s:s+1,l=r.createImageData(n,el);let c=0;const u=e.data,d=l.data;for(let f=0;f<i;f++){const p=f<s?el:a;({srcPos:c}=rEe({src:u,srcPos:c,dest:d,width:n,height:p,nonBlackColor:0})),r.putImageData(l,0,f*el)}}function _x(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Nb(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function zM(r,e){if(e)return!0;Gt.singularValueDecompose2dScale(r,Ll);const t=Math.fround(Cu.pixelRatio*M0.PDF_TO_CSS_UNITS);return Ll[0]<=t&&Ll[1]<=t}const iEe=["butt","round","square"],oEe=["miter","round","bevel"],lEe={},KM={};class Tp{constructor(e,t,n,a,s,{optionalContentConfig:i,markedContentStack:l=null},c,u,d){this.ctx=e,this.current=new UM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=a,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=i,this.cachedCanvases=new sEe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:a=null}){const s=this.ctx.canvas.width,i=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,i),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,i);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Ha(this.compositeCtx))}this.ctx.save(),Nb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ha(this.ctx)}executeOperatorList(e,t,n,a,s){const i=e.argsArray,l=e.fnArray;let c=t||0;const u=i.length;if(u===c)return c;const d=u-c>RM&&typeof n=="function",f=d?Date.now()+nEe:0;let p=0;const m=this.commonObjs,y=this.objs;let g,v;for(;;){if(a!==void 0&&c===a.nextBreakPoint)return a.breakIt(c,n),c;if(!s||s(c))if(g=l[c],v=i[c]??null,g!==rg.dependency)v===null?this[g](c):this[g](c,...v);else for(const w of v){this.dependencyTracker?.recordNamedData(w,c);const S=w.startsWith("g_")?m:y;if(!S.has(w))return S.get(w,n),c}if(c++,c===u)return c;if(d&&++p>RM){if(Date.now()>f)return n(),c;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,a=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),i=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=a,u="prescale1",d,f;for(;s>2&&l>1||i>2&&c>1;){let p=l,m=c;s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/p),i>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,i/=c/m),d=this.cachedCanvases.getCanvas(u,p,m),f=d.context,f.clearRect(0,0,p,m),f.drawImage(e,0,0,l,c,0,0,p,m),e=d.canvas,l=p,c=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){const n=this.ctx,{width:a,height:s}=t,i=this.current.fillColor,l=this.current.patternFill,c=Ha(n);let u,d,f,p;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),i]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const P=u.get(d);if(P&&!l){const U=Math.round(Math.min(c[0],c[2])+c[4]),M=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,gc.transformAndFill),{canvas:P,offsetX:U,offsetY:M}}f=P}f||(p=this.cachedCanvases.getCanvas("maskCanvas",a,s),HM(p.context,t));let m=Gt.transform(c,[1/a,0,0,-1/s,0,0]);m=Gt.transform(m,[1,0,0,1,0,-s]);const y=vp.slice();Gt.axialAlignedBoundingBox([0,0,a,s],m,y);const[g,v,w,S]=y,C=Math.round(w-g)||1,j=Math.round(S-v)||1,T=this.cachedCanvases.getCanvas("fillCanvas",C,j),L=T.context,I=g,D=v;L.translate(-I,-D),L.transform(...m),f||(f=this._scaleImage(p.canvas,tA(L)),f=f.img,u&&l&&u.set(d,f)),L.imageSmoothingEnabled=zM(Ha(L),t.interpolate),Cb(L,f,0,0,f.width,f.height,0,0,a,s),L.globalCompositeOperation="source-in";const k=Gt.transform(tA(L),[1,0,0,1,-I,-D]);return L.fillStyle=l?i.getPattern(n,this,k,Ui.FILL,e):i,L.fillRect(0,0,a,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,T.canvas)),this.dependencyTracker?.recordDependencies(e,gc.transformAndFill),{canvas:T.canvas,offsetX:Math.round(I),offsetY:Math.round(D)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=iEe[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=oEe[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,a]of t)switch(n){case"LW":this.setLineWidth(e,a);break;case"LC":this.setLineCap(e,a);break;case"LJ":this.setLineJoin(e,a);break;case"ML":this.setMiterLimit(e,a);break;case"D":this.setDash(e,a[0],a[1]);break;case"RI":this.setRenderingIntent(e,a);break;case"FL":this.setFlatness(e,a);break;case"Font":this.setFont(e,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(a,t,n);this.suspendedCtx=this.ctx;const i=this.ctx=s.context;i.setTransform(this.suspendedCtx.getTransform()),_x(this.suspendedCtx,i),aEe(i,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_x(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,a){const s=a[0],i=a[1],l=a[2]-s,c=a[3]-i;l===0||c===0||(this.genericComposeSMask(t.context,n,l,c,t.subtype,t.backdrop,t.transferMap,s,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,a,s,i,l,c,u,d,f){let p=e.canvas,m=c-d,y=u-f;if(i)if(m<0||y<0||m+n>p.width||y+a>p.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,a),w=v.context;w.drawImage(p,-m,-y),w.globalCompositeOperation="destination-atop",w.fillStyle=i,w.fillRect(0,0,n,a),w.globalCompositeOperation="source-over",p=v.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(m,y,n,a),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=i,e.fillRect(m,y,n,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const g=new Path2D;g.rect(c,u,n,a),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,n,a,c,u,n,a),t.restore()}save(e){this.inSMaskMode&&_x(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&_x(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,a,s,i,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,a,s,i,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,a){let[s]=n;if(!a){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const i=t===rg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-i,a[2]+i,a[1]-i,a[3]+i).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const i=n[0]=new Path2D;for(let l=0,c=s.length;l<c;)switch(s[l++]){case gb.moveTo:i.moveTo(s[l++],s[l++]);break;case gb.lineTo:i.lineTo(s[l++],s[l++]);break;case gb.curveTo:i.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case gb.closePath:i.closePath();break;default:Mr(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=i}Gt.axialAlignedBoundingBox(a,Ha(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const i=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,tA(a),Ui.STROKE,e),i){const l=new Path2D;l.addPath(t,a.getTransform().invertSelf().multiplySelf(i)),t=l}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,gc.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ui.STROKE,Ha(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const a=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let l=!1;if(i){const u=s.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(e),a.save(),a.fillStyle=s.getPattern(a,this,tA(a),Ui.FILL,e),u){const d=new Path2D;d.addPath(t,a.getTransform().invertSelf().multiplySelf(u)),t=d}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),this.dependencyTracker?.recordDependencies(e,gc.fill),l&&(a.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,gc.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=lEe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=KM}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;t!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(t!==void 0){const a=new Path2D,s=n.getTransform().invertSelf();for(const{transform:i,x:l,y:c,fontSize:u,path:d}of t)d&&a.addPath(d,new DOMMatrix(i).preMultiplySelf(s).translate(l,c).scale(u,-u));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),s=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=a.fontMatrix||Aj,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Mr("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const i=a.loadedName||"sans-serif",l=a.systemFontInfo?.css||`"${i}", ${a.fallbackName}`;let c="normal";a.black?c="900":a.bold&&(c="bold");const u=a.italic?"italic":"normal";let d=n;n<LM?d=LM:n>MM&&(d=MM),this.current.fontSizeScale=n/d,this.ctx.font=`${u} ${c} ${d}px ${l}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,n){const a=new Path2D;return a.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),a}paintChar(e,t,n,a,s,i){const l=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,p=d&Di.FILL_STROKE_MASK,m=!!(d&Di.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,g=c.patternStroke&&!u.missingFile;let v;if((u.disableFontFace||m||y||g)&&!u.missingFile&&(v=u.getPathGenerator(this.commonObjs,t)),v&&(u.disableFontFace||y||g)){l.save(),l.translate(n,a),l.scale(f,-f),this.dependencyTracker?.recordCharacterBBox(e,l,u);let w;if(p===Di.FILL||p===Di.FILL_STROKE)if(s){w=l.getTransform(),l.setTransform(...s);const S=this.#n(v,w,s);l.fill(S)}else l.fill(v);if(p===Di.STROKE||p===Di.FILL_STROKE)if(i){w||=l.getTransform(),l.setTransform(...i);const{a:S,b:C,c:j,d:T}=w,L=Gt.inverseTransform(i),I=Gt.transform([S,C,j,T,0,0],L);Gt.singularValueDecompose2dScale(I,Ll),l.lineWidth*=Math.max(Ll[0],Ll[1])/f,l.stroke(this.#n(v,w,i))}else l.lineWidth/=f,l.stroke(v);l.restore()}else(p===Di.FILL||p===Di.FILL_STROKE)&&(l.fillText(t,n,a),this.dependencyTracker?.recordCharacterBBox(e,l,u,f,n,a,()=>l.measureText(t))),(p===Di.STROKE||p===Di.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,u,f,n,a,()=>l.measureText(t)).recordDependencies(e,gc.stroke),l.strokeText(t,n,a));m&&((this.pendingTextPaths||=[]).push({transform:Ha(l),x:n,y:a,fontSize:f,path:v}),this.dependencyTracker?.recordCharacterBBox(e,l,u,f,n,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){n=!0;break}return zr(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,gc.showText).resetBBox(e),this.current.textRenderingMode&Di.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const i=this.ctx,l=n.fontSizeScale,c=n.charSpacing,u=n.wordSpacing,d=n.fontDirection,f=n.textHScale*d,p=t.length,m=a.vertical,y=m?1:-1,g=a.defaultVMetrics,v=s*n.fontMatrix[0],w=n.textRenderingMode===Di.FILL&&!a.disableFontFace&&!n.patternFill;i.save(),n.textMatrix&&i.transform(...n.textMatrix),i.translate(n.x,n.y+n.textRise),d>0?i.scale(f,-1):i.scale(f,1);let S,C;if(n.patternFill){i.save();const D=n.fillColor.getPattern(i,this,tA(i),Ui.FILL,e);S=Ha(i),i.restore(),i.fillStyle=D}if(n.patternStroke){i.save();const D=n.strokeColor.getPattern(i,this,tA(i),Ui.STROKE,e);C=Ha(i),i.restore(),i.strokeStyle=D}let j=n.lineWidth;const T=n.textMatrixScale;if(T===0||j===0){const D=n.textRenderingMode&Di.FILL_STROKE_MASK;(D===Di.STROKE||D===Di.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=T;if(l!==1&&(i.scale(l,l),j/=l),i.lineWidth=j,a.isInvalidPDFjsFont){const D=[];let k=0;for(const P of t)D.push(P.unicode),k+=P.width;const z=D.join("");if(i.fillText(z,0,0),this.dependencyTracker!==null){const P=i.measureText(z);this.dependencyTracker.recordBBox(e,this.ctx,-P.actualBoundingBoxLeft,P.actualBoundingBoxRight,-P.actualBoundingBoxAscent,P.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=k*v*f,i.restore(),this.compose();return}let L=0,I;for(I=0;I<p;++I){const D=t[I];if(typeof D=="number"){L+=y*D*s/1e3;continue}let k=!1;const z=(D.isSpace?u:0)+c,P=D.fontChar,U=D.accent;let M,q,ae=D.width;if(m){const re=D.vmetric||g,pe=-(D.vmetric?re[1]:ae*.5)*v,Se=re[2]*v;ae=re?-re[0]:ae,M=pe/l,q=(L+Se)/l}else M=L/l,q=0;let W;if(a.remeasure&&ae>0){W=i.measureText(P);const re=W.width*1e3/s*l;if(ae<re&&this.isFontSubpixelAAEnabled){const pe=ae/re;k=!0,i.save(),i.scale(pe,1),M/=pe}else ae!==re&&(M+=(ae-re)/2e3*s/l)}if(this.contentVisible&&(D.isInFont||a.missingFile)){if(w&&!U)i.fillText(P,M,q),this.dependencyTracker?.recordCharacterBBox(e,i,W?{bbox:null}:a,s/l,M,q,()=>W??i.measureText(P));else if(this.paintChar(e,P,M,q,S,C),U){const re=M+s*U.offset.x/l,pe=q-s*U.offset.y/l;this.paintChar(e,U.fontChar,re,pe,S,C)}}const ee=m?ae*v-z*d:ae*v+z*d;L+=ee,k&&i.restore()}m?n.y-=L:n.x+=L*f,i.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,a=this.current,s=a.font,i=a.fontSize,l=a.fontDirection,c=s.vertical?1:-1,u=a.charSpacing,d=a.wordSpacing,f=a.textHScale*l,p=a.fontMatrix||Aj,m=t.length,y=a.textRenderingMode===Di.INVISIBLE;let g,v,w,S;if(y||i===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(f,l);const C=this.dependencyTracker;for(this.dependencyTracker=C?new M2(C,e):null,g=0;g<m;++g){if(v=t[g],typeof v=="number"){S=c*v*i/1e3,this.ctx.translate(S,0),a.x+=S*f;continue}const j=(v.isSpace?d:0)+u,T=s.charProcOperatorList[v.operatorListId];T?this.contentVisible&&(this.save(),n.scale(i,i),n.transform(...p),this.executeOperatorList(T),this.restore()):Mr(`Type3 character "${v.operatorListId}" is not available.`);const L=[v.width,0];Gt.applyTransform(L,p),w=L[0]*i+j,n.translate(w,0),a.x+=w*f}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,a,s,i,l){const c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,a,i,s,l).recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const a=this.baseTransform||Ha(this.ctx),s={createCanvasGraphics:(i,l)=>new Tp(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new M2(this.dependencyTracker,l,!0):null)};n=new tk(t,this.ctx,s,a)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=tEe(this.getObject(e,t)),this.cachedPatterns.set(t,a)),n&&(a.matrix=n),a}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const a=this._getPattern(e,t);n.fillStyle=a.getPattern(n,this,tA(n),Ui.SHADING,e);const s=tA(n);if(s){const{width:i,height:l}=n.canvas,c=vp.slice();Gt.axialAlignedBoundingBox([0,0,i,l],s,c);const[u,d,f,p]=c;this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,gc.transform).recordDependencies(e,gc.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){la("Should not call beginInlineImage")}beginImageData(){la("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Ha(this.ctx),n)){Gt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,s,i,l]=n,c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||s5("TODO: Support non-isolated groups."),t.knockout&&Mr("Knockout groups not supported.");const a=Ha(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=vp.slice();Gt.axialAlignedBoundingBox(t.bbox,Ha(n),s);const i=[0,0,n.canvas.width,n.canvas.height];s=Gt.intersect(s,i)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,u,d),m=p.context;m.translate(-l,-c),m.transform(...a);let y=new Path2D;const[g,v,w,S]=t.bbox;if(y.rect(g,v,w-g,S-v),t.matrix){const C=new Path2D;C.addPath(y,new DOMMatrix(t.matrix)),y=C}m.clip(y),t.smask&&this.smaskStack.push({canvas:p.canvas,context:m,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,c),n.save()),_x(n,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Ha(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const i=vp.slice();Gt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,a,s,i){if(this.#e(),Nb(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],c=n[3]-n[1];if(i&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c,Gt.singularValueDecompose2dScale(Ha(this.ctx),Ll);const{viewportScale:u}=this,d=Math.ceil(l*this.outputScaleX*u),f=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Ll[0],0,0,-Ll[1],0,c*Ll[1]),Nb(this.ctx)}else{Nb(this.ctx),this.endPath(e);const u=new Path2D;u.rect(n[0],n[1],l,c),this.ctx.clip(u)}}this.current=new UM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const a=this.ctx,s=this._createMaskCanvas(e,t),i=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(i,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+i.width,s.offsetY,s.offsetY+i.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,a=0,s=0,i,l){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=Ha(c);c.transform(n,a,s,i,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),this.dependencyTracker?.resetBBox(e);for(let f=0,p=l.length;f<p;f+=2){const m=Gt.transform(u,[n,a,s,i,l[f],l[f+1]]);c.drawImage(d.canvas,m[4],m[5]),this.dependencyTracker?.recordBBox(e,this.ctx,m[4],m[4]+d.canvas.width,m[5],m[5]+d.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,gc.transformAndFill);for(const i of t){const{data:l,width:c,height:u,transform:d}=i,f=this.cachedCanvases.getCanvas("maskCanvas",c,u),p=f.context;p.save();const m=this.getObject(e,l,i);HM(p,m),p.globalCompositeOperation="source-in",p.fillStyle=s?a.getPattern(p,this,tA(n),Ui.FILL,e):a,p.fillRect(0,0,c,u),p.restore(),n.save(),n.transform(...d),n.scale(1,-1),Cb(n,f.canvas,0,0,c,u,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,c,0,u),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Mr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,a,s){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Mr("Dependent image isn't ready yet");return}const l=i.width,c=i.height,u=[];for(let d=0,f=s.length;d<f;d+=2)u.push({transform:[n,0,0,a,s[d],s[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,i,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:a}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,a),i=s.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,a=t.height,s=this.ctx;this.save(e);const{filter:i}=s;i!=="none"&&i!==""&&(s.filter="none"),s.scale(1/n,-1/a);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,a).context;QM(d,t),l=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(l,tA(s));s.imageSmoothingEnabled=zM(Ha(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-a,0).recordDependencies(e,gc.imageXObject).recordOperation(e),Cb(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,n,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const a=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const i=t.width,l=t.height,u=this.cachedCanvases.getCanvas("inlineImage",i,l).context;QM(u,t),s=this.applyTransferMapsToCanvas(u)}this.dependencyTracker?.resetBBox(e);for(const i of n)a.save(),a.transform(...i.transform),a.scale(1,-1),Cb(a,s,i.x,i.y,i.w,i.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,gc.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(a||(this.pendingClip===KM?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ha(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:a,d:s}=this.ctx.getTransform();let i,l;if(n===0&&a===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)i=l=1/c;else{const d=c*e;i=l=d<1?1/d:1}else if(e===0)i=1/c,l=1/u;else{const d=c*e,f=u*e;i=d<1?1/d:1,l=f<1?1/f:1}}else{const c=Math.abs(t*s-n*a),u=Math.hypot(t,n),d=Math.hypot(a,s);if(e===0)i=d/c,l=u/c;else{const f=e*c;i=d>f?d/f:1,l=u>f?u/f:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:a}}=this,[s,i]=this.getScaleForStroking();if(s===i){n.lineWidth=(a||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,i),XB.a=1/s,XB.d=1/i;const c=new Path2D;if(c.addPath(e,XB),l.length>0){const u=Math.max(s,i);n.setLineDash(l.map(d=>d/u)),n.lineDashOffset/=u}n.lineWidth=a||1,n.stroke(c),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in rg)Tp.prototype[r]!==void 0&&(Tp.prototype[rg[r]]=Tp.prototype[r]);class kp{#e;#t;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let a=0;for(const u of kp.strings){const d=t.encode(e[u]);n[u]=d,a+=4+d.length}const s=new ArrayBuffer(a),i=new Uint8Array(s),l=new DataView(s);let c=0;for(const u of kp.strings){const d=n[u],f=d.length;l.setUint32(c,f),i.set(d,c+4),c+=4+f}return ln(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}#r(e){ln(e<kp.strings.length,"Invalid string index");let t=0;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#r(0)}get fontWeight(){return this.#r(1)}get italicAngle(){return this.#r(2)}}class Fp{#e;#t;#n;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let a=0;for(const p of Fp.strings){const m=t.encode(e[p]);n[p]=m,a+=4+m.length}a+=4;let s,i,l=1+a;e.style&&(s=t.encode(e.style.style),i=t.encode(e.style.weight),l+=4+s.length+4+i.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let f=0;d.setUint8(f++,e.guessFallback?1:0),d.setUint32(f,0),f+=4,a=0;for(const p of Fp.strings){const m=n[p],y=m.length;a+=4+y,d.setUint32(f,y),u.set(m,f+4),f+=4+y}return d.setUint32(f-a-4,a),e.style&&(d.setUint32(f,s.length),u.set(s,f+4),f+=4+s.length,d.setUint32(f,i.length),u.set(i,f+4),f+=4+i.length),ln(f<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(f)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#r(e){ln(e<Fp.strings.length,"Invalid string index");let t=5;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#r(0)}get loadedName(){return this.#r(1)}get baseFontName(){return this.#r(2)}get src(){return this.#r(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#n.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const a=this.#t.getUint32(e),s=this.#n.decode(new Uint8Array(this.#e,e+4,a));return{style:n,weight:s}}}class Jn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#n=this.#t+1+8;static#r=this.#n+1+48;static#i=this.#r+1+6;#a;#s;#o;constructor({data:e,extra:t}){this.#a=e,this.#s=new TextDecoder,this.#o=new DataView(this.#a),t&&Object.assign(this,t)}#c(e){ln(e<Jn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,a=this.#o.getUint8(t)>>n&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return ln(e<Jn.numbers.length,"Invalid number index"),this.#o.getFloat64(Jn.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Jn.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<4;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=Jn.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<6;a++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=Jn.#r;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<3;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#d(e){ln(e<Jn.strings.length,"Invalid string index");let t=Jn.#i+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,t+4,n)),this.#s.decode(a)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let e=Jn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#a,e+4,s)}clearData(){let e=Jn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Jn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);if(a===0)return null;const s=new Uint8Array(a);return s.set(new Uint8Array(this.#a,e+4,a)),new kp(s.buffer)}get systemFontInfo(){let e=Jn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,e+4,n)),new Fp(a.buffer)}static write(e){const t=e.systemFontInfo?Fp.write(e.systemFontInfo):null,n=e.cssFontInfo?kp.write(e.cssFontInfo):null,a=new TextEncoder,s={};let i=0;for(const g of Jn.strings)s[g]=a.encode(e[g]),i+=4+s[g].length;const l=Jn.#i+4+i+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let f=0;const p=Jn.bools.length;let m=0,y=0;for(let g=0;g<p;g++){const v=e[Jn.bools[g]];m|=(v===void 0?0:v?2:1)<<y,y+=2,(y===8||g===p-1)&&(d.setUint8(f++,m),m=0,y=0)}ln(f===Jn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const g of Jn.numbers)d.setFloat64(f,e[g]),f+=8;if(ln(f===Jn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(f++,4);for(const g of e.bbox)d.setInt16(f,g,!0),f+=2}else d.setUint8(f++,0),f+=8;if(ln(f===Jn.#n,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(f++,6);for(const g of e.fontMatrix)d.setFloat64(f,g,!0),f+=8}else d.setUint8(f++,0),f+=48;if(ln(f===Jn.#r,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(f++,1);for(const g of e.defaultVMetrics)d.setInt16(f,g,!0),f+=2}else d.setUint8(f++,0),f+=6;ln(f===Jn.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(Jn.#i,0),f+=4;for(const g of Jn.strings){const v=s[g],w=v.length;d.setUint32(f,w),u.set(v,f+4),f+=4+w}if(d.setUint32(Jn.#i,f-Jn.#i-4),!t)d.setUint32(f,0),f+=4;else{const g=t.byteLength;d.setUint32(f,g),ln(f+4+g<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),f+4),f+=4+g}if(!n)d.setUint32(f,0),f+=4;else{const g=n.byteLength;d.setUint32(f,g),ln(f+4+g<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(n),f+4),f+=4+g}return e.data===void 0?(d.setUint32(f,0),f+=4):(d.setUint32(f,e.data.length),u.set(e.data,f+4),f+=4+e.data.length),ln(f<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(f)}}class qh{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class cEe{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const hp=Symbol("INTERNAL");class uEe{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:n,usage:a,rbGroups:s}){this.#e=!!(e&Ol.DISPLAY),this.#t=!!(e&Ol.PRINT),this.name=t,this.intent=n,this.usage=a,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==hp&&la("Internal method `_setVisible` called."),this.#n=n,this.#r=t}}class AEe{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=Ol.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const n of e.groups)this.#t.set(n.id,new uEe(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(hp,!1);for(const n of e.on)this.#t.get(n)._setVisible(hp,!0);for(const n of e.off)this.#t.get(n)._setVisible(hp,!1);this.#n=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let a=1;a<t;a++){const s=e[a];let i;if(Array.isArray(s))i=this.#i(s);else if(this.#t.has(s))i=this.#t.get(s).visible;else return Mr(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return s5("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Mr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Mr(`Unknown optional content policy ${e.policy}.`),!0}return Mr(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const a=this.#t.get(e);if(!a){Mr(`Optional content group not found: ${e}`);return}if(n&&t&&a.rbGroups.length)for(const s of a.rbGroups)for(const i of s)i!==e&&this.#t.get(i)?._setVisible(hp,!1,!0);a._setVisible(hp,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const s=this.#t.get(a);if(s)switch(n){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new EV;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class dEe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){ln(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:i,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=l,s?.length>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});ln(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ln(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hEe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new fEe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class hEe{constructor(e,t,n=!1,a=null){this._stream=e,this._done=n||!1,this._filename=o5(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fEe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function mEe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),s(d)}if(t=i(r),t){const d=u(t);return s(d)}if(t=n("filename","i").exec(r),t){t=t[1];let d=l(t);return d=u(d),s(d)}function n(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function a(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(d,{fatal:!0}),m=kv(f);f=p.decode(m),e=!1}catch{}}return f}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=a("utf-8",d),e&&(d=a("iso-8859-1",d))),d}function i(d){const f=[];let p;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,g,v,w]=p;if(g=parseInt(g,10),g in f){if(g===0)break;continue}f[g]=[v,w]}const y=[];for(let g=0;g<f.length&&g in f;++g){let[v,w]=f[g];w=l(w),v&&(w=unescape(w),g===0&&(w=c(w))),y.push(w)}return y.join("")}function l(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let p=0;p<f.length;++p){const m=f[p].indexOf('"');m!==-1&&(f[p]=f[p].slice(0,m),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function c(d){const f=d.indexOf("'");if(f===-1)return d;const p=d.slice(0,f),y=d.slice(f+1).replace(/^[^']*'/,"");return a(p,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}),a(p,y);try{y=atob(y)}catch{}return a(p,y)})}return""}function PV(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const a=e[n];a!==void 0&&t.append(n,a)}return t}function l5(r){return URL.parse(r)?.origin??null}function IV({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(a.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function LV(r){const e=r.get("Content-Disposition");if(e){let t=mEe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(o5(t))return t}return null}function Iv(r,e){return new Uy(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function MV(r){return r===200||r===206}function RV(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function UV(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Mr(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class pEe{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=PV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ln(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gEe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new xEe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class gEe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),a=t.url;fetch(a,RV(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=l5(s.url),!MV(s.status))throw Iv(s.status,a);this._reader=s.body.getReader(),this._headersCapability.resolve();const i=s.headers,{allowRangeRequests:l,suggestedLength:c}=IV({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=LV(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new kd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:UV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class xEe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const i=a.url;fetch(i,RV(s,this._withCredentials,this._abortController)).then(l=>{const c=l5(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!MV(l.status))throw Iv(l.status,i);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:UV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const JB=200,ZB=206;function yEe(r){const e=r.response;return typeof e!="string"?e:kv(e).buffer}class vEe{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=PV(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,i]of this.headers)t.setRequestHeader(s,i);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=ZB):a.expectedStatus=JB,t.responseType="arraybuffer",ln(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){n.onError(a.status);return}const s=a.status||JB;if(!(s===JB&&n.expectedStatus===ZB)&&s!==n.expectedStatus){n.onError(a.status);return}const l=yEe(a);if(s===ZB){const c=a.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?n.onDone({begin:parseInt(u[1],10),chunk:l}):(Mr('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class bEe{constructor(e){this._source=e,this._manager=new vEe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ln(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wEe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new CEe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class wEe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=l5(t.responseURL);const n=t.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:i}=IV({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=LV(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Iv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class CEe{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=l5(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Iv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const NEe=/^[a-z][a-z0-9\-+.]+:/i;function SEe(r){if(NEe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class BEe{constructor(e){this.source=e,this.url=SEe(e.url),ln(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ln(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new EEe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new jEe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class EEe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Iv(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new kd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jEe{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Tx=Symbol("INITIAL_DATA");class QV{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Tx}}get(e,t=null){if(t){const a=this.#t(e);return a.promise.then(()=>t(a.data)),null}const n=this.#e[e];if(!n||n.data===Tx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Tx}delete(e){const t=this.#e[e];return!t||t.data===Tx?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Tx&&(yield[e,t])}}}const _Ee=1e5,$M=30;let Hy=class vc{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#i=null;#a=null;#s=0;#o=0;#c=null;#l=null;#d=0;#A=0;#h=Object.create(null);#p=[];#f=null;#u=[];#m=new WeakMap;#g=null;static#y=new Map;static#x=new Map;static#S=new WeakMap;static#C=null;static#v=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#A=n.scale*Cu.pixelRatio,this.#d=n.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:s,pageX:i,pageY:l}=n.rawDims;this.#g=[1,0,0,-1,-i,l+s],this.#o=a,this.#s=s,vc.#_(),nf(t,n),this.#e.promise.finally(()=>{vc.#v.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=bi.platform;return zr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#h,t.styles),this.#E(t.items),e()},this.#e.reject)};return this.#c=this.#f.getReader(),vc.#v.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Cu.pixelRatio,a=e.rotation;if(a!==this.#d&&(t?.(),this.#d=a,nf(this.#l,{rotation:a})),n!==this.#A){t?.(),this.#A=n;const s={div:null,properties:null,ctx:vc.#T(this.#i)};for(const i of this.#u)s.properties=this.#m.get(i),s.div=i,this.#N(s)}}cancel(){const e=new kd("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#p}#E(e){if(this.#n)return;this.#a.ctx??=vc.#T(this.#i);const t=this.#u,n=this.#p;for(const a of e){if(t.length>_Ee){Mr("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id&&this.#t.setAttribute("id",`${a.id}`),s.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(a.str),this.#w(a)}}#w(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const a=Gt.transform(this.#g,e.transform);let s=Math.atan2(a[1],a[0]);const i=this.#h[e.fontName];i.vertical&&(s+=Math.PI/2);let l=this.#r&&i.fontSubstitution||i.fontFamily;l=vc.fontFamilyMap.get(l)||l;const c=Math.hypot(a[2],a[3]),u=c*vc.#L(l,i,this.#i);let d,f;s===0?(d=a[4],f=a[5]-u):(d=a[4]+u*Math.sin(s),f=a[5]-u*Math.cos(s));const p="calc(var(--total-scale-factor) *",m=t.style;this.#t===this.#l?(m.left=`${(100*d/this.#o).toFixed(2)}%`,m.top=`${(100*f/this.#s).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${f.toFixed(2)}px)`),m.fontSize=`${p}${(vc.#C*c).toFixed(2)}px)`,m.fontFamily=l,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);g!==v&&Math.max(g,v)/Math.min(g,v)>1.5&&(y=!0)}if(y&&(n.canvasWidth=i.vertical?e.height:e.width),this.#m.set(t,n),this.#a.div=t,this.#a.properties=n,this.#N(this.#a),n.hasText&&this.#t.append(t),n.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#N(e){const{div:t,properties:n,ctx:a}=e,{style:s}=t;let i="";if(vc.#C>1&&(i=`scale(${1/vc.#C})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=n;vc.#j(a,u*this.#A,l);const{width:d}=a.measureText(t.textContent);d>0&&(i=`scaleX(${c*this.#A/d}) ${i}`)}n.angle!==0&&(i=`rotate(${n.angle}deg) ${i}`),i.length>0&&(s.transform=i)}static cleanup(){if(!(this.#v.size>0)){this.#y.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#T(e=null){let t=this.#x.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,t),this.#S.set(t,{size:0,family:""})}return t}static#j(e,t,n){const a=this.#S.get(e);t===a.size&&n===a.family||(e.font=`${t}px ${n}`,a.size=t,a.family=n)}static#_(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const a=this.#y.get(e);if(a)return a;const s=this.#T(n);s.canvas.width=s.canvas.height=$M,this.#j(s,$M,e);const i=s.measureText(""),l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return l?u=l/(l+c):(bi.platform.isFirefox&&Mr("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),this.#y.set(e,u),u}};const TEe=100;function rk(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new nk,{docId:t}=e,n=r.url?MBe(r.url):null,a=r.data?RBe(r.data):null,s=r.httpHeaders||null,i=r.withCredentials===!0,l=r.password??null,c=r.range instanceof ak?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let d=r.worker instanceof ng?r.worker:null;const f=r.verbosity,p=typeof r.docBaseUrl=="string"&&!Ov(r.docBaseUrl)?r.docBaseUrl:null,m=yb(r.cMapUrl),y=r.cMapPacked!==!1,g=r.CMapReaderFactory||(wo?VBe:kM),v=yb(r.iccUrl),w=yb(r.standardFontDataUrl),S=r.StandardFontDataFactory||(wo?qBe:FM),C=yb(r.wasmUrl),j=r.WasmFactory||(wo?GBe:OM),T=r.stopAtErrors!==!0,L=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,I=r.isEvalSupported!==!1,D=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!wo,k=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!wo&&(bi.platform.isFirefox||!globalThis.chrome),z=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,P=typeof r.disableFontFace=="boolean"?r.disableFontFace:wo,U=r.fontExtraProperties===!0,M=r.enableXfa===!0,q=r.ownerDocument||globalThis.document,ae=r.disableRange===!0,W=r.disableStream===!0,ee=r.disableAutoFetch===!0,re=r.pdfBug===!0,pe=r.CanvasFactory||(wo?$Be:HBe),Se=r.FilterFactory||(wo?KBe:zBe),ne=r.enableHWA===!0,F=r.useWasm!==!1,Q=c?c.length:r.length??NaN,K=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!wo&&!P,V=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(g===kM&&S===FM&&j===OM&&m&&w&&C&&Vx(m,document.baseURI)&&Vx(w,document.baseURI)&&Vx(C,document.baseURI)),J=null;yBe(f);const oe={canvasFactory:new pe({ownerDocument:q,enableHWA:ne}),filterFactory:new Se({docId:t,ownerDocument:q}),cMapReaderFactory:V?null:new g({baseUrl:m,isCompressed:y}),standardFontDataFactory:V?null:new S({baseUrl:w}),wasmFactory:V?null:new j({baseUrl:C})};d||(d=ng.create({verbosity:f,port:qh.workerPort}),e._worker=d);const Ne={docId:t,apiVersion:"5.4.296",data:a,password:l,disableAutoFetch:ee,rangeChunkSize:u,length:Q,docBaseUrl:p,enableXfa:M,evaluatorOptions:{maxImageSize:L,disableFontFace:P,ignoreErrors:T,isEvalSupported:I,isOffscreenCanvasSupported:D,isImageDecoderSupported:k,canvasMaxAreaInBytes:z,fontExtraProperties:U,useSystemFonts:K,useWasm:F,useWorkerFetch:V,cMapUrl:m,iccUrl:v,standardFontDataUrl:w,wasmUrl:C}},ue={ownerDocument:q,pdfBug:re,styleElement:J,loadingParams:{disableAutoFetch:ee,enableXfa:M}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const xe=d.messageHandler.sendWithPromise("GetDocRequest",Ne,a?[a.buffer]:null);let Oe;if(c)Oe=new dEe(c,{disableRange:ae,disableStream:W});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Be=Vx(n)?pEe:wo?BEe:bEe;Oe=new Be({url:n,length:Q,httpHeaders:s,withCredentials:i,rangeChunkSize:u,disableRange:ae,disableStream:W})}return xe.then(Be=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const qe=new qx(t,Be,d.port),Pe=new OEe(qe,e,Oe,ue,oe,ne);e._transport=Pe,qe.send("Ready",null)})}).catch(e._capability.reject),e}class nk{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${nk.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let ak=class{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#i=[];constructor(e,t,n=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#i)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#r)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){la("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class kEe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return zr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class FEe{#e=!1;constructor(e,t,n,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=a?new NM:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new QV,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:s=!1}={}){return new Fv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return zr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:a="display",annotationMode:s=dA.ENABLE,transform:i=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:p=!1,recordOperations:m=!1,operationsFilter:y=null}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(a,s,f,p),{renderingIntent:v,cacheKey:w}=g;this.#e=!1,c||=this._transport.getOptionalContentConfig(v);let S=this._intentStates.get(w);S||(S=Object.create(null),this._intentStates.set(w,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(v&Ol.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(m||j),L=k=>{if(S.renderTasks.delete(I),T){const z=I.gfx?.dependencyTracker.take();z&&(I.stepper&&I.stepper.setOperatorBBoxes(z,I.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=z))}C&&(this.#e=!0),this.#t(),k?(I.capability.reject(k),this._abortOperatorList({intentState:S,reason:k instanceof Error?k:new Error(k)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},I=new bp({callback:L,params:{canvas:t,canvasContext:e,dependencyTracker:T?new YBe(t,S.operatorList.length,j):null,viewport:n,transform:i,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:y});(S.renderTasks||=new Set).add(I);const D=I.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([k,z])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!(z.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");I.initializeGraphics({transparency:k,optionalContentConfig:z}),I.operatorListChanged()}).catch(L),D}getOperatorList({intent:e="display",annotationMode:t=dA.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const i=this._transport.getRenderingIntent(e,t,n,a,!0);let l=this._intentStates.get(i.cacheKey);l||(l=Object.create(null),this._intentStates.set(i.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Qy.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,a){function s(){i.read().then(function({value:c,done:u}){if(u){n(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},a)}const i=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new NM),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,a=e.length;n<a;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:a}){const{map:s,transfer:i}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:a},i).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:f,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,u),d())},f=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();this.#t()}if(u.displayReadyCapability)u.displayReadyCapability.reject(f);else if(u.opListReadCapability)u.opListReadCapability.reject(f);else throw f}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof i5){let a=TEe;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new kd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,s]of this._intentStates)if(s===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Mh,pu,od,A0,eC,d0,h0,jo,mw,HV,zV,Gx,Up,pw;const Fa=class Fa{constructor({name:e=null,port:t=null,verbosity:n=vBe()}={}){Xu(this,jo);Xu(this,Mh,Promise.withResolvers());Xu(this,pu,null);Xu(this,od,null);Xu(this,A0,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(ja(Fa,h0).has(t))throw new Error("Cannot use more than one PDFWorker per port.");ja(Fa,h0).set(t,this),Ju(this,jo,HV).call(this,t)}else Ju(this,jo,zV).call(this)}get promise(){return ja(this,Mh).promise}get port(){return ja(this,od)}get messageHandler(){return ja(this,pu)}destroy(){this.destroyed=!0,ja(this,A0)?.terminate(),Yo(this,A0,null),ja(Fa,h0).delete(ja(this,od)),Yo(this,od,null),ja(this,pu)?.destroy(),Yo(this,pu,null)}static create(e){const t=ja(this,h0).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Fa(e)}static get workerSrc(){if(qh.workerSrc)return qh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return zr(this,"_setupFakeWorkerGlobal",(async()=>ja(this,Up,pw)?ja(this,Up,pw):(await import(this.workerSrc)).WorkerMessageHandler)())}};Mh=new WeakMap,pu=new WeakMap,od=new WeakMap,A0=new WeakMap,eC=new WeakMap,d0=new WeakMap,h0=new WeakMap,jo=new WeakSet,mw=function(){ja(this,Mh).resolve(),ja(this,pu).send("configure",{verbosity:this.verbosity})},HV=function(e){Yo(this,od,e),Yo(this,pu,new qx("main","worker",e)),ja(this,pu).on("ready",()=>{}),Ju(this,jo,mw).call(this)},zV=function(){if(ja(Fa,d0)||ja(Fa,Up,pw)){Ju(this,jo,Gx).call(this);return}let{workerSrc:e}=Fa;try{Fa._isSameOrigin(window.location,e)||(e=Fa._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new qx("main","worker",t),a=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?ja(this,Mh).reject(new Error("Worker was destroyed")):Ju(this,jo,Gx).call(this)},s=new AbortController;t.addEventListener("error",()=>{ja(this,A0)||a()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){a();return}Yo(this,pu,n),Yo(this,od,t),Yo(this,A0,t),Ju(this,jo,mw).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){a();return}try{i()}catch{Ju(this,jo,Gx).call(this)}});const i=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};i();return}catch{s5("The worker has been disabled.")}Ju(this,jo,Gx).call(this)},Gx=function(){ja(Fa,d0)||(Mr("Setting up fake worker."),Yo(Fa,d0,!0)),Fa._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){ja(this,Mh).reject(new Error("Worker was destroyed"));return}const t=new QBe;Yo(this,od,t);const n=`fake${UO(Fa,eC)._++}`,a=new qx(n+"_worker",n,t);e.setup(a,t),Yo(this,pu,new qx(n,n+"_worker",t)),Ju(this,jo,mw).call(this)}).catch(e=>{ja(this,Mh).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Up=new WeakSet,pw=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Xu(Fa,Up),Xu(Fa,eC,0),Xu(Fa,d0,!1),Xu(Fa,h0,new WeakMap),wo&&(Yo(Fa,d0,!0),qh.workerSrc||="./pdf.worker.mjs"),Fa._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const a=new URL(t,n);return n.origin===a.origin},Fa._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Fa.fromPort=e=>{if(_Be("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Fa.create(e)};let ng=Fa;class OEe{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#i=null;constructor(e,t,n,a,s,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new QV,this.fontLoader=new IBe({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=i,this.setupMessageHandler()}#a(e,t=null){const n=this.#e.get(e);if(n)return n;const a=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,a),a}get annotationStorage(){return zr(this,"annotationStorage",new J3)}getRenderingIntent(e,t=dA.ENABLE,n=null,a=!1,s=!1){let i=Ol.DISPLAY,l=hj;switch(e){case"any":i=Ol.ANY;break;case"display":break;case"print":i=Ol.PRINT;break;default:Mr(`getRenderingIntent - invalid intent: ${e}`)}const c=i&Ol.PRINT&&n instanceof jV?n:this.annotationStorage;switch(t){case dA.DISABLE:i+=Ol.ANNOTATIONS_DISABLE;break;case dA.ENABLE:break;case dA.ENABLE_FORMS:i+=Ol.ANNOTATIONS_FORMS;break;case dA.ENABLE_STORAGE:i+=Ol.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Mr(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(i+=Ol.IS_EDITING),s&&(i+=Ol.OPLIST);const{ids:u,hash:d}=c.modifiedIds,f=[i,l.hash,d];return{renderingIntent:i,cacheKey:f.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Hy.cleanup(),this._networkStream?.cancelAllRequests(new kd("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,a)=>{ln(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},a.onPull=()=>{this._fullReader.read().then(function({value:s,done:i}){if(i){a.close();return}ln(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{this._fullReader.cancel(s),a.ready.catch(i=>{if(!this.destroyed)throw i})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:s,contentLength:i}=this._fullReader;return(!a||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:a,isRangeSupported:s,contentLength:i}}),e.on("GetRangeReader",(n,a)=>{ln(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){a.close();return}a.onPull=()=>{s.read().then(function({value:i,done:l}){if(l){a.close();return}ln(i instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{a.error(i)})},a.onCancel=i=>{s.cancel(i),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new kEe(n,this))}),e.on("DocException",n=>{t._capability.reject(Jo(n))}),e.on("PasswordRequest",n=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw Jo(n);const a=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};t.onPassword(a,n.code)}catch(a){this.#i.reject(a)}return this.#i.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,a,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in s){const d=s.error;Mr(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const i=new Jn(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,c=new LBe(i,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;ln(u,"The imageRef must be defined.");for(const d of this.#t.values())for(const[,f]of d.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([n,a,s,i])=>{if(this.destroyed)return;const l=this.#t.get(a);if(!l.objs.has(n)){if(l._intentStates.size===0){i?.bitmap?.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,i);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Mr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const i=new FEe(t,s,this,this._params.pdfBug);return this.#t.set(t,i),i});return this.#n.set(t,a),a}getPageIndex(e){return fj(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(t=>new AEe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new cEe(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Hy.cleanup()}}cachedPageNumber(e){if(!fj(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class DEe{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class bp{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:a,annotationCanvasMap:s,operatorList:i,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:p=null,enableHWA:m=!1,operationsFilter:y=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new DEe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(bp.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");bp.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:s,dependencyTracker:i}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Tp(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,i),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),bp.#t.delete(this._canvas),e||=new i5(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),bp.#t.delete(this._canvas),this.callback())))}}const KV="5.4.296",$V="f56dc8601";class Dl{#e=null;#t=null;#n;#r=null;#i=!1;#a=!1;#s=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return zr(this,"_keyboardManager",new Dv([[["Escape","mac+Escape"],Dl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Dl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Dl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Dl.prototype._moveToPrevious],[["Home","mac+Home"],Dl.prototype._moveToBeginning],[["End","mac+End"],Dl.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#a=!1,this.#s=e):this.#a=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Dl.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#s&&(e.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#f.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#r=this.#A();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#A(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Gl,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(e.id=`${this.#s.id}_colorpicker_dropdown`);for(const[n,a]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",a),s.title=n,s.setAttribute("data-l10n-id",Dl.#d[n]);const i=document.createElement("span");s.append(i),i.className="swatch",i.style.backgroundColor=a,s.ariaSelected=a===this.#n,s.addEventListener("click",this.#h.bind(this,a),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:nn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#f(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#m){this.#f(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#f(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#f(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#f(e);return}this.#r.lastChild?.focus()}#p(e){Dl._keyboardManager.exec(this,e)}#f(e){if(this.#m){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#A();this.#e.append(t)}#u(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#s?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class zy{#e=null;#t=null;#n=null;static#r=null;constructor(e){this.#t=e,this.#n=e._uiManager,zy.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:n}=this.#t,a=this.#e=document.createElement("input");return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",zy.#r[e]),a.addEventListener("input",()=>{this.#n.updateParams(t,a.value)},{signal:this.#n._signal}),a}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function VM(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function kx(r){return Math.max(0,Math.min(255,255*r))}class qM{static CMYK_G([e,t,n,a]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kx(e),[e,e,e]}static G_HTML([e]){const t=VM(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(kx)}static RGB_HTML(e){return`#${e.map(VM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,n+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,n,a]){return[kx(1-Math.min(1,e+a)),kx(1-Math.min(1,n+a)),kx(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const a=1-e,s=1-t,i=1-n,l=Math.min(a,s,i);return["CMYK",a,s,i,l]}}class PEe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){la("Abstract method `_createSVG` called.")}}class Ky extends PEe{_createSVG(e){return document.createElementNS(sd,e)}}const IEe=9,R0=new WeakSet,LEe=new Date().getTimezoneOffset()*60*1e3;class GM{static create(e){switch(e.data.annotationType){case ps.LINK:return new sk(e);case ps.TEXT:return new REe(e);case ps.WIDGET:switch(e.data.fieldType){case"Tx":return new UEe(e);case"Btn":return e.data.radioButton?new VV(e):e.data.checkBox?new HEe(e):new zEe(e);case"Ch":return new KEe(e);case"Sig":return new QEe(e)}return new tm(e);case ps.POPUP:return new gj(e);case ps.FREETEXT:return new qV(e);case ps.LINE:return new VEe(e);case ps.SQUARE:return new qEe(e);case ps.CIRCLE:return new GEe(e);case ps.POLYLINE:return new GV(e);case ps.CARET:return new YEe(e);case ps.INK:return new ik(e);case ps.POLYGON:return new WEe(e);case ps.HIGHLIGHT:return new WV(e);case ps.UNDERLINE:return new XEe(e);case ps.SQUIGGLY:return new JEe(e);case ps.STRIKEOUT:return new ZEe(e);case ps.STAMP:return new YV(e);case ps.FILEATTACHMENT:return new e4e(e);default:return new Ga(e)}}}class Ga{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ga._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:a}=this.data;let s=-1/0,i=-1/0;if(t?.length>=8){for(let l=0;l<t.length;l+=8)t[l+1]>i?(i=t[l+1],s=t[l+2]):t[l+1]===i&&(s=Math.max(s,t[l+2]));return[s,i]}if(n?.length>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>i?(i=l[c+1],s=l[c]):l[c+1]===i&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,i]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-i)/a,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Ry}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Ry}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#r(t);let a=this.#n?.popup||this.popup;!a&&n?.text&&(this._createPopup(n),a=this.#n.popup),a&&(a.updateEdited(e),n?.deleted&&(a.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:l,pageY:c}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(i-e[3]+c)/i}%`,a===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/i}%`):this.setRotation(a)}_createContainer(e){const{data:t,parent:{page:n,viewport:a}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof tm)&&!(this instanceof sk)&&(s.tabIndex=0);const{style:i}=s;if(i.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof gj){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(g>0||v>0){const S=`calc(${g}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;i.borderRadius=S}else if(this instanceof VV){const S=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;i.borderRadius=S}switch(t.borderStyle.style){case dp.SOLID:i.borderStyle="solid";break;case dp.DASHED:i.borderStyle="dashed";break;case dp.BEVELED:Mr("Unimplemented border style: beveled");break;case dp.INSET:Mr("Unimplemented border style: inset");break;case dp.UNDERLINE:i.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(this.#t=!0,i.borderColor=Gt.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):i.borderWidth=0}const u=Gt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:f,pageX:p,pageY:m}=a.rawDims;i.left=`${100*(u[0]-p)/d}%`,i.top=`${100*(u[1]-m)/f}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(i.width=`${100*l/d}%`,i.height=`${100*c/f}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:s,height:i}=this;e%180!==0&&([s,i]=[i,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*i/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,a)=>{const s=a.detail[t],i=s[0],l=s.slice(1);a.target.style[n]=qM[`${i}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:qM[`${i}_rgb`](l)})};return zr(this,"_commonActions",{display:t=>{const{display:n}=t.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const a of Object.keys(t.detail))(e[a]||n[a])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[a,s]of Object.entries(t)){const i=n[a];if(i){const l={detail:{[a]:s},target:e};i(l),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,a,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,v,w,S]=e.subarray(2,6);if(a===g&&s===v&&t===w&&n===S)return}const{style:i}=this.container;let l;if(this.#t){const{borderColor:g,borderWidth:v}=i;i.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const c=a-t,u=s-n,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const p=d.createElement("defs");f.append(p);const m=d.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let g=2,v=e.length;g<v;g+=8){const w=e[g],S=e[g+1],C=e[g+2],j=e[g+3],T=d.createElement("rect"),L=(C-t)/c,I=(s-S)/u,D=(w-C)/c,k=(S-j)/u;T.setAttribute("x",L),T.setAttribute("y",I),T.setAttribute("width",D),T.setAttribute("height",k),m.append(T),l?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${I}" width="${D}" height="${k}"/>`)}this.#t&&(l.push("</g></svg>')"),i.backgroundImage=l.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let n,a;e?(n={str:e.text},a=e.date):(n=t.contentsObj,a=t.modificationDate);const s=this.#n=new gj({data:{color:t.color,titleObj:t.titleObj,modificationDate:a,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){la("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:s,id:i,exportValues:l}of a){if(s===-1||i===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${i}"]`);if(u&&!R0.has(u)){Mr(`_getElementsByName - element not allowed: ${i}`);continue}n.push({id:i,exportValue:c,domElement:u})}return n}for(const a of document.getElementsByName(e)){const{exportValue:s}=a,i=a.getAttribute("data-element-id");i!==t&&R0.has(a)&&n.push({id:i,exportValue:s,domElement:a})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class MEe extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class sk extends Ga{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),a=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(this.#n(n,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),a=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(n,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",a=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,a),!1),this.#e()}#n(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const s=n.get(a);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Mr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:a,refs:s,include:i}=t,l=[];if(a.length!==0||s.length!==0){const d=new Set(s);for(const f of a){const p=this._fieldObjects[f]||[];for(const{id:m}of p)d.add(m)}for(const f of Object.values(this._fieldObjects))for(const p of f)d.has(p.id)===i&&l.push(p)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:f}=d;switch(u.push(f),d.type){case"text":{const m=d.defaultValue||"";c.setValue(f,{value:m});break}case"checkbox":case"radiobutton":{const m=d.defaultValue===d.exportValues;c.setValue(f,{value:m});break}case"combobox":case"listbox":{const m=d.defaultValue||"";c.setValue(f,{value:m});break}default:continue}const p=document.querySelector(`[data-element-id="${f}"]`);if(p){if(!R0.has(p)){Mr(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}}}class REe extends Ga{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class tm extends Ga{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,a,s){n.includes("mouse")?e.addEventListener(n,i=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i),shift:i.shiftKey,modifier:this._getKeyModifier(i)}})}):e.addEventListener(n,i=>{if(n==="blur"){if(!t.focused||!i.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i)}})})}_setEventListeners(e,t,n,a){for(const[s,i]of n)(i==="Action"||this.data.actions?.[i])&&((i==="Focus"||i==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,i,a),i==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):i==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Gt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||IEe,s=e.style;let i;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(VB*a))||1,f=u/d;i=Math.min(a,c(f/VB))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);i=Math.min(a,c(u/VB))}s.fontSize=`calc(${i}px * var(--total-scale-factor))`,s.color=Gt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class UEe extends tm{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,a){const s=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=n),s.setValue(i.id,{[a]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let s=a.value||"";const i=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;i&&s.length>i&&(s=s.slice(0,i));let l=a.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),R0.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:d,timeStep:f}=this.data,p=!!d&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",y=>{const g=this.data.defaultFieldValue??"";n.value=c.userValue=g,c.formattedValue=null});let m=y=>{const{formattedValue:g}=c;g!=null&&(y.target.value=g),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{if(c.focused)return;const{target:v}=g;if(p&&(v.type=d,f&&(v.step=f)),c.userValue){const w=c.userValue;if(p)if(d==="time"){const S=new Date(w),C=[S.getHours(),S.getMinutes(),S.getSeconds()];v.value=C.map(j=>j.toString().padStart(2,"0")).join(":")}else v.value=new Date(w-LEe).toISOString().split(d==="date"?"T":".",1)[0];else v.value=w}c.lastCommittedValue=v.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const v={value(w){c.userValue=w.detail.value??"",p||e.setValue(t,{value:c.userValue.toString()}),w.target.value=c.userValue},formattedValue(w){const{formattedValue:S}=w.detail;c.formattedValue=S,S!=null&&w.target!==document.activeElement&&(w.target.value=S);const C={formattedValue:S};p&&(C.value=S),e.setValue(t,C)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:S}=w.detail,{target:C}=w;if(S===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",S);let j=c.userValue;!j||j.length<=S||(j=j.slice(0,S),C.value=c.userValue=j,e.setValue(t,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(v,g)}),n.addEventListener("keydown",g=>{c.commitKey=1;let v=-1;if(g.key==="Escape"?v=0:g.key==="Enter"&&!this.data.multiLine?v=2:g.key==="Tab"&&(c.commitKey=3),v===-1)return;const{value:w}=g.target;c.lastCommittedValue!==w&&(c.lastCommittedValue=w,c.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:v,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const y=m;m=null,n.addEventListener("blur",g=>{if(!c.focused||!g.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:v}=g;let{value:w}=v;if(p){if(w&&d==="time"){const S=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,S[0],S[1],S[2]||0).valueOf(),v.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();v.type="text"}c.userValue=w,c.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:c.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),y(g)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",g=>{c.lastCommittedValue=null;const{data:v,target:w}=g,{value:S,selectionStart:C,selectionEnd:j}=w;let T=C,L=j;switch(g.inputType){case"deleteWordBackward":{const I=S.substring(0,C).match(/\w*[^\w]*$/);I&&(T-=I[0].length);break}case"deleteWordForward":{const I=S.substring(C).match(/^[^\w]*\w*/);I&&(L+=I[0].length);break}case"deleteContentBackward":C===j&&(T-=1);break;case"deleteContentForward":C===j&&(L+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:v||"",willCommit:!1,selStart:T,selEnd:L}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class QEe extends tm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class HEe extends tm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return R0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue||"Off";i.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",i=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,i)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],i=>i.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class VV extends tm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(n,{value:a})),a)for(const i of this._getElementsByName(t.fieldName,n))e.setValue(i.id,{value:!1});const s=document.createElement("input");if(R0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue;i.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=i===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const p=d&&f.id===n;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class zEe extends sk{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class KEe extends tm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");R0.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const p of a.options)p.selected=p.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,n.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),s=!1),a.append(f)}let i=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),a.prepend(d),i=()=>{d.remove(),a.removeEventListener("input",i),i=null},a.addEventListener("input",i)}const l=d=>{const f=d?"value":"textContent",{options:p,multiple:m}=a;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let c=l(!1);const u=d=>{const f=d.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",d=>{const f={value(p){i?.();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const g of a.options)g.selected=y.has(g.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(p){a.multiple=!0},remove(p){const m=a.options,y=p.detail.remove;m[y].selected=!1,a.remove(y),m.length>0&&Array.prototype.findIndex.call(m,v=>v.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},clear(p){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(p){const{index:m,displayValue:y,exportValue:g}=p.detail.insert,v=a.children[m],w=document.createElement("option");w.textContent=y,w.value=g,v?v.before(w):a.append(w),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},items(p){const{items:m}=p.detail;for(;a.length!==0;)a.remove(0);for(const y of m){const{displayValue:g,exportValue:v}=y,w=document.createElement("option");w.textContent=g,w.value=v,a.append(w)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,d)}),a.addEventListener("input",d=>{const f=l(!0),p=l(!1);e.setValue(t,{value:f}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):a.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class gj extends Ga{constructor(e){const{data:t,elements:n,parent:a}=e,s=!!a._commentManager;if(super(e,{isRenderable:!s&&Ga._hasPopupData(t)}),this.elements=n,s&&Ga._hasPopupData(t)){const i=this.popup=this.#e();for(const l of n)l.popup=i}else this.popup=null}#e(){return new $Ee({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${q3}${a}`).join(",")),this.container}}class $Ee{#e=null;#t=this.#K.bind(this);#n=this.#R.bind(this);#r=this.#O.bind(this);#i=this.#b.bind(this);#a=null;#s=null;#o=null;#c=null;#l=null;#d=null;#A=null;#h=!1;#p=null;#f=null;#u=null;#m=null;#g=null;#y=null;#x=null;#S=null;#C=null;#v=null;#E=!1;#w=null;#N=null;constructor({container:e,color:t,elements:n,titleObj:a,modificationDate:s,contentsObj:i,richText:l,parent:c,rect:u,parentRect:d,open:f,commentManager:p=null}){this.#s=e,this.#C=a,this.#o=i,this.#S=l,this.#d=c,this.#a=t,this.#x=u,this.#A=d,this.#l=n,this.#e=p,this.#w=n[0],this.#c=I2.toDateObject(s),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup()),p?this.renderCommentButton():(this.#T(),this.#s.hidden=!0,f&&this.#b())}#T(){if(this.#f)return;this.#f=new AbortController;const{signal:e}=this.#f;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("pointerenter",this.#r,{signal:e}),t.addEventListener("pointerleave",this.#n,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#j(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#g=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#g||this.#j(),!this.#g))return;const{signal:e}=this.#f=new AbortController,t=!!this.#w.extraPopupElement,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#w.container;for(const i of this.trigger)i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),i.classList.add("popupTriggerArea")}else{const i=this.#m=document.createElement("button");i.className="annotationCommentButton";const l=this.#w.container;i.style.zIndex=l.style.zIndex+1,i.tabIndex=0,i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#_(),i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),l.after(i)}}#_(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[e,t]=this.#g,{style:n}=this.#m;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#L(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#w.commentData;return e?this.#d._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}}get elementBeforePopup(){return this.#m}get comment(){return this.#N||=this.#w.commentText,this.#N}set comment(e){e!==this.comment&&(this.#w.commentText=this.#N=e)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:e,y:t,height:n}=this.#m.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#w.layer.getBoundingClientRect();return[(e-a)/i,(t+n-s)/l]}set commentPopupPosition(e){this.#y=e}hasDefaultPopupPosition(){return this.#y===null}get commentButtonPosition(){return this.#g}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#y||this.commentButtonPosition.map(u=>u/100),a=this.parentBoundingClientRect,{x:s,y:i,width:l,height:c}=a;this.#e.showDialog(null,this,s+t*l,i+n*c,{...e,parentDimensions:a})}render(){if(this.#p)return;const e=this.#p=document.createElement("div");if(e.className="popup",this.#a){const n=e.style.outlineColor=Gt.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#C?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#C}if(e.append(t),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),t.append(n)}W3({html:this.#F||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#s.append(e)}get#F(){const e=this.#S,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#S.html||null}get#D(){return this.#F?.attributes?.style?.fontSize||0}get#M(){return this.#F?.attributes?.style?.color||null}#P(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:this.#M,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:a});return n}#K(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#b()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#N=null):t&&(t.deleted?this.remove():(this.#L(),this.#N=t.text)),e&&(this.#g=null,this.#j(),this.#_());return}if(n||t?.deleted){this.remove();return}this.#T(),this.#v||={contentsObj:this.#o,richText:this.#S},e&&(this.#u=null),t&&t.text&&(this.#S=this.#P(t.text),this.#c=I2.toDateObject(t.date),this.#o=null),this.#p?.remove(),this.#p=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#S}=this.#v,this.#v=null,this.#p?.remove(),this.#p=null,this.#u=null)}remove(){if(this.#f?.abort(),this.#f=null,this.#p?.remove(),this.#p=null,this.#E=!1,this.#h=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#B(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:a,pageY:s}}}=this.#d;let i=!!this.#A,l=i?this.#A:this.#x;for(const y of this.#l)if(!l||Gt.intersect(y.data.rect,l)!==null){l=y.data.rect,i=!0;break}const c=Gt.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=i?l[2]-l[0]+5:0,f=c[0]+d,p=c[1];this.#u=[100*(f-a)/t,100*(p-s)/n];const{style:m}=this.#s;m.left=`${this.#u[0]}%`,m.top=`${this.#u[1]}%`}#b(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#O(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#R(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#O(){this.#p||this.render(),this.isVisible?this.#h&&this.#s.classList.add("focused"):(this.#B(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#R(){this.#s.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#s.hidden=!0)}maybeShow(){this.#e||(this.#T(),this.#E&&(this.#p||this.#O(),this.#E=!1,this.#s.hidden=!1))}get isVisible(){return this.#e?!1:this.#s.hidden===!1}}class qV extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Lr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class VEe extends Ga{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class qEe extends Ga{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",s/2),i.setAttribute("y",s/2),i.setAttribute("width",t-s),i.setAttribute("height",n-s),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class GEe extends Ga{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-s/2),i.setAttribute("ry",n/2-s/2),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class GV extends Ga{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:a},width:s,height:i}=this;if(!t)return this.container;const l=this.svgFactory.create(s,i,!0);let c=[];for(let d=0,f=t.length;d<f;d+=2){const p=t[d]-e[0],m=e[3]-t[d+1];c.push(`${p},${m}`)}c=c.join(" ");const u=this.#e=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",c),u.setAttribute("stroke-width",n.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class WEe extends GV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YEe extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ik extends Ga{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Lr.HIGHLIGHT:Lr.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:a,popupRef:s}}=this,{transform:i,width:l,height:c}=this.#n(t,e),u=this.svgFactory.create(l,c,!0),d=this.#e=this.svgFactory.createElement("svg:g");u.append(d),d.setAttribute("stroke-width",a.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",i);for(let f=0,p=n.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",n[f].join(",")),d.append(m)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:a}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let i=0,l=this.#t.length;i<l;i++)this.#t[i].setAttribute("points",n[i].join(","));if(a){const{transform:i,width:l,height:c}=this.#n(this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),s.setAttribute("transform",i)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class WV extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Lr.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class XEe extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class JEe extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class ZEe extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class YV extends Ga{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Lr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class e4e extends Ga{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:a}=bi.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let ok=class XV{#e=null;#t=null;#n=null;#r=new Map;#i=null;#a=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:a,page:s,viewport:i,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:d}){this.div=e,this.#e=t,this.#t=n,this.#i=l||null,this.#a=u||null,this.#n=d||new J3,this.page=s,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=c||null}hasEditableAnnotations(){return this.#r.size>0}async#s(e,t,n){const a=e.firstChild||e,s=a.id=`${q3}${t}`,i=await this.#i?.getAriaAttributes(s);if(i)for(const[l,c]of i)a.setAttribute(l,c);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:t}=e,n=this.div;nf(n,this.viewport);const a=new Map,s={data:null,layer:n,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Ky,annotationStorage:this.#n,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const l=i.annotationType===ps.POPUP;if(l){const d=a.get(i.id);if(!d)continue;s.elements=d}else if(i.rect[2]===i.rect[0]||i.rect[3]===i.rect[1])continue;s.data=i;const c=GM.create(s);if(!c.isRenderable)continue;if(!l&&i.popupRef){const d=a.get(i.popupRef);d?d.push(c):a.set(i.popupRef,[c])}const u=c.render();i.hidden&&(u.style.visibility="hidden"),await this.#s(u,i.id,s.elements),c.extraPopupElement?.popup?.renderCommentButton(),c._isEditable&&(this.#r.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#a,svgFactory:new Ky,parent:this};for(const n of e){n.borderStyle||=XV._defaultBorderStyle,t.data=n;const a=GM.create(t);if(!a.isRenderable)continue;const s=a.render();await this.#s(s,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,nf(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):a.append(n);const i=this.#r.get(t);i&&(i._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,a.id,n),i._hasNoCanvas=!1):i.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(e){return this.#r.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:a}=e,s=new MEe({data:{id:n,rect:e.getPDFRect(),rotation:a},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#n}),i=s.render();return t.append(i),this.#e?.moveElementInDOM(t,i,i,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return zr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:dp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Sb=/\r\n?|\n/g;class Ai extends wr{#e="";#t=`${this.id}-editor`;#n=null;#r;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Ai.prototype,t=s=>s.isEmpty(),n=Fd.TRANSLATE_SMALL,a=Fd.TRANSLATE_BIG;return zr(this,"_keyboardManager",new Dv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=Lr.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Ai._defaultColor||wr._defaultLineColor,this.#r=e.fontSize||Ai._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){wr.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case nn.FREETEXT_SIZE:Ai._defaultFontSize=t;break;case nn.FREETEXT_COLOR:Ai._defaultColor=t;break}}updateParams(e,t){switch(e){case nn.FREETEXT_SIZE:this.#i(t);break;case nn.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[nn.FREETEXT_SIZE,Ai._defaultFontSize],[nn.FREETEXT_COLOR,Ai._defaultColor||wr._defaultLineColor]]}get propertiesToUpdate(){return[[nn.FREETEXT_SIZE,this.#r],[nn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new zy(this),[["colorPicker",this._colorPicker]]}get colorType(){return nn.FREETEXT_COLOR}#i(e){const t=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#o()},n=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const t=a=>{this.color=a,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ai._internalPadding*e,-(Ai._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Ai.#c(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,i=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=i,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#s().trimEnd();if(e===t)return;const n=a=>{if(this.#e=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ai._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=e+(i[0]-f)/u,y=t+this.height-(i[1]-p)/d;break;case 90:m=e+(i[0]-f)/u,y=t-(i[1]-p)/d,[l,c]=[c,-l];break;case 180:m=e-this.width+(i[0]-f)/u,y=t-(i[1]-p)/d,[l,c]=[-l,-c];break;case 270:m=e+(i[0]-f-this.height*d)/u,y=t+(i[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(m*a,y*s,l,c)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Sb,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const a=Ai.#A(t.getData("text")||"").replaceAll(Sb,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const i=s.getRangeAt(0);if(!a.includes(`
`)){i.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=i,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(Sb,"")),m!==this.editorDiv){let y=u;for(const g of this.editorDiv.childNodes){if(g===m){y=d;continue}y.push(Ai.#c(g))}}u.push(l.nodeValue.slice(0,c).replaceAll(Sb,""))}else if(l===this.editorDiv){let m=u,y=0;for(const g of this.editorDiv.childNodes)y++===c&&(m=d),m.push(Ai.#c(g))}this.#e=`${u.join(`
`)}${a}${d.join(`
`)}`,this.#l();const f=new Range;let p=Math.sumPrecise(u.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){f.setStart(m,p),f.setEnd(m,p);break}p-=y}s.removeAllRanges(),s.addRange(f)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#d(){return this.#e.replaceAll(""," ")}static#A(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ai._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let a=null;if(e instanceof qV){const{data:{defaultAppearanceData:{fontSize:i,fontColor:l},rect:c,rotation:u,id:d,popupRef:f,richText:p,contentsObj:m,creationDate:y,modificationDate:g},textContent:v,textPosition:w,parent:{page:{pageNumber:S}}}=e;if(!v||v.length===0)return null;a=e={annotationType:Lr.FREETEXT,color:Array.from(l),fontSize:i,value:v.join(`
`),position:w,pageIndex:S-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:f,comment:m?.str||null,richText:p,creationDate:y,modificationDate:g}}const s=await super.deserialize(e,t,n);return s.#r=e.fontSize,s.color=Gt.makeHexColor(...e.color),s.#e=Ai.#A(e.value),s._initialData=a,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=wr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#r,value:this.#d()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#h(n)?null:(n.id=this.annotationElementId,n)}#h(e){const{value:t,fontSize:n,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((i,l)=>i!==a[l])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const a of this.#e.split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class qt{static PRECISION=1e-4;toSVGPath(){la("Abstract method `toSVGPath` must be implemented.")}get box(){la("Abstract getter `box` must be implemented.")}serialize(e,t){la("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l]*a,i[l+1]=n+e[l+1]*s;return i}static _rescaleAndSwap(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l+1]*a,i[l+1]=n+e[l]*s;return i}static _translate(e,t,n,a){a||=new Float32Array(e.length);for(let s=0,i=e.length;s<i;s+=2)a[s]=t+e[s],a[s+1]=n+e[s+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,a,s){switch(s){case 90:return[1-t/n,e/a];case 180:return[1-e/n,1-t/a];case 270:return[t/n,1-e/a];default:return[e/n,t/a]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,a,s,i){return[(e+5*n)/6,(t+5*a)/6,(5*n+s)/6,(5*a+i)/6,(n+s)/2,(a+i)/2]}}class c0{#e;#t=[];#n;#r;#i=[];#a=new Float32Array(18);#s;#o;#c;#l;#d;#A;#h=[];static#p=8;static#f=2;static#u=c0.#p+c0.#f;constructor({x:e,y:t},n,a,s,i,l=0){this.#e=n,this.#A=s*a,this.#r=i,this.#a.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=l,this.#l=c0.#p*a,this.#c=c0.#u*a,this.#d=a,this.#h.push(e,t)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),t=this.#a.subarray(16,18),[n,a,s,i]=this.#e;return[(this.#s+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-a)/i,(this.#s+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-a)/i]}add({x:e,y:t}){this.#s=e,this.#o=t;const[n,a,s,i]=this.#e;let[l,c,u,d]=this.#a.subarray(8,12);const f=e-u,p=t-d,m=Math.hypot(f,p);if(m<this.#c)return!1;const y=m-this.#l,g=y/m,v=g*f,w=g*p;let S=l,C=c;l=u,c=d,u+=v,d+=w,this.#h?.push(e,t);const j=-w/y,T=v/y,L=j*this.#A,I=T*this.#A;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([u+L,d+I],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([u-L,d-I],16),isNaN(this.#a[6])?(this.#i.length===0&&(this.#a.set([l+L,c+I],2),this.#i.push(NaN,NaN,NaN,NaN,(l+L-n)/s,(c+I-a)/i),this.#a.set([l-L,c-I],14),this.#t.push(NaN,NaN,NaN,NaN,(l-L-n)/s,(c-I-a)/i)),this.#a.set([S,C,l,c,u,d],6),!this.isEmpty()):(this.#a.set([S,C,l,c,u,d],6),Math.abs(Math.atan2(C-c,S-l)-Math.atan2(w,v))<Math.PI/2?([l,c,u,d]=this.#a.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((l+u)/2-n)/s,((c+d)/2-a)/i),[l,c,S,C]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((S+l)/2-n)/s,((C+c)/2-a)/i),!0):([S,C,l,c,u,d]=this.#a.subarray(0,6),this.#i.push(((S+5*l)/6-n)/s,((C+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+d)/6-a)/i,((l+u)/2-n)/s,((c+d)/2-a)/i),[u,d,l,c,S,C]=this.#a.subarray(12,18),this.#t.push(((S+5*l)/6-n)/s,((C+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+d)/6-a)/i,((l+u)/2-n)/s,((c+d)/2-a)/i),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#g();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#x(n);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return this.#y(n),n.join(" ")}#g(){const[e,t,n,a]=this.#e,[s,i,l,c]=this.#m();return`M${(this.#a[2]-e)/n} ${(this.#a[3]-t)/a} L${(this.#a[4]-e)/n} ${(this.#a[5]-t)/a} L${s} ${i} L${l} ${c} L${(this.#a[16]-e)/n} ${(this.#a[17]-t)/a} L${(this.#a[14]-e)/n} ${(this.#a[15]-t)/a} Z`}#y(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#x(e){const[t,n,a,s]=this.#e,i=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,u,d,f]=this.#m();e.push(`L${(i[0]-t)/a} ${(i[1]-n)/s} L${c} ${u} L${d} ${f} L${(l[0]-t)/a} ${(l[1]-n)/s}`)}newFreeDrawOutline(e,t,n,a,s,i){return new JV(e,t,n,a,s,i)}getOutlines(){const e=this.#i,t=this.#t,n=this.#a,[a,s,i,l]=this.#e,c=new Float32Array((this.#h?.length??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(this.#h[f]-a)/i,c[f+1]=(this.#h[f+1]-s)/l;if(c[c.length-2]=(this.#s-a)/i,c[c.length-1]=(this.#o-s)/l,isNaN(n[6])&&!this.isEmpty())return this.#S(c);const u=new Float32Array(this.#i.length+24+this.#t.length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=this.#v(u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return this.#C(u,d),this.newFreeDrawOutline(u,c,this.#e,this.#d,this.#n,this.#r)}#S(e){const t=this.#a,[n,a,s,i]=this.#e,[l,c,u,d]=this.#m(),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-a)/i,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-a)/i,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-a)/i,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-a)/i],0),this.newFreeDrawOutline(f,e,this.#e,this.#d,this.#n,this.#r)}#C(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#v(e,t){const n=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[s,i,l,c]=this.#e,[u,d,f,p]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-i)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(a[0]-s)/l,(a[1]-i)/c],t),t+=24}}class JV extends qt{#e;#t=new Float32Array(4);#n;#r;#i;#a;#s;constructor(e,t,n,a,s,i){super(),this.#s=e,this.#i=t,this.#e=n,this.#a=a,this.#n=s,this.#r=i,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(i);const[l,c,u,d]=this.#t;for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/u,e[f+1]=(e[f+1]-c)/d;for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/u,t[f+1]=(t[f+1]-c)/d}toSVGPath(){const e=[`M${this.#s[4]} ${this.#s[5]}`];for(let t=6,n=this.#s.length;t<n;t+=6){if(isNaN(this.#s[t])){e.push(`L${this.#s[t+4]} ${this.#s[t+5]}`);continue}e.push(`C${this.#s[t]} ${this.#s[t+1]} ${this.#s[t+2]} ${this.#s[t+3]} ${this.#s[t+4]} ${this.#s[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,a],s){const i=n-e,l=a-t;let c,u;switch(s){case 0:c=qt._rescale(this.#s,e,a,i,-l),u=qt._rescale(this.#i,e,a,i,-l);break;case 90:c=qt._rescaleAndSwap(this.#s,e,t,i,l),u=qt._rescaleAndSwap(this.#i,e,t,i,l);break;case 180:c=qt._rescale(this.#s,n,t,-i,l),u=qt._rescale(this.#i,n,t,-i,l);break;case 270:c=qt._rescaleAndSwap(this.#s,n,a,-i,-l),u=qt._rescaleAndSwap(this.#i,n,a,-i,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}#o(e){const t=this.#s;let n=t[4],a=t[5];const s=[n,a,n,a];let i=n,l=a,c=n,u=a;const d=e?Math.max:Math.min,f=new Float32Array(4);for(let m=6,y=t.length;m<y;m+=6){const g=t[m+4],v=t[m+5];isNaN(t[m])?(Gt.pointBoundingBox(g,v,s),l>v?(i=g,l=v):l===v&&(i=d(i,g)),u<v?(c=g,u=v):u===v&&(c=d(c,g))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,Gt.bezierBoundingBox(n,a,...t.slice(m,m+6),f),Gt.rectBoundingBox(f[0],f[1],f[2],f[3],s),l>f[1]?(i=f[0],l=f[1]):l===f[1]&&(i=d(i,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=d(c,f[2]))),n=g,a=v}const p=this.#t;p[0]=s[0]-this.#n,p[1]=s[1]-this.#n,p[2]=s[2]-s[0]+2*this.#n,p[3]=s[3]-s[1]+2*this.#n,this.firstPoint=[i,l],this.lastPoint=[c,u]}get box(){return this.#t}newOutliner(e,t,n,a,s,i=0){return new c0(e,t,n,a,s,i)}getNewOutline(e,t){const[n,a,s,i]=this.#t,[l,c,u,d]=this.#e,f=s*u,p=i*d,m=n*u+l,y=a*d+c,g=this.newOutliner({x:this.#i[0]*f+m,y:this.#i[1]*p+y},this.#e,this.#a,e,this.#r,t??this.#n);for(let v=2;v<this.#i.length;v+=2)g.add({x:this.#i[v]*f+m,y:this.#i[v+1]*p+y});return g.getOutlines()}}class xj{#e;#t;#n;#r=[];#i=[];constructor(e,t=0,n=0,a=!0){const s=[1/0,1/0,-1/0,-1/0],i=10**-4;for(const{x:g,y:v,width:w,height:S}of e){const C=Math.floor((g-t)/i)*i,j=Math.ceil((g+w+t)/i)*i,T=Math.floor((v-t)/i)*i,L=Math.ceil((v+S+t)/i)*i,I=[C,T,L,!0],D=[j,T,L,!1];this.#r.push(I,D),Gt.rectBoundingBox(C,T,j,L,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,u=s[0]-n,d=s[1]-n;let f=a?-1/0:1/0,p=1/0;const m=this.#r.at(a?-1:-2),y=[m[0],m[2]];for(const g of this.#r){const[v,w,S,C]=g;!C&&a?w<p?(p=w,f=v):w===p&&(f=Math.max(f,v)):C&&!a&&(w<p?(p=w,f=v):w===p&&(f=Math.min(f,v))),g[0]=(v-u)/l,g[1]=(w-d)/c,g[2]=(S-d)/c}this.#e=new Float32Array([u,d,l,c]),this.#t=[f,p],this.#n=y}getOutlines(){this.#r.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#r)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#a(e)}#a(e){const t=[],n=new Set;for(const i of e){const[l,c,u]=i;t.push([l,c,i],[l,u,i])}t.sort((i,l)=>i[1]-l[1]||i[0]-l[0]);for(let i=0,l=t.length;i<l;i+=2){const c=t[i][2],u=t[i+1][2];c.push(u),u.push(c),n.add(c),n.add(u)}const a=[];let s;for(;n.size>0;){const i=n.values().next().value;let[l,c,u,d,f]=i;n.delete(i);let p=l,m=c;for(s=[l,u],a.push(s);;){let y;if(n.has(d))y=d;else if(n.has(f))y=f;else break;n.delete(y),[l,c,u,d,f]=y,p!==l&&(s.push(p,m,l,m===c?c:u),p=l),m=m===c?u:c}s.push(p,m)}return new t4e(a,this.#e,this.#t,this.#n)}#s(e){const t=this.#i;let n=0,a=t.length-1;for(;n<=a;){const s=n+a>>1,i=t[s][0];if(i===e)return s;i<e?n=s+1:a=s-1}return a+1}#o([,e,t]){const n=this.#s(e);this.#i.splice(n,0,[e,t])}#c([,e,t]){const n=this.#s(e);for(let a=n;a<this.#i.length;a++){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}for(let a=n-1;a>=0;a--){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}}#l(e){const[t,n,a]=e,s=[[t,n,a]],i=this.#s(a);for(let l=0;l<i;l++){const[c,u]=this.#i[l];for(let d=0,f=s.length;d<f;d++){const[,p,m]=s[d];if(!(u<=p||m<=c)){if(p>=c){if(m>u)s[d][1]=u;else{if(f===1)return[];s.splice(d,1),d--,f--}continue}s[d][2]=c,m>u&&s.push([t,u,m])}}}return s}}class t4e extends qt{#e;#t;constructor(e,t,n,a){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=a}toSVGPath(){const e=[];for(const t of this.#t){let[n,a]=t;e.push(`M${n} ${a}`);for(let s=2;s<t.length;s+=2){const i=t[s],l=t[s+1];i===n?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${i}`),n=i)}e.push("Z")}return e.join(" ")}serialize([e,t,n,a],s){const i=[],l=n-e,c=a-t;for(const u of this.#t){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*l,d[f+1]=a-u[f+1]*c;i.push(d)}return i}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class yj extends c0{newFreeDrawOutline(e,t,n,a,s,i){return new r4e(e,t,n,a,s,i)}}class r4e extends JV{newOutliner(e,t,n,a,s,i=0){return new yj(e,t,n,a,s,i)}}class gs extends wr{#e=null;#t=0;#n;#r=null;#i=null;#a=null;#s=null;#o=0;#c=null;#l=null;#d=null;#A=!1;#h=null;#p=null;#f=null;#u="";#m;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Lr.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=gs.prototype;return zr(this,"_keyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||gs._defaultColor,this.#m=e.thickness||gs._defaultThickness,this.opacity=e.opacity||gs._defaultOpacity,this.#n=e.boxes||null,this.#g=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#A=!0,this.#x(e),this.#w()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#o=e.focusOffset,this.#y(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#A?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new xj(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new xj(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=t.getOutlines();const{firstPoint:n}=this.#l;this.#h=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:a}=this.#a;this.#p=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const a=1.5;if(this.#a=e.getNewOutline(this.#m/2+a,.0025),t>=0)this.#d=t,this.#r=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#f=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:gs.#N(this.#l.box,(f-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f,{bbox:gs.#N(this.#a.box,f),path:{d:this.#a.toSVGPath()}})}const[s,i,l,c]=e.box;switch(this.rotation){case 0:this.x=s,this.y=i,this.width=l,this.height=c;break;case 90:{const[f,p]=this.parentDimensions;this.x=i,this.y=1-s,this.width=l*p/f,this.height=c*f/p;break}case 180:this.x=1-s,this.y=1-i,this.width=l,this.height=c;break;case 270:{const[f,p]=this.parentDimensions;this.x=1-i,this.y=s,this.width=l*p/f,this.height=c*f/p;break}}const{firstPoint:u}=e;this.#h=[(u[0]-s)/l,(u[1]-i)/c];const{lastPoint:d}=this.#a;this.#p=[(d[0]-s)/l,(d[1]-i)/c]}static initialize(e,t){wr.initialize(e,t),gs._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case nn.HIGHLIGHT_COLOR:gs._defaultColor=t;break;case nn.HIGHLIGHT_THICKNESS:gs._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#p}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case nn.HIGHLIGHT_COLOR:this.#S(t);break;case nn.HIGHLIGHT_THICKNESS:this.#C(t);break}}static get defaultPropertiesToUpdate(){return[[nn.HIGHLIGHT_COLOR,gs._defaultColor],[nn.HIGHLIGHT_THICKNESS,gs._defaultThickness]]}get propertiesToUpdate(){return[[nn.HIGHLIGHT_COLOR,this.color||gs._defaultColor],[nn.HIGHLIGHT_THICKNESS,this.#m||gs._defaultThickness],[nn.HIGHLIGHT_FREE,this.#A]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#S(e){const t=(s,i)=>{this.color=s,this.opacity=i,this.onUpdatedColor()},n=this.color,a=this.opacity;this.addCommands({cmd:t.bind(this,e,gs._defaultOpacity),undo:t.bind(this,n,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const t=this.#m,n=a=>{this.#m=a,this.#v(a)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new Dl({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#E():e&&(this.#w(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#v(e){this.#A&&(this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#E(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#w(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#A},path:{d:this.#l.toSVGPath()}},!1,!0),this.#f=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#A},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#A),this.#c&&(this.#c.style.clipPath=this.#r))}static#N([e,t,n,a],s){switch(s){case 90:return[1-t-a,e,a,n];case 180:return[1-e-n,1-t-a,n,a];case 270:return[t,1-e-n,a,n]}return[e,t,n,a]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#A?(e=(e-this.rotation+360)%360,n=gs.#N(this.#l.box,e)):n=gs.#N([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#f,{bbox:gs.#N(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#A?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r,this.setDims(this.width,this.height),BV(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1}})}#T(e){gs._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#j(!0);break;case 1:case 3:this.#j(!1);break}}#j(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#s,this.#o)}select(){super.select(),this.#f&&this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{selected:!1}}),this.#A||this.#j(!1))}get _mustFixPosition(){return!this.#A}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}))}#_(){return this.#A?this.rotation:0}#L(){if(this.#A)return null;const[e,t]=this.pageDimensions,[n,a]=this.pageTranslation,s=this.#n,i=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of s){const p=c*e+n,m=(1-u)*t+a;i[l]=i[l+4]=p,i[l+1]=i[l+3]=m,i[l+2]=i[l+6]=p+d*e,i[l+5]=i[l+7]=m-f*t,l+=8}return i}#F(e){return this.#l.serialize(e,this.#_())}static startHighlighting(e,t,{target:n,x:a,y:s}){const{x:i,y:l,width:c,height:u}=n.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=m=>{d.abort(),this.#M(e,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Ka,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Gl,{signal:f}),n.addEventListener("pointermove",this.#D.bind(this,e),{signal:f}),this._freeHighlight=new yj({x:a,y:s},[i,l,c,u],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#M(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let a=null;if(e instanceof WV){const{data:{quadPoints:y,rect:g,rotation:v,id:w,color:S,opacity:C,popupRef:j,richText:T,contentsObj:L,creationDate:I,modificationDate:D},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:Lr.HIGHLIGHT,color:Array.from(S),opacity:C,quadPoints:y,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:j,richText:T,comment:L?.str||null,creationDate:I,modificationDate:D}}else if(e instanceof ik){const{data:{inkLists:y,rect:g,rotation:v,id:w,color:S,borderStyle:{rawWidth:C},popupRef:j,richText:T,contentsObj:L,creationDate:I,modificationDate:D},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:Lr.HIGHLIGHT,color:Array.from(S),thickness:C,inkLists:y,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:j,richText:T,comment:L?.str||null,creationDate:I,modificationDate:D}}const{color:s,quadPoints:i,inkLists:l,opacity:c}=e,u=await super.deserialize(e,t,n);u.color=Gt.makeHexColor(...s),u.opacity=c||1,l&&(u.#m=e.thickness),u._initialData=a,e.comment&&u.setCommentData(e);const[d,f]=u.pageDimensions,[p,m]=u.pageTranslation;if(i){const y=u.#n=[];for(let g=0;g<i.length;g+=8)y.push({x:(i[g]-p)/d,y:1-(i[g+1]-m)/f,width:(i[g+2]-i[g])/d,height:(i[g+1]-i[g+5])/f});u.#y(),u.#w(),u.rotate(u.rotation)}else if(l){u.#A=!0;const y=l[0],g={x:y[0]-p,y:f-(y[1]-m)},v=new yj(g,[0,0,d,f],1,u.#m/2,!0,.001);for(let C=0,j=y.length;C<j;C+=2)g.x=y[C]-p,g.y=f-(y[C+1]-m),v.add(g);const{id:w,clipPathId:S}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:v.toSVGPath()}},!0,!0);u.#x({highlightOutlines:v.getOutlines(),highlightId:w,clipPathId:S}),u.#w(),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=wr._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#L(),outlines:this.#F(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,a)=>n!==t[a])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class ZV{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){la("Not implemented")}}class jr extends wr{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#i=null;static#a=NaN;static#s=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#h())}#l({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#d(e,this.parent),this.#u(e.box)}#d(e,t){const{id:n}=t.drawLayer.draw(jr._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[a,s]of Object.entries(t))n.has(a)?Object.assign(e[a],s):e[a]=s;return e}static getDefaultDrawingOptions(e){la("Not implemented")}static get typesMap(){la("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(jr.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,a]of this.typesMap)e.push([n,t[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,a]of this.constructor.typesMap)e.push([n,t[a]]);return e}_updateProperty(e,t,n){const a=this._drawingOptions,s=a[t],i=l=>{a.updateProperty(t,l);const c=this.#e.updateProperty(t,l);c&&this.#u(c),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,jr._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,jr._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,jr._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#A(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#h(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#A()):e&&(this._uiManager.addShouldRescale(this),this.#h(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#A(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#h(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#e,e)}}#p([e,t,n,a]){const{parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[t,1-e,n*(i/s),a*(s/i)];case 180:return[1-e,1-t,n,a];case 270:return[1-t,e,n*(i/s),a*(s/i)];default:return[e,t,n,a]}}#f(){const{x:e,y:t,width:n,height:a,parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[1-t,e,n*(s/i),a*(i/s)];case 180:return[1-e,1-t,n,a];case 270:return[t,1-e,n*(s/i),a*(i/s)];default:return[e,t,n,a]}}#u(e){[this.x,this.y,this.width,this.height]=this.#p(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:n,height:a,rotation:s,parentRotation:i,parentDimensions:[l,c]}=this;switch((s*4+i)/90){case 1:return[1-t-a,e,a,n];case 2:return[1-e-n,1-t-a,n,a];case 3:return[t,1-e-n,a,n];case 4:return[e,t-n*(l/c),a*(c/l),n*(l/c)];case 5:return[1-t,e,n*(l/c),a*(c/l)];case 6:return[1-e-a*(c/l),1-t,a*(c/l),n*(l/c)];case 7:return[t-n*(l/c),1-e-a*(c/l),n*(l/c),a*(c/l)];case 8:return[e-n,t-a,n,a];case 9:return[1-t,e-n,a,n];case 10:return[1-e,1-t,n,a];case 11:return[t-a,1-e,a,n];case 12:return[e-a*(c/l),t,a*(c/l),n*(l/c)];case 13:return[1-t-n*(l/c),e-a*(c/l),n*(l/c),a*(c/l)];case 14:return[1-e,1-t-n*(l/c),a*(c/l),n*(l/c)];case 15:return[t,1-e,n*(l/c),a*(c/l)];default:return[e,t,n,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,jr._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const a=document.createElement("div");return n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,a,s){la("Not implemented")}static startDrawing(e,t,n,a){const{target:s,offsetX:i,offsetY:l,pointerId:c,pointerType:u}=a;if(jr.#s&&jr.#s!==u)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=s.getBoundingClientRect(),m=jr.#r=new AbortController,y=e.combinedSignal(m);if(jr.#a||=c,jr.#s??=u,window.addEventListener("pointerup",g=>{jr.#a===g.pointerId?this._endDraw(g):jr.#o?.delete(g.pointerId)},{signal:y}),window.addEventListener("pointercancel",g=>{jr.#a===g.pointerId?this._currentParent.endDrawingSession():jr.#o?.delete(g.pointerId)},{signal:y}),window.addEventListener("pointerdown",g=>{jr.#s===g.pointerType&&((jr.#o||=new Set).add(g.pointerId),jr.#n.isCancellable()&&(jr.#n.removeLastElement(),jr.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Gl,{signal:y}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),s.addEventListener("touchmove",g=>{g.timeStamp===jr.#c&&Ka(g)},{signal:y}),e.toggleDrawing(),t._editorUndoBar?.hide(),jr.#n){e.drawLayer.updateProperties(this._currentDrawId,jr.#n.startNew(i,l,f,p,d));return}t.updateUIForDefaultProperties(this),jr.#n=this.createDrawerInstance(i,l,f,p,d),jr.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(jr.#i.toSVGProperties(),jr.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(jr.#c=-1,!jr.#n)return;const{offsetX:t,offsetY:n,pointerId:a}=e;if(jr.#a===a){if(jr.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,jr.#n.add(t,n)),jr.#c=e.timeStamp,Ka(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,jr.#n=null,jr.#i=null,jr.#s=null,jr.#c=NaN),jr.#r&&(jr.#r.abort(),jr.#r=null,jr.#a=NaN,jr.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,jr.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=jr.#n,a=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(a,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(a,n.removeLastElement())},mustExec:!1,type:nn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(nn.DRAW_STEP),!jr.#n.isEmpty()){const{pageDimensions:[n,a],scale:s}=t,i=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:jr.#n.getOutlines(n*s,a*s,s,this._INNER_MARGIN),drawingOptions:jr.#i,mustBeCommitted:!e});return this._cleanup(!0),i}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,a,s,i){la("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:a,pageHeight:s,pageX:i,pageY:l}}=t.viewport,c=this.deserializeDraw(i,l,a,s,this._INNER_MARGIN,e),u=await super.deserialize(e,t,n);return u.createDrawingOptions(e),u.#l({drawOutlines:c}),u.#h(),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[t,n]=this.pageTranslation,[a,s]=this.pageDimensions;return this.#e.serialize([t,n,a,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class n4e{#e=new Float64Array(6);#t;#n;#r;#i;#a;#s="";#o=0;#c=new Lv;#l;#d;constructor(e,t,n,a,s,i){this.#l=n,this.#d=a,this.#r=s,this.#i=i,[e,t]=this.#A(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t],this.#n=[{line:l,points:this.#a}],this.#e.set(l,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#A(e,t){return qt._normalizePoint(e,t,this.#l,this.#d,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(e,t){[e,t]=this.#A(e,t);const[n,a,s,i]=this.#e.subarray(2,6),l=e-s,c=t-i;return Math.hypot(this.#l*l,this.#d*c)<=2?null:(this.#a.push(e,t),isNaN(n)?(this.#e.set([s,i,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,a,s,i,e,t],0),this.#t.push(...qt.createBezierPoints(n,a,s,i,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,a,s){this.#l=n,this.#d=a,this.#r=s,[e,t]=this.#A(e,t);const i=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t];const l=this.#n.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#n.push({line:i,points:this.#a}),this.#e.set(i,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#s="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:a}=this.#n[e];this.#t=n,this.#a=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const e=qt.svgRound(this.#t[4]),t=qt.svgRound(this.#t[5]);if(this.#a.length===2)return this.#s=`${this.#s} M ${e} ${t} Z`,this.#s;if(this.#a.length<=6){const a=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,a)} M ${e} ${t}`,this.#o=6}if(this.#a.length===4){const a=qt.svgRound(this.#t[10]),s=qt.svgRound(this.#t[11]);return this.#s=`${this.#s} L ${a} ${s}`,this.#o=12,this.#s}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let a=this.#o,s=this.#t.length;a<s;a+=6){const[i,l,c,u,d,f]=this.#t.slice(a,a+6).map(qt.svgRound);n.push(`C${i} ${l} ${c} ${u} ${d} ${f}`)}return this.#s+=n.join(" "),this.#o=this.#t.length,this.#s}getOutlines(e,t,n,a){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,e,t,n,this.#r,this.#i,a),this.#e=null,this.#t=null,this.#n=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Lv extends qt{#e;#t=0;#n;#r;#i;#a;#s;#o;#c;build(e,t,n,a,s,i,l){this.#i=t,this.#a=n,this.#s=a,this.#o=s,this.#c=i,this.#n=l??0,this.#r=e,this.#A()}get thickness(){return this.#c}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${qt.svgRound(t[4])} ${qt.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${qt.svgRound(t[10])} ${qt.svgRound(t[11])}`);continue}for(let n=6,a=t.length;n<a;n+=6){const[s,i,l,c,u,d]=t.subarray(n,n+6).map(qt.svgRound);e.push(`C${s} ${i} ${l} ${c} ${u} ${d}`)}}return e.join("")}serialize([e,t,n,a],s){const i=[],l=[],[c,u,d,f]=this.#d();let p,m,y,g,v,w,S,C,j;switch(this.#o){case 0:j=qt._rescale,p=e,m=t+a,y=n,g=-a,v=e+c*n,w=t+(1-u-f)*a,S=e+(c+d)*n,C=t+(1-u)*a;break;case 90:j=qt._rescaleAndSwap,p=e,m=t,y=n,g=a,v=e+u*n,w=t+c*a,S=e+(u+f)*n,C=t+(c+d)*a;break;case 180:j=qt._rescale,p=e+n,m=t,y=-n,g=a,v=e+(1-c-d)*n,w=t+u*a,S=e+(1-c)*n,C=t+(u+f)*a;break;case 270:j=qt._rescaleAndSwap,p=e+n,m=t+a,y=-n,g=-a,v=e+(1-u-f)*n,w=t+(1-c-d)*a,S=e+(1-u)*n,C=t+(1-c)*a;break}for(const{line:T,points:L}of this.#r)i.push(j(T,p,m,y,g,s?new Array(T.length):null)),l.push(j(L,p,m,y,g,s?new Array(L.length):null));return{lines:i,points:l,rect:[v,w,S,C]}}static deserialize(e,t,n,a,s,{paths:{lines:i,points:l},rotation:c,thickness:u}){const d=[];let f,p,m,y,g;switch(c){case 0:g=qt._rescale,f=-e/n,p=t/a+1,m=1/n,y=-1/a;break;case 90:g=qt._rescaleAndSwap,f=-t/a,p=-e/n,m=1/a,y=1/n;break;case 180:g=qt._rescale,f=e/n+1,p=-t/a,m=-1/n,y=1/a;break;case 270:g=qt._rescaleAndSwap,f=t/a+1,p=e/n+1,m=-1/a,y=-1/n;break}if(!i){i=[];for(const w of l){const S=w.length;if(S===2){i.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(S===4){i.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(S-2));i.push(C);let[j,T,L,I]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,j,T],0);for(let D=4;D<S;D+=2){const k=w[D],z=w[D+1];C.set(qt.createBezierPoints(j,T,L,I,k,z),(D-2)*3),[j,T,L,I]=[L,I,k,z]}}}for(let w=0,S=i.length;w<S;w++)d.push({line:g(i[w].map(C=>C??NaN),f,p,m,y),points:g(l[w].map(C=>C??NaN),f,p,m,y)});const v=new this.prototype.constructor;return v.build(d,n,a,1,c,u,s),v}#l(e=this.#c){const t=this.#n+e/2*this.#s;return this.#o%180===0?[t/this.#i,t/this.#a]:[t/this.#a,t/this.#i]}#d(){const[e,t,n,a]=this.#e,[s,i]=this.#l(0);return[e+s,t+i,n-2*s,a-2*i]}#A(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#r){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)Gt.pointBoundingBox(a[l],a[l+1],e);continue}let s=a[4],i=a[5];for(let l=6,c=a.length;l<c;l+=6){const[u,d,f,p,m,y]=a.subarray(l,l+6);Gt.bezierBoundingBox(s,i,u,d,f,p,m,y,e),s=m,i=y}}const[t,n]=this.#l();e[0]=so(e[0]-t,0,1),e[1]=so(e[1]-n,0,1),e[2]=so(e[2]+t,0,1),e[3]=so(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,n]=this.#l();this.#c=e;const[a,s]=this.#l(),[i,l]=[a-t,s-n],c=this.#e;return c[0]-=i,c[1]-=l,c[2]+=2*i,c[3]+=2*l,c}updateParentDimensions([e,t],n){const[a,s]=this.#l();this.#i=e,this.#a=t,this.#s=n;const[i,l]=this.#l(),c=i-a,u=l-s,d=this.#e;return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(qt.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(e)} ${qt.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,a=0,s=0,i=0,l=0,c=0;switch(this.#t){case 90:a=t/e,s=-e/t,l=e;break;case 180:n=-1,i=-1,l=e,c=t;break;case 270:a=-t/e,s=e/t,c=t;break;default:return""}return`matrix(${n} ${a} ${s} ${i} ${qt.svgRound(l)} ${qt.svgRound(c)})`}getPathResizingSVGProperties([e,t,n,a]){const[s,i]=this.#l(),[l,c,u,d]=this.#e;if(Math.abs(u-s)<=qt.PRECISION||Math.abs(d-i)<=qt.PRECISION){const g=e+n/2-(l+u/2),v=t+a/2-(c+d/2);return{path:{"transform-origin":`${qt.svgRound(e)} ${qt.svgRound(t)}`,transform:`${this.rotationTransform} translate(${g} ${v})`}}}const f=(n-2*s)/(u-2*s),p=(a-2*i)/(d-2*i),m=u/n,y=d/a;return{path:{"transform-origin":`${qt.svgRound(l)} ${qt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${y}) translate(${qt.svgRound(s)} ${qt.svgRound(i)}) scale(${f} ${p}) translate(${qt.svgRound(-s)} ${qt.svgRound(-i)})`}}}getPathResizedSVGProperties([e,t,n,a]){const[s,i]=this.#l(),l=this.#e,[c,u,d,f]=l;if(l[0]=e,l[1]=t,l[2]=n,l[3]=a,Math.abs(d-s)<=qt.PRECISION||Math.abs(f-i)<=qt.PRECISION){const v=e+n/2-(c+d/2),w=t+a/2-(u+f/2);for(const{line:S,points:C}of this.#r)qt._translate(S,v,w,S),qt._translate(C,v,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(e)} ${qt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(n-2*s)/(d-2*s),m=(a-2*i)/(f-2*i),y=-p*(c+s)+e+s,g=-m*(u+i)+t+i;if(p!==1||m!==1||y!==0||g!==0)for(const{line:v,points:w}of this.#r)qt._rescale(v,y,g,p,m,v),qt._rescale(w,y,g,p,m,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(e)} ${qt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[a,s]=n,i=this.#e,l=e-i[0],c=t-i[1];if(this.#i===a&&this.#a===s)for(const{line:u,points:d}of this.#r)qt._translate(u,l,c,u),qt._translate(d,l,c,d);else{const u=this.#i/a,d=this.#a/s;this.#i=a,this.#a=s;for(const{line:f,points:p}of this.#r)qt._rescale(f,l,c,u,d,f),qt._rescale(p,l,c,u,d,p);i[2]*=u,i[3]*=d}return i[0]=e,i[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(e)} ${qt.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(e[0])} ${qt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class c5 extends ZV{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:wr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new c5(this._viewParameters);return e.updateAll(this),e}}class lk extends jr{static _type="ink";static _editorType=Lr.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){wr.initialize(e,t),this._defaultDrawingOptions=new c5(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return zr(this,"typesMap",new Map([[nn.INK_THICKNESS,"stroke-width"],[nn.INK_COLOR,"stroke"],[nn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,a,s){return new n4e(e,t,n,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,a,s,i){return Lv.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){let a=null;if(e instanceof ik){const{data:{inkLists:i,rect:l,rotation:c,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:m,richText:y,contentsObj:g,creationDate:v,modificationDate:w},parent:{page:{pageNumber:S}}}=e;a=e={annotationType:Lr.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:i},boxes:null,pageIndex:S-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:m,richText:y,comment:g?.str||null,creationDate:v,modificationDate:w}}const s=await super.deserialize(e,t,n);return s._initialData=a,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new zy(this),[["colorPicker",this._colorPicker]]}get colorType(){return nn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=lk.getDefaultDrawingOptions({stroke:Gt.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":i}}=this,l=Object.assign(super.serialize(e),{color:wr._colorManager.convert(a),opacity:s,thickness:i,paths:{lines:t,points:n}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((i,l)=>i!==t[l])||e.thickness!==n||e.opacity!==a||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class vj extends Lv{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Bb=8,Fx=3;class t0{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,a){return n-=e,a-=t,n===0?a>0?0:4:n===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const d=(-u+c-l+16)%8,f=this.#n[2*d],p=this.#n[2*d+1];if(e[(n+f)*t+(a+p)]!==0)return d}return-1}static#i(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const d=(u+c+l+16)%8,f=this.#n[2*d],p=this.#n[2*d+1];if(e[(n+f)*t+(a+p)]!==0)return d}return-1}static#a(e,t,n,a){const s=e.length,i=new Int32Array(s);for(let d=0;d<s;d++)i[d]=e[d]<=a?1:0;for(let d=1;d<n-1;d++)i[d*t]=i[d*t+t-1]=0;for(let d=0;d<t;d++)i[d]=i[t*n-1-d]=0;let l=1,c;const u=[];for(let d=1;d<n-1;d++){c=1;for(let f=1;f<t-1;f++){const p=d*t+f,m=i[p];if(m===0)continue;let y=d,g=f;if(m===1&&i[p-1]===0)l+=1,g-=1;else if(m>=1&&i[p+1]===0)l+=1,g+=1,m>1&&(c=m);else{m!==1&&(c=Math.abs(m));continue}const v=[f,d],w=g===f+1,S={isHole:w,points:v,id:l,parent:0};u.push(S);let C;for(const P of u)if(P.id===c){C=P;break}C?C.isHole?S.parent=w?C.parent:c:S.parent=w?c:C.parent:S.parent=w?c:0;const j=this.#r(i,t,d,f,y,g,0);if(j===-1){i[p]=-l,i[p]!==1&&(c=Math.abs(i[p]));continue}let T=this.#n[2*j],L=this.#n[2*j+1];const I=d+T,D=f+L;y=I,g=D;let k=d,z=f;for(;;){const P=this.#i(i,t,k,z,y,g,1);T=this.#n[2*P],L=this.#n[2*P+1];const U=k+T,M=z+L;v.push(M,U);const q=k*t+z;if(i[q+1]===0?i[q]=-l:i[q]===1&&(i[q]=l),U===d&&M===f&&k===I&&z===D){i[p]!==1&&(c=Math.abs(i[p]));break}else y=k,g=z,k=U,z=M}}}return u}static#s(e,t,n,a){if(n-t<=4){for(let I=t;I<n-2;I+=2)a.push(e[I],e[I+1]);return}const s=e[t],i=e[t+1],l=e[n-4]-s,c=e[n-3]-i,u=Math.hypot(l,c),d=l/u,f=c/u,p=d*i-f*s,m=c/l,y=1/u,g=Math.atan(m),v=Math.cos(g),w=Math.sin(g),S=y*(Math.abs(v)+Math.abs(w)),C=y*(1-S+S**2),j=Math.max(Math.atan(Math.abs(w+v)*C),Math.atan(Math.abs(w-v)*C));let T=0,L=t;for(let I=t+2;I<n-2;I+=2){const D=Math.abs(p-d*e[I+1]+f*e[I]);D>T&&(L=I,T=D)}T>(u*j)**2?(this.#s(e,t,L+2,a),this.#s(e,L,n,a)):a.push(s,i)}static#o(e){const t=[],n=e.length;return this.#s(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#c(e,t,n,a,s,i){const l=new Float32Array(i**2),c=-2*a**2,u=i>>1;for(let g=0;g<i;g++){const v=(g-u)**2;for(let w=0;w<i;w++)l[g*i+w]=Math.exp((v+(w-u)**2)/c)}const d=new Float32Array(256),f=-2*s**2;for(let g=0;g<256;g++)d[g]=Math.exp(g**2/f);const p=e.length,m=new Uint8Array(p),y=new Uint32Array(256);for(let g=0;g<n;g++)for(let v=0;v<t;v++){const w=g*t+v,S=e[w];let C=0,j=0;for(let L=0;L<i;L++){const I=g+L-u;if(!(I<0||I>=n))for(let D=0;D<i;D++){const k=v+D-u;if(k<0||k>=t)continue;const z=e[I*t+k],P=l[L*i+D]*d[Math.abs(z-S)];C+=z*P,j+=P}}const T=m[w]=Math.round(C/j);y[T]++}return[m,y]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#d(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let a=-1/0,s=1/0;for(let l=0,c=n.length;l<c;l++){const u=n[l]=e[l<<2];a=Math.max(a,u),s=Math.min(s,u)}const i=255/(a-s);for(let l=0,c=n.length;l<c;l++)n[l]=(n[l]-s)*i;return n}static#A(e){let t,n=-1/0,a=-1/0;const s=e.findIndex(c=>c!==0);let i=s,l=s;for(t=s;t<256;t++){const c=e[t];c>n&&(t-i>a&&(a=t-i,l=t-1),n=c,i=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:n,height:a}=e,{maxDim:s}=this.#e;let i=n,l=a;if(n>s||a>s){let p=n,m=a,y=Math.log2(Math.max(n,a)/s);const g=Math.floor(y);y=y===g?g-1:g;for(let w=0;w<y;w++){i=Math.ceil(p/2),l=Math.ceil(m/2);const S=new OffscreenCanvas(i,l);S.getContext("2d").drawImage(e,0,0,p,m,0,0,i,l),p=i,m=l,e!==t&&e.close(),e=S.transferToImageBitmap()}const v=Math.min(s/i,s/l);i=Math.round(i*v),l=Math.round(l*v)}const u=new OffscreenCanvas(i,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,i,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,i,l);const d=u.getImageData(0,0,i,l).data;return[this.#d(d),i,l]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:a},s,i,l,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const f=200,p=d.font=`${n} ${a} ${f}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:v,fontBoundingBoxAscent:w,fontBoundingBoxDescent:S,width:C}=d.measureText(e),j=1.5,T=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||0,C)*j),L=Math.ceil(Math.max(Math.abs(g)+Math.abs(v)||f,Math.abs(w)+Math.abs(S)||f)*j);u=new OffscreenCanvas(T,L),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=p,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,T,L),d.fillStyle="black",d.fillText(e,T*(j-1)/2,L*(3-j)/2);const I=this.#d(d.getImageData(0,0,T,L).data),D=this.#l(I),k=this.#A(D),z=this.#a(I,T,L,k);return this.processDrawnLines({lines:{curves:z,width:T,height:L},pageWidth:s,pageHeight:i,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,n,a,s){const[i,l,c]=this.#h(e),[u,d]=this.#c(i,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),f=this.#A(d),p=this.#a(u,l,c,f);return this.processDrawnLines({lines:{curves:p,width:l,height:c},pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:i,areContours:l}){a%180!==0&&([t,n]=[n,t]);const{curves:c,width:u,height:d}=e,f=e.thickness??0,p=[],m=Math.min(t/u,n/d),y=m/t,g=m/n,v=[];for(const{points:S}of c){const C=i?this.#o(S):S;if(!C)continue;v.push(C);const j=C.length,T=new Float32Array(j),L=new Float32Array(3*(j===2?2:j-2));if(p.push({line:L,points:T}),j===2){T[0]=C[0]*y,T[1]=C[1]*g,L.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[I,D,k,z]=C;I*=y,D*=g,k*=y,z*=g,T.set([I,D,k,z],0),L.set([NaN,NaN,NaN,NaN,I,D],0);for(let P=4;P<j;P+=2){const U=T[P]=C[P]*y,M=T[P+1]=C[P+1]*g;L.set(qt.createBezierPoints(I,D,k,z,U,M),(P-2)*3),[I,D,k,z]=[k,z,U,M]}}if(p.length===0)return null;const w=l?new vj:new Lv;return w.build(p,t,n,1,a,l?0:f,s),{outline:w,newCurves:v,areContours:l,thickness:f,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:a,height:s}){let i=1/0,l=-1/0,c=0;for(const C of e){c+=C.length;for(let j=2,T=C.length;j<T;j++){const L=C[j]-C[j-2];i=Math.min(i,L),l=Math.max(l,L)}}let u;i>=-128&&l<=127?u=Int8Array:i>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const d=e.length,f=Bb+Fx*d,p=new Uint32Array(f);let m=0;p[m++]=f*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,p[m++]=0,p[m++]=a,p[m++]=s,p[m++]=t?0:1,p[m++]=Math.max(0,Math.floor(n??0)),p[m++]=d,p[m++]=u.BYTES_PER_ELEMENT;for(const C of e)p[m++]=C.length-2,p[m++]=C[0],p[m++]=C[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(p);const v=u.prototype.constructor;for(const C of e){const j=new v(C.length-2);for(let T=2,L=C.length;T<L;T++)j[T-2]=C[T]-C[T-2];g.write(j)}g.close();const w=await new Response(y.readable).arrayBuffer(),S=new Uint8Array(w);return yV(S)}static async decompressSignature(e){try{const t=jBe(e),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),s=a.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let i=null,l=0;for await(const C of n)i||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),i.set(C,l),l+=C.length;const c=new Uint32Array(i.buffer,0,i.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],f=c[3],p=c[4]===0,m=c[5],y=c[6],g=c[7],v=[],w=(Bb+Fx*y)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(g){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(i.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(i.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(i.buffer,w);break}l=0;for(let C=0;C<y;C++){const j=c[Fx*C+Bb],T=new Float32Array(j+2);v.push(T);for(let L=0;L<Fx-1;L++)T[L]=c[Fx*C+Bb+L+1];for(let L=0;L<j;L++)T[L+2]=T[L]+S[l++]}return{areContours:p,thickness:m,outlines:v,width:d,height:f}}catch(t){return Mr(`decompressSignature: ${t}`),null}}}class ck extends ZV{constructor(){super(),super.updateProperties({fill:wr._defaultLineColor,"stroke-width":0})}clone(){const e=new ck;return e.updateAll(this),e}}class uk extends c5{constructor(e){super(e),super.updateProperties({stroke:wr._defaultLineColor,"stroke-width":1})}clone(){const e=new uk(this._viewParameters);return e.updateAll(this),e}}class lA extends jr{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=Lr.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){wr.initialize(e,t),this._defaultDrawingOptions=new ck,this._defaultDrawnSignatureOptions=new uk(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return zr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:s,areContours:i,description:l,uuid:c,heightInPage:u}=this.#n,{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,m=t0.processDrawnLines({lines:a,pageWidth:d,pageHeight:f,rotation:p,innerMargin:lA._INNER_MARGIN,mustSmooth:s,areContours:i});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:a,height:s}=this.#n,i=Math.max(a,s),l=t0.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:n,width:a,height:s},pageWidth:i,pageHeight:i,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,a){const{x:s,y:i}=this,{outline:l}=this.#n=e;this.#e=l instanceof vj,this.description=n;let c;this.#e?c=lA.getDefaultDrawingOptions():(c=lA._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=t/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=s,this.y=i,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return t0.process(e,t,n,a,lA._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:a},rotation:s}=this.parent.viewport;return t0.extractContoursFromText(e,t,n,a,s,lA._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return t0.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:lA._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=lA.getDefaultDrawingOptions():(this._drawingOptions=lA._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#r,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,a,s,i){return i.areContours?vj.deserialize(e,t,n,a,s,i):Lv.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){const a=await super.deserialize(e,t,n);return a.#e=e.areContours,a.description=e.accessibilityData?.alt||"",a.#r=e.uuid,a}}class a4e extends wr{#e=null;#t=null;#n=null;#r=null;#i=null;#a="";#s=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Lr.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){wr.initialize(e,t)}static isHandlingMimeForPasting(e){return L2.includes(e)}static paste(e,t){t.pasteEditor({mode:Lr.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#A(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#f()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:i}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:a,width:s,height:i,channels:a.length/(s*i)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#A(n,!0)).finally(()=>this.#h());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#A(a)).finally(()=>this.#h());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(a=>this.#A(a)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=L2.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#A(a)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#f():this.#p()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,a&&(this.#e=a),this.#o=!1,this.#f())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#f(){const{div:e}=this;let{width:t,height:n}=this.#e;const[a,s]=this.pageDimensions,i=.75;if(this.width)t=this.width*a,n=this.height*s;else if(t>i*a||n>i*s){const c=Math.min(i*a/t,i*s/n);t*=c,n*=c}this._uiManager.enableWaiting(!1);const l=this.#s=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=t/a,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:a,height:s}=this.#e,i=new Cu;let l=this.#e,c=a,u=s,d=null;if(t){if(a>t||s>t){const L=Math.min(t/a,t/s);c=Math.floor(a*L),u=Math.floor(s*L)}d=document.createElement("canvas");const p=d.width=Math.ceil(c*i.sx),m=d.height=Math.ceil(u*i.sy);this.#l||(l=this.#u(p,m));const y=d.getContext("2d");y.filter=this._uiManager.hcmFilter;let g="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":kBe.isDarkMode&&(g="#8f8f9d",v="#42414d");const w=15,S=w*i.sx,C=w*i.sy,j=new OffscreenCanvas(S*2,C*2),T=j.getContext("2d");T.fillStyle=g,T.fillRect(0,0,S*2,C*2),T.fillStyle=v,T.fillRect(0,0,S,C),T.fillRect(S,C,S,C),y.fillStyle=y.createPattern(j,"repeat"),y.fillRect(0,0,p,m),y.drawImage(l,0,0,l.width,l.height,0,0,p,m)}let f=null;if(n){let p,m;if(i.symmetric&&l.width<e&&l.height<e)p=l.width,m=l.height;else if(l=this.#e,a>e||s>e){const v=Math.min(e/a,e/s);p=Math.floor(a*v),m=Math.floor(s*v),this.#l||(l=this.#u(p,m))}const g=new OffscreenCanvas(p,m).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,p,m),f={width:p,height:m,data:g.getImageData(0,0,p,m).data}}return{canvas:d,width:c,height:u,imageData:f}}#u(e,t){const{width:n,height:a}=this.#e;let s=n,i=a,l=this.#e;for(;s>2*e||i>2*t;){const c=s,u=i;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));const d=new OffscreenCanvas(s,i);d.getContext("2d").drawImage(l,0,0,c,u,0,0,s,i),l=d.transferToImageBitmap()}return l}#m(){const[e,t]=this.parentDimensions,{width:n,height:a}=this,s=new Cu,i=Math.ceil(n*e*s.sx),l=Math.ceil(a*t*s.sy),c=this.#s;if(!c||c.width===i&&c.height===l)return;c.width=i,c.height=l;const u=this.#l?this.#e:this.#u(i,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,i,l)}#g(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,a=Math.round(this.width*t*M0.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*M0.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(a,s);return i.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,s),i.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let a=null,s=!1;if(e instanceof YV){const{data:{rect:g,rotation:v,id:w,structParent:S,popupRef:C,richText:j,contentsObj:T,creationDate:L,modificationDate:I},container:D,parent:{page:{pageNumber:k}},canvas:z}=e;let P,U;z?(delete e.canvas,{id:P,bitmap:U}=n.imageManager.getFromCanvas(D.id,z),z.remove()):(s=!0,e._hasNoCanvas=!0);const M=(await t._structTree.getAriaAttributes(`${q3}${w}`))?.get("aria-label")||"";a=e={annotationType:Lr.STAMP,bitmapId:P,bitmap:U,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:S,popupRef:C,richText:j,comment:T?.str||null,creationDate:L,modificationDate:I}}const i=await super.deserialize(e,t,n),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:p}=e;s?(n.addMissingCanvas(e.id,i),i.#o=!0):d&&n.imageManager.isValidId(d)?(i.#t=d,c&&(i.#e=c)):i.#r=u,i.#l=f;const[m,y]=i.pageDimensions;return i.width=(l[2]-l[0])/m,i.height=(l[3]-l[1])/y,p&&(i.altTextData=p),i._initialData=a,e.comment&&i.setCommentData(e),i.#d=!!a,i}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(n),e)return n.bitmapUrl=this.#g(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=this.#y(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const i=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:i,serialized:n}),n.bitmap=this.#g(!1);else if(this.#l){const l=t.stamps.get(this.#t);i>l.area&&(l.area=i,l.serialized.bitmap.close(),l.serialized.bitmap=this.#g(!1))}return n}#y(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,a=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class uA{#e;#t=!1;#n=null;#r=null;#i=null;#a=new Map;#s=!1;#o=!1;#c=!1;#l=null;#d=null;#A=null;#h=null;#p=null;#f=-1;#u;static _initialized=!1;static#m=new Map([Ai,lk,a4e,gs,lA].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:a,accessibilityManager:s,annotationLayer:i,drawLayer:l,textLayer:c,viewport:u,l10n:d}){const f=[...uA.#m.values()];if(!uA._initialized){uA._initialized=!0;for(const p of f)p.initialize(d,e)}e.registerEditorTypes(f),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#n=i,this.viewport=u,this.#A=c,this.drawLayer=l,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Lr.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#v(),e){case Lr.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Lr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Lr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Lr.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of uA.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#A?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}get#g(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#p?.abort(),this.#p=null;const e=new Set;for(const n of this.#g)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#n;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#A&&!this.#p){this.#p=new AbortController;const n=this.#u.combinedSignal(this.#p);this.#A.div.addEventListener("pointerdown",a=>{const{clientX:i,clientY:l,timeStamp:c}=a,u=this.#f;if(c-u>500){this.#f=c;return}this.#f=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const f=document.elementsFromPoint(i,l);if(d.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const m=new RegExp(`^${Ry}[0-9]+$`);for(const g of f)if(m.test(g.id)){p=g.id;break}if(!p)return;const y=this.#a.get(p);y?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick(a))},{signal:n,capture:!0})}const e=this.#n;if(e){const n=new Map,a=new Map;for(const i of this.#g){if(i.disableEditing(),!i.annotationElementId){i.updateFakeAnnotationElement(e);continue}if(i.serialize()!==null){n.set(i.annotationElementId,i);continue}else a.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}const s=e.getEditableAnnotations();for(const i of s){const{id:l}=i.data;if(this.#u.isDeletedAnnotationElement(l)){i.updateEdited({deleted:!0});continue}let c=a.get(l);if(c){c.resetAnnotationElement(i),c.show(!1),i.show();continue}c=n.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(i)&&c.show(!1)),i.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const n of uA.#m.values())t.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#A?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#A.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#A.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#A?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#A.div.classList.remove("highlighting"))}#y(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#A.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#A.div.contains(t)){const{isMac:n}=bi.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#A.div.classList.add("free"),this.toggleDrawing(),gs.startHighlighting(this,this.#u.direction==="ltr",{target:this.#A.div,x:e.x,y:e.y}),this.#A.div.addEventListener("pointerup",()=>{this.#A.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#u.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),wr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#a.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#x(){return uA.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#S(e){const t=this.#x;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#x?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:a}=this.#C(),s=this.getNextId(),i=this.#S({parent:this,id:s,x:n,y:a,uiManager:this.#u,isCentered:!0,...t});i&&this.add(i)}async deserialize(e){return await uA.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const a=this.getNextId(),s=this.#S({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:t,width:n,height:a}=this.boundingClientRect,s=Math.max(0,e),i=Math.max(0,t),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+a),u=(s+l)/2-e,d=(i+c)/2-t,[f,p]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:f,offsetY:p}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#s||(this.#s=!1,this.#x?.isDrawer&&this.#x.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===Lr.STAMP||n===Lr.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Lr.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#s=!0,this.#x?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#x.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#x.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#x.endDrawing(e)):null}findNewParent(e,t,n){const a=this.#u.findParent(t,n);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#x.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#v(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,nf(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#v();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,nf(this.div,{rotation:n}),t!==n)for(const a of this.#a.values())a.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class hi{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return zr(this,"_svgFactory",new Ky)}static#i(e,[t,n,a,s]){const{style:i}=e;i.top=`${100*n}%`,i.left=`${100*t}%`,i.width=`${100*a}%`,i.height=`${100*s}%`}#a(){const e=hi._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#s(e,t){const n=hi._svgFactory.createElement("clipPath");e.append(n);const a=`clip_${t}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const s=hi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),a}#o(e,t){for(const[n,a]of Object.entries(t))a===null?e.removeAttribute(n):e.setAttribute(n,a)}draw(e,t=!1,n=!1){const a=hi.#r++,s=this.#a(),i=hi._svgFactory.createElement("defs");s.append(i);const l=hi._svgFactory.createElement("path");i.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(a,l);const u=n?this.#s(i,c):null,d=hi._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(s,e),this.#t.set(a,s),{id:a,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=hi.#r++,a=this.#a(),s=hi._svgFactory.createElement("defs");a.append(s);const i=hi._svgFactory.createElement("path");s.append(i);const l=`path_p${this.pageIndex}_${n}`;i.setAttribute("id",l),i.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const f=hi._svgFactory.createElement("mask");s.append(f),c=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",c),f.setAttribute("maskUnits","objectBoundingBox");const p=hi._svgFactory.createElement("rect");f.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=hi._svgFactory.createElement("use");f.append(m),m.setAttribute("href",`#${l}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=hi._svgFactory.createElement("use");a.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return a.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(n,a),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:a,rootClass:s,path:i}=t,l=typeof e=="number"?this.#t.get(e):e;if(l){if(n&&this.#o(l,n),a&&hi.#i(l,a),s){const{classList:c}=l;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(i){const u=l.firstChild.firstChild;this.#o(u,i)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:xj};globalThis.pdfjsLib={AbortException:kd,AnnotationEditorLayer:uA,AnnotationEditorParamsType:nn,AnnotationEditorType:Lr,AnnotationEditorUIManager:Fd,AnnotationLayer:ok,AnnotationMode:dA,AnnotationType:ps,applyOpacity:NV,build:$V,ColorPicker:Dl,createValidAbsoluteUrl:K3,CSSConstants:CV,DOMSVGFactory:Ky,DrawLayer:hi,FeatureTest:bi,fetchData:_g,findContrastColor:SV,getDocument:rk,getFilenameFromUrl:vV,getPdfFilenameFromUrl:bV,getRGB:Tg,getUuid:V3,getXfaPageViewport:wV,GlobalWorkerOptions:qh,ImageKind:uy,InvalidPDFException:P2,isDataScheme:Ov,isPdfFile:o5,isValidExplicitDest:_V,MathClamp:so,noContextMenu:Gl,normalizeUnicode:xV,OPS:rg,OutputScale:Cu,PasswordResponses:pV,PDFDataRangeTransport:ak,PDFDateString:I2,PDFWorker:ng,PermissionFlag:mV,PixelsPerInch:M0,RenderingCancelledException:i5,renderRichText:W3,ResponseException:Uy,setLayerDimensions:nf,shadow:zr,SignatureExtractor:t0,stopEvent:Ka,SupportedImageMimeTypes:L2,TextLayer:Hy,TouchManager:Pv,updateUrlHash:$3,Util:Gt,VerbosityLevel:Tv,version:KV,XfaLayer:G3};const s4e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:kd,AnnotationEditorLayer:uA,AnnotationEditorParamsType:nn,AnnotationEditorType:Lr,AnnotationEditorUIManager:Fd,AnnotationLayer:ok,AnnotationMode:dA,AnnotationType:ps,CSSConstants:CV,ColorPicker:Dl,DOMSVGFactory:Ky,DrawLayer:hi,FeatureTest:bi,GlobalWorkerOptions:qh,ImageKind:uy,InvalidPDFException:P2,MathClamp:so,OPS:rg,OutputScale:Cu,PDFDataRangeTransport:ak,PDFDateString:I2,PDFWorker:ng,PasswordResponses:pV,PermissionFlag:mV,PixelsPerInch:M0,RenderingCancelledException:i5,ResponseException:Uy,SignatureExtractor:t0,SupportedImageMimeTypes:L2,TextLayer:Hy,TouchManager:Pv,Util:Gt,VerbosityLevel:Tv,XfaLayer:G3,applyOpacity:NV,build:$V,createValidAbsoluteUrl:K3,fetchData:_g,findContrastColor:SV,getDocument:rk,getFilenameFromUrl:vV,getPdfFilenameFromUrl:bV,getRGB:Tg,getUuid:V3,getXfaPageViewport:wV,isDataScheme:Ov,isPdfFile:o5,isValidExplicitDest:_V,noContextMenu:Gl,normalizeUnicode:xV,renderRichText:W3,setLayerDimensions:nf,shadow:zr,stopEvent:Ka,updateUrlHash:$3,version:KV},Symbol.toStringTag,{value:"Module"}));var WM=Object.prototype.hasOwnProperty;function YM(r,e,t){for(t of r.keys())if(Op(t,e))return t}function Op(r,e){var t,n,a;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Op(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(a=n,a&&typeof a=="object"&&(a=YM(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(a=n[0],a&&typeof a=="object"&&(a=YM(e,a),!a)||!Op(n[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(WM.call(r,t)&&++n&&!WM.call(e,t)||!(t in e)||!Op(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function Mv(r){let e=!1;return{promise:new Promise((n,a)=>{r.then(s=>!e&&n(s)).catch(s=>!e&&a(s))}),cancel(){e=!0}}}const i4e=["onCopy","onCut","onPaste"],o4e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],l4e=["onFocus","onBlur"],c4e=["onInput","onInvalid","onReset","onSubmit"],u4e=["onLoad","onError"],A4e=["onKeyDown","onKeyPress","onKeyUp"],d4e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],h4e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],f4e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],m4e=["onSelect"],p4e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],g4e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],x4e=["onScroll"],y4e=["onWheel"],v4e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],b4e=["onTransitionEnd"],w4e=["onToggle"],C4e=["onChange"],N4e=[...i4e,...o4e,...l4e,...c4e,...u4e,...A4e,...d4e,...h4e,...f4e,...m4e,...p4e,...g4e,...x4e,...y4e,...v4e,...b4e,...C4e,...w4e];function eq(r,e){const t={};for(const n of N4e){const a=r[n];a&&(e?t[n]=(s=>a(s,e(n))):t[n]=a)}return t}var eE,XM;function S4e(){if(XM)return eE;XM=1;var r=function(){};return eE=r,eE}var B4e=S4e();const co=Fc(B4e),tq=B.createContext(null),E4e="noopener noreferrer nofollow";class j4e{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Zn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Zn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||E4e,e.target=n?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Zn(this.pdfDocument),Zn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Zn(Array.isArray(t));const n=t[0];new Promise(a=>{Zn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{a(s)}).catch(()=>{Zn(!1)}):typeof n=="number"?a(n):Zn(!1)}).then(a=>{const s=a+1;Zn(this.pdfViewer),Zn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:a,pageNumber:s})})})}goToPage(e){const t=e-1;Zn(this.pdfViewer),Zn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Dp({children:r,type:e}){return o.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const JM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _4e(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function ag(){return B.useReducer(_4e,{value:void 0,error:void 0})}const u5=typeof window<"u",rq=u5&&window.location.protocol==="file:";function T4e(r){return typeof r<"u"}function Vf(r){return T4e(r)&&r!==null}function k4e(r){return typeof r=="string"}function F4e(r){return r instanceof ArrayBuffer}function O4e(r){return Zn(u5),r instanceof Blob}function bj(r){return k4e(r)&&/^data:/.test(r)}function ZM(r){Zn(bj(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function D4e(){return u5&&window.devicePixelRatio||1}const nq="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function eR(){co(!rq,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${nq}`)}function P4e(){co(!rq,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${nq}`)}function U0(r){r?.cancel&&r.cancel()}function wj(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function I4e(r){return r.name==="RenderingCancelledException"}function L4e(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=a=>{if(!a.target)return t(new Error("Error while reading a file."));const{error:s}=a.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:M4e}=s4e,R4e=(r,e)=>{switch(e){case JM.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case JM.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function tR(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const U4e=B.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:s,file:i,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:f,onLoadError:p,onLoadProgress:m,onLoadSuccess:y,onPassword:g=R4e,onSourceError:v,onSourceSuccess:w,options:S,renderMode:C,rotate:j,scale:T,...L},I){const[D,k]=ag(),{value:z,error:P}=D,[U,M]=ag(),{value:q,error:ae}=U,W=B.useRef(new j4e),ee=B.useRef([]),re=B.useRef(void 0),pe=B.useRef(void 0);i&&i!==re.current&&tR(i)&&(co(!Op(i,re.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),re.current=i),S&&S!==pe.current&&(co(!Op(S,pe.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),pe.current=S);const Se=B.useRef({scrollPageIntoView:qe=>{const{dest:Pe,pageNumber:X,pageIndex:Me=X-1}=qe;if(f){f({dest:Pe,pageIndex:Me,pageNumber:X});return}const We=ee.current[Me];if(We){We.scrollIntoView();return}co(!1,`An internal link leading to page ${X} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});B.useImperativeHandle(I,()=>({linkService:W,pages:ee,viewer:Se}),[]);function ne(){w&&w()}function F(){P&&(co(!1,P.toString()),v&&v(P))}function Q(){k({type:"RESET"})}B.useEffect(Q,[i,k]);const K=B.useCallback(async()=>{if(!i)return null;if(typeof i=="string")return bj(i)?{data:ZM(i)}:(eR(),{url:i});if(i instanceof M4e)return{range:i};if(F4e(i))return{data:i};if(u5&&O4e(i))return{data:await L4e(i)};if(Zn(typeof i=="object"),Zn(tR(i)),"url"in i&&typeof i.url=="string"){if(bj(i.url)){const{url:qe,...Pe}=i;return{data:ZM(qe),...Pe}}eR()}return i},[i]);B.useEffect(()=>{const qe=Mv(K());return qe.promise.then(Pe=>{k({type:"RESOLVE",value:Pe})}).catch(Pe=>{k({type:"REJECT",error:Pe})}),()=>{U0(qe)}},[K,k]),B.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){F();return}ne()}},[z]);function V(){q&&(y&&y(q),ee.current=new Array(q.numPages),W.current.setDocument(q))}function J(){ae&&(co(!1,ae.toString()),p&&p(ae))}B.useEffect(function(){M({type:"RESET"})},[M,z]),B.useEffect(function(){if(!z)return;const Pe=S?{...z,...S}:z,X=rk(Pe);m&&(X.onProgress=m),g&&(X.onPassword=g);const Me=X,We=Me.promise.then(bt=>{M({type:"RESOLVE",value:bt})}).catch(bt=>{Me.destroyed||M({type:"REJECT",error:bt})});return()=>{We.finally(()=>Me.destroy())}},[S,M,z]),B.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){J();return}V()}},[q]),B.useEffect(function(){W.current.setViewer(Se.current),W.current.setExternalLinkRel(a),W.current.setExternalLinkTarget(s)},[a,s]);const oe=B.useCallback((qe,Pe)=>{ee.current[qe]=Pe},[]),Ne=B.useCallback(qe=>{delete ee.current[qe]},[]),ue=B.useMemo(()=>({imageResourcesPath:c,linkService:W.current,onItemClick:f,pdf:q,registerPage:oe,renderMode:C,rotate:j,scale:T,unregisterPage:Ne}),[c,f,q,oe,C,j,T,Ne]),xe=B.useMemo(()=>eq(L,()=>q),[L,q]);function Oe(){function qe(X){return!!X?.pdf}if(!qe(ue))throw new Error("pdf is undefined");const Pe=typeof e=="function"?e(ue):e;return o.jsx(tq.Provider,{value:ue,children:Pe})}function Be(){return i?q==null?o.jsx(Dp,{type:"loading",children:typeof u=="function"?u():u}):q===!1?o.jsx(Dp,{type:"error",children:typeof n=="function"?n():n}):Oe():o.jsx(Dp,{type:"no-data",children:typeof d=="function"?d():d})}return o.jsx("div",{className:dn("react-pdf__Document",t),ref:l,...xe,children:Be()})});function aq(){return B.useContext(tq)}function sq(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){for(var i=0,l=t;i<l.length;i++){var c=l[i];typeof c=="function"?c(s):c&&(c.current=s)}}}const iq=B.createContext(null);function A5(){return B.useContext(iq)}function Q4e(){const r=aq(),e=A5();Zn(e);const t={...r,...e},{imageResourcesPath:n,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:i,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:f,rotate:p,scale:m=1}=t;Zn(d),Zn(u),Zn(a);const[y,g]=ag(),{value:v,error:w}=y,S=B.useRef(null);co(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){v&&i&&i(v)}function j(){w&&(co(!1,w.toString()),s&&s(w))}B.useEffect(function(){g({type:"RESET"})},[g,u]),B.useEffect(function(){if(!u)return;const k=Mv(u.getAnnotations()),z=k;return k.promise.then(P=>{g({type:"RESOLVE",value:P})}).catch(P=>{g({type:"REJECT",error:P})}),()=>{U0(z)}},[g,u]),B.useEffect(()=>{if(v!==void 0){if(v===!1){j();return}C()}},[v]);function T(){c&&c()}function L(D){co(!1,`${D}`),l&&l(D)}const I=B.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);return B.useEffect(function(){if(!d||!u||!a||!v)return;const{current:k}=S;if(!k)return;const z=I.clone({dontFlip:!0}),P={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:k,l10n:null,linkService:a,page:u,structTreeLayer:null,viewport:z},U={annotations:v,annotationStorage:d.annotationStorage,div:k,imageResourcesPath:n,linkService:a,page:u,renderForms:f,viewport:z};k.innerHTML="";try{new ok(P).render(U),T()}catch(M){L(M)}return()=>{}},[v,n,a,u,d,f,I]),o.jsx("div",{className:dn("react-pdf__Page__annotations","annotationLayer"),ref:S})}const oq={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},H4e=/^H(\d+)$/;function z4e(r){return r in oq}function d5(r){return"children"in r}function lq(r){return d5(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function K4e(r){const e={};if(d5(r)){const{role:t}=r,n=t.match(H4e);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(z4e(t)){const a=oq[t];a&&(e.role=a)}}return e}function cq(r){const e={};if(d5(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),lq(r)){const[t]=r.children;if(t){const n=cq(t);return{...e,...n}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function $4e(r){return r?{...K4e(r),...cq(r)}:null}function uq({className:r,node:e}){const t=B.useMemo(()=>$4e(e),[e]),n=B.useMemo(()=>!d5(e)||lq(e)?null:e.children.map((a,s)=>o.jsx(uq,{node:a},s)),[e]);return o.jsx("span",{className:r,...t,children:n})}function V4e(){const r=A5();Zn(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,a]=ag(),{value:s,error:i}=n,{customTextRenderer:l,page:c}=r;function u(){s&&t&&t(s)}function d(){i&&(co(!1,i.toString()),e&&e(i))}return B.useEffect(function(){a({type:"RESET"})},[a,c]),B.useEffect(function(){if(l||!c)return;const p=Mv(c.getStructTree()),m=p;return p.promise.then(y=>{a({type:"RESOLVE",value:y})}).catch(y=>{a({type:"REJECT",error:y})}),()=>U0(m)},[l,c,a]),B.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?o.jsx(uq,{className:"react-pdf__Page__structTree structTree",node:s}):null}const rR=dA;function q4e(r){const e=A5();Zn(e);const t={...e,...r},{_className:n,canvasBackground:a,devicePixelRatio:s=D4e(),onRenderError:i,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:f,scale:p}=t,{canvasRef:m}=r;Zn(c);const y=B.useRef(null);function g(){c&&l&&l(wj(c,p))}function v(j){I4e(j)||(co(!1,j.toString()),i&&i(j))}const w=B.useMemo(()=>c.getViewport({scale:p*s,rotation:f}),[s,c,f,p]),S=B.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);B.useEffect(function(){if(!c)return;c.cleanup();const{current:T}=y;if(!T)return;T.width=w.width,T.height=w.height,T.style.width=`${Math.floor(S.width)}px`,T.style.height=`${Math.floor(S.height)}px`,T.style.visibility="hidden";const L={annotationMode:u?rR.ENABLE_FORMS:rR.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:w};a&&(L.background=a);const I=c.render(L),D=I;return I.promise.then(()=>{T.style.visibility="",g()}).catch(v),()=>U0(D)},[a,c,u,w,S]);const C=B.useCallback(()=>{const{current:j}=y;j&&(j.width=0,j.height=0)},[]);return B.useEffect(()=>C,[C]),o.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:sq(m,y),style:{display:"block",userSelect:"none"},children:d?o.jsx(V4e,{}):null})}function G4e(r){return"str"in r}function W4e(){const r=A5();Zn(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:i,pageIndex:l,pageNumber:c,rotate:u,scale:d}=r;Zn(i);const[f,p]=ag(),{value:m,error:y}=f,g=B.useRef(null);co(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&n&&n(m)}function w(){y&&(co(!1,y.toString()),t&&t(y))}B.useEffect(function(){p({type:"RESET"})},[i,p]),B.useEffect(function(){if(!i)return;const D=Mv(i.getTextContent()),k=D;return D.promise.then(z=>{p({type:"RESOLVE",value:z})}).catch(z=>{p({type:"REJECT",error:z})}),()=>U0(k)},[i,p]),B.useEffect(()=>{if(m!==void 0){if(m===!1){w();return}v()}},[m]);const S=B.useCallback(()=>{s&&s()},[s]),C=B.useCallback(I=>{co(!1,I.toString()),a&&a(I)},[a]);function j(){const I=g.current;I&&I.classList.add("selecting")}function T(){const I=g.current;I&&I.classList.remove("selecting")}const L=B.useMemo(()=>i.getViewport({scale:d,rotation:u}),[i,u,d]);return B.useLayoutEffect(function(){if(!i||!m)return;const{current:D}=g;if(!D)return;D.innerHTML="";const k=i.streamTextContent({includeMarkedContent:!0}),z={container:D,textContentSource:k,viewport:L},P=new Hy(z),U=P;return P.render().then(()=>{const M=document.createElement("div");M.className="endOfContent",D.append(M);const q=D.querySelectorAll('[role="presentation"]');if(e){let ae=0;m.items.forEach((W,ee)=>{if(!G4e(W))return;const re=q[ae];if(!re)return;const pe=e({pageIndex:l,pageNumber:c,itemIndex:ee,...W});re.innerHTML=pe,ae+=W.str&&W.hasEOL?2:1})}S()}).catch(C),()=>U0(U)},[e,C,S,i,l,c,m,L]),o.jsx("div",{className:dn("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:j,ref:g})}const nR=1;function Y4e(r){const t={...aq(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:i,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:f,error:p="Failed to load the page.",height:m,inputRef:y,loading:g="Loading page",noData:v="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:S,onGetStructTreeError:C,onGetStructTreeSuccess:j,onGetTextError:T,onGetTextSuccess:L,onLoadError:I,onLoadSuccess:D,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:z,onRenderError:P,onRenderSuccess:U,onRenderTextLayerError:M,onRenderTextLayerSuccess:q,pageIndex:ae,pageNumber:W,pdf:ee,registerPage:re,renderAnnotationLayer:pe=!0,renderForms:Se=!1,renderMode:ne="canvas",renderTextLayer:F=!0,rotate:Q,scale:K=nR,unregisterPage:V,width:J,...oe}=t,[Ne,ue]=ag(),{value:xe,error:Oe}=Ne,Be=B.useRef(null);Zn(ee);const qe=Vf(W)?W-1:ae??null,Pe=W??(Vf(ae)?ae+1:null),X=Q??(xe?xe.rotate:null),Me=B.useMemo(()=>{if(!xe)return null;let hr=1;const ar=K??nR;if(J||m){const ke=xe.getViewport({scale:1,rotation:X});J?hr=J/ke.width:m&&(hr=m/ke.height)}return ar*hr},[m,xe,X,K,J]);B.useEffect(function(){return()=>{Vf(qe)&&a&&V&&V(qe)}},[a,ee,qe,V]);function We(){if(D){if(!xe||!Me)return;D(wj(xe,Me))}if(a&&re){if(!Vf(qe)||!Be.current)return;re(qe,Be.current)}}function bt(){Oe&&(co(!1,Oe.toString()),I&&I(Oe))}B.useEffect(function(){ue({type:"RESET"})},[ue,ee,qe]),B.useEffect(function(){if(!ee||!Pe)return;const ar=Mv(ee.getPage(Pe)),ke=ar;return ar.promise.then(De=>{ue({type:"RESOLVE",value:De})}).catch(De=>{ue({type:"REJECT",error:De})}),()=>U0(ke)},[ue,ee,Pe]),B.useEffect(()=>{if(xe!==void 0){if(xe===!1){bt();return}We()}},[xe,Me]);const st=B.useMemo(()=>Vf(qe)&&Pe&&Vf(X)&&Vf(Me)?{_className:n,canvasBackground:s,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:w,onGetAnnotationsSuccess:S,onGetStructTreeError:C,onGetStructTreeSuccess:j,onGetTextError:T,onGetTextSuccess:L,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:z,onRenderError:P,onRenderSuccess:U,onRenderTextLayerError:M,onRenderTextLayerSuccess:q,page:xe,pageIndex:qe,pageNumber:Pe,renderForms:Se,renderTextLayer:F,rotate:X,scale:Me}:null,[n,s,d,f,w,S,C,j,T,L,k,z,P,U,M,q,xe,qe,Pe,Se,F,X,Me]),Ye=B.useMemo(()=>eq(oe,()=>xe&&(Me?wj(xe,Me):void 0)),[oe,xe,Me]),ht=`${qe}@${Me}/${X}`;function wt(){switch(ne){case"custom":return Zn(u),o.jsx(u,{},`${ht}_custom`);case"none":return null;default:return o.jsx(q4e,{canvasRef:i},`${ht}_canvas`)}}function Bt(){return F?o.jsx(W4e,{},`${ht}_text`):null}function Ut(){return pe?o.jsx(Q4e,{},`${ht}_annotations`):null}function dr(){function hr(ke){return!!ke?.page}if(!hr(st))throw new Error("page is undefined");const ar=typeof l=="function"?l(st):l;return o.jsxs(iq.Provider,{value:st,children:[wt(),Bt(),Ut(),ar]})}function ur(){return Pe?ee===null||xe===void 0||xe===null?o.jsx(Dp,{type:"loading",children:typeof g=="function"?g():g}):ee===!1||xe===!1?o.jsx(Dp,{type:"error",children:typeof p=="function"?p():p}):dr():o.jsx(Dp,{type:"no-data",children:typeof v=="function"?v():v})}return o.jsx("div",{className:dn(n,c),"data-page-number":Pe,ref:sq(y,Be),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Me}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ye,children:ur()})}P4e();qh.workerSrc="pdf.worker.mjs";const X4e=({isOpen:r,onClose:e,pdfSource:t,fileName:n,title:a})=>{const[s,i]=B.useState(0),[l,c]=B.useState(1),[u,d]=B.useState(1),[f,p]=B.useState(""),[m,y]=B.useState(!0),[g,v]=B.useState(null),[w,S]=B.useState(!1),C=()=>t instanceof Blob?t.size/1048576>3:!1,j=async M=>{if(M instanceof Blob)return M;if(typeof M=="string"&&M.startsWith("data:")){const ae=await(await fetch(M)).blob();if(ae.type!=="application/pdf")throw new Error("Invalid PDF format");return ae}if(typeof M=="string"){const q=await fetch(M);if(!q.ok)throw new Error(`HTTP ${q.status}: ${q.statusText}`);return await q.blob()}throw new Error("Invalid PDF source format")};B.useEffect(()=>{if(!r)return;let M,q=!1;return(async()=>{try{y(!0),v(null),c(1);const W=await j(t);M=URL.createObjectURL(W),q=!0,p(M),C()&&(console.log("Auto-switching to browser viewer for large/complex PDF"),setTimeout(()=>{S(!0),y(!1)},1e3))}catch(W){Rt.error("PDF normalization error:",W),v(W.message||"Failed to process PDF data"),y(!1)}})(),()=>{q&&M&&URL.revokeObjectURL(M)}},[t,r]),B.useEffect(()=>{if(!r||!m||w)return;const M=setTimeout(()=>{m&&(console.warn("PDF loading timeout - switching to browser viewer"),v("React-PDF viewer is taking too long. Switching to browser viewer for better performance."),setTimeout(()=>{S(!0),y(!1)},2e3))},15e3);return()=>clearTimeout(M)},[r,m,w]);const T=({numPages:M})=>{console.log("PDF loaded successfully with react-pdf:",{numPages:M}),i(M),y(!1),v(null)},L=M=>{Rt.error("React-PDF load error:",M),console.log("React-PDF failed, switching to browser viewer"),v("React-PDF viewer had issues. Switching to browser viewer for compatibility."),setTimeout(()=>{S(!0),y(!1)},1500)},I=()=>{c(M=>Math.max(M-1,1))},D=()=>{c(M=>Math.min(M+1,s))},k=()=>{d(M=>Math.min(M+.25,3))},z=()=>{d(M=>Math.max(M-.25,.5))},P=()=>{d(1)},U=()=>{if(t instanceof Blob){const M=URL.createObjectURL(t),q=document.createElement("a");q.href=M,q.download=n,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(M)}else{const M=document.createElement("a");M.href=t,M.download=n,M.click()}Ce.success("PDF downloaded successfully")};return r?o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:a||n}),a&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:n})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors ml-4","aria-label":"Close PDF viewer",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>S(!1),className:`px-3 py-1 text-sm rounded transition-colors ${w?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300":"bg-primary-600 text-white"}`,children:"Enhanced Viewer"}),o.jsx("button",{onClick:()=>S(!0),className:`px-3 py-1 text-sm rounded transition-colors ${w?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:"Browser Viewer"})]}),!w&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:z,disabled:u<=.5,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom Out (-)",children:o.jsx(Yee,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-medium min-w-[60px] text-center text-gray-900 dark:text-white",children:[Math.round(u*100),"%"]}),o.jsx("button",{onClick:k,disabled:u>=3,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom In (+)",children:o.jsx(Gee,{className:"w-4 h-4"})}),o.jsx("button",{onClick:P,className:"px-3 py-1 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-900 dark:text-white",title:"Reset Zoom",children:"Reset"})]}),s>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:I,disabled:l<=1,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Previous Page ()",children:o.jsx(t7,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",min:1,max:s,value:l,onChange:M=>{const q=parseInt(M.target.value);q>=1&&q<=s&&c(q)},className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded text-center text-sm"}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["/ ",s]})]}),o.jsx("button",{onClick:D,disabled:l>=s,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Next Page ()",children:o.jsx(f0,{className:"w-4 h-4"})})]})]}),o.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Pd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 p-4",children:[m&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4 mx-auto"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."}),t instanceof Blob&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["File size: ",(t.size/(1024*1024)).toFixed(2)," MB",C()&&o.jsx("span",{className:"text-blue-600 ml-2",children:" Using browser viewer for better performance"})]})]})}),g&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-center mb-4",children:[o.jsx(Xh,{className:"w-6 h-6 text-yellow-500 mr-2"}),o.jsx("p",{className:"text-yellow-600 dark:text-yellow-400",children:g})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("button",{onClick:()=>{S(!0),v(null),y(!1)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Try Browser Viewer (Recommended)"}),o.jsx("button",{onClick:U,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Download PDF Instead"})]})]})}),w&&f&&!m&&!g&&o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 p-2 mb-2 rounded text-center",children:o.jsx("p",{className:"text-sm text-blue-800",children:" Using browser PDF viewer - best compatibility and performance"})}),o.jsx("iframe",{src:f,className:"flex-1 w-full border border-gray-300 rounded",title:"PDF Viewer",style:{minHeight:"600px"}})]}),!w&&f&&!m&&!g&&o.jsx("div",{className:"flex justify-center",children:o.jsx(U4e,{file:f,onLoadSuccess:T,onLoadError:L,loading:o.jsx("div",{className:"text-center p-8",children:"Loading PDF content..."}),error:o.jsx("div",{className:"text-center p-8 text-red-600",children:"Failed to load PDF content"}),children:o.jsx(Y4e,{pageNumber:l,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})})]})]})}):null},J4e=({attachments:r,onFilesAdded:e,onFileRemoved:t,maxFiles:n=KB.maxFiles,maxFileSize:a=KB.maxFileSize,allowMultiple:s=!0})=>{const[i,l]=B.useState(!1),[c,u]=B.useState(!1),[d,f]=B.useState(null),p=qa(),m=B.useCallback(T=>{T.preventDefault(),T.stopPropagation()},[]),y=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),T.dataTransfer.items&&T.dataTransfer.items.length>0&&l(!0)},[]),g=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1)},[]),v=async T=>{const L=Array.from(T);if(r.length+L.length>n){Ce.error(`Maximum ${n} files allowed`);return}const I=[];for(const D of L){if(D.size>a){Ce.error(`${D.name} exceeds maximum size of ${$B(a)}`);continue}if(!KB.allowedTypes.includes(D.type)){Ce.error(`${D.name} - File type not supported`);continue}const k=new FileReader;k.onload=()=>{const z={id:`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fileName:D.name,fileType:D.type,fileSize:D.size,fileExtension:xBe(D.name),uploadedDate:new Date().toISOString(),uploadedBy:p?.id||"",uploadedByName:p?.name||"",fileData:k.result};I.push(z),I.length===L.length&&(e(I),Ce.success(`${I.length} file(s) uploaded successfully`))},k.onerror=()=>{Ce.error(`Error reading ${D.name}`)},k.readAsDataURL(D)}},w=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1);const L=T.dataTransfer.files;L&&L.length>0&&v(L)},[r.length,n,a,e]),S=T=>{T.target.files&&T.target.files.length>0&&v(T.target.files)},C=T=>T.startsWith("image/")?o.jsx(_w,{className:"w-5 h-5"}):T==="application/pdf"?o.jsx(os,{className:"w-5 h-5"}):T.includes("sheet")||T.includes("excel")?o.jsx(_ee,{className:"w-5 h-5"}):o.jsx(qZ,{className:"w-5 h-5"}),j=T=>{const L=document.createElement("a");L.href=T.fileData,L.download=T.fileName,L.click()};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{onDragEnter:y,onDragLeave:g,onDragOver:m,onDrop:w,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-primary-500 bg-indigo-50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,children:[o.jsx(ko,{className:`w-12 h-12 mx-auto mb-4 ${i?"text-primary-600":"text-gray-400"}`}),o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Drag & drop files here, or click to browse"}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["PDF, Images, Excel, Word (max ",$B(a),")"]}),o.jsx("input",{type:"file",multiple:s,accept:".pdf,.jpg,.jpeg,.png,.xlsx,.xls,.docx,.doc",onChange:S,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 cursor-pointer transition-colors",children:[o.jsx(ko,{className:"w-4 h-4"}),"Choose Files"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.length," / ",n," files uploaded"]})]}),r.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Attached Files (",r.length,")"]}),o.jsx("div",{className:"space-y-2",children:r.map(T=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:C(T.fileType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:T.fileName}),o.jsxs("p",{className:"text-xs text-gray-500",children:[$B(T.fileSize),"  ",new Date(T.uploadedDate).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[T.fileType==="application/pdf"&&o.jsxs("button",{onClick:()=>{if(!T.fileData||T.fileData.trim().length===0){Ce.error("PDF data is missing or corrupted");return}f(T),u(!0)},className:"px-3 py-1 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(Vi,{className:"w-3 h-3"}),"Preview"]}),o.jsxs("button",{onClick:()=>j(T),className:"px-3 py-1 text-xs font-medium text-primary-600 hover:bg-indigo-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(Pd,{className:"w-3 h-3"}),"Download"]}),o.jsx("button",{onClick:()=>t(T.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove file",children:o.jsx(Ur,{className:"w-4 h-4"})})]})]},T.id))})]}),c&&d&&o.jsx(X4e,{isOpen:c,onClose:()=>{u(!1),f(null)},pdfSource:`data:application/pdf;base64,${d.fileData}`,fileName:d.fileName,title:`Preview: ${d.fileName}`})]})},Aq=({value:r,onChange:e,disabled:t,className:n})=>{const a=[{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"THB",name:"Thai Baht",symbol:""},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"PHP",name:"Philippine Peso",symbol:""},{code:"VND",name:"Vietnamese Dong",symbol:""},{code:"BND",name:"Brunei Dollar",symbol:"B$"},{code:"INR",name:"Indian Rupee",symbol:""},{code:"CNY",name:"Chinese Yuan",symbol:""},{code:"JPY",name:"Japanese Yen",symbol:""},{code:"KRW",name:"South Korean Won",symbol:""},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"}];return o.jsx("select",{value:r,onChange:s=>e(s.target.value),disabled:t,className:n||"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",children:a.map(s=>o.jsxs("option",{value:s.code,children:[s.code," - ",s.name," (",s.symbol,")"]},s.code))})},Z4e=({isOpen:r,onClose:e})=>{const[t,n]=B.useState({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",plannedHours:""}),[a,s]=B.useState(!1),[i,l]=B.useState(1),[c,u]=B.useState(0),[d,f]=B.useState(null),[p,m]=B.useState(!1),[y,g]=B.useState(""),{projects:v,fetchProjects:w}=ws(),{clients:S,fetchClients:C}=uf(),{companies:j,fetchCompanies:T}=Hd();if(B.useEffect(()=>{r&&(C(),w(),T())},[r,C,w,T]),B.useEffect(()=>{(async()=>{if(t.currency==="MYR"){l(1),u(parseFloat(t.amount)||0);return}if(p&&y){const k=parseFloat(y);l(k),u(parseFloat(t.amount)*k)}else if(!p)if(t.currency!=="MYR"&&t.amount)try{const k=await Cr.convertCurrency(parseFloat(t.amount),t.currency);l(k.rate),u(k.amountMYR)}catch(k){Rt.error("Failed to fetch exchange rate:",k),l(1),u(parseFloat(t.amount)||0)}else l(1),u(parseFloat(t.amount)||0)})()},[t.currency,t.amount,p,y]),B.useEffect(()=>{if(t.projectId&&v.length>0){const D=v.find(k=>k.id===t.projectId);f(D)}else f(null)},[t.projectId,v]),!r)return null;const L=async D=>{if(D.preventDefault(),Rt.debug("Form data on submit:",{poNumber:t.poNumber,projectCode:t.projectCode,clientName:t.clientName,amount:t.amount,receivedDate:t.receivedDate}),!t.poNumber||!t.amount||!t.receivedDate||!t.projectCode||!t.clientName){const k=[];t.poNumber||k.push("PO Number"),t.projectCode||k.push("Project Code"),t.clientName||k.push("Client Name"),t.amount||k.push("Amount"),t.receivedDate||k.push("Received Date"),Rt.error("Missing required fields:",k),Ce.error(`Please fill in all required fields. Missing: ${k.join(", ")}`);return}s(!0);try{const k=await Cr.createPurchaseOrder({poNumber:t.poNumber,clientName:t.clientName,projectCode:t.projectCode||"",amount:parseFloat(t.amount),currency:t.currency,receivedDate:t.receivedDate,dueDate:t.dueDate||void 0,description:t.description||void 0,plannedHours:t.plannedHours?parseFloat(t.plannedHours):void 0,customExchangeRate:p?parseFloat(y):void 0});Rt.debug("PO created successfully:",k),k.projectStatusUpdated?Ce.success(`PO ${t.poNumber} created successfully! Project ${t.projectCode} status updated to 'ongoing'.`,{duration:5e3}):Ce.success(`PO ${t.poNumber} created successfully!`),await w(),e(),n({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",plannedHours:""}),f(null)}catch(k){Rt.error("Failed to create PO:",k);const z=k?.response?.data?.error||"Failed to create purchase order";Ce.error(z)}finally{s(!1)}},I=D=>{n({...t,[D.target.name]:D.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Received PO"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:L,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:t.poNumber,onChange:I,required:!0,placeholder:"e.g., PO-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:t.clientName,onChange:I,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Auto-filled from project or enter manually"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from project or enter manually if needed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,name:"projectId",value:t.projectId,onChange:D=>{console.log("Project dropdown changed:",D.target.value);const k=v.find(z=>z.id===D.target.value);if(console.log("Found project:",k),D.target.value==="")n({...t,projectId:"",projectCode:"",clientId:"",clientName:""});else{let z=k?.companyId?S.find(U=>U.id===k.companyId):null;!z&&k?.companyId&&(z=j.find(U=>U.id===k.companyId)),console.log("Matching client from stores:",z),console.log("Project clientName:",k?.companyName);const P=z?.name||k?.companyName||"Unknown Client";console.log("Final client name:",P),n({...t,projectId:D.target.value,projectCode:k?.projectCode||"",clientId:k?.companyId||"",clientName:P}),P!=="Unknown Client"||Rt.warn("No client name available for project:",k?.projectCode,"- clientId:",k?.companyId)}},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),v.filter(D=>D.status==="pre-lim"||D.status==="ongoing").map(D=>o.jsxs("option",{value:D.id,children:[D.projectCode," - ",D.title," (",D.status==="pre-lim"?"Pre-lim":"Ongoing",")"]},D.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:I,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),o.jsx(Aq,{value:t.currency,onChange:D=>n({...t,currency:D})})]}),t.currency!=="MYR"&&t.amount&&o.jsxs("div",{className:"mt-3 space-y-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Exchange Rate (1 ",t.currency," to MYR)"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",step:"0.000001",min:"0",value:p?y:i.toFixed(6),onChange:D=>{m(!0),g(D.target.value)},placeholder:"Enter exchange rate",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),!p&&o.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Auto-fetched"})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Converted Amount:"}),o.jsxs("span",{className:"text-lg font-semibold text-green-700",children:["RM ",c.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:t.receivedDate,onChange:I,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:t.dueDate,onChange:I,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Update Project Planned Hours",o.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Optional)"})]}),d&&d.plannedHours&&o.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:["Current: ",d.plannedHours," hrs"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",name:"plannedHours",value:t.plannedHours,onChange:I,min:"0",step:"1",placeholder:"Enter new planned hours (optional)",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),t.plannedHours&&o.jsx("p",{className:"text-xs text-gray-500",children:"Will overwrite current value"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:t.description,onChange:I,rows:3,placeholder:"Brief description of PO items/services...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ko,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Add Received PO"})]})]})]})})},eje=({isOpen:r,onClose:e})=>{const{projects:t,fetchProjects:n}=ws(),{companies:a,fetchCompanies:s}=Hd(),[i,l]=B.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),[c,u]=B.useState(null),[d,f]=B.useState(0),[p,m]=B.useState(null),[y,g]=B.useState(!1),[v,w]=B.useState(!1);B.useEffect(()=>{r&&(s(),n())},[r,s,n]),B.useEffect(()=>{r&&!i.invoiceNumber&&S()},[r]),B.useEffect(()=>{i.projectCode&&i.projectCode.trim()?C(i.projectCode.trim()):u(null)},[i.projectCode]),B.useEffect(()=>{if(i.projectId&&t.length>0&&a.length>0){const L=t.find(I=>I.id===i.projectId);if(L&&L.companyId){const I=a.find(D=>D.id===L.companyId);I&&i.companyId!==L.companyId&&l(D=>({...D,companyId:L.companyId,clientName:I.name||""}))}}},[i.projectId,t,a]);const S=async()=>{try{const L=await nr.getNextInvoiceNumber();l(I=>({...I,invoiceNumber:L}))}catch(L){Rt.error("Error loading next invoice number:",L)}},C=async L=>{g(!0);try{const I=await nr.getInvoiceProjectContext(L);u(I),f(I.projectTotalValue||0)}catch(I){Rt.error("Error loading project context:",I),u(null),f(0)}finally{g(!1)}};if(B.useEffect(()=>{if(p==="percentage"&&d>0){const L=parseFloat(i.percentageOfTotal);if(!isNaN(L)){const I=d*L/100;l(D=>({...D,amount:I.toFixed(2)}))}}},[i.percentageOfTotal,p,d]),B.useEffect(()=>{if(p==="amount"&&d>0){const L=parseFloat(i.amount);if(!isNaN(L)){const I=L/d*100;l(D=>({...D,percentageOfTotal:I.toFixed(2)}))}}},[i.amount,p,d]),!r)return null;const j=async L=>{L.preventDefault(),w(!0);try{const I={invoice_number:i.invoiceNumber,project_id:i.projectId,project_name:i.projectName,project_code:i.projectCode,company_id:i.companyId,client_name:i.clientName,amount:parseFloat(i.amount),percentage_of_total:parseFloat(i.percentageOfTotal),issue_date:i.issueDate,due_date:i.dueDate,description:i.description,remark:i.remark};await nr.createInvoice(I),Ce.success(`Invoice ${i.invoiceNumber} created successfully!`),l({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),u(null),e()}catch(I){Rt.error("Error creating invoice:",I),Ce.error(I.message||"Failed to create invoice")}finally{w(!1)}},T=L=>{l(I=>({...I,[L.target.name]:L.target.value})),L.target.name==="amount"?m("amount"):L.target.name==="percentageOfTotal"&&m("percentage")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Invoice"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[c&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(m_,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Project Invoice History"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:c.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[c.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[c.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:c.nextSequence||1})]})]}),c.totalInvoiced>=100&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-700",children:[o.jsx(A_,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Project already at 100%"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:i.invoiceNumber,onChange:T,required:!0,placeholder:"e.g., MCE1548",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated but can be edited manually"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:i.projectId,onChange:L=>{const I=t.find(D=>D.id===L.target.value);L.target.value===""?l({...i,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:"",percentageOfTotal:""}):l({...i,projectId:L.target.value,projectCode:I?.projectCode||"",projectName:I?.title||"",companyId:I?.companyId||"",clientName:""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),t.filter(L=>L.status==="ongoing").map(L=>o.jsxs("option",{value:L.id,children:[L.projectCode," - ",L.title]},L.id))]}),y&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading project context..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"projectName",value:i.projectName,onChange:T,required:!0,placeholder:"Project title",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:i.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:T,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),d>0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project Total: RM ",d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),p==="percentage"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from percentage"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:i.percentageOfTotal,onChange:T,required:!0,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",c.remainingPercentage,"% remaining",p==="amount"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from amount"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:i.issueDate,onChange:T,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Due Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"dueDate",value:i.dueDate,onChange:T,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:i.description,onChange:T,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:i.remark,onChange:T,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ko,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach Invoice Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the invoice, you can upload the PDF document in the invoice details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating...":"Create Invoice"})]})]})]})})},tje=({isOpen:r,onClose:e,invoice:t,onSave:n})=>{const{projects:a,fetchProjects:s}=ws(),{clients:i,fetchClients:l}=uf(),c=qa(),[u,d]=B.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:"",dueDate:"",description:"",remark:"",status:"sent"}),[f,p]=B.useState(null),[m,y]=B.useState(0),[g,v]=B.useState(null),[w,S]=B.useState(!1),[C,j]=B.useState({}),T=c&&nl(c.roles,"canEditInvoices");B.useEffect(()=>{r&&(l(),s())},[r,l,s]),B.useEffect(()=>{t&&d({invoiceNumber:t.invoiceNumber,projectId:t.companyId||"",projectName:t.projectName||"",projectCode:t.projectCode||"",companyId:t.companyId||"",clientName:t.clientName||"",amount:t.amount?.toString()||"",percentageOfTotal:t.percentage_of_total?.toString()||"",issueDate:t.invoice_date?new Date(t.invoice_date).toISOString().split("T")[0]:"",dueDate:t.due_date?new Date(t.due_date).toISOString().split("T")[0]:"",description:t.description||"",remark:t.remark||"",status:t.status||"sent"})},[t]),B.useEffect(()=>{u.projectCode&&u.projectCode.trim()?(async z=>{try{const P=await nr.getInvoiceProjectContext(z);p(P),y(P.projectTotalValue||0)}catch(P){Rt.error("Error loading project context:",P),p(null),y(0)}})(u.projectCode.trim()):(p(null),y(0))},[u.projectCode]),B.useEffect(()=>{if(u.projectId&&a.length>0&&i.length>0){const k=a.find(z=>z.id===u.projectId);if(k&&k.companyId){const z=i.find(P=>P.id===k.companyId);z&&u.companyId!==k.companyId&&d(P=>({...u,companyId:k.companyId,clientName:z.name||""}))}}},[u.projectId,a,i]),B.useEffect(()=>{if(g==="percentage"&&m>0){const k=parseFloat(u.percentageOfTotal);if(!isNaN(k)){const z=m*k/100;d(P=>({...P,amount:z.toFixed(2)}))}}},[u.percentageOfTotal,g,m]),B.useEffect(()=>{if(g==="amount"&&m>0){const k=parseFloat(u.amount);if(!isNaN(k)){const z=k/m*100;d(P=>({...P,percentageOfTotal:z.toFixed(2)}))}}},[u.amount,g,m]);const L=()=>{const k={};return u.invoiceNumber.trim()||(k.invoiceNumber="Invoice number is required"),u.projectCode.trim()||(k.projectCode="Project is required"),(!u.amount||parseFloat(u.amount)<=0)&&(k.amount="Valid amount is required"),(!u.percentageOfTotal||parseFloat(u.percentageOfTotal)<=0)&&(k.percentageOfTotal="Valid percentage is required"),u.issueDate||(k.issueDate="Issue date is required"),j(k),Object.keys(k).length===0},I=async k=>{if(k.preventDefault(),!T){Ce.error("You do not have permission to edit invoices");return}if(L()&&!(t.status==="paid"&&!window.confirm("This invoice is marked as PAID. Are you sure you want to edit it?"))&&!(u.status==="paid"&&t.status!=="paid"&&!window.confirm("Are you sure you want to mark this invoice as PAID? This action cannot be easily undone."))){S(!0);try{const z={invoiceNumber:u.invoiceNumber,project_name:u.projectName,project_code:u.projectCode,company_id:u.companyId,client_name:u.clientName,amount:parseFloat(u.amount),percentage_of_total:parseFloat(u.percentageOfTotal),issue_date:u.issueDate,due_date:u.dueDate,description:u.description,remark:u.remark,status:u.status};await nr.updateInvoice(t.id,z),Ce.success(`Invoice ${u.invoiceNumber} updated successfully!`),n(z),e()}catch(z){Rt.error("Error updating invoice:",z),Ce.error(z.message||"Failed to update invoice")}finally{S(!1)}}},D=k=>{d(z=>({...z,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:"",dueDate:"",description:"",remark:"",status:"sent"})),k.target.name==="amount"?v("amount"):k.target.name==="percentageOfTotal"&&v("percentage")};return r?T?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cl,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Invoice"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:I,className:"p-6 space-y-5",children:[t.status==="paid"&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Xh,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Paid Invoice Warning"}),o.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"This invoice is marked as paid. Editing paid invoices should be done with caution."})]})]})}),f&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Project Invoice History"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:f.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[f.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[f.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:f.nextSequence||1})]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:u.invoiceNumber,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.invoiceNumber&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.invoiceNumber}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Can be edited manually"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"status",value:u.status,onChange:D,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"overdue",children:"Overdue"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:u.projectId,onChange:k=>{a.find(z=>z.id===k.target.value),k.target.value===""&&d({...u,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.map(k=>o.jsxs("option",{value:k.id,children:[k.projectCode," - ",k.title]},k.id))]}),C.projectCode&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.projectCode})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:u.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:u.amount,onChange:D,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.amount&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.amount}),m>0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project Total: RM ",m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),g==="percentage"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from percentage"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:u.percentageOfTotal,onChange:D,required:!0,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.percentageOfTotal&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.percentageOfTotal}),f&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",f.remainingPercentage,"% remaining",g==="amount"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from amount"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:u.issueDate,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.issueDate&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.issueDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:u.dueDate,onChange:D,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:u.description,onChange:D,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:u.remark,onChange:D,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o.jsx(s7,{className:"w-4 h-4"}),w?"Updating...":"Update Invoice"]})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[o.jsx(Xh,{className:"w-6 h-6"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Access Denied"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit invoices. Please contact your manager if you need access."}),o.jsx("button",{onClick:e,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})}):null},rje=({isOpen:r,onClose:e,onSuccess:t})=>{const{projects:n,fetchProjects:a}=ws(),{companies:s,fetchCompanies:i}=Hd(),[l,c]=B.useState(!1),[u,d]=B.useState(null),[f,p]=B.useState({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""});if(B.useEffect(()=>{r&&(i(),a())},[r,i,a]),!r)return null;const m=async g=>{g.preventDefault(),c(!0),d(null);try{const v={poNumber:f.poNumber,recipient:f.vendorName,companyId:f.vendorId,items:f.description,amount:parseFloat(f.amount),currency:"MYR",projectCode:f.projectCode||null,issueDate:new Date(f.issueDate).toISOString(),dueDate:f.deliveryDate?new Date(f.deliveryDate).toISOString():void 0,status:"issued"};await Cr.createIssuedPO(v),Ce.success(`Issued PO ${f.poNumber} created successfully!`),p({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""}),t&&t(),e()}catch(v){d(v.response?.data?.error||v.message||"Failed to create Issued PO"),Ce.error("Failed to create Issued PO")}finally{c(!1)}},y=g=>{p({...f,[g.target.name]:g.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Issue PO to Vendor"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:f.poNumber,onChange:y,required:!0,placeholder:"e.g., PO-OUT-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"companyId",value:f.vendorId,onChange:g=>{const v=s.find(w=>w.id===g.target.value);p({...f,vendorId:g.target.value,vendorName:v?.name||""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a vendor"}),s.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code (Optional)"}),o.jsxs("select",{name:"projectId",value:f.projectId,onChange:g=>{const v=n.find(w=>w.id===g.target.value);p({...f,projectId:g.target.value,projectCode:v?.projectCode||""})},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"None (Non-project purchase)"}),n.filter(g=>g.status==="pre-lim"||g.status==="ongoing").map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for non-project purchases (e.g., stationery, appliances)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:f.amount,onChange:y,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:f.issueDate,onChange:y,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"deliveryDate",value:f.deliveryDate,onChange:y,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Items / Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"description",value:f.description,onChange:y,required:!0,rows:3,placeholder:"List of items/services being purchased...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:u})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ko,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Issue PO"})]})]})]})})},nje=({isOpen:r,onClose:e,onSuccess:t,editingInvoice:n})=>{const[a,s]=B.useState([]),[i,l]=B.useState(!1),[c,u]=B.useState(!1),[d,f]=B.useState({invoiceNumber:"",issuedPoId:"",amount:"",currency:"MYR",invoiceDate:new Date().toISOString().split("T")[0],receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""}),p=!!n;B.useEffect(()=>{r&&m()},[r]),B.useEffect(()=>{r&&n?f({invoiceNumber:n.invoiceNumber||"",issuedPoId:n.issuedPoId||"",amount:n.amount?.toString()||"",currency:n.currency||"MYR",invoiceDate:n.invoiceDate?new Date(n.invoiceDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],receivedDate:n.receivedDate?new Date(n.receivedDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],dueDate:n.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",description:n.description||""}):r&&!n&&f({invoiceNumber:"",issuedPoId:"",amount:"",currency:"MYR",invoiceDate:new Date().toISOString().split("T")[0],receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""})},[r,n]);const m=async()=>{l(!0);try{const S=(await nr.getAllIssuedPOs()).filter(C=>C.status!=="completed");s(S)}catch(w){Rt.error("Error loading Issued POs:",w),Ce.error("Failed to load Issued POs")}finally{l(!1)}},y=w=>{const{name:S,value:C}=w.target;f(j=>({...j,[S]:C}))},g=async w=>{if(w.preventDefault(),!d.invoiceNumber.trim()){Ce.error("Invoice number is required");return}if(!d.issuedPoId){Ce.error("Please select an Issued PO");return}if(!d.amount||parseFloat(d.amount)<=0){Ce.error("Please enter a valid amount");return}u(!0);try{const S={invoiceNumber:d.invoiceNumber.trim(),issuedPoId:d.issuedPoId,amount:parseFloat(d.amount),currency:d.currency,invoiceDate:d.invoiceDate,receivedDate:d.receivedDate,dueDate:d.dueDate||null,description:d.description||null};p?(await nr.updateReceivedInvoice(n.id,S),Ce.success("Received invoice updated successfully")):(await nr.createReceivedInvoice(S),Ce.success("Received invoice created successfully")),t(),e()}catch(S){Rt.error("Error saving received invoice:",S),Ce.error(S.response?.data?.error||"Failed to save received invoice")}finally{u(!1)}},v=a.find(w=>w.id===d.issuedPoId);return r?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[o.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:e}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(os,{className:"w-5 h-5 text-primary-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p?"Edit Received Invoice":"Add Received Invoice"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Linked Issued PO ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"issuedPoId",value:d.issuedPoId,onChange:y,disabled:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select an Issued PO..."}),i?o.jsx("option",{disabled:!0,children:"Loading..."}):a.map(w=>o.jsxs("option",{value:w.id,children:[w.poNumber," - ",w.recipient," (",w.currency," ",w.amount?.toLocaleString(),")"]},w.id))]}),p&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Linked PO cannot be changed after creation"})]}),v&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[o.jsx("p",{className:"font-medium text-gray-900",children:v.recipient}),o.jsx("p",{className:"text-gray-600",children:v.items}),v.projectCode&&o.jsxs("p",{className:"text-primary-600 text-xs mt-1",children:["Project: ",v.projectCode]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:d.invoiceNumber,onChange:y,placeholder:"Enter vendor's invoice number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:d.amount,onChange:y,placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),o.jsxs("select",{name:"currency",value:d.currency,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"MYR",children:"MYR"}),o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"SGD",children:"SGD"}),o.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Invoice Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"invoiceDate",value:d.invoiceDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:d.receivedDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:d.dueDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:d.description,onChange:y,rows:3,placeholder:"Optional notes about this invoice",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:c?"Saving...":p?"Update Invoice":"Create Invoice"})]})]})]})]})}):null},aje=({isOpen:r,po:e,onClose:t,onSave:n})=>{const[a,s]=B.useState({poNumber:"",projectCode:"",companyName:"",amount:"",currency:"MYR",receivedDate:"",dueDate:"",description:"",status:"received",fileUrl:""}),[i,l]=B.useState(1),[c,u]=B.useState(""),[d,f]=B.useState(null),[p,m]=B.useState(!1);B.useEffect(()=>{r&&e&&(s({poNumber:e.po_number||"",projectCode:e.project_code||e.project?.project_code||"",companyName:e.company_name||e.company?.name||"",amount:e.amount?.toString()||"",currency:e.currency||"MYR",receivedDate:e.received_date||"",dueDate:e.due_date||"",description:e.description||"",status:e.status||"received",fileUrl:e.file_url||""}),l(e.exchange_rate||1),u(e.received_date||""))},[r,e]);const y=parseFloat(a.amount||"0")*i,g=async v=>{v.preventDefault(),m(!0);try{let w=a.fileUrl;d&&(w=(await di.uploadProjectPO(e.id,d)).fileUrl);const S={po_number:a.poNumber,amount:parseFloat(a.amount),currency:a.currency,exchange_rate:i,amount_myr:y,received_date:a.receivedDate,due_date:a.dueDate,description:a.description,status:a.status,file_url:w};await n(S),Ce.success(`Purchase Order ${S.po_number} updated successfully!`),t()}catch(w){Rt.error("Error updating PO:",w),Ce.error("Failed to update purchase order")}finally{m(!1)}};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Purchase Order"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),o.jsx("input",{type:"text",value:a.poNumber,onChange:v=>s(w=>({...w,poNumber:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Code"}),o.jsx("input",{type:"text",value:a.projectCode,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),o.jsx("input",{type:"text",value:a.companyName,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:a.amount,onChange:v=>s(w=>({...w,amount:v.target.value})),className:"flex-1 px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),o.jsx(Aq,{value:a.currency,onChange:v=>s(w=>({...w,currency:v}))})]})]}),a.currency!=="MYR"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exchange Rate (to MYR)"}),o.jsx("input",{type:"number",step:"0.000001",value:i,onChange:v=>l(parseFloat(v.target.value)||0),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate Date"}),o.jsx("input",{type:"date",value:c,onChange:v=>u(v.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Converted Amount (MYR)"}),o.jsx("input",{type:"text",value:`RM ${y.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),o.jsx("input",{type:"date",value:a.receivedDate,onChange:v=>{s(w=>({...w,receivedDate:v.target.value})),c||u(v.target.value)},className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",value:a.dueDate,onChange:v=>s(w=>({...w,dueDate:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:a.status,onChange:v=>s(w=>({...w,status:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:v=>s(w=>({...w,description:v.target.value})),rows:3,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Replace File (Optional)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",id:"file-upload",onChange:v=>f(v.target.files?.[0]||null),className:"hidden"}),o.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-lg cursor-pointer hover:bg-blue-50",children:d?d.name:"Choose File"}),a.fileUrl&&!d&&o.jsx("span",{className:"text-sm text-gray-600",children:"Current file exists"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:p?"Saving...":"Update PO"})]})]})]})}):null},sje=({isOpen:r,issuedPO:e,onClose:t,onSave:n})=>{const[a,s]=B.useState(!1),[i,l]=B.useState(null),[c,u]=B.useState({poNumber:"",recipient:"",amount:"",issueDate:"",dueDate:"",items:""});if(B.useEffect(()=>{r&&e&&u({poNumber:e.poNumber||e.po_number||"",recipient:e.recipient||"",amount:e.amount?.toString()||"",issueDate:e.issueDate||e.issue_date||"",dueDate:e.dueDate||e.due_date||"",items:e.items||""})},[r,e]),!r||!e)return null;const d=async p=>{p.preventDefault(),s(!0),l(null);try{const m={poNumber:c.poNumber,recipient:c.recipient,amount:parseFloat(c.amount),issueDate:c.issueDate?new Date(c.issueDate).toISOString():void 0,dueDate:c.dueDate?new Date(c.dueDate).toISOString():void 0,items:c.items};await Cr.updateIssuedPO(e.id,m),Ce.success(`Issued PO ${c.poNumber} updated successfully!`),n(),t()}catch(m){l(m.response?.data?.error||m.message||"Failed to update Issued PO"),Ce.error("Failed to update Issued PO")}finally{s(!1)}},f=p=>{u({...c,[p.target.name]:p.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Issued PO"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:c.poNumber,onChange:f,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor/Recipient ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"recipient",value:c.recipient,onChange:f,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:f,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:c.issueDate,onChange:f,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:f,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Items / Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"items",value:c.items,onChange:f,required:!0,rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),i&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:i})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:a,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Update PO"})]})]})]})})},ije=({isOpen:r,po:e,onClose:t})=>!r||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Purchase Order Details"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.po_number||e.poNumber})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ur,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[e.projectCode&&o.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Project"}),o.jsxs("p",{className:"text-lg font-semibold text-primary-600",children:[e.projectCode," - ",e.project?.title||"No project"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Client"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.clientName||e.vendor})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),o.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:[e.currency," ",e.amount?.toLocaleString()||"0.00"]}),e.currency!=="MYR"&&o.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" RM ",e.amount_myr?.toLocaleString()||"0.00","(Rate: ",e.exchange_rate?.toFixed(6)||"N/A",")"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:e.received_date?"Received Date":"Issue Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.received_date?new Date(e.received_date).toLocaleDateString():e.issueDate?new Date(e.issueDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Due Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.due_date||e.dueDate?new Date(e.due_date||e.dueDate).toLocaleDateString():"N/A"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.status})]}),e.description&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.description})]}),e.category&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.category})]}),e.file_url&&o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Attached Document"}),o.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[o.jsx(os,{className:"w-4 h-4"}),"View Document"]})]})]}),o.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})}),aR={received:{label:"Received",color:"bg-blue-100 text-blue-800",icon:os},"in-progress":{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:ll},invoiced:{label:"Invoiced",color:"bg-purple-100 text-purple-800",icon:os},paid:{label:"Paid",color:"bg-green-100 text-green-800",icon:$a},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:Qx},draft:{label:"Draft",color:"bg-gray-100 text-gray-800",icon:os},sent:{label:"Sent",color:"bg-blue-100 text-blue-800",icon:$a},viewed:{label:"Viewed",color:"bg-primary-100 text-indigo-800",icon:$a},overdue:{label:"Overdue",color:"bg-red-100 text-red-800",icon:Qx},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:ll},approved:{label:"Approved",color:"bg-green-100 text-green-800",icon:$a},rejected:{label:"Rejected",color:"bg-red-100 text-red-800",icon:Qx},verified:{label:"Verified",color:"bg-blue-100 text-blue-800",icon:$a},disputed:{label:"Disputed",color:"bg-orange-100 text-orange-800",icon:Qx}};function h5(r){return aR[r]||aR.pending}function rl(r){if(!r)return"N/A";try{return new Date(r).toLocaleDateString()}catch{return"Invalid Date"}}const oje={default:{icon:o.jsx(nee,{className:"w-8 h-8"}),iconBg:"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"},search:{icon:o.jsx(jc,{className:"w-8 h-8"}),iconBg:"bg-blue-100 dark:bg-blue-900/30 text-blue-500 dark:text-blue-400"},error:{icon:o.jsx(Cs,{className:"w-8 h-8"}),iconBg:"bg-red-100 dark:bg-red-900/30 text-red-500 dark:text-red-400"},"no-permission":{icon:o.jsx(HZ,{className:"w-8 h-8"}),iconBg:"bg-amber-100 dark:bg-amber-900/30 text-amber-500 dark:text-amber-400"}},lje={sm:{container:"min-h-48 py-6",iconSize:"w-12 h-12",title:"text-base",description:"text-sm"},md:{container:"min-h-72 py-10",iconSize:"w-16 h-16",title:"text-lg",description:"text-base"},lg:{container:"min-h-96 py-12",iconSize:"w-20 h-20",title:"text-xl",description:"text-base"}},cje=({icon:r,title:e,description:t,actionLabel:n,onAction:a,actionVariant:s="primary",actionIcon:i,secondaryActionLabel:l,onSecondaryAction:c,illustration:u,className:d,variant:f="default",size:p="md"})=>{const m=oje[f],y=lje[p];return o.jsxs("div",{className:_r("flex flex-col items-center justify-center px-4 text-center",y.container,d),role:"status","aria-label":e,children:[u?o.jsx("img",{src:u,alt:"",className:_r("mb-6 opacity-80",p==="sm"?"w-32 h-32":p==="md"?"w-40 h-40":"w-48 h-48"),"aria-hidden":"true"}):o.jsx("div",{className:_r("rounded-full flex items-center justify-center mb-4",y.iconSize,r?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500":m.iconBg),"aria-hidden":"true",children:r||m.icon}),o.jsx("h3",{className:_r("font-semibold text-gray-900 dark:text-white mb-2",y.title),children:e}),t&&o.jsx("p",{className:_r("text-gray-600 dark:text-gray-400 max-w-md mb-6",y.description),children:t}),(n||l)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n&&a&&o.jsx(Dt,{variant:s,size:p==="sm"?"sm":"md",onClick:a,icon:i||(f==="default"?o.jsx(vi,{className:"w-4 h-4"}):void 0),children:n}),l&&c&&o.jsx(Dt,{variant:"outline",size:p==="sm"?"sm":"md",onClick:c,children:l})]})]})},uje=({columns:r,rows:e=5})=>o.jsx(o.Fragment,{children:Array.from({length:e}).map((t,n)=>o.jsx("tr",{className:"animate-pulse",children:Array.from({length:r}).map((a,s)=>o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})},s))},n))}),Aje=({count:r=3})=>o.jsx("div",{className:"space-y-4",children:Array.from({length:r}).map((e,t)=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},t))});function f5({data:r,columns:e,getRowKey:t,loading:n=!1,pagination:a=!0,pageSizeOptions:s=[10,25,50,100],defaultPageSize:i=10,searchable:l=!1,searchPlaceholder:c="Search...",searchFilter:u,sortable:d=!0,defaultSortKey:f,defaultSortDirection:p="asc",onRowClick:m,rowActions:y,emptyState:g,emptyTitle:v="No data found",emptyDescription:w="There are no items to display.",mobileCard:S,responsiveCards:C=!0,className:j,stickyHeader:T=!1,selectable:L=!1,selectedRows:I,onSelectionChange:D,bulkActions:k}){const[z,P]=B.useState(""),[U,M]=B.useState(f),[q,ae]=B.useState(p),[W,ee]=B.useState(1),[re,pe]=B.useState(i),[Se,ne]=B.useState([]),F=I??Se,Q=D??ne,K=B.useMemo(()=>z.trim()?r.filter(Ye=>u?u(Ye,z):e.some(ht=>{const wt=typeof ht.accessor=="function"?ht.accessor(Ye):Ye[ht.accessor];return wt==null?!1:String(wt).toLowerCase().includes(z.toLowerCase())})):r,[r,z,u,e]),V=B.useMemo(()=>{if(!U||!d)return K;const Ye=e.find(ht=>ht.key===U);return!Ye||Ye.sortable===!1?K:[...K].sort((ht,wt)=>{const Bt=typeof Ye.accessor=="function"?Ye.accessor(ht):ht[Ye.accessor],Ut=typeof Ye.accessor=="function"?Ye.accessor(wt):wt[Ye.accessor];if(Bt==null&&Ut==null)return 0;if(Bt==null)return q==="asc"?1:-1;if(Ut==null)return q==="asc"?-1:1;let dr=0;return typeof Bt=="number"&&typeof Ut=="number"?dr=Bt-Ut:Bt instanceof Date&&Ut instanceof Date?dr=Bt.getTime()-Ut.getTime():dr=String(Bt).localeCompare(String(Ut)),q==="asc"?dr:-dr})},[K,U,q,d,e]),J=B.useMemo(()=>{if(!a)return V;const Ye=(W-1)*re;return V.slice(Ye,Ye+re)},[V,W,re,a]),oe=Math.ceil(V.length/re),Ne=(W-1)*re+1,ue=Math.min(W*re,V.length),xe=B.useCallback(Ye=>{if(!d)return;const ht=e.find(wt=>wt.key===Ye);!ht||ht.sortable===!1||(U===Ye?ae(wt=>wt==="asc"?"desc":"asc"):(M(Ye),ae("asc")),ee(1))},[d,U,e]),Oe=B.useCallback(Ye=>{ee(Ye)},[]),Be=B.useCallback(Ye=>{pe(Ye),ee(1)},[]),qe=B.useCallback(Ye=>{P(Ye),ee(1)},[]),Pe=B.useCallback(Ye=>{const ht=F.includes(Ye)?F.filter(wt=>wt!==Ye):[...F,Ye];Q(ht)},[F,Q]),X=B.useCallback(()=>{F.length===J.length?Q([]):Q(J.map(Ye=>t(Ye)))},[F,J,Q,t]),Me=e.filter(Ye=>!Ye.hideOnMobile),We=(Ye,ht)=>{const wt=typeof ht.accessor=="function"?ht.accessor(Ye):Ye[ht.accessor];return ht.cell?ht.cell(wt,Ye,J.indexOf(Ye)):wt},bt=Ye=>!d||Ye.sortable===!1?null:U===Ye.key?q==="asc"?o.jsx(Cd,{className:"w-4 h-4"}):o.jsx(Bo,{className:"w-4 h-4"}):o.jsx(Yh,{className:"w-4 h-4 text-gray-400"}),st=(Ye,ht)=>S?S({row:Ye,index:ht,columns:e,onRowClick:m,actions:y?.(Ye)}):o.jsxs("div",{className:_r("bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-4",m&&"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>m?.(Ye),children:[Me.map(wt=>o.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[o.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:wt.header}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-white text-right",children:We(Ye,wt)})]},wt.key)),y&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:y(Ye)})]},t(Ye));return!n&&r.length===0?o.jsx("div",{className:j,children:g||o.jsx(cje,{title:v,description:w})}):o.jsxs("div",{className:_r("space-y-4",j),children:[(l||L&&F.length>0)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l&&o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:z,onChange:Ye=>qe(Ye.target.value),placeholder:c,className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),z&&o.jsx("button",{onClick:()=>qe(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-4 h-4"})})]}),L&&F.length>0&&k&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.length," selected"]}),k(F)]})]}),o.jsx("div",{className:_r("hidden md:block overflow-x-auto bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"),children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:_r("bg-gray-50 dark:bg-gray-900",T&&"sticky top-0 z-10"),children:o.jsxs("tr",{children:[L&&o.jsx("th",{className:"w-12 px-6 py-3",children:o.jsx("input",{type:"checkbox",checked:F.length===J.length&&J.length>0,onChange:X,className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.map(Ye=>o.jsx("th",{className:_r("px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",Ye.align==="center"&&"text-center",Ye.align==="right"&&"text-right",Ye.align!=="center"&&Ye.align!=="right"&&"text-left",Ye.width,d&&Ye.sortable!==!1&&"cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-800",Ye.headerClassName),onClick:()=>Ye.sortable!==!1&&xe(Ye.key),children:o.jsxs("div",{className:_r("flex items-center gap-1",Ye.align==="right"&&"justify-end",Ye.align==="center"&&"justify-center"),children:[Ye.header,bt(Ye)]})},Ye.key)),y&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n?o.jsx(uje,{columns:e.length+(L?1:0)+(y?1:0)}):J.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:e.length+(L?1:0)+(y?1:0),className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:z?`No results found for "${z}"`:"No data available"})}):J.map(Ye=>{const ht=t(Ye),wt=F.includes(ht);return o.jsxs("tr",{tabIndex:m?0:void 0,role:m?"button":void 0,"aria-selected":L?wt:void 0,className:_r("hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",m&&"cursor-pointer focus:outline-none focus:bg-primary-50 dark:focus:bg-primary-900/30 focus:ring-2 focus:ring-inset focus:ring-primary-500",wt&&"bg-primary-50 dark:bg-primary-900/20"),onClick:()=>m?.(Ye),onKeyDown:Bt=>{m&&(Bt.key==="Enter"||Bt.key===" ")&&(Bt.preventDefault(),m(Ye))},children:[L&&o.jsx("td",{className:"w-12 px-6 py-4",onClick:Bt=>Bt.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:wt,onChange:()=>Pe(ht),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.map(Bt=>o.jsx("td",{className:_r("px-6 py-4 text-sm",Bt.align==="center"&&"text-center",Bt.align==="right"&&"text-right",Bt.cellClassName),children:We(Ye,Bt)},Bt.key)),y&&o.jsx("td",{className:"px-6 py-4 text-right",onClick:Bt=>Bt.stopPropagation(),children:y(Ye)})]},ht)})})]})}),C&&o.jsx("div",{className:"md:hidden space-y-4",children:n?o.jsx(Aje,{}):J.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:z?`No results found for "${z}"`:"No data available"}):J.map((Ye,ht)=>st(Ye,ht))}),a&&V.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between px-2",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("span",{children:["Showing ",Ne," to ",ue," of ",V.length," results"]}),o.jsx("select",{value:re,onChange:Ye=>Be(Number(Ye.target.value)),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:s.map(Ye=>o.jsxs("option",{value:Ye,children:[Ye," per page"]},Ye))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>Oe(W-1),disabled:W===1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsx(t7,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,oe)},(Ye,ht)=>{let wt;return oe<=5||W<=3?wt=ht+1:W>=oe-2?wt=oe-4+ht:wt=W-2+ht,o.jsx("button",{onClick:()=>Oe(wt),className:_r("w-8 h-8 rounded-lg text-sm font-medium transition-colors",W===wt?"bg-primary-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:wt},wt)})}),o.jsx("button",{onClick:()=>Oe(W+1),disabled:W===oe,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsx(f0,{className:"w-4 h-4"})})]})]})]})}const dje=B.memo(({receivedPOs:r,searchQuery:e,canUpload:t,canDeletePO:n,onViewDocument:a,onAttachDocument:s,onEditPO:i,onDeletePO:l,onViewDetails:c})=>{const u=B.useMemo(()=>r.filter(m=>{const y=e.toLowerCase();if(!y)return!0;const g=m.poNumber||m.po_number,v=m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code,w=m.project?.client?.name||m.clientName||m.client_name;return g?.toLowerCase().includes(y)||w?.toLowerCase().includes(y)||v?.toLowerCase().includes(y)||m.project?.title?.toLowerCase().includes(y)}),[r,e]),d=B.useMemo(()=>[{key:"poNumber",header:"PO Number",accessor:m=>m.poNumber||m.po_number,sortable:!0,cell:(m,y)=>{const g=y.poNumber||y.po_number,v=y.fileUrl||y.file_url;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:g}),v&&o.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-1.5 py-0.5 bg-green-100 text-green-800 rounded",children:o.jsx(os,{className:"w-3 h-3"})})]})}},{key:"project",header:"Project",accessor:m=>m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code||"No Code",sortable:!0,cell:(m,y)=>{const g=y.projectCode||y.project_code||y.project?.projectCode||y.project?.project_code,v=y.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:g||"No Code"}),v&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:v})]})}},{key:"clientName",header:"Client",accessor:m=>m.project?.client?.name||m.clientName||m.client_name||"Unknown",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-900",children:m})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(m,y)=>o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:"font-bold text-gray-900",children:[y.currency," ",y.amount.toLocaleString()]}),y.amount_myr&&o.jsxs("span",{className:"text-xs text-gray-500",children:["RM ",y.amount_myr.toLocaleString()]})]})},{key:"receivedDate",header:"Received Date",accessor:m=>m.receivedDate||m.received_date,sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:rl(m)}),hideOnMobile:!0},{key:"dueDate",header:"Due Date",accessor:m=>m.dueDate||m.due_date,sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:rl(m)}),hideOnMobile:!0}],[]),f=({row:m,actions:y})=>{const g=h5(m.status),v=g.icon,w=m.poNumber||m.po_number,S=m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code,C=m.project?.client?.name||m.clientName||m.client_name,j=m.fileUrl||m.file_url,T=m.receivedDate||m.received_date,L=m.dueDate||m.due_date;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:[o.jsx(v,{className:"w-3 h-3"}),g.label]}),j&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx(os,{className:"w-3 h-3"}),"Document"]}),m.attachments&&m.attachments.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx(os,{className:"w-3 h-3"}),"Document"]}),m.attachments&&m.attachments.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(ko,{className:"w-3 h-3"}),m.attachments.length]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.currency," ",m.amount.toLocaleString()]})]}),S||m.project?.title?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[S||"No Code"," - ",m.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:C||"Unknown"}),m.description&&o.jsx("p",{className:"text-sm text-gray-500",children:m.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:rl(T)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:rl(L)})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:y})]})},p=m=>{const y=m.fileUrl||m.file_url;return o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[y&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),a(m)},title:"View Document",children:o.jsx(Vi,{className:"w-4 h-4"})}),o.jsx(Dt,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),s(m.id)},title:"Upload Document",children:o.jsx(ko,{className:"w-4 h-4"})}),t&&o.jsx(Dt,{size:"sm",onClick:g=>{g.stopPropagation(),i(m)},title:"Edit PO",children:o.jsx(cl,{className:"w-4 h-4"})}),n&&o.jsx(Dt,{size:"sm",variant:"danger",onClick:g=>{g.stopPropagation(),l(m)},title:"Delete",children:o.jsx(Ns,{className:"w-4 h-4"})})]})};return o.jsx(f5,{data:u,columns:d,getRowKey:m=>m.id,searchable:!1,sortable:!0,defaultSortKey:"receivedDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:f,rowActions:p,emptyTitle:"No purchase orders found",emptyDescription:"There are no received POs to display."})}),hje=({invoices:r,searchQuery:e,onViewPDF:t,onUploadDocument:n,onEditInvoice:a,onDeleteInvoice:s,canUpload:i=!1,canDelete:l=!1,canApprove:c=!1,onSubmitForApproval:u,onApprove:d,onWithdraw:f,onMarkAsSent:p,onMarkAsPaid:m,currentUserId:y})=>{const g=B.useMemo(()=>r.filter(C=>{const j=e.toLowerCase();return j?C.invoiceNumber?.toLowerCase().includes(j)||C.clientName?.toLowerCase().includes(j)||C.projectCode?.toLowerCase().includes(j)||C.project?.title?.toLowerCase().includes(j):!0}),[r,e]),v=B.useMemo(()=>[{key:"invoiceNumber",header:"Invoice Number",accessor:"invoiceNumber",sortable:!0,cell:(C,j)=>o.jsx("span",{className:"font-semibold text-gray-900",children:j.invoiceNumber})},{key:"project",header:"Project",accessor:C=>C.projectCode||"No Code",sortable:!0,cell:(C,j)=>{const T=j.projectCode,L=j.projectName||j.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:T||"No Code"}),L&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:L})]})}},{key:"progress",header:"Progress",accessor:"percentageOfTotal",sortable:!0,cell:(C,j)=>o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[j.percentageOfTotal,"% (#",j.invoiceSequence,")"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["Cumulative: ",j.cumulativePercentage,"%"]})]}),hideOnMobile:!0},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(C,j)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[j.currency||"MYR"," ",(j.amount||0).toLocaleString()]})},{key:"invoiceDate",header:"Invoice Date",accessor:"invoiceDate",sortable:!0,cell:C=>o.jsx("span",{className:"text-sm text-gray-700",children:rl(C)}),hideOnMobile:!0}],[]),w=({row:C,actions:j})=>{const T=h5(C.status),L=T.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${T.color}`,children:[o.jsx(L,{className:"w-3 h-3"}),T.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[C.currency||"MYR"," ",(C.amount||0).toLocaleString()]})]}),C.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[C.projectCode," - ",C.projectName||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Progress: ",C.percentageOfTotal,"% (Invoice #",C.invoiceSequence,")"]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Cumulative: ",C.cumulativePercentage,"%"]}),C.remark&&o.jsxs("span",{children:[" ",C.remark]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:rl(C.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:C.status||"draft"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Project"}),o.jsx("p",{className:"text-sm font-medium text-primary-600",children:C.projectCode})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:j})]})},S=C=>o.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[C.fileUrl&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:j=>{j.stopPropagation(),t(C.id,C.invoiceNumber)},title:"View Document",children:o.jsx(Vi,{className:"w-4 h-4"})}),i&&n&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:j=>{j.stopPropagation(),n(C)},title:"Upload Document",children:o.jsx(ko,{className:"w-4 h-4"})}),i&&a&&C.status!=="paid"&&o.jsx(Dt,{size:"sm",onClick:j=>{j.stopPropagation(),a(C)},title:"Edit",children:o.jsx(cl,{className:"w-4 h-4"})}),l&&s&&o.jsx(Dt,{size:"sm",variant:"danger",onClick:j=>{j.stopPropagation(),s(C)},title:"Delete",children:o.jsx(Ns,{className:"w-4 h-4"})}),C.status==="draft"&&i&&u&&o.jsx(Dt,{size:"sm",className:"bg-orange-100 hover:bg-orange-200 text-orange-700",onClick:j=>{j.stopPropagation(),u(C.id)},title:"Submit for Approval",children:"Submit"}),C.status==="pending-approval"&&c&&d&&o.jsx(Dt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:j=>{j.stopPropagation(),d(C.id)},title:"Approve",children:"Approve"}),C.status==="pending-approval"&&C.createdBy===y&&f&&o.jsx(Dt,{size:"sm",className:"bg-red-100 hover:bg-red-200 text-red-700",onClick:j=>{j.stopPropagation(),f(C.id)},title:"Withdraw",children:"Withdraw"}),C.status==="approved"&&i&&p&&o.jsx(Dt,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:j=>{j.stopPropagation(),p(C.id)},title:"Mark as Sent",children:"Mark Sent"}),C.status==="sent"&&m&&c&&o.jsx(Dt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:j=>{j.stopPropagation(),m(C.id)},title:"Mark as Paid",children:"Mark Paid"})]});return o.jsx(f5,{data:g,columns:v,getRowKey:C=>C.id,searchable:!1,sortable:!0,defaultSortKey:"invoiceDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:w,rowActions:S,emptyTitle:"No invoices found",emptyDescription:"There are no invoices to display."})},fje=({issuedPOs:r,searchQuery:e,canApprove:t,canDeletePO:n,canUpload:a=!1,onViewPDF:s,onUploadDocument:i,onDeletePO:l,onEditPO:c})=>{const u=B.useMemo(()=>r.filter(m=>{const y=e.toLowerCase();return y?m.poNumber?.toLowerCase().includes(y)||m.recipient?.toLowerCase().includes(y)||m.projectCode?.toLowerCase().includes(y)||m.project?.title?.toLowerCase().includes(y):!0}),[r,e]),d=B.useMemo(()=>[{key:"poNumber",header:"PO Number",accessor:"poNumber",sortable:!0,cell:(m,y)=>o.jsx("span",{className:"font-semibold text-gray-900",children:y.poNumber})},{key:"project",header:"Project",accessor:m=>m.projectCode||"No Code",sortable:!0,cell:(m,y)=>{const g=y.projectCode,v=y.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:g||"No Code"}),v&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:v})]})}},{key:"recipient",header:"Vendor",accessor:"recipient",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-900",children:m})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(m,y)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[y.currency||"MYR"," ",(y.amount||0).toLocaleString()]})},{key:"issueDate",header:"Issue Date",accessor:"issueDate",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:rl(m)}),hideOnMobile:!0}],[]),f=({row:m,actions:y})=>{const g=h5(m.status),v=g.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.poNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:[o.jsx(v,{className:"w-3 h-3"}),g.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.currency||"MYR"," ",(m.amount||0).toLocaleString()]})]}),m.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[m.projectCode," - ",m.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:m.recipient}),m.items&&o.jsx("p",{className:"text-sm text-gray-500",children:m.items})]}),o.jsx("div",{className:"py-3 border-t border-gray-100",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Issue Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:rl(m.issueDate)})]})}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:y})]})},p=m=>o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.fileUrl&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),s(m.id,m.poNumber)},title:"View Document",children:o.jsx(Vi,{className:"w-4 h-4"})}),a&&i&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),i(m)},title:"Upload Document",children:o.jsx(ko,{className:"w-4 h-4"})}),a&&c&&o.jsx(Dt,{size:"sm",onClick:y=>{y.stopPropagation(),c(m)},title:"Edit PO",children:o.jsx(cl,{className:"w-4 h-4"})}),n&&o.jsx(Dt,{size:"sm",variant:"danger",onClick:y=>{y.stopPropagation(),l(m)},title:"Delete",children:o.jsx(Ns,{className:"w-4 h-4"})})]});return o.jsx(f5,{data:u,columns:d,getRowKey:m=>m.id,searchable:!1,sortable:!0,defaultSortKey:"issueDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:f,rowActions:p,emptyTitle:"No issued POs found",emptyDescription:"There are no issued POs to display."})},mje=({receivedInvoices:r,searchQuery:e,canVerify:t,canDelete:n,canUpload:a=!1,onViewDocument:s,onEditInvoice:i,onDeleteInvoice:l,onVerify:c,onMarkAsPaid:u,onUploadDocument:d})=>{const f=B.useMemo(()=>r.filter(g=>{const v=e.toLowerCase();return v?g.invoiceNumber?.toLowerCase().includes(v)||g.vendorName?.toLowerCase().includes(v)||g.issuedPO?.poNumber?.toLowerCase().includes(v):!0}),[r,e]),p=B.useMemo(()=>[{key:"invoiceNumber",header:"Invoice Number",accessor:"invoiceNumber",sortable:!0,cell:(g,v)=>o.jsx("span",{className:"font-semibold text-gray-900",children:v.invoiceNumber})},{key:"vendorName",header:"Vendor",accessor:"vendorName",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})},{key:"linkedPO",header:"Linked PO",accessor:g=>g.issuedPO?.poNumber||"-",sortable:!0,cell:(g,v)=>v.issuedPO?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(sD,{className:"w-3 h-3 text-primary-500"}),o.jsx("span",{className:"text-sm text-primary-600 font-medium",children:v.issuedPO.poNumber})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"-"})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(g,v)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[v.currency," ",(v.amount||0).toLocaleString()]})},{key:"invoiceDate",header:"Invoice Date",accessor:"invoiceDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:rl(g)}),hideOnMobile:!0},{key:"receivedDate",header:"Received Date",accessor:"receivedDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:rl(g)}),hideOnMobile:!0},{key:"dueDate",header:"Due Date",accessor:"dueDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:g?rl(g):"N/A"}),hideOnMobile:!0}],[]),m=({row:g,actions:v})=>{const w=h5(g.status),S=w.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${w.color}`,children:[o.jsx(S,{className:"w-3 h-3"}),w.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[g.currency," ",(g.amount||0).toLocaleString()]})]}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:g.vendorName}),g.issuedPO&&o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(sD,{className:"w-4 h-4 text-primary-500"}),o.jsxs("span",{className:"text-sm text-primary-600 font-medium",children:["Linked to: ",g.issuedPO.poNumber]})]}),g.description&&o.jsx("p",{className:"text-sm text-gray-500",children:g.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:rl(g.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:rl(g.receivedDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.dueDate?rl(g.dueDate):"N/A"})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:v})]})},y=g=>o.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[g.fileUrl&&s&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:v=>{v.stopPropagation(),s(g)},title:"View Document",children:o.jsx(Vi,{className:"w-4 h-4"})}),a&&d&&o.jsx(Dt,{size:"sm",variant:"ghost",onClick:v=>{v.stopPropagation(),d(g)},title:"Upload Document",children:o.jsx(ko,{className:"w-4 h-4"})}),g.status!=="paid"&&i&&o.jsx(Dt,{size:"sm",onClick:v=>{v.stopPropagation(),i(g)},title:"Edit",children:o.jsx(cl,{className:"w-4 h-4"})}),(g.status==="pending"||g.status==="disputed")&&t&&c&&o.jsx(Dt,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:v=>{v.stopPropagation(),c(g.id)},title:"Verify",children:o.jsx($a,{className:"w-4 h-4"})}),g.status==="verified"&&t&&u&&o.jsx(Dt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:v=>{v.stopPropagation(),u(g.id)},title:"Mark Paid",children:o.jsx(d_,{className:"w-4 h-4"})}),g.status!=="paid"&&n&&l&&o.jsx(Dt,{size:"sm",variant:"danger",onClick:v=>{v.stopPropagation(),l(g)},title:"Delete",children:o.jsx(Ns,{className:"w-4 h-4"})})]});return o.jsx(f5,{data:f,columns:p,getRowKey:g=>g.id,searchable:!1,sortable:!0,defaultSortKey:"receivedDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:m,rowActions:y,emptyTitle:"No received invoices found",emptyDescription:"Create an Issued PO first, then add a received invoice from the vendor."})},dq=6048e5,pje=864e5,sR=Symbol.for("constructDateFrom");function af(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&sR in r?r[sR](e):r instanceof Date?new r.constructor(e):new Date(e)}function ju(r,e){return af(e||r,r)}let gje={};function m5(){return gje}function $y(r,e){const t=m5(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=ju(r,e?.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function R2(r,e){return $y(r,{...e,weekStartsOn:1})}function hq(r,e){const t=ju(r,e?.in),n=t.getFullYear(),a=af(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=R2(a),i=af(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=R2(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function iR(r){const e=ju(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function xje(r,...e){const t=af.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function oR(r,e){const t=ju(r,e?.in);return t.setHours(0,0,0,0),t}function yje(r,e,t){const[n,a]=xje(t?.in,r,e),s=oR(n),i=oR(a),l=+s-iR(s),c=+i-iR(i);return Math.round((l-c)/pje)}function vje(r,e){const t=hq(r,e),n=af(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),R2(n)}function bje(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function wje(r){return!(!bje(r)&&typeof r!="number"||isNaN(+ju(r)))}function Cje(r,e){const t=ju(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Nje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sje=(r,e,t)=>{let n;const a=Nje[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function tE(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Bje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Eje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_je={date:tE({formats:Bje,defaultWidth:"full"}),time:tE({formats:Eje,defaultWidth:"full"}),dateTime:tE({formats:jje,defaultWidth:"full"})},Tje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kje=(r,e,t,n)=>Tje[r];function Ox(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,l=t?.width?String(t.width):i;a=r.formattingValues[l]||r.formattingValues[i]}else{const i=r.defaultWidth,l=t?.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const Fje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ije={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mje=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Rje={ordinalNumber:Mje,era:Ox({values:Fje,defaultWidth:"wide"}),quarter:Ox({values:Oje,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ox({values:Dje,defaultWidth:"wide"}),day:Ox({values:Pje,defaultWidth:"wide"}),dayPeriod:Ox({values:Ije,defaultWidth:"wide",formattingValues:Lje,defaultFormattingWidth:"wide"})};function Dx(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?Qje(l,f=>f.test(i)):Uje(l,f=>f.test(i));let u;u=r.valueCallback?r.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Uje(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Qje(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Hje(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const zje=/^(\d+)(th|st|nd|rd)?/i,Kje=/\d+/i,$je={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vje={any:[/^b/i,/^(a|c)/i]},qje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gje={any:[/1/i,/2/i,/3/i,/4/i]},Wje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t_e={ordinalNumber:Hje({matchPattern:zje,parsePattern:Kje,valueCallback:r=>parseInt(r,10)}),era:Dx({matchPatterns:$je,defaultMatchWidth:"wide",parsePatterns:Vje,defaultParseWidth:"any"}),quarter:Dx({matchPatterns:qje,defaultMatchWidth:"wide",parsePatterns:Gje,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Dx({matchPatterns:Wje,defaultMatchWidth:"wide",parsePatterns:Yje,defaultParseWidth:"any"}),day:Dx({matchPatterns:Xje,defaultMatchWidth:"wide",parsePatterns:Jje,defaultParseWidth:"any"}),dayPeriod:Dx({matchPatterns:Zje,defaultMatchWidth:"any",parsePatterns:e_e,defaultParseWidth:"any"})},r_e={code:"en-US",formatDistance:Sje,formatLong:_je,formatRelative:kje,localize:Rje,match:t_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n_e(r,e){const t=ju(r,e?.in);return yje(t,Cje(t))+1}function a_e(r,e){const t=ju(r,e?.in),n=+R2(t)-+vje(t);return Math.round(n/dq)+1}function fq(r,e){const t=ju(r,e?.in),n=t.getFullYear(),a=m5(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=af(e?.in||r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=$y(i,e),c=af(e?.in||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=$y(c,e);return+t>=+l?n+1:+t>=+u?n:n-1}function s_e(r,e){const t=m5(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=fq(r,e),s=af(e?.in||r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),$y(s,e)}function i_e(r,e){const t=ju(r,e?.in),n=+$y(t,e)-+s_e(t,e);return Math.round(n/dq)+1}function Mn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Eh={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Mn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Mn(t+1,2)},d(r,e){return Mn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Mn(r.getHours()%12||12,e.length)},H(r,e){return Mn(r.getHours(),e.length)},m(r,e){return Mn(r.getMinutes(),e.length)},s(r,e){return Mn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return Mn(a,e.length)}},ep={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lR={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return Eh.y(r,e)},Y:function(r,e,t,n){const a=fq(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return Mn(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Mn(s,e.length)},R:function(r,e){const t=hq(r);return Mn(t,e.length)},u:function(r,e){const t=r.getFullYear();return Mn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Mn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Mn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Eh.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Mn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=i_e(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Mn(a,e.length)},I:function(r,e,t){const n=a_e(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Mn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Eh.d(r,e)},D:function(r,e,t){const n=n_e(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Mn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Mn(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=ep.noon:n===0?a=ep.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=ep.evening:n>=12?a=ep.afternoon:n>=4?a=ep.morning:a=ep.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Eh.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Eh.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Eh.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Eh.s(r,e)},S:function(r,e){return Eh.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return uR(n);case"XXXX":case"XX":return Jf(n);default:return Jf(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return uR(n);case"xxxx":case"xx":return Jf(n);default:return Jf(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cR(n,":");default:return"GMT"+Jf(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cR(n,":");default:return"GMT"+Jf(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return Mn(n,e.length)},T:function(r,e,t){return Mn(+r,e.length)}};function cR(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+Mn(s,2)}function uR(r,e){return r%60===0?(r>0?"-":"+")+Mn(Math.abs(r)/60,2):Jf(r,e)}function Jf(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Mn(Math.trunc(n/60),2),s=Mn(n%60,2);return t+a+e+s}const AR=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},mq=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},o_e=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return AR(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",AR(n,e)).replace("{{time}}",mq(a,e))},l_e={p:mq,P:o_e},c_e=/^D+$/,u_e=/^Y+$/,A_e=["D","DD","YY","YYYY"];function d_e(r){return c_e.test(r)}function h_e(r){return u_e.test(r)}function f_e(r,e,t){const n=m_e(r,e,t);if(console.warn(n),A_e.includes(r))throw new RangeError(n)}function m_e(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x_e=/^'([^]*?)'?$/,y_e=/''/g,v_e=/[a-zA-Z]/;function zn(r,e,t){const n=m5(),a=n.locale??r_e,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ju(r,t?.in);if(!wje(l))throw new RangeError("Invalid time value");let c=e.match(g_e).map(d=>{const f=d[0];if(f==="p"||f==="P"){const p=l_e[f];return p(d,a.formatLong)}return d}).join("").match(p_e).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:b_e(d)};if(lR[f])return{isToken:!0,value:d};if(f.match(v_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(h_e(f)||d_e(f))&&f_e(f,e,String(r));const p=lR[f[0]];return p(l,f,a.localize,u)}).join("")}function b_e(r){const e=r.match(x_e);return e?e[1].replace(y_e,"'"):r}function w_e(r){if(!r||r.length===0){console.error("No Received POs to export"),Ce.error("No Received POs data to export");return}const e=["PO Number","Status","Project Code","Project Title","Client Name","Amount","Currency","Received Date","Due Date","Description"],t=r.map(a=>[a.poNumber||"",a.status||"",a.projectCode||"",a.project?.title||"",a.clientName||a.project?.client?.name||"",a.amount||0,a.currency||"MYR",a.receivedDate?zn(new Date(a.receivedDate),"yyyy-MM-dd"):"",a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.description||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);p5(n,`received-pos-${zn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function C_e(r){if(!r||r.length===0){console.error("No Invoices to export"),Ce.error("No Invoices data to export");return}const e=["Invoice Number","Status","Project Code","Project Title","Client Name","Amount","Currency","Percentage of Total (%)","Invoice Date","Due Date","Remark"],t=r.map(a=>[a.invoiceNumber||"",a.status||"",a.projectCode||"",a.projectName||"",a.clientName||"",a.amount||0,a.currency||"MYR",a.percentageOfTotal||a.percentage_of_total||0,a.invoiceDate||a.invoice_date?zn(new Date(a.invoiceDate||a.invoice_date),"yyyy-MM-dd"):"",a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.remark||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);p5(n,`invoices-${zn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function N_e(r){if(!r||r.length===0){console.error("No Issued POs to export"),Ce.error("No Issued POs data to export");return}const e=["PO Number","Status","Project Code","Project Title","Recipient","Amount","Currency","Items","Issue Date","Due Date"],t=r.map(a=>[a.poNumber||a.po_number||"",a.status||"",a.projectCode||a.project_code||"",a.project?.title||"",a.recipient||a.recipient||"",a.amount||0,a.currency||"MYR",a.items||"",a.issueDate?zn(new Date(a.issueDate),"yyyy-MM-dd"):"",a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);p5(n,`issued-pos-${zn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function S_e(r){if(!r||r.length===0){console.error("No Received POs to export"),Ce.error("No Received POs data to export");return}const e=r.map(a=>({"PO Number":a.poNumber||"",Status:a.status||"","Project Code":a.projectCode||"","Project Title":a.project?.title||"","Client Name":a.clientName||a.project?.client?.name||"",Amount:a.amount||0,Currency:a.currency||"MYR","Received Date":a.receivedDate?zn(new Date(a.receivedDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):"",Description:a.description||""})),t=To.json_to_sheet(e),n=To.book_new();To.book_append_sheet(n,t,"Received POs"),jv(n,`received-pos-${zn(new Date,"yyyy-MM-dd")}.xlsx`)}function B_e(r){if(!r||r.length===0){console.error("No Invoices to export"),Ce.error("No Invoices data to export");return}const e=r.map(a=>({"Invoice Number":a.invoiceNumber||"",Status:a.status||"","Project Code":a.projectCode||"","Project Title":a.projectName||"","Client Name":a.clientName||"",Amount:a.amount||0,Currency:a.currency||"MYR","Percentage of Total (%)":a.percentageOfTotal||a.percentage_of_total||0,"Invoice Date":a.invoiceDate||a.invoice_date?zn(new Date(a.invoiceDate||a.invoice_date),"yyyy-MM-dd"):"","Due Date":a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):"",Remark:a.remark||""})),t=To.json_to_sheet(e),n=To.book_new();To.book_append_sheet(n,t,"Invoices"),jv(n,`invoices-${zn(new Date,"yyyy-MM-dd")}.xlsx`)}function E_e(r){if(!r||r.length===0){console.error("No Issued POs to export"),Ce.error("No Issued POs data to export");return}const e=r.map(a=>({"PO Number":a.poNumber||a.po_number||"",Status:a.status||"","Project Code":a.projectCode||a.project_code||"","Project Title":a.project?.title||"",Recipient:a.recipient||"",Amount:a.amount||0,Currency:a.currency||"MYR",Items:a.items||"","Issue Date":a.issueDate?zn(new Date(a.issueDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):""})),t=To.json_to_sheet(e),n=To.book_new();To.book_append_sheet(n,t,"Issued POs"),jv(n,`issued-pos-${zn(new Date,"yyyy-MM-dd")}.xlsx`)}function j_e(r){if(!r||r.length===0){console.error("No Received Invoices to export"),Ce.error("No Received Invoices data to export");return}const e=["Invoice Number","Status","Vendor Name","Issued PO Number","Amount","Currency","Invoice Date","Received Date","Due Date","Description"],t=r.map(a=>[a.invoiceNumber||"",a.status||"",a.vendorName||"",a.issuedPO?.po_number||a.issuedPoNumber||"",a.amount||0,a.currency||"MYR",a.invoiceDate?zn(new Date(a.invoiceDate),"yyyy-MM-dd"):"",a.receivedDate?zn(new Date(a.receivedDate),"yyyy-MM-dd"):"",a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.description||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);p5(n,`received-invoices-${zn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function __e(r){if(!r||r.length===0){console.error("No Received Invoices to export"),Ce.error("No Received Invoices data to export");return}const e=r.map(a=>({"Invoice Number":a.invoiceNumber||"",Status:a.status||"","Vendor Name":a.vendorName||"","Issued PO Number":a.issuedPO?.po_number||a.issuedPoNumber||"",Amount:a.amount||0,Currency:a.currency||"MYR","Invoice Date":a.invoiceDate?zn(new Date(a.invoiceDate),"yyyy-MM-dd"):"","Received Date":a.receivedDate?zn(new Date(a.receivedDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?zn(new Date(a.dueDate),"yyyy-MM-dd"):"",Description:a.description||""})),t=To.json_to_sheet(e),n=To.book_new();To.book_append_sheet(n,t,"Received Invoices"),jv(n,`received-invoices-${zn(new Date,"yyyy-MM-dd")}.xlsx`)}function p5(r,e,t){const n=document.createElement("a"),a=new Blob([r],{type:t});n.href=URL.createObjectURL(a),n.download=e,n.click(),URL.revokeObjectURL(n.href)}const T_e=({onExport:r,disabled:e=!1,totalCount:t=0})=>{const[n,a]=B.useState(!1),s=()=>{r("csv"),a(!1)},i=()=>{r("excel"),a(!1)};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>a(!n),disabled:e||t===0,className:`flex items-center gap-2 px-4 py-2 border rounded-lg ${e||t===0?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[o.jsx(Pd,{className:"w-4 h-4"}),"Export",o.jsx(Bo,{className:"w-4 h-4"})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:"CSV"}),o.jsx("span",{className:"text-xs text-gray-500",children:".csv file"})]}),o.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:"Excel"}),o.jsx("span",{className:"text-xs text-gray-500",children:".xlsx file"})]})]})})]})]})},k_e=()=>{const r=qa(),e=r?.roles||[r?.role||"engineer"],t=r&&nl(e,"canAccessFinance"),n=r&&nl(e,"canUploadPO"),a=r&&nl(e,"canDeletePO"),s=r&&nl(e,"canDeleteInvoices"),i=r&&nl(e,"canApproveInvoices"),[l,c]=B.useState("received-pos"),[u,d]=B.useState(""),[f,p]=B.useState(!1),[m,y]=B.useState(null),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[C,j]=B.useState(!1),[T,L]=B.useState(null),[I,D]=B.useState(!1),[k,z]=B.useState(!1),[P,U]=B.useState(null),[M,q]=B.useState(!1),[ae,W]=B.useState(null),[ee,re]=B.useState(!1),[pe,Se]=B.useState(null),[ne,F]=B.useState(!1),[Q,K]=B.useState([]),[V,J]=B.useState([]),[oe,Ne]=B.useState([]),[ue,xe]=B.useState([]),[Oe,Be]=B.useState(!1),qe=dt=>{switch(l){case"received-pos":dt==="csv"?w_e(Q):S_e(Q);break;case"invoices":dt==="csv"?C_e(V):B_e(V);break;case"issued-pos":dt==="csv"?N_e(oe):E_e(oe);break;case"received-invoices":dt==="csv"?j_e(ue):__e(ue);break}};B.useEffect(()=>{Pe()},[l]);const Pe=async()=>{Be(!0);try{if(l==="received-pos"){const dt=await nr.getAllPurchaseOrders(),ct=Array.isArray(dt)?dt:dt.data||[];K(ct)}else if(l==="invoices"){const dt=await nr.getAllInvoices();J(dt||[])}else if(l==="issued-pos"){const dt=await nr.getAllIssuedPOs();Ne(dt||[])}else if(l==="received-invoices"){const dt=await nr.getAllReceivedInvoices();xe(dt||[])}}catch(dt){Rt.error("Error loading data:",dt),Ce.error(dt.message||"Failed to load data")}finally{Be(!1)}};if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Qx,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:gA("access finance","senior")})]})});const X=()=>{if(!n){Ce.error(gA("upload PO","senior"));return}switch(l){case"received-pos":v(!0);break;case"invoices":S(!0);break;case"issued-pos":D(!0);break;case"received-invoices":z(!0);break}},Me=async(dt,ct)=>{if(ct.length===0)return;const Ot=ct[0],It=new FormData,hn=atob(Ot.fileData.split(",")[1]),Tr=new Array(hn.length);for(let wa=0;wa<hn.length;wa++)Tr[wa]=hn.charCodeAt(wa);const cs=new Uint8Array(Tr),ca=new Blob([cs],{type:Ot.fileType}),sr=new File([ca],Ot.fileName,{type:Ot.fileType});It.append("file",sr);try{Ce.loading("Uploading document...");const wa=localStorage.getItem("auth_token");if(!wa){Ce.error("Authentication required");return}const Ya=m?.type||"invoice";let ua;if(Ya==="invoice")ua=`/api/invoices/${dt}/upload`;else if(Ya==="issued-po")ua=`/api/issued-pos/${dt}/upload`;else if(Ya==="received-po")ua=`/api/purchase-orders/${dt}/upload`;else if(Ya==="purchase-order")ua=`/api/purchase-orders/${dt}/upload`;else if(Ya==="received-invoice")ua=`/api/received-invoices/${dt}/upload`;else throw console.error("Unknown document type:",Ya),new Error(`Cannot upload: Unknown document type "${Ya}"`);const Es=await fetch(ua,{method:"POST",headers:{Authorization:`Bearer ${wa}`},body:It});if(!Es.ok){const Tn=await Es.json();throw new Error(Tn.error||"Upload failed")}Ce.dismiss(),Ce.success("Document uploaded successfully!"),p(!1),y(null),Pe()}catch(wa){Ce.dismiss(),Rt.error("Error uploading document:",wa),Ce.error(wa.message||"Failed to upload document")}},We=(dt,ct)=>{Ce.success("File removed successfully")},bt=async dt=>{try{Ce.loading("Opening invoice PDF...");const ct=localStorage.getItem("auth_token");if(!ct){Ce.error("Authentication required");return}const Ot=`/api/invoices/${dt}/pdf`;fetch(Ot,{headers:{Authorization:`Bearer ${ct}`}}).then(It=>{if(!It.ok)throw new Error(`HTTP ${It.status}`);return It.blob()}).then(It=>{const hn=window.URL.createObjectURL(It),Tr=document.createElement("a");Tr.href=hn,Tr.target="_blank",Tr.click(),window.URL.revokeObjectURL(hn),Ce.dismiss(),Ce.success("Opening invoice PDF")}).catch(It=>{Ce.dismiss(),Rt.error("Error opening PDF:",It),Ce.error("Failed to open PDF: "+It.message)})}catch(ct){Ce.dismiss(),Rt.error("Error opening invoice PDF:",ct),Ce.error("Failed to open PDF")}},st=dt=>{y({type:"invoice",id:dt.id}),p(!0)},Ye=dt=>{L(dt),j(!0)},ht=async dt=>{if(window.confirm(`Are you sure you want to delete PO ${dt.po_number||dt.poNumber}?`))try{Ce.loading("Deleting PO..."),l==="issued-pos"?await nr.deleteIssuedPO(dt.id):await nr.deletePurchaseOrder(dt.id),Ce.success("PO deleted successfully"),Pe()}catch(ct){Rt.error("Error deleting PO:",ct),Ce.error(ct.message||"Failed to delete PO")}},wt=async dt=>{if(window.confirm(`Are you sure you want to delete invoice ${dt.invoiceNumber}?`))try{Ce.loading("Deleting invoice..."),await nr.deleteInvoice(dt.id),Ce.success("Invoice deleted successfully"),Pe()}catch(ct){Rt.error("Error deleting invoice:",ct),Ce.error(ct.message||"Failed to delete invoice")}},Bt=dt=>{y({type:"issued-po",id:dt.id}),p(!0)},Ut=async dt=>{try{Ce.loading("Opening issued PO PDF...");const ct=localStorage.getItem("auth_token");if(!ct){Ce.error("Authentication required");return}const Ot=`/api/issued-pos/${dt}/pdf`;fetch(Ot,{headers:{Authorization:`Bearer ${ct}`}}).then(It=>{if(!It.ok)throw new Error(`HTTP ${It.status}`);return It.blob()}).then(It=>{const hn=window.URL.createObjectURL(It),Tr=document.createElement("a");Tr.href=hn,Tr.target="_blank",Tr.click(),window.URL.revokeObjectURL(hn),Ce.dismiss(),Ce.success("Opening issued PO PDF")}).catch(It=>{Ce.dismiss(),Rt.error("Error opening PDF:",It),Ce.error("Failed to open PDF: "+It.message)})}catch(ct){Ce.dismiss(),Rt.error("Error opening PO PDF:",ct),Ce.error("Failed to open PDF")}},dr=async dt=>{try{console.log("=== handleViewDocument called ==="),console.log("Full PO object:",dt),console.log("po.file_url:",dt.file_url),console.log("po.fileUrl:",dt.fileUrl),console.log("All PO keys:",Object.keys(dt));const ct=dt.fileUrl||dt.file_url;if(!ct){console.log("No fileUrl found, returning early"),Ce.error("No document available");return}console.log("Using fileUrl:",ct),Ce.loading("Opening document...");const Ot=localStorage.getItem("auth_token");if(!Ot){Ce.error("Authentication required");return}const It=ct.split("/").pop();if(!It){Ce.error("Invalid file URL");return}const hn=`/api/purchase-orders/download/${It}`;fetch(hn,{headers:{Authorization:`Bearer ${Ot}`}}).then(Tr=>{if(!Tr.ok)throw new Error(`HTTP ${Tr.status}`);return Tr.blob()}).then(Tr=>{const cs=window.URL.createObjectURL(Tr),ca=document.createElement("a");ca.href=cs,ca.target="_blank",ca.click(),window.URL.revokeObjectURL(cs),Ce.dismiss(),Ce.success("Opening document")}).catch(Tr=>{Ce.dismiss(),Rt.error("Error opening document:",Tr),Ce.error("Failed to open document: "+Tr.message)})}catch(ct){Ce.dismiss(),Rt.error("Error opening PO document:",ct),Ce.error("Failed to open document")}},ur=dt=>{y({id:dt,type:"received-po"}),p(!0)},hr=dt=>{y({id:dt.id,type:"received-invoice"}),p(!0)},ar=async dt=>{try{Ce.loading("Opening received invoice document...");const ct=localStorage.getItem("auth_token");if(!ct){Ce.error("Authentication required");return}const Ot=`/api/received-invoices/${dt.id}/file`;fetch(Ot,{headers:{Authorization:`Bearer ${ct}`}}).then(It=>{if(!It.ok)throw new Error(`HTTP ${It.status}`);return It.blob()}).then(It=>{const hn=window.URL.createObjectURL(It),Tr=document.createElement("a");Tr.href=hn,Tr.target="_blank",Tr.click(),window.URL.revokeObjectURL(hn),Ce.dismiss(),Ce.success("Opening document")}).catch(It=>{Ce.dismiss(),Rt.error("Error opening document:",It),Ce.error("Failed to open document: "+It.message)})}catch(ct){Ce.dismiss(),Rt.error("Error opening received invoice document:",ct),Ce.error("Failed to open document")}},ke=dt=>{W(dt),q(!0)},De=dt=>{Se(dt),re(!0)},rt=dt=>{W(dt),F(!0)},pr=async dt=>{try{await nr.submitInvoiceForApproval(dt),Ce.success("Invoice submitted for approval"),Pe()}catch(ct){Rt.error("Error submitting invoice:",ct),Ce.error(ct.message||"Failed to submit invoice for approval")}},Qt=async dt=>{try{await nr.approveInvoice(dt),Ce.success("Invoice approved successfully"),Pe()}catch(ct){Rt.error("Error approving invoice:",ct),Ce.error(ct.message||"Failed to approve invoice")}},Nt=async dt=>{try{await nr.withdrawInvoice(dt),Ce.success("Invoice withdrawn from approval"),Pe()}catch(ct){Rt.error("Error withdrawing invoice:",ct),Ce.error(ct.message||"Failed to withdraw invoice")}},Yt=async dt=>{try{await nr.markInvoiceAsSent(dt),Ce.success("Invoice marked as sent"),Pe()}catch(ct){Rt.error("Error marking invoice as sent:",ct),Ce.error(ct.message||"Failed to mark invoice as sent")}},ir=async dt=>{try{await nr.markInvoiceAsPaid(dt),Ce.success("Invoice marked as paid"),Pe()}catch(ct){Rt.error("Error marking invoice as paid:",ct),Ce.error(ct.message||"Failed to mark invoice as paid")}},Pt=dt=>{U(dt),z(!0)},Wr=async dt=>{if(window.confirm("Are you sure you want to delete this received invoice?"))try{Ce.loading("Deleting received invoice..."),await nr.deleteReceivedInvoice(dt),Ce.success("Received invoice deleted successfully"),Pe()}catch(ct){Rt.error("Error deleting received invoice:",ct),Ce.error(ct.message||"Failed to delete received invoice")}},mr=async dt=>{try{Ce.loading("Verifying received invoice..."),await nr.verifyReceivedInvoice(dt),Ce.success("Received invoice verified successfully"),Pe()}catch(ct){Rt.error("Error verifying received invoice:",ct),Ce.error(ct.message||"Failed to verify received invoice")}},or=async dt=>{try{Ce.loading("Marking received invoice as paid..."),await nr.markReceivedInvoiceAsPaid(dt),Ce.success("Received invoice marked as paid"),Pe()}catch(ct){Rt.error("Error marking received invoice as paid:",ct),Ce.error(ct.message||"Failed to mark received invoice as paid")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Documents"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage POs, invoices, and financial documents"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(T_e,{onExport:qe,disabled:Oe,totalCount:l==="received-pos"?Q.length:l==="invoices"?V.length:l==="issued-pos"?oe.length:ue.length}),o.jsxs("button",{onClick:X,disabled:!n,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${n?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx(vi,{className:"w-4 h-4"}),"Create New"]})]})]})}),o.jsx(gBe,{activeTab:l,onTabChange:c,receivedPOCount:Q.length,invoiceCount:V.length,issuedPOCount:oe.length,receivedInvoiceCount:ue.length}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search PO number, client, or project...",value:u,onChange:dt=>d(dt.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u&&o.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Ur,{className:"w-4 h-4"})})]})})}),Oe?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs(o.Fragment,{children:[l==="received-pos"&&o.jsx(dje,{receivedPOs:Q,searchQuery:u,canUpload:n,canDeletePO:a||!1,onViewDocument:dr,onAttachDocument:ur,onEditPO:ke,onDeletePO:ht,onViewDetails:rt}),l==="invoices"&&o.jsx(hje,{invoices:V,searchQuery:u,onViewPDF:bt,onUploadDocument:st,onEditInvoice:Ye,onDeleteInvoice:wt,canUpload:n,canDelete:s||!1,canApprove:i,onSubmitForApproval:pr,onApprove:Qt,onWithdraw:Nt,onMarkAsSent:Yt,onMarkAsPaid:ir,currentUserId:r?.id}),l==="issued-pos"&&o.jsx(fje,{issuedPOs:oe,searchQuery:u,canApprove:i,canDeletePO:a||!1,canUpload:n,onViewPDF:Ut,onUploadDocument:Bt,onDeletePO:ht,onEditPO:De}),l==="received-invoices"&&o.jsx(mje,{receivedInvoices:ue,searchQuery:u,canVerify:i,canDelete:s||!1,canUpload:!0,onViewDocument:ar,onEditInvoice:Pt,onDeleteInvoice:dt=>Wr(dt.id),onVerify:mr,onMarkAsPaid:or,onUploadDocument:hr})]}),f&&m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Documents"})}),o.jsx("div",{className:"p-6",children:o.jsx(J4e,{attachments:[],onFilesAdded:dt=>Me(m.id,dt),onFileRemoved:dt=>We(m.id)})}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{p(!1),y(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"}),o.jsx("button",{onClick:()=>{p(!1),y(null)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})]})]})}),o.jsx(Z4e,{isOpen:g,onClose:()=>{v(!1),Pe()}}),o.jsx(eje,{isOpen:w,onClose:()=>{S(!1),Pe()}}),C&&T&&o.jsx(tje,{isOpen:C,onClose:()=>{j(!1),L(null),Pe()},invoice:T,onSave:()=>{j(!1),L(null),Pe()}}),o.jsx(rje,{isOpen:I,onClose:()=>{D(!1),Pe()}}),k&&o.jsx(nje,{isOpen:k,onClose:()=>{z(!1),U(null),Pe()},onSuccess:()=>{U(null),Pe(),z(!1)},editingInvoice:P}),M&&ae&&o.jsx(aje,{isOpen:M,po:ae,onClose:()=>q(!1),onSave:async dt=>{try{await nr.updatePurchaseOrder(ae.id,dt),await Pe(),q(!1),Ce.success("PO updated successfully!")}catch(ct){Rt.error("Error updating PO:",ct),Ce.error(ct.response?.data?.message||"Failed to update PO"),q(!1)}}}),ee&&pe&&o.jsx(sje,{isOpen:ee,issuedPO:pe,onClose:()=>{re(!1),Se(null)},onSave:()=>{Pe(),re(!1),Se(null)}}),ne&&ae&&o.jsx(ije,{isOpen:ne,po:ae,onClose:()=>{F(!1),W(null)}})]})})},F_e={USD:"US Dollar",EUR:"Euro",GBP:"British Pound",JPY:"Japanese Yen",AUD:"Australian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc",NZD:"New Zealand Dollar",SGD:"Singapore Dollar",THB:"Thai Baht",IDR:"Indonesian Rupiah",PHP:"Philippine Peso",VND:"Vietnamese Dong",MMK:"Myanmar Kyat",BND:"Brunei Dollar",KHR:"Cambodian Riel",LAK:"Lao Kip",INR:"Indian Rupee",HKD:"Hong Kong Dollar",KRW:"South Korean Won",TWD:"Taiwan Dollar",CNY:"Chinese Yuan",SEK:"Swedish Krona",NOK:"Norwegian Krone",DKK:"Danish Krone"},O_e=["USD","EUR","GBP","JPY","AUD","CAD","CHF","SGD","THB","IDR","PHP","VND","MMK","BND","KHR","LAK","INR","HKD","KRW","TWD","CNY"],D_e=()=>{const[r,e]=B.useState([]),[t,n]=B.useState(!1),[a,s]=B.useState(null),[i,l]=B.useState(null),c=Zs.useRef(!1),u=Zs.useRef(!1),d=B.useCallback(async()=>{n(!0),s(null);try{const f=new AbortController,p=setTimeout(()=>f.abort(),15e3),m=await fetch(`https://api.frankfurter.app/latest?from=MYR&to=${O_e.join(",")}`,{signal:f.signal});if(clearTimeout(p),!m.ok)throw new Error(`API error: ${m.status}`);const y=await m.json();if(!y.rates)throw new Error("Invalid response from API");const g=Object.entries(y.rates).map(([v,w])=>({currency:v,rate:1/w,name:F_e[v]||v}));g.sort((v,w)=>v.currency.localeCompare(w.currency)),e(g),l(y.date),(u.current||!c.current)&&(Ce.success("Exchange rates updated",{id:"exchange-rates-updated"}),c.current=!0,u.current=!1)}catch(f){f.name==="AbortError"?s("Request timed out. Please try again."):s(f.message||"Failed to fetch exchange rates"),console.error("Error fetching exchange rates:",f)}finally{n(!1)}},[]);return B.useEffect(()=>{d()},[d]),o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx(q7,{title:"Exchange Rates",description:"Live currency conversion rates to MYR (Malaysian Ringgit)"}),o.jsx(Gr,{padding:"sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(JZ,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Frankfurter API"}),o.jsx("p",{className:"text-xs text-gray-500",children:"European Central Bank data"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(Qi,{className:"w-4 h-4"}),o.jsxs("span",{children:["Date: ",i]})]}),o.jsxs("button",{onClick:()=>{u.current=!0,d()},disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[o.jsx(oC,{className:`w-4 h-4 ${t?"animate-spin":""}`}),t?"Loading...":"Refresh"]})]})]})}),a&&o.jsx(Gr,{className:"bg-red-50 border-red-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[o.jsx(Cs,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:a}),o.jsx("button",{onClick:()=>{u.current=!0,d()},className:"ml-auto text-sm underline hover:no-underline",children:"Retry"})]})}),o.jsxs(Gr,{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Exchange Rates to MYR"}),t&&r.length===0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((f,p)=>o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 animate-pulse",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-28"})]},p))}):r.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(d_,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No exchange rates available"}),o.jsx("button",{onClick:()=>{u.current=!0,d()},className:"mt-3 text-emerald-600 hover:underline",children:"Click to fetch rates"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map(f=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:f.currency}),o.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:f.name})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["1 ",f.currency," ="]}),o.jsxs("div",{className:"text-xl font-semibold text-emerald-600",children:["MYR ",f.rate.toFixed(4)]})]},f.currency))})]}),o.jsx(Gr,{className:"bg-blue-50 border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Exchange rates are from the"," ",o.jsx("a",{href:"https://www.frankfurter.app/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"Frankfurter API"})," ","(European Central Bank data). Rates are updated daily on business days."]})})]})},P_e=()=>{const{user:r}=cf(),{projects:e,timesheets:t,fetchProjects:n,fetchTimesheets:a}=ws(),{clients:s,fetchClients:i}=uf(),[l,c]=B.useState(new Date().getFullYear()),[u,d]=B.useState(null),[f,p]=B.useState(!1);B.useEffect(()=>{n(),a(),i()},[]);const m=B.useMemo(()=>r?(Array.isArray(t)?t:[]).filter(D=>D.engineerId===r.id):[],[t,r?.id]),y=B.useMemo(()=>r?e.filter(D=>D.engineerId===r.id):[],[e,r?.id]),g=B.useMemo(()=>l==="all"?m:m.filter(D=>new Date(D.date).getFullYear()===l),[m,l]),v=B.useMemo(()=>{const D=g.reduce((P,U)=>P+parseFloat(U.hours.toString()||"0"),0),k=new Set(g.map(P=>P.projectId.toString())).size,z=k>0?D/k:0;return{totalHours:D,projectsWorkedOn:k,avgHoursPerProject:z}},[g]),w=B.useMemo(()=>{const D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k={};return D.forEach(z=>{k[z]={}}),g.forEach(z=>{const P=new Date(z.date),U=D[P.getMonth()],q=e.find(ae=>ae.id===z.projectId.toString())?.projectCode||"Unknown";k[U][q]||(k[U][q]=0),k[U][q]+=parseFloat(z.hours.toString()||"0")}),D.map(z=>({name:z,...k[z]}))},[g,e]),S=B.useMemo(()=>{const D=new Set;return g.forEach(k=>{const z=e.find(P=>P.id===k.projectId.toString());z&&D.add(z.projectCode)}),Array.from(D)},[g,e]),C=B.useMemo(()=>{const D=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0","#34a853","#ff6d00","#ab47bc"],k={};return S.forEach((z,P)=>{k[z]=D[P%D.length]}),k},[S]);B.useMemo(()=>{const D={},k=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0"];return g.forEach(z=>{const P=e.find(U=>U.id===z.projectId.toString());P&&(D[P.id]||(D[P.id]={name:P.projectCode,hours:0,color:k[Object.keys(D).length%k.length]}),D[P.id].hours+=parseFloat(z.hours.toString()||"0"))}),Object.values(D).sort((z,P)=>P.hours-z.hours).slice(0,5)},[g,e]);const j=B.useMemo(()=>{const D={engineering:0,"project-management":0,"measurement-site":0,"measurement-office":0};g.forEach(P=>{D[P.workCategory]+=parseFloat(P.hours.toString()||"0")});const k=Object.values(D).reduce((P,U)=>P+U,0),z={engineering:"#00bfb3","project-management":"#4285f4","measurement-site":"#fbbc04","measurement-office":"#ea4335"};return[{name:"Engineering",value:D.engineering,percentage:k>0?D.engineering/k*100:0,color:z.engineering},{name:"Project Mgmt",value:D["project-management"],percentage:k>0?D["project-management"]/k*100:0,color:z["project-management"]},{name:"Measurement (Site)",value:D["measurement-site"],percentage:k>0?D["measurement-site"]/k*100:0,color:z["measurement-site"]},{name:"Measurement (Office)",value:D["measurement-office"],percentage:k>0?D["measurement-office"]/k*100:0,color:z["measurement-office"]}].filter(P=>P.value>0)},[g]),T=B.useMemo(()=>y.map(D=>{const k=g.filter(z=>z.projectId===D.id).reduce((z,P)=>z+P.hours,0);return{...D,hoursWorked:k}}),[y,g]),L=D=>{d(D),p(!0)},I=[new Date().getFullYear()-2,new Date().getFullYear()-1,new Date().getFullYear()];return o.jsxs("div",{className:"min-h-full bg-gray-50 p-4 md:p-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Your personal work progress and statistics"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[o.jsx(Qi,{className:"w-4 h-4 text-gray-600 ml-2"}),o.jsxs("select",{value:l,onChange:D=>c(D.target.value==="all"?"all":parseInt(D.target.value)),className:"px-3 py-2 bg-transparent border-0 rounded font-medium text-gray-900 focus:ring-2 focus:ring-primary-500",children:[I.map(D=>o.jsx("option",{value:D,children:D},D)),o.jsx("option",{value:"all",children:"All Time"})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-cyan-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Hours"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:v.totalHours.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours tracked"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(ll,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-blue-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:v.projectsWorkedOn}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"projects worked on"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(pA,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-green-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Hours/Project"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:v.avgHoursPerProject.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours per project"})]}),o.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:o.jsx(g_,{className:"w-6 h-6 text-green-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Hours"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours tracked each month by project"})]}),o.jsx(c2,{width:"100%",height:300,children:o.jsxs(Jye,{data:w,margin:{top:5,right:20,left:-20,bottom:5},children:[o.jsx(lK,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),o.jsx(cK,{dataKey:"name",tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(uK,{tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(l2,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},formatter:(D,k)=>[`${D} hrs`,k]}),o.jsx(TC,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"rect"}),S.map(D=>o.jsx(tK,{dataKey:D,stackId:"hours",fill:C[D],radius:[0,0,0,0]},D))]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Work by Category"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time spent on different work types"})]}),o.jsx(c2,{width:"100%",height:300,children:o.jsxs(nj,{children:[o.jsx(h2,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:j.map((D,k)=>o.jsx(F0,{fill:D.color},`cell-${k}`))}),o.jsx(l2,{formatter:D=>`${D} hrs`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:j.map((D,k)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:D.color}}),o.jsx("span",{className:"text-gray-700",children:D.name})]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[D.percentage.toFixed(0),"%"]})]},k))})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects you're assigned to"})]})}),T.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(pA,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned yet"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"My Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map(D=>{const k=s.find(P=>P.id===D.companyId),z=D.plannedHours>0?(D.actualHours||0)/D.plannedHours*100:0;return o.jsxs("tr",{onClick:()=>L(D),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:D.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:D.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:k?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min(z,100)}%`}})}),o.jsxs("span",{className:"font-semibold text-gray-900 w-8 text-right text-xs",children:[z.toFixed(0),"%"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-medium text-primary-600",children:[D.hoursWorked," hrs"]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${D.status==="ongoing"?"bg-blue-50 text-blue-700":D.status==="completed"?"bg-emerald-50 text-emerald-700":D.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:D.status==="pre-lim"?"Preliminary":D.status.charAt(0).toUpperCase()+D.status.slice(1)})})]},D.id)})})]})})]})]}),f&&u&&o.jsx(C_,{project:u,isOpen:f,onClose:()=>{p(!1),d(null)}})]})},I_e=()=>o.jsx(P_e,{}),L_e=r=>{const[e,t]=B.useState([]),[n,a]=B.useState(!1),[s,i]=B.useState(null),{projects:l}=ws();return B.useEffect(()=>{(async()=>{a(!0),i(null);try{const u=[];l.forEach(d=>{if(!(r?.projectIds&&!r.projectIds.includes(d.id))&&!(r?.statuses&&!r.statuses.includes(d.status))){if(d.leadEngineerId){const f=d.leadEngineer?.name||d.leadEngineerName||"Unknown Engineer";u.push({engineerId:d.leadEngineerId,engineerName:f,projectId:d.id,projectCode:d.projectCode,projectTitle:d.title,role:"lead-engineer",status:d.status,startDate:d.startDate?new Date(d.startDate).toLocaleDateString():void 0,endDate:d.completionDate?new Date(d.completionDate).toLocaleDateString():void 0})}if(d.managerId&&d.managerId!==d.leadEngineerId){const f=d.manager?.name||d.managerName||"Unknown Manager";u.push({engineerId:d.managerId,engineerName:f,projectId:d.id,projectCode:d.projectCode,projectTitle:d.title,role:"manager",status:d.status,startDate:d.startDate?new Date(d.startDate).toLocaleDateString():void 0,endDate:d.completionDate?new Date(d.completionDate).toLocaleDateString():void 0})}if(d.engineerId&&d.engineerId!==d.leadEngineerId){const f=d.engineer?.name||d.engineerName||"Unknown Engineer";u.push({engineerId:d.engineerId,engineerName:f,projectId:d.id,projectCode:d.projectCode,projectTitle:d.title,role:"engineer",status:d.status,startDate:d.startDate?new Date(d.startDate).toLocaleDateString():void 0,endDate:d.completionDate?new Date(d.completionDate).toLocaleDateString():void 0})}}}),t(u)}catch(u){i(u instanceof Error?u.message:"Failed to load engineer assignments")}finally{a(!1)}})()},[l,r?.projectIds,r?.statuses]),{assignments:e,loading:n,error:s}},M_e=r=>{switch(r){case"lead-engineer":return"bg-purple-100 text-purple-800";case"manager":return"bg-blue-100 text-blue-800";case"engineer":return"bg-green-100 text-green-800";case"team-member":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R_e=r=>{switch(r){case"pre-lim":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-emerald-100 text-emerald-800";case"completed":return"bg-gray-100 text-gray-800";case"on-hold":return"bg-amber-100 text-amber-800";case"closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U_e=r=>{switch(r){case"lead-engineer":return"Lead Engineer";case"manager":return"Manager";case"engineer":return"Engineer";case"team-member":return"Team Member";default:return r}},Q_e=({filter:r={}})=>{const{assignments:e,loading:t,error:n}=L_e(r),[a,s]=B.useState(new Set),[i,l]=B.useState(!1),c=B.useMemo(()=>{let p=e;return p=p.filter(m=>m.status==="ongoing"),i&&(p=p.filter(m=>m.role==="lead-engineer")),p},[e,i]),u=B.useMemo(()=>{const p={};return c.forEach(m=>{p[m.engineerId]||(p[m.engineerId]={name:m.engineerName,assignments:[]}),p[m.engineerId].assignments.push(m)}),Object.entries(p).map(([m,y])=>({id:m,...y})).sort((m,y)=>m.name.localeCompare(y.name))},[c]),d=B.useMemo(()=>{const p=new Set;return e.filter(m=>m.status==="ongoing"&&m.role==="lead-engineer").forEach(m=>{p.add(m.engineerId)}),p.size},[e]),f=p=>{const m=new Set(a);m.has(p)?m.delete(p):m.add(p),s(m)};return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-500",children:"Loading engineer assignments..."})}):n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-red-500",children:["Error: ",n]})}):e.length===0||u.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-500",children:"No engineer assignments found"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(Qp,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Engineers"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(r7,{className:"w-6 h-6 text-green-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Assignments"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length})]}),o.jsxs("button",{onClick:()=>l(!i),className:`w-full bg-white rounded-2xl shadow-sm border p-6 transition-all text-left ${i?"border-purple-500 shadow-md ring-2 ring-purple-100":"border-gray-100 hover:shadow-md hover:border-purple-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-purple-600":"bg-purple-100"}`,children:o.jsx(g_,{className:`w-6 h-6 ${i?"text-white":"text-purple-600"}`})}),i&&o.jsx("div",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"Active Filter"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Lead Engineers"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i?"Click to show all engineers":"Click to filter"})]})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-28",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-40",children:"Dates"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(p=>{const m=a.has(p.id),y=p.assignments.length;return o.jsxs(Zs.Fragment,{children:[o.jsx("tr",{className:"bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>f(p.id),children:o.jsx("td",{colSpan:6,className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3 w-full text-left",children:[o.jsx("button",{onClick:g=>{g.stopPropagation(),f(p.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":m?"Collapse projects":"Expand projects",children:m?o.jsx(Bo,{className:"w-4 h-4 text-gray-500"}):o.jsx(f0,{className:"w-4 h-4 text-gray-500"})}),o.jsx("span",{className:"font-semibold text-gray-900 flex-1",children:p.name}),o.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-gray-500 font-normal",children:[o.jsx(wd,{className:"w-3 h-3"}),y," project",y!==1?"s":""]})]})})}),m&&p.assignments.map((g,v)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-gray-500 text-xs",children:v===0?p.name:""}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"font-mono text-xs font-semibold text-gray-900",children:g.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-gray-700",children:g.projectTitle})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${M_e(g.role)}`,children:U_e(g.role)})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${R_e(g.status)}`,children:g.status==="pre-lim"?"Pre-lim":g.status==="on-hold"?"On Hold":g.status.charAt(0).toUpperCase()+g.status.slice(1)})}),o.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:g.startDate||g.endDate?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Qi,{className:"w-3 h-3"}),o.jsxs("span",{children:[g.startDate," ",g.endDate?`to ${g.endDate}`:""]})]}):o.jsx("span",{className:"text-gray-400",children:"-"})})]},`${p.id}-${v}`))]},p.id)})})]})})})]})};var Cj=function(r,e){return Cj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Cj(r,e)};function _u(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cj(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Nj=function(){return Nj=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Nj.apply(this,arguments)};function bo(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(r,[])).next())})}function no(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Eb(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var Od=(function(){function r(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return r.prototype.add=function(e,t,n,a){return new r(this.left+e,this.top+t,this.width+n,this.height+a)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),g5=function(r,e){return Od.fromClientRect(r,e.getBoundingClientRect())},H_e=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Od(0,0,n,a)},x5=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},xs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},dR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jb=0;jb<dR.length;jb++)z_e[dR.charCodeAt(jb)]=jb;var hR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _b=0;_b<hR.length;_b++)Wx[hR.charCodeAt(_b)]=_b;var K_e=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=Wx[r.charCodeAt(n)],i=Wx[r.charCodeAt(n+1)],l=Wx[r.charCodeAt(n+2)],c=Wx[r.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},$_e=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},V_e=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},b0=5,Ak=11,rE=2,q_e=Ak-b0,pq=65536>>b0,G_e=1<<b0,nE=G_e-1,W_e=1024>>b0,Y_e=pq+W_e,X_e=Y_e,J_e=32,Z_e=X_e+J_e,eTe=65536>>Ak,tTe=1<<q_e,rTe=tTe-1,fR=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},nTe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},aTe=function(r,e){var t=K_e(r),n=Array.isArray(t)?V_e(t):new Uint32Array(t),a=Array.isArray(t)?$_e(t):new Uint16Array(t),s=24,i=fR(a,s/2,n[4]/2),l=n[5]===2?fR(a,(s+n[4])/2):nTe(n,Math.ceil((s+n[4])/4));return new sTe(n[0],n[1],n[2],n[3],i,l)},sTe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>b0],t=(t<<rE)+(e&nE),this.data[t];if(e<=65535)return t=this.index[pq+(e-55296>>b0)],t=(t<<rE)+(e&nE),this.data[t];if(e<this.highStart)return t=Z_e-eTe+(e>>Ak),t=this.index[t],t+=e>>b0&rTe,t=this.index[t],t=(t<<rE)+(e&nE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),mR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iTe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tb=0;Tb<mR.length;Tb++)iTe[mR.charCodeAt(Tb)]=Tb;var oTe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pR=50,lTe=1,gq=2,xq=3,cTe=4,uTe=5,gR=7,yq=8,xR=9,Hh=10,Sj=11,yR=12,Bj=13,ATe=14,Yx=15,Ej=16,kb=17,Px=18,dTe=19,vR=20,jj=21,Ix=22,aE=23,tp=24,_l=25,Xx=26,Jx=27,rp=28,hTe=29,r0=30,fTe=31,Fb=32,Ob=33,_j=34,Tj=35,kj=36,Vy=37,Fj=38,gw=39,xw=40,sE=41,vq=42,mTe=43,pTe=[9001,65288],bq="!",rn="",Db="",Oj=aTe(oTe),td=[r0,kj],Dj=[lTe,gq,xq,uTe],wq=[Hh,yq],bR=[Jx,Xx],gTe=Dj.concat(wq),wR=[Fj,gw,xw,_j,Tj],xTe=[Yx,Bj],yTe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return r.forEach(function(s,i){var l=Oj.get(s);if(l>pR?(a.push(!0),l-=pR):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),t.push(Ej);if(l===cTe||l===Sj){if(i===0)return n.push(i),t.push(r0);var c=t[i-1];return gTe.indexOf(c)===-1?(n.push(n[i-1]),t.push(c)):(n.push(i),t.push(r0))}if(n.push(i),l===fTe)return t.push(e==="strict"?jj:Vy);if(l===vq||l===hTe)return t.push(r0);if(l===mTe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Vy):t.push(r0);t.push(l)}),[n,t,a]},iE=function(r,e,t,n){var a=n[t];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var s=t;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==Hh)break}if(a===Hh)for(var s=t;s>0;){s--;var l=n[s];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var c=t;c<=n.length;){c++;var i=n[c];if(i===e)return!0;if(i!==Hh)break}if(l!==Hh)break}return!1},CR=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===Hh)t--;else return n}return 0},vTe=function(r,e,t,n,a){if(t[n]===0)return rn;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return rn;var i=s-1,l=s+1,c=e[s],u=i>=0?e[i]:0,d=e[l];if(c===gq&&d===xq)return rn;if(Dj.indexOf(c)!==-1)return bq;if(Dj.indexOf(d)!==-1||wq.indexOf(d)!==-1)return rn;if(CR(s,e)===yq)return Db;if(Oj.get(r[s])===Sj||(c===Fb||c===Ob)&&Oj.get(r[l])===Sj||c===gR||d===gR||c===xR||[Hh,Bj,Yx].indexOf(c)===-1&&d===xR||[kb,Px,dTe,tp,rp].indexOf(d)!==-1||CR(s,e)===Ix||iE(aE,Ix,s,e)||iE([kb,Px],jj,s,e)||iE(yR,yR,s,e))return rn;if(c===Hh)return Db;if(c===aE||d===aE)return rn;if(d===Ej||c===Ej)return Db;if([Bj,Yx,jj].indexOf(d)!==-1||c===ATe||u===kj&&xTe.indexOf(c)!==-1||c===rp&&d===kj||d===vR||td.indexOf(d)!==-1&&c===_l||td.indexOf(c)!==-1&&d===_l||c===Jx&&[Vy,Fb,Ob].indexOf(d)!==-1||[Vy,Fb,Ob].indexOf(c)!==-1&&d===Xx||td.indexOf(c)!==-1&&bR.indexOf(d)!==-1||bR.indexOf(c)!==-1&&td.indexOf(d)!==-1||[Jx,Xx].indexOf(c)!==-1&&(d===_l||[Ix,Yx].indexOf(d)!==-1&&e[l+1]===_l)||[Ix,Yx].indexOf(c)!==-1&&d===_l||c===_l&&[_l,rp,tp].indexOf(d)!==-1)return rn;if([_l,rp,tp,kb,Px].indexOf(d)!==-1)for(var f=s;f>=0;){var p=e[f];if(p===_l)return rn;if([rp,tp].indexOf(p)!==-1)f--;else break}if([Jx,Xx].indexOf(d)!==-1)for(var f=[kb,Px].indexOf(c)!==-1?i:s;f>=0;){var p=e[f];if(p===_l)return rn;if([rp,tp].indexOf(p)!==-1)f--;else break}if(Fj===c&&[Fj,gw,_j,Tj].indexOf(d)!==-1||[gw,_j].indexOf(c)!==-1&&[gw,xw].indexOf(d)!==-1||[xw,Tj].indexOf(c)!==-1&&d===xw||wR.indexOf(c)!==-1&&[vR,Xx].indexOf(d)!==-1||wR.indexOf(d)!==-1&&c===Jx||td.indexOf(c)!==-1&&td.indexOf(d)!==-1||c===tp&&td.indexOf(d)!==-1||td.concat(_l).indexOf(c)!==-1&&d===Ix&&pTe.indexOf(r[l])===-1||td.concat(_l).indexOf(d)!==-1&&c===Px)return rn;if(c===sE&&d===sE){for(var m=t[s],y=1;m>0&&(m--,e[m]===sE);)y++;if(y%2!==0)return rn}return c===Fb&&d===Ob?rn:Db},bTe=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=yTe(r,e.lineBreak),n=t[0],a=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[_l,r0,vq].indexOf(l)!==-1?Vy:l}));var i=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,a,i]},wTe=(function(){function r(e,t,n,a){this.codePoints=e,this.required=t===bq,this.start=n,this.end=a}return r.prototype.slice=function(){return xs.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),CTe=function(r,e){var t=x5(r),n=bTe(t,e),a=n[0],s=n[1],i=n[2],l=t.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var d=rn;u<l&&(d=vTe(t,s,a,++u,i))===rn;);if(d!==rn||u===l){var f=new wTe(t,d,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},NTe=1,STe=2,Rv=4,NR=8,U2=10,SR=47,dy=92,BTe=9,ETe=32,Pb=34,Lx=61,jTe=35,_Te=36,TTe=37,Ib=39,Lb=40,Mx=41,kTe=95,tl=45,FTe=33,OTe=60,DTe=62,PTe=64,ITe=91,LTe=93,MTe=61,RTe=123,Mb=63,UTe=125,BR=124,QTe=126,HTe=128,ER=65533,oE=42,u0=43,zTe=44,KTe=58,$Te=59,qy=46,VTe=0,qTe=8,GTe=11,WTe=14,YTe=31,XTe=127,nA=-1,Cq=48,Nq=97,Sq=101,JTe=102,ZTe=117,e3e=122,Bq=65,Eq=69,jq=70,t3e=85,r3e=90,io=function(r){return r>=Cq&&r<=57},n3e=function(r){return r>=55296&&r<=57343},np=function(r){return io(r)||r>=Bq&&r<=jq||r>=Nq&&r<=JTe},a3e=function(r){return r>=Nq&&r<=e3e},s3e=function(r){return r>=Bq&&r<=r3e},i3e=function(r){return a3e(r)||s3e(r)},o3e=function(r){return r>=HTe},Rb=function(r){return r===U2||r===BTe||r===ETe},Q2=function(r){return i3e(r)||o3e(r)||r===kTe},jR=function(r){return Q2(r)||io(r)||r===tl},l3e=function(r){return r>=VTe&&r<=qTe||r===GTe||r>=WTe&&r<=YTe||r===XTe},Ph=function(r,e){return r!==dy?!1:e!==U2},Ub=function(r,e,t){return r===tl?Q2(e)||Ph(e,t):Q2(r)?!0:!!(r===dy&&Ph(r,e))},lE=function(r,e,t){return r===u0||r===tl?io(e)?!0:e===qy&&io(t):io(r===qy?e:r)},c3e=function(r){var e=0,t=1;(r[e]===u0||r[e]===tl)&&(r[e]===tl&&(t=-1),e++);for(var n=[];io(r[e]);)n.push(r[e++]);var a=n.length?parseInt(xs.apply(void 0,n),10):0;r[e]===qy&&e++;for(var s=[];io(r[e]);)s.push(r[e++]);var i=s.length,l=i?parseInt(xs.apply(void 0,s),10):0;(r[e]===Eq||r[e]===Sq)&&e++;var c=1;(r[e]===u0||r[e]===tl)&&(r[e]===tl&&(c=-1),e++);for(var u=[];io(r[e]);)u.push(r[e++]);var d=u.length?parseInt(xs.apply(void 0,u),10):0;return t*(a+l*Math.pow(10,-i))*Math.pow(10,c*d)},u3e={type:2},A3e={type:3},d3e={type:4},h3e={type:13},f3e={type:8},m3e={type:21},p3e={type:9},g3e={type:10},x3e={type:11},y3e={type:12},v3e={type:14},Qb={type:23},b3e={type:1},w3e={type:25},C3e={type:24},N3e={type:26},S3e={type:27},B3e={type:28},E3e={type:29},j3e={type:31},Pj={type:32},_q=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(x5(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Pj;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Pb:return this.consumeStringToken(Pb);case jTe:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(jR(t)||Ph(n,a)){var s=Ub(t,n,a)?STe:NTe,i=this.consumeName();return{type:5,value:i,flags:s}}break;case _Te:if(this.peekCodePoint(0)===Lx)return this.consumeCodePoint(),h3e;break;case Ib:return this.consumeStringToken(Ib);case Lb:return u3e;case Mx:return A3e;case oE:if(this.peekCodePoint(0)===Lx)return this.consumeCodePoint(),v3e;break;case u0:if(lE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case zTe:return d3e;case tl:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(lE(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Ub(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===tl&&u===DTe)return this.consumeCodePoint(),this.consumeCodePoint(),C3e;break;case qy:if(lE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case SR:if(this.peekCodePoint(0)===oE)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===oE&&(d=this.consumeCodePoint(),d===SR))return this.consumeToken();if(d===nA)return this.consumeToken()}break;case KTe:return N3e;case $Te:return S3e;case OTe:if(this.peekCodePoint(0)===FTe&&this.peekCodePoint(1)===tl&&this.peekCodePoint(2)===tl)return this.consumeCodePoint(),this.consumeCodePoint(),w3e;break;case PTe:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Ub(f,p,m)){var i=this.consumeName();return{type:7,value:i}}break;case ITe:return B3e;case dy:if(Ph(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case LTe:return E3e;case MTe:if(this.peekCodePoint(0)===Lx)return this.consumeCodePoint(),f3e;break;case RTe:return x3e;case UTe:return y3e;case ZTe:case t3e:var y=this.peekCodePoint(0),g=this.peekCodePoint(1);return y===u0&&(np(g)||g===Mb)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case BR:if(this.peekCodePoint(0)===Lx)return this.consumeCodePoint(),p3e;if(this.peekCodePoint(0)===BR)return this.consumeCodePoint(),m3e;break;case QTe:if(this.peekCodePoint(0)===Lx)return this.consumeCodePoint(),g3e;break;case nA:return Pj}return Rb(e)?(this.consumeWhiteSpace(),j3e):io(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Q2(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:xs(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();np(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Mb&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(xs.apply(void 0,e.map(function(c){return c===Mb?Cq:c})),16),s=parseInt(xs.apply(void 0,e.map(function(c){return c===Mb?jq:c})),16);return{type:30,start:a,end:s}}var i=parseInt(xs.apply(void 0,e),16);if(this.peekCodePoint(0)===tl&&np(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];np(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var s=parseInt(xs.apply(void 0,l),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Lb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Lb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===nA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Ib||t===Pb){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===nA||this.peekCodePoint(0)===Mx)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Qb)}for(;;){var a=this.consumeCodePoint();if(a===nA||a===Mx)return{type:22,value:xs.apply(void 0,e)};if(Rb(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===nA||this.peekCodePoint(0)===Mx?(this.consumeCodePoint(),{type:22,value:xs.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Qb);if(a===Pb||a===Ib||a===Lb||l3e(a))return this.consumeBadUrlRemnants(),Qb;if(a===dy)if(Ph(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Qb;else e.push(a)}},r.prototype.consumeWhiteSpace=function(){for(;Rb(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Mx||e===nA)return;Ph(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=xs.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===nA||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===U2)return this._value.splice(0,n),b3e;if(a===dy){var s=this._value[n+1];s!==nA&&s!==void 0&&(s===U2?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ph(a,s)&&(t+=this.consumeStringSlice(n),t+=xs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Rv,n=this.peekCodePoint(0);for((n===u0||n===tl)&&e.push(this.consumeCodePoint());io(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===qy&&io(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=NR;io(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Eq||n===Sq)&&((a===u0||a===tl)&&io(s)||io(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=NR;io(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[c3e(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Ub(a,s,i)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return a===TTe?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(np(e)){for(var t=xs(e);np(this.peekCodePoint(0))&&t.length<6;)t+=xs(this.consumeCodePoint());Rb(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||n3e(n)||n>1114111?ER:n}return e===nA?ER:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(jR(t))e+=xs(t);else if(Ph(t,this.peekCodePoint(0)))e+=xs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),Tq=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new _q;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||T3e(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Pj:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),Uv=function(r){return r.type===15},kg=function(r){return r.type===17},ta=function(r){return r.type===20},_3e=function(r){return r.type===0},Ij=function(r,e){return ta(r)&&r.value===e},kq=function(r){return r.type!==31},sg=function(r){return r.type!==31&&r.type!==4},wA=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},T3e=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},sf=function(r){return r.type===17||r.type===15},Ps=function(r){return r.type===16||sf(r)},Fq=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},$i={type:17,number:0,flags:Rv},dk={type:16,number:50,flags:Rv},zh={type:16,number:100,flags:Rv},Zx=function(r,e,t){var n=r[0],a=r[1];return[da(n,e),da(typeof a<"u"?a:n,t)]},da=function(r,e){if(r.type===16)return r.number/100*e;if(Uv(r))switch(r.unit){case"rem":case"em":return 16*r.number;default:return r.number}return r.number},Oq="deg",Dq="grad",Pq="rad",Iq="turn",y5={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case Oq:return Math.PI*e.number/180;case Dq:return Math.PI/200*e.number;case Pq:return e.number;case Iq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Lq=function(r){return r.type===15&&(r.unit===Oq||r.unit===Dq||r.unit===Pq||r.unit===Iq)},Mq=function(r){var e=r.filter(ta).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$i,$i];case"to top":case"bottom":return Bc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$i,zh];case"to right":case"left":return Bc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zh,zh];case"to bottom":case"top":return Bc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zh,$i];case"to left":case"right":return Bc(270)}return 0},Bc=function(r){return Math.PI*r/180},Gh={name:"color",parse:function(r,e){if(e.type===18){var t=k3e[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return Kh(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return Kh(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return Kh(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return Kh(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var l=yd[e.value.toUpperCase()];if(typeof l<"u")return l}return yd.TRANSPARENT}},Wh=function(r){return(255&r)===0},ui=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,a=255&r>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},Kh=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},_R=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},TR=function(r,e){var t=e.filter(sg);if(t.length===3){var n=t.map(_R),a=n[0],s=n[1],i=n[2];return Kh(a,s,i,1)}if(t.length===4){var l=t.map(_R),a=l[0],s=l[1],i=l[2],c=l[3];return Kh(a,s,i,c)}return 0};function cE(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var kR=function(r,e){var t=e.filter(sg),n=t[0],a=t[1],s=t[2],i=t[3],l=(n.type===17?Bc(n.number):y5.parse(r,n))/(Math.PI*2),c=Ps(a)?a.number/100:0,u=Ps(s)?s.number/100:0,d=typeof i<"u"&&Ps(i)?da(i,1):1;if(c===0)return Kh(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,p=u*2-f,m=cE(p,f,l+1/3),y=cE(p,f,l),g=cE(p,f,l-1/3);return Kh(m*255,y*255,g*255,d)},k3e={hsl:kR,hsla:kR,rgb:TR,rgba:TR},hy=function(r,e){return Gh.parse(r,Tq.create(e).parseComponentValue())},yd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},F3e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ta(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},O3e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},v5=function(r,e){var t=Gh.parse(r,e[0]),n=e[1];return n&&Ps(n)?{color:t,stop:n}:{color:t,stop:null}},FR=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=$i),n.stop===null&&(n.stop=zh);for(var a=[],s=0,i=0;i<r.length;i++){var l=r[i].stop;if(l!==null){var c=da(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var d=a[i];if(d===null)u===null&&(u=i);else if(u!==null){for(var f=i-u,p=a[u-1],m=(d-p)/(f+1),y=1;y<=f;y++)a[u+y-1]=m*y;u=null}}return r.map(function(g,v){var w=g.color;return{color:w,stop:Math.max(Math.min(1,a[v]/e),0)}})},D3e=function(r,e,t){var n=e/2,a=t/2,s=da(r[0],e)-n,i=a-da(r[1],t);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},P3e=function(r,e,t){var n=typeof r=="number"?r:D3e(r,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,i=t/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,i-c,i+c]},mu=function(r,e){return Math.sqrt(r*r+e*e)},OR=function(r,e,t,n,a){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(i,l){var c=l[0],u=l[1],d=mu(t-c,n-u);return(a?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:l,optimumDistance:d}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},I3e=function(r,e,t,n,a){var s=0,i=0;switch(r.size){case 0:r.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(r.shape===0)s=i=Math.min(mu(e,t),mu(e,t-a),mu(e-n,t),mu(e-n,t-a));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=OR(n,a,e,t,!0),u=c[0],d=c[1];s=mu(u-e,(d-t)/l),i=l*s}break;case 1:r.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(r.shape===0)s=i=Math.max(mu(e,t),mu(e,t-a),mu(e-n,t),mu(e-n,t-a));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),f=OR(n,a,e,t,!1),u=f[0],d=f[1];s=mu(u-e,(d-t)/l),i=l*s}break}return Array.isArray(r.size)&&(s=da(r.size[0],n),i=r.size.length===2?da(r.size[1],a):s),[s,i]},L3e=function(r,e){var t=Bc(180),n=[];return wA(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){t=Mq(a);return}else if(Lq(i)){t=y5.parse(r,i);return}}var l=v5(r,a);n.push(l)}),{angle:t,stops:n,type:1}},Hb=function(r,e){var t=Bc(180),n=[];return wA(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){t=Mq(a);return}else if(Lq(i)){t=(y5.parse(r,i)+Bc(270))%Bc(360);return}}var l=v5(r,a);n.push(l)}),{angle:t,stops:n,type:1}},M3e=function(r,e){var t=Bc(180),n=[],a=1,s=0,i=3,l=[];return wA(e).forEach(function(c,u){var d=c[0];if(u===0){if(ta(d)&&d.value==="linear"){a=1;return}else if(ta(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var f=Gh.parse(r,d.values[0]);n.push({stop:$i,color:f})}else if(d.name==="to"){var f=Gh.parse(r,d.values[0]);n.push({stop:zh,color:f})}else if(d.name==="color-stop"){var p=d.values.filter(sg);if(p.length===2){var f=Gh.parse(r,p[1]),m=p[0];kg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),a===1?{angle:(t+Bc(180))%Bc(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:l,type:a}},Rq="closest-side",Uq="farthest-side",Qq="closest-corner",Hq="farthest-corner",zq="circle",Kq="ellipse",$q="cover",Vq="contain",R3e=function(r,e){var t=0,n=3,a=[],s=[];return wA(e).forEach(function(i,l){var c=!0;if(l===0){var u=!1;c=i.reduce(function(f,p){if(u)if(ta(p))switch(p.value){case"center":return s.push(dk),f;case"top":case"left":return s.push($i),f;case"right":case"bottom":return s.push(zh),f}else(Ps(p)||sf(p))&&s.push(p);else if(ta(p))switch(p.value){case zq:return t=0,!1;case Kq:return t=1,!1;case"at":return u=!0,!1;case Rq:return n=0,!1;case $q:case Uq:return n=1,!1;case Vq:case Qq:return n=2,!1;case Hq:return n=3,!1}else if(sf(p)||Ps(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return f},c)}if(c){var d=v5(r,i);a.push(d)}}),{size:n,shape:t,stops:a,position:s,type:2}},zb=function(r,e){var t=0,n=3,a=[],s=[];return wA(e).forEach(function(i,l){var c=!0;if(l===0?c=i.reduce(function(d,f){if(ta(f))switch(f.value){case"center":return s.push(dk),!1;case"top":case"left":return s.push($i),!1;case"right":case"bottom":return s.push(zh),!1}else if(Ps(f)||sf(f))return s.push(f),!1;return d},c):l===1&&(c=i.reduce(function(d,f){if(ta(f))switch(f.value){case zq:return t=0,!1;case Kq:return t=1,!1;case Vq:case Rq:return n=0,!1;case Uq:return n=1,!1;case Qq:return n=2,!1;case $q:case Hq:return n=3,!1}else if(sf(f)||Ps(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},c)),c){var u=v5(r,i);a.push(u)}}),{size:n,shape:t,stops:a,position:s,type:2}},U3e=function(r){return r.type===1},Q3e=function(r){return r.type===2},hk={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=qq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function H3e(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!qq[r.name])}var qq={"linear-gradient":L3e,"-moz-linear-gradient":Hb,"-ms-linear-gradient":Hb,"-o-linear-gradient":Hb,"-webkit-linear-gradient":Hb,"radial-gradient":R3e,"-moz-radial-gradient":zb,"-ms-radial-gradient":zb,"-o-radial-gradient":zb,"-webkit-radial-gradient":zb,"-webkit-gradient":M3e},z3e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return sg(n)&&H3e(n)}).map(function(n){return hk.parse(r,n)})}},K3e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ta(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$3e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return wA(e).map(function(t){return t.filter(Ps)}).map(Fq)}},V3e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return wA(e).map(function(t){return t.filter(ta).map(function(n){return n.value}).join(" ")}).map(q3e)}},q3e=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Pp;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Pp||(Pp={}));var G3e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return wA(e).map(function(t){return t.filter(W3e)})}},W3e=function(r){return ta(r)||Ps(r)},b5=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Y3e=b5("top"),X3e=b5("right"),J3e=b5("bottom"),Z3e=b5("left"),w5=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Fq(t.filter(Ps))}}},eke=w5("top-left"),tke=w5("top-right"),rke=w5("bottom-right"),nke=w5("bottom-left"),C5=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ake=C5("top"),ske=C5("right"),ike=C5("bottom"),oke=C5("left"),N5=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Uv(t)?t.number:0}}},lke=N5("top"),cke=N5("right"),uke=N5("bottom"),Ake=N5("left"),dke={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hke={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){return e==="rtl"?1:0}},fke={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(ta).reduce(function(t,n){return t|mke(n.value)},0)}},mke=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pke={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gke={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},H2;(function(r){r.NORMAL="normal",r.STRICT="strict"})(H2||(H2={}));var xke={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){return e==="strict"?H2.STRICT:H2.NORMAL}},yke={name:"line-height",initialValue:"normal",prefix:!1,type:4},DR=function(r,e){return ta(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ps(r)?da(r,e):e},vke={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:hk.parse(r,e)}},bke={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){return e==="inside"?0:1}},Lj={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},S5=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},wke=S5("top"),Cke=S5("right"),Nke=S5("bottom"),Ske=S5("left"),Bke={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(ta).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Eke={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){return e==="break-word"?"break-word":"normal"}},B5=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jke=B5("top"),_ke=B5("right"),Tke=B5("bottom"),kke=B5("left"),Fke={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Oke={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Dke={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Ij(e[0],"none")?[]:wA(e).map(function(t){for(var n={color:yd.TRANSPARENT,offsetX:$i,offsetY:$i,blur:$i},a=0,s=0;s<t.length;s++){var i=t[s];sf(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=Gh.parse(r,i)}return n})}},Pke={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ike={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Rke[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Lke=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Mke=function(r){var e=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,a,s,i,l]:null},Rke={matrix:Lke,matrix3d:Mke},PR={type:16,number:50,flags:Rv},Uke=[PR,PR],Qke={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ps);return t.length!==2?Uke:[t[0],t[1]]}},Hke={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},fy;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(fy||(fy={}));var zke={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return fy.BREAK_ALL;case"keep-all":return fy.KEEP_ALL;default:return fy.NORMAL}}},Kke={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(kg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Gq={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},$ke={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return kg(e)?e.number:1}},Vke={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qke={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(ta).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Gke={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Wke={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Yke={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){return kg(e)?e.number:ta(e)&&e.value==="bold"?700:400}},Xke={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(ta).map(function(t){return t.value})}},Jke={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Js=function(r,e){return(r&e)!==0},Zke={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},eFe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(kq),s=0;s<a.length;s++){var i=a[s],l=a[s+1];if(i.type===20){var c=l&&kg(l)?l.number:1;n.push({counter:i.value,increment:c})}}return n}},tFe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(kq),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(ta(s)&&s.value!=="none"){var l=i&&kg(i)?i.number:0;t.push({counter:s.value,reset:l})}}return t}},rFe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Uv).map(function(t){return Gq.parse(r,t)})}},nFe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(_3e);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,l=a[s+1].value;n.push({open:i,close:l})}return n}},IR=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},aFe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Ij(e[0],"none")?[]:wA(e).map(function(t){for(var n={color:255,offsetX:$i,offsetY:$i,blur:$i,spread:$i,inset:!1},a=0,s=0;s<t.length;s++){var i=t[s];Ij(i,"inset")?n.inset=!0:sf(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=Gh.parse(r,i)}return n})}},sFe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(ta).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},iFe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},oFe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Uv(e)?e.number:0}},lFe=(function(){function r(e,t){var n,a;this.animationDuration=Kt(e,rFe,t.animationDuration),this.backgroundClip=Kt(e,F3e,t.backgroundClip),this.backgroundColor=Kt(e,O3e,t.backgroundColor),this.backgroundImage=Kt(e,z3e,t.backgroundImage),this.backgroundOrigin=Kt(e,K3e,t.backgroundOrigin),this.backgroundPosition=Kt(e,$3e,t.backgroundPosition),this.backgroundRepeat=Kt(e,V3e,t.backgroundRepeat),this.backgroundSize=Kt(e,G3e,t.backgroundSize),this.borderTopColor=Kt(e,Y3e,t.borderTopColor),this.borderRightColor=Kt(e,X3e,t.borderRightColor),this.borderBottomColor=Kt(e,J3e,t.borderBottomColor),this.borderLeftColor=Kt(e,Z3e,t.borderLeftColor),this.borderTopLeftRadius=Kt(e,eke,t.borderTopLeftRadius),this.borderTopRightRadius=Kt(e,tke,t.borderTopRightRadius),this.borderBottomRightRadius=Kt(e,rke,t.borderBottomRightRadius),this.borderBottomLeftRadius=Kt(e,nke,t.borderBottomLeftRadius),this.borderTopStyle=Kt(e,ake,t.borderTopStyle),this.borderRightStyle=Kt(e,ske,t.borderRightStyle),this.borderBottomStyle=Kt(e,ike,t.borderBottomStyle),this.borderLeftStyle=Kt(e,oke,t.borderLeftStyle),this.borderTopWidth=Kt(e,lke,t.borderTopWidth),this.borderRightWidth=Kt(e,cke,t.borderRightWidth),this.borderBottomWidth=Kt(e,uke,t.borderBottomWidth),this.borderLeftWidth=Kt(e,Ake,t.borderLeftWidth),this.boxShadow=Kt(e,aFe,t.boxShadow),this.color=Kt(e,dke,t.color),this.direction=Kt(e,hke,t.direction),this.display=Kt(e,fke,t.display),this.float=Kt(e,pke,t.cssFloat),this.fontFamily=Kt(e,Gke,t.fontFamily),this.fontSize=Kt(e,Wke,t.fontSize),this.fontStyle=Kt(e,Jke,t.fontStyle),this.fontVariant=Kt(e,Xke,t.fontVariant),this.fontWeight=Kt(e,Yke,t.fontWeight),this.letterSpacing=Kt(e,gke,t.letterSpacing),this.lineBreak=Kt(e,xke,t.lineBreak),this.lineHeight=Kt(e,yke,t.lineHeight),this.listStyleImage=Kt(e,vke,t.listStyleImage),this.listStylePosition=Kt(e,bke,t.listStylePosition),this.listStyleType=Kt(e,Lj,t.listStyleType),this.marginTop=Kt(e,wke,t.marginTop),this.marginRight=Kt(e,Cke,t.marginRight),this.marginBottom=Kt(e,Nke,t.marginBottom),this.marginLeft=Kt(e,Ske,t.marginLeft),this.opacity=Kt(e,$ke,t.opacity);var s=Kt(e,Bke,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Kt(e,Eke,t.overflowWrap),this.paddingTop=Kt(e,jke,t.paddingTop),this.paddingRight=Kt(e,_ke,t.paddingRight),this.paddingBottom=Kt(e,Tke,t.paddingBottom),this.paddingLeft=Kt(e,kke,t.paddingLeft),this.paintOrder=Kt(e,sFe,t.paintOrder),this.position=Kt(e,Oke,t.position),this.textAlign=Kt(e,Fke,t.textAlign),this.textDecorationColor=Kt(e,Vke,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Kt(e,qke,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=Kt(e,Dke,t.textShadow),this.textTransform=Kt(e,Pke,t.textTransform),this.transform=Kt(e,Ike,t.transform),this.transformOrigin=Kt(e,Qke,t.transformOrigin),this.visibility=Kt(e,Hke,t.visibility),this.webkitTextStrokeColor=Kt(e,iFe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Kt(e,oFe,t.webkitTextStrokeWidth),this.wordBreak=Kt(e,zke,t.wordBreak),this.zIndex=Kt(e,Kke,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Wh(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Js(this.display,4)||Js(this.display,33554432)||Js(this.display,268435456)||Js(this.display,536870912)||Js(this.display,67108864)||Js(this.display,134217728)},r})(),cFe=(function(){function r(e,t){this.content=Kt(e,Zke,t.content),this.quotes=Kt(e,nFe,t.quotes)}return r})(),LR=(function(){function r(e,t){this.counterIncrement=Kt(e,eFe,t.counterIncrement),this.counterReset=Kt(e,tFe,t.counterReset)}return r})(),Kt=function(r,e,t){var n=new _q,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var s=new Tq(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(r,ta(i)?i.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return y5.parse(r,s.parseComponentValue());case"color":return Gh.parse(r,s.parseComponentValue());case"image":return hk.parse(r,s.parseComponentValue());case"length":var l=s.parseComponentValue();return sf(l)?l:$i;case"length-percentage":var c=s.parseComponentValue();return Ps(c)?c:$i;case"time":return Gq.parse(r,s.parseComponentValue())}break}},uFe="data-html2canvas-debug",AFe=function(r){var e=r.getAttribute(uFe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Mj=function(r,e){var t=AFe(r);return t===1||e===t},CA=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Mj(t,3))debugger;this.styles=new lFe(e,window.getComputedStyle(t,null)),Qj(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=g5(this.context,t),Mj(t,4)&&(this.flags|=16)}return r})(),dFe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",MR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ey=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kb=0;Kb<MR.length;Kb++)ey[MR.charCodeAt(Kb)]=Kb;var hFe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=ey[r.charCodeAt(n)],i=ey[r.charCodeAt(n+1)],l=ey[r.charCodeAt(n+2)],c=ey[r.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},fFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},mFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},w0=5,fk=11,uE=2,pFe=fk-w0,Wq=65536>>w0,gFe=1<<w0,AE=gFe-1,xFe=1024>>w0,yFe=Wq+xFe,vFe=yFe,bFe=32,wFe=vFe+bFe,CFe=65536>>fk,NFe=1<<pFe,SFe=NFe-1,RR=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},BFe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},EFe=function(r,e){var t=hFe(r),n=Array.isArray(t)?mFe(t):new Uint32Array(t),a=Array.isArray(t)?fFe(t):new Uint16Array(t),s=24,i=RR(a,s/2,n[4]/2),l=n[5]===2?RR(a,(s+n[4])/2):BFe(n,Math.ceil((s+n[4])/4));return new jFe(n[0],n[1],n[2],n[3],i,l)},jFe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>w0],t=(t<<uE)+(e&AE),this.data[t];if(e<=65535)return t=this.index[Wq+(e-55296>>w0)],t=(t<<uE)+(e&AE),this.data[t];if(e<this.highStart)return t=wFe-CFe+(e>>fk),t=this.index[t],t+=e>>w0&SFe,t=this.index[t],t=(t<<uE)+(e&AE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),UR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_Fe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $b=0;$b<UR.length;$b++)_Fe[UR.charCodeAt($b)]=$b;var TFe=1,dE=2,hE=3,QR=4,HR=5,kFe=7,zR=8,fE=9,mE=10,KR=11,$R=12,VR=13,qR=14,pE=15,FFe=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},OFe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},DFe=EFe(dFe),bc="",gE="",PFe=function(r){return DFe.get(r)},IFe=function(r,e,t){var n=t-2,a=e[n],s=e[t-1],i=e[t];if(s===dE&&i===hE)return bc;if(s===dE||s===hE||s===QR||i===dE||i===hE||i===QR)return gE;if(s===zR&&[zR,fE,KR,$R].indexOf(i)!==-1||(s===KR||s===fE)&&(i===fE||i===mE)||(s===$R||s===mE)&&i===mE||i===VR||i===HR||i===kFe||s===TFe)return bc;if(s===VR&&i===qR){for(;a===HR;)a=e[--n];if(a===qR)return bc}if(s===pE&&i===pE){for(var l=0;a===pE;)l++,a=e[--n];if(l%2===0)return bc}return gE},LFe=function(r){var e=FFe(r),t=e.length,n=0,a=0,s=e.map(PFe);return{next:function(){if(n>=t)return{done:!0,value:null};for(var i=bc;n<t&&(i=IFe(e,s,++n))===bc;);if(i!==bc||n===t){var l=OFe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},MFe=function(r){for(var e=LFe(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},RFe=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),s=Math.round(a.height);if(r.body.removeChild(n),s===e)return!0}}return!1},UFe=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=x5(n.data).map(function(c){return xs(c)}),s=0,i={},l=a.every(function(c,u){t.setStart(n,s),t.setEnd(n,s+c.length);var d=t.getBoundingClientRect();s+=c.length;var f=d.x>i.x||d.y>i.y;return i=d,u===0?!0:f});return r.body.removeChild(e),l},QFe=function(){return typeof new Image().crossOrigin<"u"},HFe=function(){return typeof new XMLHttpRequest().responseType=="string"},zFe=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},GR=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},KFe=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,s=e.toDataURL();a.src=s;var i=Rj(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),WR(i).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",GR(c)?WR(Rj(t,t,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),GR(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Rj=function(r,e,t,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(l),l.appendChild(a),i},WR=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Mi={get SUPPORT_RANGE_BOUNDS(){var r=RFe(document);return Object.defineProperty(Mi,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Mi.SUPPORT_RANGE_BOUNDS&&UFe(document);return Object.defineProperty(Mi,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=zFe(document);return Object.defineProperty(Mi,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?KFe(document):Promise.resolve(!1);return Object.defineProperty(Mi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=QFe();return Object.defineProperty(Mi,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=HFe();return Object.defineProperty(Mi,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mi,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},my=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),$Fe=function(r,e,t,n){var a=GFe(e,t),s=[],i=0;return a.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Mi.SUPPORT_RANGE_BOUNDS){var c=YR(n,i,l.length).getClientRects();if(c.length>1){var u=mk(l),d=0;u.forEach(function(p){s.push(new my(p,Od.fromDOMRectList(r,YR(n,d+i,p.length).getClientRects()))),d+=p.length})}else s.push(new my(l,Od.fromDOMRectList(r,c)))}else{var f=n.splitText(l.length);s.push(new my(l,VFe(r,n))),n=f}else Mi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));i+=l.length}),s},VFe=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=g5(r,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return Od.EMPTY},YR=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(r,e),a.setEnd(r,e+t),a},mk=function(r){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return MFe(r)},qFe=function(r,e){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return YFe(r,e)},GFe=function(r,e){return e.letterSpacing!==0?mk(r):qFe(r,e)},WFe=[32,160,4961,65792,65793,4153,4241],YFe=function(r,e){for(var t=CTe(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),l=x5(i),c="";l.forEach(function(u){WFe.indexOf(u)===-1?c+=xs(u):(c.length&&n.push(c),n.push(xs(u)),c="")}),c.length&&n.push(c)}};!(a=t.next()).done;)s();return n},XFe=(function(){function r(e,t,n){this.text=JFe(t.data,n.textTransform),this.textBounds=$Fe(e,this.text,n,t)}return r})(),JFe=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(ZFe,eOe);case 2:return r.toUpperCase();default:return r}},ZFe=/(^|\s|:|-|\(|\))([a-z])/g,eOe=function(r,e,t){return r.length>0?e+t.toUpperCase():r},Yq=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(CA),Xq=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(CA),Jq=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=new XMLSerializer,i=g5(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(CA),Zq=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(CA),Uj=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(CA),tOe=[{type:15,flags:0,unit:"px",number:3}],rOe=[{type:16,flags:0,number:50}],nOe=function(r){return r.width>r.height?new Od(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Od(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},aOe=function(r){var e=r.type===sOe?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},z2="checkbox",K2="radio",sOe="password",XR=707406591,pk=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=aOe(n),(a.type===z2||a.type===K2)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=nOe(a.bounds)),a.type){case z2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=tOe;break;case K2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=rOe;break}return a}return e})(CA),eG=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e})(CA),tG=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(CA),rG=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=aG(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?hy(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):yd.TRANSPARENT,i=n.contentWindow.document.body?hy(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):yd.TRANSPARENT;a.backgroundColor=Wh(s)?Wh(i)?a.styles.backgroundColor:i:s}}catch{}return a}return e})(CA),iOe=["OL","UL","MENU"],yw=function(r,e,t,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,sG(a)&&a.data.trim().length>0)t.textNodes.push(new XFe(r,a,t.styles));else if(wp(a))if(cG(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return yw(r,l,t,n)});else{var i=nG(r,a);i.styles.isVisible()&&(oOe(a,i,n)?i.flags|=4:lOe(i.styles)&&(i.flags|=2),iOe.indexOf(a.tagName)!==-1&&(i.flags|=8),t.elements.push(i),a.slot,a.shadowRoot?yw(r,a.shadowRoot,i,n):!$2(a)&&!iG(a)&&!V2(a)&&yw(r,a,i,n))}},nG=function(r,e){return Hj(e)?new Yq(r,e):oG(e)?new Xq(r,e):iG(e)?new Jq(r,e):cOe(e)?new Zq(r,e):uOe(e)?new Uj(r,e):AOe(e)?new pk(r,e):V2(e)?new eG(r,e):$2(e)?new tG(r,e):lG(e)?new rG(r,e):new CA(r,e)},aG=function(r,e){var t=nG(r,e);return t.flags|=4,yw(r,e,t,t),t},oOe=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||gk(r)&&t.styles.isTransparent()},lOe=function(r){return r.isPositioned()||r.isFloating()},sG=function(r){return r.nodeType===Node.TEXT_NODE},wp=function(r){return r.nodeType===Node.ELEMENT_NODE},Qj=function(r){return wp(r)&&typeof r.style<"u"&&!vw(r)},vw=function(r){return typeof r.className=="object"},cOe=function(r){return r.tagName==="LI"},uOe=function(r){return r.tagName==="OL"},AOe=function(r){return r.tagName==="INPUT"},dOe=function(r){return r.tagName==="HTML"},iG=function(r){return r.tagName==="svg"},gk=function(r){return r.tagName==="BODY"},oG=function(r){return r.tagName==="CANVAS"},JR=function(r){return r.tagName==="VIDEO"},Hj=function(r){return r.tagName==="IMG"},lG=function(r){return r.tagName==="IFRAME"},ZR=function(r){return r.tagName==="STYLE"},hOe=function(r){return r.tagName==="SCRIPT"},$2=function(r){return r.tagName==="TEXTAREA"},V2=function(r){return r.tagName==="SELECT"},cG=function(r){return r.tagName==="SLOT"},eU=function(r){return r.tagName.indexOf("-")>0},fOe=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=t.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var i=[];return s&&a.forEach(function(l){var c=t.counters[l.counter];i.push(l.counter),c||(c=t.counters[l.counter]=[]),c.push(l.reset)}),i},r})(),tU={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rU={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},mOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ap=function(r,e,t,n,a,s){return r<e||r>t?Gy(r,a,s.length>0):n.integers.reduce(function(i,l,c){for(;r>=l;)r-=l,i+=n.values[c];return i},"")+s},uG=function(r,e,t,n){var a="";do t||r--,a=n(r)+a,r/=e;while(r*e>=e);return a},fs=function(r,e,t,n,a){var s=t-e+1;return(r<0?"-":"")+(uG(Math.abs(r),s,n,function(i){return xs(Math.floor(i%s)+e)})+a)},qf=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return uG(Math.abs(r),n,!1,function(a){return e[Math.floor(a%n)]})+t},fp=1,Th=2,kh=4,ty=8,rd=function(r,e,t,n,a,s){if(r<-9999||r>9999)return Gy(r,4,a.length>0);var i=Math.abs(r),l=a;if(i===0)return e[0]+l;for(var c=0;i>0&&c<=4;c++){var u=i%10;u===0&&Js(s,fp)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Js(s,Th)||u===1&&c===1&&Js(s,kh)&&r>100||u===1&&c>1&&Js(s,ty)?l=e[u]+(c>0?t[c-1]:"")+l:u===1&&c>0&&(l=t[c-1]+l),i=Math.floor(i/10)}return(r<0?n:"")+l},nU="",aU="",sU="",xE="",Gy=function(r,e,t){var n=t?". ":"",a=t?"":"",s=t?", ":"",i=t?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var l=fs(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return qf(r,"",a);case 6:return ap(r,1,3999,tU,3,n).toLowerCase();case 7:return ap(r,1,3999,tU,3,n);case 8:return fs(r,945,969,!1,n);case 9:return fs(r,97,122,!1,n);case 10:return fs(r,65,90,!1,n);case 11:return fs(r,1632,1641,!0,n);case 12:case 49:return ap(r,1,9999,rU,3,n);case 35:return ap(r,1,9999,rU,3,n).toLowerCase();case 13:return fs(r,2534,2543,!0,n);case 14:case 30:return fs(r,6112,6121,!0,n);case 15:return qf(r,"",a);case 16:return qf(r,"",a);case 17:case 48:return rd(r,"",nU,"",a,Th|kh|ty);case 47:return rd(r,"",aU,"",a,fp|Th|kh|ty);case 42:return rd(r,"",nU,"",a,Th|kh|ty);case 41:return rd(r,"",aU,"",a,fp|Th|kh|ty);case 26:return rd(r,"","",sU,a,0);case 25:return rd(r,"","",sU,a,fp|Th|kh);case 31:return rd(r,"","",xE,s,fp|Th|kh);case 33:return rd(r,"","",xE,s,0);case 32:return rd(r,"","",xE,s,fp|Th|kh);case 18:return fs(r,2406,2415,!0,n);case 20:return ap(r,1,19999,pOe,3,n);case 21:return fs(r,2790,2799,!0,n);case 22:return fs(r,2662,2671,!0,n);case 22:return ap(r,1,10999,mOe,3,n);case 23:return qf(r,"");case 24:return qf(r,"");case 27:return fs(r,3302,3311,!0,n);case 28:return qf(r,"",a);case 29:return qf(r,"",a);case 34:return fs(r,3792,3801,!0,n);case 37:return fs(r,6160,6169,!0,n);case 38:return fs(r,4160,4169,!0,n);case 39:return fs(r,2918,2927,!0,n);case 40:return fs(r,1776,1785,!0,n);case 43:return fs(r,3046,3055,!0,n);case 44:return fs(r,3174,3183,!0,n);case 45:return fs(r,3664,3673,!0,n);case 46:return fs(r,3872,3881,!0,n);default:return fs(r,48,57,!0,n)}},AG="data-html2canvas-ignore",iU=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new fOe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,a=gOe(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=vOe(a).then(function(){return bo(n,void 0,void 0,function(){var d,f;return no(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(NOe),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yOe(c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,f)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(wOe(document.doctype)+"<html></html>"),COe(this.referenceElement.ownerDocument,s,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},r.prototype.createElementClone=function(e){if(Mj(e,2))debugger;if(oG(e))return this.createCanvasClone(e);if(JR(e))return this.createVideoClone(e);if(ZR(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Hj(t)&&(Hj(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),eU(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return yE(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},r.prototype.appendChildNode=function(e,t,n){(!wp(t)||!hOe(t)&&!t.hasAttribute(AG)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!wp(t)||!ZR(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(wp(s)&&cG(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(l){return a.appendChildNode(t,l,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(sG(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&wp(e)&&(Qj(e)||vw(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&Qj(a)&&(this.clonedReferenceElement=a),gk(a)&&EOe(a);var c=this.counters.parse(new LR(this.context,s)),u=this.resolvePseudoContent(e,a,i,py.BEFORE);eU(e)&&(t=!0),JR(e)||this.cloneChildNodes(e,a,t),u&&a.insertBefore(u,a.firstChild);var d=this.resolvePseudoContent(e,a,l,py.AFTER);return d&&a.appendChild(d),this.counters.pop(c),(s&&(this.options.copyStyles||vw(e))&&!lG(e)||t)&&yE(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),($2(e)||V2(e))&&($2(a)||V2(a))&&(a.value=e.value),a}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,a){var s=this;if(n){var i=n.content,l=t.ownerDocument;if(!(!l||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new LR(this.context,n));var c=new cFe(this.context,n),u=l.createElement("html2canvaspseudoelement");yE(n,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(l.createTextNode(f.value));else if(f.type===22){var p=l.createElement("img");p.src=f.value,p.style.opacity="1",u.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(ta);m.length&&u.appendChild(l.createTextNode(e.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var y=f.values.filter(sg),g=y[0],v=y[1];if(g&&ta(g)){var w=s.counters.getCounterValue(g.value),S=v&&ta(v)?Lj.parse(s.context,v.value):3;u.appendChild(l.createTextNode(Gy(w,S,!1)))}}else if(f.name==="counters"){var C=f.values.filter(sg),g=C[0],j=C[1],v=C[2];if(g&&ta(g)){var T=s.counters.getCounterValues(g.value),L=v&&ta(v)?Lj.parse(s.context,v.value):3,I=j&&j.type===0?j.value:"",D=T.map(function(P){return Gy(P,L,!1)}).join(I);u.appendChild(l.createTextNode(D))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(l.createTextNode(IR(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(IR(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(f.value))}}),u.className=zj+" "+Kj;var d=a===py.BEFORE?" "+zj:" "+Kj;return vw(t)?t.className.baseValue+=d:t.className+=d,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),py;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(py||(py={}));var gOe=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(AG,"true"),r.body.appendChild(t),t},xOe=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},yOe=function(r){return Promise.all([].slice.call(r.images,0).map(xOe))},vOe=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},bOe=["all","d","content"],yE=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);bOe.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},wOe=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},COe=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},NOe=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},SOe=":before",BOe=":after",zj="___html2canvas___pseudoelement_before",Kj="___html2canvas___pseudoelement_after",oU=`{
    content: "" !important;
    display: none !important;
}`,EOe=function(r){jOe(r,"."+zj+SOe+oU+`
         .`+Kj+BOe+oU)},jOe=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},dG=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),_Oe=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(bE(e)||OOe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return bo(this,void 0,void 0,function(){var t,n,a,s,i=this;return no(this,function(l){switch(l.label){case 0:return t=dG.isSameOrigin(e),n=!vE(e)&&this._options.useCORS===!0&&Mi.SUPPORT_CORS_IMAGES&&!t,a=!vE(e)&&!t&&!bE(e)&&typeof this._options.proxy=="string"&&Mi.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!vE(e)&&!bE(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(DOe(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return c(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,i){var l=Mi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(p){return i(p)},!1),f.readAsDataURL(c.response)}else i("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),t._options.imageTimeout){var d=t._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+a)}}c.send()})},r})(),TOe=/^data:image\/svg\+xml/i,kOe=/^data:image\/.*;base64,/i,FOe=/^data:image\/.*/i,OOe=function(r){return Mi.SUPPORT_SVG_DRAWING||!POe(r)},vE=function(r){return FOe.test(r)},DOe=function(r){return kOe.test(r)},bE=function(r){return r.substr(0,4)==="blob"},POe=function(r){return r.substr(-3).toLowerCase()==="svg"||TOe.test(r)},Mt=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),sp=function(r,e,t){return new Mt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},Vb=(function(){function r(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return r.prototype.subdivide=function(e,t){var n=sp(this.start,this.startControl,e),a=sp(this.startControl,this.endControl,e),s=sp(this.endControl,this.end,e),i=sp(n,a,e),l=sp(a,s,e),c=sp(i,l,e);return t?new r(this.start,n,i,c):new r(c,l,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Nc=function(r){return r.type===1},IOe=(function(){function r(e){var t=e.styles,n=e.bounds,a=Zx(t.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],l=Zx(t.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],d=Zx(t.borderBottomRightRadius,n.width,n.height),f=d[0],p=d[1],m=Zx(t.borderBottomLeftRadius,n.width,n.height),y=m[0],g=m[1],v=[];v.push((s+c)/n.width),v.push((y+f)/n.width),v.push((i+g)/n.height),v.push((u+p)/n.height);var w=Math.max.apply(Math,v);w>1&&(s/=w,i/=w,c/=w,u/=w,f/=w,p/=w,y/=w,g/=w);var S=n.width-c,C=n.height-p,j=n.width-f,T=n.height-g,L=t.borderTopWidth,I=t.borderRightWidth,D=t.borderBottomWidth,k=t.borderLeftWidth,z=da(t.paddingTop,e.bounds.width),P=da(t.paddingRight,e.bounds.width),U=da(t.paddingBottom,e.bounds.width),M=da(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?_a(n.left+k/3,n.top+L/3,s-k/3,i-L/3,On.TOP_LEFT):new Mt(n.left+k/3,n.top+L/3),this.topRightBorderDoubleOuterBox=s>0||i>0?_a(n.left+S,n.top+L/3,c-I/3,u-L/3,On.TOP_RIGHT):new Mt(n.left+n.width-I/3,n.top+L/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?_a(n.left+j,n.top+C,f-I/3,p-D/3,On.BOTTOM_RIGHT):new Mt(n.left+n.width-I/3,n.top+n.height-D/3),this.bottomLeftBorderDoubleOuterBox=y>0||g>0?_a(n.left+k/3,n.top+T,y-k/3,g-D/3,On.BOTTOM_LEFT):new Mt(n.left+k/3,n.top+n.height-D/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?_a(n.left+k*2/3,n.top+L*2/3,s-k*2/3,i-L*2/3,On.TOP_LEFT):new Mt(n.left+k*2/3,n.top+L*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?_a(n.left+S,n.top+L*2/3,c-I*2/3,u-L*2/3,On.TOP_RIGHT):new Mt(n.left+n.width-I*2/3,n.top+L*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?_a(n.left+j,n.top+C,f-I*2/3,p-D*2/3,On.BOTTOM_RIGHT):new Mt(n.left+n.width-I*2/3,n.top+n.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||g>0?_a(n.left+k*2/3,n.top+T,y-k*2/3,g-D*2/3,On.BOTTOM_LEFT):new Mt(n.left+k*2/3,n.top+n.height-D*2/3),this.topLeftBorderStroke=s>0||i>0?_a(n.left+k/2,n.top+L/2,s-k/2,i-L/2,On.TOP_LEFT):new Mt(n.left+k/2,n.top+L/2),this.topRightBorderStroke=s>0||i>0?_a(n.left+S,n.top+L/2,c-I/2,u-L/2,On.TOP_RIGHT):new Mt(n.left+n.width-I/2,n.top+L/2),this.bottomRightBorderStroke=f>0||p>0?_a(n.left+j,n.top+C,f-I/2,p-D/2,On.BOTTOM_RIGHT):new Mt(n.left+n.width-I/2,n.top+n.height-D/2),this.bottomLeftBorderStroke=y>0||g>0?_a(n.left+k/2,n.top+T,y-k/2,g-D/2,On.BOTTOM_LEFT):new Mt(n.left+k/2,n.top+n.height-D/2),this.topLeftBorderBox=s>0||i>0?_a(n.left,n.top,s,i,On.TOP_LEFT):new Mt(n.left,n.top),this.topRightBorderBox=c>0||u>0?_a(n.left+S,n.top,c,u,On.TOP_RIGHT):new Mt(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||p>0?_a(n.left+j,n.top+C,f,p,On.BOTTOM_RIGHT):new Mt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||g>0?_a(n.left,n.top+T,y,g,On.BOTTOM_LEFT):new Mt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?_a(n.left+k,n.top+L,Math.max(0,s-k),Math.max(0,i-L),On.TOP_LEFT):new Mt(n.left+k,n.top+L),this.topRightPaddingBox=c>0||u>0?_a(n.left+Math.min(S,n.width-I),n.top+L,S>n.width+I?0:Math.max(0,c-I),Math.max(0,u-L),On.TOP_RIGHT):new Mt(n.left+n.width-I,n.top+L),this.bottomRightPaddingBox=f>0||p>0?_a(n.left+Math.min(j,n.width-k),n.top+Math.min(C,n.height-D),Math.max(0,f-I),Math.max(0,p-D),On.BOTTOM_RIGHT):new Mt(n.left+n.width-I,n.top+n.height-D),this.bottomLeftPaddingBox=y>0||g>0?_a(n.left+k,n.top+Math.min(T,n.height-D),Math.max(0,y-k),Math.max(0,g-D),On.BOTTOM_LEFT):new Mt(n.left+k,n.top+n.height-D),this.topLeftContentBox=s>0||i>0?_a(n.left+k+M,n.top+L+z,Math.max(0,s-(k+M)),Math.max(0,i-(L+z)),On.TOP_LEFT):new Mt(n.left+k+M,n.top+L+z),this.topRightContentBox=c>0||u>0?_a(n.left+Math.min(S,n.width+k+M),n.top+L+z,S>n.width+k+M?0:c-k+M,u-(L+z),On.TOP_RIGHT):new Mt(n.left+n.width-(I+P),n.top+L+z),this.bottomRightContentBox=f>0||p>0?_a(n.left+Math.min(j,n.width-(k+M)),n.top+Math.min(C,n.height+L+z),Math.max(0,f-(I+P)),p-(D+U),On.BOTTOM_RIGHT):new Mt(n.left+n.width-(I+P),n.top+n.height-(D+U)),this.bottomLeftContentBox=y>0||g>0?_a(n.left+k+M,n.top+T,Math.max(0,y-(k+M)),g-(D+U),On.BOTTOM_LEFT):new Mt(n.left+k+M,n.top+n.height-(D+U))}return r})(),On;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(On||(On={}));var _a=function(r,e,t,n,a){var s=4*((Math.sqrt(2)-1)/3),i=t*s,l=n*s,c=r+t,u=e+n;switch(a){case On.TOP_LEFT:return new Vb(new Mt(r,u),new Mt(r,u-l),new Mt(c-i,e),new Mt(c,e));case On.TOP_RIGHT:return new Vb(new Mt(r,e),new Mt(r+i,e),new Mt(c,u-l),new Mt(c,u));case On.BOTTOM_RIGHT:return new Vb(new Mt(c,e),new Mt(c,e+l),new Mt(r+i,u),new Mt(r,u));case On.BOTTOM_LEFT:default:return new Vb(new Mt(c,u),new Mt(c-i,u),new Mt(r,e+l),new Mt(r,e))}},q2=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},LOe=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},G2=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},MOe=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),qb=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),ROe=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),UOe=function(r){return r.type===0},hG=function(r){return r.type===1},QOe=function(r){return r.type===2},lU=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},HOe=function(r,e,t,n,a){return r.map(function(s,i){switch(i){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+a);case 3:return s.add(e,t+a)}return s})},fG=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),mG=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new IOe(this.container),this.container.styles.opacity<1&&this.effects.push(new ROe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new MOe(n,a,s))}if(this.container.styles.overflowX!==0){var i=q2(this.curves),l=G2(this.curves);lU(i,l)?this.effects.push(new qb(i,6)):(this.effects.push(new qb(i,2)),this.effects.push(new qb(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!hG(c)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=q2(n.curves),l=G2(n.curves);lU(i,l)||a.unshift(new qb(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Js(c.target,e)})},r})(),$j=function(r,e,t,n){r.container.elements.forEach(function(a){var s=Js(a.flags,4),i=Js(a.flags,2),l=new mG(a,r);Js(a.styles.display,2048)&&n.push(l);var c=Js(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?t:e,d=new fG(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var p=0;u.negativeZIndex.some(function(y,g){return f>y.element.container.styles.zIndex.order?(p=g,!1):p>0}),u.negativeZIndex.splice(p,0,d)}else if(f>0){var m=0;u.positiveZIndex.some(function(y,g){return f>=y.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),u.positiveZIndex.splice(m,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);$j(l,d,s?d:t,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),$j(l,e,t,c);Js(a.flags,8)&&pG(a,c)})},pG=function(r,e){for(var t=r instanceof Uj?r.start:1,n=r instanceof Uj?r.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof Zq&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Gy(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},zOe=function(r){var e=new mG(r,null),t=new fG(e),n=[];return $j(e,t,t,n),pG(e.container,n),t},cU=function(r,e){switch(e){case 0:return Ec(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Ec(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Ec(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);default:return Ec(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},KOe=function(r,e){switch(e){case 0:return Ec(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Ec(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Ec(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);default:return Ec(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},$Oe=function(r,e){switch(e){case 0:return Ec(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Ec(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Ec(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);default:return Ec(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},VOe=function(r,e){switch(e){case 0:return Gb(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Gb(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Gb(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);default:return Gb(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Gb=function(r,e){var t=[];return Nc(r)?t.push(r.subdivide(.5,!1)):t.push(r),Nc(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ec=function(r,e,t,n){var a=[];return Nc(r)?a.push(r.subdivide(.5,!1)):a.push(r),Nc(t)?a.push(t.subdivide(.5,!0)):a.push(t),Nc(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Nc(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},gG=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},W2=function(r){var e=r.styles,t=r.bounds,n=da(e.paddingLeft,t.width),a=da(e.paddingRight,t.width),s=da(e.paddingTop,t.width),i=da(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+i))},qOe=function(r,e){return r===0?e.bounds:r===2?W2(e):gG(e)},GOe=function(r,e){return r===0?e.bounds:r===2?W2(e):gG(e)},wE=function(r,e,t){var n=qOe(mp(r.styles.backgroundOrigin,e),r),a=GOe(mp(r.styles.backgroundClip,e),r),s=WOe(mp(r.styles.backgroundSize,e),t,n),i=s[0],l=s[1],c=Zx(mp(r.styles.backgroundPosition,e),n.width-i,n.height-l),u=YOe(mp(r.styles.backgroundRepeat,e),c,s,n,a),d=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[u,d,f,i,l]},ip=function(r){return ta(r)&&r.value===Pp.AUTO},Wb=function(r){return typeof r=="number"},WOe=function(r,e,t){var n=e[0],a=e[1],s=e[2],i=r[0],l=r[1];if(!i)return[0,0];if(Ps(i)&&l&&Ps(l))return[da(i,t.width),da(l,t.height)];var c=Wb(s);if(ta(i)&&(i.value===Pp.CONTAIN||i.value===Pp.COVER)){if(Wb(s)){var u=t.width/t.height;return u<s!=(i.value===Pp.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=Wb(n),f=Wb(a),p=d||f;if(ip(i)&&(!l||ip(l))){if(d&&f)return[n,a];if(!c&&!p)return[t.width,t.height];if(p&&c){var m=d?n:a*s,y=f?a:n/s;return[m,y]}var g=d?n:t.width,v=f?a:t.height;return[g,v]}if(c){var w=0,S=0;return Ps(i)?w=da(i,t.width):Ps(l)&&(S=da(l,t.height)),ip(i)?w=S*s:(!l||ip(l))&&(S=w/s),[w,S]}var C=null,j=null;if(Ps(i)?C=da(i,t.width):l&&Ps(l)&&(j=da(l,t.height)),C!==null&&(!l||ip(l))&&(j=d&&f?C/n*a:t.height),j!==null&&ip(i)&&(C=d&&f?j/a*n:t.width),C!==null&&j!==null)return[C,j];throw new Error("Unable to calculate background-size for element")},mp=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},YOe=function(r,e,t,n,a){var s=e[0],i=e[1],l=t[0],c=t[1];switch(r){case 2:return[new Mt(Math.round(n.left),Math.round(n.top+i)),new Mt(Math.round(n.left+n.width),Math.round(n.top+i)),new Mt(Math.round(n.left+n.width),Math.round(c+n.top+i)),new Mt(Math.round(n.left),Math.round(c+n.top+i))];case 3:return[new Mt(Math.round(n.left+s),Math.round(n.top)),new Mt(Math.round(n.left+s+l),Math.round(n.top)),new Mt(Math.round(n.left+s+l),Math.round(n.height+n.top)),new Mt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Mt(Math.round(n.left+s),Math.round(n.top+i)),new Mt(Math.round(n.left+s+l),Math.round(n.top+i)),new Mt(Math.round(n.left+s+l),Math.round(n.top+i+c)),new Mt(Math.round(n.left+s),Math.round(n.top+i+c))];default:return[new Mt(Math.round(a.left),Math.round(a.top)),new Mt(Math.round(a.left+a.width),Math.round(a.top)),new Mt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Mt(Math.round(a.left),Math.round(a.height+a.top))]}},XOe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",uU="Hidden Text",JOe=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=XOe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(uU)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(uU)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:l,middle:c}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),xG=(function(){function r(e,t){this.context=e,this.options=t}return r})(),ZOe=1e4,eDe=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new JOe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),QOe(t)&&(this.ctx.globalAlpha=t.opacity),UOe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),hG(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return bo(this,void 0,void 0,function(){var n;return no(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return bo(this,void 0,void 0,function(){return no(this,function(n){switch(n.label){case 0:if(Js(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var i=mk(t.text);i.reduce(function(l,c){return s.ctx.fillText(c,l,t.bounds.top+a),l+s.ctx.measureText(c).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=sDe(t.fontFamily).join(", "),s=Uv(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(t,n){return bo(this,void 0,void 0,function(){var a,s,i,l,c,u,d,f,p=this;return no(this,function(m){return a=this.createFontStyle(n),s=a[0],i=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(i,l),u=c.baseline,d=c.middle,f=n.paintOrder,t.textBounds.forEach(function(y){f.forEach(function(g){switch(g){case 0:p.ctx.fillStyle=ui(n.color),p.renderTextWithLetterSpacing(y,n.letterSpacing,u);var v=n.textShadow;v.length&&y.text.trim().length&&(v.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=ui(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(y,n.letterSpacing,u)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=ui(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+u),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+d),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=ui(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+u)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=W2(t),i=G2(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return bo(this,void 0,void 0,function(){var n,a,s,i,l,c,S,S,u,d,f,p,j,m,y,T,g,v,w,S,C,j,T;return no(this,function(L){switch(L.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,s=n.styles,i=0,l=n.textNodes,L.label=1;case 1:return i<l.length?(c=l[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:L.sent(),L.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof Yq))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return S=L.sent(),this.renderReplacedElement(n,a,S),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Xq&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Jq))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return S=L.sent(),this.renderReplacedElement(n,a,S),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof rG&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=L.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),L.label=14;case 14:if(n instanceof pk&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===z2?n.checked&&(this.ctx.save(),this.path([new Mt(n.bounds.left+f*.39363,n.bounds.top+f*.79),new Mt(n.bounds.left+f*.16,n.bounds.top+f*.5549),new Mt(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new Mt(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new Mt(n.bounds.left+f*.72983,n.bounds.top+f*.23),new Mt(n.bounds.left+f*.84,n.bounds.top+f*.34085),new Mt(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=ui(XR),this.ctx.fill(),this.ctx.restore()):n.type===K2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ui(XR),this.ctx.fill(),this.ctx.restore())),tDe(n)&&n.value.length){switch(p=this.createFontStyle(s),j=p[0],m=p[1],y=this.fontMetrics.getMetrics(j,m).baseline,this.ctx.font=j,this.ctx.fillStyle=ui(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nDe(n.styles.textAlign),T=W2(n),g=0,n.styles.textAlign){case 1:g+=T.width/2;break;case 2:g+=T.width;break}v=T.add(g,0,0,-T.height/2+1),this.ctx.save(),this.path([new Mt(T.left,T.top),new Mt(T.left+T.width,T.top),new Mt(T.left+T.width,T.top+T.height),new Mt(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new my(n.value,v),s.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Js(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];S=void 0,C=w.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return S=L.sent(),this.ctx.drawImage(S,n.bounds.left-(S.width+10),n.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(j=this.createFontStyle(s)[0],this.ctx.font=j,this.ctx.fillStyle=ui(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new Od(n.bounds.left,n.bounds.top+da(n.styles.paddingTop,n.bounds.width),n.bounds.width,DR(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new my(t.listValue,T),s.letterSpacing,DR(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return bo(this,void 0,void 0,function(){var n,a,w,s,i,w,l,c,w,u,d,w,f,p,w,m,y,w,g,v,w;return no(this,function(S){switch(S.label){case 0:if(Js(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:S.sent(),n=0,a=t.negativeZIndex,S.label=2;case 2:return n<a.length?(w=a[n],[4,this.renderStack(w)]):[3,5];case 3:S.sent(),S.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:S.sent(),s=0,i=t.nonInlineLevel,S.label=7;case 7:return s<i.length?(w=i[s],[4,this.renderNode(w)]):[3,10];case 8:S.sent(),S.label=9;case 9:return s++,[3,7];case 10:l=0,c=t.nonPositionedFloats,S.label=11;case 11:return l<c.length?(w=c[l],[4,this.renderStack(w)]):[3,14];case 12:S.sent(),S.label=13;case 13:return l++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,S.label=15;case 15:return u<d.length?(w=d[u],[4,this.renderStack(w)]):[3,18];case 16:S.sent(),S.label=17;case 17:return u++,[3,15];case 18:f=0,p=t.inlineLevel,S.label=19;case 19:return f<p.length?(w=p[f],[4,this.renderNode(w)]):[3,22];case 20:S.sent(),S.label=21;case 21:return f++,[3,19];case 22:m=0,y=t.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return m<y.length?(w=y[m],[4,this.renderStack(w)]):[3,26];case 24:S.sent(),S.label=25;case 25:return m++,[3,23];case 26:g=0,v=t.positiveZIndex,S.label=27;case 27:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,30];case 28:S.sent(),S.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,s){var i=Nc(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),Nc(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(t,n,a){var s;if(t.width===n&&t.height===a)return t;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=i.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(t,0,0,t.width,t.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(t){return bo(this,void 0,void 0,function(){var n,a,s,i,l,c;return no(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,a=function(d){var f,p,m,z,W,ee,M,q,D,y,z,W,ee,M,q,g,v,w,S,C,j,T,L,I,D,k,z,P,U,M,q,ae,W,ee,re,pe,Se,ne,F,Q,K,V;return no(this,function(J){switch(J.label){case 0:if(d.type!==0)return[3,5];f=void 0,p=d.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return f=J.sent(),[3,4];case 3:return J.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(m=wE(t,n,[f.width,f.height,f.width/f.height]),z=m[0],W=m[1],ee=m[2],M=m[3],q=m[4],D=s.ctx.createPattern(s.resizeImage(f,M,q),"repeat"),s.renderRepeat(z,D,W,ee)),[3,6];case 5:U3e(d)?(y=wE(t,n,[null,null,null]),z=y[0],W=y[1],ee=y[2],M=y[3],q=y[4],g=P3e(d.angle,M,q),v=g[0],w=g[1],S=g[2],C=g[3],j=g[4],T=document.createElement("canvas"),T.width=M,T.height=q,L=T.getContext("2d"),I=L.createLinearGradient(w,C,S,j),FR(d.stops,v).forEach(function(oe){return I.addColorStop(oe.stop,ui(oe.color))}),L.fillStyle=I,L.fillRect(0,0,M,q),M>0&&q>0&&(D=s.ctx.createPattern(T,"repeat"),s.renderRepeat(z,D,W,ee))):Q3e(d)&&(k=wE(t,n,[null,null,null]),z=k[0],P=k[1],U=k[2],M=k[3],q=k[4],ae=d.position.length===0?[dk]:d.position,W=da(ae[0],M),ee=da(ae[ae.length-1],q),re=I3e(d,W,ee,M,q),pe=re[0],Se=re[1],pe>0&&Se>0&&(ne=s.ctx.createRadialGradient(P+W,U+ee,0,P+W,U+ee,pe),FR(d.stops,pe*2).forEach(function(oe){return ne.addColorStop(oe.stop,ui(oe.color))}),s.path(z),s.ctx.fillStyle=ne,pe!==Se?(F=t.bounds.left+.5*t.bounds.width,Q=t.bounds.top+.5*t.bounds.height,K=Se/pe,V=1/K,s.ctx.save(),s.ctx.translate(F,Q),s.ctx.transform(1,0,0,K,0,0),s.ctx.translate(-F,-Q),s.ctx.fillRect(P,V*(U-Q)+Q,M,q*V),s.ctx.restore()):s.ctx.fill())),J.label=6;case 6:return n--,[2]}})},s=this,i=0,l=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<l.length?(c=l[i],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return bo(this,void 0,void 0,function(){return no(this,function(s){return this.path(cU(a,n)),this.ctx.fillStyle=ui(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,s){return bo(this,void 0,void 0,function(){var i,l;return no(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return i=KOe(s,a),this.path(i),this.ctx.fillStyle=ui(t),this.ctx.fill(),l=$Oe(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return bo(this,void 0,void 0,function(){var n,a,s,i,l,c,u,d,f=this;return no(this,function(p){switch(p.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!Wh(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=rDe(mp(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Wh(n.backgroundColor)||(this.ctx.fillStyle=ui(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var y=q2(t.curves),g=m.inset?0:ZOe,v=HOe(y,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(y),f.ctx.clip(),f.mask(v)):(f.mask(y),f.ctx.clip(),f.path(v)),f.ctx.shadowOffsetX=m.offsetX.number+g,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=ui(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?ui(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:l=0,c=0,u=s,p.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!Wh(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,t.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,t.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,t.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,s,i){return bo(this,void 0,void 0,function(){var l,c,u,d,f,p,m,y,g,v,w,S,C,j,T,L,T,L;return no(this,function(I){return this.ctx.save(),l=VOe(s,a),c=cU(s,a),i===2&&(this.path(c),this.ctx.clip()),Nc(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),Nc(c[1])?(f=c[1].end.x,p=c[1].end.y):(f=c[1].x,p=c[1].y),a===0||a===2?m=Math.abs(u-f):m=Math.abs(d-p),this.ctx.beginPath(),i===3?this.formatPath(l):this.formatPath(c.slice(0,2)),y=n<3?n*3:n*2,g=n<3?n*2:n,i===3&&(y=n,g=n),v=!0,m<=y*2?v=!1:m<=y*2+g?(w=m/(2*y+g),y*=w,g*=w):(S=Math.floor((m+g)/(y+g)),C=(m-S*y)/(S-1),j=(m-(S+1)*y)/S,g=j<=0||Math.abs(g-C)<Math.abs(g-j)?C:j),v&&(i===3?this.ctx.setLineDash([0,y+g]):this.ctx.setLineDash([y,g])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ui(t),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(Nc(c[0])&&(T=c[3],L=c[0],this.ctx.beginPath(),this.formatPath([new Mt(T.end.x,T.end.y),new Mt(L.start.x,L.start.y)]),this.ctx.stroke()),Nc(c[1])&&(T=c[1],L=c[2],this.ctx.beginPath(),this.formatPath([new Mt(T.end.x,T.end.y),new Mt(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return bo(this,void 0,void 0,function(){var n;return no(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ui(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=zOe(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(xG),tDe=function(r){return r instanceof tG||r instanceof eG?!0:r instanceof pk&&r.type!==K2&&r.type!==z2},rDe=function(r,e){switch(r){case 0:return q2(e);case 2:return LOe(e);default:return G2(e)}},nDe=function(r){switch(r){case 1:return"center";case 2:return"right";default:return"left"}},aDe=["-apple-system","system-ui"],sDe=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return aDe.indexOf(e)===-1}):r},iDe=(function(r){_u(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return bo(this,void 0,void 0,function(){var n,a;return no(this,function(s){switch(s.label){case 0:return n=Rj(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,oDe(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ui(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(xG),oDe=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},lDe=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Eb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Eb([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Eb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Eb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),cDe=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new lDe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new _Oe(this,e)}return r.instanceCount=1,r})(),xk=function(r,e){return e===void 0&&(e={}),uDe(r,e)};typeof window<"u"&&dG.setContext(window);var uDe=function(r,e){return bo(void 0,void 0,void 0,function(){var t,n,a,s,i,l,c,u,d,f,p,m,y,g,v,w,S,C,j,T,I,L,I,D,k,z,P,U,M,q,ae,W,ee,re,pe,Se,ne,F,Q,K;return no(this,function(V){switch(V.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(D=e.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(z=e.useCORS)!==null&&z!==void 0?z:!1},s=Nj({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},a),i={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(M=e.windowHeight)!==null&&M!==void 0?M:n.innerHeight,scrollX:(q=e.scrollX)!==null&&q!==void 0?q:n.pageXOffset,scrollY:(ae=e.scrollY)!==null&&ae!==void 0?ae:n.pageYOffset},l=new Od(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),c=new cDe(s,l),u=(W=e.foreignObjectRendering)!==null&&W!==void 0?W:!1,d={allowTaint:(ee=e.allowTaint)!==null&&ee!==void 0?ee:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),f=new iU(c,r,d),p=f.clonedReferenceElement,p?[4,f.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=V.sent(),y=gk(p)||dOe(p)?H_e(p.ownerDocument):g5(c,p),g=y.width,v=y.height,w=y.left,S=y.top,C=ADe(c,p,e.backgroundColor),j={canvas:e.canvas,backgroundColor:C,scale:(pe=(re=e.scale)!==null&&re!==void 0?re:n.devicePixelRatio)!==null&&pe!==void 0?pe:1,x:((Se=e.x)!==null&&Se!==void 0?Se:0)+w,y:((ne=e.y)!==null&&ne!==void 0?ne:0)+S,width:(F=e.width)!==null&&F!==void 0?F:Math.ceil(g),height:(Q=e.height)!==null&&Q!==void 0?Q:Math.ceil(v)},u?(c.logger.debug("Document cloned, using foreign object rendering"),I=new iDe(c,j),[4,I.render(p)]):[3,3];case 2:return T=V.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+w+","+S+" with size "+g+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),L=aG(c,p),C===L.styles.backgroundColor&&(L.styles.backgroundColor=yd.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),I=new eDe(c,j),[4,I.render(L)];case 4:T=V.sent(),V.label=5;case 5:return(!((K=e.removeContainer)!==null&&K!==void 0)||K)&&(iU.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,T]}})})},ADe=function(r,e,t){var n=e.ownerDocument,a=n.documentElement?hy(r,getComputedStyle(n.documentElement).backgroundColor):yd.TRANSPARENT,s=n.body?hy(r,getComputedStyle(n.body).backgroundColor):yd.TRANSPARENT,i=typeof t=="string"?hy(r,t):t===null?yd.TRANSPARENT:4294967295;return e===n.documentElement?Wh(a)?Wh(s)?i:s:a:i};const dDe=Object.freeze(Object.defineProperty({__proto__:null,default:xk},Symbol.toStringTag,{value:"Module"}));function Qn(r){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(r)}var Nu=Uint8Array,Ql=Uint16Array,yk=Int32Array,vk=new Nu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bk=new Nu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),AU=new Nu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yG=function(r,e){for(var t=new Ql(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new yk(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},vG=yG(vk,2),hDe=vG.b,Vj=vG.r;hDe[28]=258,Vj[258]=28;var fDe=yG(bk,0),dU=fDe.r,qj=new Ql(32768);for(var va=0;va<32768;++va){var jh=(va&43690)>>1|(va&21845)<<1;jh=(jh&52428)>>2|(jh&13107)<<2,jh=(jh&61680)>>4|(jh&3855)<<4,qj[va]=((jh&65280)>>8|(jh&255)<<8)>>1}var gy=(function(r,e,t){for(var n=r.length,a=0,s=new Ql(e);a<n;++a)r[a]&&++s[r[a]-1];var i=new Ql(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(t){l=new Ql(1<<e);var c=15-e;for(a=0;a<n;++a)if(r[a])for(var u=a<<4|r[a],d=e-r[a],f=i[r[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)l[qj[f]>>c]=u}else for(l=new Ql(n),a=0;a<n;++a)r[a]&&(l[a]=qj[i[r[a]-1]++]>>15-r[a]);return l}),Q0=new Nu(288);for(var va=0;va<144;++va)Q0[va]=8;for(var va=144;va<256;++va)Q0[va]=9;for(var va=256;va<280;++va)Q0[va]=7;for(var va=280;va<288;++va)Q0[va]=8;var Y2=new Nu(32);for(var va=0;va<32;++va)Y2[va]=5;var mDe=gy(Q0,9,0),pDe=gy(Y2,5,0),bG=function(r){return(r+7)/8|0},gDe=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Nu(r.subarray(e,t))},nd=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Rx=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},CE=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,s=t.slice();if(!a)return{t:CG,l:0};if(a==1){var i=new Nu(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(T,L){return T.f-L.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],u=0,d=1,f=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=t[t[u].f<t[f].f?u++:f++],c=t[u!=d&&t[u].f<t[f].f?u++:f++],t[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var m=new Ql(p+1),y=Gj(t[d-1],m,0);if(y>e){var n=0,g=0,v=y-e,w=1<<v;for(s.sort(function(L,I){return m[I.s]-m[L.s]||L.f-I.f});n<a;++n){var S=s[n].s;if(m[S]>e)g+=w-(1<<y-m[S]),m[S]=e;else break}for(g>>=v;g>0;){var C=s[n].s;m[C]<e?g-=1<<e-m[C]++-1:++n}for(;n>=0&&g;--n){var j=s[n].s;m[j]==e&&(--m[j],++g)}y=e}return{t:new Nu(m),l:y}},Gj=function(r,e,t){return r.s==-1?Math.max(Gj(r.l,e,t+1),Gj(r.r,e,t+1)):e[r.s]=t},hU=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ql(++e),n=0,a=r[0],s=1,i=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=r[l]}return{c:t.subarray(0,n),n:e}},Ux=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},wG=function(r,e,t){var n=t.length,a=bG(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<n;++s)r[a+s+4]=t[s];return(a+4+n)*8},fU=function(r,e,t,n,a,s,i,l,c,u,d){nd(e,d++,t),++a[256];for(var f=CE(a,15),p=f.t,m=f.l,y=CE(s,15),g=y.t,v=y.l,w=hU(p),S=w.c,C=w.n,j=hU(g),T=j.c,L=j.n,I=new Ql(19),D=0;D<S.length;++D)++I[S[D]&31];for(var D=0;D<T.length;++D)++I[T[D]&31];for(var k=CE(I,7),z=k.t,P=k.l,U=19;U>4&&!z[AU[U-1]];--U);var M=u+5<<3,q=Ux(a,Q0)+Ux(s,Y2)+i,ae=Ux(a,p)+Ux(s,g)+i+14+3*U+Ux(I,z)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&M<=q&&M<=ae)return wG(e,d,r.subarray(c,c+u));var W,ee,re,pe;if(nd(e,d,1+(ae<q)),d+=2,ae<q){W=gy(p,m,0),ee=p,re=gy(g,v,0),pe=g;var Se=gy(z,P,0);nd(e,d,C-257),nd(e,d+5,L-1),nd(e,d+10,U-4),d+=14;for(var D=0;D<U;++D)nd(e,d+3*D,z[AU[D]]);d+=3*U;for(var ne=[S,T],F=0;F<2;++F)for(var Q=ne[F],D=0;D<Q.length;++D){var K=Q[D]&31;nd(e,d,Se[K]),d+=z[K],K>15&&(nd(e,d,Q[D]>>5&127),d+=Q[D]>>12)}}else W=mDe,ee=Q0,re=pDe,pe=Y2;for(var D=0;D<l;++D){var V=n[D];if(V>255){var K=V>>18&31;Rx(e,d,W[K+257]),d+=ee[K+257],K>7&&(nd(e,d,V>>23&31),d+=vk[K]);var J=V&31;Rx(e,d,re[J]),d+=pe[J],J>3&&(Rx(e,d,V>>5&8191),d+=bk[J])}else Rx(e,d,W[V]),d+=ee[V]}return Rx(e,d,W[256]),d+ee[256]},xDe=new yk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CG=new Nu(0),yDe=function(r,e,t,n,a,s){var i=s.z||r.length,l=new Nu(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var f=xDe[e-1],p=f>>13,m=f&8191,y=(1<<t)-1,g=s.p||new Ql(32768),v=s.h||new Ql(y+1),w=Math.ceil(t/3),S=2*w,C=function(Pe){return(r[Pe]^r[Pe+1]<<w^r[Pe+2]<<S)&y},j=new yk(25e3),T=new Ql(288),L=new Ql(32),I=0,D=0,k=s.i||0,z=0,P=s.w||0,U=0;k+2<i;++k){var M=C(k),q=k&32767,ae=v[M];if(g[q]=ae,v[M]=q,P<=k){var W=i-k;if((I>7e3||z>24576)&&(W>423||!u)){d=fU(r,c,0,j,T,L,D,z,U,k-U,d),z=I=D=0,U=k;for(var ee=0;ee<286;++ee)T[ee]=0;for(var ee=0;ee<30;++ee)L[ee]=0}var re=2,pe=0,Se=m,ne=q-ae&32767;if(W>2&&M==C(k-ne))for(var F=Math.min(p,W)-1,Q=Math.min(32767,k),K=Math.min(258,W);ne<=Q&&--Se&&q!=ae;){if(r[k+re]==r[k+re-ne]){for(var V=0;V<K&&r[k+V]==r[k+V-ne];++V);if(V>re){if(re=V,pe=ne,V>F)break;for(var J=Math.min(ne,V-2),oe=0,ee=0;ee<J;++ee){var Ne=k-ne+ee&32767,ue=g[Ne],xe=Ne-ue&32767;xe>oe&&(oe=xe,ae=Ne)}}}q=ae,ae=g[q],ne+=q-ae&32767}if(pe){j[z++]=268435456|Vj[re]<<18|dU[pe];var Oe=Vj[re]&31,Be=dU[pe]&31;D+=vk[Oe]+bk[Be],++T[257+Oe],++L[Be],P=k+re,++I}else j[z++]=r[k],++T[r[k]]}}for(k=Math.max(k,P);k<i;++k)j[z++]=r[k],++T[r[k]];d=fU(r,c,u,j,T,L,D,z,U,k-U,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=v,s.p=g,s.i=k,s.w=P)}else{for(var k=s.w||0;k<i+u;k+=65535){var qe=k+65535;qe>=i&&(c[d/8|0]=u,qe=i),d=wG(c,d+1,r.subarray(k,qe))}s.i=i}return gDe(l,0,n+bG(d)+a)},NG=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,s=t.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},vDe=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new Nu(s.length+r.length);i.set(s),i.set(r,s.length),r=i,a.w=s.length}return yDe(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},SG=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},bDe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=NG();a.p(e.dictionary),SG(r,2,a.d())}};function Wj(r,e){e||(e={});var t=NG();t.p(r);var n=vDe(r,e,e.dictionary?6:2,4);return bDe(n,e),SG(n,n.length-4,t.d()),n}var wDe=typeof TextDecoder<"u"&&new TextDecoder,CDe=0;try{wDe.decode(CG,{stream:!0}),CDe=1}catch{}function NDe(r){if(Array.isArray(r))return r}function SDe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function mU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function BDe(r,e){if(r){if(typeof r=="string")return mU(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mU(r,e):void 0}}function EDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(r,e){return NDe(r)||SDe(r,e)||BDe(r,e)||EDe()}function gU(r,e="utf8"){return new TextDecoder(e).decode(r)}const jDe=new TextEncoder;function _De(r){return jDe.encode(r)}const TDe=1024*8,kDe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),NE={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class wk{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=TDe,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,s=e.byteLength-a;let i=a;(ArrayBuffer.isView(e)||e instanceof wk)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=NE[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===kDe&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new NE[t](l.buffer);return this.offset+=n,c.reverse(),c}const i=new NE[t](s);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return gU(this.readBytes(e))}decodeText(e=1,t="utf8"){return gU(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(_De(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Fg(r){let e=r.length;for(;--e>=0;)r[e]=0}const FDe=3,ODe=258,BG=29,DDe=256,PDe=DDe+1+BG,EG=30,IDe=512,LDe=new Array((PDe+2)*2);Fg(LDe);const MDe=new Array(EG*2);Fg(MDe);const RDe=new Array(IDe);Fg(RDe);const UDe=new Array(ODe-FDe+1);Fg(UDe);const QDe=new Array(BG);Fg(QDe);const HDe=new Array(EG);Fg(HDe);const zDe=(r,e,t,n)=>{let a=r&65535|0,s=r>>>16&65535|0,i=0;for(;t!==0;){i=t>2e3?2e3:t,t-=i;do a=a+e[n++]|0,s=s+a|0;while(--i);a%=65521,s%=65521}return a|s<<16|0};var Yj=zDe;const KDe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},$De=new Uint32Array(KDe()),VDe=(r,e,t,n)=>{const a=$De,s=n+t;r^=-1;for(let i=n;i<s;i++)r=r>>>8^a[(r^e[i])&255];return r^-1};var aA=VDe,Xj={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jG={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const qDe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var GDe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)qDe(t,n)&&(r[n]=t[n])}}return r},WDe=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,a=0,s=r.length;n<s;n++){let i=r[n];t.set(i,a),a+=i.length}return t},_G={assign:GDe,flattenChunks:WDe};let TG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TG=!1}const Wy=new Uint8Array(256);for(let r=0;r<256;r++)Wy[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Wy[254]=Wy[254]=1;var YDe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,s,i=r.length,l=0;for(a=0;a<i;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const XDe=(r,e)=>{if(e<65534&&r.subarray&&TG)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var JDe=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a;const s=new Array(t*2);for(a=0,n=0;n<t;){let i=r[n++];if(i<128){s[a++]=i;continue}let l=Wy[i];if(l>4){s[a++]=65533,n+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&n<t;)i=i<<6|r[n++]&63,l--;if(l>1){s[a++]=65533;continue}i<65536?s[a++]=i:(i-=65536,s[a++]=55296|i>>10&1023,s[a++]=56320|i&1023)}return XDe(s,a)},ZDe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Wy[r[t]]>e?t:e},Jj={string2buf:YDe,buf2string:JDe,utf8border:ZDe};function ePe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tPe=ePe;const Yb=16209,rPe=16191;var nPe=function(e,t){let n,a,s,i,l,c,u,d,f,p,m,y,g,v,w,S,C,j,T,L,I,D,k,z;const P=e.state;n=e.next_in,k=e.input,a=n+(e.avail_in-5),s=e.next_out,z=e.output,i=s-(t-e.avail_out),l=s+(e.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,p=P.window,m=P.hold,y=P.bits,g=P.lencode,v=P.distcode,w=(1<<P.lenbits)-1,S=(1<<P.distbits)-1;e:do{y<15&&(m+=k[n++]<<y,y+=8,m+=k[n++]<<y,y+=8),C=g[m&w];t:for(;;){if(j=C>>>24,m>>>=j,y-=j,j=C>>>16&255,j===0)z[s++]=C&65535;else if(j&16){T=C&65535,j&=15,j&&(y<j&&(m+=k[n++]<<y,y+=8),T+=m&(1<<j)-1,m>>>=j,y-=j),y<15&&(m+=k[n++]<<y,y+=8,m+=k[n++]<<y,y+=8),C=v[m&S];r:for(;;){if(j=C>>>24,m>>>=j,y-=j,j=C>>>16&255,j&16){if(L=C&65535,j&=15,y<j&&(m+=k[n++]<<y,y+=8,y<j&&(m+=k[n++]<<y,y+=8)),L+=m&(1<<j)-1,L>c){e.msg="invalid distance too far back",P.mode=Yb;break e}if(m>>>=j,y-=j,j=s-i,L>j){if(j=L-j,j>d&&P.sane){e.msg="invalid distance too far back",P.mode=Yb;break e}if(I=0,D=p,f===0){if(I+=u-j,j<T){T-=j;do z[s++]=p[I++];while(--j);I=s-L,D=z}}else if(f<j){if(I+=u+f-j,j-=f,j<T){T-=j;do z[s++]=p[I++];while(--j);if(I=0,f<T){j=f,T-=j;do z[s++]=p[I++];while(--j);I=s-L,D=z}}}else if(I+=f-j,j<T){T-=j;do z[s++]=p[I++];while(--j);I=s-L,D=z}for(;T>2;)z[s++]=D[I++],z[s++]=D[I++],z[s++]=D[I++],T-=3;T&&(z[s++]=D[I++],T>1&&(z[s++]=D[I++]))}else{I=s-L;do z[s++]=z[I++],z[s++]=z[I++],z[s++]=z[I++],T-=3;while(T>2);T&&(z[s++]=z[I++],T>1&&(z[s++]=z[I++]))}}else if((j&64)===0){C=v[(C&65535)+(m&(1<<j)-1)];continue r}else{e.msg="invalid distance code",P.mode=Yb;break e}break}}else if((j&64)===0){C=g[(C&65535)+(m&(1<<j)-1)];continue t}else if(j&32){P.mode=rPe;break e}else{e.msg="invalid literal/length code",P.mode=Yb;break e}break}}while(n<a&&s<l);T=y>>3,n-=T,y-=T<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<l?257+(l-s):257-(s-l),P.hold=m,P.bits=y};const op=15,xU=852,yU=592,vU=0,SE=1,bU=2,aPe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sPe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iPe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oPe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lPe=(r,e,t,n,a,s,i,l)=>{const c=l.bits;let u=0,d=0,f=0,p=0,m=0,y=0,g=0,v=0,w=0,S=0,C,j,T,L,I,D=null,k;const z=new Uint16Array(op+1),P=new Uint16Array(op+1);let U=null,M,q,ae;for(u=0;u<=op;u++)z[u]=0;for(d=0;d<n;d++)z[e[t+d]]++;for(m=c,p=op;p>=1&&z[p]===0;p--);if(m>p&&(m=p),p===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&z[f]===0;f++);for(m<f&&(m=f),v=1,u=1;u<=op;u++)if(v<<=1,v-=z[u],v<0)return-1;if(v>0&&(r===vU||p!==1))return-1;for(P[1]=0,u=1;u<op;u++)P[u+1]=P[u]+z[u];for(d=0;d<n;d++)e[t+d]!==0&&(i[P[e[t+d]]++]=d);if(r===vU?(D=U=i,k=20):r===SE?(D=aPe,U=sPe,k=257):(D=iPe,U=oPe,k=0),S=0,d=0,u=f,I=s,y=m,g=0,T=-1,w=1<<m,L=w-1,r===SE&&w>xU||r===bU&&w>yU)return 1;for(;;){M=u-g,i[d]+1<k?(q=0,ae=i[d]):i[d]>=k?(q=U[i[d]-k],ae=D[i[d]-k]):(q=96,ae=0),C=1<<u-g,j=1<<y,f=j;do j-=C,a[I+(S>>g)+j]=M<<24|q<<16|ae|0;while(j!==0);for(C=1<<u-1;S&C;)C>>=1;if(C!==0?(S&=C-1,S+=C):S=0,d++,--z[u]===0){if(u===p)break;u=e[t+i[d]]}if(u>m&&(S&L)!==T){for(g===0&&(g=m),I+=f,y=u-g,v=1<<y;y+g<p&&(v-=z[y+g],!(v<=0));)y++,v<<=1;if(w+=1<<y,r===SE&&w>xU||r===bU&&w>yU)return 1;T=S&L,a[T]=m<<24|y<<16|I-s|0}}return S!==0&&(a[I+S]=u-g<<24|64<<16|0),l.bits=m,0};var xy=lPe;const cPe=0,kG=1,FG=2,{Z_FINISH:wU,Z_BLOCK:uPe,Z_TREES:Xb,Z_OK:H0,Z_STREAM_END:APe,Z_NEED_DICT:dPe,Z_STREAM_ERROR:kc,Z_DATA_ERROR:OG,Z_MEM_ERROR:DG,Z_BUF_ERROR:hPe,Z_DEFLATED:CU}=jG,E5=16180,NU=16181,SU=16182,BU=16183,EU=16184,jU=16185,_U=16186,TU=16187,kU=16188,FU=16189,X2=16190,ad=16191,BE=16192,OU=16193,EE=16194,DU=16195,PU=16196,IU=16197,LU=16198,Jb=16199,Zb=16200,MU=16201,RU=16202,UU=16203,QU=16204,HU=16205,jE=16206,zU=16207,KU=16208,Ta=16209,PG=16210,IG=16211,fPe=852,mPe=592,pPe=15,gPe=pPe,$U=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function xPe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rm=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<E5||e.mode>IG?1:0},LG=r=>{if(rm(r))return kc;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=E5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fPe),e.distcode=e.distdyn=new Int32Array(mPe),e.sane=1,e.back=-1,H0},MG=r=>{if(rm(r))return kc;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,LG(r)},RG=(r,e)=>{let t;if(rm(r))return kc;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?kc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,MG(r))},UG=(r,e)=>{if(!r)return kc;const t=new xPe;r.state=t,t.strm=r,t.window=null,t.mode=E5;const n=RG(r,e);return n!==H0&&(r.state=null),n},yPe=r=>UG(r,gPe);let VU=!0,_E,TE;const vPe=r=>{if(VU){_E=new Int32Array(512),TE=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(xy(kG,r.lens,0,288,_E,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;xy(FG,r.lens,0,32,TE,0,r.work,{bits:5}),VU=!1}r.lencode=_E,r.lenbits=9,r.distcode=TE,r.distbits=5},QG=(r,e,t,n)=>{let a;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(t-n,t-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},bPe=(r,e)=>{let t,n,a,s,i,l,c,u,d,f,p,m,y,g,v=0,w,S,C,j,T,L,I,D;const k=new Uint8Array(4);let z,P;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rm(r)||!r.output||!r.input&&r.avail_in!==0)return kc;t=r.state,t.mode===ad&&(t.mode=BE),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,d=t.bits,f=l,p=c,D=H0;e:for(;;)switch(t.mode){case E5:if(t.wrap===0){t.mode=BE;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=u&255,k[1]=u>>>8&255,t.check=aA(t.check,k,2,0),u=0,d=0,t.mode=NU;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=Ta;break}if((u&15)!==CU){r.msg="unknown compression method",t.mode=Ta;break}if(u>>>=4,d-=4,I=(u&15)+8,t.wbits===0&&(t.wbits=I),I>15||I>t.wbits){r.msg="invalid window size",t.mode=Ta;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?FU:ad,u=0,d=0;break;case NU:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.flags=u,(t.flags&255)!==CU){r.msg="unknown compression method",t.mode=Ta;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Ta;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=aA(t.check,k,2,0)),u=0,d=0,t.mode=SU;case SU:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,t.check=aA(t.check,k,4,0)),u=0,d=0,t.mode=BU;case BU:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=aA(t.check,k,2,0)),u=0,d=0,t.mode=EU;case EU:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=aA(t.check,k,2,0)),u=0,d=0}else t.head&&(t.head.extra=null);t.mode=jU;case jU:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&(I=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+m),I)),t.flags&512&&t.wrap&4&&(t.check=aA(t.check,n,m,s)),l-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=_U;case _U:if(t.flags&2048){if(l===0)break e;m=0;do I=n[s+m++],t.head&&I&&t.length<65536&&(t.head.name+=String.fromCharCode(I));while(I&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=aA(t.check,n,m,s)),l-=m,s+=m,I)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=TU;case TU:if(t.flags&4096){if(l===0)break e;m=0;do I=n[s+m++],t.head&&I&&t.length<65536&&(t.head.comment+=String.fromCharCode(I));while(I&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=aA(t.check,n,m,s)),l-=m,s+=m,I)break e}else t.head&&(t.head.comment=null);t.mode=kU;case kU:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Ta;break}u=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=ad;break;case FU:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.adler=t.check=$U(u),u=0,d=0,t.mode=X2;case X2:if(t.havedict===0)return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=d,dPe;r.adler=t.check=1,t.mode=ad;case ad:if(e===uPe||e===Xb)break e;case BE:if(t.last){u>>>=d&7,d-=d&7,t.mode=jE;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(t.last=u&1,u>>>=1,d-=1,u&3){case 0:t.mode=OU;break;case 1:if(vPe(t),t.mode=Jb,e===Xb){u>>>=2,d-=2;break e}break;case 2:t.mode=PU;break;case 3:r.msg="invalid block type",t.mode=Ta}u>>>=2,d-=2;break;case OU:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Ta;break}if(t.length=u&65535,u=0,d=0,t.mode=EE,e===Xb)break e;case EE:t.mode=DU;case DU:if(m=t.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(s,s+m),i),l-=m,s+=m,c-=m,i+=m,t.length-=m;break}t.mode=ad;break;case PU:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.nlen=(u&31)+257,u>>>=5,d-=5,t.ndist=(u&31)+1,u>>>=5,d-=5,t.ncode=(u&15)+4,u>>>=4,d-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Ta;break}t.have=0,t.mode=IU;case IU:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.lens[U[t.have++]]=u&7,u>>>=3,d-=3}for(;t.have<19;)t.lens[U[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},D=xy(cPe,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,D){r.msg="invalid code lengths set",t.mode=Ta;break}t.have=0,t.mode=LU;case LU:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[u&(1<<t.lenbits)-1],w=v>>>24,S=v>>>16&255,C=v&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(C<16)u>>>=w,d-=w,t.lens[t.have++]=C;else{if(C===16){for(P=w+2;d<P;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=w,d-=w,t.have===0){r.msg="invalid bit length repeat",t.mode=Ta;break}I=t.lens[t.have-1],m=3+(u&3),u>>>=2,d-=2}else if(C===17){for(P=w+3;d<P;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,I=0,m=3+(u&7),u>>>=3,d-=3}else{for(P=w+7;d<P;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,I=0,m=11+(u&127),u>>>=7,d-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Ta;break}for(;m--;)t.lens[t.have++]=I}}if(t.mode===Ta)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Ta;break}if(t.lenbits=9,z={bits:t.lenbits},D=xy(kG,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,D){r.msg="invalid literal/lengths set",t.mode=Ta;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},D=xy(FG,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,D){r.msg="invalid distances set",t.mode=Ta;break}if(t.mode=Jb,e===Xb)break e;case Jb:t.mode=Zb;case Zb:if(l>=6&&c>=258){r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=d,nPe(r,p),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,d=t.bits,t.mode===ad&&(t.back=-1);break}for(t.back=0;v=t.lencode[u&(1<<t.lenbits)-1],w=v>>>24,S=v>>>16&255,C=v&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(S&&(S&240)===0){for(j=w,T=S,L=C;v=t.lencode[L+((u&(1<<j+T)-1)>>j)],w=v>>>24,S=v>>>16&255,C=v&65535,!(j+w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,t.back+=j}if(u>>>=w,d-=w,t.back+=w,t.length=C,S===0){t.mode=HU;break}if(S&32){t.back=-1,t.mode=ad;break}if(S&64){r.msg="invalid literal/length code",t.mode=Ta;break}t.extra=S&15,t.mode=MU;case MU:if(t.extra){for(P=t.extra;d<P;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=RU;case RU:for(;v=t.distcode[u&(1<<t.distbits)-1],w=v>>>24,S=v>>>16&255,C=v&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((S&240)===0){for(j=w,T=S,L=C;v=t.distcode[L+((u&(1<<j+T)-1)>>j)],w=v>>>24,S=v>>>16&255,C=v&65535,!(j+w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,t.back+=j}if(u>>>=w,d-=w,t.back+=w,S&64){r.msg="invalid distance code",t.mode=Ta;break}t.offset=C,t.extra=S&15,t.mode=UU;case UU:if(t.extra){for(P=t.extra;d<P;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Ta;break}t.mode=QU;case QU:if(c===0)break e;if(m=p-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Ta;break}m>t.wnext?(m-=t.wnext,y=t.wsize-m):y=t.wnext-m,m>t.length&&(m=t.length),g=t.window}else g=a,y=i-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do a[i++]=g[y++];while(--m);t.length===0&&(t.mode=Zb);break;case HU:if(c===0)break e;a[i++]=t.length,c--,t.mode=Zb;break;case jE:if(t.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(p-=c,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?aA(t.check,a,p,i-p):Yj(t.check,a,p,i-p)),p=c,t.wrap&4&&(t.flags?u:$U(u))!==t.check){r.msg="incorrect data check",t.mode=Ta;break}u=0,d=0}t.mode=zU;case zU:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Ta;break}u=0,d=0}t.mode=KU;case KU:D=APe;break e;case Ta:D=OG;break e;case PG:return DG;case IG:default:return kc}return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=d,(t.wsize||p!==r.avail_out&&t.mode<Ta&&(t.mode<jE||e!==wU))&&QG(r,r.output,r.next_out,p-r.avail_out),f-=r.avail_in,p-=r.avail_out,r.total_in+=f,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?aA(t.check,a,p,r.next_out-p):Yj(t.check,a,p,r.next_out-p)),r.data_type=t.bits+(t.last?64:0)+(t.mode===ad?128:0)+(t.mode===Jb||t.mode===EE?256:0),(f===0&&p===0||e===wU)&&D===H0&&(D=hPe),D},wPe=r=>{if(rm(r))return kc;let e=r.state;return e.window&&(e.window=null),r.state=null,H0},CPe=(r,e)=>{if(rm(r))return kc;const t=r.state;return(t.wrap&2)===0?kc:(t.head=e,e.done=!1,H0)},NPe=(r,e)=>{const t=e.length;let n,a,s;return rm(r)||(n=r.state,n.wrap!==0&&n.mode!==X2)?kc:n.mode===X2&&(a=1,a=Yj(a,e,t,0),a!==n.check)?OG:(s=QG(r,e,t,t),s?(n.mode=PG,DG):(n.havedict=1,H0))};var SPe=MG,BPe=RG,EPe=LG,jPe=yPe,_Pe=UG,TPe=bPe,kPe=wPe,FPe=CPe,OPe=NPe,DPe="pako inflate (from Nodeca project)",id={inflateReset:SPe,inflateReset2:BPe,inflateResetKeep:EPe,inflateInit:jPe,inflateInit2:_Pe,inflate:TPe,inflateEnd:kPe,inflateGetHeader:FPe,inflateSetDictionary:OPe,inflateInfo:DPe};function PPe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var IPe=PPe;const HG=Object.prototype.toString,{Z_NO_FLUSH:LPe,Z_FINISH:MPe,Z_OK:Yy,Z_STREAM_END:kE,Z_NEED_DICT:FE,Z_STREAM_ERROR:RPe,Z_DATA_ERROR:qU,Z_MEM_ERROR:UPe}=jG;function Qv(r){this.options=_G.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tPe,this.strm.avail_out=0;let t=id.inflateInit2(this.strm,e.windowBits);if(t!==Yy)throw new Error(Xj[t]);if(this.header=new IPe,id.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Jj.string2buf(e.dictionary):HG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=id.inflateSetDictionary(this.strm,e.dictionary),t!==Yy)))throw new Error(Xj[t])}Qv.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,i,l;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?MPe:LPe,HG.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=id.inflate(t,i),s===FE&&a&&(s=id.inflateSetDictionary(t,a),s===Yy?s=id.inflate(t,i):s===qU&&(s=FE));t.avail_in>0&&s===kE&&t.state.wrap>0&&r[t.next_in]!==0;)id.inflateReset(t),s=id.inflate(t,i);switch(s){case RPe:case qU:case FE:case UPe:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===kE))if(this.options.to==="string"){let c=Jj.utf8border(t.output,t.next_out),u=t.next_out-c,d=Jj.buf2string(t.output,c);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Yy&&l===0)){if(s===kE)return s=id.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Qv.prototype.onData=function(r){this.chunks.push(r)};Qv.prototype.onEnd=function(r){r===Yy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_G.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function QPe(r,e){const t=new Qv(e);if(t.push(r),t.err)throw t.msg||Xj[t.err];return t.result}var HPe=Qv,zPe=QPe,KPe={Inflate:HPe,inflate:zPe};const{Inflate:$Pe,inflate:VPe}=KPe;var GU=$Pe,qPe=VPe;const zG=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;zG[r]=e}const WU=4294967295;function GPe(r,e,t){let n=r;for(let a=0;a<t;a++)n=zG[(n^e[a])&255]^n>>>8;return n}function WPe(r,e){return(GPe(WU,r,e)^WU)>>>0}function YU(r,e,t){const n=r.readUint32(),a=WPe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function KG(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function $G(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function VG(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function qG(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-a]+t[s]>>1)&255}}function GG(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+YPe(e[s-a],t[s],t[s-a])&255}}function YPe(r,e,t){const n=r+e-t,a=Math.abs(n-r),s=Math.abs(n-e),i=Math.abs(n-t);return a<=s&&a<=i?r:s<=i?e:t}function XPe(r,e,t,n,a,s){switch(r){case 0:KG(e,t,a);break;case 1:$G(e,t,a,s);break;case 2:VG(e,t,n,a);break;case 3:qG(e,t,n,a,s);break;case 4:GG(e,t,n,a,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const JPe=new Uint16Array([255]),ZPe=new Uint8Array(JPe.buffer),e6e=ZPe[0]===255;function t6e(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*t*l);let u=0;for(let d=0;d<7;d++){const f=i[d],p=Math.ceil((t-f.x)/f.xStep),m=Math.ceil((n-f.y)/f.yStep);if(p<=0||m<=0)continue;const y=p*l,g=new Uint8Array(y);for(let v=0;v<m;v++){const w=e[u++],S=e.subarray(u,u+y);u+=y;const C=new Uint8Array(y);XPe(w,S,C,g,y,l),g.set(C);for(let j=0;j<p;j++){const T=f.x+j*f.xStep,L=f.y+v*f.yStep;if(!(T>=t||L>=n))for(let I=0;I<l;I++)c[(L*t+T)*l+I]=C[j*l+I]}}}if(s===16){const d=new Uint16Array(c.buffer);if(e6e)for(let f=0;f<d.length;f++)d[f]=r6e(d[f]);return d}else return c}function r6e(r){return(r&255)<<8|r>>8&255}const n6e=new Uint16Array([255]),a6e=new Uint8Array(n6e.buffer),s6e=a6e[0]===255,i6e=new Uint8Array(0);function XU(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*t),c=new Uint8Array(n*l);let u=i6e,d=0,f,p;for(let m=0;m<n;m++){switch(f=e.subarray(d+1,d+1+l),p=c.subarray(m*l,(m+1)*l),e[d]){case 0:KG(f,p,l);break;case 1:$G(f,p,l,i);break;case 2:VG(f,p,u,l);break;case 3:qG(f,p,u,l,i);break;case 4:GG(f,p,u,l,i);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(s6e)for(let y=0;y<m.length;y++)m[y]=o6e(m[y]);return m}else return c}function o6e(r){return(r&255)<<8|r>>8&255}const bw=Uint8Array.of(137,80,78,71,13,10,26,10);function JU(r){if(!l6e(r.readBytes(bw.length)))throw new Error("wrong PNG signature")}function l6e(r){if(r.length<bw.length)return!1;for(let e=0;e<bw.length;e++)if(r[e]!==bw[e])return!1;return!0}const c6e="tEXt",u6e=0,WG=new TextDecoder("latin1");function A6e(r){if(h6e(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const d6e=/^[\u0000-\u00FF]*$/;function h6e(r){if(!d6e.test(r))throw new Error("invalid latin1 text")}function f6e(r,e,t){const n=YG(e);r[n]=m6e(e,t-n.length-1)}function YG(r){for(r.mark();r.readByte()!==u6e;);const e=r.offset;r.reset();const t=WG.decode(r.readBytes(e-r.offset-1));return r.skip(1),A6e(t),t}function m6e(r,e){return WG.decode(r.readBytes(e))}const jl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},OE={UNKNOWN:-1,DEFLATE:0},ZU={UNKNOWN:-1,ADAPTIVE:0},DE={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ew={NONE:0,BACKGROUND:1,PREVIOUS:2},PE={SOURCE:0,OVER:1};class p6e extends wk{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new GU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=OE.UNKNOWN,this._filterMethod=ZU.UNKNOWN,this._interlaceMethod=DE.UNKNOWN,this._colorType=jl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(JU(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(JU(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case c6e:f6e(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?YU(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?YU(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=g6e(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case jl.GREYSCALE:n=1;break;case jl.TRUECOLOUR:n=3;break;case jl.INDEXED_COLOUR:n=1;break;case jl.GREYSCALE_ALPHA:n=2;break;case jl.TRUECOLOUR_ALPHA:n=4;break;case jl.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==OE.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<t;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case jl.GREYSCALE:case jl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case jl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case jl.UNKNOWN:case jl.GREYSCALE_ALPHA:case jl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=YG(this),n=this.readUint8();if(n!==OE.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:qPe(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=XU({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case ew.NONE:break;case ew.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const i=(a*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[i+l]=0}break;case ew.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,a=(s,i)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+i)*this._png.channels,c=(s*t.width+i)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case PE.SOURCE:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++)e.data[l+u]=t.data[c+u]}break;case PE.OVER:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++){const d=t.data[c+this._png.channels-1]/n,f=u%(this._png.channels-1)===0?1:t.data[c+u],p=Math.floor(d*f+(1-d)*e.data[l+u]);e.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ZU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===DE.NO_INTERLACE)this._png.data=XU({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===DE.ADAM7)this._png.data=t6e({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ew.NONE,blendOp:PE.SOURCE,data:e}),this._inflator=new GU,this._writingDataChunks=!1}}function g6e(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var e8;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(e8||(e8={}));function x6e(r,e){return new p6e(r,e).decode()}var Fr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function IE(){Fr.console&&typeof Fr.console.log=="function"&&Fr.console.log.apply(Fr.console,arguments)}var sa={log:IE,warn:function(r){Fr.console&&(typeof Fr.console.warn=="function"?Fr.console.warn.apply(Fr.console,arguments):IE.call(null,arguments))},error:function(r){Fr.console&&(typeof Fr.console.error=="function"?Fr.console.error.apply(Fr.console,arguments):IE(r))}};function LE(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Zf(n.response,e,t)},n.onerror=function(){sa.error("could not download file")},n.send()}function t8(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function tw(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Zf=Fr.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Fr.URL||Fr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?t8(a.href)?LE(r,e,t):tw(a,a.target="_blank"):tw(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){tw(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(t8(r))LE(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){tw(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Qn(s)!=="object"&&(sa.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return LE(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(Fr.HTMLElement)||Fr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(r)}else{var c=Fr.URL||Fr.webkitURL,u=c.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function XG(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,s=t[n].process,i=a.exec(r);i&&(e=s(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var ww=Fr.atob.bind(Fr),r8=Fr.btoa.bind(Fr);function ME(r,e){var t=r[0],n=r[1],a=r[2],s=r[3];t=Zi(t,n,a,s,e[0],7,-680876936),s=Zi(s,t,n,a,e[1],12,-389564586),a=Zi(a,s,t,n,e[2],17,606105819),n=Zi(n,a,s,t,e[3],22,-1044525330),t=Zi(t,n,a,s,e[4],7,-176418897),s=Zi(s,t,n,a,e[5],12,1200080426),a=Zi(a,s,t,n,e[6],17,-1473231341),n=Zi(n,a,s,t,e[7],22,-45705983),t=Zi(t,n,a,s,e[8],7,1770035416),s=Zi(s,t,n,a,e[9],12,-1958414417),a=Zi(a,s,t,n,e[10],17,-42063),n=Zi(n,a,s,t,e[11],22,-1990404162),t=Zi(t,n,a,s,e[12],7,1804603682),s=Zi(s,t,n,a,e[13],12,-40341101),a=Zi(a,s,t,n,e[14],17,-1502002290),t=eo(t,n=Zi(n,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=eo(s,t,n,a,e[6],9,-1069501632),a=eo(a,s,t,n,e[11],14,643717713),n=eo(n,a,s,t,e[0],20,-373897302),t=eo(t,n,a,s,e[5],5,-701558691),s=eo(s,t,n,a,e[10],9,38016083),a=eo(a,s,t,n,e[15],14,-660478335),n=eo(n,a,s,t,e[4],20,-405537848),t=eo(t,n,a,s,e[9],5,568446438),s=eo(s,t,n,a,e[14],9,-1019803690),a=eo(a,s,t,n,e[3],14,-187363961),n=eo(n,a,s,t,e[8],20,1163531501),t=eo(t,n,a,s,e[13],5,-1444681467),s=eo(s,t,n,a,e[2],9,-51403784),a=eo(a,s,t,n,e[7],14,1735328473),t=to(t,n=eo(n,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=to(s,t,n,a,e[8],11,-2022574463),a=to(a,s,t,n,e[11],16,1839030562),n=to(n,a,s,t,e[14],23,-35309556),t=to(t,n,a,s,e[1],4,-1530992060),s=to(s,t,n,a,e[4],11,1272893353),a=to(a,s,t,n,e[7],16,-155497632),n=to(n,a,s,t,e[10],23,-1094730640),t=to(t,n,a,s,e[13],4,681279174),s=to(s,t,n,a,e[0],11,-358537222),a=to(a,s,t,n,e[3],16,-722521979),n=to(n,a,s,t,e[6],23,76029189),t=to(t,n,a,s,e[9],4,-640364487),s=to(s,t,n,a,e[12],11,-421815835),a=to(a,s,t,n,e[15],16,530742520),t=ro(t,n=to(n,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=ro(s,t,n,a,e[7],10,1126891415),a=ro(a,s,t,n,e[14],15,-1416354905),n=ro(n,a,s,t,e[5],21,-57434055),t=ro(t,n,a,s,e[12],6,1700485571),s=ro(s,t,n,a,e[3],10,-1894986606),a=ro(a,s,t,n,e[10],15,-1051523),n=ro(n,a,s,t,e[1],21,-2054922799),t=ro(t,n,a,s,e[8],6,1873313359),s=ro(s,t,n,a,e[15],10,-30611744),a=ro(a,s,t,n,e[6],15,-1560198380),n=ro(n,a,s,t,e[13],21,1309151649),t=ro(t,n,a,s,e[4],6,-145523070),s=ro(s,t,n,a,e[11],10,-1120210379),a=ro(a,s,t,n,e[2],15,718787259),n=ro(n,a,s,t,e[9],21,-343485551),r[0]=$h(t,r[0]),r[1]=$h(n,r[1]),r[2]=$h(a,r[2]),r[3]=$h(s,r[3])}function j5(r,e,t,n,a,s){return e=$h($h(e,r),$h(n,s)),$h(e<<a|e>>>32-a,t)}function Zi(r,e,t,n,a,s,i){return j5(e&t|~e&n,r,e,a,s,i)}function eo(r,e,t,n,a,s,i){return j5(e&n|t&~n,r,e,a,s,i)}function to(r,e,t,n,a,s,i){return j5(e^t^n,r,e,a,s,i)}function ro(r,e,t,n,a,s,i){return j5(t^(e|~n),r,e,a,s,i)}function JG(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)ME(n,y6e(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ME(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,ME(n,a),n}function y6e(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var n8="0123456789abcdef".split("");function v6e(r){for(var e="",t=0;t<4;t++)e+=n8[r>>8*t+4&15]+n8[r>>8*t&15];return e}function b6e(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Zj(r){return JG(r).map(b6e).join("")}var w6e=(function(r){for(var e=0;e<r.length;e++)r[e]=v6e(r[e]);return r.join("")})(JG("hello"))!="5d41402abc4b2a76b9719d911017c592";function $h(r,e){if(w6e){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function e_(r,e){var t,n,a,s;if(r!==t){for(var i=(a=r,s=1+(256/r.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+i.charCodeAt(c))%256,l[c]=l[u],l[u]=d}t=r,n=l}else l=n;var f=e.length,p=0,m=0,y="";for(c=0;c<f;c++)m=(m+(d=l[p=(p+1)%256]))%256,l[p]=l[m],l[m]=d,i=l[(l[p]+l[m])%256],y+=String.fromCharCode(e.charCodeAt(c)^i);return y}var a8={print:4,modify:8,copy:16,"annot-forms":32};function pp(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(a8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=a8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=Zj(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=e_(this.encryptionKey,this.padding)}function gp(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function s8(r){if(Qn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!a],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var i=e[t][s];try{i[0].apply(r,n)}catch(l){Fr.console&&sa.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function J2(r){if(!(this instanceof J2))return new J2(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function ZG(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function n0(r,e,t,n,a){if(!(this instanceof n0))return new n0(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,ZG.call(this,n,a)}function Cp(r,e,t,n,a){if(!(this instanceof Cp))return new Cp(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ZG.call(this,n,a)}function fr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,u="S",d=null;Qn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,s=r.compress||r.compressPdf||s,(d=r.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),i=r.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=s8;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(R){y=R};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var w=m.__private__.getPageFormat=function(R){return v[R]};a=a||"a4";var S="compat",C="advanced",j=S;function T(){this.saveGraphicsState(),X(new sr(De,0,0,-De,0,$c()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),u="n",j=C}function L(){this.restoreGraphicsState(),u="S",j=S}var I=m.__private__.combineFontStyleAndFontWeight=function(R,Z){if(R=="bold"&&Z=="normal"||R=="bold"&&Z==400||R=="normal"&&Z=="italic"||R=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(R=Z==400||Z==="normal"?R==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||R!=="normal"?(Z==700?"bold":Z)+""+R:"bold"),R};m.advancedAPI=function(R){var Z=j===S;return Z&&T.call(this),typeof R!="function"||(R(this),Z&&L.call(this)),this},m.compatAPI=function(R){var Z=j===C;return Z&&L.call(this),typeof R!="function"||(R(this),Z&&T.call(this)),this},m.isAdvancedAPI=function(){return j===C};var D,k=function(R){if(j!==C)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(R,Z){var be=e||Z;if(isNaN(R)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(be).replace(/0+$/,"")};D=m.hpf=m.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,16)};var P=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return z(R,2)},U=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return z(R,3)},M=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return j===S?R*De:j===C?R:void 0},q=function(R){return M((function(Z){return j===S?$c()-Z:j===C?Z:void 0})(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var ae,W="00000000000000000000000000000000",ee=m.__private__.getFileId=function(){return W},re=m.__private__.setFileId=function(R){return W=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(us=new pp(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};m.setFileId=function(R){return re(R),this},m.getFileId=function(){return ee()};var pe=m.__private__.convertDateToPDFDate=function(R){var Z=R.getTimezoneOffset(),be=Z<0?"+":"-",je=Math.floor(Math.abs(Z/60)),Ie=Math.abs(Z%60),ut=[be,K(je),"'",K(Ie),"'"].join("");return["D:",R.getFullYear(),K(R.getMonth()+1),K(R.getDate()),K(R.getHours()),K(R.getMinutes()),K(R.getSeconds()),ut].join("")},Se=m.__private__.convertPDFDateToDate=function(R){var Z=parseInt(R.substr(2,4),10),be=parseInt(R.substr(6,2),10)-1,je=parseInt(R.substr(8,2),10),Ie=parseInt(R.substr(10,2),10),ut=parseInt(R.substr(12,2),10),gt=parseInt(R.substr(14,2),10);return new Date(Z,be,je,Ie,ut,gt,0)},ne=m.__private__.setCreationDate=function(R){var Z;if(R===void 0&&(R=new Date),R instanceof Date)Z=pe(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=R}return ae=Z},F=m.__private__.getCreationDate=function(R){var Z=ae;return R==="jsDate"&&(Z=Se(ae)),Z};m.setCreationDate=function(R){return ne(R),this},m.getCreationDate=function(R){return F(R)};var Q,K=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},V=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},J=0,oe=[],Ne=[],ue=0,xe=[],Oe=[],Be=!1,qe=Ne;m.__private__.setCustomOutputDestination=function(R){Be=!0,qe=R};var Pe=function(R){Be||(qe=R)};m.__private__.resetCustomOutputDestination=function(){Be=!1,qe=Ne};var X=m.__private__.out=function(R){return R=R.toString(),ue+=R.length+1,qe.push(R),qe},Me=m.__private__.write=function(R){return X(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},We=m.__private__.getArrayBuffer=function(R){for(var Z=R.length,be=new ArrayBuffer(Z),je=new Uint8Array(be);Z--;)je[Z]=R.charCodeAt(Z);return be},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return bt};var st=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return st=j===C?R/De:R,this};var Ye,ht=m.__private__.getFontSize=m.getFontSize=function(){return j===S?st:st*De},wt=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return wt=R,this},m.__private__.getR2L=m.getR2L=function(){return wt};var Bt,Ut=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))Ye=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');Ye=R}else Ye=parseInt(R,10)};m.__private__.getZoomMode=function(){return Ye};var dr,ur=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Bt=R};m.__private__.getPageMode=function(){return Bt};var hr=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');dr=R};m.__private__.getLayoutMode=function(){return dr},m.__private__.setDisplayMode=m.setDisplayMode=function(R,Z,be){return Ut(R),hr(Z),ur(be),this};var ar={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(ar).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ar[R]},m.__private__.getDocumentProperties=function(){return ar},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var Z in ar)ar.hasOwnProperty(Z)&&R[Z]&&(ar[Z]=R[Z]);return this},m.__private__.setDocumentProperty=function(R,Z){if(Object.keys(ar).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ar[R]=Z};var ke,De,rt,pr,Qt,Nt={},Yt={},ir=[],Pt={},Wr={},mr={},or={},dt=null,ct=0,Ot=[],It=new s8(m),hn=r.hotfixes||[],Tr={},cs={},ca=[],sr=function R(Z,be,je,Ie,ut,gt){if(!(this instanceof R))return new R(Z,be,je,Ie,ut,gt);isNaN(Z)&&(Z=1),isNaN(be)&&(be=0),isNaN(je)&&(je=0),isNaN(Ie)&&(Ie=1),isNaN(ut)&&(ut=0),isNaN(gt)&&(gt=0),this._matrix=[Z,be,je,Ie,ut,gt]};Object.defineProperty(sr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(sr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(sr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(sr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(sr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(sr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(sr.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(sr.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(sr.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(sr.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(sr.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(sr.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(sr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(sr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(sr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(sr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),sr.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(R)},sr.prototype.multiply=function(R){var Z=R.sx*this.sx+R.shy*this.shx,be=R.sx*this.shy+R.shy*this.sy,je=R.shx*this.sx+R.sy*this.shx,Ie=R.shx*this.shy+R.sy*this.sy,ut=R.tx*this.sx+R.ty*this.shx+this.tx,gt=R.tx*this.shy+R.ty*this.sy+this.ty;return new sr(Z,be,je,Ie,ut,gt)},sr.prototype.decompose=function(){var R=this.sx,Z=this.shy,be=this.shx,je=this.sy,Ie=this.tx,ut=this.ty,gt=Math.sqrt(R*R+Z*Z),Xt=(R/=gt)*be+(Z/=gt)*je;be-=R*Xt,je-=Z*Xt;var lr=Math.sqrt(be*be+je*je);return Xt/=lr,R*(je/=lr)<Z*(be/=lr)&&(R=-R,Z=-Z,Xt=-Xt,gt=-gt),{scale:new sr(gt,0,0,lr,0,0),translate:new sr(1,0,0,1,Ie,ut),rotate:new sr(R,Z,-Z,R,0,0),skew:new sr(1,0,Xt,1,0,0)}},sr.prototype.toString=function(R){return this.join(" ")},sr.prototype.inversed=function(){var R=this.sx,Z=this.shy,be=this.shx,je=this.sy,Ie=this.tx,ut=this.ty,gt=1/(R*je-Z*be),Xt=je*gt,lr=-Z*gt,Er=-be*gt,Or=R*gt;return new sr(Xt,lr,Er,Or,-Xt*Ie-Er*ut,-lr*Ie-Or*ut)},sr.prototype.applyToPoint=function(R){var Z=R.x*this.sx+R.y*this.shx+this.tx,be=R.x*this.shy+R.y*this.sy+this.ty;return new Do(Z,be)},sr.prototype.applyToRectangle=function(R){var Z=this.applyToPoint(R),be=this.applyToPoint(new Do(R.x+R.w,R.y+R.h));return new Uc(Z.x,Z.y,be.x-Z.x,be.y-Z.y)},sr.prototype.clone=function(){var R=this.sx,Z=this.shy,be=this.shx,je=this.sy,Ie=this.tx,ut=this.ty;return new sr(R,Z,be,je,Ie,ut)},m.Matrix=sr;var wa=m.matrixMult=function(R,Z){return Z.multiply(R)},Ya=new sr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ya;var ua=function(R,Z){if(!Wr[R]){var be=(Z instanceof n0?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);Z.id=be,Wr[R]=be,Pt[be]=Z,It.publish("addPattern",Z)}};m.ShadingPattern=n0,m.TilingPattern=Cp,m.addShadingPattern=function(R,Z){return k("addShadingPattern()"),ua(R,Z),this},m.beginTilingPattern=function(R){k("beginTilingPattern()"),_A(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,Z){k("endTilingPattern()"),Z.stream=Oe[Q].join(`
`),ua(R,Z),It.publish("endTilingPattern",Z),ca.pop().restore()};var Es,Tn=m.__private__.newObject=function(){var R=Ca();return se(R,!0),R},Ca=m.__private__.newObjectDeferred=function(){return J++,oe[J]=function(){return ue},J},se=function(R,Z){return Z=typeof Z=="boolean"&&Z,oe[R]=ue,Z&&X(R+" 0 obj"),R},ve=m.__private__.newAdditionalObject=function(){var R={objId:Ca(),content:""};return xe.push(R),R},de=Ca(),he=Ca(),me=m.__private__.decodeColorString=function(R){var Z=R.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var be=parseFloat(Z[0]);Z=[be,be,be,"r"]}for(var je="#",Ie=0;Ie<3;Ie++)je+=("0"+Math.floor(255*parseFloat(Z[Ie])).toString(16)).slice(-2);return je},we=m.__private__.encodeColorString=function(R){var Z;typeof R=="string"&&(R={ch1:R});var be=R.ch1,je=R.ch2,Ie=R.ch3,ut=R.ch4,gt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Xt=new XG(be);if(Xt.ok)be=Xt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var lr=parseInt(be.substr(1),16);be=lr>>16&255,je=lr>>8&255,Ie=255&lr}if(je===void 0||ut===void 0&&be===je&&je===Ie)Z=typeof be=="string"?be+" "+gt[0]:R.precision===2?P(be/255)+" "+gt[0]:U(be/255)+" "+gt[0];else if(ut===void 0||Qn(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return["1.","1.","1.",gt[1]].join(" ");Z=typeof be=="string"?[be,je,Ie,gt[1]].join(" "):R.precision===2?[P(be/255),P(je/255),P(Ie/255),gt[1]].join(" "):[U(be/255),U(je/255),U(Ie/255),gt[1]].join(" ")}else Z=typeof be=="string"?[be,je,Ie,ut,gt[2]].join(" "):R.precision===2?[P(be),P(je),P(Ie),P(ut),gt[2]].join(" "):[U(be),U(je),U(Ie),U(ut),gt[2]].join(" ");return Z},Ue=m.__private__.getFilters=function(){return i},tt=m.__private__.putStream=function(R){var Z=(R=R||{}).data||"",be=R.filters||Ue(),je=R.alreadyAppliedFilters||[],Ie=R.addLength1||!1,ut=Z.length,gt=R.objectId,Xt=function(As){return As};if(d!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Xt=us.encryptor(gt,0));var lr={};be===!0&&(be=["FlateEncode"]);var Er=R.additionalKeyValues||[],Or=(lr=fr.API.processDataByFilters!==void 0?fr.API.processDataByFilters(Z,be):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(lr.data.length!==0&&(Er.push({key:"Length",value:lr.data.length}),Ie===!0&&Er.push({key:"Length1",value:ut})),Or.length!=0)if(Or.split("/").length-1==1)Er.push({key:"Filter",value:Or});else{Er.push({key:"Filter",value:"["+Or+"]"});for(var an=0;an<Er.length;an+=1)if(Er[an].key==="DecodeParms"){for(var fa=[],La=0;La<lr.reverseChain.split("/").length-1;La+=1)fa.push("null");fa.push(Er[an].value),Er[an].value="["+fa.join(" ")+"]"}}X("<<");for(var $n=0;$n<Er.length;$n++)X("/"+Er[$n].key+" "+Er[$n].value);X(">>"),lr.data.length!==0&&(X("stream"),X(Xt(lr.data)),X("endstream"))},He=m.__private__.putPage=function(R){var Z=R.number,be=R.data,je=R.objId,Ie=R.contentsObjId;se(je,!0),X("<</Type /Page"),X("/Parent "+R.rootDictionaryObjId+" 0 R"),X("/Resources "+R.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(D(R.mediaBox.bottomLeftX))+" "+parseFloat(D(R.mediaBox.bottomLeftY))+" "+D(R.mediaBox.topRightX)+" "+D(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&X("/CropBox ["+D(R.cropBox.bottomLeftX)+" "+D(R.cropBox.bottomLeftY)+" "+D(R.cropBox.topRightX)+" "+D(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&X("/BleedBox ["+D(R.bleedBox.bottomLeftX)+" "+D(R.bleedBox.bottomLeftY)+" "+D(R.bleedBox.topRightX)+" "+D(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&X("/TrimBox ["+D(R.trimBox.bottomLeftX)+" "+D(R.trimBox.bottomLeftY)+" "+D(R.trimBox.topRightX)+" "+D(R.trimBox.topRightY)+"]"),R.artBox!==null&&X("/ArtBox ["+D(R.artBox.bottomLeftX)+" "+D(R.artBox.bottomLeftY)+" "+D(R.artBox.topRightX)+" "+D(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&X("/UserUnit "+R.userUnit),It.publish("putPage",{objId:je,pageContext:Ot[Z],pageNumber:Z,page:be}),X("/Contents "+Ie+" 0 R"),X(">>"),X("endobj");var ut=be.join(`
`);return j===C&&(ut+=`
Q`),se(Ie,!0),tt({data:ut,filters:Ue(),objectId:Ie}),X("endobj"),je},ze=m.__private__.putPages=function(){var R,Z,be=[];for(R=1;R<=ct;R++)Ot[R].objId=Ca(),Ot[R].contentsObjId=Ca();for(R=1;R<=ct;R++)be.push(He({number:R,data:Oe[R],objId:Ot[R].objId,contentsObjId:Ot[R].contentsObjId,mediaBox:Ot[R].mediaBox,cropBox:Ot[R].cropBox,bleedBox:Ot[R].bleedBox,trimBox:Ot[R].trimBox,artBox:Ot[R].artBox,userUnit:Ot[R].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));se(de,!0),X("<</Type /Pages");var je="/Kids [";for(Z=0;Z<ct;Z++)je+=be[Z]+" 0 R ";X(je+"]"),X("/Count "+ct),X(">>"),X("endobj"),It.publish("postPutPages")},$e=function(R){It.publish("putFont",{font:R,out:X,newObject:Tn,putStream:tt}),R.isAlreadyPutted!==!0&&(R.objectNumber=Tn(),X("<<"),X("/Type /Font"),X("/BaseFont /"+gp(R.postScriptName)),X("/Subtype /Type1"),typeof R.encoding=="string"&&X("/Encoding /"+R.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},yt=function(R){R.objectNumber=Tn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[D(R.x),D(R.y),D(R.x+R.width),D(R.y+R.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var be=R.pages[1].join(`
`);tt({data:be,additionalKeyValues:Z,objectId:R.objectNumber}),X("endobj")},St=function(R,Z){Z||(Z=21);var be=Tn(),je=(function(gt,Xt){var lr,Er=[],Or=1/(Xt-1);for(lr=0;lr<1;lr+=Or)Er.push(lr);if(Er.push(1),gt[0].offset!=0){var an={offset:0,color:gt[0].color};gt.unshift(an)}if(gt[gt.length-1].offset!=1){var fa={offset:1,color:gt[gt.length-1].color};gt.push(fa)}for(var La="",$n=0,As=0;As<Er.length;As++){for(lr=Er[As];lr>gt[$n+1].offset;)$n++;var Ja=gt[$n].offset,Qs=(lr-Ja)/(gt[$n+1].offset-Ja),Vc=gt[$n].color,yl=gt[$n+1].color;La+=V(Math.round((1-Qs)*Vc[0]+Qs*yl[0]).toString(16))+V(Math.round((1-Qs)*Vc[1]+Qs*yl[1]).toString(16))+V(Math.round((1-Qs)*Vc[2]+Qs*yl[2]).toString(16))}return La.trim()})(R.colors,Z),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+Z+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:je,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),X("endobj"),R.objectNumber=Tn(),X("<< /ShadingType "+R.type),X("/ColorSpace /DeviceRGB");var ut="/Coords ["+D(parseFloat(R.coords[0]))+" "+D(parseFloat(R.coords[1]))+" ";R.type===2?ut+=D(parseFloat(R.coords[2]))+" "+D(parseFloat(R.coords[3])):ut+=D(parseFloat(R.coords[2]))+" "+D(parseFloat(R.coords[3]))+" "+D(parseFloat(R.coords[4]))+" "+D(parseFloat(R.coords[5])),X(ut+="]"),R.matrix&&X("/Matrix ["+R.matrix.toString()+"]"),X("/Function "+be+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},kt=function(R,Z){var be=Ca(),je=Tn();Z.push({resourcesOid:be,objectOid:je}),R.objectNumber=je;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+R.boundingBox.map(D).join(" ")+"]"}),Ie.push({key:"XStep",value:D(R.xStep)}),Ie.push({key:"YStep",value:D(R.yStep)}),Ie.push({key:"Resources",value:be+" 0 R"}),R.matrix&&Ie.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),tt({data:R.stream,additionalKeyValues:Ie,objectId:R.objectNumber}),X("endobj")},Ct=function(R){for(var Z in R.objectNumber=Tn(),X("<<"),R)switch(Z){case"opacity":X("/ca "+P(R[Z]));break;case"stroke-opacity":X("/CA "+P(R[Z]))}X(">>"),X("endobj")},jt=function(R){se(R.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in X("/Font <<"),Nt)Nt.hasOwnProperty(Z)&&(f===!1||f===!0&&p.hasOwnProperty(Z))&&X("/"+Z+" "+Nt[Z].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(Pt).length>0){for(var Z in X("/Shading <<"),Pt)Pt.hasOwnProperty(Z)&&Pt[Z]instanceof n0&&Pt[Z].objectNumber>=0&&X("/"+Z+" "+Pt[Z].objectNumber+" 0 R");It.publish("putShadingPatternDict"),X(">>")}})(),(function(Z){if(Object.keys(Pt).length>0){for(var be in X("/Pattern <<"),Pt)Pt.hasOwnProperty(be)&&Pt[be]instanceof m.TilingPattern&&Pt[be].objectNumber>=0&&Pt[be].objectNumber<Z&&X("/"+be+" "+Pt[be].objectNumber+" 0 R");It.publish("putTilingPatternDict"),X(">>")}})(R.objectOid),(function(){if(Object.keys(mr).length>0){var Z;for(Z in X("/ExtGState <<"),mr)mr.hasOwnProperty(Z)&&mr[Z].objectNumber>=0&&X("/"+Z+" "+mr[Z].objectNumber+" 0 R");It.publish("putGStateDict"),X(">>")}})(),(function(){for(var Z in X("/XObject <<"),Tr)Tr.hasOwnProperty(Z)&&Tr[Z].objectNumber>=0&&X("/"+Z+" "+Tr[Z].objectNumber+" 0 R");It.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},$t=function(R){Yt[R.fontName]=Yt[R.fontName]||{},Yt[R.fontName][R.fontStyle]=R.id},Nn=function(R,Z,be,je,Ie){var ut={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:R,fontName:Z,fontStyle:be,encoding:je,isStandardFont:Ie||!1,metadata:{}};return It.publish("addFont",{font:ut,instance:this}),Nt[ut.id]=ut,$t(ut),ut.id},Vr=m.__private__.pdfEscape=m.pdfEscape=function(R,Z){return(function(be,je){var Ie,ut,gt,Xt,lr,Er,Or,an,fa;if(gt=(je=je||{}).sourceEncoding||"Unicode",lr=je.outputEncoding,(je.autoencode||lr)&&Nt[ke].metadata&&Nt[ke].metadata[gt]&&Nt[ke].metadata[gt].encoding&&(Xt=Nt[ke].metadata[gt].encoding,!lr&&Nt[ke].encoding&&(lr=Nt[ke].encoding),!lr&&Xt.codePages&&(lr=Xt.codePages[0]),typeof lr=="string"&&(lr=Xt[lr]),lr)){for(Or=!1,Er=[],Ie=0,ut=be.length;Ie<ut;Ie++)(an=lr[be.charCodeAt(Ie)])?Er.push(String.fromCharCode(an)):Er.push(be[Ie]),Er[Ie].charCodeAt(0)>>8&&(Or=!0);be=Er.join("")}for(Ie=be.length;Or===void 0&&Ie!==0;)be.charCodeAt(Ie-1)>>8&&(Or=!0),Ie--;if(!Or)return be;for(Er=je.noBOM?[]:[254,255],Ie=0,ut=be.length;Ie<ut;Ie++){if((fa=(an=be.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Er.push(fa),Er.push(an-(fa<<8))}return String.fromCharCode.apply(void 0,Er)})(R,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kn=m.__private__.beginPage=function(R){Oe[++ct]=[],Ot[ct]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},ml(ct),Pe(Oe[Q])},Si=function(R,Z){var be,je,Ie;switch(t=Z||t,typeof R=="string"&&(be=w(R.toLowerCase()),Array.isArray(be)&&(je=be[0],Ie=be[1])),Array.isArray(R)&&(je=R[0]*De,Ie=R[1]*De),isNaN(je)&&(je=a[0],Ie=a[1]),(je>14400||Ie>14400)&&(sa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ie=Math.min(14400,Ie)),a=[je,Ie],t.substr(0,1)){case"l":Ie>je&&(a=[Ie,je]);break;case"p":je>Ie&&(a=[Ie,je])}kn(a),Nr(BA),X(po),Vd!==0&&X(Vd+" J"),js!==0&&X(js+" j"),It.publish("addPage",{pageNumber:ct})},fl=function(R){R>0&&R<=ct&&(Oe.splice(R,1),Ot.splice(R,1),ct--,Q>ct&&(Q=ct),this.setPage(Q))},ml=function(R){R>0&&R<=ct&&(Q=R)},fo=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Oe.length-1},Fu=function(R,Z,be){var je,Ie=void 0;return be=be||{},R=R!==void 0?R:Nt[ke].fontName,Z=Z!==void 0?Z:Nt[ke].fontStyle,je=R.toLowerCase(),Yt[je]!==void 0&&Yt[je][Z]!==void 0?Ie=Yt[je][Z]:Yt[R]!==void 0&&Yt[R][Z]!==void 0?Ie=Yt[R][Z]:be.disableWarning===!1&&sa.warn("Unable to look up font label for font '"+R+"', '"+Z+"'. Refer to getFontList() for available fonts."),Ie||be.noFallback||(Ie=Yt.times[Z])==null&&(Ie=Yt.times.normal),Ie},ha=m.__private__.putInfo=function(){var R=Tn(),Z=function(je){return je};for(var be in d!==null&&(Z=us.encryptor(R,0)),X("<<"),X("/Producer ("+Vr(Z("jsPDF "+fr.version))+")"),ar)ar.hasOwnProperty(be)&&ar[be]&&X("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Vr(Z(ar[be]))+")");X("/CreationDate ("+Vr(Z(ae))+")"),X(">>"),X("endobj")},Mc=m.__private__.putCatalog=function(R){var Z=(R=R||{}).rootDictionaryObjId||de;switch(Tn(),X("<<"),X("/Type /Catalog"),X("/Pages "+Z+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Ye;be.substr(be.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&X("/OpenAction [3 0 R /XYZ null null "+P(Ye)+"]")}switch(dr||(dr="continuous"),dr){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Bt&&X("/PageMode /"+Bt),It.publish("putCatalog"),X(">>"),X("endobj")},pl=m.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(J+1)),X("/Root "+J+" 0 R"),X("/Info "+(J-1)+" 0 R"),d!==null&&X("/Encrypt "+us.oid+" 0 R"),X("/ID [ <"+W+"> <"+W+"> ]"),X(">>")},fn=m.__private__.putHeader=function(){X("%PDF-"+y),X("%")},pf=m.__private__.putXRef=function(){var R="0000000000";X("xref"),X("0 "+(J+1)),X("0000000000 65535 f ");for(var Z=1;Z<=J;Z++)typeof oe[Z]=="function"?X((R+oe[Z]()).slice(-10)+" 00000 n "):oe[Z]!==void 0?X((R+oe[Z]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Xl=m.__private__.buildDocument=function(){var R;J=0,ue=0,Ne=[],oe=[],xe=[],de=Ca(),he=Ca(),Pe(Ne),It.publish("buildDocument"),fn(),ze(),(function(){It.publish("putAdditionalObjects");for(var be=0;be<xe.length;be++){var je=xe[be];se(je.objId,!0),X(je.content),X("endobj")}It.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var be in Nt)Nt.hasOwnProperty(be)&&(f===!1||f===!0&&p.hasOwnProperty(be))&&$e(Nt[be])})(),(function(){var be;for(be in mr)mr.hasOwnProperty(be)&&Ct(mr[be])})(),(function(){for(var be in Tr)Tr.hasOwnProperty(be)&&yt(Tr[be])})(),(function(be){var je;for(je in Pt)Pt.hasOwnProperty(je)&&(Pt[je]instanceof n0?St(Pt[je]):Pt[je]instanceof Cp&&kt(Pt[je],be))})(R),It.publish("putResources"),R.forEach(jt),jt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources"),d!==null&&(us.oid=Tn(),X("<<"),X("/Filter /Standard"),X("/V "+us.v),X("/R "+us.r),X("/U <"+us.toHexString(us.U)+">"),X("/O <"+us.toHexString(us.O)+">"),X("/P "+us.P),X(">>"),X("endobj")),ha(),Mc();var Z=ue;return pf(),pl(),X("startxref"),X(""+Z),X("%%EOF"),Pe(Oe[Q]),Ne.join(`
`)},Ou=m.__private__.getBlob=function(R){return new Blob([We(R)],{type:"application/pdf"})},gf=m.output=m.__private__.output=(Es=function(R,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",R){case void 0:return Xl();case"save":m.save(Z.filename);break;case"arraybuffer":return We(Xl());case"blob":return Ou(Xl());case"bloburi":case"bloburl":if(Fr.URL!==void 0&&typeof Fr.URL.createObjectURL=="function")return Fr.URL&&Fr.URL.createObjectURL(Ou(Xl()))||void 0;sa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",je=Xl();try{be=r8(je)}catch{be=r8(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+Z.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Ie=Z.pdfObjectUrl,ut="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Xt=Fr.open();return Xt!==null&&Xt.document.write(gt),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Er=Fr.open();if(Er!==null){Er.document.write(lr);var Or=this;Er.document.documentElement.querySelector("#pdfViewer").onload=function(){Er.document.title=Z.filename,Er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Or.output("bloburl"))}}return Er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',fa=Fr.open();if(fa!==null&&(fa.document.write(an),fa.document.title=Z.filename),fa||typeof safari>"u")return fa;break;case"datauri":case"dataurl":return Fr.document.location.href=this.output("datauristring",Z);default:return null}},Es.foo=function(){try{return Es.apply(this,arguments)}catch(be){var R=be.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Z="Error in function "+R.split(`
`)[0].split("<")[0]+": "+be.message;if(!Fr.console)throw new Error(Z);Fr.console.error(Z,be),Fr.alert&&alert(Z)}},Es.foo.bar=Es,Es.foo),Bi=function(R){return Array.isArray(hn)===!0&&hn.indexOf(R)>-1};switch(n){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=Bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);De=n}var us=null;ne(),re();var Xa=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[R].objId,pageNumber:R,pageContext:Ot[R]}},Kd=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Ot)if(Ot[Z].objId===R)break;return Xa(Z)},am=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ot[Q].objId,pageNumber:Q,pageContext:Ot[Q]}};m.addPage=function(){return Si.apply(this,arguments),this},m.setPage=function(){return ml.apply(this,arguments),Pe.call(this,Oe[Q]),this},m.insertPage=function(R){return this.addPage(),this.movePage(Q,R),this},m.movePage=function(R,Z){var be,je;if(R>Z){be=Oe[R],je=Ot[R];for(var Ie=R;Ie>Z;Ie--)Oe[Ie]=Oe[Ie-1],Ot[Ie]=Ot[Ie-1];Oe[Z]=be,Ot[Z]=je,this.setPage(Z)}else if(R<Z){be=Oe[R],je=Ot[R];for(var ut=R;ut<Z;ut++)Oe[ut]=Oe[ut+1],Ot[ut]=Ot[ut+1];Oe[Z]=be,Ot[Z]=je,this.setPage(Z)}return this},m.deletePage=function(){return fl.apply(this,arguments),this},m.__private__.text=m.text=function(R,Z,be,je,Ie){var ut,gt,Xt,lr,Er,Or,an,fa,La,$n=(je=je||{}).scope||this;if(typeof R=="number"&&typeof Z=="number"&&(typeof be=="string"||Array.isArray(be))){var As=be;be=Z,Z=R,R=As}if(arguments[3]instanceof sr==0?(Xt=arguments[4],lr=arguments[5],Qn(an=arguments[3])==="object"&&an!==null||(typeof Xt=="string"&&(lr=Xt,Xt=null),typeof an=="string"&&(lr=an,an=null),typeof an=="number"&&(Xt=an,an=null),je={flags:an,angle:Xt,align:lr})):(k("The transform parameter of text() with a Matrix value"),La=Ie),isNaN(Z)||isNaN(be)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return $n;var Ja,Qs="",Vc=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Rc,yl=$n.internal.scaleFactor;function qc(mn){return mn=mn.split("	").join(Array(je.TabLen||9).join(" ")),Vr(mn,an)}function Bf(mn){for(var sn,Vn=mn.concat(),Ra=[],oc=Vn.length;oc--;)typeof(sn=Vn.shift())=="string"?Ra.push(sn):Array.isArray(mn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Ra.push(sn[0]):Ra.push([sn[0],sn[1],sn[2]]);return Ra}function Gd(mn,sn){var Vn;if(typeof mn=="string")Vn=sn(mn)[0];else if(Array.isArray(mn)){for(var Ra,oc,Cl=mn.concat(),OA=[],_f=Cl.length;_f--;)typeof(Ra=Cl.shift())=="string"?OA.push(sn(Ra)[0]):Array.isArray(Ra)&&typeof Ra[0]=="string"&&(oc=sn(Ra[0],Ra[1],Ra[2]),OA.push([oc[0],oc[1],oc[2]]));Vn=OA}return Vn}var ec=!1,vl=!0;if(typeof R=="string")ec=!0;else if(Array.isArray(R)){var kA=R.concat();gt=[];for(var Gc,_s=kA.length;_s--;)(typeof(Gc=kA.shift())!="string"||Array.isArray(Gc)&&typeof Gc[0]!="string")&&(vl=!1);ec=vl}if(ec===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Pu=st/$n.internal.scaleFactor,Iu=Pu*(Vc-1);switch(je.baseline){case"bottom":be-=Iu;break;case"top":be+=Pu-Iu;break;case"hanging":be+=Pu-2*Iu;break;case"middle":be+=Pu/2-Iu}if((Or=je.maxWidth||0)>0&&(typeof R=="string"?R=$n.splitTextToSize(R,Or):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(mn,sn){return mn.concat($n.splitTextToSize(sn,Or))},[]))),ut={text:R,x:Z,y:be,options:je,mutex:{pdfEscape:Vr,activeFontKey:ke,fonts:Nt,activeFontSize:st}},It.publish("preProcessText",ut),R=ut.text,Xt=(je=ut.options).angle,La instanceof sr==0&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,je.rotationDirection===0&&(Xt=-Xt),j===C&&(Xt=-Xt);var Wd=Math.cos(Xt),tc=Math.sin(Xt);La=new sr(Wd,tc,-tc,Wd,0,0)}else Xt&&Xt instanceof sr&&(La=Xt);j!==C||La||(La=Ya),(Er=je.charSpace||Oo)!==void 0&&(Qs+=D(M(Er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fa=je.horizontalScale)!==void 0&&(Qs+=D(100*fa)+` Tz
`),je.lang;var ji=-1,Wc=je.renderingMode!==void 0?je.renderingMode:je.stroke,Yd=$n.internal.getCurrentPageInfo().pageContext;switch(Wc){case 0:case!1:case"fill":ji=0;break;case 1:case!0:case"stroke":ji=1;break;case 2:case"fillThenStroke":ji=2;break;case 3:case"invisible":ji=3;break;case 4:case"fillAndAddForClipping":ji=4;break;case 5:case"strokeAndAddPathForClipping":ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ji=6;break;case 7:case"addToPathForClipping":ji=7}var Ef=Yd.usedRenderingMode!==void 0?Yd.usedRenderingMode:-1;ji!==-1?Qs+=ji+` Tr
`:Ef!==-1&&(Qs+=`0 Tr
`),ji!==-1&&(Yd.usedRenderingMode=ji),lr=je.align||"left";var go,bl=st*Vc,Yc=$n.internal.pageSize.getWidth(),jf=Nt[ke];Er=je.charSpace||Oo,Or=je.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},je.flags);var wl=[],Lu=function(mn){return $n.getStringUnitWidth(mn,{font:jf,charSpace:Er,fontSize:st,doKerning:!1})*st/yl};if(Object.prototype.toString.call(R)==="[object Array]"){var Yi;gt=Bf(R),lr!=="left"&&(go=gt.map(Lu));var _i,rc=0;if(lr==="right"){Z-=go[0],R=[],_s=gt.length;for(var nc=0;nc<_s;nc++)nc===0?(_i=mo(Z),Yi=Us(be)):(_i=M(rc-go[nc]),Yi=-bl),R.push([gt[nc],_i,Yi]),rc=go[nc]}else if(lr==="center"){Z-=go[0]/2,R=[],_s=gt.length;for(var Xc=0;Xc<_s;Xc++)Xc===0?(_i=mo(Z),Yi=Us(be)):(_i=M((rc-go[Xc])/2),Yi=-bl),R.push([gt[Xc],_i,Yi]),rc=go[Xc]}else if(lr==="left"){R=[],_s=gt.length;for(var Xd=0;Xd<_s;Xd++)R.push(gt[Xd])}else if(lr==="justify"&&jf.encoding==="Identity-H"){R=[],_s=gt.length,Or=Or!==0?Or:Yc;for(var Jd=0,Ma=0;Ma<_s;Ma++)if(Yi=Ma===0?Us(be):-bl,_i=Ma===0?mo(Z):Jd,Ma<_s-1){var hm=M((Or-go[Ma])/(gt[Ma].split(" ").length-1)),ac=gt[Ma].split(" ");R.push([ac[0]+" ",_i,Yi]),Jd=0;for(var sc=1;sc<ac.length;sc++){var Hs=(Lu(ac[sc-1]+" "+ac[sc])-Lu(ac[sc]))*yl+hm;sc==ac.length-1?R.push([ac[sc],Hs,0]):R.push([ac[sc]+" ",Hs,0]),Jd-=Hs}}else R.push([gt[Ma],_i,Yi]);R.push(["",Jd,0])}else{if(lr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],_s=gt.length,Or=Or!==0?Or:Yc,Ma=0;Ma<_s;Ma++){Yi=Ma===0?Us(be):-bl,_i=Ma===0?mo(Z):0;var Jc=gt[Ma].split(" ").length-1,Zd=Jc>0?(Or-go[Ma])/Jc:0;Ma<_s-1?wl.push(D(M(Zd))):wl.push(0),R.push([gt[Ma],_i,Yi])}}}(typeof je.R2L=="boolean"?je.R2L:wt)===!0&&(R=Gd(R,function(mn,sn,Vn){return[mn.split("").reverse().join(""),sn,Vn]})),ut={text:R,x:Z,y:be,options:je,mutex:{pdfEscape:Vr,activeFontKey:ke,fonts:Nt,activeFontSize:st}},It.publish("postProcessText",ut),R=ut.text,Ja=ut.mutex.isHex||!1;var eh=Nt[ke].encoding;eh!=="WinAnsiEncoding"&&eh!=="StandardEncoding"||(R=Gd(R,function(mn,sn,Vn){return[qc(mn),sn,Vn]})),gt=Bf(R),R=[];for(var Zc,eu,ic,FA=Array.isArray(gt[0])?1:0,xo="",tu=function(mn,sn,Vn){var Ra="";return Vn instanceof sr?(Vn=typeof je.angle=="number"?wa(Vn,new sr(1,0,0,1,mn,sn)):wa(new sr(1,0,0,1,mn,sn),Vn),j===C&&(Vn=wa(new sr(1,0,0,-1,0,0),Vn)),Ra=Vn.join(" ")+` Tm
`):Ra=D(mn)+" "+D(sn)+` Td
`,Ra},ai=0;ai<gt.length;ai++){switch(xo="",FA){case 1:ic=(Ja?"<":"(")+gt[ai][0]+(Ja?">":")"),Zc=parseFloat(gt[ai][1]),eu=parseFloat(gt[ai][2]);break;case 0:ic=(Ja?"<":"(")+gt[ai]+(Ja?">":")"),Zc=mo(Z),eu=Us(be)}wl!==void 0&&wl[ai]!==void 0&&(xo=wl[ai]+` Tw
`),ai===0?R.push(xo+tu(Zc,eu,La)+ic):FA===0?R.push(xo+ic):FA===1&&R.push(xo+tu(Zc,eu,La)+ic)}R=FA===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Po=`BT
/`;return Po+=ke+" "+st+` Tf
`,Po+=D(st*Vc)+` TL
`,Po+=Jl+`
`,Po+=Qs,Po+=R,X(Po+="ET"),p[ke]=!0,$n};var xf=m.__private__.clip=m.clip=function(R){return X(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return xf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return X("n"),this};var Ei=m.__private__.isValidStyle=function(R){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return Ei(R)&&(u=R),this};var yf=m.__private__.getStyle=m.getStyle=function(R){var Z=u;switch(R){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=R}return Z},vf=m.close=function(){return X("h"),this};m.stroke=function(){return X("S"),this},m.fill=function(R){return gl("f",R),this},m.fillEvenOdd=function(R){return gl("f*",R),this},m.fillStroke=function(R){return gl("B",R),this},m.fillStrokeEvenOdd=function(R){return gl("B*",R),this};var gl=function(R,Z){Qn(Z)==="object"?im(Z,R):X(R)},SA=function(R){R===null||j===C&&R===void 0||(R=yf(R),X(R))};function sm(R,Z,be,je,Ie){var ut=new Cp(Z||this.boundingBox,be||this.xStep,je||this.yStep,this.gState,Ie||this.matrix);ut.stream=this.stream;var gt=R+"$$"+this.cloneIndex+++"$$";return ua(gt,ut),ut}var im=function(R,Z){var be=Wr[R.key],je=Pt[be];if(je instanceof n0)X("q"),X(bf(Z)),je.gState&&m.setGState(je.gState),X(R.matrix.toString()+" cm"),X("/"+be+" sh"),X("Q");else if(je instanceof Cp){var Ie=new sr(1,0,0,-1,0,$c());R.matrix&&(Ie=Ie.multiply(R.matrix||Ya),be=sm.call(je,R.key,R.boundingBox,R.xStep,R.yStep,Ie).id),X("q"),X("/Pattern cs"),X("/"+be+" scn"),je.gState&&m.setGState(je.gState),X(Z),X("Q")}},bf=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wf=m.moveTo=function(R,Z){return X(D(M(R))+" "+D(q(Z))+" m"),this},om=m.lineTo=function(R,Z){return X(D(M(R))+" "+D(q(Z))+" l"),this},Wi=m.curveTo=function(R,Z,be,je,Ie,ut){return X([D(M(R)),D(q(Z)),D(M(be)),D(q(je)),D(M(Ie)),D(q(ut)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,Z,be,je,Ie){if(isNaN(R)||isNaN(Z)||isNaN(be)||isNaN(je)||!Ei(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return j===S?this.lines([[be-R,je-Z]],R,Z,[1,1],Ie||"S"):this.lines([[be-R,je-Z]],R,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,Z,be,je,Ie,ut){var gt,Xt,lr,Er,Or,an,fa,La,$n,As,Ja,Qs;if(typeof R=="number"&&(Qs=be,be=Z,Z=R,R=Qs),je=je||[1,1],ut=ut||!1,isNaN(Z)||isNaN(be)||!Array.isArray(R)||!Array.isArray(je)||!Ei(Ie)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wf(Z,be),gt=je[0],Xt=je[1],Er=R.length,As=Z,Ja=be,lr=0;lr<Er;lr++)(Or=R[lr]).length===2?(As=Or[0]*gt+As,Ja=Or[1]*Xt+Ja,om(As,Ja)):(an=Or[0]*gt+As,fa=Or[1]*Xt+Ja,La=Or[2]*gt+As,$n=Or[3]*Xt+Ja,As=Or[4]*gt+As,Ja=Or[5]*Xt+Ja,Wi(an,fa,La,$n,As,Ja));return ut&&vf(),SA(Ie),this},m.path=function(R){for(var Z=0;Z<R.length;Z++){var be=R[Z],je=be.c;switch(be.op){case"m":wf(je[0],je[1]);break;case"l":om(je[0],je[1]);break;case"c":Wi.apply(this,je);break;case"h":vf()}}return this},m.__private__.rect=m.rect=function(R,Z,be,je,Ie){if(isNaN(R)||isNaN(Z)||isNaN(be)||isNaN(je)||!Ei(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return j===S&&(je=-je),X([D(M(R)),D(q(Z)),D(M(be)),D(M(je)),"re"].join(" ")),SA(Ie),this},m.__private__.triangle=m.triangle=function(R,Z,be,je,Ie,ut,gt){if(isNaN(R)||isNaN(Z)||isNaN(be)||isNaN(je)||isNaN(Ie)||isNaN(ut)||!Ei(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-R,je-Z],[Ie-be,ut-je],[R-Ie,Z-ut]],R,Z,[1,1],gt,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,Z,be,je,Ie,ut,gt){if(isNaN(R)||isNaN(Z)||isNaN(be)||isNaN(je)||isNaN(Ie)||isNaN(ut)||!Ei(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*be),ut=Math.min(ut,.5*je),this.lines([[be-2*Ie,0],[Ie*Xt,0,Ie,ut-ut*Xt,Ie,ut],[0,je-2*ut],[0,ut*Xt,-Ie*Xt,ut,-Ie,ut],[2*Ie-be,0],[-Ie*Xt,0,-Ie,-ut*Xt,-Ie,-ut],[0,2*ut-je],[0,-ut*Xt,Ie*Xt,-ut,Ie,-ut]],R+Ie,Z,[1,1],gt,!0),this},m.__private__.ellipse=m.ellipse=function(R,Z,be,je,Ie){if(isNaN(R)||isNaN(Z)||isNaN(be)||isNaN(je)||!Ei(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*be,gt=4/3*(Math.SQRT2-1)*je;return wf(R+be,Z),Wi(R+be,Z-gt,R+ut,Z-je,R,Z-je),Wi(R-ut,Z-je,R-be,Z-gt,R-be,Z),Wi(R-be,Z+gt,R-ut,Z+je,R,Z+je),Wi(R+ut,Z+je,R+be,Z+gt,R+be,Z),SA(Ie),this},m.__private__.circle=m.circle=function(R,Z,be,je){if(isNaN(R)||isNaN(Z)||isNaN(be)||!Ei(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,Z,be,be,je)},m.setFont=function(R,Z,be){return be&&(Z=I(Z,be)),ke=Fu(R,Z,{disableWarning:!1}),this};var xl=m.__private__.getFont=m.getFont=function(){return Nt[Fu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,Z,be={};for(R in Yt)if(Yt.hasOwnProperty(R))for(Z in be[R]=[],Yt[R])Yt[R].hasOwnProperty(Z)&&be[R].push(Z);return be},m.addFont=function(R,Z,be,je,Ie){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(be=I(be,je)),Nn.call(this,R,Z,be,Ie=Ie||"Identity-H")};var Rc,BA=r.lineWidth||.200025,Du=m.__private__.getLineWidth=m.getLineWidth=function(){return BA},Nr=m.__private__.setLineWidth=m.setLineWidth=function(R){return BA=R,X(D(M(R))+" w"),this};m.__private__.setLineDash=fr.API.setLineDash=fr.API.setLineDashPattern=function(R,Z){if(R=R||[],Z=Z||0,isNaN(Z)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(be){return D(M(be))}).join(" "),Z=D(M(Z)),X("["+R+"] "+Z+" d"),this};var lm=m.__private__.getLineHeight=m.getLineHeight=function(){return st*Rc};m.__private__.getLineHeight=m.getLineHeight=function(){return st*Rc};var Cf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Rc=R),this},cm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Rc};Cf(r.lineHeight);var mo=m.__private__.getHorizontalCoordinate=function(R){return M(R)},Us=m.__private__.getVerticalCoordinate=function(R){return j===C?R:Ot[Q].mediaBox.topRightY-Ot[Q].mediaBox.bottomLeftY-M(R)},Nf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return D(mo(R))},EA=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return D(Us(R))},po=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return me(po)},m.__private__.setStrokeColor=m.setDrawColor=function(R,Z,be,je){return po=we({ch1:R,ch2:Z,ch3:be,ch4:je,pdfColorType:"draw",precision:2}),X(po),this};var jA=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return me(jA)},m.__private__.setFillColor=m.setFillColor=function(R,Z,be,je){return jA=we({ch1:R,ch2:Z,ch3:be,ch4:je,pdfColorType:"fill",precision:2}),X(jA),this};var Jl=r.textColor||"0 g",um=m.__private__.getTextColor=m.getTextColor=function(){return me(Jl)};m.__private__.setTextColor=m.setTextColor=function(R,Z,be,je){return Jl=we({ch1:R,ch2:Z,ch3:be,ch4:je,pdfColorType:"text",precision:3}),this};var Oo=r.charSpace,$d=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Oo||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oo=R,this};var Vd=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var Z=m.CapJoinStyles[R];if(Z===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vd=Z,X(Z+" J"),this};var js=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var Z=m.CapJoinStyles[R];if(Z===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return js=Z,X(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(D(M(R))+" M"),this},m.GState=J2,m.setGState=function(R){(R=typeof R=="string"?mr[or[R]]:Zl(null,R)).equals(dt)||(X("/"+R.id+" gs"),dt=R)};var Zl=function(R,Z){if(!R||!or[R]){var be=!1;for(var je in mr)if(mr.hasOwnProperty(je)&&mr[je].equals(Z)){be=!0;break}if(be)Z=mr[je];else{var Ie="GS"+(Object.keys(mr).length+1).toString(10);mr[Ie]=Z,Z.id=Ie}return R&&(or[R]=Z.id),It.publish("addGState",Z),Z}};m.addGState=function(R,Z){return Zl(R,Z),this},m.saveGraphicsState=function(){return X("q"),ir.push({key:ke,size:st,color:Jl}),this},m.restoreGraphicsState=function(){X("Q");var R=ir.pop();return ke=R.key,st=R.size,Jl=R.color,dt=null,this},m.setCurrentTransformationMatrix=function(R){return X(R.toString()+" cm"),this},m.comment=function(R){return X("#"+R),this};var Do=function(R,Z){var be=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(ut){isNaN(ut)||(be=parseFloat(ut))}});var je=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(ut){isNaN(ut)||(je=parseFloat(ut))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(ut){Ie=ut.toString()}}),this},Uc=function(R,Z,be,je){Do.call(this,R,Z),this.type="rect";var Ie=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(gt){isNaN(gt)||(Ie=parseFloat(gt))}});var ut=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(gt){isNaN(gt)||(ut=parseFloat(gt))}}),this},qd=function(){this.page=ct,this.currentPage=Q,this.pages=Oe.slice(0),this.pagesContext=Ot.slice(0),this.x=rt,this.y=pr,this.matrix=Qt,this.width=Hc(Q),this.height=Sf(Q),this.outputDestination=qe,this.id="",this.objectNumber=-1};qd.prototype.restore=function(){ct=this.page,Q=this.currentPage,Ot=this.pagesContext,Oe=this.pages,rt=this.x,pr=this.y,Qt=this.matrix,TA(Q,this.width),zc(Q,this.height),qe=this.outputDestination};var _A=function(R,Z,be,je,Ie){ca.push(new qd),ct=Q=0,Oe=[],rt=R,pr=Z,Qt=Ie,kn([be,je])};for(var Qc in m.beginFormObject=function(R,Z,be,je,Ie){return _A(R,Z,be,je,Ie),this},m.endFormObject=function(R){return(function(Z){if(cs[Z])ca.pop().restore();else{var be=new qd,je="Xo"+(Object.keys(Tr).length+1).toString(10);be.id=je,cs[Z]=je,Tr[je]=be,It.publish("addFormObject",be),ca.pop().restore()}})(R),this},m.doFormObject=function(R,Z){var be=Tr[cs[R]];return X("q"),X(Z.toString()+" cm"),X("/"+be.id+" Do"),X("Q"),this},m.getFormObject=function(R){var Z=Tr[cs[R]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(R,Z){return R=R||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Zf(Ou(Xl()),R),typeof Zf.unload=="function"&&Fr.setTimeout&&setTimeout(Zf.unload,911),this):new Promise(function(be,je){try{var Ie=Zf(Ou(Xl()),R);typeof Zf.unload=="function"&&Fr.setTimeout&&setTimeout(Zf.unload,911),be(Ie)}catch(ut){je(ut.message)}})},fr.API)fr.API.hasOwnProperty(Qc)&&(Qc==="events"&&fr.API.events.length?(function(R,Z){var be,je,Ie;for(Ie=Z.length-1;Ie!==-1;Ie--)be=Z[Ie][0],je=Z[Ie][1],R.subscribe.apply(R,[be].concat(typeof je=="function"?[je]:je))})(It,fr.API.events):m[Qc]=fr.API[Qc]);function Hc(R){return Ot[R].mediaBox.topRightX-Ot[R].mediaBox.bottomLeftX}function TA(R,Z){Ot[R].mediaBox.topRightX=Z+Ot[R].mediaBox.bottomLeftX}function Sf(R){return Ot[R].mediaBox.topRightY-Ot[R].mediaBox.bottomLeftY}function zc(R,Z){Ot[R].mediaBox.topRightY=Z+Ot[R].mediaBox.bottomLeftY}var Kc=m.getPageWidth=function(R){return Hc(R=R||Q)/De},Am=m.setPageWidth=function(R,Z){TA(R,Z*De)},$c=m.getPageHeight=function(R){return Sf(R=R||Q)/De},dm=m.setPageHeight=function(R,Z){zc(R,Z*De)};return m.internal={pdfEscape:Vr,getStyle:yf,getFont:xl,getFontSize:ht,getCharSpace:$d,getTextColor:um,getLineHeight:lm,getLineHeightFactor:cm,getLineWidth:Du,write:Me,getHorizontalCoordinate:mo,getVerticalCoordinate:Us,getCoordinateString:Nf,getVerticalCoordinateString:EA,collections:{},newObject:Tn,newAdditionalObject:ve,newObjectDeferred:Ca,newObjectDeferredBegin:se,getFilters:Ue,putStream:tt,events:It,scaleFactor:De,pageSize:{getWidth:function(){return Kc(Q)},setWidth:function(R){Am(Q,R)},getHeight:function(){return $c(Q)},setHeight:function(R){dm(Q,R)}},encryptionOptions:d,encryption:us,getEncryptor:function(R){return d!==null?us.encryptor(R,0):function(Z){return Z}},output:gf,getNumberOfPages:fo,get pages(){return Oe},out:X,f2:P,f3:U,getPageInfo:Xa,getPageInfoByObjId:Kd,getCurrentPageInfo:am,getPDFVersion:g,Point:Do,Rectangle:Uc,Matrix:sr,hasHotfix:Bi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Kc(Q)},set:function(R){Am(Q,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return $c(Q)},set:function(R){dm(Q,R)},enumerable:!0,configurable:!0}),(function(R){for(var Z=0,be=bt.length;Z<be;Z++){var je=Nn.call(this,R[Z][0],R[Z][1],R[Z][2],bt[Z][3],!0);f===!1&&(p[je]=!0);var Ie=R[Z][0].split("-");$t({id:je,fontName:Ie[0],fontStyle:Ie[1]||""})}It.publish("addFonts",{fonts:Nt,dictionary:Yt})}).call(m,bt),ke="F1",Si(a,t),It.publish("initialized"),m}pp.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},pp.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pp.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},pp.prototype.processOwnerPassword=function(r,e){return e_(Zj(e).substr(0,5),r)},pp.prototype.encryptor=function(r,e){var t=Zj(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return e_(t,n)}},J2.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Qn(r)!==Qn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},fr.API={events:[]},fr.version="4.0.0";var ss=fr.API,Ck=1,nm=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lp=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(r){return r.toFixed(2)},_h=function(r){return r.toFixed(5)};ss.__acroform__={};var hl=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},i8=function(r){return r*Ck},oA=function(r){var e=new tW,t=rr.internal.getHeight(r)||0,n=rr.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ir(n)),Number(Ir(t))],e},C6e=ss.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},N6e=ss.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},S6e=ss.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},ys=ss.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return S6e(r,e-1)},vs=ss.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return C6e(r,e-1)},bs=ss.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return N6e(r,e-1)},B6e=ss.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],s=r[1],i=r[2],l=r[3],c={};return c.lowerLeft_X=t(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=t(a+i)||0,c.upperRight_Y=n(s)||0,[Number(Ir(c.lowerLeft_X)),Number(Ir(c.lowerLeft_Y)),Number(Ir(c.upperRight_X)),Number(Ir(c.upperRight_Y))]},E6e=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=t_(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Ir(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=oA(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},t_=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var s=t,i=rr.internal.getHeight(r)||0;i=i<0?-i:i;var l=rr.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(P,U,M){if(P+1<a.length){var q=U+" "+a[P+1][0];return rw(q,r,M).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,f=rw("3",r,s).height,p=r.multiline?i-s:(i-f)/2,m=p+=2,y=0,g=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+rw(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",S=0,C=0;C<a.length;C++)if(a.hasOwnProperty(C)){var j=!1;if(a[C].length!==1&&v!==a[C].length-1){if((f+2)*(S+2)+2>i)continue e;w+=a[C][v],j=!0,g=C,C--}else{w=(w+=a[C][v]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var T=parseInt(C),L=c(T,w,s),I=C>=a.length-1;if(L&&!I){w+=" ",v=0;continue}if(L||I){if(I)g=T;else if(r.multiline&&(f+2)*(S+2)+2>i)continue e}else{if(!r.multiline||(f+2)*(S+2)+2>i)continue e;g=T}}for(var D="",k=y;k<=g;k++){var z=a[k];if(r.multiline){if(k===g){D+=z[v]+" ",v=(v+1)%z.length;continue}if(k===y){D+=z[z.length-1]+" ";continue}}D+=z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=rw(D,r,s).width,r.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Ir(u)+" "+Ir(m)+` Td
`,e+="("+nm(D)+`) Tj
`,e+=-Ir(u)+` 0 Td
`,m=-(s+2),d=0,y=j?g:g+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},rw=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},j6e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_6e=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},T6e=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Tu.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(j6e)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ck=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new rW,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&_6e(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],u=l.Rect;if(l.Rect&&(l.Rect=B6e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=rr.createDefaultAppearanceStream(l),Qn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=E6e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var m=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var y=m[i];typeof y=="function"&&(y=y.call(a,l)),f+="/"+i+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,l)),f+="/"+i+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&(function(g,v){for(var w in g)if(g.hasOwnProperty(w)){var S=w,C=g[w];v.internal.newObjectDeferredBegin(C.objId,!0),Qn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete g[S]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},eW=ss.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),Qn(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+nm(n(r[s].toString()))+")"):a+=r[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},RE=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+nm(n(r))+")"},mA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mA.prototype.toString=function(){return this.objId+" 0 R"},mA.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},mA.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:eW(a,this.objId,this.scope)}):a instanceof mA?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var tW=function(){mA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};hl(tW,mA);var rW=function(){mA.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+nm(t(r))+")"}},set:function(t){r=t}})};hl(rW,mA);var Tu=function r(){mA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ys(e,3)},set:function(w){w?this.F=vs(e,3):this.F=bs(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Z2)return;s="FieldObject"+r.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+nm(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(w){i=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Ck:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Z2||this instanceof C0))return RE(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mi==0?RE(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof mi==0?w.substr(0,1)==="("?lp(w.substr(1,w.length-2)):lp(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?lp(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof mi==1?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof mi==0?RE(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof mi==0?w.substr(0,1)==="("?lp(w.substr(1,w.length-2)):lp(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?lp(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof mi==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=!!w,g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,1)},set:function(w){w?this.Ff=vs(this.Ff,1):this.Ff=bs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,2)},set:function(w){w?this.Ff=vs(this.Ff,2):this.Ff=bs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,3)},set:function(w){w?this.Ff=vs(this.Ff,3):this.Ff=bs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');v=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(v){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};hl(Tu,mA);var Ip=function(){Tu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eW(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(s,i,l){l||(l=1);for(var c,u=[];c=i.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,18)},set:function(t){t?this.Ff=vs(this.Ff,18):this.Ff=bs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=vs(this.Ff,19):this.Ff=bs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,20)},set:function(t){t?(this.Ff=vs(this.Ff,20),e.sort()):this.Ff=bs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,22)},set:function(t){t?this.Ff=vs(this.Ff,22):this.Ff=bs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,23)},set:function(t){t?this.Ff=vs(this.Ff,23):this.Ff=bs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,27)},set:function(t){t?this.Ff=vs(this.Ff,27):this.Ff=bs(this.Ff,27)}}),this.hasAppearanceStream=!1};hl(Ip,Tu);var Lp=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};hl(Lp,Ip);var Mp=function(){Lp.call(this),this.combo=!0};hl(Mp,Lp);var Cw=function(){Mp.call(this),this.edit=!0};hl(Cw,Mp);var mi=function(){Tu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,15)},set:function(t){t?this.Ff=vs(this.Ff,15):this.Ff=bs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,16)},set:function(t){t?this.Ff=vs(this.Ff,16):this.Ff=bs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,17)},set:function(t){t?this.Ff=vs(this.Ff,17):this.Ff=bs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,26)},set:function(t){t?this.Ff=vs(this.Ff,26):this.Ff=bs(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+nm(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Qn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};hl(mi,Tu);var Nw=function(){mi.call(this),this.pushButton=!0};hl(Nw,mi);var Rp=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};hl(Rp,mi);var Z2=function(){var r,e;Tu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+nm(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Qn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hl(Z2,Tu),Rp.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Rp.prototype.createOption=function(r){var e=new Z2;return e.Parent=this,e.optionName=r,this.Kids.push(e),k6e.call(this.scope,e),e};var Sw=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rr.CheckBox.createAppearanceStream()};hl(Sw,mi);var C0=function(){Tu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,13)},set:function(e){e?this.Ff=vs(this.Ff,13):this.Ff=bs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,21)},set:function(e){e?this.Ff=vs(this.Ff,21):this.Ff=bs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,23)},set:function(e){e?this.Ff=vs(this.Ff,23):this.Ff=bs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,24)},set:function(e){e?this.Ff=vs(this.Ff,24):this.Ff=bs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,25)},set:function(e){e?this.Ff=vs(this.Ff,25):this.Ff=bs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,26)},set:function(e){e?this.Ff=vs(this.Ff,26):this.Ff=bs(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hl(C0,Tu);var Bw=function(){C0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,14)},set:function(r){r?this.Ff=vs(this.Ff,14):this.Ff=bs(this.Ff,14)}}),this.password=!0};hl(Bw,C0);var rr={CheckBox:{createAppearanceStream:function(){return{N:{On:rr.CheckBox.YesNormal},D:{On:rr.CheckBox.YesPushDown,Off:rr.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=oA(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=t_(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ir(rr.internal.getWidth(r))+" "+Ir(rr.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ir(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=oA(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],s=rr.internal.getHeight(r),i=rr.internal.getWidth(r),l=t_(r,r.caption);return a.push("1 g"),a.push("0 0 "+Ir(i)+" "+Ir(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ir(i-1)+" "+Ir(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Ir(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=oA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ir(rr.internal.getWidth(r))+" "+Ir(rr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:rr.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=rr.RadioButton.Circle.YesNormal,e.D[r]=rr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=oA(r);e.scope=r.scope;var t=[],n=rr.internal.getWidth(r)<=rr.internal.getHeight(r)?rr.internal.getWidth(r)/4:rr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=rr.internal.Bezier_C,s=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+_h(rr.internal.getWidth(r)/2)+" "+_h(rr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=oA(r);e.scope=r.scope;var t=[],n=rr.internal.getWidth(r)<=rr.internal.getHeight(r)?rr.internal.getWidth(r)/4:rr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*rr.internal.Bezier_C).toFixed(5)),i=Number((n*rr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_h(rr.internal.getWidth(r)/2)+" "+_h(rr.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+_h(rr.internal.getWidth(r)/2)+" "+_h(rr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=oA(r);e.scope=r.scope;var t=[],n=rr.internal.getWidth(r)<=rr.internal.getHeight(r)?rr.internal.getWidth(r)/4:rr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*rr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_h(rr.internal.getWidth(r)/2)+" "+_h(rr.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:rr.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=rr.RadioButton.Cross.YesNormal,e.D[r]=rr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=oA(r);e.scope=r.scope;var t=[],n=rr.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ir(rr.internal.getWidth(r)-2)+" "+Ir(rr.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ir(n.x1.x)+" "+Ir(n.x1.y)+" m"),t.push(Ir(n.x2.x)+" "+Ir(n.x2.y)+" l"),t.push(Ir(n.x4.x)+" "+Ir(n.x4.y)+" m"),t.push(Ir(n.x3.x)+" "+Ir(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=oA(r);e.scope=r.scope;var t=rr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ir(rr.internal.getWidth(r))+" "+Ir(rr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ir(rr.internal.getWidth(r)-2)+" "+Ir(rr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ir(t.x1.x)+" "+Ir(t.x1.y)+" m"),n.push(Ir(t.x2.x)+" "+Ir(t.x2.y)+" l"),n.push(Ir(t.x4.x)+" "+Ir(t.x4.y)+" m"),n.push(Ir(t.x3.x)+" "+Ir(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=oA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ir(rr.internal.getWidth(r))+" "+Ir(rr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};rr.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=rr.internal.getWidth(r),t=rr.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},rr.internal.getWidth=function(r){var e=0;return Qn(r)==="object"&&(e=i8(r.Rect[2])),e},rr.internal.getHeight=function(r){var e=0;return Qn(r)==="object"&&(e=i8(r.Rect[3])),e};var k6e=ss.addField=function(r){if(T6e(this,r),!(r instanceof Tu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ss.AcroFormChoiceField=Ip,ss.AcroFormListBox=Lp,ss.AcroFormComboBox=Mp,ss.AcroFormEditBox=Cw,ss.AcroFormButton=mi,ss.AcroFormPushButton=Nw,ss.AcroFormRadioButton=Rp,ss.AcroFormCheckBox=Sw,ss.AcroFormTextField=C0,ss.AcroFormPasswordField=Bw,ss.AcroFormAppearance=rr,ss.AcroForm={ChoiceField:Ip,ListBox:Lp,ComboBox:Mp,EditBox:Cw,Button:mi,PushButton:Nw,RadioButton:Rp,CheckBox:Sw,TextField:C0,PasswordField:Bw,Appearance:rr},fr.AcroForm={ChoiceField:Ip,ListBox:Lp,ComboBox:Mp,EditBox:Cw,Button:mi,PushButton:Nw,RadioButton:Rp,CheckBox:Sw,TextField:C0,PasswordField:Bw,Appearance:rr};fr.AcroForm;function nW(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(P,U){var M,q,ae,W,ee,re=t;if((U=U||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(L(P))for(ee in n)for(ae=n[ee],M=0;M<ae.length;M+=1){for(W=!0,q=0;q<ae[M].length;q+=1)if(ae[M][q]!==void 0&&ae[M][q]!==P[q]){W=!1;break}if(W===!0){re=ee;break}}else for(ee in n)for(ae=n[ee],M=0;M<ae.length;M+=1){for(W=!0,q=0;q<ae[M].length;q+=1)if(ae[M][q]!==void 0&&ae[M][q]!==P.charCodeAt(q)){W=!1;break}if(W===!0){re=ee;break}}return re===t&&U!==t&&(re=U),re},s=function P(U){for(var M=this.internal.write,q=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:U.width}),W.push({key:"Height",value:U.height}),U.colorSpace===w.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===w.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var ee="",re=0,pe=U.transparency.length;re<pe;re++)ee+=U.transparency[re]+" "+U.transparency[re]+" ";W.push({key:"Mask",value:"["+ee+"]"})}U.sMask!==void 0&&W.push({key:"SMask",value:U.objectId+1+" 0 R"});var Se=U.filter!==void 0?["/"+U.filter]:void 0;if(q({data:U.data,additionalKeyValues:W,alreadyAppliedFilters:Se,objectId:U.objectId}),M("endobj"),"sMask"in U&&U.sMask!==void 0){var ne,F=(ne=U.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:U.bitsPerComponent,Q={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:U.sMask};"filter"in U&&(Q.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(U.width),Q.filter=U.filter),P.call(this,Q)}if(U.colorSpace===w.INDEXED){var K=this.internal.newObject();q({data:D(new Uint8Array(U.palette)),objectId:K}),M("endobj")}},i=function(){var P=this.internal.collections[e+"images"];for(var U in P)s.call(this,P[U])},l=function(){var P,U=this.internal.collections[e+"images"],M=this.internal.write;for(var q in U)M("/I"+(P=U[q]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof r["process"+P.toUpperCase()]=="function"},p=function(P){return Qn(P)==="object"&&P.nodeType===1},m=function(P,U){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var M=""+P.getAttribute("src");if(M.indexOf("data:image/")===0)return ww(unescape(M).split("base64,").pop());var q=r.loadFile(M,!0);if(q!==void 0)return q}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ae;switch(U){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return ww(P.toDataURL(ae,1).split("base64,").pop())}},y=function(P){var U=this.internal.collections[e+"images"];if(U){for(var M in U)if(P===U[M].alias)return U[M]}},g=function(P,U,M){return P||U||(P=-96,U=-96),P<0&&(P=-1*M.width*72/P/this.internal.scaleFactor),U<0&&(U=-1*M.height*72/U/this.internal.scaleFactor),P===0&&(P=U*M.width/M.height),U===0&&(U=P*M.height/M.width),[P,U]},v=function(P,U,M,q,ae,W){var ee=g.call(this,M,q,ae),re=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Se=u.call(this);if(M=ee[0],q=ee[1],Se[ae.index]=ae,W){W*=Math.PI/180;var ne=Math.cos(W),F=Math.sin(W),Q=function(V){return V.toFixed(4)},K=[Q(ne),Q(F),Q(-1*F),Q(ne),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,re(P),pe(U+q),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([re(M),"0","0",re(q),"0","0","cm"].join(" "))):this.internal.write([re(M),"0","0",re(q),re(P),pe(U+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=r.__addimage__.sHashCode=function(P){var U,M,q=0;if(typeof P=="string")for(M=P.length,U=0;U<M;U++)q=(q<<5)-q+P.charCodeAt(U),q|=0;else if(L(P))for(M=P.byteLength/2,U=0;U<M;U++)q=(q<<5)-q+P[U],q|=0;return q},j=r.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var U=!0;return P.length===0&&(U=!1),P.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(U=!1),U},T=r.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var U=P.indexOf(",");return U<0?null:P.substring(0,U).trim().endsWith("base64")?P.substring(U+1):null};r.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var L=r.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},I=r.__addimage__.binaryStringToUint8Array=function(P){for(var U=P.length,M=new Uint8Array(U),q=0;q<U;q++)M[q]=P.charCodeAt(q);return M},D=r.__addimage__.arrayBufferToBinaryString=function(P){for(var U="",M=L(P)?P:new Uint8Array(P),q=0;q<M.length;q+=8192)U+=String.fromCharCode.apply(null,M.subarray(q,q+8192));return U};r.addImage=function(){var P,U,M,q,ae,W,ee,re,pe;if(typeof arguments[1]=="number"?(U=t,M=arguments[1],q=arguments[2],ae=arguments[3],W=arguments[4],ee=arguments[5],re=arguments[6],pe=arguments[7]):(U=arguments[1],M=arguments[2],q=arguments[3],ae=arguments[4],W=arguments[5],ee=arguments[6],re=arguments[7],pe=arguments[8]),Qn(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var Se=P;P=Se.imageData,U=Se.format||U||t,M=Se.x||M||0,q=Se.y||q||0,ae=Se.w||Se.width||ae,W=Se.h||Se.height||W,ee=Se.alias||ee,re=Se.compression||re,pe=Se.rotation||Se.angle||pe}var ne=this.internal.getFilters();if(re===void 0&&ne.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(M)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=k.call(this,P,U,ee,re);return v.call(this,M,q,ae,W,F,pe),this};var k=function(P,U,M,q){var ae,W,ee;if(typeof P=="string"&&a(P)===t){P=unescape(P);var re=z(P,!1);(re!==""||(re=r.loadFile(P,!0))!==void 0)&&(P=re)}if(p(P)&&(P=m(P,U)),U=a(P,U),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ee=M)==null||ee.length===0)&&(M=(function(pe){return typeof pe=="string"||L(pe)?C(pe):L(pe.data)?C(pe.data):null})(P)),(ae=y.call(this,M))||(P instanceof Uint8Array||U==="RGBA"||(W=P,P=I(P)),ae=this["process"+U.toUpperCase()](P,d.call(this),M,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in r.image_compression?pe:S.NONE})(q),W)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},z=r.__addimage__.convertBase64ToBinaryString=function(P,U){U=typeof U!="boolean"||U;var M,q="";if(typeof P=="string"){var ae;M=(ae=T(P))!==null&&ae!==void 0?ae:P;try{q=ww(M)}catch(W){if(U)throw j(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};r.getImageProperties=function(P){var U,M,q="";if(p(P)&&(P=m(P)),typeof P=="string"&&a(P)===t&&((q=z(P,!1))===""&&(q=r.loadFile(P)||""),P=q),M=a(P),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(P instanceof Uint8Array||(P=I(P)),!(U=this["process"+M.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=M,U}})(fr.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};fr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(w(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(w(S))+") >>",g.content=s;var C=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var L=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:u(n),w:c(t+a),h:u(n+s)},options:i,type:"link"})},r.textWithLink=function(t,n,a,s){var i,l,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(t,l).length;i=Math.ceil(u*d)}else l=c,i=u;return this.text(t,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,i,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(fr.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=r.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var d=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(g){var v=0,w=t,S="",C=0;for(v=0;v<g.length;v+=1)w[g.charCodeAt(v)]!==void 0?(C++,typeof(w=w[g.charCodeAt(v)])=="number"&&(S+=String.fromCharCode(w),w=t,C=0),v===g.length-1&&(w=t,S+=g.charAt(v-(C-1)),v-=C-1,C=0)):(w=t,S+=g.charAt(v-C),v-=C,C=0);return S};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=r.__arabicParser__.getCorrectForm=function(g,v,w){return i(g)?s(g)===!1?-1:!u(g)||!i(v)&&!i(w)||!i(w)&&l(v)||l(g)&&!i(v)||l(g)&&c(v)||l(g)&&l(v)?0:d(g)&&i(v)&&!l(v)&&i(w)&&u(w)?3:l(g)||!i(w)?1:2:-1},m=function(g){var v=0,w=0,S=0,C="",j="",T="",L=(g=g||"").split("\\s+"),I=[];for(v=0;v<L.length;v+=1){for(I.push(""),w=0;w<L[v].length;w+=1)C=L[v][w],j=L[v][w-1],T=L[v][w+1],i(C)?(S=p(C,j,T),I[v]+=S!==-1?String.fromCharCode(e[C.charCodeAt(0)][S]):C):I[v]+=C;I[v]=f(I[v])}return I.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(v)){var S=0;for(w=[],S=0;S<v.length;S+=1)Array.isArray(v[S])?w.push([m(v[S][0]),v[S][1],v[S][2]]):w.push([m(v[S])]);g=w}else g=m(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",y])})(fr.API),fr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fr.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,j){return C.concat(v.splitTextToSize(j,w))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)m<(g=this.getStringUnitWidth(c[S],{font:f})*d)&&(m=g);return m!==0&&(y=c.length),{w:m/=p,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,g,v,w=[],S=[],C=[],j={},T={},L=[],I=[],D=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,z=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),U=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=q,this.setFontSize(z),f==null)S=w=Object.keys(d[0]),C=w.map(function(){return"left"});else if(Array.isArray(f)&&Qn(f[0])==="object")for(w=f.map(function(Se){return Se.name}),S=f.map(function(Se){return Se.prompt||Se.name||""}),C=f.map(function(Se){return Se.align||"left"}),m=0;m<f.length;m+=1)T[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=w=f,C=w.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<w.length;m+=1){for(j[v=w[m]]=d.map(function(Se){return Se[v]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(S[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[v],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)L.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[v]=Math.max.apply(null,L)+U+U,L=[]}if(k){var ae={};for(m=0;m<w.length;m+=1)ae[w[m]]={},ae[w[m]].text=S[m],ae[w[m]].align=C[m];var W=l.call(this,ae,T);I=w.map(function(Se){return new s(c,u,T[Se],W,ae[Se].text,void 0,ae[Se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ee=f.reduce(function(Se,ne){return Se[ne.name]=ne.align,Se},{});for(m=0;m<d.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:d[m]},this);var re=l.call(this,d[m],T);for(g=0;g<w.length;g+=1){var pe=d[m][w[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:pe},this),i.call(this,new s(c,u,T[w[g]],re,pe,m+2,ee[w[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/p+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(fr.API);var aW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r_=nW(sW),iW=[100,200,300,400,500,600,700,800,900],F6e=nW(iW);function UE(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return aW[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),a=(function(s){return typeof r_[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function o8(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var O6e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c8(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function u8(r){return r.trimLeft()}function D6e(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function P6e(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var nw,A8,d8,cp,aw,h8,f8,m8,QE=["times"];function p8(r,e,t,n,a){var s=4,i=x8;switch(a){case fr.API.image_compression.FAST:s=1,i=g8;break;case fr.API.image_compression.MEDIUM:s=6,i=y8;break;case fr.API.image_compression.SLOW:s=9,i=v8}r=(function(c,u,d,f){for(var p,m=c.length/u,y=new Uint8Array(c.length+m),g=[I6e,g8,x8,y8,v8],v=0;v<m;v+=1){var w=v*u,S=c.subarray(w,w+u);if(f)y.set(f(S,d,p),w+v);else{for(var C=g.length,j=[],T=0;T<C;T+=1)j[T]=g[T](S,d,p);var L=M6e(j.concat());y.set(j[L],w+v)}p=S}return y})(r,e,Math.ceil(t*n/8),i);var l=Wj(r,{level:s});return fr.API.__addimage__.arrayBufferToBinaryString(l)}function I6e(r){var e=Array.apply([],r);return e.unshift(0),e}function g8(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var s=r[a-e]||0;n[a+1]=r[a]-s+256&255}return n}function x8(r,e,t){var n=r.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var i=t&&t[s]||0;a[s+1]=r[s]-i+256&255}return a}function y8(r,e,t){var n=r.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var i=r[s-e]||0,l=t&&t[s]||0;a[s+1]=r[s]+256-(i+l>>>1)&255}return a}function v8(r,e,t){var n=r.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var i=L6e(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);a[s+1]=r[s]-i+256&255}return a}function L6e(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=a&&n<=s?r:a<=s?e:t}function M6e(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function HE(r,e,t){var n=e*t,a=Math.floor(n/8),s=16-(n-8*a+t),i=(1<<t)-1;return oW(r,a)>>s&i}function b8(r,e,t,n){var a=t*n,s=Math.floor(a/8),i=16-(a-8*s+n),l=(1<<n)-1,c=(e&l)<<i;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(r,s,oW(r,s)&~(l<<i)&65535|c)}function oW(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function R6e(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,i=1<<1+(7&a);r[e++],r[e++];var l=null,c=null;s&&(l=e,c=i,e+=3*i);var u=!0,d=[],f=0,p=null,m=0,y=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((P=r[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];f=r[e++]|r[e++]<<8,p=r[e++],1&g||(p=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((P=r[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,S=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,j=r[e++],T=j>>6&1,L=1<<1+(7&j),I=l,D=c,k=!1;j>>7&&(k=!0,I=e,D=L,e+=3*L);var z=e;for(e++;;){var P;if(!((P=r[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:v,y:w,width:S,height:C,has_local_palette:k,palette_offset:I,palette_size:D,data_offset:z,data_length:e-z,transparent_index:p,interlaced:!!T,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(U){if(U<0||U>=d.length)throw new Error("Frame index out of range.");return d[U]},this.decodeAndBlitFrameBGRA=function(U,M){var q=this.frameInfo(U),ae=q.width*q.height,W=new Uint8Array(ae);w8(r,q.data_offset,W,ae);var ee=q.palette_offset,re=q.transparent_index;re===null&&(re=256);var pe=q.width,Se=t-pe,ne=pe,F=4*(q.y*t+q.x),Q=4*((q.y+q.height)*t+q.x),K=F,V=4*Se;q.interlaced===!0&&(V+=4*t*7);for(var J=8,oe=0,Ne=W.length;oe<Ne;++oe){var ue=W[oe];if(ne===0&&(ne=pe,(K+=V)>=Q&&(V=4*Se+4*t*(J-1),K=F+(pe+Se)*(J<<1),J>>=1)),ue===re)K+=4;else{var xe=r[ee+3*ue],Oe=r[ee+3*ue+1],Be=r[ee+3*ue+2];M[K++]=Be,M[K++]=Oe,M[K++]=xe,M[K++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(U,M){var q=this.frameInfo(U),ae=q.width*q.height,W=new Uint8Array(ae);w8(r,q.data_offset,W,ae);var ee=q.palette_offset,re=q.transparent_index;re===null&&(re=256);var pe=q.width,Se=t-pe,ne=pe,F=4*(q.y*t+q.x),Q=4*((q.y+q.height)*t+q.x),K=F,V=4*Se;q.interlaced===!0&&(V+=4*t*7);for(var J=8,oe=0,Ne=W.length;oe<Ne;++oe){var ue=W[oe];if(ne===0&&(ne=pe,(K+=V)>=Q&&(V=4*Se+4*t*(J-1),K=F+(pe+Se)*(J<<1),J>>=1)),ue===re)K+=4;else{var xe=r[ee+3*ue],Oe=r[ee+3*ue+1],Be=r[ee+3*ue+2];M[K++]=xe,M[K++]=Oe,M[K++]=Be,M[K++]=255}--ne}}}function w8(r,e,t,n){for(var a=r[e++],s=1<<a,i=s+1,l=i+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,m=r[e++],y=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=r[e++]<<d,d+=8,m===1?m=r[e++]:--m;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==s){if(v===i)break;for(var w=v<l?v:g,S=0,C=w;C>s;)C=y[C]>>8,++S;var j=C;if(p+S+(w!==v?1:0)>n)return void sa.log("Warning, gif stream longer than expected.");t[p++]=j;var T=p+=S;for(w!==v&&(t[p++]=j),C=w;S--;)C=y[C],t[--T]=255&C,C>>=8;g!==null&&l<4096&&(y[l++]=g<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else l=i+1,u=(1<<(c=a+1))-1,g=null}return p!==n&&sa.log("Warning, gif stream shorter than expected."),t}function zE(r){var e,t,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),g=[],v=0,w=7,S=new Array(64),C=new Array(64),j=new Array(64),T=new Array(256),L=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(F,Q){for(var K=0,V=0,J=new Array,oe=1;oe<=16;oe++){for(var Ne=1;Ne<=F[oe];Ne++)J[Q[V]]=[],J[Q[V]][0]=K,J[Q[V]][1]=oe,V++,K++;K*=2}return J}function ee(F){for(var Q=F[0],K=F[1]-1;K>=0;)Q&1<<K&&(v|=1<<w),K--,--w<0&&(v==255?(re(255),re(0)):re(v),w=7,v=0)}function re(F){g.push(F)}function pe(F){re(F>>8&255),re(255&F)}function Se(F,Q,K,V,J){for(var oe,Ne=J[0],ue=J[240],xe=(function(st,Ye){var ht,wt,Bt,Ut,dr,ur,hr,ar,ke,De,rt=0;for(ke=0;ke<8;++ke){ht=st[rt],wt=st[rt+1],Bt=st[rt+2],Ut=st[rt+3],dr=st[rt+4],ur=st[rt+5],hr=st[rt+6];var pr=ht+(ar=st[rt+7]),Qt=ht-ar,Nt=wt+hr,Yt=wt-hr,ir=Bt+ur,Pt=Bt-ur,Wr=Ut+dr,mr=Ut-dr,or=pr+Wr,dt=pr-Wr,ct=Nt+ir,Ot=Nt-ir;st[rt]=or+ct,st[rt+4]=or-ct;var It=.707106781*(Ot+dt);st[rt+2]=dt+It,st[rt+6]=dt-It;var hn=.382683433*((or=mr+Pt)-(Ot=Yt+Qt)),Tr=.5411961*or+hn,cs=1.306562965*Ot+hn,ca=.707106781*(ct=Pt+Yt),sr=Qt+ca,wa=Qt-ca;st[rt+5]=wa+Tr,st[rt+3]=wa-Tr,st[rt+1]=sr+cs,st[rt+7]=sr-cs,rt+=8}for(rt=0,ke=0;ke<8;++ke){ht=st[rt],wt=st[rt+8],Bt=st[rt+16],Ut=st[rt+24],dr=st[rt+32],ur=st[rt+40],hr=st[rt+48];var Ya=ht+(ar=st[rt+56]),ua=ht-ar,Es=wt+hr,Tn=wt-hr,Ca=Bt+ur,se=Bt-ur,ve=Ut+dr,de=Ut-dr,he=Ya+ve,me=Ya-ve,we=Es+Ca,Ue=Es-Ca;st[rt]=he+we,st[rt+32]=he-we;var tt=.707106781*(Ue+me);st[rt+16]=me+tt,st[rt+48]=me-tt;var He=.382683433*((he=de+se)-(Ue=Tn+ua)),ze=.5411961*he+He,$e=1.306562965*Ue+He,yt=.707106781*(we=se+Tn),St=ua+yt,kt=ua-yt;st[rt+40]=kt+ze,st[rt+24]=kt-ze,st[rt+8]=St+$e,st[rt+56]=St-$e,rt++}for(ke=0;ke<64;++ke)De=st[ke]*Ye[ke],m[ke]=De>0?De+.5|0:De-.5|0;return m})(F,Q),Oe=0;Oe<64;++Oe)y[I[Oe]]=xe[Oe];var Be=y[0]-K;K=y[0],Be==0?ee(V[0]):(ee(V[p[oe=32767+Be]]),ee(f[oe]));for(var qe=63;qe>0&&y[qe]==0;)qe--;if(qe==0)return ee(Ne),K;for(var Pe,X=1;X<=qe;){for(var Me=X;y[X]==0&&X<=qe;)++X;var We=X-Me;if(We>=16){Pe=We>>4;for(var bt=1;bt<=Pe;++bt)ee(ue);We&=15}oe=32767+y[X],ee(J[(We<<4)+p[oe]]),ee(f[oe]),X++}return qe!=63&&ee(Ne),K}function ne(F){F=Math.min(Math.max(F,1),100),s!=F&&((function(Q){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var J=i((K[V]*Q+50)/100);J=Math.min(Math.max(J,1),255),l[I[V]]=J}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var ue=i((oe[Ne]*Q+50)/100);ue=Math.min(Math.max(ue,1),255),c[I[Ne]]=ue}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Be=0;Be<8;Be++)for(var qe=0;qe<8;qe++)u[Oe]=1/(l[I[Oe]]*xe[Be]*xe[qe]*8),d[Oe]=1/(c[I[Oe]]*xe[Be]*xe[qe]*8),Oe++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,Q){Q&&ne(Q),g=new Array,v=0,w=7,pe(65496),pe(65504),pe(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),pe(1),pe(1),re(0),re(0),(function(){pe(65499),pe(132),re(0);for(var wt=0;wt<64;wt++)re(l[wt]);re(1);for(var Bt=0;Bt<64;Bt++)re(c[Bt])})(),(function(wt,Bt){pe(65472),pe(17),re(8),pe(Bt),pe(wt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(F.width,F.height),(function(){pe(65476),pe(418),re(0);for(var wt=0;wt<16;wt++)re(D[wt+1]);for(var Bt=0;Bt<=11;Bt++)re(k[Bt]);re(16);for(var Ut=0;Ut<16;Ut++)re(z[Ut+1]);for(var dr=0;dr<=161;dr++)re(P[dr]);re(1);for(var ur=0;ur<16;ur++)re(U[ur+1]);for(var hr=0;hr<=11;hr++)re(M[hr]);re(17);for(var ar=0;ar<16;ar++)re(q[ar+1]);for(var ke=0;ke<=161;ke++)re(ae[ke])})(),pe(65498),pe(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var K=0,V=0,J=0;v=0,w=7,this.encode.displayName="_encode_";for(var oe,Ne,ue,xe,Oe,Be,qe,Pe,X,Me=F.data,We=F.width,bt=F.height,st=4*We,Ye=0;Ye<bt;){for(oe=0;oe<st;){for(Oe=st*Ye+oe,qe=-1,Pe=0,X=0;X<64;X++)Be=Oe+(Pe=X>>3)*st+(qe=4*(7&X)),Ye+Pe>=bt&&(Be-=st*(Ye+1+Pe-bt)),oe+qe>=st&&(Be-=oe+qe-st+4),Ne=Me[Be++],ue=Me[Be++],xe=Me[Be++],S[X]=(L[Ne]+L[ue+256|0]+L[xe+512|0]>>16)-128,C[X]=(L[Ne+768|0]+L[ue+1024|0]+L[xe+1280|0]>>16)-128,j[X]=(L[Ne+1280|0]+L[ue+1536|0]+L[xe+1792|0]>>16)-128;K=Se(S,u,K,e,n),V=Se(C,d,V,t,a),J=Se(j,d,J,t,a),oe+=32}Ye+=8}if(w>=0){var ht=[];ht[1]=w+1,ht[0]=(1<<w+1)-1,ee(ht)}return pe(65497),new Uint8Array(g)},r=r||50,(function(){for(var F=String.fromCharCode,Q=0;Q<256;Q++)T[Q]=F(Q)})(),e=W(D,k),t=W(U,M),n=W(z,P),a=W(q,ae),(function(){for(var F=1,Q=2,K=1;K<=15;K++){for(var V=F;V<Q;V++)p[32767+V]=K,f[32767+V]=[],f[32767+V][1]=K,f[32767+V][0]=V;for(var J=-(Q-1);J<=-F;J++)p[32767+J]=K,f[32767+J]=[],f[32767+J][1]=K,f[32767+J][0]=Q-1+J;F<<=1,Q<<=1}})(),(function(){for(var F=0;F<256;F++)L[F]=19595*F,L[F+256|0]=38470*F,L[F+512|0]=7471*F+32768,L[F+768|0]=-11059*F,L[F+1024|0]=-21709*F,L[F+1280|0]=32768*F+8421375,L[F+1536|0]=-27439*F,L[F+1792|0]=-5329*F})(),ne(r)}function fu(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C8(r){function e(k){if(!k)throw Error("assert :P")}function t(k,z,P){for(var U=0;4>U;U++)if(k[z+U]!=P.charCodeAt(U))return!0;return!1}function n(k,z,P,U,M){for(var q=0;q<M;q++)k[z+q]=P[U+q]}function a(k,z,P,U){for(var M=0;M<U;M++)k[z+M]=P}function s(k){return new Int32Array(k)}function i(k,z){for(var P=[],U=0;U<k;U++)P.push(new z);return P}function l(k,z){var P=[];return(function U(M,q,ae){for(var W=ae[q],ee=0;ee<W&&(M.push(ae.length>q+1?[]:new z),!(ae.length<q+1));ee++)U(M[ee],q+1,ae)})(P,0,k),P}var c=function(){var k=this;function z(N,_){for(var H=1<<_-1>>>0;N&H;)H>>>=1;return H?(N&H-1)+H:N}function P(N,_,H,G,te){e(!(G%H));do N[_+(G-=H)]=te;while(0<G)}function U(N,_,H,G,te){if(e(2328>=te),512>=te)var ie=s(512);else if((ie=s(te))==null)return 0;return(function(le,Ae,fe,ye,_e,Ke){var ge,Fe,Re=Ae,it=1<<fe,Qe=s(16),nt=s(16);for(e(_e!=0),e(ye!=null),e(le!=null),e(0<fe),Fe=0;Fe<_e;++Fe){if(15<ye[Fe])return 0;++Qe[ye[Fe]]}if(Qe[0]==_e)return 0;for(nt[1]=0,ge=1;15>ge;++ge){if(Qe[ge]>1<<ge)return 0;nt[ge+1]=nt[ge]+Qe[ge]}for(Fe=0;Fe<_e;++Fe)ge=ye[Fe],0<ye[Fe]&&(Ke[nt[ge]++]=Fe);if(nt[15]==1)return(ye=new M).g=0,ye.value=Ke[0],P(le,Re,1,it,ye),it;var At,vt=-1,pt=it-1,Zt=0,Ht=1,kr=1,Vt=1<<fe;for(Fe=0,ge=1,_e=2;ge<=fe;++ge,_e<<=1){if(Ht+=kr<<=1,0>(kr-=Qe[ge]))return 0;for(;0<Qe[ge];--Qe[ge])(ye=new M).g=ge,ye.value=Ke[Fe++],P(le,Re+Zt,_e,Vt,ye),Zt=z(Zt,ge)}for(ge=fe+1,_e=2;15>=ge;++ge,_e<<=1){if(Ht+=kr<<=1,0>(kr-=Qe[ge]))return 0;for(;0<Qe[ge];--Qe[ge]){if(ye=new M,(Zt&pt)!=vt){for(Re+=Vt,At=1<<(vt=ge)-fe;15>vt&&!(0>=(At-=Qe[vt]));)++vt,At<<=1;it+=Vt=1<<(At=vt-fe),le[Ae+(vt=Zt&pt)].g=At+fe,le[Ae+vt].value=Re-Ae-vt}ye.g=ge-fe,ye.value=Ke[Fe++],P(le,Re+(Zt>>fe),_e,Vt,ye),Zt=z(Zt,ge)}}return Ht!=2*nt[15]-1?0:it})(N,_,H,G,te,ie)}function M(){this.value=this.g=0}function q(){this.value=this.g=0}function ae(){this.G=i(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Lu,q)}function W(N,_,H,G){e(N!=null),e(_!=null),e(2147483648>G),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=_,N.pa=H,N.Jd=_,N.Yc=H+G,N.Zc=4<=G?H+G-4+1:H,Ne(N)}function ee(N,_){for(var H=0;0<_--;)H|=xe(N,128)<<_;return H}function re(N,_){var H=ee(N,_);return ue(N)?-H:H}function pe(N,_,H,G){var te,ie=0;for(e(N!=null),e(_!=null),e(4294967288>G),N.Sb=G,N.Ra=0,N.u=0,N.h=0,4<G&&(G=4),te=0;te<G;++te)ie+=_[H+te]<<8*te;N.Ra=ie,N.bb=G,N.oa=_,N.pa=H}function Se(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<rc-8>>>0,++N.bb,N.u-=8;V(N)&&(N.h=1,N.u=0)}function ne(N,_){if(e(0<=_),!N.h&&_<=_i){var H=K(N)&Yi[_];return N.u+=_,Se(N),H}return N.h=1,N.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(N){return N.Ra>>>(N.u&rc-1)>>>0}function V(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>rc}function J(N,_){N.u=_,N.h=V(N)}function oe(N){N.u>=nc&&(e(N.u>=nc),Se(N))}function Ne(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function ue(N){return ee(N,1)}function xe(N,_){var H=N.Ca;0>N.b&&Ne(N);var G=N.b,te=H*_>>>8,ie=(N.I>>>G>te)+0;for(ie?(H-=te,N.I-=te+1<<G>>>0):H=te+1,G=H,te=0;256<=G;)te+=8,G>>=8;return G=7^te+Xc[G],N.b-=G,N.Ca=(H<<G)-1,ie}function Oe(N,_,H){N[_+0]=H>>24&255,N[_+1]=H>>16&255,N[_+2]=H>>8&255,N[_+3]=255&H}function Be(N,_){return N[_+0]|N[_+1]<<8}function qe(N,_){return Be(N,_)|N[_+2]<<16}function Pe(N,_){return Be(N,_)|Be(N,_+2)<<16}function X(N,_){var H=1<<_;return e(N!=null),e(0<_),N.X=s(H),N.X==null?0:(N.Mb=32-_,N.Xa=_,1)}function Me(N,_){e(N!=null),e(_!=null),e(N.Xa==_.Xa),n(_.X,0,N.X,0,1<<_.Xa)}function We(){this.X=[],this.Xa=this.Mb=0}function bt(N,_,H,G){e(H!=null),e(G!=null);var te=H[0],ie=G[0];return te==0&&(te=(N*ie+_/2)/_),ie==0&&(ie=(_*te+N/2)/N),0>=te||0>=ie?0:(H[0]=te,G[0]=ie,1)}function st(N,_){return N+(1<<_)-1>>>_}function Ye(N,_){return((4278255360&N)+(4278255360&_)>>>0&4278255360)+((16711935&N)+(16711935&_)>>>0&16711935)>>>0}function ht(N,_){k[_]=function(H,G,te,ie,le,Ae,fe){var ye;for(ye=0;ye<le;++ye){var _e=k[N](Ae[fe+ye-1],te,ie+ye);Ae[fe+ye]=Ye(H[G+ye],_e)}}}function wt(){this.ud=this.hd=this.jd=0}function Bt(N,_){return((4278124286&(N^_))>>>1)+(N&_)>>>0}function Ut(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function dr(N,_){return Ut(N+(N-_+.5>>1))}function ur(N,_,H){return Math.abs(_-H)-Math.abs(N-H)}function hr(N,_,H,G,te,ie,le){for(G=ie[le-1],H=0;H<te;++H)ie[le+H]=G=Ye(N[_+H],G)}function ar(N,_,H,G,te){var ie;for(ie=0;ie<H;++ie){var le=N[_+ie],Ae=le>>8&255,fe=16711935&(fe=(fe=16711935&le)+((Ae<<16)+Ae));G[te+ie]=(4278255360&le)+fe>>>0}}function ke(N,_){_.jd=255&N,_.hd=N>>8&255,_.ud=N>>16&255}function De(N,_,H,G,te,ie){var le;for(le=0;le<G;++le){var Ae=_[H+le],fe=Ae>>>8,ye=Ae,_e=255&(_e=(_e=Ae>>>16)+((N.jd<<24>>24)*(fe<<24>>24)>>>5));ye=255&(ye=(ye+=(N.hd<<24>>24)*(fe<<24>>24)>>>5)+((N.ud<<24>>24)*(_e<<24>>24)>>>5)),te[ie+le]=(4278255360&Ae)+(_e<<16)+ye}}function rt(N,_,H,G,te){k[_]=function(ie,le,Ae,fe,ye,_e,Ke,ge,Fe){for(fe=Ke;fe<ge;++fe)for(Ke=0;Ke<Fe;++Ke)ye[_e++]=te(Ae[G(ie[le++])])},k[N]=function(ie,le,Ae,fe,ye,_e,Ke){var ge=8>>ie.b,Fe=ie.Ea,Re=ie.K[0],it=ie.w;if(8>ge)for(ie=(1<<ie.b)-1,it=(1<<ge)-1;le<Ae;++le){var Qe,nt=0;for(Qe=0;Qe<Fe;++Qe)Qe&ie||(nt=G(fe[ye++])),_e[Ke++]=te(Re[nt&it]),nt>>=ge}else k["VP8LMapColor"+H](fe,ye,Re,it,_e,Ke,le,Ae,Fe)}}function pr(N,_,H,G,te){for(H=_+H;_<H;){var ie=N[_++];G[te++]=ie>>16&255,G[te++]=ie>>8&255,G[te++]=255&ie}}function Qt(N,_,H,G,te){for(H=_+H;_<H;){var ie=N[_++];G[te++]=ie>>16&255,G[te++]=ie>>8&255,G[te++]=255&ie,G[te++]=ie>>24&255}}function Nt(N,_,H,G,te){for(H=_+H;_<H;){var ie=(le=N[_++])>>16&240|le>>12&15,le=240&le|le>>28&15;G[te++]=ie,G[te++]=le}}function Yt(N,_,H,G,te){for(H=_+H;_<H;){var ie=(le=N[_++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;G[te++]=ie,G[te++]=le}}function ir(N,_,H,G,te){for(H=_+H;_<H;){var ie=N[_++];G[te++]=255&ie,G[te++]=ie>>8&255,G[te++]=ie>>16&255}}function Pt(N,_,H,G,te,ie){if(ie==0)for(H=_+H;_<H;)Oe(G,((ie=N[_++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),te+=32;else n(G,te,N,_,H)}function Wr(N,_){k[_][0]=k[N+"0"],k[_][1]=k[N+"1"],k[_][2]=k[N+"2"],k[_][3]=k[N+"3"],k[_][4]=k[N+"4"],k[_][5]=k[N+"5"],k[_][6]=k[N+"6"],k[_][7]=k[N+"7"],k[_][8]=k[N+"8"],k[_][9]=k[N+"9"],k[_][10]=k[N+"10"],k[_][11]=k[N+"11"],k[_][12]=k[N+"12"],k[_][13]=k[N+"13"],k[_][14]=k[N+"0"],k[_][15]=k[N+"0"]}function mr(N){return N==Pf||N==xm||N==rh||N==ym}function or(){this.eb=[],this.size=this.A=this.fb=0}function dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new or,this.f.kb=new dt,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hn(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Tr(N,_){var H=N.T,G=_.ba.f.RGBA,te=G.eb,ie=G.fb+N.ka*G.A,le=$s[_.ba.S],Ae=N.y,fe=N.O,ye=N.f,_e=N.N,Ke=N.ea,ge=N.W,Fe=_.cc,Re=_.dc,it=_.Mc,Qe=_.Nc,nt=N.ka,At=N.ka+N.T,vt=N.U,pt=vt+1>>1;for(nt==0?le(Ae,fe,null,null,ye,_e,Ke,ge,ye,_e,Ke,ge,te,ie,null,null,vt):(le(_.ec,_.fc,Ae,fe,Fe,Re,it,Qe,ye,_e,Ke,ge,te,ie-G.A,te,ie,vt),++H);nt+2<At;nt+=2)Fe=ye,Re=_e,it=Ke,Qe=ge,_e+=N.Rc,ge+=N.Rc,ie+=2*G.A,le(Ae,(fe+=2*N.fa)-N.fa,Ae,fe,Fe,Re,it,Qe,ye,_e,Ke,ge,te,ie-G.A,te,ie,vt);return fe+=N.fa,N.j+At<N.o?(n(_.ec,_.fc,Ae,fe,vt),n(_.cc,_.dc,ye,_e,pt),n(_.Mc,_.Nc,Ke,ge,pt),H--):1&At||le(Ae,fe,null,null,ye,_e,Ke,ge,ye,_e,Ke,ge,te,ie+G.A,null,null,vt),H}function cs(N,_,H){var G=N.F,te=[N.J];if(G!=null){var ie=N.U,le=_.ba.S,Ae=le==Df||le==rh;_=_.ba.f.RGBA;var fe=[0],ye=N.ka;fe[0]=N.T,N.Kb&&(ye==0?--fe[0]:(--ye,te[0]-=N.width),N.j+N.ka+N.T==N.o&&(fe[0]=N.o-N.j-ye));var _e=_.eb;ye=_.fb+ye*_.A,N=Tf(G,te[0],N.width,ie,fe,_e,ye+(Ae?0:3),_.A),e(H==fe),N&&mr(le)&&DA(_e,ye,Ae,ie,fe,_.A)}return 0}function ca(N){var _=N.ma,H=_.ba.S,G=11>H,te=H==ii||H==Lo||H==Df||H==th||H==12||mr(H);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Yc(_.Oa,N,te?11:12))return 0;if(te&&mr(H)&&Bf(),N.da)alert("todo:use_scaling");else{if(G){if(_.Ib=hn,N.Kb){if(H=N.U+1>>1,_.memory=s(N.U+2*H),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+N.U,_.Mc=_.cc,_.Nc=_.dc+H,_.Ib=Tr,Bf()}}else alert("todo:EmitYUV");te&&(_.Jb=cs,G&&yl())}if(G&&!Ku){for(N=0;256>N;++N)Vs[N]=89858*(N-128)+sh>>zo,_5[N]=-22014*(N-128)+sh,qv[N]=-45773*(N-128),Nm[N]=113618*(N-128)+sh>>zo;for(N=MA;N<zu;++N)_=76283*(N-16)+sh>>zo,T5[N-MA]=ha(_,255),k5[N-MA]=ha(_+8>>4,15);Ku=1}return 1}function sr(N){var _=N.ma,H=N.U,G=N.T;return e(!(1&N.ka)),0>=H||0>=G?0:(H=_.Ib(N,_),_.Jb!=null&&_.Jb(N,_,H),_.Dc+=H,1)}function wa(N){N.ma.memory=null}function Ya(N,_,H,G){return ne(N,8)!=47?0:(_[0]=ne(N,14)+1,H[0]=ne(N,14)+1,G[0]=ne(N,1),ne(N,3)!=0?0:!N.h)}function ua(N,_){if(4>N)return N+1;var H=N-2>>1;return(2+(1&N)<<H)+ne(_,H)+1}function Es(N,_){return 120<_?_-120:1<=(H=((H=Ro[_-1])>>4)*N+(8-(15&H)))?H:1;var H}function Tn(N,_,H){var G=K(H),te=N[_+=255&G].g-8;return 0<te&&(J(H,H.u+8),G=K(H),_+=N[_].value,_+=G&(1<<te)-1),J(H,H.u+N[_].g),N[_].value}function Ca(N,_,H){return H.g+=N.g,H.value+=N.value<<_>>>0,e(8>=H.g),N.g}function se(N,_,H){var G=N.xc;return e((_=G==0?0:N.vc[N.md*(H>>G)+(_>>G)])<N.Wb),N.Ya[_]}function ve(N,_,H,G){var te=N.ab,ie=N.c*_,le=N.C;_=le+_;var Ae=H,fe=G;for(G=N.Ta,H=N.Ua;0<te--;){var ye=N.gc[te],_e=le,Ke=_,ge=Ae,Fe=fe,Re=(fe=G,Ae=H,ye.Ea);switch(e(_e<Ke),e(Ke<=ye.nc),ye.hc){case 2:Ma(ge,Fe,(Ke-_e)*Re,fe,Ae);break;case 0:var it=_e,Qe=Ke,nt=fe,At=Ae,vt=(Vt=ye).Ea;it==0&&(Xd(ge,Fe,null,null,1,nt,At),hr(ge,Fe+1,0,0,vt-1,nt,At+1),Fe+=vt,At+=vt,++it);for(var pt=1<<Vt.b,Zt=pt-1,Ht=st(vt,Vt.b),kr=Vt.K,Vt=Vt.w+(it>>Vt.b)*Ht;it<Qe;){var Yr=kr,na=Vt,Dr=1;for(Jd(ge,Fe,nt,At-vt,1,nt,At);Dr<vt;){var zt=(Dr&~Zt)+pt;zt>vt&&(zt=vt),(0,Jc[Yr[na++]>>8&15])(ge,Fe+ +Dr,nt,At+Dr-vt,zt-Dr,nt,At+Dr),Dr=zt}Fe+=vt,At+=vt,++it&Zt||(Vt+=Ht)}Ke!=ye.nc&&n(fe,Ae-Re,fe,Ae+(Ke-_e-1)*Re,Re);break;case 1:for(Re=ge,Qe=Fe,vt=(ge=ye.Ea)-(At=ge&~(nt=(Fe=1<<ye.b)-1)),it=st(ge,ye.b),pt=ye.K,ye=ye.w+(_e>>ye.b)*it;_e<Ke;){for(Zt=pt,Ht=ye,kr=new wt,Vt=Qe+At,Yr=Qe+ge;Qe<Vt;)ke(Zt[Ht++],kr),Zd(kr,Re,Qe,Fe,fe,Ae),Qe+=Fe,Ae+=Fe;Qe<Yr&&(ke(Zt[Ht++],kr),Zd(kr,Re,Qe,vt,fe,Ae),Qe+=vt,Ae+=vt),++_e&nt||(ye+=it)}break;case 3:if(ge==fe&&Fe==Ae&&0<ye.b){for(Qe=fe,ge=Re=Ae+(Ke-_e)*Re-(At=(Ke-_e)*st(ye.Ea,ye.b)),Fe=fe,nt=Ae,it=[],At=(vt=At)-1;0<=At;--At)it[At]=Fe[nt+At];for(At=vt-1;0<=At;--At)Qe[ge+At]=it[At];hm(ye,_e,Ke,fe,Re,fe,Ae)}else hm(ye,_e,Ke,ge,Fe,fe,Ae)}Ae=G,fe=H}fe!=H&&n(G,H,Ae,fe,ie)}function de(N,_){var H=N.V,G=N.Ba+N.c*N.C,te=_-N.C;if(e(_<=N.l.o),e(16>=te),0<te){var ie=N.l,le=N.Ta,Ae=N.Ua,fe=ie.width;if(ve(N,te,H,G),te=Ae=[Ae],e((H=N.C)<(G=_)),e(ie.v<ie.va),G>ie.o&&(G=ie.o),H<ie.j){var ye=ie.j-H;H=ie.j,te[0]+=ye*fe}if(H>=G?H=0:(te[0]+=4*ie.v,ie.ka=H-ie.j,ie.U=ie.va-ie.v,ie.T=G-H,H=1),H){if(Ae=Ae[0],11>(H=N.ca).S){var _e=H.f.RGBA,Ke=(G=H.S,te=ie.U,ie=ie.T,ye=_e.eb,_e.A),ge=ie;for(_e=_e.fb+N.Ma*_e.A;0<ge--;){var Fe=le,Re=Ae,it=te,Qe=ye,nt=_e;switch(G){case pm:eh(Fe,Re,it,Qe,nt);break;case ii:Zc(Fe,Re,it,Qe,nt);break;case Pf:Zc(Fe,Re,it,Qe,nt),DA(Qe,nt,0,it,1,0);break;case gm:FA(Fe,Re,it,Qe,nt);break;case Lo:Pt(Fe,Re,it,Qe,nt,1);break;case xm:Pt(Fe,Re,it,Qe,nt,1),DA(Qe,nt,0,it,1,0);break;case Df:Pt(Fe,Re,it,Qe,nt,0);break;case rh:Pt(Fe,Re,it,Qe,nt,0),DA(Qe,nt,1,it,1,0);break;case th:eu(Fe,Re,it,Qe,nt);break;case ym:eu(Fe,Re,it,Qe,nt),Io(Qe,nt,it,1,0);break;case Mu:ic(Fe,Re,it,Qe,nt);break;default:e(0)}Ae+=fe,_e+=Ke}N.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=H.height)}}N.C=_,e(N.C<=N.i)}function he(N){var _;if(0<N.ua)return 0;for(_=0;_<N.Wb;++_){var H=N.Ya[_].G,G=N.Ya[_].H;if(0<H[1][G[1]+0].g||0<H[2][G[2]+0].g||0<H[3][G[3]+0].g)return 0}return 1}function me(N,_,H,G,te,ie){if(N.Z!=0){var le=N.qd,Ae=N.rd;for(e(nu[N.Z]!=null);_<H;++_)nu[N.Z](le,Ae,G,te,G,te,ie),le=G,Ae=te,te+=ie;N.qd=le,N.rd=Ae}}function we(N,_){var H=N.l.ma,G=H.Z==0||H.Z==1?N.l.j:N.C;if(G=N.C<G?G:N.C,e(_<=N.l.o),_>G){var te=N.l.width,ie=H.ca,le=H.tb+te*G,Ae=N.V,fe=N.Ba+N.c*G,ye=N.gc;e(N.ab==1),e(ye[0].hc==3),sc(ye[0],G,_,Ae,fe,ie,le),me(H,G,_,ie,le,te)}N.C=N.Ma=_}function Ue(N,_,H,G,te,ie,le){var Ae=N.$/G,fe=N.$%G,ye=N.m,_e=N.s,Ke=H+N.$,ge=Ke;te=H+G*te;var Fe=H+G*ie,Re=280+_e.ua,it=N.Pb?Ae:16777216,Qe=0<_e.ua?_e.Wa:null,nt=_e.wc,At=Ke<Fe?se(_e,fe,Ae):null;e(N.C<ie),e(Fe<=te);var vt=!1;e:for(;;){for(;vt||Ke<Fe;){var pt=0;if(Ae>=it){var Zt=Ke-H;e((it=N).Pb),it.wd=it.m,it.xd=Zt,0<it.s.ua&&Me(it.s.Wa,it.s.vb),it=Ae+Ru}if(fe&nt||(At=se(_e,fe,Ae)),e(At!=null),At.Qb&&(_[Ke]=At.qb,vt=!0),!vt)if(oe(ye),At.jc){pt=ye,Zt=_;var Ht=Ke,kr=At.pd[K(pt)&Lu-1];e(At.jc),256>kr.g?(J(pt,pt.u+kr.g),Zt[Ht]=kr.value,pt=0):(J(pt,pt.u+kr.g-256),e(256<=kr.value),pt=kr.value),pt==0&&(vt=!0)}else pt=Tn(At.G[0],At.H[0],ye);if(ye.h)break;if(vt||256>pt){if(!vt)if(At.nd)_[Ke]=(At.qb|pt<<8)>>>0;else{if(oe(ye),vt=Tn(At.G[1],At.H[1],ye),oe(ye),Zt=Tn(At.G[2],At.H[2],ye),Ht=Tn(At.G[3],At.H[3],ye),ye.h)break;_[Ke]=(Ht<<24|vt<<16|pt<<8|Zt)>>>0}if(vt=!1,++Ke,++fe>=G&&(fe=0,++Ae,le!=null&&Ae<=ie&&!(Ae%16)&&le(N,Ae),Qe!=null))for(;ge<Ke;)pt=_[ge++],Qe.X[(506832829*pt&4294967295)>>>Qe.Mb]=pt}else if(280>pt){if(pt=ua(pt-256,ye),Zt=Tn(At.G[4],At.H[4],ye),oe(ye),Zt=Es(G,Zt=ua(Zt,ye)),ye.h)break;if(Ke-H<Zt||te-Ke<pt)break e;for(Ht=0;Ht<pt;++Ht)_[Ke+Ht]=_[Ke+Ht-Zt];for(Ke+=pt,fe+=pt;fe>=G;)fe-=G,++Ae,le!=null&&Ae<=ie&&!(Ae%16)&&le(N,Ae);if(e(Ke<=te),fe&nt&&(At=se(_e,fe,Ae)),Qe!=null)for(;ge<Ke;)pt=_[ge++],Qe.X[(506832829*pt&4294967295)>>>Qe.Mb]=pt}else{if(!(pt<Re))break e;for(vt=pt-280,e(Qe!=null);ge<Ke;)pt=_[ge++],Qe.X[(506832829*pt&4294967295)>>>Qe.Mb]=pt;pt=Ke,e(!(vt>>>(Zt=Qe).Xa)),_[pt]=Zt.X[vt],vt=!0}vt||e(ye.h==V(ye))}if(N.Pb&&ye.h&&Ke<te)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Me(N.s.vb,N.s.Wa);else{if(ye.h)break e;le?.(N,Ae>ie?ie:Ae),N.a=0,N.$=Ke-H}return 1}return N.a=3,0}function tt(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var _=N.Wa;_!=null&&(_.X=null),N.vb=null,e(N!=null)}function He(){var N=new Er;return N==null?null:(N.a=0,N.xb=Lg,Wr("Predictor","VP8LPredictors"),Wr("Predictor","VP8LPredictors_C"),Wr("PredictorAdd","VP8LPredictorsAdd"),Wr("PredictorAdd","VP8LPredictorsAdd_C"),Ma=ar,Zd=De,eh=pr,Zc=Qt,eu=Nt,ic=Yt,FA=ir,k.VP8LMapColor32b=ac,k.VP8LMapColor8b=Hs,N)}function ze(N,_,H,G,te){var ie=1,le=[N],Ae=[_],fe=G.m,ye=G.s,_e=null,Ke=0;e:for(;;){if(H)for(;ie&&ne(fe,1);){var ge=le,Fe=Ae,Re=G,it=1,Qe=Re.m,nt=Re.gc[Re.ab],At=ne(Qe,2);if(Re.Oc&1<<At)ie=0;else{switch(Re.Oc|=1<<At,nt.hc=At,nt.Ea=ge[0],nt.nc=Fe[0],nt.K=[null],++Re.ab,e(4>=Re.ab),At){case 0:case 1:nt.b=ne(Qe,3)+2,it=ze(st(nt.Ea,nt.b),st(nt.nc,nt.b),0,Re,nt.K),nt.K=nt.K[0];break;case 3:var vt,pt=ne(Qe,8)+1,Zt=16<pt?0:4<pt?1:2<pt?2:3;if(ge[0]=st(nt.Ea,Zt),nt.b=Zt,vt=it=ze(pt,1,0,Re,nt.K)){var Ht,kr=pt,Vt=nt,Yr=1<<(8>>Vt.b),na=s(Yr);if(na==null)vt=0;else{var Dr=Vt.K[0],zt=Vt.w;for(na[0]=Vt.K[0][0],Ht=1;Ht<1*kr;++Ht)na[Ht]=Ye(Dr[zt+Ht],na[Ht-1]);for(;Ht<4*Yr;++Ht)na[Ht]=0;Vt.K[0]=null,Vt.K[0]=na,vt=1}}it=vt;break;case 2:break;default:e(0)}ie=it}}if(le=le[0],Ae=Ae[0],ie&&ne(fe,1)&&!(ie=1<=(Ke=ne(fe,4))&&11>=Ke)){G.a=3;break e}var Tt;if(Tt=ie)t:{var ma,Sr,Rr,Sn=G,ds=le,qs=Ae,qn=Ke,Za=H,oi=Sn.m,es=Sn.s,Kr=[null],cn=1,pa=0,pn=Uo[qn];r:for(;;){if(Za&&ne(oi,1)){var hs=ne(oi,3)+2,ga=st(ds,hs),un=st(qs,hs),Qa=ga*un;if(!ze(ga,un,0,Sn,Kr))break r;for(Kr=Kr[0],es.xc=hs,ma=0;ma<Qa;++ma){var Bn=Kr[ma]>>8&65535;Kr[ma]=Bn,Bn>=cn&&(cn=Bn+1)}}if(oi.h)break r;for(Sr=0;5>Sr;++Sr){var ts=IA[Sr];!Sr&&0<qn&&(ts+=1<<qn),pa<ts&&(pa=ts)}var rs=i(cn*pn,M),Dn=cn,on=i(Dn,ae);if(on==null)var li=null;else e(65536>=Dn),li=on;var Sa=s(pa);if(li==null||Sa==null||rs==null){Sn.a=1;break r}var gr=rs;for(ma=Rr=0;ma<cn;++ma){var vr=li[ma],An=vr.G,Xi=vr.H,Ko=0,ki=1,ns=0;for(Sr=0;5>Sr;++Sr){ts=IA[Sr],An[Sr]=gr,Xi[Sr]=Rr,!Sr&&0<qn&&(ts+=1<<qn);a:{var $u,Vu=ts,Bm=Sn,Gn=Sa,Rg=gr,Ug=Rr,Em=0,au=Bm.m,F5=ne(au,1);if(a(Gn,0,0,Vu),F5){var Qg=ne(au,1)+1,Hg=ne(au,1),jm=ne(au,Hg==0?1:8);Gn[jm]=1,Qg==2&&(Gn[jm=ne(au,8)]=1);var Ts=1}else{var Ba=s(19),Rf=ne(au,4)+4;if(19<Rf){Bm.a=3;var qu=0;break a}for($u=0;$u<Rf;++$u)Ba[If[$u]]=ne(au,3);var oh=void 0,RA=void 0,cc=Bm,_m=Ba,lh=Vu,Tm=Gn,km=0,su=cc.m,zg=8,Kg=i(128,M);n:for(;U(Kg,0,7,_m,19);){if(ne(su,1)){var Gv=2+2*ne(su,3);if((oh=2+ne(su,Gv))>lh)break n}else oh=lh;for(RA=0;RA<lh&&oh--;){oe(su);var $g=Kg[0+(127&K(su))];J(su,su.u+$g.g);var Gu=$g.value;if(16>Gu)Tm[RA++]=Gu,Gu!=0&&(zg=Gu);else{var Wv=Gu==16,Yv=Gu-16,Xv=nh[Yv],Vg=ne(su,Mo[Yv])+Xv;if(RA+Vg>lh)break n;for(var Jv=Wv?zg:0;0<Vg--;)Tm[RA++]=Jv}}km=1;break n}km||(cc.a=3),Ts=km}(Ts=Ts&&!au.h)&&(Em=U(Rg,Ug,8,Gn,Vu)),Ts&&Em!=0?qu=Em:(Bm.a=3,qu=0)}if(qu==0)break r;if(ki&&vm[Sr]==1&&(ki=gr[Rr].g==0),Ko+=gr[Rr].g,Rr+=qu,3>=Sr){var UA,Fm=Sa[0];for(UA=1;UA<ts;++UA)Sa[UA]>Fm&&(Fm=Sa[UA]);ns+=Fm}}if(vr.nd=ki,vr.Qb=0,ki&&(vr.qb=(An[3][Xi[3]+0].value<<24|An[1][Xi[1]+0].value<<16|An[2][Xi[2]+0].value)>>>0,Ko==0&&256>An[0][Xi[0]+0].value&&(vr.Qb=1,vr.qb+=An[0][Xi[0]+0].value<<8)),vr.jc=!vr.Qb&&6>ns,vr.jc){var Uf,uc=vr;for(Uf=0;Uf<Lu;++Uf){var iu=Uf,ou=uc.pd[iu],Om=uc.G[0][uc.H[0]+iu];256<=Om.value?(ou.g=Om.g+256,ou.value=Om.value):(ou.g=0,ou.value=0,iu>>=Ca(Om,8,ou),iu>>=Ca(uc.G[1][uc.H[1]+iu],16,ou),iu>>=Ca(uc.G[2][uc.H[2]+iu],0,ou),Ca(uc.G[3][uc.H[3]+iu],24,ou))}}}es.vc=Kr,es.Wb=cn,es.Ya=li,es.yc=rs,Tt=1;break t}Tt=0}if(!(ie=Tt)){G.a=3;break e}if(0<Ke){if(ye.ua=1<<Ke,!X(ye.Wa,Ke)){G.a=1,ie=0;break e}}else ye.ua=0;var Dm=G,QA=le,Zv=Ae,ch=Dm.s,uh=ch.xc;if(Dm.c=QA,Dm.i=Zv,ch.md=st(QA,uh),ch.wc=uh==0?-1:(1<<uh)-1,H){G.xb=Uu;break e}if((_e=s(le*Ae))==null){G.a=1,ie=0;break e}ie=(ie=Ue(G,_e,0,le,Ae,Ae,null))&&!fe.h;break e}return ie?(te!=null?te[0]=_e:(e(_e==null),e(H)),G.$=0,H||tt(ye)):tt(ye),ie}function $e(N,_){var H=N.c*N.i,G=H+_+16*_;return e(N.c<=_),N.V=s(G),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+H+_,1)}function yt(N,_){var H=N.C,G=_-H,te=N.V,ie=N.Ba+N.c*H;for(e(_<=N.l.o);0<G;){var le=16<G?16:G,Ae=N.l.ma,fe=N.l.width,ye=fe*le,_e=Ae.ca,Ke=Ae.tb+fe*H,ge=N.Ta,Fe=N.Ua;ve(N,le,te,ie),yo(ge,Fe,_e,Ke,ye),me(Ae,H,H+le,_e,Ke,fe),G-=le,te+=le*N.c,H+=le}e(H==_),N.C=N.Ma=_}function St(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function jt(){this.Yb=(function(){var N=[];return(function _(H,G,te){for(var ie=te[G],le=0;le<ie&&(H.push(te.length>G+1?[]:0),!(te.length<G+1));le++)_(H[le],G+1,te)})(N,0,[3,11]),N})()}function $t(){this.jb=s(3),this.Wc=l([4,8],jt),this.Xc=l([4,17],jt)}function Nn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function kn(){this.Na=this.la=0}function Si(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new Mc}function fo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Fu(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new St,this.Kc=new kt,this.ed=new Nn,this.Qa=new Ct,this.Ic=this.$c=this.Aa=0,this.D=new ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,F),this.ia=0,this.pb=i(4,Si),this.Pa=new $t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fo),this.Hd=0,this.rb=Array(new kn),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=l([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ha(N,_){return 0>N?0:N>_?_:N}function Mc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pl(){var N=new Fu;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,vo||(vo=Ou)),N}function fn(N,_,H){return N.a==0&&(N.a=_,N.sc=H,N.cb=0),0}function pf(N,_,H){return 3<=H&&N[_+0]==157&&N[_+1]==1&&N[_+2]==42}function Xl(N,_){if(N==null)return 0;if(N.a=0,N.sc="OK",_==null)return fn(N,2,"null VP8Io passed to VP8GetHeaders()");var H=_.data,G=_.w,te=_.ha;if(4>te)return fn(N,7,"Truncated header.");var ie=H[G+0]|H[G+1]<<8|H[G+2]<<16,le=N.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return fn(N,3,"Incorrect keyframe parameters.");if(!le.yd)return fn(N,4,"Frame not displayable.");G+=3,te-=3;var Ae=N.Kc;if(le.Rb){if(7>te)return fn(N,7,"cannot parse picture header");if(!pf(H,G,te))return fn(N,3,"Bad code word");Ae.c=16383&(H[G+4]<<8|H[G+3]),Ae.Td=H[G+4]>>6,Ae.i=16383&(H[G+6]<<8|H[G+5]),Ae.Ud=H[G+6]>>6,G+=7,te-=7,N.za=Ae.c+15>>4,N.Ub=Ae.i+15>>4,_.width=Ae.c,_.height=Ae.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((ie=N.Pa).jb,0,255,ie.jb.length),e((ie=N.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,a(ie.Zb,0,0,ie.Zb.length),a(ie.Lb,0,0,ie.Lb)}if(le.ub>te)return fn(N,7,"bad partition length");W(ie=N.m,H,G,le.ub),G+=le.ub,te-=le.ub,le.Rb&&(Ae.Ld=ue(ie),Ae.Kd=ue(ie)),Ae=N.Qa;var fe,ye=N.Pa;if(e(ie!=null),e(Ae!=null),Ae.Cb=ue(ie),Ae.Cb){if(Ae.Bb=ue(ie),ue(ie)){for(Ae.Fb=ue(ie),fe=0;4>fe;++fe)Ae.Zb[fe]=ue(ie)?re(ie,7):0;for(fe=0;4>fe;++fe)Ae.Lb[fe]=ue(ie)?re(ie,6):0}if(Ae.Bb)for(fe=0;3>fe;++fe)ye.jb[fe]=ue(ie)?ee(ie,8):255}else Ae.Bb=0;if(ie.Ka)return fn(N,3,"cannot parse segment header");if((Ae=N.ed).zd=ue(ie),Ae.Tb=ee(ie,6),Ae.wb=ee(ie,3),Ae.Pc=ue(ie),Ae.Pc&&ue(ie)){for(ye=0;4>ye;++ye)ue(ie)&&(Ae.vd[ye]=re(ie,6));for(ye=0;4>ye;++ye)ue(ie)&&(Ae.od[ye]=re(ie,6))}if(N.L=Ae.Tb==0?0:Ae.zd?1:2,ie.Ka)return fn(N,3,"cannot parse filter header");var _e=te;if(te=fe=G,G=fe+_e,Ae=_e,N.Xb=(1<<ee(N.m,2))-1,_e<3*(ye=N.Xb))H=7;else{for(fe+=3*ye,Ae-=3*ye,_e=0;_e<ye;++_e){var Ke=H[te+0]|H[te+1]<<8|H[te+2]<<16;Ke>Ae&&(Ke=Ae),W(N.Jc[+_e],H,fe,Ke),fe+=Ke,Ae-=Ke,te+=3}W(N.Jc[+ye],H,fe,Ae),H=fe<G?0:5}if(H!=0)return fn(N,H,"cannot parse partitions");for(H=ee(fe=N.m,7),te=ue(fe)?re(fe,4):0,G=ue(fe)?re(fe,4):0,Ae=ue(fe)?re(fe,4):0,ye=ue(fe)?re(fe,4):0,fe=ue(fe)?re(fe,4):0,_e=N.Qa,Ke=0;4>Ke;++Ke){if(_e.Cb){var ge=_e.Zb[Ke];_e.Fb||(ge+=H)}else{if(0<Ke){N.pb[Ke]=N.pb[0];continue}ge=H}var Fe=N.pb[Ke];Fe.Sc[0]=Qo[ha(ge+te,127)],Fe.Sc[1]=Ho[ha(ge+0,127)],Fe.Eb[0]=2*Qo[ha(ge+G,127)],Fe.Eb[1]=101581*Ho[ha(ge+Ae,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=Qo[ha(ge+ye,117)],Fe.Qc[1]=Ho[ha(ge+fe,127)],Fe.lc=ge+fe}if(!le.Rb)return fn(N,4,"Not a key frame.");for(ue(ie),le=N.Pa,H=0;4>H;++H){for(te=0;8>te;++te)for(G=0;3>G;++G)for(Ae=0;11>Ae;++Ae)ye=xe(ie,ra[H][te][G][Ae])?ee(ie,8):Vv[H][te][G][Ae],le.Wc[H][te].Yb[G][Ae]=ye;for(te=0;17>te;++te)le.Xc[H][te]=le.Wc[H][Xr[te]]}return N.kc=ue(ie),N.kc&&(N.Bd=ee(ie,8)),N.cb=1}function Ou(N,_,H,G,te,ie,le){var Ae=_[te].Yb[H];for(H=0;16>te;++te){if(!xe(N,Ae[H+0]))return te;for(;!xe(N,Ae[H+1]);)if(Ae=_[++te].Yb[0],H=0,te==16)return 16;var fe=_[te+1].Yb;if(xe(N,Ae[H+2])){var ye=N,_e=0;if(xe(ye,(ge=Ae)[(Ke=H)+3]))if(xe(ye,ge[Ke+6])){for(Ae=0,Ke=2*(_e=xe(ye,ge[Ke+8]))+(ge=xe(ye,ge[Ke+9+_e])),_e=0,ge=$v[Ke];ge[Ae];++Ae)_e+=_e+xe(ye,ge[Ae]);_e+=3+(8<<Ke)}else xe(ye,ge[Ke+7])?(_e=7+2*xe(ye,165),_e+=xe(ye,145)):_e=5+xe(ye,159);else _e=xe(ye,ge[Ke+4])?3+xe(ye,ge[Ke+5]):2;Ae=fe[2]}else _e=1,Ae=fe[1];fe=le+Ig[te],0>(ye=N).b&&Ne(ye);var Ke,ge=ye.b,Fe=(Ke=ye.Ca>>1)-(ye.I>>ge)>>31;--ye.b,ye.Ca+=Fe,ye.Ca|=1,ye.I-=(Ke+1&Fe)<<ge,ie[fe]=((_e^Fe)-Fe)*G[(0<te)+0]}return 16}function gf(N){var _=N.rb[N.sb-1];_.la=0,_.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function Bi(N,_,H,G,te){te=N[_+H+32*G]+(te>>3),N[_+H+32*G]=-256&te?0>te?0:255:te}function us(N,_,H,G,te,ie){Bi(N,_,0,H,G+te),Bi(N,_,1,H,G+ie),Bi(N,_,2,H,G-ie),Bi(N,_,3,H,G-te)}function Xa(N){return(20091*N>>16)+N}function Kd(N,_,H,G){var te,ie=0,le=s(16);for(te=0;4>te;++te){var Ae=N[_+0]+N[_+8],fe=N[_+0]-N[_+8],ye=(35468*N[_+4]>>16)-Xa(N[_+12]),_e=Xa(N[_+4])+(35468*N[_+12]>>16);le[ie+0]=Ae+_e,le[ie+1]=fe+ye,le[ie+2]=fe-ye,le[ie+3]=Ae-_e,ie+=4,_++}for(te=ie=0;4>te;++te)Ae=(N=le[ie+0]+4)+le[ie+8],fe=N-le[ie+8],ye=(35468*le[ie+4]>>16)-Xa(le[ie+12]),Bi(H,G,0,0,Ae+(_e=Xa(le[ie+4])+(35468*le[ie+12]>>16))),Bi(H,G,1,0,fe+ye),Bi(H,G,2,0,fe-ye),Bi(H,G,3,0,Ae-_e),ie++,G+=32}function am(N,_,H,G){var te=N[_+0]+4,ie=35468*N[_+4]>>16,le=Xa(N[_+4]),Ae=35468*N[_+1]>>16;us(H,G,0,te+le,N=Xa(N[_+1]),Ae),us(H,G,1,te+ie,N,Ae),us(H,G,2,te-ie,N,Ae),us(H,G,3,te-le,N,Ae)}function xf(N,_,H,G,te){Kd(N,_,H,G),te&&Kd(N,_+16,H,G+4)}function Ei(N,_,H,G){tu(N,_+0,H,G,1),tu(N,_+32,H,G+128,1)}function yf(N,_,H,G){var te;for(N=N[_+0]+4,te=0;4>te;++te)for(_=0;4>_;++_)Bi(H,G,_,te,N)}function vf(N,_,H,G){N[_+0]&&mn(N,_+0,H,G),N[_+16]&&mn(N,_+16,H,G+4),N[_+32]&&mn(N,_+32,H,G+128),N[_+48]&&mn(N,_+48,H,G+128+4)}function gl(N,_,H,G){var te,ie=s(16);for(te=0;4>te;++te){var le=N[_+0+te]+N[_+12+te],Ae=N[_+4+te]+N[_+8+te],fe=N[_+4+te]-N[_+8+te],ye=N[_+0+te]-N[_+12+te];ie[0+te]=le+Ae,ie[8+te]=le-Ae,ie[4+te]=ye+fe,ie[12+te]=ye-fe}for(te=0;4>te;++te)le=(N=ie[0+4*te]+3)+ie[3+4*te],Ae=ie[1+4*te]+ie[2+4*te],fe=ie[1+4*te]-ie[2+4*te],ye=N-ie[3+4*te],H[G+0]=le+Ae>>3,H[G+16]=ye+fe>>3,H[G+32]=le-Ae>>3,H[G+48]=ye-fe>>3,G+=64}function SA(N,_,H){var G,te=_-32,ie=si,le=255-N[te-1];for(G=0;G<H;++G){var Ae,fe=ie,ye=le+N[_-1];for(Ae=0;Ae<H;++Ae)N[_+Ae]=fe[ye+N[te+Ae]];_+=32}}function sm(N,_){SA(N,_,4)}function im(N,_){SA(N,_,8)}function bf(N,_){SA(N,_,16)}function wf(N,_){var H;for(H=0;16>H;++H)n(N,_+32*H,N,_-32,16)}function om(N,_){var H;for(H=16;0<H;--H)a(N,_,N[_-1],16),_+=32}function Wi(N,_,H){var G;for(G=0;16>G;++G)a(_,H+32*G,N,16)}function xl(N,_){var H,G=16;for(H=0;16>H;++H)G+=N[_-1+32*H]+N[_+H-32];Wi(G>>5,N,_)}function Rc(N,_){var H,G=8;for(H=0;16>H;++H)G+=N[_-1+32*H];Wi(G>>4,N,_)}function BA(N,_){var H,G=8;for(H=0;16>H;++H)G+=N[_+H-32];Wi(G>>4,N,_)}function Du(N,_){Wi(128,N,_)}function Nr(N,_,H){return N+2*_+H+2>>2}function lm(N,_){var H,G=_-32;for(G=new Uint8Array([Nr(N[G-1],N[G+0],N[G+1]),Nr(N[G+0],N[G+1],N[G+2]),Nr(N[G+1],N[G+2],N[G+3]),Nr(N[G+2],N[G+3],N[G+4])]),H=0;4>H;++H)n(N,_+32*H,G,0,G.length)}function Cf(N,_){var H=N[_-1],G=N[_-1+32],te=N[_-1+64],ie=N[_-1+96];Oe(N,_+0,16843009*Nr(N[_-1-32],H,G)),Oe(N,_+32,16843009*Nr(H,G,te)),Oe(N,_+64,16843009*Nr(G,te,ie)),Oe(N,_+96,16843009*Nr(te,ie,ie))}function cm(N,_){var H,G=4;for(H=0;4>H;++H)G+=N[_+H-32]+N[_-1+32*H];for(G>>=3,H=0;4>H;++H)a(N,_+32*H,G,4)}function mo(N,_){var H=N[_-1+0],G=N[_-1+32],te=N[_-1+64],ie=N[_-1-32],le=N[_+0-32],Ae=N[_+1-32],fe=N[_+2-32],ye=N[_+3-32];N[_+0+96]=Nr(G,te,N[_-1+96]),N[_+1+96]=N[_+0+64]=Nr(H,G,te),N[_+2+96]=N[_+1+64]=N[_+0+32]=Nr(ie,H,G),N[_+3+96]=N[_+2+64]=N[_+1+32]=N[_+0+0]=Nr(le,ie,H),N[_+3+64]=N[_+2+32]=N[_+1+0]=Nr(Ae,le,ie),N[_+3+32]=N[_+2+0]=Nr(fe,Ae,le),N[_+3+0]=Nr(ye,fe,Ae)}function Us(N,_){var H=N[_+1-32],G=N[_+2-32],te=N[_+3-32],ie=N[_+4-32],le=N[_+5-32],Ae=N[_+6-32],fe=N[_+7-32];N[_+0+0]=Nr(N[_+0-32],H,G),N[_+1+0]=N[_+0+32]=Nr(H,G,te),N[_+2+0]=N[_+1+32]=N[_+0+64]=Nr(G,te,ie),N[_+3+0]=N[_+2+32]=N[_+1+64]=N[_+0+96]=Nr(te,ie,le),N[_+3+32]=N[_+2+64]=N[_+1+96]=Nr(ie,le,Ae),N[_+3+64]=N[_+2+96]=Nr(le,Ae,fe),N[_+3+96]=Nr(Ae,fe,fe)}function Nf(N,_){var H=N[_-1+0],G=N[_-1+32],te=N[_-1+64],ie=N[_-1-32],le=N[_+0-32],Ae=N[_+1-32],fe=N[_+2-32],ye=N[_+3-32];N[_+0+0]=N[_+1+64]=ie+le+1>>1,N[_+1+0]=N[_+2+64]=le+Ae+1>>1,N[_+2+0]=N[_+3+64]=Ae+fe+1>>1,N[_+3+0]=fe+ye+1>>1,N[_+0+96]=Nr(te,G,H),N[_+0+64]=Nr(G,H,ie),N[_+0+32]=N[_+1+96]=Nr(H,ie,le),N[_+1+32]=N[_+2+96]=Nr(ie,le,Ae),N[_+2+32]=N[_+3+96]=Nr(le,Ae,fe),N[_+3+32]=Nr(Ae,fe,ye)}function EA(N,_){var H=N[_+0-32],G=N[_+1-32],te=N[_+2-32],ie=N[_+3-32],le=N[_+4-32],Ae=N[_+5-32],fe=N[_+6-32],ye=N[_+7-32];N[_+0+0]=H+G+1>>1,N[_+1+0]=N[_+0+64]=G+te+1>>1,N[_+2+0]=N[_+1+64]=te+ie+1>>1,N[_+3+0]=N[_+2+64]=ie+le+1>>1,N[_+0+32]=Nr(H,G,te),N[_+1+32]=N[_+0+96]=Nr(G,te,ie),N[_+2+32]=N[_+1+96]=Nr(te,ie,le),N[_+3+32]=N[_+2+96]=Nr(ie,le,Ae),N[_+3+64]=Nr(le,Ae,fe),N[_+3+96]=Nr(Ae,fe,ye)}function po(N,_){var H=N[_-1+0],G=N[_-1+32],te=N[_-1+64],ie=N[_-1+96];N[_+0+0]=H+G+1>>1,N[_+2+0]=N[_+0+32]=G+te+1>>1,N[_+2+32]=N[_+0+64]=te+ie+1>>1,N[_+1+0]=Nr(H,G,te),N[_+3+0]=N[_+1+32]=Nr(G,te,ie),N[_+3+32]=N[_+1+64]=Nr(te,ie,ie),N[_+3+64]=N[_+2+64]=N[_+0+96]=N[_+1+96]=N[_+2+96]=N[_+3+96]=ie}function jA(N,_){var H=N[_-1+0],G=N[_-1+32],te=N[_-1+64],ie=N[_-1+96],le=N[_-1-32],Ae=N[_+0-32],fe=N[_+1-32],ye=N[_+2-32];N[_+0+0]=N[_+2+32]=H+le+1>>1,N[_+0+32]=N[_+2+64]=G+H+1>>1,N[_+0+64]=N[_+2+96]=te+G+1>>1,N[_+0+96]=ie+te+1>>1,N[_+3+0]=Nr(Ae,fe,ye),N[_+2+0]=Nr(le,Ae,fe),N[_+1+0]=N[_+3+32]=Nr(H,le,Ae),N[_+1+32]=N[_+3+64]=Nr(G,H,le),N[_+1+64]=N[_+3+96]=Nr(te,G,H),N[_+1+96]=Nr(ie,te,G)}function Jl(N,_){var H;for(H=0;8>H;++H)n(N,_+32*H,N,_-32,8)}function um(N,_){var H;for(H=0;8>H;++H)a(N,_,N[_-1],8),_+=32}function Oo(N,_,H){var G;for(G=0;8>G;++G)a(_,H+32*G,N,8)}function $d(N,_){var H,G=8;for(H=0;8>H;++H)G+=N[_+H-32]+N[_-1+32*H];Oo(G>>4,N,_)}function Vd(N,_){var H,G=4;for(H=0;8>H;++H)G+=N[_+H-32];Oo(G>>3,N,_)}function js(N,_){var H,G=4;for(H=0;8>H;++H)G+=N[_-1+32*H];Oo(G>>3,N,_)}function Zl(N,_){Oo(128,N,_)}function Do(N,_,H){var G=N[_-H],te=N[_+0],ie=3*(te-G)+ru[1020+N[_-2*H]-N[_+H]],le=Of[112+(ie+4>>3)];N[_-H]=si[255+G+Of[112+(ie+3>>3)]],N[_+0]=si[255+te-le]}function Uc(N,_,H,G){var te=N[_+0],ie=N[_+H];return zs[255+N[_-2*H]-N[_-H]]>G||zs[255+ie-te]>G}function qd(N,_,H,G){return 4*zs[255+N[_-H]-N[_+0]]+zs[255+N[_-2*H]-N[_+H]]<=G}function _A(N,_,H,G,te){var ie=N[_-3*H],le=N[_-2*H],Ae=N[_-H],fe=N[_+0],ye=N[_+H],_e=N[_+2*H],Ke=N[_+3*H];return 4*zs[255+Ae-fe]+zs[255+le-ye]>G?0:zs[255+N[_-4*H]-ie]<=te&&zs[255+ie-le]<=te&&zs[255+le-Ae]<=te&&zs[255+Ke-_e]<=te&&zs[255+_e-ye]<=te&&zs[255+ye-fe]<=te}function Qc(N,_,H,G){var te=2*G+1;for(G=0;16>G;++G)qd(N,_+G,H,te)&&Do(N,_+G,H)}function Hc(N,_,H,G){var te=2*G+1;for(G=0;16>G;++G)qd(N,_+G*H,1,te)&&Do(N,_+G*H,1)}function TA(N,_,H,G){var te;for(te=3;0<te;--te)Qc(N,_+=4*H,H,G)}function Sf(N,_,H,G){var te;for(te=3;0<te;--te)Hc(N,_+=4,H,G)}function zc(N,_,H,G,te,ie,le,Ae){for(ie=2*ie+1;0<te--;){if(_A(N,_,H,ie,le))if(Uc(N,_,H,Ae))Do(N,_,H);else{var fe=N,ye=_,_e=H,Ke=fe[ye-2*_e],ge=fe[ye-_e],Fe=fe[ye+0],Re=fe[ye+_e],it=fe[ye+2*_e],Qe=27*(At=ru[1020+3*(Fe-ge)+ru[1020+Ke-Re]])+63>>7,nt=18*At+63>>7,At=9*At+63>>7;fe[ye-3*_e]=si[255+fe[ye-3*_e]+At],fe[ye-2*_e]=si[255+Ke+nt],fe[ye-_e]=si[255+ge+Qe],fe[ye+0]=si[255+Fe-Qe],fe[ye+_e]=si[255+Re-nt],fe[ye+2*_e]=si[255+it-At]}_+=G}}function Kc(N,_,H,G,te,ie,le,Ae){for(ie=2*ie+1;0<te--;){if(_A(N,_,H,ie,le))if(Uc(N,_,H,Ae))Do(N,_,H);else{var fe=N,ye=_,_e=H,Ke=fe[ye-_e],ge=fe[ye+0],Fe=fe[ye+_e],Re=Of[112+(4+(it=3*(ge-Ke))>>3)],it=Of[112+(it+3>>3)],Qe=Re+1>>1;fe[ye-2*_e]=si[255+fe[ye-2*_e]+Qe],fe[ye-_e]=si[255+Ke+it],fe[ye+0]=si[255+ge-Re],fe[ye+_e]=si[255+Fe-Qe]}_+=G}}function Am(N,_,H,G,te,ie){zc(N,_,H,1,16,G,te,ie)}function $c(N,_,H,G,te,ie){zc(N,_,1,H,16,G,te,ie)}function dm(N,_,H,G,te,ie){var le;for(le=3;0<le;--le)Kc(N,_+=4*H,H,1,16,G,te,ie)}function R(N,_,H,G,te,ie){var le;for(le=3;0<le;--le)Kc(N,_+=4,1,H,16,G,te,ie)}function Z(N,_,H,G,te,ie,le,Ae){zc(N,_,te,1,8,ie,le,Ae),zc(H,G,te,1,8,ie,le,Ae)}function be(N,_,H,G,te,ie,le,Ae){zc(N,_,1,te,8,ie,le,Ae),zc(H,G,1,te,8,ie,le,Ae)}function je(N,_,H,G,te,ie,le,Ae){Kc(N,_+4*te,te,1,8,ie,le,Ae),Kc(H,G+4*te,te,1,8,ie,le,Ae)}function Ie(N,_,H,G,te,ie,le,Ae){Kc(N,_+4,1,te,8,ie,le,Ae),Kc(H,G+4,1,te,8,ie,le,Ae)}function ut(){this.ba=new ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lr(){this.ua=0,this.Wa=new We,this.vb=new We,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new M}function Er(){this.xb=this.a=0,this.l=new Mc,this.ca=new ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lr,this.ab=0,this.gc=i(4,Xt),this.Oc=0}function Or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(N,_,H,G,te,ie,le){for(N=N==null?0:N[_+0],_=0;_<le;++_)te[ie+_]=N+H[G+_]&255,N=te[ie+_]}function fa(N,_,H,G,te,ie,le){var Ae;if(N==null)an(null,null,H,G,te,ie,le);else for(Ae=0;Ae<le;++Ae)te[ie+Ae]=N[_+Ae]+H[G+Ae]&255}function La(N,_,H,G,te,ie,le){if(N==null)an(null,null,H,G,te,ie,le);else{var Ae,fe=N[_+0],ye=fe,_e=fe;for(Ae=0;Ae<le;++Ae)ye=_e+(fe=N[_+Ae])-ye,_e=H[G+Ae]+(-256&ye?0>ye?0:255:ye)&255,ye=fe,te[ie+Ae]=_e}}function $n(N,_,H,G){var te=_.width,ie=_.o;if(e(N!=null&&_!=null),0>H||0>=G||H+G>ie)return null;if(!N.Cc){if(N.ga==null){var le;if(N.ga=new Or,(le=N.ga==null)||(le=_.width*_.o,e(N.Gb.length==0),N.Gb=s(le),N.Uc=0,N.Gb==null?le=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,le=1),le=!le),!le){le=N.ga;var Ae=N.Fa,fe=N.P,ye=N.qc,_e=N.mb,Ke=N.nb,ge=fe+1,Fe=ye-1,Re=le.l;if(e(Ae!=null&&_e!=null&&_!=null),nu[0]=null,nu[1]=an,nu[2]=fa,nu[3]=La,le.ca=_e,le.tb=Ke,le.c=_.width,le.i=_.height,e(0<le.c&&0<le.i),1>=ye)_=0;else if(le.$a=3&Ae[fe+0],le.Z=Ae[fe+0]>>2&3,le.Lc=Ae[fe+0]>>4&3,fe=Ae[fe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||fe)_=0;else if(Re.put=sr,Re.ac=ca,Re.bc=wa,Re.ma=le,Re.width=_.width,Re.height=_.height,Re.Da=_.Da,Re.v=_.v,Re.va=_.va,Re.j=_.j,Re.o=_.o,le.$a)e:{e(le.$a==1),_=He();t:for(;;){if(_==null){_=0;break e}if(e(le!=null),le.mc=_,_.c=le.c,_.i=le.i,_.l=le.l,_.l.ma=le,_.l.width=le.c,_.l.height=le.i,_.a=0,pe(_.m,Ae,ge,Fe),!ze(le.c,le.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&he(_.s)?(le.ic=1,Ae=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Ae),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(le.ic=0,_=$e(_,le.c)),!_))break t;_=1;break e}le.mc=null,_=0}else _=Fe>=le.c*le.i;le=!_}if(le)return null;N.ga.Lc!=1?N.Ga=0:G=ie-H}e(N.ga!=null),e(H+G<=ie);e:{if(_=(Ae=N.ga).c,ie=Ae.l.o,Ae.$a==0){if(ge=N.rc,Fe=N.Vc,Re=N.Fa,fe=N.P+1+H*_,ye=N.mb,_e=N.nb+H*_,e(fe<=N.P+N.qc),Ae.Z!=0)for(e(nu[Ae.Z]!=null),le=0;le<G;++le)nu[Ae.Z](ge,Fe,Re,fe,ye,_e,_),ge=ye,Fe=_e,_e+=_,fe+=_;else for(le=0;le<G;++le)n(ye,_e,Re,fe,_),ge=ye,Fe=_e,_e+=_,fe+=_;N.rc=ge,N.Vc=Fe}else{if(e(Ae.mc!=null),_=H+G,e((le=Ae.mc)!=null),e(_<=le.i),le.C>=_)_=1;else if(Ae.ic||yl(),Ae.ic){Ae=le.V,ge=le.Ba,Fe=le.c;var it=le.i,Qe=(Re=1,fe=le.$/Fe,ye=le.$%Fe,_e=le.m,Ke=le.s,le.$),nt=Fe*it,At=Fe*_,vt=Ke.wc,pt=Qe<At?se(Ke,ye,fe):null;e(Qe<=nt),e(_<=it),e(he(Ke));t:for(;;){for(;!_e.h&&Qe<At;){if(ye&vt||(pt=se(Ke,ye,fe)),e(pt!=null),oe(_e),256>(it=Tn(pt.G[0],pt.H[0],_e)))Ae[ge+Qe]=it,++Qe,++ye>=Fe&&(ye=0,++fe<=_&&!(fe%16)&&we(le,fe));else{if(!(280>it)){Re=0;break t}it=ua(it-256,_e);var Zt,Ht=Tn(pt.G[4],pt.H[4],_e);if(oe(_e),!(Qe>=(Ht=Es(Fe,Ht=ua(Ht,_e)))&&nt-Qe>=it)){Re=0;break t}for(Zt=0;Zt<it;++Zt)Ae[ge+Qe+Zt]=Ae[ge+Qe+Zt-Ht];for(Qe+=it,ye+=it;ye>=Fe;)ye-=Fe,++fe<=_&&!(fe%16)&&we(le,fe);Qe<At&&ye&vt&&(pt=se(Ke,ye,fe))}e(_e.h==V(_e))}we(le,fe>_?_:fe);break t}!Re||_e.h&&Qe<nt?(Re=0,le.a=_e.h?5:3):le.$=Qe,_=Re}else _=Ue(le,le.V,le.Ba,le.c,le.i,_,yt);if(!_){G=0;break e}}H+G>=ie&&(N.Cc=1),G=1}if(!G)return null;if(N.Cc&&((G=N.ga)!=null&&(G.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+H*te}function As(N,_,H,G,te,ie){for(;0<te--;){var le,Ae=N,fe=_+(H?1:0),ye=N,_e=_+(H?0:3);for(le=0;le<G;++le){var Ke=ye[_e+4*le];Ke!=255&&(Ke*=32897,Ae[fe+4*le+0]=Ae[fe+4*le+0]*Ke>>23,Ae[fe+4*le+1]=Ae[fe+4*le+1]*Ke>>23,Ae[fe+4*le+2]=Ae[fe+4*le+2]*Ke>>23)}_+=ie}}function Ja(N,_,H,G,te){for(;0<G--;){var ie;for(ie=0;ie<H;++ie){var le=N[_+2*ie+0],Ae=15&(ye=N[_+2*ie+1]),fe=4369*Ae,ye=(240&ye|ye>>4)*fe>>16;N[_+2*ie+0]=(240&le|le>>4)*fe>>16&240|(15&le|le<<4)*fe>>16>>4&15,N[_+2*ie+1]=240&ye|Ae}_+=te}}function Qs(N,_,H,G,te,ie,le,Ae){var fe,ye,_e=255;for(ye=0;ye<te;++ye){for(fe=0;fe<G;++fe){var Ke=N[_+fe];ie[le+4*fe]=Ke,_e&=Ke}_+=H,le+=Ae}return _e!=255}function Vc(N,_,H,G,te){var ie;for(ie=0;ie<te;++ie)H[G+ie]=N[_+ie]>>8}function yl(){DA=As,Io=Ja,Tf=Qs,yo=Vc}function qc(N,_,H){k[N]=function(G,te,ie,le,Ae,fe,ye,_e,Ke,ge,Fe,Re,it,Qe,nt,At,vt){var pt,Zt=vt-1>>1,Ht=Ae[fe+0]|ye[_e+0]<<16,kr=Ke[ge+0]|Fe[Re+0]<<16;e(G!=null);var Vt=3*Ht+kr+131074>>2;for(_(G[te+0],255&Vt,Vt>>16,it,Qe),ie!=null&&(Vt=3*kr+Ht+131074>>2,_(ie[le+0],255&Vt,Vt>>16,nt,At)),pt=1;pt<=Zt;++pt){var Yr=Ae[fe+pt]|ye[_e+pt]<<16,na=Ke[ge+pt]|Fe[Re+pt]<<16,Dr=Ht+Yr+kr+na+524296,zt=Dr+2*(Yr+kr)>>3;Vt=zt+Ht>>1,Ht=(Dr=Dr+2*(Ht+na)>>3)+Yr>>1,_(G[te+2*pt-1],255&Vt,Vt>>16,it,Qe+(2*pt-1)*H),_(G[te+2*pt-0],255&Ht,Ht>>16,it,Qe+(2*pt-0)*H),ie!=null&&(Vt=Dr+kr>>1,Ht=zt+na>>1,_(ie[le+2*pt-1],255&Vt,Vt>>16,nt,At+(2*pt-1)*H),_(ie[le+2*pt+0],255&Ht,Ht>>16,nt,At+(2*pt+0)*H)),Ht=Yr,kr=na}1&vt||(Vt=3*Ht+kr+131074>>2,_(G[te+vt-1],255&Vt,Vt>>16,it,Qe+(vt-1)*H),ie!=null&&(Vt=3*kr+Ht+131074>>2,_(ie[le+vt-1],255&Vt,Vt>>16,nt,At+(vt-1)*H)))}}function Bf(){$s[pm]=LA,$s[ii]=ah,$s[gm]=Mg,$s[Lo]=wm,$s[Df]=Qu,$s[th]=lc,$s[Mu]=Hu,$s[Pf]=ah,$s[xm]=wm,$s[rh]=Qu,$s[ym]=lc}function Gd(N){return N&-16384?0>N?0:255:N>>Cm}function ec(N,_){return Gd((19077*N>>8)+(26149*_>>8)-14234)}function vl(N,_,H){return Gd((19077*N>>8)-(6419*_>>8)-(13320*H>>8)+8708)}function kA(N,_){return Gd((19077*N>>8)+(33050*_>>8)-17685)}function Gc(N,_,H,G,te){G[te+0]=ec(N,H),G[te+1]=vl(N,_,H),G[te+2]=kA(N,_)}function _s(N,_,H,G,te){G[te+0]=kA(N,_),G[te+1]=vl(N,_,H),G[te+2]=ec(N,H)}function Pu(N,_,H,G,te){var ie=vl(N,_,H);_=ie<<3&224|kA(N,_)>>3,G[te+0]=248&ec(N,H)|ie>>5,G[te+1]=_}function Iu(N,_,H,G,te){var ie=240&kA(N,_)|15;G[te+0]=240&ec(N,H)|vl(N,_,H)>>4,G[te+1]=ie}function Wd(N,_,H,G,te){G[te+0]=255,Gc(N,_,H,G,te+1)}function tc(N,_,H,G,te){_s(N,_,H,G,te),G[te+3]=255}function ji(N,_,H,G,te){Gc(N,_,H,G,te),G[te+3]=255}function Wc(N,_,H){k[N]=function(G,te,ie,le,Ae,fe,ye,_e,Ke){for(var ge=_e+(-2&Ke)*H;_e!=ge;)_(G[te+0],ie[le+0],Ae[fe+0],ye,_e),_(G[te+1],ie[le+0],Ae[fe+0],ye,_e+H),te+=2,++le,++fe,_e+=2*H;1&Ke&&_(G[te+0],ie[le+0],Ae[fe+0],ye,_e)}}function Yd(N,_,H){return H==0?N==0?_==0?6:5:_==0?4:0:H}function Ef(N,_,H,G,te){switch(N>>>30){case 3:tu(_,H,G,te,0);break;case 2:ai(_,H,G,te);break;case 1:mn(_,H,G,te)}}function go(N,_){var H,G,te=_.M,ie=_.Nb,le=N.oc,Ae=N.pc+40,fe=N.oc,ye=N.pc+584,_e=N.oc,Ke=N.pc+600;for(H=0;16>H;++H)le[Ae+32*H-1]=129;for(H=0;8>H;++H)fe[ye+32*H-1]=129,_e[Ke+32*H-1]=129;for(0<te?le[Ae-1-32]=fe[ye-1-32]=_e[Ke-1-32]=129:(a(le,Ae-32-1,127,21),a(fe,ye-32-1,127,9),a(_e,Ke-32-1,127,9)),G=0;G<N.za;++G){var ge=_.ya[_.aa+G];if(0<G){for(H=-1;16>H;++H)n(le,Ae+32*H-4,le,Ae+32*H+12,4);for(H=-1;8>H;++H)n(fe,ye+32*H-4,fe,ye+32*H+4,4),n(_e,Ke+32*H-4,_e,Ke+32*H+4,4)}var Fe=N.Gd,Re=N.Hd+G,it=ge.ad,Qe=ge.Hc;if(0<te&&(n(le,Ae-32,Fe[Re].y,0,16),n(fe,ye-32,Fe[Re].f,0,8),n(_e,Ke-32,Fe[Re].ea,0,8)),ge.Za){var nt=le,At=Ae-32+16;for(0<te&&(G>=N.za-1?a(nt,At,Fe[Re].y[15],4):n(nt,At,Fe[Re+1].y,0,4)),H=0;4>H;H++)nt[At+128+H]=nt[At+256+H]=nt[At+384+H]=nt[At+0+H];for(H=0;16>H;++H,Qe<<=2)nt=le,At=Ae+Ua[H],Na[ge.Ob[H]](nt,At),Ef(Qe,it,16*+H,nt,At)}else if(nt=Yd(G,te,ge.Ob[0]),Ti[nt](le,Ae),Qe!=0)for(H=0;16>H;++H,Qe<<=2)Ef(Qe,it,16*+H,le,Ae+Ua[H]);for(H=ge.Gc,nt=Yd(G,te,ge.Dd),Nl[nt](fe,ye),Nl[nt](_e,Ke),Qe=it,nt=fe,At=ye,255&(ge=0|H)&&(170&ge?Po(Qe,256,nt,At):sn(Qe,256,nt,At)),ge=_e,Qe=Ke,255&(H>>=8)&&(170&H?Po(it,320,ge,Qe):sn(it,320,ge,Qe)),te<N.Ub-1&&(n(Fe[Re].y,0,le,Ae+480,16),n(Fe[Re].f,0,fe,ye+224,8),n(Fe[Re].ea,0,_e,Ke+224,8)),H=8*ie*N.B,Fe=N.sa,Re=N.ta+16*G+16*ie*N.R,it=N.qa,ge=N.ra+8*G+H,Qe=N.Ha,nt=N.Ia+8*G+H,H=0;16>H;++H)n(Fe,Re+H*N.R,le,Ae+32*H,16);for(H=0;8>H;++H)n(it,ge+H*N.B,fe,ye+32*H,8),n(Qe,nt+H*N.B,_e,Ke+32*H,8)}}function bl(N,_,H,G,te,ie,le,Ae,fe){var ye=[0],_e=[0],Ke=0,ge=fe!=null?fe.kd:0,Fe=fe??new gt;if(N==null||12>H)return 7;Fe.data=N,Fe.w=_,Fe.ha=H,_=[_],H=[H],Fe.gb=[Fe.gb];e:{var Re=_,it=H,Qe=Fe.gb;if(e(N!=null),e(it!=null),e(Qe!=null),Qe[0]=0,12<=it[0]&&!t(N,Re[0],"RIFF")){if(t(N,Re[0]+8,"WEBP")){Qe=3;break e}var nt=Pe(N,Re[0]+4);if(12>nt||4294967286<nt){Qe=3;break e}if(ge&&nt>it[0]-8){Qe=7;break e}Qe[0]=nt,Re[0]+=12,it[0]-=12}Qe=0}if(Qe!=0)return Qe;for(nt=0<Fe.gb[0],H=H[0];;){e:{var At=N;it=_,Qe=H;var vt=ye,pt=_e,Zt=Re=[0];if((Vt=Ke=[Ke])[0]=0,8>Qe[0])Qe=7;else{if(!t(At,it[0],"VP8X")){if(Pe(At,it[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Ht=Pe(At,it[0]+8),kr=1+qe(At,it[0]+12);if(2147483648<=kr*(At=1+qe(At,it[0]+15))){Qe=3;break e}Zt!=null&&(Zt[0]=Ht),vt!=null&&(vt[0]=kr),pt!=null&&(pt[0]=At),it[0]+=18,Qe[0]-=18,Vt[0]=1}Qe=0}}if(Ke=Ke[0],Re=Re[0],Qe!=0)return Qe;if(it=!!(2&Re),!nt&&Ke)return 3;if(ie!=null&&(ie[0]=!!(16&Re)),le!=null&&(le[0]=it),Ae!=null&&(Ae[0]=0),le=ye[0],Re=_e[0],Ke&&it&&fe==null){Qe=0;break}if(4>H){Qe=7;break}if(nt&&Ke||!nt&&!Ke&&!t(N,_[0],"ALPH")){H=[H],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Ht=N,Qe=_,nt=H;var Vt=Fe.gb;vt=Fe.na,pt=Fe.P,Zt=Fe.Sa,kr=22,e(Ht!=null),e(nt!=null),At=Qe[0];var Yr=nt[0];for(e(vt!=null),e(Zt!=null),vt[0]=null,pt[0]=null,Zt[0]=0;;){if(Qe[0]=At,nt[0]=Yr,8>Yr){Qe=7;break e}var na=Pe(Ht,At+4);if(4294967286<na){Qe=3;break e}var Dr=8+na+1&-2;if(kr+=Dr,0<Vt&&kr>Vt){Qe=3;break e}if(!t(Ht,At,"VP8 ")||!t(Ht,At,"VP8L")){Qe=0;break e}if(Yr[0]<Dr){Qe=7;break e}t(Ht,At,"ALPH")||(vt[0]=Ht,pt[0]=At+8,Zt[0]=na),At+=Dr,Yr-=Dr}}if(H=H[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Qe!=0)break}H=[H],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Vt=N,Qe=_,nt=H,vt=Fe.gb[0],pt=Fe.Ja,Zt=Fe.xa,Ht=Qe[0],At=!t(Vt,Ht,"VP8 "),kr=!t(Vt,Ht,"VP8L"),e(Vt!=null),e(nt!=null),e(pt!=null),e(Zt!=null),8>nt[0])Qe=7;else{if(At||kr){if(Vt=Pe(Vt,Ht+4),12<=vt&&Vt>vt-12){Qe=3;break e}if(ge&&Vt>nt[0]-8){Qe=7;break e}pt[0]=Vt,Qe[0]+=8,nt[0]-=8,Zt[0]=kr}else Zt[0]=5<=nt[0]&&Vt[Ht+0]==47&&!(Vt[Ht+4]>>5),pt[0]=nt[0];Qe=0}if(H=H[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],_=_[0],Qe!=0)break;if(4294967286<Fe.Ja)return 3;if(Ae==null||it||(Ae[0]=Fe.xa?2:1),le=[le],Re=[Re],Fe.xa){if(5>H){Qe=7;break}Ae=le,ge=Re,it=ie,N==null||5>H?N=0:5<=H&&N[_+0]==47&&!(N[_+4]>>5)?(nt=[0],Vt=[0],vt=[0],pe(pt=new Q,N,_,H),Ya(pt,nt,Vt,vt)?(Ae!=null&&(Ae[0]=nt[0]),ge!=null&&(ge[0]=Vt[0]),it!=null&&(it[0]=vt[0]),N=1):N=0):N=0}else{if(10>H){Qe=7;break}Ae=Re,N==null||10>H||!pf(N,_+3,H-3)?N=0:(ge=N[_+0]|N[_+1]<<8|N[_+2]<<16,it=16383&(N[_+7]<<8|N[_+6]),N=16383&(N[_+9]<<8|N[_+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=Fe.Ja||!it||!N?N=0:(le&&(le[0]=it),Ae&&(Ae[0]=N),N=1))}if(!N||(le=le[0],Re=Re[0],Ke&&(ye[0]!=le||_e[0]!=Re)))return 3;fe!=null&&(fe[0]=Fe,fe.offset=_-fe.w,e(4294967286>_-fe.w),e(fe.offset==fe.ha-H));break}return Qe==0||Qe==7&&Ke&&fe==null?(ie!=null&&(ie[0]|=Fe.na!=null&&0<Fe.na.length),G!=null&&(G[0]=le),te!=null&&(te[0]=Re),0):Qe}function Yc(N,_,H){var G=_.width,te=_.height,ie=0,le=0,Ae=G,fe=te;if(_.Da=N!=null&&0<N.Da,_.Da&&(Ae=N.cd,fe=N.bd,ie=N.v,le=N.j,11>H||(ie&=-2,le&=-2),0>ie||0>le||0>=Ae||0>=fe||ie+Ae>G||le+fe>te))return 0;if(_.v=ie,_.j=le,_.va=ie+Ae,_.o=le+fe,_.U=Ae,_.T=fe,_.da=N!=null&&0<N.da,_.da){if(!bt(Ae,fe,H=[N.ib],ie=[N.hb]))return 0;_.ib=H[0],_.hb=ie[0]}return _.ob=N!=null&&N.ob,_.Kb=N==null||!N.Sd,_.da&&(_.ob=_.ib<3*G/4&&_.hb<3*te/4,_.Kb=0),1}function jf(N){if(N==null)return 2;if(11>N.S){var _=N.f.RGBA;_.fb+=(N.height-1)*_.A,_.A=-_.A}else _=N.f.kb,N=N.height,_.O+=(N-1)*_.fa,_.fa=-_.fa,_.N+=(N-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(N-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(N-1)*_.lb,_.lb=-_.lb);return 0}function wl(N,_,H,G){if(G==null||0>=N||0>=_)return 2;if(H!=null){if(H.Da){var te=H.cd,ie=H.bd,le=-2&H.v,Ae=-2&H.j;if(0>le||0>Ae||0>=te||0>=ie||le+te>N||Ae+ie>_)return 2;N=te,_=ie}if(H.da){if(!bt(N,_,te=[H.ib],ie=[H.hb]))return 2;N=te[0],_=ie[0]}}G.width=N,G.height=_;e:{var fe=G.width,ye=G.height;if(N=G.S,0>=fe||0>=ye||!(N>=pm&&13>N))N=2;else{if(0>=G.Rd&&G.sd==null){le=ie=te=_=0;var _e=(Ae=fe*Sm[N])*ye;if(11>N||(ie=(ye+1)/2*(_=(fe+1)/2),N==12&&(le=(te=fe)*ye)),(ye=s(_e+2*ie+le))==null){N=1;break e}G.sd=ye,11>N?((fe=G.f.RGBA).eb=ye,fe.fb=0,fe.A=Ae,fe.size=_e):((fe=G.f.kb).y=ye,fe.O=0,fe.fa=Ae,fe.Fd=_e,fe.f=ye,fe.N=0+_e,fe.Ab=_,fe.Cd=ie,fe.ea=ye,fe.W=0+_e+ie,fe.Db=_,fe.Ed=ie,N==12&&(fe.F=ye,fe.J=0+_e+2*ie),fe.Tc=le,fe.lb=te)}if(_=1,te=G.S,ie=G.width,le=G.height,te>=pm&&13>te)if(11>te)N=G.f.RGBA,_&=(Ae=Math.abs(N.A))*(le-1)+ie<=N.size,_&=Ae>=ie*Sm[te],_&=N.eb!=null;else{N=G.f.kb,Ae=(ie+1)/2,_e=(le+1)/2,fe=Math.abs(N.fa),ye=Math.abs(N.Ab);var Ke=Math.abs(N.Db),ge=Math.abs(N.lb),Fe=ge*(le-1)+ie;_&=fe*(le-1)+ie<=N.Fd,_&=ye*(_e-1)+Ae<=N.Cd,_=(_&=Ke*(_e-1)+Ae<=N.Ed)&fe>=ie&ye>=Ae&Ke>=Ae,_&=N.y!=null,_&=N.f!=null,_&=N.ea!=null,te==12&&(_&=ge>=ie,_&=Fe<=N.Tc,_&=N.F!=null)}else _=0;N=_?0:2}}return N!=0||H!=null&&H.fd&&(N=jf(G)),N}var Lu=64,Yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_i=24,rc=32,nc=8,Xc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ht("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(N){return N},k.Predictor2=function(N,_,H){return _[H+0]},k.Predictor3=function(N,_,H){return _[H+1]},k.Predictor4=function(N,_,H){return _[H-1]},k.Predictor5=function(N,_,H){return Bt(Bt(N,_[H+1]),_[H+0])},k.Predictor6=function(N,_,H){return Bt(N,_[H-1])},k.Predictor7=function(N,_,H){return Bt(N,_[H+0])},k.Predictor8=function(N,_,H){return Bt(_[H-1],_[H+0])},k.Predictor9=function(N,_,H){return Bt(_[H+0],_[H+1])},k.Predictor10=function(N,_,H){return Bt(Bt(N,_[H-1]),Bt(_[H+0],_[H+1]))},k.Predictor11=function(N,_,H){var G=_[H+0];return 0>=ur(G>>24&255,N>>24&255,(_=_[H-1])>>24&255)+ur(G>>16&255,N>>16&255,_>>16&255)+ur(G>>8&255,N>>8&255,_>>8&255)+ur(255&G,255&N,255&_)?G:N},k.Predictor12=function(N,_,H){var G=_[H+0];return(Ut((N>>24&255)+(G>>24&255)-((_=_[H-1])>>24&255))<<24|Ut((N>>16&255)+(G>>16&255)-(_>>16&255))<<16|Ut((N>>8&255)+(G>>8&255)-(_>>8&255))<<8|Ut((255&N)+(255&G)-(255&_)))>>>0},k.Predictor13=function(N,_,H){var G=_[H-1];return(dr((N=Bt(N,_[H+0]))>>24&255,G>>24&255)<<24|dr(N>>16&255,G>>16&255)<<16|dr(N>>8&255,G>>8&255)<<8|dr(255&N,255&G))>>>0};var Xd=k.PredictorAdd0;k.PredictorAdd1=hr,ht("Predictor2","PredictorAdd2"),ht("Predictor3","PredictorAdd3"),ht("Predictor4","PredictorAdd4"),ht("Predictor5","PredictorAdd5"),ht("Predictor6","PredictorAdd6"),ht("Predictor7","PredictorAdd7"),ht("Predictor8","PredictorAdd8"),ht("Predictor9","PredictorAdd9"),ht("Predictor10","PredictorAdd10"),ht("Predictor11","PredictorAdd11"),ht("Predictor12","PredictorAdd12"),ht("Predictor13","PredictorAdd13");var Jd=k.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Ma,hm=k.ColorIndexInverseTransform,ac=k.MapARGB,sc=k.VP8LColorIndexInverseTransformAlpha,Hs=k.MapAlpha,Jc=k.VP8LPredictorsAdd=[];Jc.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Zd,eh,Zc,eu,ic,FA,xo,tu,ai,Po,mn,sn,Vn,Ra,oc,Cl,OA,_f,Og,Hv,zv,Kv,Dg,Pg,DA,Io,Tf,yo,PA=s(511),fm=s(2041),kf=s(225),Ff=s(767),mm=0,ru=fm,Of=kf,si=Ff,zs=PA,pm=0,ii=1,gm=2,Lo=3,Df=4,th=5,Mu=6,Pf=7,xm=8,rh=9,ym=10,Mo=[2,3,7],nh=[3,3,11],IA=[280,256,256,256,40],vm=[0,1,1,1,0],If=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ro=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ru=8,Qo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ho=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vo=null,$v=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ig=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ks=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ra=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],Na=[],Nl=[],Uu=1,Lg=2,nu=[],$s=[];qc("UpsampleRgbLinePair",Gc,3),qc("UpsampleBgrLinePair",_s,3),qc("UpsampleRgbaLinePair",ji,4),qc("UpsampleBgraLinePair",tc,4),qc("UpsampleArgbLinePair",Wd,4),qc("UpsampleRgba4444LinePair",Iu,2),qc("UpsampleRgb565LinePair",Pu,2);var LA=k.UpsampleRgbLinePair,Mg=k.UpsampleBgrLinePair,ah=k.UpsampleRgbaLinePair,wm=k.UpsampleBgraLinePair,Qu=k.UpsampleArgbLinePair,lc=k.UpsampleRgba4444LinePair,Hu=k.UpsampleRgb565LinePair,zo=16,sh=1<<zo-1,MA=-227,zu=482,Cm=6,Ku=0,Vs=s(256),Nm=s(256),qv=s(256),_5=s(256),T5=s(zu-MA),k5=s(zu-MA);Wc("YuvToRgbRow",Gc,3),Wc("YuvToBgrRow",_s,3),Wc("YuvToRgbaRow",ji,4),Wc("YuvToBgraRow",tc,4),Wc("YuvToArgbRow",Wd,4),Wc("YuvToRgba4444Row",Iu,2),Wc("YuvToRgb565Row",Pu,2);var Ua=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ih=[0,2,8],Lf=[8,7,6,4,4,2,2,2,1,1,1,1],Mf=1;this.WebPDecodeRGBA=function(N,_,H,G,te){var ie=ii,le=new ut,Ae=new ct;le.ba=Ae,Ae.S=ie,Ae.width=[Ae.width],Ae.height=[Ae.height];var fe=Ae.width,ye=Ae.height,_e=new Ot;if(_e==null||N==null)var Ke=2;else e(_e!=null),Ke=bl(N,_,H,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ke!=0?fe=0:(fe!=null&&(fe[0]=_e.width[0]),ye!=null&&(ye[0]=_e.height[0]),fe=1),fe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],G!=null&&(G[0]=Ae.width),te!=null&&(te[0]=Ae.height);e:{if(G=new Mc,(te=new gt).data=N,te.w=_,te.ha=H,te.kd=1,_=[0],e(te!=null),((N=bl(te.data,te.w,te.ha,null,null,null,_,null,te))==0||N==7)&&_[0]&&(N=4),(_=N)==0){if(e(le!=null),G.data=te.data,G.w=te.w+te.offset,G.ha=te.ha-te.offset,G.put=sr,G.ac=ca,G.bc=wa,G.ma=le,te.xa){if((N=He())==null){le=1;break e}if((function(ge,Fe){var Re=[0],it=[0],Qe=[0];t:for(;;){if(ge==null)return 0;if(Fe==null)return ge.a=2,0;if(ge.l=Fe,ge.a=0,pe(ge.m,Fe.data,Fe.w,Fe.ha),!Ya(ge.m,Re,it,Qe)){ge.a=3;break t}if(ge.xb=Lg,Fe.width=Re[0],Fe.height=it[0],!ze(Re[0],it[0],1,ge,null))break t;return 1}return e(ge.a!=0),0})(N,G)){if(G=(_=wl(G.width,G.height,le.Oa,le.ba))==0){t:{G=N;r:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((H=G.l)!=null),e((te=H.ma)!=null),G.xb!=0){if(G.ca=te.ba,G.tb=te.tb,e(G.ca!=null),!Yc(te.Oa,H,Lo)){G.a=2;break r}if(!$e(G,H.width)||H.da)break r;if((H.da||mr(G.ca.S))&&yl(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&yl()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!X(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Ue(G,G.V,G.Ba,G.c,G.i,H.o,de))break r;te.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(_=N.a)}else _=N.a}else{if((N=new pl)==null){le=1;break e}if(N.Fa=te.na,N.P=te.P,N.qc=te.Sa,Xl(N,G)){if((_=wl(G.width,G.height,le.Oa,le.ba))==0){if(N.Aa=0,H=le.Oa,e((te=N)!=null),H!=null){if(0<(fe=0>(fe=H.Md)?0:100<fe?255:255*fe/100)){for(ye=_e=0;4>ye;++ye)12>(Ke=te.pb[ye]).lc&&(Ke.ia=fe*Lf[0>Ke.lc?0:Ke.lc]>>3),_e|=Ke.ia;_e&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=H.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(ge,Fe){if(ge==null)return 0;if(Fe==null)return fn(ge,2,"NULL VP8Io parameter in VP8Decode().");if(!ge.cb&&!Xl(ge,Fe))return 0;if(e(ge.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(ge.L=0);var Re=ih[ge.L];if(ge.L==2?(ge.yb=0,ge.zb=0):(ge.yb=Fe.v-Re>>4,ge.zb=Fe.j-Re>>4,0>ge.yb&&(ge.yb=0),0>ge.zb&&(ge.zb=0)),ge.Va=Fe.o+15+Re>>4,ge.Hb=Fe.va+15+Re>>4,ge.Hb>ge.za&&(ge.Hb=ge.za),ge.Va>ge.Ub&&(ge.Va=ge.Ub),0<ge.L){var it=ge.ed;for(Re=0;4>Re;++Re){var Qe;if(ge.Qa.Cb){var nt=ge.Qa.Lb[Re];ge.Qa.Fb||(nt+=it.Tb)}else nt=it.Tb;for(Qe=0;1>=Qe;++Qe){var At=ge.gd[Re][Qe],vt=nt;if(it.Pc&&(vt+=it.vd[0],Qe&&(vt+=it.od[0])),0<(vt=0>vt?0:63<vt?63:vt)){var pt=vt;0<it.wb&&(pt=4<it.wb?pt>>2:pt>>1)>9-it.wb&&(pt=9-it.wb),1>pt&&(pt=1),At.dd=pt,At.tc=2*vt+pt,At.ld=40<=vt?2:15<=vt?1:0}else At.tc=0;At.La=Qe}}}Re=0}else fn(ge,6,"Frame setup failed"),Re=ge.a;if(Re=Re==0){if(Re){ge.$c=0,0<ge.Aa||(ge.Ic=Mf);t:{Re=ge.Ic,it=4*(pt=ge.za);var Zt=32*pt,Ht=pt+1,kr=0<ge.L?pt*(0<ge.Aa?2:1):0,Vt=(ge.Aa==2?2:1)*pt;if((At=it+832+(Qe=3*(16*Re+ih[ge.L])/2*Zt)+(nt=ge.Fa!=null&&0<ge.Fa.length?ge.Kc.c*ge.Kc.i:0))!=At)Re=0;else{if(At>ge.Vb){if(ge.Vb=0,ge.Ec=s(At),ge.Fc=0,ge.Ec==null){Re=fn(ge,1,"no memory during frame initialization.");break t}ge.Vb=At}At=ge.Ec,vt=ge.Fc,ge.Ac=At,ge.Bc=vt,vt+=it,ge.Gd=i(Zt,fo),ge.Hd=0,ge.rb=i(Ht+1,kn),ge.sb=1,ge.wa=kr?i(kr,Vr):null,ge.Y=0,ge.D.Nb=0,ge.D.wa=ge.wa,ge.D.Y=ge.Y,0<ge.Aa&&(ge.D.Y+=pt),e(!0),ge.oc=At,ge.pc=vt,vt+=832,ge.ya=i(Vt,fl),ge.aa=0,ge.D.ya=ge.ya,ge.D.aa=ge.aa,ge.Aa==2&&(ge.D.aa+=pt),ge.R=16*pt,ge.B=8*pt,pt=(Zt=ih[ge.L])*ge.R,Zt=Zt/2*ge.B,ge.sa=At,ge.ta=vt+pt,ge.qa=ge.sa,ge.ra=ge.ta+16*Re*ge.R+Zt,ge.Ha=ge.qa,ge.Ia=ge.ra+8*Re*ge.B+Zt,ge.$c=0,vt+=Qe,ge.mb=nt?At:null,ge.nb=nt?vt:null,e(vt+nt<=ge.Fc+ge.Vb),gf(ge),a(ge.Ac,ge.Bc,0,it),Re=1}}if(Re){if(Fe.ka=0,Fe.y=ge.sa,Fe.O=ge.ta,Fe.f=ge.qa,Fe.N=ge.ra,Fe.ea=ge.Ha,Fe.Vd=ge.Ia,Fe.fa=ge.R,Fe.Rc=ge.B,Fe.F=null,Fe.J=0,!mm){for(Re=-255;255>=Re;++Re)PA[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)fm[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)kf[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)Ff[255+Re]=0>Re?0:255<Re?255:Re;mm=1}xo=gl,tu=xf,Po=Ei,mn=yf,sn=vf,ai=am,Vn=Am,Ra=$c,oc=Z,Cl=be,OA=dm,_f=R,Og=je,Hv=Ie,zv=Qc,Kv=Hc,Dg=TA,Pg=Sf,Na[0]=cm,Na[1]=sm,Na[2]=lm,Na[3]=Cf,Na[4]=mo,Na[5]=Nf,Na[6]=Us,Na[7]=EA,Na[8]=jA,Na[9]=po,Ti[0]=xl,Ti[1]=bf,Ti[2]=wf,Ti[3]=om,Ti[4]=Rc,Ti[5]=BA,Ti[6]=Du,Nl[0]=$d,Nl[1]=im,Nl[2]=Jl,Nl[3]=um,Nl[4]=js,Nl[5]=Vd,Nl[6]=Zl,Re=1}else Re=0}Re&&(Re=(function(Yr,na){for(Yr.M=0;Yr.M<Yr.Va;++Yr.M){var Dr,zt=Yr.Jc[Yr.M&Yr.Xb],Tt=Yr.m,ma=Yr;for(Dr=0;Dr<ma.za;++Dr){var Sr=Tt,Rr=ma,Sn=Rr.Ac,ds=Rr.Bc+4*Dr,qs=Rr.zc,qn=Rr.ya[Rr.aa+Dr];if(Rr.Qa.Bb?qn.$b=xe(Sr,Rr.Pa.jb[0])?2+xe(Sr,Rr.Pa.jb[2]):xe(Sr,Rr.Pa.jb[1]):qn.$b=0,Rr.kc&&(qn.Ad=xe(Sr,Rr.Bd)),qn.Za=!xe(Sr,145)+0,qn.Za){var Za=qn.Ob,oi=0;for(Rr=0;4>Rr;++Rr){var es,Kr=qs[0+Rr];for(es=0;4>es;++es){Kr=Ks[Sn[ds+es]][Kr];for(var cn=bm[xe(Sr,Kr[0])];0<cn;)cn=bm[2*cn+xe(Sr,Kr[cn])];Kr=-cn,Sn[ds+es]=Kr}n(Za,oi,Sn,ds,4),oi+=4,qs[0+Rr]=Kr}}else Kr=xe(Sr,156)?xe(Sr,128)?1:3:xe(Sr,163)?2:0,qn.Ob[0]=Kr,a(Sn,ds,Kr,4),a(qs,0,Kr,4);qn.Dd=xe(Sr,142)?xe(Sr,114)?xe(Sr,183)?1:3:2:0}if(ma.m.Ka)return fn(Yr,7,"Premature end-of-partition0 encountered.");for(;Yr.ja<Yr.za;++Yr.ja){if(ma=zt,Sr=(Tt=Yr).rb[Tt.sb-1],Sn=Tt.rb[Tt.sb+Tt.ja],Dr=Tt.ya[Tt.aa+Tt.ja],ds=Tt.kc?Dr.Ad:0)Sr.la=Sn.la=0,Dr.Za||(Sr.Na=Sn.Na=0),Dr.Hc=0,Dr.Gc=0,Dr.ia=0;else{var pa,pn;if(Sr=Sn,Sn=ma,ds=Tt.Pa.Xc,qs=Tt.ya[Tt.aa+Tt.ja],qn=Tt.pb[qs.$b],Rr=qs.ad,Za=0,oi=Tt.rb[Tt.sb-1],Kr=es=0,a(Rr,Za,0,384),qs.Za)var hs=0,ga=ds[3];else{cn=s(16);var un=Sr.Na+oi.Na;if(un=vo(Sn,ds[1],un,qn.Eb,0,cn,0),Sr.Na=oi.Na=(0<un)+0,1<un)xo(cn,0,Rr,Za);else{var Qa=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Rr[Za+cn]=Qa}hs=1,ga=ds[0]}var Bn=15&Sr.la,ts=15&oi.la;for(cn=0;4>cn;++cn){var rs=1&ts;for(Qa=pn=0;4>Qa;++Qa)Bn=Bn>>1|(rs=(un=vo(Sn,ga,un=rs+(1&Bn),qn.Sc,hs,Rr,Za))>hs)<<7,pn=pn<<2|(3<un?3:1<un?2:Rr[Za+0]!=0),Za+=16;Bn>>=4,ts=ts>>1|rs<<7,es=(es<<8|pn)>>>0}for(ga=Bn,hs=ts>>4,pa=0;4>pa;pa+=2){for(pn=0,Bn=Sr.la>>4+pa,ts=oi.la>>4+pa,cn=0;2>cn;++cn){for(rs=1&ts,Qa=0;2>Qa;++Qa)un=rs+(1&Bn),Bn=Bn>>1|(rs=0<(un=vo(Sn,ds[2],un,qn.Qc,0,Rr,Za)))<<3,pn=pn<<2|(3<un?3:1<un?2:Rr[Za+0]!=0),Za+=16;Bn>>=2,ts=ts>>1|rs<<5}Kr|=pn<<4*pa,ga|=Bn<<4<<pa,hs|=(240&ts)<<pa}Sr.la=ga,oi.la=hs,qs.Hc=es,qs.Gc=Kr,qs.ia=43690&Kr?0:qn.ia,ds=!(es|Kr)}if(0<Tt.L&&(Tt.wa[Tt.Y+Tt.ja]=Tt.gd[Dr.$b][Dr.Za],Tt.wa[Tt.Y+Tt.ja].La|=!ds),ma.Ka)return fn(Yr,7,"Premature end-of-file encountered.")}if(gf(Yr),Tt=na,ma=1,Dr=(zt=Yr).D,Sr=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(Dr.M=zt.M,Dr.uc=Sr,go(zt,Dr),ma=1,Dr=(pn=zt.D).Nb,Sr=(Kr=ih[zt.L])*zt.R,Sn=Kr/2*zt.B,cn=16*Dr*zt.R,Qa=8*Dr*zt.B,ds=zt.sa,qs=zt.ta-Sr+cn,qn=zt.qa,Rr=zt.ra-Sn+Qa,Za=zt.Ha,oi=zt.Ia-Sn+Qa,ts=(Bn=pn.M)==0,es=Bn>=zt.Va-1,zt.Aa==2&&go(zt,pn),pn.uc)for(rs=(un=zt).D.M,e(un.D.uc),pn=un.yb;pn<un.Hb;++pn){hs=pn,ga=rs;var Dn=(on=(ns=un).D).Nb;pa=ns.R;var on=on.wa[on.Y+hs],li=ns.sa,Sa=ns.ta+16*Dn*pa+16*hs,gr=on.dd,vr=on.tc;if(vr!=0)if(e(3<=vr),ns.L==1)0<hs&&Kv(li,Sa,pa,vr+4),on.La&&Pg(li,Sa,pa,vr),0<ga&&zv(li,Sa,pa,vr+4),on.La&&Dg(li,Sa,pa,vr);else{var An=ns.B,Xi=ns.qa,Ko=ns.ra+8*Dn*An+8*hs,ki=ns.Ha,ns=ns.Ia+8*Dn*An+8*hs;Dn=on.ld,0<hs&&(Ra(li,Sa,pa,vr+4,gr,Dn),Cl(Xi,Ko,ki,ns,An,vr+4,gr,Dn)),on.La&&(_f(li,Sa,pa,vr,gr,Dn),Hv(Xi,Ko,ki,ns,An,vr,gr,Dn)),0<ga&&(Vn(li,Sa,pa,vr+4,gr,Dn),oc(Xi,Ko,ki,ns,An,vr+4,gr,Dn)),on.La&&(OA(li,Sa,pa,vr,gr,Dn),Og(Xi,Ko,ki,ns,An,vr,gr,Dn))}}if(zt.ia&&alert("todo:DitherRow"),Tt.put!=null){if(pn=16*Bn,Bn=16*(Bn+1),ts?(Tt.y=zt.sa,Tt.O=zt.ta+cn,Tt.f=zt.qa,Tt.N=zt.ra+Qa,Tt.ea=zt.Ha,Tt.W=zt.Ia+Qa):(pn-=Kr,Tt.y=ds,Tt.O=qs,Tt.f=qn,Tt.N=Rr,Tt.ea=Za,Tt.W=oi),es||(Bn-=Kr),Bn>Tt.o&&(Bn=Tt.o),Tt.F=null,Tt.J=null,zt.Fa!=null&&0<zt.Fa.length&&pn<Bn&&(Tt.J=$n(zt,Tt,pn,Bn-pn),Tt.F=zt.mb,Tt.F==null&&Tt.F.length==0)){ma=fn(zt,3,"Could not decode alpha data.");break t}pn<Tt.j&&(Kr=Tt.j-pn,pn=Tt.j,e(!(1&Kr)),Tt.O+=zt.R*Kr,Tt.N+=zt.B*(Kr>>1),Tt.W+=zt.B*(Kr>>1),Tt.F!=null&&(Tt.J+=Tt.width*Kr)),pn<Bn&&(Tt.O+=Tt.v,Tt.N+=Tt.v>>1,Tt.W+=Tt.v>>1,Tt.F!=null&&(Tt.J+=Tt.v),Tt.ka=pn-Tt.j,Tt.U=Tt.va-Tt.v,Tt.T=Bn-pn,ma=Tt.put(Tt))}Dr+1!=zt.Ic||es||(n(zt.sa,zt.ta-Sr,ds,qs+16*zt.R,Sr),n(zt.qa,zt.ra-Sn,qn,Rr+8*zt.B,Sn),n(zt.Ha,zt.Ia-Sn,Za,oi+8*zt.B,Sn))}if(!ma)return fn(Yr,6,"Output aborted.")}return 1})(ge,Fe)),Fe.bc!=null&&Fe.bc(Fe),Re&=1}return Re?(ge.cb=0,Re):0})(N,G)||(_=N.a)}}else _=N.a}_==0&&le.Oa!=null&&le.Oa.fd&&(_=jf(le.ba))}le=_}ie=le!=0?null:11>ie?Ae.f.RGBA.eb:Ae.f.kb.y}else ie=null;return ie};var Sm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,z){for(var P="",U=0;U<4;U++)P+=String.fromCharCode(k[z++]);return P}function d(k,z){return k[z+0]|k[z+1]<<8}function f(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16)>>>0}function p(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16|k[z+3]<<24)>>>0}new c;var m=[0],y=[0],g=[],v=new c,w=r,S=(function(k,z){var P={},U=0,M=!1,q=0,ae=0;if(P.frames=[],!(function(F,Q){for(var K=0;K<4;K++)if(F[Q+K]!="RIFF".charCodeAt(K))return!0;return!1})(k,z)){for(p(k,z+=4),z+=8;z<k.length;){var W=u(k,z),ee=p(k,z+=4);z+=4;var re=ee+(1&ee);switch(W){case"VP8 ":case"VP8L":P.frames[U]===void 0&&(P.frames[U]={}),(ne=P.frames[U]).src_off=M?ae:z-8,ne.src_size=q+ee+8,U++,M&&(M=!1,q=0,ae=0);break;case"VP8X":(ne=P.header={}).feature_flags=k[z];var pe=z+4;ne.canvas_width=1+f(k,pe),pe+=3,ne.canvas_height=1+f(k,pe),pe+=3;break;case"ALPH":M=!0,q=re+8,ae=z-8;break;case"ANIM":(ne=P.header).bgcolor=p(k,z),pe=z+4,ne.loop_count=d(k,pe),pe+=2;break;case"ANMF":var Se,ne;(ne=P.frames[U]={}).offset_x=2*f(k,z),z+=3,ne.offset_y=2*f(k,z),z+=3,ne.width=1+f(k,z),z+=3,ne.height=1+f(k,z),z+=3,ne.duration=f(k,z),z+=3,Se=k[z++],ne.dispose=1&Se,ne.blend=Se>>1&1}W!="ANMF"&&(z+=re)}return P}})(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var C=S.header?S.header:null,j=S.frames?S.frames:null;if(C){C.loop_counter=C.loop_count,m=[C.canvas_height],y=[C.canvas_width];for(var T=0;T<j.length&&j[T].blend!=0;T++);}var L=j[0],I=v.WebPDecodeRGBA(w,L.src_off,L.src_size,y,m);L.rgba=I,L.imgwidth=y[0],L.imgheight=m[0];for(var D=0;D<y[0]*m[0]*4;D++)g[D]=I[D];return this.width=y,this.height=m,this.data=g,this}(function(r){var e,t,n,a,s,i,l,c,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new i,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new i,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=F;Object.defineProperty(this,"pdf",{get:function(){return Q}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(X){K=!!X}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(X){V=!!X}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(X){isNaN(X)||(J=X)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(X){isNaN(X)||(oe=X)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(X){var Me;typeof X=="number"?Me=[X,X,X,X]:((Me=new Array(4))[0]=X[0],Me[1]=X.length>=2?X[1]:Me[0],Me[2]=X.length>=3?X[2]:Me[0],Me[3]=X.length>=4?X[3]:Me[1]),u.margin=Me}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(X){Ne=X}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(X){ue=X}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(X){xe=X}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(X){X instanceof d&&(u=X)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(X){u.path=X}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(X){Oe=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var Me;Me=p(X),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var Me=p(X);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var Be=null,qe=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(X){Be=null,qe=null,Pe=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var Me;if(this.ctx.font=X,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var We=Me[1];Me[2];var bt=Me[3],st=Me[4];Me[5];var Ye=Me[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(ht==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var wt=(function(rt){var pr,Qt,Nt=[],Yt=rt.trim();if(Yt==="")return QE;if(Yt in l8)return[l8[Yt]];for(;Yt!=="";){switch(Qt=null,pr=(Yt=u8(Yt)).charAt(0)){case'"':case"'":Qt=D6e(Yt.substring(1),pr);break;default:Qt=P6e(Yt)}if(Qt===null||(Nt.push(Qt[0]),(Yt=u8(Qt[1]))!==""&&Yt.charAt(0)!==","))return QE;Yt=Yt.replace(/^,/,"")}return Nt})(Ye);if(this.fontFaces){var Bt=(function(rt,pr){var Qt=rt.getFontList(),Nt=JSON.stringify(Qt);if(Be===null||qe!==Nt){var Yt=(function(ir){var Pt=[];return Object.keys(ir).forEach(function(Wr){ir[Wr].forEach(function(mr){var or=null;switch(mr){case"bold":or={family:Wr,weight:"bold"};break;case"italic":or={family:Wr,style:"italic"};break;case"bolditalic":or={family:Wr,weight:"bold",style:"italic"};break;case"":case"normal":or={family:Wr}}or!==null&&(or.ref={name:Wr,style:mr},Pt.push(or))})}),Pt})(Qt);Be=(function(ir){for(var Pt={},Wr=0;Wr<ir.length;++Wr){var mr=UE(ir[Wr]),or=mr.family,dt=mr.stretch,ct=mr.style,Ot=mr.weight;Pt[or]=Pt[or]||{},Pt[or][dt]=Pt[or][dt]||{},Pt[or][dt][ct]=Pt[or][dt][ct]||{},Pt[or][dt][ct][Ot]=mr}return Pt})(Yt.concat(pr)),qe=Nt}return Be})(this.pdf,this.fontFaces),Ut=wt.map(function(rt){return{family:rt,stretch:"normal",weight:bt,style:We}}),dr=(function(rt,pr,Qt){for(var Nt=(Qt=Qt||{}).defaultFontFamily||"times",Yt=Object.assign({},O6e,Qt.genericFontFamilies||{}),ir=null,Pt=null,Wr=0;Wr<pr.length;++Wr)if(Yt[(ir=UE(pr[Wr])).family]&&(ir.family=Yt[ir.family]),rt.hasOwnProperty(ir.family)){Pt=rt[ir.family];break}if(!(Pt=Pt||rt[Nt]))throw new Error("Could not find a font-family for the rule '"+c8(ir)+"' and default family '"+Nt+"'.");if(Pt=(function(mr,or){if(or[mr])return or[mr];var dt=r_[mr],ct=dt<=r_.normal?-1:1,Ot=o8(or,sW,dt,ct);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+mr);return Ot})(ir.stretch,Pt),Pt=(function(mr,or){if(or[mr])return or[mr];for(var dt=aW[mr],ct=0;ct<dt.length;++ct)if(or[dt[ct]])return or[dt[ct]];throw new Error("Could not find a matching font-style for "+mr)})(ir.style,Pt),!(Pt=(function(mr,or){if(or[mr])return or[mr];if(mr===400&&or[500])return or[500];if(mr===500&&or[400])return or[400];var dt=F6e[mr],ct=o8(or,iW,dt,mr<400?-1:1);if(!ct)throw new Error("Could not find a matching font-weight for value "+mr);return ct})(ir.weight,Pt)))throw new Error("Failed to resolve a font for the rule '"+c8(ir)+"'.");return Pt})(Bt,Ut);this.pdf.setFont(dr.ref.name,dr.ref.style)}else{var ur="";(bt==="bold"||parseInt(bt,10)>=700||We==="bold")&&(ur="bold"),We==="italic"&&(ur+="italic"),ur.length===0&&(ur="normal");for(var hr="",ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ke=0;ke<wt.length;ke++){if(this.pdf.internal.getFont(wt[ke],ur,{noFallback:!0,disableWarning:!0})!==void 0){hr=wt[ke];break}if(ur==="bolditalic"&&this.pdf.internal.getFont(wt[ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)hr=wt[ke],ur="bold";else if(this.pdf.internal.getFont(wt[ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){hr=wt[ke],ur="normal";break}}if(hr===""){for(var De=0;De<wt.length;De++)if(ar[wt[De]]){hr=ar[wt[De]];break}}hr=hr===""?"Times":hr,this.pdf.setFont(hr,ur)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,Q){if(isNaN(F)||isNaN(Q))throw sa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new i(F,Q));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new i(F,Q)},f.prototype.closePath=function(){var F=new i(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Qn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){F=new i(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(F.x,F.y)},f.prototype.lineTo=function(F,Q){if(isNaN(F)||isNaN(Q))throw sa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new i(F,Q));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new i(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,Q,K,V){if(isNaN(K)||isNaN(V)||isNaN(F)||isNaN(Q))throw sa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new i(K,V)),oe=this.ctx.transform.applyToPoint(new i(F,Q));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:J.x,y:J.y}),this.ctx.lastPoint=new i(J.x,J.y)},f.prototype.bezierCurveTo=function(F,Q,K,V,J,oe){if(isNaN(J)||isNaN(oe)||isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V))throw sa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new i(J,oe)),ue=this.ctx.transform.applyToPoint(new i(F,Q)),xe=this.ctx.transform.applyToPoint(new i(K,V));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:xe.x,y2:xe.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new i(Ne.x,Ne.y)},f.prototype.arc=function(F,Q,K,V,J,oe){if(isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V)||isNaN(J))throw sa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new i(F,Q));F=Ne.x,Q=Ne.y;var ue=this.ctx.transform.applyToPoint(new i(0,K)),xe=this.ctx.transform.applyToPoint(new i(0,0));K=Math.sqrt(Math.pow(ue.x-xe.x,2)+Math.pow(ue.y-xe.y,2))}Math.abs(J-V)>=2*Math.PI&&(V=0,J=2*Math.PI),this.path.push({type:"arc",x:F,y:Q,radius:K,startAngle:V,endAngle:J,counterclockwise:oe})},f.prototype.arcTo=function(F,Q,K,V,J){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,Q,K,V){if(isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V))throw sa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Q),this.lineTo(F+K,Q),this.lineTo(F+K,Q+V),this.lineTo(F,Q+V),this.lineTo(F,Q),this.lineTo(F+K,Q),this.lineTo(F,Q)},f.prototype.fillRect=function(F,Q,K,V){if(isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V))throw sa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Q,K,V),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},f.prototype.strokeRect=function(F,Q,K,V){if(isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V))throw sa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(F,Q,K,V),this.stroke())},f.prototype.clearRect=function(F,Q,K,V){if(isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V))throw sa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Q,K,V))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var Q,K,V,J;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Q=0,K=0,V=0,J=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(oe!==null)Q=parseInt(oe[1]),K=parseInt(oe[2]),V=parseInt(oe[3]),J=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Q=parseInt(oe[1]),K=parseInt(oe[2]),V=parseInt(oe[3]),J=parseFloat(oe[4]);else{if(J=1,typeof F=="string"&&F.charAt(0)!=="#"){var Ne=new XG(F);F=Ne.ok?Ne.toHex():"#000000"}F.length===4?(Q=F.substring(1,2),Q+=Q,K=F.substring(2,3),K+=K,V=F.substring(3,4),V+=V):(Q=F.substring(1,3),K=F.substring(3,5),V=F.substring(5,7)),Q=parseInt(Q,16),K=parseInt(K,16),V=parseInt(V,16)}}return{r:Q,g:K,b:V,a:J,style:F}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,Q,K,V){if(isNaN(Q)||isNaN(K)||typeof F!="string")throw sa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!m.call(this)){var J=re(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;U.call(this,{text:F,x:Q,y:K,scale:oe,angle:J,align:this.textAlign,maxWidth:V})}},f.prototype.strokeText=function(F,Q,K,V){if(isNaN(Q)||isNaN(K)||typeof F!="string")throw sa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){V=isNaN(V)?void 0:V;var J=re(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;U.call(this,{text:F,x:Q,y:K,scale:oe,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:V})}},f.prototype.measureText=function(F){if(typeof F!="string")throw sa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,K=this.pdf.internal.scaleFactor,V=Q.internal.getFontSize(),J=Q.getStringUnitWidth(F)*V/Q.internal.scaleFactor;return new function(oe){var Ne=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:J*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(F,Q){if(isNaN(F)||isNaN(Q))throw sa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(F,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(F){if(isNaN(F))throw sa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.translate=function(F,Q){if(isNaN(F)||isNaN(Q))throw sa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,F,Q);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(F,Q,K,V,J,oe){if(isNaN(F)||isNaN(Q)||isNaN(K)||isNaN(V)||isNaN(J)||isNaN(oe))throw sa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new c(F,Q,K,V,J,oe);this.ctx.transform=this.ctx.transform.multiply(Ne)},f.prototype.setTransform=function(F,Q,K,V,J,oe){F=isNaN(F)?1:F,Q=isNaN(Q)?0:Q,K=isNaN(K)?0:K,V=isNaN(V)?1:V,J=isNaN(J)?0:J,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(F,Q,K,V,J,oe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,Q,K,V,J,oe,Ne,ue,xe){var Oe=this.pdf.getImageProperties(F),Be=1,qe=1,Pe=1,X=1;V!==void 0&&ue!==void 0&&(Pe=ue/V,X=xe/J,Be=Oe.width/V*ue/V,qe=Oe.height/J*xe/J),oe===void 0&&(oe=Q,Ne=K,Q=0,K=0),V!==void 0&&ue===void 0&&(ue=V,xe=J),V===void 0&&ue===void 0&&(ue=Oe.width,xe=Oe.height);var Me=this.ctx.transform.decompose(),We=re(Me.rotate.shx),bt=new c,st=(bt=(bt=(bt=bt.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new l(oe-Q*Pe,Ne-K*X,V*Be,J*qe));if(this.autoPaging){for(var Ye,ht=v.call(this,st),wt=[],Bt=0;Bt<ht.length;Bt+=1)wt.indexOf(ht[Bt])===-1&&wt.push(ht[Bt]);C(wt);for(var Ut=wt[0],dr=wt[wt.length-1],ur=Ut;ur<dr+1;ur++){this.pdf.setPage(ur);var hr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ar=ur===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=ur===1?0:ke+(ur-2)*De;if(this.ctx.clip_path.length!==0){var pr=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ye,this.posX+this.margin[3],-rt+ar+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=pr}var Qt=JSON.parse(JSON.stringify(st));Qt=S([Qt],this.posX+this.margin[3],-rt+ar+this.ctx.prevPageLastElemOffset)[0];var Nt=(ur>Ut||ur<dr)&&g.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],hr,De,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,We),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",st.x,st.y,st.w,st.h,null,null,We)};var v=function(F,Q,K){var V=[];Q=Q||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":V.push(Math.floor((F.y+J)/K)+1);break;case"arc":V.push(Math.floor((F.y+J-F.radius)/K)+1),V.push(Math.floor((F.y+J+F.radius)/K)+1);break;case"qct":var oe=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);V.push(Math.floor((oe.y+J)/K)+1),V.push(Math.floor((oe.y+oe.h+J)/K)+1);break;case"bct":var Ne=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);V.push(Math.floor((Ne.y+J)/K)+1),V.push(Math.floor((Ne.y+Ne.h+J)/K)+1);break;case"rect":V.push(Math.floor((F.y+J)/K)+1),V.push(Math.floor((F.y+F.h+J)/K)+1)}for(var ue=0;ue<V.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<V[ue];)w.call(this);return V},w=function(){var F=this.fillStyle,Q=this.strokeStyle,K=this.font,V=this.lineCap,J=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Q,this.font=K,this.lineCap=V,this.lineWidth=J,this.lineJoin=oe},S=function(F,Q,K){for(var V=0;V<F.length;V++)switch(F[V].type){case"bct":F[V].x2+=Q,F[V].y2+=K;case"qct":F[V].x1+=Q,F[V].y1+=K;default:F[V].x+=Q,F[V].y+=K}return F},C=function(F){return F.sort(function(Q,K){return Q-K})},j=function(F,Q){var K=this.fillStyle,V=this.strokeStyle,J=this.lineCap,oe=this.lineWidth,Ne=Math.abs(oe*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var xe,Oe,Be=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Pe=[],X=0;X<qe.length;X++)if(qe[X].x!==void 0)for(var Me=v.call(this,qe[X]),We=0;We<Me.length;We+=1)Pe.indexOf(Me[We])===-1&&Pe.push(Me[We]);for(var bt=0;bt<Pe.length;bt++)for(;this.pdf.internal.getNumberOfPages()<Pe[bt];)w.call(this);C(Pe);for(var st=Pe[0],Ye=Pe[Pe.length-1],ht=st;ht<Ye+1;ht++){this.pdf.setPage(ht),this.fillStyle=K,this.strokeStyle=V,this.lineCap=J,this.lineWidth=Ne,this.lineJoin=ue;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=ht===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ur=ht===1?0:Ut+(ht-2)*dr;if(this.ctx.clip_path.length!==0){var hr=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(xe,this.posX+this.margin[3],-ur+Bt+this.ctx.prevPageLastElemOffset),T.call(this,F,!0),this.path=hr}if(Oe=JSON.parse(JSON.stringify(Be)),this.path=S(Oe,this.posX+this.margin[3],-ur+Bt+this.ctx.prevPageLastElemOffset),Q===!1||ht===0){var ar=(ht>st||ht<Ye)&&g.call(this);ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,dr,null).clip().discardPath()),T.call(this,F,Q),ar&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}this.path=Be}else this.lineWidth=Ne,T.call(this,F,Q),this.lineWidth=oe},T=function(F,Q){if((F!=="stroke"||Q||!y.call(this))&&(F==="stroke"||Q||!m.call(this))){for(var K,V,J=[],oe=this.path,Ne=0;Ne<oe.length;Ne++){var ue=oe[Ne];switch(ue.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ue,deltas:[],abs:[]});break;case"lt":var xe=J.length;if(oe[Ne-1]&&!isNaN(oe[Ne-1].x)&&(K=[ue.x-oe[Ne-1].x,ue.y-oe[Ne-1].y],xe>0)){for(;xe>=0;xe--)if(J[xe-1].close!==!0&&J[xe-1].begin!==!0){J[xe-1].deltas.push(K),J[xe-1].abs.push(ue);break}}break;case"bct":K=[ue.x1-oe[Ne-1].x,ue.y1-oe[Ne-1].y,ue.x2-oe[Ne-1].x,ue.y2-oe[Ne-1].y,ue.x-oe[Ne-1].x,ue.y-oe[Ne-1].y],J[J.length-1].deltas.push(K);break;case"qct":var Oe=oe[Ne-1].x+2/3*(ue.x1-oe[Ne-1].x),Be=oe[Ne-1].y+2/3*(ue.y1-oe[Ne-1].y),qe=ue.x+2/3*(ue.x1-ue.x),Pe=ue.y+2/3*(ue.y1-ue.y),X=ue.x,Me=ue.y;K=[Oe-oe[Ne-1].x,Be-oe[Ne-1].y,qe-oe[Ne-1].x,Pe-oe[Ne-1].y,X-oe[Ne-1].x,Me-oe[Ne-1].y],J[J.length-1].deltas.push(K);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ue)}}V=Q?null:F==="stroke"?"stroke":"fill";for(var We=!1,bt=0;bt<J.length;bt++)if(J[bt].arc)for(var st=J[bt].abs,Ye=0;Ye<st.length;Ye++){var ht=st[Ye];ht.type==="arc"?D.call(this,ht.x,ht.y,ht.radius,ht.startAngle,ht.endAngle,ht.counterclockwise,void 0,Q,!We):M.call(this,ht.x,ht.y),We=!0}else if(J[bt].close===!0)this.pdf.internal.out("h"),We=!1;else if(J[bt].begin!==!0){var wt=J[bt].start.x,Bt=J[bt].start.y;q.call(this,J[bt].deltas,wt,Bt),We=!0}V&&k.call(this,V),Q&&z.call(this)}},L=function(F){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-K;case"top":return F+Q-K;case"hanging":return F+Q-2*K;case"middle":return F+Q/2-K;default:return F}},I=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Q,K){this.colorStops.push([Q,K])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(F,Q,K,V,J,oe,Ne,ue,xe){for(var Oe=W.call(this,K,V,J,oe),Be=0;Be<Oe.length;Be++){var qe=Oe[Be];Be===0&&(xe?P.call(this,qe.x1+F,qe.y1+Q):M.call(this,qe.x1+F,qe.y1+Q)),ae.call(this,F,Q,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}ue?z.call(this):k.call(this,Ne)},k=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(F,Q){this.pdf.internal.out(t(F)+" "+n(Q)+" m")},U=function(F){var Q;switch(F.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var K,V,J,oe=this.pdf.getTextDimensions(F.text),Ne=L.call(this,F.y),ue=I.call(this,Ne)-oe.h,xe=this.ctx.transform.applyToPoint(new i(F.x,Ne));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),Be=new c;Be=(Be=(Be=Be.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var qe=this.ctx.transform.applyToRectangle(new l(F.x,Ne,oe.w,oe.h)),Pe=Be.applyToRectangle(new l(F.x,ue,oe.w,oe.h)),X=v.call(this,Pe),Me=[],We=0;We<X.length;We+=1)Me.indexOf(X[We])===-1&&Me.push(X[We]);C(Me);for(var bt=Me[0],st=Me[Me.length-1],Ye=bt;Ye<st+1;Ye++){this.pdf.setPage(Ye);var ht=Ye===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],Ut=Bt-this.margin[0],dr=this.pdf.internal.pageSize.width-this.margin[1],ur=dr-this.margin[3],hr=Ye===1?0:wt+(Ye-2)*Ut;if(this.ctx.clip_path.length!==0){var ar=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(K,this.posX+this.margin[3],-1*hr+ht),T.call(this,"fill",!0),this.path=ar}var ke=S([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-hr+ht+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*F.scale),J=this.lineWidth,this.lineWidth=J*F.scale);var De=this.autoPaging!=="text";if(De||ke.y+ke.h<=Bt){if(De||ke.y>=ht&&ke.x<=dr){var rt=De?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||dr-ke.x)[0],pr=S([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-hr+ht+this.ctx.prevPageLastElemOffset)[0],Qt=De&&(Ye>bt||Ye<st)&&g.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ur,Ut,null).clip().discardPath()),this.pdf.text(rt,pr.x,pr.y,{angle:F.angle,align:Q,renderingMode:F.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else ke.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-ke.y);F.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=J)}}else F.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*F.scale),J=this.lineWidth,this.lineWidth=J*F.scale),this.pdf.text(F.text,xe.x+this.posX,xe.y+this.posY,{angle:F.angle,align:Q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=J)},M=function(F,Q,K,V){K=K||0,V=V||0,this.pdf.internal.out(t(F+K)+" "+n(Q+V)+" l")},q=function(F,Q,K){return this.pdf.lines(F,Q,K,null,null)},ae=function(F,Q,K,V,J,oe,Ne,ue){this.pdf.internal.out([e(a(K+F)),e(s(V+Q)),e(a(J+F)),e(s(oe+Q)),e(a(Ne+F)),e(s(ue+Q)),"c"].join(" "))},W=function(F,Q,K,V){for(var J=2*Math.PI,oe=Math.PI/2;Q>K;)Q-=J;var Ne=Math.abs(K-Q);Ne<J&&V&&(Ne=J-Ne);for(var ue=[],xe=V?-1:1,Oe=Q;Ne>1e-5;){var Be=Oe+xe*Math.min(Ne,oe);ue.push(ee.call(this,F,Oe,Be)),Ne-=Math.abs(Be-Oe),Oe=Be}return ue},ee=function(F,Q,K){var V=(K-Q)/2,J=F*Math.cos(V),oe=F*Math.sin(V),Ne=J,ue=-oe,xe=Ne*Ne+ue*ue,Oe=xe+Ne*J+ue*oe,Be=4/3*(Math.sqrt(2*xe*Oe)-Oe)/(Ne*oe-ue*J),qe=Ne-Be*ue,Pe=ue+Be*Ne,X=qe,Me=-Pe,We=V+Q,bt=Math.cos(We),st=Math.sin(We);return{x1:F*Math.cos(Q),y1:F*Math.sin(Q),x2:qe*bt-Pe*st,y2:qe*st+Pe*bt,x3:X*bt-Me*st,y3:X*st+Me*bt,x4:F*Math.cos(K),y4:F*Math.sin(K)}},re=function(F){return 180*F/Math.PI},pe=function(F,Q,K,V,J,oe){var Ne=F+.5*(K-F),ue=Q+.5*(V-Q),xe=J+.5*(K-J),Oe=oe+.5*(V-oe),Be=Math.min(F,J,Ne,xe),qe=Math.max(F,J,Ne,xe),Pe=Math.min(Q,oe,ue,Oe),X=Math.max(Q,oe,ue,Oe);return new l(Be,Pe,qe-Be,X-Pe)},Se=function(F,Q,K,V,J,oe,Ne,ue){var xe,Oe,Be,qe,Pe,X,Me,We,bt,st,Ye,ht,wt,Bt,Ut=K-F,dr=V-Q,ur=J-K,hr=oe-V,ar=Ne-J,ke=ue-oe;for(Oe=0;Oe<41;Oe++)bt=(Me=(Be=F+(xe=Oe/40)*Ut)+xe*((Pe=K+xe*ur)-Be))+xe*(Pe+xe*(J+xe*ar-Pe)-Me),st=(We=(qe=Q+xe*dr)+xe*((X=V+xe*hr)-qe))+xe*(X+xe*(oe+xe*ke-X)-We),Oe==0?(Ye=bt,ht=st,wt=bt,Bt=st):(Ye=Math.min(Ye,bt),ht=Math.min(ht,st),wt=Math.max(wt,bt),Bt=Math.max(Bt,st));return new l(Math.round(Ye),Math.round(ht),Math.round(wt-Ye),Math.round(Bt-ht))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Q,K=(F=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Q}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(fr.API),(function(r){var e=function(i){var l,c,u,d,f,p,m,y,g,v;for(c=[],u=0,d=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;d>u;u+=4)(f=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)-(m=f%85))/85)%85,c.push(p+33,m+33,y+33,g+33,v+33)):c.push(122);return(function(w,S){for(var C=S;C>0;C--)w.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(i){var l,c,u,d,f,p=String,m="length",y=255,g="charCodeAt",v="slice",w="replace";for(i[v](-2),i=i[v](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],d=0,f=(i+=l="uuuuu"[v](i[m]%5||5))[m];f>d;d+=5)c=52200625*(i[g](d)-33)+614125*(i[g](d+1)-33)+7225*(i[g](d+2)-33)+85*(i[g](d+3)-33)+(i[g](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(S,C){for(var j=C;j>0;j--)S.pop()})(u,l[m]),p.fromCharCode.apply(p,u)},n=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var c="",u=0;u<i.length;u+=2)c+=String.fromCharCode("0x"+(i[u]+i[u+1]));return c},s=function(i){for(var l=new Uint8Array(i.length),c=i.length;c--;)l[c]=i.charCodeAt(c);return(l=Wj(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};r.processDataByFilters=function(i,l){var c=0,u=i||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(fr.API),(function(r){r.loadFile=function(e,t,n){return(function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,p=0,m=function(y){var g=y.length,v=[],w=String.fromCharCode;for(p=0;p<g;p+=1)v.push(w(255&y.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)})(a,s,i)}catch{}return l})(e,t,n)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(fr.API),(function(r){function e(){return(Fr.html2canvas?Promise.resolve(Fr.html2canvas):hw(()=>Promise.resolve().then(()=>dDe),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Fr.DOMPurify?Promise.resolve(Fr.DOMPurify):hw(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Qn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},i=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,c){return l.__proto__=c||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var y=d[m],g=y.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},i.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(l,c){return this.then(function(){var u=l in i.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},i.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},i.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:i.convert(Object.assign({},d),Promise.prototype),p=u.call(f,l,c);return i.convert(p,d.__proto__)},i.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},i.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},i.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return i.convert(c,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,fr.getPageSize=function(l,c,u){if(Qn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,g=0,v=0;if(m.hasOwnProperty(p))g=m[p][1]/f,v=m[p][0]/f;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>g&&(y=v,v=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(y=v,v=g,g=y)}return{width:v,height:g,unit:c,k:f,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(UE):null;var u=new i(c);return c.worker?u:u.from(l).doCallback()}})(fr.API),fr.API.addJS=function(r){return d8=r,this.internal.events.subscribe("postPutResources",function(){nw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(nw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),A8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){nw!==void 0&&A8!==void 0&&this.internal.out("/Names <</JavaScript "+nw+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=t.internal.newObject();d.push(f);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(fr.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,s,i,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(f){for(var p,m=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=m,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),g={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}m=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(fr.API),fr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,s=x6e(r,{checkCrc:!0}),i=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;a=u&&c===1?(function(D){for(var k=D.width,z=D.height,P=D.data,U=D.palette,M=D.depth,q=!1,ae=[],W=[],ee=void 0,re=!1,pe=0,Se=0;Se<U.length;Se++){var ne=pU(U[Se],4),F=ne[0],Q=ne[1],K=ne[2],V=ne[3];ae.push(F,Q,K),V!=null&&(V===0?(pe++,W.length<1&&W.push(Se)):V<255&&(re=!0))}if(re||pe>1){q=!0,W=void 0;var J=k*z;ee=new Uint8Array(J);for(var oe=new DataView(P.buffer),Ne=0;Ne<J;Ne++){var ue=HE(oe,Ne,M),xe=pU(U[ue],4)[3];ee[Ne]=xe}}else pe===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:P,alphaBytes:ee,needSMask:q,palette:ae,mask:W}})(s):c===2||c===4?(function(D){for(var k=D.data,z=D.width,P=D.height,U=D.channels,M=D.depth,q=U===2?"DeviceGray":"DeviceRGB",ae=U-1,W=z*P,ee=ae,re=W*ee,pe=1*W,Se=Math.ceil(re*M/8),ne=Math.ceil(pe*M/8),F=new Uint8Array(Se),Q=new Uint8Array(ne),K=new DataView(k.buffer),V=new DataView(F.buffer),J=new DataView(Q.buffer),oe=!1,Ne=0;Ne<W;Ne++){for(var ue=Ne*U,xe=0;xe<ee;xe++)b8(V,HE(K,ue+xe,M),Ne*ee+xe,M);var Oe=HE(K,ue+ee,M);Oe<(1<<M)-1&&(oe=!0),b8(J,Oe,1*Ne,M)}return{colorSpace:q,colorsPerPixel:ae,sMaskBitsPerComponent:oe?M:void 0,colorBytes:F,alphaBytes:Q,needSMask:oe}})(s):(function(D){var k=D.data,z=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(P){for(var U=P.length,M=new Uint8Array(2*U),q=new DataView(M.buffer,M.byteOffset,M.byteLength),ae=0;ae<U;ae++)q.setUint16(2*ae,P[ae],!1);return M})(k):k,needSMask:!1}})(s);var f,p,m,y=a,g=y.colorSpace,v=y.colorsPerPixel,w=y.sMaskBitsPerComponent,S=y.colorBytes,C=y.alphaBytes,j=y.needSMask,T=y.palette,L=y.mask,I=null;return n!==fr.API.image_compression.NONE&&typeof Wj=="function"?(I=(function(D){var k;switch(D){case fr.API.image_compression.FAST:k=11;break;case fr.API.image_compression.MEDIUM:k=13;break;case fr.API.image_compression.SLOW:k=14;break;default:k=12}return k})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(I," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(i),r=p8(S,Math.ceil(i*v*d/8),v,d,n),j&&(m=p8(C,Math.ceil(i*w/8),1,w,n))):(f=void 0,p=void 0,r=S,j&&(m=C)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:f,decodeParameters:p,transparency:L,palette:T,sMask:m,predictor:I,width:i,height:l,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:g}}},(function(r){r.processGIF89A=function(e,t,n,a){var s=new R6e(e),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:l},d=new zE(100).encode(u,100);return r.processJPEG.call(this,d,t,n,a)},r.processGIF87A=r.processGIF89A})(fr.API),fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fu.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){sa.log("bit decode error:"+t)}},fu.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}t!==0&&(this.pos+=4-t)}},fu.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},fu.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},fu.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=i,this.data[d+3]=u}this.pos+=r}},fu.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&t)/t*255|0,u=(i>>11)/e*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=r}},fu.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},fu.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},fu.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var s=new fu(e,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new zE(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(fr.API),C8.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var s=new C8(e),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new zE(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(fr.API),fr.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],m=n[u+3];s[l++]=d,s[l++]=f,s[l++]=p,i[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},fr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cp=fr.API,aw=cp.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,m=r.length,y=0,g=l[0]||c,v=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(p=f&&Qn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,v.push((l[n]||g)/c+p)),y=n;return v},h8=cp.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return cp.processArabic&&(r=cp.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:aw.apply(this,arguments).reduce(function(s,i){return s+i},0)},f8=function(r,e,t,n){for(var a=[],s=0,i=r.length,l=0;s!==i&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var c=s;for(l=0;s!==i;)l+e[s]>n&&(a.push(r.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(r.slice(c,s)),a},m8=function(r,e,t){t||(t={});var n,a,s,i,l,c,u,d=[],f=[d],p=t.textIndent||0,m=0,y=0,g=r.split(" "),v=aw.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),S=[];g.map(function(j){(j=j.split(/\s*\n/)).length>1?S=S.concat(j.map(function(T,L){return(L&&T.length?`
`:"")+T})):S.push(j[0])}),g=S,c=h8.apply(this,[w,t])}for(s=0,i=g.length;s<i;s++){var C=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),C=1),p+m+(y=(a=aw.apply(this,[n,t])).reduce(function(j,T){return j+T},0))>e||C){if(y>e){for(l=f8.apply(this,[n,a,e-(p+m),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,T){return j+T},0)}else d=[n];f.push(d),p=y+c,m=v}else d.push(n),p+=m+y,m=v}return u=c?function(j,T){return(T?w:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},cp.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(m8.apply(this,[n[l],i,s]));return u},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[t[s]]=e[s],a[e[s]]=t[s];var i=function(p){return"0x"+parseInt(p,10).toString(16)},l=r.__fontmetrics__.compress=function(p){var m,y,g,v,w=["{"];for(var S in p){if(m=p[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=i(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof m=="number")m<0?(g=i(m).slice(3),v="-"):(g=i(m).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(Qn(m)!=="object")throw new Error("Don't know what to do with value type "+Qn(m)+".");g=l(m)}w.push(y+g)}return w.push("}"),w.join("")},c=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,g,v,w={},S=1,C=w,j=[],T="",L="",I=p.length-1,D=1;D<I;D+=1)(v=p[D])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(j.push([C,g]),C={},g=void 0):v=="}"?((y=j.pop())[0][y[1]]=C,g=void 0,C=y[0]):v=="-"?S=-1:g===void 0?n.hasOwnProperty(v)?(T+=n[v],g=parseInt(T,16)*S,S=1,T=""):T+=v:n.hasOwnProperty(v)?(L+=n[v],C[g]=parseInt(L,16)*S,S=1,g=void 0,L=""):L+=v;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var m=p.font,y=f.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var g=d.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(fr.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(ww(l)),i.metadata=r.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])})(fr),fr.API.addSvgAsImage=function(r,e,t,n,a,s,i,l){if(isNaN(e)||isNaN(t))throw sa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw sa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Fr.canvg?Promise.resolve(Fr.canvg):hw(()=>import("./index.es-B-tij8jh.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,t,n,a,i,l)})},fr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},fr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],u=0,d=0,f=0;function p(y,g){var v,w=!1;for(v=0;v<y.length;v+=1)y[v]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=l.length;for(f=0;f<m;f+=1)t[l[f]].value=t[l[f]].defaultValue,t[l[f]].explicitSet=!1}if(Qn(r)==="object"){for(a in r)if(s=r[a],p(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&p(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}t[a].value="["+c.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?g.push("/"+y+" /"+t[y].value):g.push("/"+y+" "+t[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(fr.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=s.length;f<p;++f){if(l=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var i,l,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(s).sort(function(m,y){return m-y})).length;f<p;f++)i=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,d=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gp(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+gp(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+r.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+gp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,d=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var y=u();d({data:p,addLength1:!0,objectId:y}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+gp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+gp(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},p=f.pdfEscape,m=f.activeFontKey,y=f.fonts,g=m,v="",w=0,S="",C=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(S=l,g=m,Array.isArray(l)&&(S=l[0]),w=0;w<S.length;w+=1)y[g].metadata.hasOwnProperty("cmap")&&(i=y[g].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),i||S[w].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?v+=S[w]:v+="";var j="";return parseInt(g.slice(1))<14||C==="WinAnsiEncoding"?j=p(v,g).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(j=t(v,y[g])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?l.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):l.push(a(Object.assign({},c,{text:i[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])})(fr),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(fr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,s,i,l,c,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,C=0;this.__bidiEngine__={};var j=function(P){var U=P.charCodeAt(),M=U>>8,q=g[M];return q!==void 0?f[256*q+(255&U)]:M===252||M===253?"AL":w.test(M)?"L":M===8?"R":"N"},T=function(P){for(var U,M=0;M<P.length;M++){if((U=j(P.charAt(M)))==="L")return!1;if(U==="R")return!0}return!1},L=function(P,U,M,q){var ae,W,ee,re,pe=U[q];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(pe="AN");break;case"AL":S=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":q<1||q+1>=U.length||(ae=M[q-1])!=="EN"&&ae!=="AN"||(W=U[q+1])!=="EN"&&W!=="AN"?pe="N":S&&(W="AN"),pe=W===ae?W:"N";break;case"ES":pe=(ae=q>0?M[q-1]:"B")==="EN"&&q+1<U.length&&U[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&M[q-1]==="EN"){pe="EN";break}if(S){pe="N";break}for(ee=q+1,re=U.length;ee<re&&U[ee]==="ET";)ee++;pe=ee<re&&U[ee]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(re=U.length,ee=q+1;ee<re&&U[ee]==="NSM";)ee++;if(ee<re){var Se=P[q],ne=Se>=1425&&Se<=2303||Se===64286;if(ae=U[ee],ne&&(ae==="R"||ae==="AL")){pe="R";break}}}pe=q<1||(ae=U[q-1])==="B"?"N":M[q-1];break;case"B":S=!1,a=!0,pe=C;break;case"S":s=!0,pe="N"}return pe},I=function(P,U,M){var q=P.split("");return M&&D(q,M,{hiLevel:C}),q.reverse(),U&&U.reverse(),q.join("")},D=function(P,U,M){var q,ae,W,ee,re,pe=-1,Se=P.length,ne=0,F=[],Q=C?m:p,K=[];for(S=!1,a=!1,s=!1,ae=0;ae<Se;ae++)K[ae]=j(P[ae]);for(W=0;W<Se;W++){if(re=ne,F[W]=L(P,K,F,W),q=240&(ne=Q[re][y[F[W]]]),ne&=15,U[W]=ee=Q[ne][5],q>0)if(q===16){for(ae=pe;ae<W;ae++)U[ae]=1;pe=-1}else pe=-1;if(Q[ne][6])pe===-1&&(pe=W);else if(pe>-1){for(ae=pe;ae<W;ae++)U[ae]=ee;pe=-1}K[W]==="B"&&(U[W]=0),M.hiLevel|=ee}s&&(function(V,J,oe){for(var Ne=0;Ne<oe;Ne++)if(V[Ne]==="S"){J[Ne]=C;for(var ue=Ne-1;ue>=0&&V[ue]==="WS";ue--)J[ue]=C}})(K,U,Se)},k=function(P,U,M,q,ae){if(!(ae.hiLevel<P)){if(P===1&&C===1&&!a)return U.reverse(),void(M&&M.reverse());for(var W,ee,re,pe,Se=U.length,ne=0;ne<Se;){if(q[ne]>=P){for(re=ne+1;re<Se&&q[re]>=P;)re++;for(pe=ne,ee=re-1;pe<ee;pe++,ee--)W=U[pe],U[pe]=U[ee],U[ee]=W,M&&(W=M[pe],M[pe]=M[ee],M[ee]=W);ne=re}ne++}}},z=function(P,U,M){var q=P.split(""),ae={hiLevel:C};return M||(M=[]),D(q,M,ae),(function(W,ee,re){if(re.hiLevel!==0&&d)for(var pe,Se=0;Se<W.length;Se++)ee[Se]===1&&(pe=v.indexOf(W[Se]))>=0&&(W[Se]=v[pe+1])})(q,M,ae),k(2,q,U,M,ae),k(1,q,U,M,ae),q.join("")};return this.__bidiEngine__.doBidiReorder=function(P,U,M){if((function(ae,W){if(W)for(var ee=0;ee<ae.length;ee++)W[ee]=ee;l===void 0&&(l=T(ae)),u===void 0&&(u=T(ae))})(P,U),i||!c||u)if(i&&c&&l^u)C=l?1:0,P=I(P,U,M);else if(!i&&c&&u)C=l?1:0,P=z(P,U,M),P=I(P,U);else if(!i||l||c||u){if(i&&!c&&l^u)P=I(P,U),l?(C=0,P=z(P,U,M)):(C=1,P=z(P,U,M),P=I(P,U));else if(i&&l&&!c&&u)C=1,P=z(P,U,M),P=I(P,U);else if(!i&&!c&&l^u){var q=d;l?(C=1,P=z(P,U,M),C=0,d=!1,P=z(P,U,M),d=q):(C=0,P=z(P,U,M),P=I(P,U),C=1,d=!1,P=z(P,U,M),d=q,P=I(P,U))}}else C=0,P=z(P,U,M);else C=l?1:0,P=z(P,U,M);return P},this.__bidiEngine__.setOptions=function(P){P&&(i=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var i=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([t.doBidiReorder(a[l])]);n.text=i}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(fr),fr.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new of(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eIe(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new U6e(this.contents),this.head=new H6e(this),this.name=new q6e(this),this.cmap=new lW(this),this.toUnicode={},this.hhea=new z6e(this),this.maxp=new G6e(this),this.hmtx=new W6e(this),this.post=new $6e(this),this.os2=new K6e(this),this.loca=new Z6e(this),this.glyf=new Y6e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,u;for(u=[],i=0,l=(c=this.bbox).length;i<l;i++)e=c[i],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,s,i,l;for(i=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var ku,of=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,s,i,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),U6e=(function(){var r;function e(t){var n,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,s,i,l,c,u,d,f,p,m,y,g;for(g in m=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),i=Math.floor(f/c),d=16*m-f,(a=new of).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*m,u=a.pos+s,l=null,y=[],t)for(p=t[g],a.writeString(g),a.writeInt(r(p)),a.writeInt(u),a.writeInt(p.length),y=y.concat(p),g==="head"&&(l=u),u+=p.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(n),a.data},r=function(t){var n,a,s,i;for(t=cW.call(t);t.length%4;)t.push(0);for(s=new of(t),a=0,n=0,i=t.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),Q6e={}.hasOwnProperty,NA=function(r,e){for(var t in e)Q6e.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};ku=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var H6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new of).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),N8=(function(){function r(e,t){var n,a,s,i,l,c,u,d,f,p,m,y,g,v,w,S,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=(function(){var j,T;for(T=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)T.push(e.readUInt16());return T})(),e.pos+=2,g=(function(){var j,T;for(T=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)T.push(e.readUInt16());return T})(),u=(function(){var j,T;for(T=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)T.push(e.readUInt16());return T})(),d=(function(){var j,T;for(T=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)T.push(e.readUInt16());return T})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var j,T;for(T=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)T.push(e.readUInt16());return T})(),c=w=0,C=s.length;w<C;c=++w)for(v=s[c],n=S=y=g[c];y<=v?S<=v:S>=v;n=y<=v?++S:--S)d[c]===0?i=n+u[c]:(i=l[d[c]/2+(n-y)-(p-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}e.pos=f}return r.encode=function(e,t){var n,a,s,i,l,c,u,d,f,p,m,y,g,v,w,S,C,j,T,L,I,D,k,z,P,U,M,q,ae,W,ee,re,pe,Se,ne,F,Q,K,V,J,oe,Ne,ue,xe,Oe,Be;switch(q=new of,i=Object.keys(e).sort(function(qe,Pe){return qe-Pe}),t){case"macroman":for(g=0,v=(function(){var qe=[];for(y=0;y<256;++y)qe.push(0);return qe})(),S={0:0},s={},ae=0,pe=i.length;ae<pe;ae++)S[ue=e[a=i[ae]]]==null&&(S[ue]=++g),s[a]={old:e[a],new:S[e[a]]},v[a]=S[e[a]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(v),{charMap:s,subtable:q.data,maxGlyphID:g+1};case"unicode":for(U=[],f=[],C=0,S={},n={},w=u=null,W=0,Se=i.length;W<Se;W++)S[T=e[a=i[W]]]==null&&(S[T]=++C),n[a]={old:T,new:S[T]},l=S[T]-a,w!=null&&l===u||(w&&f.push(w),U.push(a),u=l),w=a;for(w&&f.push(w),f.push(65535),U.push(65535),z=2*(k=U.length),D=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,I=2*k-D,c=[],L=[],m=[],y=ee=0,ne=U.length;ee<ne;y=++ee){if(P=U[y],d=f[y],P===65535){c.push(0),L.push(0);break}if(P-(M=n[P].new)>=32768)for(c.push(0),L.push(2*(m.length+k-y)),a=re=P;P<=d?re<=d:re>=d;a=P<=d?++re:--re)m.push(n[a].new);else c.push(M-P),L.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*k+2*m.length),q.writeUInt16(0),q.writeUInt16(z),q.writeUInt16(D),q.writeUInt16(p),q.writeUInt16(I),oe=0,F=f.length;oe<F;oe++)a=f[oe],q.writeUInt16(a);for(q.writeUInt16(0),Ne=0,Q=U.length;Ne<Q;Ne++)a=U[Ne],q.writeUInt16(a);for(xe=0,K=c.length;xe<K;xe++)l=c[xe],q.writeUInt16(l);for(Oe=0,V=L.length;Oe<V;Oe++)j=L[Oe],q.writeUInt16(j);for(Be=0,J=m.length;Be<J;Be++)g=m[Be],q.writeUInt16(g);return{charMap:n,subtable:q.data,maxGlyphID:C+1}}},r})(),lW=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new N8(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=N8.encode(e,t),(a=new of).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),z6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),K6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),$6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var i,l,c;for(c=[],s=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;s=0<=l?++i:--i)c.push(e.readUInt32());return c}).call(this)}},r})(),V6e=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},q6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,s,i,l,c,u,d,f,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)a=n[s],e.pos=a.offset,u=e.readString(a.length),i=new V6e(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(i);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),G6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),W6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,s,i,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],p.push(s.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],t=i=0;0<=a?i<a:i>a;t=0<=a?++i:--i)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),cW=[].slice,Y6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,s,i,l,c,u,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,i=(l=new of(t.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=i===-1?new J6e(l,u,f,c,d):new X6e(l,i,u,f,c,d),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,s,i,l,c;for(i=[],s=[],l=0,c=t.length;l<c;l++)a=e[t[l]],s.push(i.length),a&&(i=i.concat(a.encode(n)));return s.push(i.length),{table:i,offsets:s}},r})(),X6e=(function(){function r(e,t,n,a,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),J6e=(function(){function r(e,t,n,a,s){var i,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new of(cW.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Z6e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return NA(r,ku),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,i=0;i<n.length;++i)if(n[i]=a,s<t.length&&t[s]==i){++s,n[i]=a;var l=this.offsets[i],c=this.offsets[i+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},r})(),eIe=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,s,i,l,c;for(a={},i=0,l=e.length;i<l;i++)a[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(n=a[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],a[s]=n;return a},r.prototype.encode=function(e,t){var n,a,s,i,l,c,u,d,f,p,m,y,g,v,w;for(a in n=lW.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),m={0:0},w=n.charMap)m[(c=w[a]).old]=c.new;for(y in p=n.maxGlyphID,i)y in m||(m[y]=p++);return d=(function(S){var C,j;for(C in j={},S)j[S[C]]=C;return j})(m),f=Object.keys(d).sort(function(S,C){return S-C}),g=(function(){var S,C,j;for(j=[],S=0,C=f.length;S<C;S++)l=f[S],j.push(d[l]);return j})(),s=this.font.glyf.encode(i,g,m),u=this.font.loca.encode(s.offsets,g),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r})();fr.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,s,i;if(Array.isArray(t))return"["+(function(){var l,c,u;for(u=[],l=0,c=t.length;l<c;l++)n=t[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)i=t[a],s.push("/"+a+" "+e.convert(i));return s.push(">>"),s.join(`
`)}return""+t},e})();const tIe=async(r,e="chart")=>{const t=document.getElementById(r);if(!t){console.error(`Element with id "${r}" not found`);return}try{const n=await xk(t,{backgroundColor:"#ffffff",scale:2,logging:!1}),a=document.createElement("a");a.href=n.toDataURL("image/png"),a.download=`${e}-${zn(new Date,"yyyy-MM-dd")}.png`,a.click()}catch(n){console.error("Error exporting chart as PNG:",n)}},rIe=async(r,e="Chart",t="chart")=>{const n=document.getElementById(r);if(!n){console.error(`Element with id "${r}" not found`);return}try{const a=await xk(n,{backgroundColor:"#ffffff",scale:2,logging:!1}),s=a.toDataURL("image/png"),i=new fr({orientation:"landscape",unit:"mm",format:"a4"}),l=280,c=a.height*l/a.width;i.text(e,15,15),i.addImage(s,"PNG",15,25,l,c),i.save(`${t}-${zn(new Date,"yyyy-MM-dd")}.pdf`)}catch(a){console.error("Error exporting chart as PDF:",a)}},nIe=(r,e="data")=>{if(!r||r.length===0){console.error("No data to export");return}const t=Object.keys(r[0]),n=[t.join(","),...r.map(s=>t.map(i=>JSON.stringify(s[i])).join(","))].join(`
`),a=document.createElement("a");a.href=`data:text/csv;charset=utf-8,${encodeURIComponent(n)}`,a.download=`${e}-${zn(new Date,"yyyy-MM-dd")}.csv`,a.click()},aIe=({chartId:r,chartTitle:e,data:t,formats:n=["png","pdf"]})=>{const[a,s]=B.useState(!1),[i,l]=B.useState(!1),c=async()=>{l(!0);try{await tIe(r,e),Ce.success("Chart exported as PNG")}catch{Ce.error("Failed to export chart as PNG")}finally{l(!1),s(!1)}},u=async()=>{l(!0);try{await rIe(r,e,e),Ce.success("Chart exported as PDF")}catch{Ce.error("Failed to export chart as PDF")}finally{l(!1),s(!1)}},d=()=>{if(!t||t.length===0){Ce.error("No data to export");return}try{nIe(t,e),Ce.success("Data exported as CSV")}catch{Ce.error("Failed to export data as CSV")}finally{s(!1)}};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!a),disabled:i,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Pd,{className:"w-4 h-4"}),i?"Exporting...":"Export"]}),a&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:o.jsxs("div",{className:"p-2",children:[n.includes("png")&&o.jsxs("button",{onClick:c,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx(_w,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PNG"})]}),n.includes("pdf")&&o.jsxs("button",{onClick:u,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx(os,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PDF"})]}),n.includes("csv")&&t&&t.length>0&&o.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors",children:[o.jsx(UZ,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as CSV"})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},sIe=()=>o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Team Workload"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Engineer assignments and project allocations"})]}),o.jsx(aIe,{chartId:"team-workload",chartTitle:"Engineer Assignments",formats:["png","pdf"]})]})}),o.jsx("div",{id:"team-workload",children:o.jsx(Q_e,{})})]})});function iIe(){return o.jsxs(JX,{children:[o.jsxs(EX,{children:[o.jsx(ka,{path:"/login",element:o.jsx(Xne,{})}),o.jsx(ka,{path:"/reset-password",element:o.jsx(eae,{})}),o.jsx(ka,{element:o.jsx(yne,{}),children:o.jsxs(ka,{path:"/",element:o.jsx(vne,{children:o.jsx(xne,{})}),children:[o.jsx(ka,{index:!0,element:o.jsx(cve,{})}),o.jsx(ka,{path:"my-dashboard",element:o.jsx(I_e,{})}),o.jsx(ka,{path:"projects",element:o.jsx(fve,{})}),o.jsx(ka,{path:"clients",element:o.jsx($E,{to:"/companies",replace:!0})}),o.jsx(ka,{path:"companies",element:o.jsx(yve,{})}),o.jsx(ka,{path:"research",element:o.jsx(Cve,{})}),o.jsx(ka,{path:"team",element:o.jsx(_ve,{})}),o.jsx(ka,{path:"team-workload",element:o.jsx(sIe,{})}),o.jsx(ka,{path:"timesheets",element:o.jsx(vSe,{})}),o.jsx(ka,{path:"inventory",element:o.jsx(FSe,{})}),o.jsx(ka,{path:"maintenance",element:o.jsx(LSe,{})}),o.jsx(ka,{path:"equipment",element:o.jsx(VSe,{})}),o.jsx(ka,{path:"pcs",element:o.jsx(ZSe,{})}),o.jsx(ka,{path:"finance",element:o.jsx(hBe,{})}),o.jsx(ka,{path:"finance/documents",element:o.jsx(k_e,{})}),o.jsx(ka,{path:"purchase-orders",element:o.jsx(mBe,{})}),o.jsx(ka,{path:"finance/exchange-rates",element:o.jsx(D_e,{})}),o.jsx(ka,{path:"settings",element:o.jsx($Se,{})})]})}),o.jsx(ka,{path:"*",element:o.jsx($E,{to:"/login",replace:!0})})]}),o.jsx(WJ,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#333"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}class oIe extends Zs.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,showStack:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),Rt.error("Error caught by ErrorBoundary:",e),Rt.error("Component stack:",t.componentStack),this.props.onError&&this.props.onError(e,t)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,showStack:!1})};handleReload=()=>{window.location.reload()};toggleStack=()=>{this.setState(e=>({showStack:!e.showStack}))};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const e=!1,{error:t,errorInfo:n,showStack:a}=this.state;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:o.jsxs("div",{className:"max-w-lg w-full",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-red-200 dark:border-red-800/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6 text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx(Xh,{className:"w-7 h-7"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Something went wrong"}),o.jsx("p",{className:"text-red-100 text-sm mt-0.5",children:"An unexpected error has occurred"})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. You can try refreshing the page or return to the dashboard. If the problem persists, please contact support."}),e,o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(Dt,{variant:"primary",size:"md",fullWidth:!0,onClick:this.handleReset,icon:o.jsx(oC,{className:"w-4 h-4"}),children:"Try Again"}),o.jsx(Dt,{variant:"outline",size:"md",fullWidth:!0,onClick:()=>{window.location.href="/"},icon:o.jsx(f_,{className:"w-4 h-4"}),children:"Go to Dashboard"})]}),o.jsx("button",{onClick:this.handleReload,className:"mt-4 w-full text-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"Or reload the entire page"})]})]}),o.jsxs("p",{className:"mt-4 text-center text-xs text-gray-400 dark:text-gray-500",children:["Error ID: ",Date.now().toString(36).toUpperCase()]})]})})}return this.props.children}}const uW=new URL("pdfjs-dist/build/pdf.worker.min.js?url",import.meta.url).toString();console.log("PDF.js worker source:",uW);qh.workerSrc=uW;typeof window<"u"&&window.addEventListener("error",r=>{r.filename&&r.filename.includes("pdf")&&console.error("PDF.js worker error:",r.error)});jY.createRoot(document.getElementById("root")).render(o.jsx(B.StrictMode,{children:o.jsx(oIe,{children:o.jsx(RSe,{children:o.jsx(une,{children:o.jsx(iIe,{})})})})}));export{Qn as _,cIe as c,Fc as g};
