var gk=r=>{throw TypeError(r)};var Y2=(r,e,t)=>e.has(r)||gk("Cannot "+t);var Hn=(r,e,t)=>(Y2(r,e,"read from private field"),t?t.call(r):e.get(r)),Hc=(r,e,t)=>e.has(r)?gk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Vi=(r,e,t,n)=>(Y2(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Kc=(r,e,t)=>(Y2(r,e,"access private method"),t);var pk=(r,e,t,n)=>({set _(a){Vi(r,e,a,t)},get _(){return Hn(r,e,n)}});function Cz(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var R5e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bl(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var X2={exports:{}},Bp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk;function Bz(){if(yk)return Bp;yk=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:r,type:n,key:i,ref:a!==void 0?a:null,props:s}}return Bp.Fragment=e,Bp.jsx=t,Bp.jsxs=t,Bp}var xk;function Nz(){return xk||(xk=1,X2.exports=Bz()),X2.exports}var o=Nz(),J2={exports:{}},nr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk;function Sz(){if(vk)return nr;vk=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function p(re){return re===null||typeof re!="object"?null:(re=g&&re[g]||re["@@iterator"],typeof re=="function"?re:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function w(re,U,Y){this.props=re,this.context=U,this.refs=b,this.updater=Y||x}w.prototype.isReactComponent={},w.prototype.setState=function(re,U){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,U,"setState")},w.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function N(){}N.prototype=w.prototype;function j(re,U,Y){this.props=re,this.context=U,this.refs=b,this.updater=Y||x}var k=j.prototype=new N;k.constructor=j,y(k,w.prototype),k.isPureReactComponent=!0;var T=Array.isArray;function I(){}var M={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P(re,U,Y){var ne=Y.ref;return{$$typeof:r,type:re,key:U,ref:ne!==void 0?ne:null,props:Y}}function q(re,U){return P(re.type,U,re.props)}function F(re){return typeof re=="object"&&re!==null&&re.$$typeof===r}function R(re){var U={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(Y){return U[Y]})}var H=/\/+/g;function z(re,U){return typeof re=="object"&&re!==null&&re.key!=null?R(""+re.key):U.toString(36)}function X(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(I,I):(re.status="pending",re.then(function(U){re.status==="pending"&&(re.status="fulfilled",re.value=U)},function(U){re.status==="pending"&&(re.status="rejected",re.reason=U)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function $(re,U,Y,ne,oe){var de=typeof re;(de==="undefined"||de==="boolean")&&(re=null);var he=!1;if(re===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(re.$$typeof){case r:case e:he=!0;break;case d:return he=re._init,$(he(re._payload),U,Y,ne,oe)}}if(he)return oe=oe(re),he=ne===""?"."+z(re,0):ne,T(oe)?(Y="",he!=null&&(Y=he.replace(H,"$&/")+"/"),$(oe,U,Y,"",function(be){return be})):oe!=null&&(F(oe)&&(oe=q(oe,Y+(oe.key==null||re&&re.key===oe.key?"":(""+oe.key).replace(H,"$&/")+"/")+he)),U.push(oe)),1;he=0;var Se=ne===""?".":ne+":";if(T(re))for(var me=0;me<re.length;me++)ne=re[me],de=Se+z(ne,me),he+=$(ne,U,Y,de,oe);else if(me=p(re),typeof me=="function")for(re=me.call(re),me=0;!(ne=re.next()).done;)ne=ne.value,de=Se+z(ne,me++),he+=$(ne,U,Y,de,oe);else if(de==="object"){if(typeof re.then=="function")return $(X(re),U,Y,ne,oe);throw U=String(re),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return he}function te(re,U,Y){if(re==null)return re;var ne=[],oe=0;return $(re,ne,"","",function(de){return U.call(Y,de,oe++)}),ne}function ee(re){if(re._status===-1){var U=re._result;U=U(),U.then(function(Y){(re._status===0||re._status===-1)&&(re._status=1,re._result=Y)},function(Y){(re._status===0||re._status===-1)&&(re._status=2,re._result=Y)}),re._status===-1&&(re._status=0,re._result=U)}if(re._status===1)return re._result.default;throw re._result}var fe=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},_e={map:te,forEach:function(re,U,Y){te(re,function(){U.apply(this,arguments)},Y)},count:function(re){var U=0;return te(re,function(){U++}),U},toArray:function(re){return te(re,function(U){return U})||[]},only:function(re){if(!F(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return nr.Activity=f,nr.Children=_e,nr.Component=w,nr.Fragment=t,nr.Profiler=a,nr.PureComponent=j,nr.StrictMode=n,nr.Suspense=c,nr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,nr.__COMPILER_RUNTIME={__proto__:null,c:function(re){return M.H.useMemoCache(re)}},nr.cache=function(re){return function(){return re.apply(null,arguments)}},nr.cacheSignal=function(){return null},nr.cloneElement=function(re,U,Y){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var ne=y({},re.props),oe=re.key;if(U!=null)for(de in U.key!==void 0&&(oe=""+U.key),U)!L.call(U,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&U.ref===void 0||(ne[de]=U[de]);var de=arguments.length-2;if(de===1)ne.children=Y;else if(1<de){for(var he=Array(de),Se=0;Se<de;Se++)he[Se]=arguments[Se+2];ne.children=he}return P(re.type,oe,ne)},nr.createContext=function(re){return re={$$typeof:i,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:s,_context:re},re},nr.createElement=function(re,U,Y){var ne,oe={},de=null;if(U!=null)for(ne in U.key!==void 0&&(de=""+U.key),U)L.call(U,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(oe[ne]=U[ne]);var he=arguments.length-2;if(he===1)oe.children=Y;else if(1<he){for(var Se=Array(he),me=0;me<he;me++)Se[me]=arguments[me+2];oe.children=Se}if(re&&re.defaultProps)for(ne in he=re.defaultProps,he)oe[ne]===void 0&&(oe[ne]=he[ne]);return P(re,de,oe)},nr.createRef=function(){return{current:null}},nr.forwardRef=function(re){return{$$typeof:l,render:re}},nr.isValidElement=F,nr.lazy=function(re){return{$$typeof:d,_payload:{_status:-1,_result:re},_init:ee}},nr.memo=function(re,U){return{$$typeof:u,type:re,compare:U===void 0?null:U}},nr.startTransition=function(re){var U=M.T,Y={};M.T=Y;try{var ne=re(),oe=M.S;oe!==null&&oe(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(I,fe)}catch(de){fe(de)}finally{U!==null&&Y.types!==null&&(U.types=Y.types),M.T=U}},nr.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},nr.use=function(re){return M.H.use(re)},nr.useActionState=function(re,U,Y){return M.H.useActionState(re,U,Y)},nr.useCallback=function(re,U){return M.H.useCallback(re,U)},nr.useContext=function(re){return M.H.useContext(re)},nr.useDebugValue=function(){},nr.useDeferredValue=function(re,U){return M.H.useDeferredValue(re,U)},nr.useEffect=function(re,U){return M.H.useEffect(re,U)},nr.useEffectEvent=function(re){return M.H.useEffectEvent(re)},nr.useId=function(){return M.H.useId()},nr.useImperativeHandle=function(re,U,Y){return M.H.useImperativeHandle(re,U,Y)},nr.useInsertionEffect=function(re,U){return M.H.useInsertionEffect(re,U)},nr.useLayoutEffect=function(re,U){return M.H.useLayoutEffect(re,U)},nr.useMemo=function(re,U){return M.H.useMemo(re,U)},nr.useOptimistic=function(re,U){return M.H.useOptimistic(re,U)},nr.useReducer=function(re,U,Y){return M.H.useReducer(re,U,Y)},nr.useRef=function(re){return M.H.useRef(re)},nr.useState=function(re){return M.H.useState(re)},nr.useSyncExternalStore=function(re,U,Y){return M.H.useSyncExternalStore(re,U,Y)},nr.useTransition=function(){return M.H.useTransition()},nr.version="19.2.0",nr}var bk;function vg(){return bk||(bk=1,J2.exports=Sz()),J2.exports}var S=vg();const $s=Bl(S),jz=Cz({__proto__:null,default:$s},[S]);var Z2={exports:{}},Np={},eC={exports:{}},tC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wk;function Ez(){return wk||(wk=1,(function(r){function e($,te){var ee=$.length;$.push(te);e:for(;0<ee;){var fe=ee-1>>>1,_e=$[fe];if(0<a(_e,te))$[fe]=te,$[ee]=_e,ee=fe;else break e}}function t($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var te=$[0],ee=$.pop();if(ee!==te){$[0]=ee;e:for(var fe=0,_e=$.length,re=_e>>>1;fe<re;){var U=2*(fe+1)-1,Y=$[U],ne=U+1,oe=$[ne];if(0>a(Y,ee))ne<_e&&0>a(oe,Y)?($[fe]=oe,$[ne]=ee,fe=ne):($[fe]=Y,$[U]=ee,fe=U);else if(ne<_e&&0>a(oe,ee))$[fe]=oe,$[ne]=ee,fe=ne;else break e}}return te}function a($,te){var ee=$.sortIndex-te.sortIndex;return ee!==0?ee:$.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();r.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,g=3,p=!1,x=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function k($){for(var te=t(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=$)n(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=t(u)}}function T($){if(y=!1,k($),!x)if(t(c)!==null)x=!0,I||(I=!0,R());else{var te=t(u);te!==null&&X(T,te.startTime-$)}}var I=!1,M=-1,L=5,P=-1;function q(){return b?!0:!(r.unstable_now()-P<L)}function F(){if(b=!1,I){var $=r.unstable_now();P=$;var te=!0;try{e:{x=!1,y&&(y=!1,N(M),M=-1),p=!0;var ee=g;try{t:{for(k($),f=t(c);f!==null&&!(f.expirationTime>$&&q());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,g=f.priorityLevel;var _e=fe(f.expirationTime<=$);if($=r.unstable_now(),typeof _e=="function"){f.callback=_e,k($),te=!0;break t}f===t(c)&&n(c),k($)}else n(c);f=t(c)}if(f!==null)te=!0;else{var re=t(u);re!==null&&X(T,re.startTime-$),te=!1}}break e}finally{f=null,g=ee,p=!1}te=void 0}}finally{te?R():I=!1}}}var R;if(typeof j=="function")R=function(){j(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=F,R=function(){z.postMessage(null)}}else R=function(){w(F,0)};function X($,te){M=w(function(){$(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function($){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ee=g;g=te;try{return $()}finally{g=ee}},r.unstable_requestPaint=function(){b=!0},r.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=g;g=$;try{return te()}finally{g=ee}},r.unstable_scheduleCallback=function($,te,ee){var fe=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,$){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ee+_e,$={id:d++,callback:te,priorityLevel:$,startTime:ee,expirationTime:_e,sortIndex:-1},ee>fe?($.sortIndex=ee,e(u,$),t(c)===null&&$===t(u)&&(y?(N(M),M=-1):y=!0,X(T,ee-fe))):($.sortIndex=_e,e(c,$),x||p||(x=!0,I||(I=!0,R()))),$},r.unstable_shouldYield=q,r.unstable_wrapCallback=function($){var te=g;return function(){var ee=g;g=te;try{return $.apply(this,arguments)}finally{g=ee}}}})(tC)),tC}var Ck;function _z(){return Ck||(Ck=1,eC.exports=Ez()),eC.exports}var rC={exports:{}},Js={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function kz(){if(Bk)return Js;Bk=1;var r=vg();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:c,containerInfo:u,implementation:d}}var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Js.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,d)},Js.flushSync=function(c){var u=i.T,d=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=u,n.p=d,n.d.f()}},Js.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Js.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Js.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,f=l(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:p}):d==="script"&&n.d.X(c,{crossOrigin:f,integrity:g,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Js.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Js.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=l(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Js.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Js.requestFormReset=function(c){n.d.r(c)},Js.unstable_batchedUpdates=function(c,u){return c(u)},Js.useFormState=function(c,u,d){return i.H.useFormState(c,u,d)},Js.useFormStatus=function(){return i.H.useHostTransitionStatus()},Js.version="19.2.0",Js}var Nk;function pD(){if(Nk)return rC.exports;Nk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rC.exports=kz(),rC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function Tz(){if(Sk)return Np;Sk=1;var r=_z(),e=vg(),t=pD();function n(A){var h="https://react.dev/errors/"+A;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+A+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var h=A,m=A;if(A.alternate)for(;h.return;)h=h.return;else{A=h;do h=A,(h.flags&4098)!==0&&(m=h.return),A=h.return;while(A)}return h.tag===3?m:null}function i(A){if(A.tag===13){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function l(A){if(A.tag===31){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function c(A){if(s(A)!==A)throw Error(n(188))}function u(A){var h=A.alternate;if(!h){if(h=s(A),h===null)throw Error(n(188));return h!==A?null:A}for(var m=A,v=h;;){var B=m.return;if(B===null)break;var _=B.alternate;if(_===null){if(v=B.return,v!==null){m=v;continue}break}if(B.child===_.child){for(_=B.child;_;){if(_===m)return c(B),A;if(_===v)return c(B),h;_=_.sibling}throw Error(n(188))}if(m.return!==v.return)m=B,v=_;else{for(var K=!1,ae=B.child;ae;){if(ae===m){K=!0,m=B,v=_;break}if(ae===v){K=!0,v=B,m=_;break}ae=ae.sibling}if(!K){for(ae=_.child;ae;){if(ae===m){K=!0,m=_,v=B;break}if(ae===v){K=!0,v=_,m=B;break}ae=ae.sibling}if(!K)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?A:h}function d(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A;for(A=A.child;A!==null;){if(h=d(A),h!==null)return h;A=A.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function R(A){return A===null||typeof A!="object"?null:(A=F&&A[F]||A["@@iterator"],typeof A=="function"?A:null)}var H=Symbol.for("react.client.reference");function z(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===H?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case y:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case x:return"Portal";case j:return A.displayName||"Context";case N:return(A._context.displayName||"Context")+".Consumer";case k:var h=A.render;return A=A.displayName,A||(A=h.displayName||h.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case M:return h=A.displayName||null,h!==null?h:z(A.type)||"Memo";case L:h=A._payload,A=A._init;try{return z(A(h))}catch{}}return null}var X=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],_e=-1;function re(A){return{current:A}}function U(A){0>_e||(A.current=fe[_e],fe[_e]=null,_e--)}function Y(A,h){_e++,fe[_e]=A.current,A.current=h}var ne=re(null),oe=re(null),de=re(null),he=re(null);function Se(A,h){switch(Y(de,h),Y(oe,A),Y(ne,null),h.nodeType){case 9:case 11:A=(A=h.documentElement)&&(A=A.namespaceURI)?U3(A):0;break;default:if(A=h.tagName,h=h.namespaceURI)h=U3(h),A=R3(h,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}U(ne),Y(ne,A)}function me(){U(ne),U(oe),U(de)}function be(A){A.memoizedState!==null&&Y(he,A);var h=ne.current,m=R3(h,A.type);h!==m&&(Y(oe,A),Y(ne,m))}function ge(A){oe.current===A&&(U(ne),U(oe)),he.current===A&&(U(he),vp._currentValue=ee)}var le,je;function Qe(A){if(le===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);le=h&&h[1]||"",je=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+A+je}var G=!1;function Fe(A,h){if(!A||G)return"";G=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(h){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Me){var Ie=Me}Reflect.construct(A,[],Ge)}else{try{Ge.call()}catch(Me){Ie=Me}A.call(Ge.prototype)}}else{try{throw Error()}catch(Me){Ie=Me}(Ge=A())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Me){if(Me&&Ie&&typeof Me.stack=="string")return[Me.stack,Ie.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=v.DetermineComponentFrameRoot(),K=_[0],ae=_[1];if(K&&ae){var pe=K.split(`
`),Oe=ae.split(`
`);for(B=v=0;v<pe.length&&!pe[v].includes("DetermineComponentFrameRoot");)v++;for(;B<Oe.length&&!Oe[B].includes("DetermineComponentFrameRoot");)B++;if(v===pe.length||B===Oe.length)for(v=pe.length-1,B=Oe.length-1;1<=v&&0<=B&&pe[v]!==Oe[B];)B--;for(;1<=v&&0<=B;v--,B--)if(pe[v]!==Oe[B]){if(v!==1||B!==1)do if(v--,B--,0>B||pe[v]!==Oe[B]){var He=`
`+pe[v].replace(" at new "," at ");return A.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",A.displayName)),He}while(1<=v&&0<=B);break}}}finally{G=!1,Error.prepareStackTrace=m}return(m=A?A.displayName||A.name:"")?Qe(m):""}function Je(A,h){switch(A.tag){case 26:case 27:case 5:return Qe(A.type);case 16:return Qe("Lazy");case 13:return A.child!==h&&h!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return Fe(A.type,!1);case 11:return Fe(A.type.render,!1);case 1:return Fe(A.type,!0);case 31:return Qe("Activity");default:return""}}function et(A){try{var h="",m=null;do h+=Je(A,m),m=A,A=A.return;while(A);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var $e=Object.prototype.hasOwnProperty,bt=r.unstable_scheduleCallback,tt=r.unstable_cancelCallback,mt=r.unstable_shouldYield,Nt=r.unstable_requestPaint,vt=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,Ht=r.unstable_ImmediatePriority,$t=r.unstable_UserBlockingPriority,Kt=r.unstable_NormalPriority,at=r.unstable_LowPriority,Mt=r.unstable_IdlePriority,wt=r.log,Xn=r.unstable_setDisableYieldValue,fr=null,Ut=null;function Wt(A){if(typeof wt=="function"&&Xn(A),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(fr,A)}catch{}}var gr=Math.clz32?Math.clz32:zt,Pt=Math.log,on=Math.LN2;function zt(A){return A>>>=0,A===0?32:31-(Pt(A)/on|0)|0}var Yt=256,Jr=262144,lr=4194304;function jt(A){var h=A&42;if(h!==0)return h;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function jr(A,h,m){var v=A.pendingLanes;if(v===0)return 0;var B=0,_=A.suspendedLanes,K=A.pingedLanes;A=A.warmLanes;var ae=v&134217727;return ae!==0?(v=ae&~_,v!==0?B=jt(v):(K&=ae,K!==0?B=jt(K):m||(m=ae&~A,m!==0&&(B=jt(m))))):(ae=v&~_,ae!==0?B=jt(ae):K!==0?B=jt(K):m||(m=v&~A,m!==0&&(B=jt(m)))),B===0?0:h!==0&&h!==B&&(h&_)===0&&(_=B&-B,m=h&-h,_>=m||_===32&&(m&4194048)!==0)?h:B}function so(A,h){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&h)===0}function us(A,h){switch(A){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var A=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),A}function _i(A){for(var h=[],m=0;31>m;m++)h.push(A);return h}function kt(A,h){A.pendingLanes|=h,h!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function _l(A,h,m,v,B,_){var K=A.pendingLanes;A.pendingLanes=m,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=m,A.entangledLanes&=m,A.errorRecoveryDisabledLanes&=m,A.shellSuspendCounter=0;var ae=A.entanglements,pe=A.expirationTimes,Oe=A.hiddenUpdates;for(m=K&~m;0<m;){var He=31-gr(m),Ge=1<<He;ae[He]=0,pe[He]=-1;var Ie=Oe[He];if(Ie!==null)for(Oe[He]=null,He=0;He<Ie.length;He++){var Me=Ie[He];Me!==null&&(Me.lane&=-536870913)}m&=~Ge}v!==0&&Qo(A,v,0),_!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=_&~(K&~h))}function Qo(A,h,m){A.pendingLanes|=h,A.suspendedLanes&=~h;var v=31-gr(h);A.entangledLanes|=h,A.entanglements[v]=A.entanglements[v]|1073741824|m&261930}function di(A,h){var m=A.entangledLanes|=h;for(A=A.entanglements;m;){var v=31-gr(m),B=1<<v;B&h|A[v]&h&&(A[v]|=h),m&=~B}}function hi(A,h){var m=h&-h;return m=(m&42)!==0?1:Sn(m),(m&(A.suspendedLanes|h))!==0?0:m}function Sn(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function ca(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Ia(){var A=te.p;return A!==0?A:(A=window.event,A===void 0?32:ck(A.type))}function wc(A,h){var m=te.p;try{return te.p=A,h()}finally{te.p=m}}var ks=Math.random().toString(36).slice(2),Zr="__reactFiber$"+ks,_n="__reactProps$"+ks,ds="__reactContainer$"+ks,fi="__reactEvents$"+ks,ki="__reactListeners$"+ks,gA="__reactHandles$"+ks,io="__reactResources$"+ks,oo="__reactMarker$"+ks;function Cc(A){delete A[Zr],delete A[_n],delete A[fi],delete A[ki],delete A[gA]}function lo(A){var h=A[Zr];if(h)return h;for(var m=A.parentNode;m;){if(h=m[ds]||m[Zr]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(A=G3(A);A!==null;){if(m=A[Zr])return m;A=G3(A)}return h}A=m,m=A.parentNode}return null}function co(A){if(A=A[Zr]||A[ds]){var h=A.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return A}return null}function pA(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A.stateNode;throw Error(n(33))}function Ho(A){var h=A[io];return h||(h=A[io]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Jn(A){A[oo]=!0}var $d=new Set,mi={};function Ao(A,h){kl(A,h),kl(A+"Capture",h)}function kl(A,h){for(mi[A]=h,A=0;A<h.length;A++)$d.add(h[A])}var Gd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vd={},Wd={};function Sf(A){return $e.call(Wd,A)?!0:$e.call(Vd,A)?!1:Gd.test(A)?Wd[A]=!0:(Vd[A]=!0,!1)}function gi(A,h,m){if(Sf(h))if(m===null)A.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":A.removeAttribute(h);return;case"boolean":var v=h.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){A.removeAttribute(h);return}}A.setAttribute(h,""+m)}}function Tl(A,h,m){if(m===null)A.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(h);return}A.setAttribute(h,""+m)}}function uo(A,h,m,v){if(v===null)A.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(m);return}A.setAttributeNS(h,m,""+v)}}function Ur(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Yd(A){var h=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ko(A,h,m){var v=Object.getOwnPropertyDescriptor(A.constructor.prototype,h);if(!A.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var B=v.get,_=v.set;return Object.defineProperty(A,h,{configurable:!0,get:function(){return B.call(this)},set:function(K){m=""+K,_.call(this,K)}}),Object.defineProperty(A,h,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(K){m=""+K},stopTracking:function(){A._valueTracker=null,delete A[h]}}}}function Bc(A){if(!A._valueTracker){var h=Yd(A)?"checked":"value";A._valueTracker=Ko(A,h,""+A[h])}}function Xd(A){if(!A)return!1;var h=A._valueTracker;if(!h)return!0;var m=h.getValue(),v="";return A&&(v=Yd(A)?A.checked?"true":"false":A.value),A=v,A!==m?(h.setValue(A),!0):!1}function Ts(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var va=/[\n"\\]/g;function Aa(A){return A.replace(va,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function _u(A,h,m,v,B,_,K,ae){A.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?A.type=K:A.removeAttribute("type"),h!=null?K==="number"?(h===0&&A.value===""||A.value!=h)&&(A.value=""+Ur(h)):A.value!==""+Ur(h)&&(A.value=""+Ur(h)):K!=="submit"&&K!=="reset"||A.removeAttribute("value"),h!=null?Jd(A,K,Ur(h)):m!=null?Jd(A,K,Ur(m)):v!=null&&A.removeAttribute("value"),B==null&&_!=null&&(A.defaultChecked=!!_),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?A.name=""+Ur(ae):A.removeAttribute("name")}function jf(A,h,m,v,B,_,K,ae){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(A.type=_),h!=null||m!=null){if(!(_!=="submit"&&_!=="reset"||h!=null)){Bc(A);return}m=m!=null?""+Ur(m):"",h=h!=null?""+Ur(h):m,ae||h===A.value||(A.value=h),A.defaultValue=h}v=v??B,v=typeof v!="function"&&typeof v!="symbol"&&!!v,A.checked=ae?A.checked:!!v,A.defaultChecked=!!v,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(A.name=K),Bc(A)}function Jd(A,h,m){h==="number"&&Ts(A.ownerDocument)===A||A.defaultValue===""+m||(A.defaultValue=""+m)}function Fs(A,h,m,v){if(A=A.options,h){h={};for(var B=0;B<m.length;B++)h["$"+m[B]]=!0;for(m=0;m<A.length;m++)B=h.hasOwnProperty("$"+A[m].value),A[m].selected!==B&&(A[m].selected=B),B&&v&&(A[m].defaultSelected=!0)}else{for(m=""+Ur(m),h=null,B=0;B<A.length;B++){if(A[B].value===m){A[B].selected=!0,v&&(A[B].defaultSelected=!0);return}h!==null||A[B].disabled||(h=A[B])}h!==null&&(h.selected=!0)}}function Zd(A,h,m){if(h!=null&&(h=""+Ur(h),h!==A.value&&(A.value=h),m==null)){A.defaultValue!==h&&(A.defaultValue=h);return}A.defaultValue=m!=null?""+Ur(m):""}function eh(A,h,m,v){if(h==null){if(v!=null){if(m!=null)throw Error(n(92));if(X(v)){if(1<v.length)throw Error(n(93));v=v[0]}m=v}m==null&&(m=""),h=m}m=Ur(h),A.defaultValue=m,v=A.textContent,v===m&&v!==""&&v!==null&&(A.value=v),Bc(A)}function ho(A,h){if(h){var m=A.firstChild;if(m&&m===A.lastChild&&m.nodeType===3){m.nodeValue=h;return}}A.textContent=h}var yA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ef(A,h,m){var v=h.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?A.setProperty(h,""):h==="float"?A.cssFloat="":A[h]="":v?A.setProperty(h,m):typeof m!="number"||m===0||yA.has(h)?h==="float"?A.cssFloat=m:A[h]=(""+m).trim():A[h]=m+"px"}function _f(A,h,m){if(h!=null&&typeof h!="object")throw Error(n(62));if(A=A.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||h!=null&&h.hasOwnProperty(v)||(v.indexOf("--")===0?A.setProperty(v,""):v==="float"?A.cssFloat="":A[v]="");for(var B in h)v=h[B],h.hasOwnProperty(B)&&m[B]!==v&&Ef(A,B,v)}else for(var _ in h)h.hasOwnProperty(_)&&Ef(A,_,h[_])}function th(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(A){return kf.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function fo(){}var Fl=null;function xA(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Nc=null,Rt=null;function Tf(A){var h=co(A);if(h&&(A=h.stateNode)){var m=A[_n]||null;e:switch(A=h.stateNode,h.type){case"input":if(_u(A,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),h=m.name,m.type==="radio"&&h!=null){for(m=A;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Aa(""+h)+'"][type="radio"]'),h=0;h<m.length;h++){var v=m[h];if(v!==A&&v.form===A.form){var B=v[_n]||null;if(!B)throw Error(n(90));_u(v,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(h=0;h<m.length;h++)v=m[h],v.form===A.form&&Xd(v)}break e;case"textarea":Zd(A,m.value,m.defaultValue);break e;case"select":h=m.value,h!=null&&Fs(A,!!m.multiple,h,!1)}}}var nh=!1;function Ff(A,h,m){if(nh)return A(h,m);nh=!0;try{var v=A(h);return v}finally{if(nh=!1,(Nc!==null||Rt!==null)&&(ex(),Nc&&(h=Nc,A=Rt,Rt=Nc=null,Tf(h),A)))for(h=0;h<A.length;h++)Tf(A[h])}}function pi(A,h){var m=A.stateNode;if(m===null)return null;var v=m[_n]||null;if(v===null)return null;m=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(A=A.type,v=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!v;break e;default:A=!1}if(A)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var $a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=!1;if($a)try{var vA={};Object.defineProperty(vA,"passive",{get:function(){ah=!0}}),window.addEventListener("test",vA,vA),window.removeEventListener("test",vA,vA)}catch{ah=!1}var yi=null,bA=null,zo=null;function Pf(){if(zo)return zo;var A,h=bA,m=h.length,v,B="value"in yi?yi.value:yi.textContent,_=B.length;for(A=0;A<m&&h[A]===B[A];A++);var K=m-A;for(v=1;v<=K&&h[m-v]===B[_-v];v++);return zo=B.slice(A,1<v?1-v:void 0)}function Ti(A){var h=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&h===13&&(A=13)):A=h,A===10&&(A=13),32<=A||A===13?A:0}function ku(){return!0}function Tu(){return!1}function La(A){function h(m,v,B,_,K){this._reactName=m,this._targetInst=B,this.type=v,this.nativeEvent=_,this.target=K,this.currentTarget=null;for(var ae in A)A.hasOwnProperty(ae)&&(m=A[ae],this[ae]=m?m(_):_[ae]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ku:Tu,this.isPropagationStopped=Tu,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),h}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=La(qo),Pl=f({},qo,{view:0,detail:0}),Fu=La(Pl),wA,Ol,Il,CA=f({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gt,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Il&&(Il&&A.type==="mousemove"?(wA=A.screenX-Il.screenX,Ol=A.screenY-Il.screenY):Ol=wA=0,Il=A),wA)},movementY:function(A){return"movementY"in A?A.movementY:Ol}}),sh=La(CA),Ll=f({},CA,{dataTransfer:0}),Dl=La(Ll),Of=f({},Pl,{relatedTarget:0}),Ml=La(Of),If=f({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),O=La(If),V=f({},qo,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),ue=La(V),ye=f({},qo,{data:0}),Be=La(ye),Ke={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ct(A){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(A):(A=ht[A])?!!h[A]:!1}function Gt(){return Ct}var tr=f({},Pl,{key:function(A){if(A.key){var h=Ke[A.key]||A.key;if(h!=="Unidentified")return h}return A.type==="keypress"?(A=Ti(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Ye[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gt,charCode:function(A){return A.type==="keypress"?Ti(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Ti(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Er=La(tr),kn=f({},CA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zn=La(kn),ln=f({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gt}),ba=La(ln),ua=f({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ga=La(ua),Ul=f({},CA,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=La(Ul),Rl=f({},qo,{newState:0,oldState:0}),ih=La(Rl),Pu=[9,13,27,32],$o=$a&&"CompositionEvent"in window,go=null;$a&&"documentMode"in document&&(go=document.documentMode);var BA=$a&&"TextEvent"in window&&!go,Ql=$a&&(!$o||go&&8<go&&11>=go),Da=" ",Sc=!1;function jc(A,h){switch(A){case"keyup":return Pu.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Go=!1;function Ps(A,h){switch(A){case"compositionend":return Ou(h);case"keypress":return h.which!==32?null:(Sc=!0,Da);case"textInput":return A=h.data,A===Da&&Sc?null:A;default:return null}}function Hl(A,h){if(Go)return A==="compositionend"||!$o&&jc(A,h)?(A=Pf(),zo=bA=yi=null,Go=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ql&&h.locale!=="ko"?null:h.data;default:return null}}var Iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h==="input"?!!Iu[A.type]:h==="textarea"}function xi(A,h,m,v){Nc?Rt?Rt.push(v):Rt=[v]:Nc=v,h=ox(h,"onChange"),0<h.length&&(m=new Fi("onChange","change",null,m,v),A.push({event:m,listeners:h}))}var po=null,Kl=null;function lh(A){P3(A,0)}function yo(A){var h=pA(A);if(Xd(h))return A}function Ec(A,h){if(A==="change")return h}var Ys=!1;if($a){var Os;if($a){var Vo="oninput"in document;if(!Vo){var Wo=document.createElement("div");Wo.setAttribute("oninput","return;"),Vo=typeof Wo.oninput=="function"}Os=Vo}else Os=!1;Ys=Os&&(!document.documentMode||9<document.documentMode)}function zl(){po&&(po.detachEvent("onpropertychange",Lu),Kl=po=null)}function Lu(A){if(A.propertyName==="value"&&yo(Kl)){var h=[];xi(h,Kl,A,xA(A)),Ff(lh,h)}}function Du(A,h,m){A==="focusin"?(zl(),po=h,Kl=m,po.attachEvent("onpropertychange",Lu)):A==="focusout"&&zl()}function ea(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return yo(Kl)}function Lf(A,h){if(A==="click")return yo(h)}function Yo(A,h){if(A==="input"||A==="change")return yo(h)}function Xo(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var Va=typeof Object.is=="function"?Object.is:Xo;function ql(A,h){if(Va(A,h))return!0;if(typeof A!="object"||A===null||typeof h!="object"||h===null)return!1;var m=Object.keys(A),v=Object.keys(h);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var B=m[v];if(!$e.call(h,B)||!Va(A[B],h[B]))return!1}return!0}function Mu(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Uu(A,h){var m=Mu(A);A=0;for(var v;m;){if(m.nodeType===3){if(v=A+m.textContent.length,A<=h&&v>=h)return{node:m,offset:h-A};A=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Mu(m)}}function $l(A,h){return A&&h?A===h?!0:A&&A.nodeType===3?!1:h&&h.nodeType===3?$l(A,h.parentNode):"contains"in A?A.contains(h):A.compareDocumentPosition?!!(A.compareDocumentPosition(h)&16):!1:!1}function Gl(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var h=Ts(A.document);h instanceof A.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)A=h.contentWindow;else break;h=Ts(A.document)}return h}function Jo(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h&&(h==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||h==="textarea"||A.contentEditable==="true")}var NA=$a&&"documentMode"in document&&11>=document.documentMode,vi=null,Vl=null,hs=null,Pi=!1;function Rr(A,h,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Pi||vi==null||vi!==Ts(v)||(v=vi,"selectionStart"in v&&Jo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),hs&&ql(hs,v)||(hs=v,v=ox(Vl,"onSelect"),0<v.length&&(h=new Fi("onSelect","select",null,h,m),A.push({event:h,listeners:v}),h.target=vi)))}function _r(A,h){var m={};return m[A.toLowerCase()]=h.toLowerCase(),m["Webkit"+A]="webkit"+h,m["Moz"+A]="moz"+h,m}var cn={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},ta={},Zo={};$a&&(Zo=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function xo(A){if(ta[A])return ta[A];if(!cn[A])return A;var h=cn[A],m;for(m in h)if(h.hasOwnProperty(m)&&m in Zo)return ta[A]=h[m];return A}var SA=xo("animationend"),ch=xo("animationiteration"),Kg=xo("animationstart"),ky=xo("transitionrun"),Ty=xo("transitionstart"),Fy=xo("transitioncancel"),zg=xo("transitionend"),qg=new Map,jA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jA.push("scrollEnd");function Oi(A,h){qg.set(A,h),Ao(h,[A])}var Ah=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},bi=[],EA=0,Df=0;function uh(){for(var A=EA,h=Df=EA=0;h<A;){var m=bi[h];bi[h++]=null;var v=bi[h];bi[h++]=null;var B=bi[h];bi[h++]=null;var _=bi[h];if(bi[h++]=null,v!==null&&B!==null){var K=v.pending;K===null?B.next=B:(B.next=K.next,K.next=B),v.pending=B}_!==0&&hh(m,B,_)}}function dh(A,h,m,v){bi[EA++]=A,bi[EA++]=h,bi[EA++]=m,bi[EA++]=v,Df|=v,A.lanes|=v,A=A.alternate,A!==null&&(A.lanes|=v)}function Mf(A,h,m,v){return dh(A,h,m,v),fs(A)}function Wl(A,h){return dh(A,null,null,h),fs(A)}function hh(A,h,m){A.lanes|=m;var v=A.alternate;v!==null&&(v.lanes|=m);for(var B=!1,_=A.return;_!==null;)_.childLanes|=m,v=_.alternate,v!==null&&(v.childLanes|=m),_.tag===22&&(A=_.stateNode,A===null||A._visibility&1||(B=!0)),A=_,_=_.return;return A.tag===3?(_=A.stateNode,B&&h!==null&&(B=31-gr(m),A=_.hiddenUpdates,v=A[B],v===null?A[B]=[h]:v.push(h),h.lane=m|536870912),_):null}function fs(A){if(50<hp)throw hp=0,v2=null,Error(n(185));for(var h=A.return;h!==null;)A=h,h=A.return;return A.tag===3?A.stateNode:null}var Wa={};function Uf(A,h,m,v){this.tag=A,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(A,h,m,v){return new Uf(A,h,m,v)}function Rf(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Ii(A,h){var m=A.alternate;return m===null?(m=ms(A.tag,h,A.key,A.mode),m.elementType=A.elementType,m.type=A.type,m.stateNode=A.stateNode,m.alternate=A,A.alternate=m):(m.pendingProps=h,m.type=A.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=A.flags&65011712,m.childLanes=A.childLanes,m.lanes=A.lanes,m.child=A.child,m.memoizedProps=A.memoizedProps,m.memoizedState=A.memoizedState,m.updateQueue=A.updateQueue,h=A.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=A.sibling,m.index=A.index,m.ref=A.ref,m.refCleanup=A.refCleanup,m}function fh(A,h){A.flags&=65011714;var m=A.alternate;return m===null?(A.childLanes=0,A.lanes=h,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,A.type=m.type,h=m.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),A}function Ru(A,h,m,v,B,_){var K=0;if(v=A,typeof A=="function")Rf(A)&&(K=1);else if(typeof A=="string")K=uz(A,m,ne.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case P:return A=ms(31,m,h,B),A.elementType=P,A.lanes=_,A;case y:return _c(m.children,B,_,h);case b:K=8,B|=24;break;case w:return A=ms(12,m,h,B|2),A.elementType=w,A.lanes=_,A;case T:return A=ms(13,m,h,B),A.elementType=T,A.lanes=_,A;case I:return A=ms(19,m,h,B),A.elementType=I,A.lanes=_,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case j:K=10;break e;case N:K=9;break e;case k:K=11;break e;case M:K=14;break e;case L:K=16,v=null;break e}K=29,m=Error(n(130,A===null?"null":typeof A,"")),v=null}return h=ms(K,m,h,B),h.elementType=A,h.type=v,h.lanes=_,h}function _c(A,h,m,v){return A=ms(7,A,v,h),A.lanes=m,A}function mh(A,h,m){return A=ms(6,A,null,h),A.lanes=m,A}function Qf(A){var h=ms(18,null,null,0);return h.stateNode=A,h}function Qu(A,h,m){return h=ms(4,A.children!==null?A.children:[],A.key,h),h.lanes=m,h.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},h}var Hf=new WeakMap;function Li(A,h){if(typeof A=="object"&&A!==null){var m=Hf.get(A);return m!==void 0?m:(h={value:A,source:h,stack:et(h)},Hf.set(A,h),h)}return{value:A,source:h,stack:et(h)}}var Hu=[],_A=0,Kf=null,gh=0,Di=[],Mi=0,kc=null,Ui=1,Ri="";function wi(A,h){Hu[_A++]=gh,Hu[_A++]=Kf,Kf=A,gh=h}function Py(A,h,m){Di[Mi++]=Ui,Di[Mi++]=Ri,Di[Mi++]=kc,kc=A;var v=Ui;A=Ri;var B=32-gr(v)-1;v&=~(1<<B),m+=1;var _=32-gr(h)+B;if(30<_){var K=B-B%5;_=(v&(1<<K)-1).toString(32),v>>=K,B-=K,Ui=1<<32-gr(h)+B|m<<B|v,Ri=_+A}else Ui=1<<_|m<<B|v,Ri=A}function $g(A){A.return!==null&&(wi(A,1),Py(A,1,0))}function zf(A){for(;A===Kf;)Kf=Hu[--_A],Hu[_A]=null,gh=Hu[--_A],Hu[_A]=null;for(;A===kc;)kc=Di[--Mi],Di[Mi]=null,Ri=Di[--Mi],Di[Mi]=null,Ui=Di[--Mi],Di[Mi]=null}function Oy(A,h){Di[Mi++]=Ui,Di[Mi++]=Ri,Di[Mi++]=kc,Ui=h.id,Ri=h.overflow,kc=A}var Ya=null,yn=null,yr=!1,Is=null,Mn=!1,vo=Error(n(519));function Tc(A){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ku(Li(h,A)),vo}function Gg(A){var h=A.stateNode,m=A.type,v=A.memoizedProps;switch(h[Zr]=A,h[_n]=v,m){case"dialog":vr("cancel",h),vr("close",h);break;case"iframe":case"object":case"embed":vr("load",h);break;case"video":case"audio":for(m=0;m<mp.length;m++)vr(mp[m],h);break;case"source":vr("error",h);break;case"img":case"image":case"link":vr("error",h),vr("load",h);break;case"details":vr("toggle",h);break;case"input":vr("invalid",h),jf(h,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":vr("invalid",h);break;case"textarea":vr("invalid",h),eh(h,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||h.textContent===""+m||v.suppressHydrationWarning===!0||D3(h.textContent,m)?(v.popover!=null&&(vr("beforetoggle",h),vr("toggle",h)),v.onScroll!=null&&vr("scroll",h),v.onScrollEnd!=null&&vr("scrollend",h),v.onClick!=null&&(h.onclick=fo),h=!0):h=!1,h||Tc(A,!0)}function Yl(A){for(Ya=A.return;Ya;)switch(Ya.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ya=Ya.return}}function Xa(A){if(A!==Ya)return!1;if(!yr)return Yl(A),yr=!0,!1;var h=A.tag,m;if((m=h!==3&&h!==27)&&((m=h===5)&&(m=A.type,m=!(m!=="form"&&m!=="button")||I2(A.type,A.memoizedProps)),m=!m),m&&yn&&Tc(A),Yl(A),h===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));yn=$3(A)}else if(h===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));yn=$3(A)}else h===27?(h=yn,nd(A.type)?(A=R2,R2=null,yn=A):yn=h):yn=Ya?nl(A.stateNode.nextSibling):null;return!0}function kA(){yn=Ya=null,yr=!1}function Vg(){var A=Is;return A!==null&&($i===null?$i=A:$i.push.apply($i,A),Is=null),A}function Ku(A){Is===null?Is=[A]:Is.push(A)}var qf=re(null),Fc=null,el=null;function Pc(A,h,m){Y(qf,h._currentValue),h._currentValue=m}function Qi(A){A._currentValue=qf.current,U(qf)}function zu(A,h,m){for(;A!==null;){var v=A.alternate;if((A.childLanes&h)!==h?(A.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),A===m)break;A=A.return}}function TA(A,h,m,v){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var _=B.dependencies;if(_!==null){var K=B.child;_=_.firstContext;e:for(;_!==null;){var ae=_;_=B;for(var pe=0;pe<h.length;pe++)if(ae.context===h[pe]){_.lanes|=m,ae=_.alternate,ae!==null&&(ae.lanes|=m),zu(_.return,m,A),v||(K=null);break e}_=ae.next}}else if(B.tag===18){if(K=B.return,K===null)throw Error(n(341));K.lanes|=m,_=K.alternate,_!==null&&(_.lanes|=m),zu(K,m,A),K=null}else K=B.child;if(K!==null)K.return=B;else for(K=B;K!==null;){if(K===A){K=null;break}if(B=K.sibling,B!==null){B.return=K.return,K=B;break}K=K.return}B=K}}function Oc(A,h,m,v){A=null;for(var B=h,_=!1;B!==null;){if(!_){if((B.flags&524288)!==0)_=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var K=B.alternate;if(K===null)throw Error(n(387));if(K=K.memoizedProps,K!==null){var ae=B.type;Va(B.pendingProps.value,K.value)||(A!==null?A.push(ae):A=[ae])}}else if(B===he.current){if(K=B.alternate,K===null)throw Error(n(387));K.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(vp):A=[vp])}B=B.return}A!==null&&TA(h,A,m,v),h.flags|=262144}function $f(A){for(A=A.firstContext;A!==null;){if(!Va(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Ic(A){Fc=A,el=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Ja(A){return Iy(Fc,A)}function Gf(A,h){return Fc===null&&Ic(A),Iy(A,h)}function Iy(A,h){var m=h._currentValue;if(h={context:h,memoizedValue:m,next:null},el===null){if(A===null)throw Error(n(308));el=h,A.dependencies={lanes:0,firstContext:h},A.flags|=524288}else el=el.next=h;return m}var U1=typeof AbortController<"u"?AbortController:function(){var A=[],h=this.signal={aborted:!1,addEventListener:function(m,v){A.push(v)}};this.abort=function(){h.aborted=!0,A.forEach(function(m){return m()})}},R1=r.unstable_scheduleCallback,Q1=r.unstable_NormalPriority,ra={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new U1,data:new Map,refCount:0}}function ph(A){A.refCount--,A.refCount===0&&R1(Q1,function(){A.controller.abort()})}var yh=null,Vf=0,C=0,E=null;function D(A,h){if(yh===null){var m=yh=[];Vf=0,C=S2(),E={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Vf++,h.then(Q,Q),h}function Q(){if(--Vf===0&&yh!==null){E!==null&&(E.status="fulfilled");var A=yh;yh=null,C=0,E=null;for(var h=0;h<A.length;h++)(0,A[h])()}}function W(A,h){var m=[],v={status:"pending",value:null,reason:null,then:function(B){m.push(B)}};return A.then(function(){v.status="fulfilled",v.value=h;for(var B=0;B<m.length;B++)(0,m[B])(h)},function(B){for(v.status="rejected",v.reason=B,B=0;B<m.length;B++)(0,m[B])(void 0)}),v}var J=$.S;$.S=function(A,h){o3=vt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&D(A,h),J!==null&&J(A,h)};var Z=re(null);function se(){var A=Z.current;return A!==null?A:vn.pooledCache}function ie(A,h){h===null?Y(Z,Z.current):Y(Z,h.pool)}function Ae(){var A=se();return A===null?null:{parent:ra._currentValue,pool:A}}var xe=Error(n(460)),Te=Error(n(474)),ce=Error(n(542)),we={then:function(){}};function Ee(A){return A=A.status,A==="fulfilled"||A==="rejected"}function Re(A,h,m){switch(m=A[m],m===void 0?A.push(h):m!==h&&(h.then(fo,fo),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,Xe(A),A;default:if(typeof h.status=="string")h.then(fo,fo);else{if(A=vn,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=h,A.status="pending",A.then(function(v){if(h.status==="pending"){var B=h;B.status="fulfilled",B.value=v}},function(v){if(h.status==="pending"){var B=h;B.status="rejected",B.reason=v}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,Xe(A),A}throw Ue=h,xe}}function ke(A){try{var h=A._init;return h(A._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ue=m,xe):m}}var Ue=null;function ze(){if(Ue===null)throw Error(n(459));var A=Ue;return Ue=null,A}function Xe(A){if(A===xe||A===ce)throw Error(n(483))}var We=null,gt=0;function it(A){var h=gt;return gt+=1,We===null&&(We=[]),Re(We,A,h)}function Xt(A,h){h=h.props.ref,A.ref=h!==void 0?h:null}function ct(A,h){throw h.$$typeof===g?Error(n(525)):(A=Object.prototype.toString.call(h),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":A)))}function pr(A){function h(Ne,ve){if(A){var Pe=Ne.deletions;Pe===null?(Ne.deletions=[ve],Ne.flags|=16):Pe.push(ve)}}function m(Ne,ve){if(!A)return null;for(;ve!==null;)h(Ne,ve),ve=ve.sibling;return null}function v(Ne){for(var ve=new Map;Ne!==null;)Ne.key!==null?ve.set(Ne.key,Ne):ve.set(Ne.index,Ne),Ne=Ne.sibling;return ve}function B(Ne,ve){return Ne=Ii(Ne,ve),Ne.index=0,Ne.sibling=null,Ne}function _(Ne,ve,Pe){return Ne.index=Pe,A?(Pe=Ne.alternate,Pe!==null?(Pe=Pe.index,Pe<ve?(Ne.flags|=67108866,ve):Pe):(Ne.flags|=67108866,ve)):(Ne.flags|=1048576,ve)}function K(Ne){return A&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function ae(Ne,ve,Pe,qe){return ve===null||ve.tag!==6?(ve=mh(Pe,Ne.mode,qe),ve.return=Ne,ve):(ve=B(ve,Pe),ve.return=Ne,ve)}function pe(Ne,ve,Pe,qe){var It=Pe.type;return It===y?He(Ne,ve,Pe.props.children,qe,Pe.key):ve!==null&&(ve.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===L&&ke(It)===ve.type)?(ve=B(ve,Pe.props),Xt(ve,Pe),ve.return=Ne,ve):(ve=Ru(Pe.type,Pe.key,Pe.props,null,Ne.mode,qe),Xt(ve,Pe),ve.return=Ne,ve)}function Oe(Ne,ve,Pe,qe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Pe.containerInfo||ve.stateNode.implementation!==Pe.implementation?(ve=Qu(Pe,Ne.mode,qe),ve.return=Ne,ve):(ve=B(ve,Pe.children||[]),ve.return=Ne,ve)}function He(Ne,ve,Pe,qe,It){return ve===null||ve.tag!==7?(ve=_c(Pe,Ne.mode,qe,It),ve.return=Ne,ve):(ve=B(ve,Pe),ve.return=Ne,ve)}function Ge(Ne,ve,Pe){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=mh(""+ve,Ne.mode,Pe),ve.return=Ne,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case p:return Pe=Ru(ve.type,ve.key,ve.props,null,Ne.mode,Pe),Xt(Pe,ve),Pe.return=Ne,Pe;case x:return ve=Qu(ve,Ne.mode,Pe),ve.return=Ne,ve;case L:return ve=ke(ve),Ge(Ne,ve,Pe)}if(X(ve)||R(ve))return ve=_c(ve,Ne.mode,Pe,null),ve.return=Ne,ve;if(typeof ve.then=="function")return Ge(Ne,it(ve),Pe);if(ve.$$typeof===j)return Ge(Ne,Gf(Ne,ve),Pe);ct(Ne,ve)}return null}function Ie(Ne,ve,Pe,qe){var It=ve!==null?ve.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return It!==null?null:ae(Ne,ve,""+Pe,qe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case p:return Pe.key===It?pe(Ne,ve,Pe,qe):null;case x:return Pe.key===It?Oe(Ne,ve,Pe,qe):null;case L:return Pe=ke(Pe),Ie(Ne,ve,Pe,qe)}if(X(Pe)||R(Pe))return It!==null?null:He(Ne,ve,Pe,qe,null);if(typeof Pe.then=="function")return Ie(Ne,ve,it(Pe),qe);if(Pe.$$typeof===j)return Ie(Ne,ve,Gf(Ne,Pe),qe);ct(Ne,Pe)}return null}function Me(Ne,ve,Pe,qe,It){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ne=Ne.get(Pe)||null,ae(ve,Ne,""+qe,It);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case p:return Ne=Ne.get(qe.key===null?Pe:qe.key)||null,pe(ve,Ne,qe,It);case x:return Ne=Ne.get(qe.key===null?Pe:qe.key)||null,Oe(ve,Ne,qe,It);case L:return qe=ke(qe),Me(Ne,ve,Pe,qe,It)}if(X(qe)||R(qe))return Ne=Ne.get(Pe)||null,He(ve,Ne,qe,It,null);if(typeof qe.then=="function")return Me(Ne,ve,Pe,it(qe),It);if(qe.$$typeof===j)return Me(Ne,ve,Pe,Gf(ve,qe),It);ct(ve,qe)}return null}function ft(Ne,ve,Pe,qe){for(var It=null,Hr=null,Bt=ve,ur=ve=0,Cr=null;Bt!==null&&ur<Pe.length;ur++){Bt.index>ur?(Cr=Bt,Bt=null):Cr=Bt.sibling;var Kr=Ie(Ne,Bt,Pe[ur],qe);if(Kr===null){Bt===null&&(Bt=Cr);break}A&&Bt&&Kr.alternate===null&&h(Ne,Bt),ve=_(Kr,ve,ur),Hr===null?It=Kr:Hr.sibling=Kr,Hr=Kr,Bt=Cr}if(ur===Pe.length)return m(Ne,Bt),yr&&wi(Ne,ur),It;if(Bt===null){for(;ur<Pe.length;ur++)Bt=Ge(Ne,Pe[ur],qe),Bt!==null&&(ve=_(Bt,ve,ur),Hr===null?It=Bt:Hr.sibling=Bt,Hr=Bt);return yr&&wi(Ne,ur),It}for(Bt=v(Bt);ur<Pe.length;ur++)Cr=Me(Bt,Ne,ur,Pe[ur],qe),Cr!==null&&(A&&Cr.alternate!==null&&Bt.delete(Cr.key===null?ur:Cr.key),ve=_(Cr,ve,ur),Hr===null?It=Cr:Hr.sibling=Cr,Hr=Cr);return A&&Bt.forEach(function(ld){return h(Ne,ld)}),yr&&wi(Ne,ur),It}function qt(Ne,ve,Pe,qe){if(Pe==null)throw Error(n(151));for(var It=null,Hr=null,Bt=ve,ur=ve=0,Cr=null,Kr=Pe.next();Bt!==null&&!Kr.done;ur++,Kr=Pe.next()){Bt.index>ur?(Cr=Bt,Bt=null):Cr=Bt.sibling;var ld=Ie(Ne,Bt,Kr.value,qe);if(ld===null){Bt===null&&(Bt=Cr);break}A&&Bt&&ld.alternate===null&&h(Ne,Bt),ve=_(ld,ve,ur),Hr===null?It=ld:Hr.sibling=ld,Hr=ld,Bt=Cr}if(Kr.done)return m(Ne,Bt),yr&&wi(Ne,ur),It;if(Bt===null){for(;!Kr.done;ur++,Kr=Pe.next())Kr=Ge(Ne,Kr.value,qe),Kr!==null&&(ve=_(Kr,ve,ur),Hr===null?It=Kr:Hr.sibling=Kr,Hr=Kr);return yr&&wi(Ne,ur),It}for(Bt=v(Bt);!Kr.done;ur++,Kr=Pe.next())Kr=Me(Bt,Ne,ur,Kr.value,qe),Kr!==null&&(A&&Kr.alternate!==null&&Bt.delete(Kr.key===null?ur:Kr.key),ve=_(Kr,ve,ur),Hr===null?It=Kr:Hr.sibling=Kr,Hr=Kr);return A&&Bt.forEach(function(wz){return h(Ne,wz)}),yr&&wi(Ne,ur),It}function hn(Ne,ve,Pe,qe){if(typeof Pe=="object"&&Pe!==null&&Pe.type===y&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case p:e:{for(var It=Pe.key;ve!==null;){if(ve.key===It){if(It=Pe.type,It===y){if(ve.tag===7){m(Ne,ve.sibling),qe=B(ve,Pe.props.children),qe.return=Ne,Ne=qe;break e}}else if(ve.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===L&&ke(It)===ve.type){m(Ne,ve.sibling),qe=B(ve,Pe.props),Xt(qe,Pe),qe.return=Ne,Ne=qe;break e}m(Ne,ve);break}else h(Ne,ve);ve=ve.sibling}Pe.type===y?(qe=_c(Pe.props.children,Ne.mode,qe,Pe.key),qe.return=Ne,Ne=qe):(qe=Ru(Pe.type,Pe.key,Pe.props,null,Ne.mode,qe),Xt(qe,Pe),qe.return=Ne,Ne=qe)}return K(Ne);case x:e:{for(It=Pe.key;ve!==null;){if(ve.key===It)if(ve.tag===4&&ve.stateNode.containerInfo===Pe.containerInfo&&ve.stateNode.implementation===Pe.implementation){m(Ne,ve.sibling),qe=B(ve,Pe.children||[]),qe.return=Ne,Ne=qe;break e}else{m(Ne,ve);break}else h(Ne,ve);ve=ve.sibling}qe=Qu(Pe,Ne.mode,qe),qe.return=Ne,Ne=qe}return K(Ne);case L:return Pe=ke(Pe),hn(Ne,ve,Pe,qe)}if(X(Pe))return ft(Ne,ve,Pe,qe);if(R(Pe)){if(It=R(Pe),typeof It!="function")throw Error(n(150));return Pe=It.call(Pe),qt(Ne,ve,Pe,qe)}if(typeof Pe.then=="function")return hn(Ne,ve,it(Pe),qe);if(Pe.$$typeof===j)return hn(Ne,ve,Gf(Ne,Pe),qe);ct(Ne,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,ve!==null&&ve.tag===6?(m(Ne,ve.sibling),qe=B(ve,Pe),qe.return=Ne,Ne=qe):(m(Ne,ve),qe=mh(Pe,Ne.mode,qe),qe.return=Ne,Ne=qe),K(Ne)):m(Ne,ve)}return function(Ne,ve,Pe,qe){try{gt=0;var It=hn(Ne,ve,Pe,qe);return We=null,It}catch(Bt){if(Bt===xe||Bt===ce)throw Bt;var Hr=ms(29,Bt,null,Ne.mode);return Hr.lanes=qe,Hr.return=Ne,Hr}finally{}}}var xn=pr(!0),rr=pr(!1),ot=!1;function Ze(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tn(A,h){A=A.updateQueue,h.updateQueue===A&&(h.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Qt(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function cr(A,h,m){var v=A.updateQueue;if(v===null)return null;if(v=v.shared,(Vr&2)!==0){var B=v.pending;return B===null?h.next=h:(h.next=B.next,B.next=h),v.pending=h,h=fs(A),hh(A,null,m),h}return dh(A,v,h,m),fs(A)}function $r(A,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194048)!==0)){var v=h.lanes;v&=A.pendingLanes,m|=v,h.lanes=m,di(A,m)}}function wa(A,h){var m=A.updateQueue,v=A.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var B=null,_=null;if(m=m.firstBaseUpdate,m!==null){do{var K={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};_===null?B=_=K:_=_.next=K,m=m.next}while(m!==null);_===null?B=_=h:_=_.next=h}else B=_=h;m={baseState:v.baseState,firstBaseUpdate:B,lastBaseUpdate:_,shared:v.shared,callbacks:v.callbacks},A.updateQueue=m;return}A=m.lastBaseUpdate,A===null?m.firstBaseUpdate=h:A.next=h,m.lastBaseUpdate=h}var Za=!1;function An(){if(Za){var A=E;if(A!==null)throw A}}function da(A,h,m,v){Za=!1;var B=A.updateQueue;ot=!1;var _=B.firstBaseUpdate,K=B.lastBaseUpdate,ae=B.shared.pending;if(ae!==null){B.shared.pending=null;var pe=ae,Oe=pe.next;pe.next=null,K===null?_=Oe:K.next=Oe,K=pe;var He=A.alternate;He!==null&&(He=He.updateQueue,ae=He.lastBaseUpdate,ae!==K&&(ae===null?He.firstBaseUpdate=Oe:ae.next=Oe,He.lastBaseUpdate=pe))}if(_!==null){var Ge=B.baseState;K=0,He=Oe=pe=null,ae=_;do{var Ie=ae.lane&-536870913,Me=Ie!==ae.lane;if(Me?(wr&Ie)===Ie:(v&Ie)===Ie){Ie!==0&&Ie===C&&(Za=!0),He!==null&&(He=He.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var ft=A,qt=ae;Ie=h;var hn=m;switch(qt.tag){case 1:if(ft=qt.payload,typeof ft=="function"){Ge=ft.call(hn,Ge,Ie);break e}Ge=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=qt.payload,Ie=typeof ft=="function"?ft.call(hn,Ge,Ie):ft,Ie==null)break e;Ge=f({},Ge,Ie);break e;case 2:ot=!0}}Ie=ae.callback,Ie!==null&&(A.flags|=64,Me&&(A.flags|=8192),Me=B.callbacks,Me===null?B.callbacks=[Ie]:Me.push(Ie))}else Me={lane:Ie,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},He===null?(Oe=He=Me,pe=Ge):He=He.next=Me,K|=Ie;if(ae=ae.next,ae===null){if(ae=B.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,B.lastBaseUpdate=Me,B.shared.pending=null}}while(!0);He===null&&(pe=Ge),B.baseState=pe,B.firstBaseUpdate=Oe,B.lastBaseUpdate=He,_===null&&(B.shared.lanes=0),Ju|=K,A.lanes=K,A.memoizedState=Ge}}function gs(A,h){if(typeof A!="function")throw Error(n(191,A));A.call(h)}function ha(A,h){var m=A.callbacks;if(m!==null)for(A.callbacks=null,A=0;A<m.length;A++)gs(m[A],h)}var hr=re(null),Pr=re(0);function Fn(A,h){A=QA,Y(Pr,A),Y(hr,h),QA=A|h.baseLanes}function Qr(){Y(Pr,QA),Y(hr,hr.current)}function Ca(){QA=Pr.current,U(hr),U(Pr)}var Pn=re(null),Or=null;function na(A){var h=A.alternate;Y(kr,kr.current&1),Y(Pn,A),Or===null&&(h===null||hr.current!==null||h.memoizedState!==null)&&(Or=A)}function Gr(A){Y(kr,kr.current),Y(Pn,A),Or===null&&(Or=A)}function fa(A){A.tag===22?(Y(kr,kr.current),Y(Pn,A),Or===null&&(Or=A)):ma()}function ma(){Y(kr,kr.current),Y(Pn,Pn.current)}function en(A){U(Pn),Or===A&&(Or=null),U(kr)}var kr=re(0);function ps(A){for(var h=A;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||M2(m)||U2(m)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Un=0,Tt=null,Ot=null,Ir=null,Xs=!1,Hi=!1,Ls=!1,ga=0,Lc=0,Dc=null,Wf=0;function un(){throw Error(n(321))}function Wg(A,h){if(h===null)return!1;for(var m=0;m<h.length&&m<A.length;m++)if(!Va(A[m],h[m]))return!1;return!0}function Yg(A,h,m,v,B,_){return Un=_,Tt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,$.H=A===null||A.memoizedState===null?y_:W1,Ls=!1,_=m(v,B),Ls=!1,Hi&&(_=Xl(h,m,v,B)),Yf(A),_}function Yf(A){$.H=ap;var h=Ot!==null&&Ot.next!==null;if(Un=0,Ir=Ot=Tt=null,Xs=!1,Lc=0,Dc=null,h)throw Error(n(300));A===null||Ua||(A=A.dependencies,A!==null&&$f(A)&&(Ua=!0))}function Xl(A,h,m,v){Tt=A;var B=0;do{if(Hi&&(Dc=null),Lc=0,Hi=!1,25<=B)throw Error(n(301));if(B+=1,Ir=Ot=null,A.updateQueue!=null){var _=A.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=x_,_=h(m,v)}while(Hi);return _}function H1(){var A=$.H,h=A.useState()[0];return h=typeof h.then=="function"?Mc(h):h,A=A.useState()[0],(Ot!==null?Ot.memoizedState:null)!==A&&(Tt.flags|=1024),h}function Xg(){var A=ga!==0;return ga=0,A}function Jg(A,h,m){h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~m}function Xf(A){if(Xs){for(A=A.memoizedState;A!==null;){var h=A.queue;h!==null&&(h.pending=null),A=A.next}Xs=!1}Un=0,Ir=Ot=Tt=null,Hi=!1,Lc=ga=0,Dc=null}function Ma(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?Tt.memoizedState=Ir=A:Ir=Ir.next=A,Ir}function Rn(){if(Ot===null){var A=Tt.alternate;A=A!==null?A.memoizedState:null}else A=Ot.next;var h=Ir===null?Tt.memoizedState:Ir.next;if(h!==null)Ir=h,Ot=A;else{if(A===null)throw Tt.alternate===null?Error(n(467)):Error(n(310));Ot=A,A={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ir===null?Tt.memoizedState=Ir=A:Ir=Ir.next=A}return Ir}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mc(A){var h=Lc;return Lc+=1,Dc===null&&(Dc=[]),A=Re(Dc,A,h),h=Tt,(Ir===null?h.memoizedState:Ir.next)===null&&(h=h.alternate,$.H=h===null||h.memoizedState===null?y_:W1),A}function $u(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Mc(A);if(A.$$typeof===j)return Ja(A)}throw Error(n(438,String(A)))}function FA(A){var h=null,m=Tt.updateQueue;if(m!==null&&(h=m.memoCache),h==null){var v=Tt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(h={data:v.data.map(function(B){return B.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),m===null&&(m=xh(),Tt.updateQueue=m),m.memoCache=h,m=h.data[h.index],m===void 0)for(m=h.data[h.index]=Array(A),v=0;v<A;v++)m[v]=q;return h.index++,m}function tl(A,h){return typeof h=="function"?h(A):h}function Jf(A){var h=Rn();return Gu(h,Ot,A)}function Gu(A,h,m){var v=A.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=m;var B=A.baseQueue,_=v.pending;if(_!==null){if(B!==null){var K=B.next;B.next=_.next,_.next=K}h.baseQueue=B=_,v.pending=null}if(_=A.baseState,B===null)A.memoizedState=_;else{h=B.next;var ae=K=null,pe=null,Oe=h,He=!1;do{var Ge=Oe.lane&-536870913;if(Ge!==Oe.lane?(wr&Ge)===Ge:(Un&Ge)===Ge){var Ie=Oe.revertLane;if(Ie===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ge===C&&(He=!0);else if((Un&Ie)===Ie){Oe=Oe.next,Ie===C&&(He=!0);continue}else Ge={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},pe===null?(ae=pe=Ge,K=_):pe=pe.next=Ge,Tt.lanes|=Ie,Ju|=Ie;Ge=Oe.action,Ls&&m(_,Ge),_=Oe.hasEagerState?Oe.eagerState:m(_,Ge)}else Ie={lane:Ge,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},pe===null?(ae=pe=Ie,K=_):pe=pe.next=Ie,Tt.lanes|=Ge,Ju|=Ge;Oe=Oe.next}while(Oe!==null&&Oe!==h);if(pe===null?K=_:pe.next=ae,!Va(_,A.memoizedState)&&(Ua=!0,He&&(m=E,m!==null)))throw m;A.memoizedState=_,A.baseState=K,A.baseQueue=pe,v.lastRenderedState=_}return B===null&&(v.lanes=0),[A.memoizedState,v.dispatch]}function Zf(A){var h=Rn(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=A;var v=m.dispatch,B=m.pending,_=h.memoizedState;if(B!==null){m.pending=null;var K=B=B.next;do _=A(_,K.action),K=K.next;while(K!==B);Va(_,h.memoizedState)||(Ua=!0),h.memoizedState=_,h.baseQueue===null&&(h.baseState=_),m.lastRenderedState=_}return[_,v]}function em(A,h,m){var v=Tt,B=Rn(),_=yr;if(_){if(m===void 0)throw Error(n(407));m=m()}else m=h();var K=!Va((Ot||B).memoizedState,m);if(K&&(B.memoizedState=m,Ua=!0),B=B.queue,K1(ep.bind(null,v,B,A),[A]),B.getSnapshot!==h||K||Ir!==null&&Ir.memoizedState.tag&1){if(v.flags|=2048,OA(9,{destroy:void 0},Zg.bind(null,v,B,m,h),null),vn===null)throw Error(n(349));_||(Un&127)!==0||Jl(v,h,m)}return m}function Jl(A,h,m){A.flags|=16384,A={getSnapshot:h,value:m},h=Tt.updateQueue,h===null?(h=xh(),Tt.updateQueue=h,h.stores=[A]):(m=h.stores,m===null?h.stores=[A]:m.push(A))}function Zg(A,h,m,v){h.value=m,h.getSnapshot=v,Ly(h)&&tp(A)}function ep(A,h,m){return m(function(){Ly(h)&&tp(A)})}function Ly(A){var h=A.getSnapshot;A=A.value;try{var m=h();return!Va(A,m)}catch{return!0}}function tp(A){var h=Wl(A,2);h!==null&&Gi(h,A,2)}function Uc(A){var h=Ma();if(typeof A=="function"){var m=A;if(A=m(),Ls){Wt(!0);try{m()}finally{Wt(!1)}}}return h.memoizedState=h.baseState=A,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:A},h}function Dy(A,h,m,v){return A.baseState=m,Gu(A,Ot,typeof v=="function"?v:tl)}function My(A,h,m,v,B){if(Hy(A))throw Error(n(485));if(A=h.action,A!==null){var _={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){_.listeners.push(K)}};$.T!==null?m(!0):_.isTransition=!1,v(_),m=h.pending,m===null?(_.next=h.pending=_,Uy(h,_)):(_.next=m.next,h.pending=m.next=_)}}function Uy(A,h){var m=h.action,v=h.payload,B=A.state;if(h.isTransition){var _=$.T,K={};$.T=K;try{var ae=m(B,v),pe=$.S;pe!==null&&pe(K,ae),rp(A,h,ae)}catch(Oe){PA(A,h,Oe)}finally{_!==null&&K.types!==null&&(_.types=K.types),$.T=_}}else try{_=m(B,v),rp(A,h,_)}catch(Oe){PA(A,h,Oe)}}function rp(A,h,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){Ry(A,h,v)},function(v){return PA(A,h,v)}):Ry(A,h,m)}function Ry(A,h,m){h.status="fulfilled",h.value=m,tm(h),A.state=m,h=A.pending,h!==null&&(m=h.next,m===h?A.pending=null:(m=m.next,h.next=m,Uy(A,m)))}function PA(A,h,m){var v=A.pending;if(A.pending=null,v!==null){v=v.next;do h.status="rejected",h.reason=m,tm(h),h=h.next;while(h!==v)}A.action=null}function tm(A){A=A.listeners;for(var h=0;h<A.length;h++)(0,A[h])()}function vh(A,h){return h}function rl(A,h){if(yr){var m=vn.formState;if(m!==null){e:{var v=Tt;if(yr){if(yn){t:{for(var B=yn,_=Mn;B.nodeType!==8;){if(!_){B=null;break t}if(B=nl(B.nextSibling),B===null){B=null;break t}}_=B.data,B=_==="F!"||_==="F"?B:null}if(B){yn=nl(B.nextSibling),v=B.data==="F!";break e}}Tc(v)}v=!1}v&&(h=m[0])}}return m=Ma(),m.memoizedState=m.baseState=h,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:h},m.queue=v,m=m_.bind(null,Tt,v),v.dispatch=m,v=Uc(!1),_=V1.bind(null,Tt,!1,v.queue),v=Ma(),B={state:h,dispatch:null,action:A,pending:null},v.queue=B,m=My.bind(null,Tt,B,_,m),B.dispatch=m,v.memoizedState=A,[h,m,!1]}function Zl(A){var h=Rn();return ec(h,Ot,A)}function ec(A,h,m){if(h=Gu(A,h,vh)[0],A=Jf(tl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var v=Mc(h)}catch(K){throw K===xe?ce:K}else v=h;h=Rn();var B=h.queue,_=B.dispatch;return m!==h.memoizedState&&(Tt.flags|=2048,OA(9,{destroy:void 0},rm.bind(null,B,m),null)),[v,_,A]}function rm(A,h){A.action=h}function nm(A){var h=Rn(),m=Ot;if(m!==null)return ec(h,m,A);Rn(),h=h.memoizedState,m=Rn();var v=m.queue.dispatch;return m.memoizedState=A,[h,v,!1]}function OA(A,h,m,v){return A={tag:A,create:m,deps:v,inst:h,next:null},h=Tt.updateQueue,h===null&&(h=xh(),Tt.updateQueue=h),m=h.lastEffect,m===null?h.lastEffect=A.next=A:(v=m.next,m.next=A,A.next=v,h.lastEffect=A),A}function Qy(){return Rn().memoizedState}function Vu(A,h,m,v){var B=Ma();Tt.flags|=A,B.memoizedState=OA(1|h,{destroy:void 0},m,v===void 0?null:v)}function Wu(A,h,m,v){var B=Rn();v=v===void 0?null:v;var _=B.memoizedState.inst;Ot!==null&&v!==null&&Wg(v,Ot.memoizedState.deps)?B.memoizedState=OA(h,_,m,v):(Tt.flags|=A,B.memoizedState=OA(1|h,_,m,v))}function t_(A,h){Vu(8390656,8,A,h)}function K1(A,h){Wu(2048,8,A,h)}function gK(A){Tt.flags|=4;var h=Tt.updateQueue;if(h===null)h=xh(),Tt.updateQueue=h,h.events=[A];else{var m=h.events;m===null?h.events=[A]:m.push(A)}}function r_(A){var h=Rn().memoizedState;return gK({ref:h,nextImpl:A}),function(){if((Vr&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function n_(A,h){return Wu(4,2,A,h)}function a_(A,h){return Wu(4,4,A,h)}function s_(A,h){if(typeof h=="function"){A=A();var m=h(A);return function(){typeof m=="function"?m():h(null)}}if(h!=null)return A=A(),h.current=A,function(){h.current=null}}function i_(A,h,m){m=m!=null?m.concat([A]):null,Wu(4,4,s_.bind(null,h,A),m)}function z1(){}function o_(A,h){var m=Rn();h=h===void 0?null:h;var v=m.memoizedState;return h!==null&&Wg(h,v[1])?v[0]:(m.memoizedState=[A,h],A)}function l_(A,h){var m=Rn();h=h===void 0?null:h;var v=m.memoizedState;if(h!==null&&Wg(h,v[1]))return v[0];if(v=A(),Ls){Wt(!0);try{A()}finally{Wt(!1)}}return m.memoizedState=[v,h],v}function q1(A,h,m){return m===void 0||(Un&1073741824)!==0&&(wr&261930)===0?A.memoizedState=h:(A.memoizedState=m,A=c3(),Tt.lanes|=A,Ju|=A,m)}function c_(A,h,m,v){return Va(m,h)?m:hr.current!==null?(A=q1(A,m,v),Va(A,h)||(Ua=!0),A):(Un&42)===0||(Un&1073741824)!==0&&(wr&261930)===0?(Ua=!0,A.memoizedState=m):(A=c3(),Tt.lanes|=A,Ju|=A,h)}function A_(A,h,m,v,B){var _=te.p;te.p=_!==0&&8>_?_:8;var K=$.T,ae={};$.T=ae,V1(A,!1,h,m);try{var pe=B(),Oe=$.S;if(Oe!==null&&Oe(ae,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var He=W(pe,v);np(A,h,He,Co(A))}else np(A,h,v,Co(A))}catch(Ge){np(A,h,{then:function(){},status:"rejected",reason:Ge},Co())}finally{te.p=_,K!==null&&ae.types!==null&&(K.types=ae.types),$.T=K}}function pK(){}function $1(A,h,m,v){if(A.tag!==5)throw Error(n(476));var B=u_(A).queue;A_(A,B,h,ee,m===null?pK:function(){return d_(A),m(v)})}function u_(A){var h=A.memoizedState;if(h!==null)return h;h={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ee},next:null};var m={};return h.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:m},next:null},A.memoizedState=h,A=A.alternate,A!==null&&(A.memoizedState=h),h}function d_(A){var h=u_(A);h.next===null&&(h=A.alternate.memoizedState),np(A,h.next.queue,{},Co())}function G1(){return Ja(vp)}function h_(){return Rn().memoizedState}function f_(){return Rn().memoizedState}function yK(A){for(var h=A.return;h!==null;){switch(h.tag){case 24:case 3:var m=Co();A=Qt(m);var v=cr(h,A,m);v!==null&&(Gi(v,h,m),$r(v,h,m)),h={cache:qu()},A.payload=h;return}h=h.return}}function xK(A,h,m){var v=Co();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Hy(A)?g_(h,m):(m=Mf(A,h,m,v),m!==null&&(Gi(m,A,v),p_(m,h,v)))}function m_(A,h,m){var v=Co();np(A,h,m,v)}function np(A,h,m,v){var B={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Hy(A))g_(h,B);else{var _=A.alternate;if(A.lanes===0&&(_===null||_.lanes===0)&&(_=h.lastRenderedReducer,_!==null))try{var K=h.lastRenderedState,ae=_(K,m);if(B.hasEagerState=!0,B.eagerState=ae,Va(ae,K))return dh(A,h,B,0),vn===null&&uh(),!1}catch{}finally{}if(m=Mf(A,h,B,v),m!==null)return Gi(m,A,v),p_(m,h,v),!0}return!1}function V1(A,h,m,v){if(v={lane:2,revertLane:S2(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Hy(A)){if(h)throw Error(n(479))}else h=Mf(A,m,v,2),h!==null&&Gi(h,A,2)}function Hy(A){var h=A.alternate;return A===Tt||h!==null&&h===Tt}function g_(A,h){Hi=Xs=!0;var m=A.pending;m===null?h.next=h:(h.next=m.next,m.next=h),A.pending=h}function p_(A,h,m){if((m&4194048)!==0){var v=h.lanes;v&=A.pendingLanes,m|=v,h.lanes=m,di(A,m)}}var ap={readContext:Ja,use:$u,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};ap.useEffectEvent=un;var y_={readContext:Ja,use:$u,useCallback:function(A,h){return Ma().memoizedState=[A,h===void 0?null:h],A},useContext:Ja,useEffect:t_,useImperativeHandle:function(A,h,m){m=m!=null?m.concat([A]):null,Vu(4194308,4,s_.bind(null,h,A),m)},useLayoutEffect:function(A,h){return Vu(4194308,4,A,h)},useInsertionEffect:function(A,h){Vu(4,2,A,h)},useMemo:function(A,h){var m=Ma();h=h===void 0?null:h;var v=A();if(Ls){Wt(!0);try{A()}finally{Wt(!1)}}return m.memoizedState=[v,h],v},useReducer:function(A,h,m){var v=Ma();if(m!==void 0){var B=m(h);if(Ls){Wt(!0);try{m(h)}finally{Wt(!1)}}}else B=h;return v.memoizedState=v.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},v.queue=A,A=A.dispatch=xK.bind(null,Tt,A),[v.memoizedState,A]},useRef:function(A){var h=Ma();return A={current:A},h.memoizedState=A},useState:function(A){A=Uc(A);var h=A.queue,m=m_.bind(null,Tt,h);return h.dispatch=m,[A.memoizedState,m]},useDebugValue:z1,useDeferredValue:function(A,h){var m=Ma();return q1(m,A,h)},useTransition:function(){var A=Uc(!1);return A=A_.bind(null,Tt,A.queue,!0,!1),Ma().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,h,m){var v=Tt,B=Ma();if(yr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),vn===null)throw Error(n(349));(wr&127)!==0||Jl(v,h,m)}B.memoizedState=m;var _={value:m,getSnapshot:h};return B.queue=_,t_(ep.bind(null,v,_,A),[A]),v.flags|=2048,OA(9,{destroy:void 0},Zg.bind(null,v,_,m,h),null),m},useId:function(){var A=Ma(),h=vn.identifierPrefix;if(yr){var m=Ri,v=Ui;m=(v&~(1<<32-gr(v)-1)).toString(32)+m,h="_"+h+"R_"+m,m=ga++,0<m&&(h+="H"+m.toString(32)),h+="_"}else m=Wf++,h="_"+h+"r_"+m.toString(32)+"_";return A.memoizedState=h},useHostTransitionStatus:G1,useFormState:rl,useActionState:rl,useOptimistic:function(A){var h=Ma();h.memoizedState=h.baseState=A;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=m,h=V1.bind(null,Tt,!0,m),m.dispatch=h,[A,h]},useMemoCache:FA,useCacheRefresh:function(){return Ma().memoizedState=yK.bind(null,Tt)},useEffectEvent:function(A){var h=Ma(),m={impl:A};return h.memoizedState=m,function(){if((Vr&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},W1={readContext:Ja,use:$u,useCallback:o_,useContext:Ja,useEffect:K1,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:a_,useMemo:l_,useReducer:Jf,useRef:Qy,useState:function(){return Jf(tl)},useDebugValue:z1,useDeferredValue:function(A,h){var m=Rn();return c_(m,Ot.memoizedState,A,h)},useTransition:function(){var A=Jf(tl)[0],h=Rn().memoizedState;return[typeof A=="boolean"?A:Mc(A),h]},useSyncExternalStore:em,useId:h_,useHostTransitionStatus:G1,useFormState:Zl,useActionState:Zl,useOptimistic:function(A,h){var m=Rn();return Dy(m,Ot,A,h)},useMemoCache:FA,useCacheRefresh:f_};W1.useEffectEvent=r_;var x_={readContext:Ja,use:$u,useCallback:o_,useContext:Ja,useEffect:K1,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:a_,useMemo:l_,useReducer:Zf,useRef:Qy,useState:function(){return Zf(tl)},useDebugValue:z1,useDeferredValue:function(A,h){var m=Rn();return Ot===null?q1(m,A,h):c_(m,Ot.memoizedState,A,h)},useTransition:function(){var A=Zf(tl)[0],h=Rn().memoizedState;return[typeof A=="boolean"?A:Mc(A),h]},useSyncExternalStore:em,useId:h_,useHostTransitionStatus:G1,useFormState:nm,useActionState:nm,useOptimistic:function(A,h){var m=Rn();return Ot!==null?Dy(m,Ot,A,h):(m.baseState=A,[A,m.queue.dispatch])},useMemoCache:FA,useCacheRefresh:f_};x_.useEffectEvent=r_;function Y1(A,h,m,v){h=A.memoizedState,m=m(v,h),m=m==null?h:f({},h,m),A.memoizedState=m,A.lanes===0&&(A.updateQueue.baseState=m)}var X1={enqueueSetState:function(A,h,m){A=A._reactInternals;var v=Co(),B=Qt(v);B.payload=h,m!=null&&(B.callback=m),h=cr(A,B,v),h!==null&&(Gi(h,A,v),$r(h,A,v))},enqueueReplaceState:function(A,h,m){A=A._reactInternals;var v=Co(),B=Qt(v);B.tag=1,B.payload=h,m!=null&&(B.callback=m),h=cr(A,B,v),h!==null&&(Gi(h,A,v),$r(h,A,v))},enqueueForceUpdate:function(A,h){A=A._reactInternals;var m=Co(),v=Qt(m);v.tag=2,h!=null&&(v.callback=h),h=cr(A,v,m),h!==null&&(Gi(h,A,m),$r(h,A,m))}};function v_(A,h,m,v,B,_,K){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(v,_,K):h.prototype&&h.prototype.isPureReactComponent?!ql(m,v)||!ql(B,_):!0}function b_(A,h,m,v){A=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,v),h.state!==A&&X1.enqueueReplaceState(h,h.state,null)}function bh(A,h){var m=h;if("ref"in h){m={};for(var v in h)v!=="ref"&&(m[v]=h[v])}if(A=A.defaultProps){m===h&&(m=f({},m));for(var B in A)m[B]===void 0&&(m[B]=A[B])}return m}function w_(A){Ah(A)}function C_(A){console.error(A)}function B_(A){Ah(A)}function Ky(A,h){try{var m=A.onUncaughtError;m(h.value,{componentStack:h.stack})}catch(v){setTimeout(function(){throw v})}}function N_(A,h,m){try{var v=A.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function J1(A,h,m){return m=Qt(m),m.tag=3,m.payload={element:null},m.callback=function(){Ky(A,h)},m}function S_(A){return A=Qt(A),A.tag=3,A}function j_(A,h,m,v){var B=m.type.getDerivedStateFromError;if(typeof B=="function"){var _=v.value;A.payload=function(){return B(_)},A.callback=function(){N_(h,m,v)}}var K=m.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(A.callback=function(){N_(h,m,v),typeof B!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var ae=v.stack;this.componentDidCatch(v.value,{componentStack:ae!==null?ae:""})})}function vK(A,h,m,v,B){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(h=m.alternate,h!==null&&Oc(h,m,B,!0),m=Pn.current,m!==null){switch(m.tag){case 31:case 13:return Or===null?tx():m.alternate===null&&pa===0&&(pa=3),m.flags&=-257,m.flags|=65536,m.lanes=B,v===we?m.flags|=16384:(h=m.updateQueue,h===null?m.updateQueue=new Set([v]):h.add(v),C2(A,v,B)),!1;case 22:return m.flags|=65536,v===we?m.flags|=16384:(h=m.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=h):(m=h.retryQueue,m===null?h.retryQueue=new Set([v]):m.add(v)),C2(A,v,B)),!1}throw Error(n(435,m.tag))}return C2(A,v,B),tx(),!1}if(yr)return h=Pn.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=B,v!==vo&&(A=Error(n(422),{cause:v}),Ku(Li(A,m)))):(v!==vo&&(h=Error(n(423),{cause:v}),Ku(Li(h,m))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,v=Li(v,m),B=J1(A.stateNode,v,B),wa(A,B),pa!==4&&(pa=2)),!1;var _=Error(n(520),{cause:v});if(_=Li(_,m),dp===null?dp=[_]:dp.push(_),pa!==4&&(pa=2),h===null)return!0;v=Li(v,m),m=h;do{switch(m.tag){case 3:return m.flags|=65536,A=B&-B,m.lanes|=A,A=J1(m.stateNode,v,A),wa(m,A),!1;case 1:if(h=m.type,_=m.stateNode,(m.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zu===null||!Zu.has(_))))return m.flags|=65536,B&=-B,m.lanes|=B,B=S_(B),j_(B,A,m,v),wa(m,B),!1}m=m.return}while(m!==null);return!1}var Z1=Error(n(461)),Ua=!1;function Ds(A,h,m,v){h.child=A===null?rr(h,null,m,v):xn(h,A.child,m,v)}function E_(A,h,m,v,B){m=m.render;var _=h.ref;if("ref"in v){var K={};for(var ae in v)ae!=="ref"&&(K[ae]=v[ae])}else K=v;return Ic(h),v=Yg(A,h,m,K,_,B),ae=Xg(),A!==null&&!Ua?(Jg(A,h,B),IA(A,h,B)):(yr&&ae&&$g(h),h.flags|=1,Ds(A,h,v,B),h.child)}function __(A,h,m,v,B){if(A===null){var _=m.type;return typeof _=="function"&&!Rf(_)&&_.defaultProps===void 0&&m.compare===null?(h.tag=15,h.type=_,k_(A,h,_,v,B)):(A=Ru(m.type,null,v,h,h.mode,B),A.ref=h.ref,A.return=h,h.child=A)}if(_=A.child,!o2(A,B)){var K=_.memoizedProps;if(m=m.compare,m=m!==null?m:ql,m(K,v)&&A.ref===h.ref)return IA(A,h,B)}return h.flags|=1,A=Ii(_,v),A.ref=h.ref,A.return=h,h.child=A}function k_(A,h,m,v,B){if(A!==null){var _=A.memoizedProps;if(ql(_,v)&&A.ref===h.ref)if(Ua=!1,h.pendingProps=v=_,o2(A,B))(A.flags&131072)!==0&&(Ua=!0);else return h.lanes=A.lanes,IA(A,h,B)}return e2(A,h,m,v,B)}function T_(A,h,m,v){var B=v.children,_=A!==null?A.memoizedState:null;if(A===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((h.flags&128)!==0){if(_=_!==null?_.baseLanes|m:m,A!==null){for(v=h.child=A.child,B=0;v!==null;)B=B|v.lanes|v.childLanes,v=v.sibling;v=B&~_}else v=0,h.child=null;return F_(A,h,_,m,v)}if((m&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},A!==null&&ie(h,_!==null?_.cachePool:null),_!==null?Fn(h,_):Qr(),fa(h);else return v=h.lanes=536870912,F_(A,h,_!==null?_.baseLanes|m:m,m,v)}else _!==null?(ie(h,_.cachePool),Fn(h,_),ma(),h.memoizedState=null):(A!==null&&ie(h,null),Qr(),ma());return Ds(A,h,B,m),h.child}function sp(A,h){return A!==null&&A.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function F_(A,h,m,v,B){var _=se();return _=_===null?null:{parent:ra._currentValue,pool:_},h.memoizedState={baseLanes:m,cachePool:_},A!==null&&ie(h,null),Qr(),fa(h),A!==null&&Oc(A,h,v,!0),h.childLanes=B,null}function zy(A,h){return h=$y({mode:h.mode,children:h.children},A.mode),h.ref=A.ref,A.child=h,h.return=A,h}function P_(A,h,m){return xn(h,A.child,null,m),A=zy(h,h.pendingProps),A.flags|=2,en(h),h.memoizedState=null,A}function bK(A,h,m){var v=h.pendingProps,B=(h.flags&128)!==0;if(h.flags&=-129,A===null){if(yr){if(v.mode==="hidden")return A=zy(h,v),h.lanes=536870912,sp(null,A);if(Gr(h),(A=yn)?(A=q3(A,Mn),A=A!==null&&A.data==="&"?A:null,A!==null&&(h.memoizedState={dehydrated:A,treeContext:kc!==null?{id:Ui,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},m=Qf(A),m.return=h,h.child=m,Ya=h,yn=null)):A=null,A===null)throw Tc(h);return h.lanes=536870912,null}return zy(h,v)}var _=A.memoizedState;if(_!==null){var K=_.dehydrated;if(Gr(h),B)if(h.flags&256)h.flags&=-257,h=P_(A,h,m);else if(h.memoizedState!==null)h.child=A.child,h.flags|=128,h=null;else throw Error(n(558));else if(Ua||Oc(A,h,m,!1),B=(m&A.childLanes)!==0,Ua||B){if(v=vn,v!==null&&(K=hi(v,m),K!==0&&K!==_.retryLane))throw _.retryLane=K,Wl(A,K),Gi(v,A,K),Z1;tx(),h=P_(A,h,m)}else A=_.treeContext,yn=nl(K.nextSibling),Ya=h,yr=!0,Is=null,Mn=!1,A!==null&&Oy(h,A),h=zy(h,v),h.flags|=4096;return h}return A=Ii(A.child,{mode:v.mode,children:v.children}),A.ref=h.ref,h.child=A,A.return=h,A}function qy(A,h){var m=h.ref;if(m===null)A!==null&&A.ref!==null&&(h.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(A===null||A.ref!==m)&&(h.flags|=4194816)}}function e2(A,h,m,v,B){return Ic(h),m=Yg(A,h,m,v,void 0,B),v=Xg(),A!==null&&!Ua?(Jg(A,h,B),IA(A,h,B)):(yr&&v&&$g(h),h.flags|=1,Ds(A,h,m,B),h.child)}function O_(A,h,m,v,B,_){return Ic(h),h.updateQueue=null,m=Xl(h,v,m,B),Yf(A),v=Xg(),A!==null&&!Ua?(Jg(A,h,_),IA(A,h,_)):(yr&&v&&$g(h),h.flags|=1,Ds(A,h,m,_),h.child)}function I_(A,h,m,v,B){if(Ic(h),h.stateNode===null){var _=Wa,K=m.contextType;typeof K=="object"&&K!==null&&(_=Ja(K)),_=new m(v,_),h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=X1,h.stateNode=_,_._reactInternals=h,_=h.stateNode,_.props=v,_.state=h.memoizedState,_.refs={},Ze(h),K=m.contextType,_.context=typeof K=="object"&&K!==null?Ja(K):Wa,_.state=h.memoizedState,K=m.getDerivedStateFromProps,typeof K=="function"&&(Y1(h,m,K,v),_.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(K=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),K!==_.state&&X1.enqueueReplaceState(_,_.state,null),da(h,v,_,B),An(),_.state=h.memoizedState),typeof _.componentDidMount=="function"&&(h.flags|=4194308),v=!0}else if(A===null){_=h.stateNode;var ae=h.memoizedProps,pe=bh(m,ae);_.props=pe;var Oe=_.context,He=m.contextType;K=Wa,typeof He=="object"&&He!==null&&(K=Ja(He));var Ge=m.getDerivedStateFromProps;He=typeof Ge=="function"||typeof _.getSnapshotBeforeUpdate=="function",ae=h.pendingProps!==ae,He||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(ae||Oe!==K)&&b_(h,_,v,K),ot=!1;var Ie=h.memoizedState;_.state=Ie,da(h,v,_,B),An(),Oe=h.memoizedState,ae||Ie!==Oe||ot?(typeof Ge=="function"&&(Y1(h,m,Ge,v),Oe=h.memoizedState),(pe=ot||v_(h,m,pe,v,Ie,Oe,K))?(He||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(h.flags|=4194308)):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=Oe),_.props=v,_.state=Oe,_.context=K,v=pe):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{_=h.stateNode,Tn(A,h),K=h.memoizedProps,He=bh(m,K),_.props=He,Ge=h.pendingProps,Ie=_.context,Oe=m.contextType,pe=Wa,typeof Oe=="object"&&Oe!==null&&(pe=Ja(Oe)),ae=m.getDerivedStateFromProps,(Oe=typeof ae=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K!==Ge||Ie!==pe)&&b_(h,_,v,pe),ot=!1,Ie=h.memoizedState,_.state=Ie,da(h,v,_,B),An();var Me=h.memoizedState;K!==Ge||Ie!==Me||ot||A!==null&&A.dependencies!==null&&$f(A.dependencies)?(typeof ae=="function"&&(Y1(h,m,ae,v),Me=h.memoizedState),(He=ot||v_(h,m,He,v,Ie,Me,pe)||A!==null&&A.dependencies!==null&&$f(A.dependencies))?(Oe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(v,Me,pe),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(v,Me,pe)),typeof _.componentDidUpdate=="function"&&(h.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof _.componentDidUpdate!="function"||K===A.memoizedProps&&Ie===A.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||K===A.memoizedProps&&Ie===A.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=Me),_.props=v,_.state=Me,_.context=pe,v=He):(typeof _.componentDidUpdate!="function"||K===A.memoizedProps&&Ie===A.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||K===A.memoizedProps&&Ie===A.memoizedState||(h.flags|=1024),v=!1)}return _=v,qy(A,h),v=(h.flags&128)!==0,_||v?(_=h.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:_.render(),h.flags|=1,A!==null&&v?(h.child=xn(h,A.child,null,B),h.child=xn(h,null,m,B)):Ds(A,h,m,B),h.memoizedState=_.state,A=h.child):A=IA(A,h,B),A}function L_(A,h,m,v){return kA(),h.flags|=256,Ds(A,h,m,v),h.child}var t2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r2(A){return{baseLanes:A,cachePool:Ae()}}function n2(A,h,m){return A=A!==null?A.childLanes&~m:0,h&&(A|=wo),A}function D_(A,h,m){var v=h.pendingProps,B=!1,_=(h.flags&128)!==0,K;if((K=_)||(K=A!==null&&A.memoizedState===null?!1:(kr.current&2)!==0),K&&(B=!0,h.flags&=-129),K=(h.flags&32)!==0,h.flags&=-33,A===null){if(yr){if(B?na(h):ma(),(A=yn)?(A=q3(A,Mn),A=A!==null&&A.data!=="&"?A:null,A!==null&&(h.memoizedState={dehydrated:A,treeContext:kc!==null?{id:Ui,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},m=Qf(A),m.return=h,h.child=m,Ya=h,yn=null)):A=null,A===null)throw Tc(h);return U2(A)?h.lanes=32:h.lanes=536870912,null}var ae=v.children;return v=v.fallback,B?(ma(),B=h.mode,ae=$y({mode:"hidden",children:ae},B),v=_c(v,B,m,null),ae.return=h,v.return=h,ae.sibling=v,h.child=ae,v=h.child,v.memoizedState=r2(m),v.childLanes=n2(A,K,m),h.memoizedState=t2,sp(null,v)):(na(h),a2(h,ae))}var pe=A.memoizedState;if(pe!==null&&(ae=pe.dehydrated,ae!==null)){if(_)h.flags&256?(na(h),h.flags&=-257,h=s2(A,h,m)):h.memoizedState!==null?(ma(),h.child=A.child,h.flags|=128,h=null):(ma(),ae=v.fallback,B=h.mode,v=$y({mode:"visible",children:v.children},B),ae=_c(ae,B,m,null),ae.flags|=2,v.return=h,ae.return=h,v.sibling=ae,h.child=v,xn(h,A.child,null,m),v=h.child,v.memoizedState=r2(m),v.childLanes=n2(A,K,m),h.memoizedState=t2,h=sp(null,v));else if(na(h),U2(ae)){if(K=ae.nextSibling&&ae.nextSibling.dataset,K)var Oe=K.dgst;K=Oe,v=Error(n(419)),v.stack="",v.digest=K,Ku({value:v,source:null,stack:null}),h=s2(A,h,m)}else if(Ua||Oc(A,h,m,!1),K=(m&A.childLanes)!==0,Ua||K){if(K=vn,K!==null&&(v=hi(K,m),v!==0&&v!==pe.retryLane))throw pe.retryLane=v,Wl(A,v),Gi(K,A,v),Z1;M2(ae)||tx(),h=s2(A,h,m)}else M2(ae)?(h.flags|=192,h.child=A.child,h=null):(A=pe.treeContext,yn=nl(ae.nextSibling),Ya=h,yr=!0,Is=null,Mn=!1,A!==null&&Oy(h,A),h=a2(h,v.children),h.flags|=4096);return h}return B?(ma(),ae=v.fallback,B=h.mode,pe=A.child,Oe=pe.sibling,v=Ii(pe,{mode:"hidden",children:v.children}),v.subtreeFlags=pe.subtreeFlags&65011712,Oe!==null?ae=Ii(Oe,ae):(ae=_c(ae,B,m,null),ae.flags|=2),ae.return=h,v.return=h,v.sibling=ae,h.child=v,sp(null,v),v=h.child,ae=A.child.memoizedState,ae===null?ae=r2(m):(B=ae.cachePool,B!==null?(pe=ra._currentValue,B=B.parent!==pe?{parent:pe,pool:pe}:B):B=Ae(),ae={baseLanes:ae.baseLanes|m,cachePool:B}),v.memoizedState=ae,v.childLanes=n2(A,K,m),h.memoizedState=t2,sp(A.child,v)):(na(h),m=A.child,A=m.sibling,m=Ii(m,{mode:"visible",children:v.children}),m.return=h,m.sibling=null,A!==null&&(K=h.deletions,K===null?(h.deletions=[A],h.flags|=16):K.push(A)),h.child=m,h.memoizedState=null,m)}function a2(A,h){return h=$y({mode:"visible",children:h},A.mode),h.return=A,A.child=h}function $y(A,h){return A=ms(22,A,null,h),A.lanes=0,A}function s2(A,h,m){return xn(h,A.child,null,m),A=a2(h,h.pendingProps.children),A.flags|=2,h.memoizedState=null,A}function M_(A,h,m){A.lanes|=h;var v=A.alternate;v!==null&&(v.lanes|=h),zu(A.return,h,m)}function i2(A,h,m,v,B,_){var K=A.memoizedState;K===null?A.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:B,treeForkCount:_}:(K.isBackwards=h,K.rendering=null,K.renderingStartTime=0,K.last=v,K.tail=m,K.tailMode=B,K.treeForkCount=_)}function U_(A,h,m){var v=h.pendingProps,B=v.revealOrder,_=v.tail;v=v.children;var K=kr.current,ae=(K&2)!==0;if(ae?(K=K&1|2,h.flags|=128):K&=1,Y(kr,K),Ds(A,h,v,m),v=yr?gh:0,!ae&&A!==null&&(A.flags&128)!==0)e:for(A=h.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&M_(A,m,h);else if(A.tag===19)M_(A,m,h);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(m=h.child,B=null;m!==null;)A=m.alternate,A!==null&&ps(A)===null&&(B=m),m=m.sibling;m=B,m===null?(B=h.child,h.child=null):(B=m.sibling,m.sibling=null),i2(h,!1,B,m,_,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,B=h.child,h.child=null;B!==null;){if(A=B.alternate,A!==null&&ps(A)===null){h.child=B;break}A=B.sibling,B.sibling=m,m=B,B=A}i2(h,!0,m,null,_,v);break;case"together":i2(h,!1,null,null,void 0,v);break;default:h.memoizedState=null}return h.child}function IA(A,h,m){if(A!==null&&(h.dependencies=A.dependencies),Ju|=h.lanes,(m&h.childLanes)===0)if(A!==null){if(Oc(A,h,m,!1),(m&h.childLanes)===0)return null}else return null;if(A!==null&&h.child!==A.child)throw Error(n(153));if(h.child!==null){for(A=h.child,m=Ii(A,A.pendingProps),h.child=m,m.return=h;A.sibling!==null;)A=A.sibling,m=m.sibling=Ii(A,A.pendingProps),m.return=h;m.sibling=null}return h.child}function o2(A,h){return(A.lanes&h)!==0?!0:(A=A.dependencies,!!(A!==null&&$f(A)))}function wK(A,h,m){switch(h.tag){case 3:Se(h,h.stateNode.containerInfo),Pc(h,ra,A.memoizedState.cache),kA();break;case 27:case 5:be(h);break;case 4:Se(h,h.stateNode.containerInfo);break;case 10:Pc(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Gr(h),null;break;case 13:var v=h.memoizedState;if(v!==null)return v.dehydrated!==null?(na(h),h.flags|=128,null):(m&h.child.childLanes)!==0?D_(A,h,m):(na(h),A=IA(A,h,m),A!==null?A.sibling:null);na(h);break;case 19:var B=(A.flags&128)!==0;if(v=(m&h.childLanes)!==0,v||(Oc(A,h,m,!1),v=(m&h.childLanes)!==0),B){if(v)return U_(A,h,m);h.flags|=128}if(B=h.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Y(kr,kr.current),v)break;return null;case 22:return h.lanes=0,T_(A,h,m,h.pendingProps);case 24:Pc(h,ra,A.memoizedState.cache)}return IA(A,h,m)}function R_(A,h,m){if(A!==null)if(A.memoizedProps!==h.pendingProps)Ua=!0;else{if(!o2(A,m)&&(h.flags&128)===0)return Ua=!1,wK(A,h,m);Ua=(A.flags&131072)!==0}else Ua=!1,yr&&(h.flags&1048576)!==0&&Py(h,gh,h.index);switch(h.lanes=0,h.tag){case 16:e:{var v=h.pendingProps;if(A=ke(h.elementType),h.type=A,typeof A=="function")Rf(A)?(v=bh(A,v),h.tag=1,h=I_(null,h,A,v,m)):(h.tag=0,h=e2(null,h,A,v,m));else{if(A!=null){var B=A.$$typeof;if(B===k){h.tag=11,h=E_(null,h,A,v,m);break e}else if(B===M){h.tag=14,h=__(null,h,A,v,m);break e}}throw h=z(A)||A,Error(n(306,h,""))}}return h;case 0:return e2(A,h,h.type,h.pendingProps,m);case 1:return v=h.type,B=bh(v,h.pendingProps),I_(A,h,v,B,m);case 3:e:{if(Se(h,h.stateNode.containerInfo),A===null)throw Error(n(387));v=h.pendingProps;var _=h.memoizedState;B=_.element,Tn(A,h),da(h,v,null,m);var K=h.memoizedState;if(v=K.cache,Pc(h,ra,v),v!==_.cache&&TA(h,[ra],m,!0),An(),v=K.element,_.isDehydrated)if(_={element:v,isDehydrated:!1,cache:K.cache},h.updateQueue.baseState=_,h.memoizedState=_,h.flags&256){h=L_(A,h,v,m);break e}else if(v!==B){B=Li(Error(n(424)),h),Ku(B),h=L_(A,h,v,m);break e}else{switch(A=h.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(yn=nl(A.firstChild),Ya=h,yr=!0,Is=null,Mn=!0,m=rr(h,null,v,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(kA(),v===B){h=IA(A,h,m);break e}Ds(A,h,v,m)}h=h.child}return h;case 26:return qy(A,h),A===null?(m=X3(h.type,null,h.pendingProps,null))?h.memoizedState=m:yr||(m=h.type,A=h.pendingProps,v=lx(de.current).createElement(m),v[Zr]=h,v[_n]=A,Ms(v,m,A),Jn(v),h.stateNode=v):h.memoizedState=X3(h.type,A.memoizedProps,h.pendingProps,A.memoizedState),null;case 27:return be(h),A===null&&yr&&(v=h.stateNode=V3(h.type,h.pendingProps,de.current),Ya=h,Mn=!0,B=yn,nd(h.type)?(R2=B,yn=nl(v.firstChild)):yn=B),Ds(A,h,h.pendingProps.children,m),qy(A,h),A===null&&(h.flags|=4194304),h.child;case 5:return A===null&&yr&&((B=v=yn)&&(v=JK(v,h.type,h.pendingProps,Mn),v!==null?(h.stateNode=v,Ya=h,yn=nl(v.firstChild),Mn=!1,B=!0):B=!1),B||Tc(h)),be(h),B=h.type,_=h.pendingProps,K=A!==null?A.memoizedProps:null,v=_.children,I2(B,_)?v=null:K!==null&&I2(B,K)&&(h.flags|=32),h.memoizedState!==null&&(B=Yg(A,h,H1,null,null,m),vp._currentValue=B),qy(A,h),Ds(A,h,v,m),h.child;case 6:return A===null&&yr&&((A=m=yn)&&(m=ZK(m,h.pendingProps,Mn),m!==null?(h.stateNode=m,Ya=h,yn=null,A=!0):A=!1),A||Tc(h)),null;case 13:return D_(A,h,m);case 4:return Se(h,h.stateNode.containerInfo),v=h.pendingProps,A===null?h.child=xn(h,null,v,m):Ds(A,h,v,m),h.child;case 11:return E_(A,h,h.type,h.pendingProps,m);case 7:return Ds(A,h,h.pendingProps,m),h.child;case 8:return Ds(A,h,h.pendingProps.children,m),h.child;case 12:return Ds(A,h,h.pendingProps.children,m),h.child;case 10:return v=h.pendingProps,Pc(h,h.type,v.value),Ds(A,h,v.children,m),h.child;case 9:return B=h.type._context,v=h.pendingProps.children,Ic(h),B=Ja(B),v=v(B),h.flags|=1,Ds(A,h,v,m),h.child;case 14:return __(A,h,h.type,h.pendingProps,m);case 15:return k_(A,h,h.type,h.pendingProps,m);case 19:return U_(A,h,m);case 31:return bK(A,h,m);case 22:return T_(A,h,m,h.pendingProps);case 24:return Ic(h),v=Ja(ra),A===null?(B=se(),B===null&&(B=vn,_=qu(),B.pooledCache=_,_.refCount++,_!==null&&(B.pooledCacheLanes|=m),B=_),h.memoizedState={parent:v,cache:B},Ze(h),Pc(h,ra,B)):((A.lanes&m)!==0&&(Tn(A,h),da(h,null,null,m),An()),B=A.memoizedState,_=h.memoizedState,B.parent!==v?(B={parent:v,cache:v},h.memoizedState=B,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=B),Pc(h,ra,v)):(v=_.cache,Pc(h,ra,v),v!==B.cache&&TA(h,[ra],m,!0))),Ds(A,h,h.pendingProps.children,m),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function LA(A){A.flags|=4}function l2(A,h,m,v,B){if((h=(A.mode&32)!==0)&&(h=!1),h){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(h3())A.flags|=8192;else throw Ue=we,Te}else A.flags&=-16777217}function Q_(A,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!rk(h))if(h3())A.flags|=8192;else throw Ue=we,Te}function Gy(A,h){h!==null&&(A.flags|=4),A.flags&16384&&(h=A.tag!==22?Ro():536870912,A.lanes|=h,om|=h)}function ip(A,h){if(!yr)switch(A.tailMode){case"hidden":h=A.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?A.tail=null:m.sibling=null;break;case"collapsed":m=A.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?h||A.tail===null?A.tail=null:A.tail.sibling=null:v.sibling=null}}function On(A){var h=A.alternate!==null&&A.alternate.child===A.child,m=0,v=0;if(h)for(var B=A.child;B!==null;)m|=B.lanes|B.childLanes,v|=B.subtreeFlags&65011712,v|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)m|=B.lanes|B.childLanes,v|=B.subtreeFlags,v|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=v,A.childLanes=m,h}function CK(A,h,m){var v=h.pendingProps;switch(zf(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(h),null;case 1:return On(h),null;case 3:return m=h.stateNode,v=null,A!==null&&(v=A.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Qi(ra),me(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(A===null||A.child===null)&&(Xa(h)?LA(h):A===null||A.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Vg())),On(h),null;case 26:var B=h.type,_=h.memoizedState;return A===null?(LA(h),_!==null?(On(h),Q_(h,_)):(On(h),l2(h,B,null,v,m))):_?_!==A.memoizedState?(LA(h),On(h),Q_(h,_)):(On(h),h.flags&=-16777217):(A=A.memoizedProps,A!==v&&LA(h),On(h),l2(h,B,A,v,m)),null;case 27:if(ge(h),m=de.current,B=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==v&&LA(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return On(h),null}A=ne.current,Xa(h)?Gg(h):(A=V3(B,v,m),h.stateNode=A,LA(h))}return On(h),null;case 5:if(ge(h),B=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==v&&LA(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return On(h),null}if(_=ne.current,Xa(h))Gg(h);else{var K=lx(de.current);switch(_){case 1:_=K.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:_=K.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":_=K.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":_=K.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":_=K.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof v.is=="string"?K.createElement("select",{is:v.is}):K.createElement("select"),v.multiple?_.multiple=!0:v.size&&(_.size=v.size);break;default:_=typeof v.is=="string"?K.createElement(B,{is:v.is}):K.createElement(B)}}_[Zr]=h,_[_n]=v;e:for(K=h.child;K!==null;){if(K.tag===5||K.tag===6)_.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===h)break e;for(;K.sibling===null;){if(K.return===null||K.return===h)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}h.stateNode=_;e:switch(Ms(_,B,v),B){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&LA(h)}}return On(h),l2(h,h.type,A===null?null:A.memoizedProps,h.pendingProps,m),null;case 6:if(A&&h.stateNode!=null)A.memoizedProps!==v&&LA(h);else{if(typeof v!="string"&&h.stateNode===null)throw Error(n(166));if(A=de.current,Xa(h)){if(A=h.stateNode,m=h.memoizedProps,v=null,B=Ya,B!==null)switch(B.tag){case 27:case 5:v=B.memoizedProps}A[Zr]=h,A=!!(A.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||D3(A.nodeValue,m)),A||Tc(h,!0)}else A=lx(A).createTextNode(v),A[Zr]=h,h.stateNode=A}return On(h),null;case 31:if(m=h.memoizedState,A===null||A.memoizedState!==null){if(v=Xa(h),m!==null){if(A===null){if(!v)throw Error(n(318));if(A=h.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(557));A[Zr]=h}else kA(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;On(h),A=!1}else m=Vg(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=m),A=!0;if(!A)return h.flags&256?(en(h),h):(en(h),null);if((h.flags&128)!==0)throw Error(n(558))}return On(h),null;case 13:if(v=h.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=Xa(h),v!==null&&v.dehydrated!==null){if(A===null){if(!B)throw Error(n(318));if(B=h.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[Zr]=h}else kA(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;On(h),B=!1}else B=Vg(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return h.flags&256?(en(h),h):(en(h),null)}return en(h),(h.flags&128)!==0?(h.lanes=m,h):(m=v!==null,A=A!==null&&A.memoizedState!==null,m&&(v=h.child,B=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(B=v.alternate.memoizedState.cachePool.pool),_=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(_=v.memoizedState.cachePool.pool),_!==B&&(v.flags|=2048)),m!==A&&m&&(h.child.flags|=8192),Gy(h,h.updateQueue),On(h),null);case 4:return me(),A===null&&k2(h.stateNode.containerInfo),On(h),null;case 10:return Qi(h.type),On(h),null;case 19:if(U(kr),v=h.memoizedState,v===null)return On(h),null;if(B=(h.flags&128)!==0,_=v.rendering,_===null)if(B)ip(v,!1);else{if(pa!==0||A!==null&&(A.flags&128)!==0)for(A=h.child;A!==null;){if(_=ps(A),_!==null){for(h.flags|=128,ip(v,!1),A=_.updateQueue,h.updateQueue=A,Gy(h,A),h.subtreeFlags=0,A=m,m=h.child;m!==null;)fh(m,A),m=m.sibling;return Y(kr,kr.current&1|2),yr&&wi(h,v.treeForkCount),h.child}A=A.sibling}v.tail!==null&&vt()>Jy&&(h.flags|=128,B=!0,ip(v,!1),h.lanes=4194304)}else{if(!B)if(A=ps(_),A!==null){if(h.flags|=128,B=!0,A=A.updateQueue,h.updateQueue=A,Gy(h,A),ip(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!yr)return On(h),null}else 2*vt()-v.renderingStartTime>Jy&&m!==536870912&&(h.flags|=128,B=!0,ip(v,!1),h.lanes=4194304);v.isBackwards?(_.sibling=h.child,h.child=_):(A=v.last,A!==null?A.sibling=_:h.child=_,v.last=_)}return v.tail!==null?(A=v.tail,v.rendering=A,v.tail=A.sibling,v.renderingStartTime=vt(),A.sibling=null,m=kr.current,Y(kr,B?m&1|2:m&1),yr&&wi(h,v.treeForkCount),A):(On(h),null);case 22:case 23:return en(h),Ca(),v=h.memoizedState!==null,A!==null?A.memoizedState!==null!==v&&(h.flags|=8192):v&&(h.flags|=8192),v?(m&536870912)!==0&&(h.flags&128)===0&&(On(h),h.subtreeFlags&6&&(h.flags|=8192)):On(h),m=h.updateQueue,m!==null&&Gy(h,m.retryQueue),m=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(m=A.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==m&&(h.flags|=2048),A!==null&&U(Z),null;case 24:return m=null,A!==null&&(m=A.memoizedState.cache),h.memoizedState.cache!==m&&(h.flags|=2048),Qi(ra),On(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function BK(A,h){switch(zf(h),h.tag){case 1:return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 3:return Qi(ra),me(),A=h.flags,(A&65536)!==0&&(A&128)===0?(h.flags=A&-65537|128,h):null;case 26:case 27:case 5:return ge(h),null;case 31:if(h.memoizedState!==null){if(en(h),h.alternate===null)throw Error(n(340));kA()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 13:if(en(h),A=h.memoizedState,A!==null&&A.dehydrated!==null){if(h.alternate===null)throw Error(n(340));kA()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 19:return U(kr),null;case 4:return me(),null;case 10:return Qi(h.type),null;case 22:case 23:return en(h),Ca(),A!==null&&U(Z),A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 24:return Qi(ra),null;case 25:return null;default:return null}}function H_(A,h){switch(zf(h),h.tag){case 3:Qi(ra),me();break;case 26:case 27:case 5:ge(h);break;case 4:me();break;case 31:h.memoizedState!==null&&en(h);break;case 13:en(h);break;case 19:U(kr);break;case 10:Qi(h.type);break;case 22:case 23:en(h),Ca(),A!==null&&U(Z);break;case 24:Qi(ra)}}function op(A,h){try{var m=h.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var B=v.next;m=B;do{if((m.tag&A)===A){v=void 0;var _=m.create,K=m.inst;v=_(),K.destroy=v}m=m.next}while(m!==B)}}catch(ae){rn(h,h.return,ae)}}function Yu(A,h,m){try{var v=h.updateQueue,B=v!==null?v.lastEffect:null;if(B!==null){var _=B.next;v=_;do{if((v.tag&A)===A){var K=v.inst,ae=K.destroy;if(ae!==void 0){K.destroy=void 0,B=h;var pe=m,Oe=ae;try{Oe()}catch(He){rn(B,pe,He)}}}v=v.next}while(v!==_)}}catch(He){rn(h,h.return,He)}}function K_(A){var h=A.updateQueue;if(h!==null){var m=A.stateNode;try{ha(h,m)}catch(v){rn(A,A.return,v)}}}function z_(A,h,m){m.props=bh(A.type,A.memoizedProps),m.state=A.memoizedState;try{m.componentWillUnmount()}catch(v){rn(A,h,v)}}function lp(A,h){try{var m=A.ref;if(m!==null){switch(A.tag){case 26:case 27:case 5:var v=A.stateNode;break;case 30:v=A.stateNode;break;default:v=A.stateNode}typeof m=="function"?A.refCleanup=m(v):m.current=v}}catch(B){rn(A,h,B)}}function Rc(A,h){var m=A.ref,v=A.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(B){rn(A,h,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(B){rn(A,h,B)}else m.current=null}function q_(A){var h=A.type,m=A.memoizedProps,v=A.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(B){rn(A,A.return,B)}}function c2(A,h,m){try{var v=A.stateNode;$K(v,A.type,m,h),v[_n]=h}catch(B){rn(A,A.return,B)}}function $_(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&nd(A.type)||A.tag===4}function A2(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||$_(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&nd(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function u2(A,h,m){var v=A.tag;if(v===5||v===6)A=A.stateNode,h?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(A,h):(h=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,h.appendChild(A),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=fo));else if(v!==4&&(v===27&&nd(A.type)&&(m=A.stateNode,h=null),A=A.child,A!==null))for(u2(A,h,m),A=A.sibling;A!==null;)u2(A,h,m),A=A.sibling}function Vy(A,h,m){var v=A.tag;if(v===5||v===6)A=A.stateNode,h?m.insertBefore(A,h):m.appendChild(A);else if(v!==4&&(v===27&&nd(A.type)&&(m=A.stateNode),A=A.child,A!==null))for(Vy(A,h,m),A=A.sibling;A!==null;)Vy(A,h,m),A=A.sibling}function G_(A){var h=A.stateNode,m=A.memoizedProps;try{for(var v=A.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);Ms(h,v,m),h[Zr]=A,h[_n]=m}catch(_){rn(A,A.return,_)}}var DA=!1,Ra=!1,d2=!1,V_=typeof WeakSet=="function"?WeakSet:Set,ys=null;function NK(A,h){if(A=A.containerInfo,P2=mx,A=Gl(A),Jo(A)){if("selectionStart"in A)var m={start:A.selectionStart,end:A.selectionEnd};else e:{m=(m=A.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var B=v.anchorOffset,_=v.focusNode;v=v.focusOffset;try{m.nodeType,_.nodeType}catch{m=null;break e}var K=0,ae=-1,pe=-1,Oe=0,He=0,Ge=A,Ie=null;t:for(;;){for(var Me;Ge!==m||B!==0&&Ge.nodeType!==3||(ae=K+B),Ge!==_||v!==0&&Ge.nodeType!==3||(pe=K+v),Ge.nodeType===3&&(K+=Ge.nodeValue.length),(Me=Ge.firstChild)!==null;)Ie=Ge,Ge=Me;for(;;){if(Ge===A)break t;if(Ie===m&&++Oe===B&&(ae=K),Ie===_&&++He===v&&(pe=K),(Me=Ge.nextSibling)!==null)break;Ge=Ie,Ie=Ge.parentNode}Ge=Me}m=ae===-1||pe===-1?null:{start:ae,end:pe}}else m=null}m=m||{start:0,end:0}}else m=null;for(O2={focusedElem:A,selectionRange:m},mx=!1,ys=h;ys!==null;)if(h=ys,A=h.child,(h.subtreeFlags&1028)!==0&&A!==null)A.return=h,ys=A;else for(;ys!==null;){switch(h=ys,_=h.alternate,A=h.flags,h.tag){case 0:if((A&4)!==0&&(A=h.updateQueue,A=A!==null?A.events:null,A!==null))for(m=0;m<A.length;m++)B=A[m],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&_!==null){A=void 0,m=h,B=_.memoizedProps,_=_.memoizedState,v=m.stateNode;try{var ft=bh(m.type,B);A=v.getSnapshotBeforeUpdate(ft,_),v.__reactInternalSnapshotBeforeUpdate=A}catch(qt){rn(m,m.return,qt)}}break;case 3:if((A&1024)!==0){if(A=h.stateNode.containerInfo,m=A.nodeType,m===9)D2(A);else if(m===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":D2(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=h.sibling,A!==null){A.return=h.return,ys=A;break}ys=h.return}}function W_(A,h,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:UA(A,m),v&4&&op(5,m);break;case 1:if(UA(A,m),v&4)if(A=m.stateNode,h===null)try{A.componentDidMount()}catch(K){rn(m,m.return,K)}else{var B=bh(m.type,h.memoizedProps);h=h.memoizedState;try{A.componentDidUpdate(B,h,A.__reactInternalSnapshotBeforeUpdate)}catch(K){rn(m,m.return,K)}}v&64&&K_(m),v&512&&lp(m,m.return);break;case 3:if(UA(A,m),v&64&&(A=m.updateQueue,A!==null)){if(h=null,m.child!==null)switch(m.child.tag){case 27:case 5:h=m.child.stateNode;break;case 1:h=m.child.stateNode}try{ha(A,h)}catch(K){rn(m,m.return,K)}}break;case 27:h===null&&v&4&&G_(m);case 26:case 5:UA(A,m),h===null&&v&4&&q_(m),v&512&&lp(m,m.return);break;case 12:UA(A,m);break;case 31:UA(A,m),v&4&&J_(A,m);break;case 13:UA(A,m),v&4&&Z_(A,m),v&64&&(A=m.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(m=OK.bind(null,m),ez(A,m))));break;case 22:if(v=m.memoizedState!==null||DA,!v){h=h!==null&&h.memoizedState!==null||Ra,B=DA;var _=Ra;DA=v,(Ra=h)&&!_?RA(A,m,(m.subtreeFlags&8772)!==0):UA(A,m),DA=B,Ra=_}break;case 30:break;default:UA(A,m)}}function Y_(A){var h=A.alternate;h!==null&&(A.alternate=null,Y_(h)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(h=A.stateNode,h!==null&&Cc(h)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Qn=null,Ki=!1;function MA(A,h,m){for(m=m.child;m!==null;)X_(A,h,m),m=m.sibling}function X_(A,h,m){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(fr,m)}catch{}switch(m.tag){case 26:Ra||Rc(m,h),MA(A,h,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Ra||Rc(m,h);var v=Qn,B=Ki;nd(m.type)&&(Qn=m.stateNode,Ki=!1),MA(A,h,m),pp(m.stateNode),Qn=v,Ki=B;break;case 5:Ra||Rc(m,h);case 6:if(v=Qn,B=Ki,Qn=null,MA(A,h,m),Qn=v,Ki=B,Qn!==null)if(Ki)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(m.stateNode)}catch(_){rn(m,h,_)}else try{Qn.removeChild(m.stateNode)}catch(_){rn(m,h,_)}break;case 18:Qn!==null&&(Ki?(A=Qn,K3(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,m.stateNode),mm(A)):K3(Qn,m.stateNode));break;case 4:v=Qn,B=Ki,Qn=m.stateNode.containerInfo,Ki=!0,MA(A,h,m),Qn=v,Ki=B;break;case 0:case 11:case 14:case 15:Yu(2,m,h),Ra||Yu(4,m,h),MA(A,h,m);break;case 1:Ra||(Rc(m,h),v=m.stateNode,typeof v.componentWillUnmount=="function"&&z_(m,h,v)),MA(A,h,m);break;case 21:MA(A,h,m);break;case 22:Ra=(v=Ra)||m.memoizedState!==null,MA(A,h,m),Ra=v;break;default:MA(A,h,m)}}function J_(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{mm(A)}catch(m){rn(h,h.return,m)}}}function Z_(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{mm(A)}catch(m){rn(h,h.return,m)}}function SK(A){switch(A.tag){case 31:case 13:case 19:var h=A.stateNode;return h===null&&(h=A.stateNode=new V_),h;case 22:return A=A.stateNode,h=A._retryCache,h===null&&(h=A._retryCache=new V_),h;default:throw Error(n(435,A.tag))}}function Wy(A,h){var m=SK(A);h.forEach(function(v){if(!m.has(v)){m.add(v);var B=IK.bind(null,A,v);v.then(B,B)}})}function zi(A,h){var m=h.deletions;if(m!==null)for(var v=0;v<m.length;v++){var B=m[v],_=A,K=h,ae=K;e:for(;ae!==null;){switch(ae.tag){case 27:if(nd(ae.type)){Qn=ae.stateNode,Ki=!1;break e}break;case 5:Qn=ae.stateNode,Ki=!1;break e;case 3:case 4:Qn=ae.stateNode.containerInfo,Ki=!0;break e}ae=ae.return}if(Qn===null)throw Error(n(160));X_(_,K,B),Qn=null,Ki=!1,_=B.alternate,_!==null&&(_.return=null),B.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)e3(h,A),h=h.sibling}var tc=null;function e3(A,h){var m=A.alternate,v=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:zi(h,A),qi(A),v&4&&(Yu(3,A,A.return),op(3,A),Yu(5,A,A.return));break;case 1:zi(h,A),qi(A),v&512&&(Ra||m===null||Rc(m,m.return)),v&64&&DA&&(A=A.updateQueue,A!==null&&(v=A.callbacks,v!==null&&(m=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var B=tc;if(zi(h,A),qi(A),v&512&&(Ra||m===null||Rc(m,m.return)),v&4){var _=m!==null?m.memoizedState:null;if(v=A.memoizedState,m===null)if(v===null)if(A.stateNode===null){e:{v=A.type,m=A.memoizedProps,B=B.ownerDocument||B;t:switch(v){case"title":_=B.getElementsByTagName("title")[0],(!_||_[oo]||_[Zr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=B.createElement(v),B.head.insertBefore(_,B.querySelector("head > title"))),Ms(_,v,m),_[Zr]=A,Jn(_),v=_;break e;case"link":var K=ek("link","href",B).get(v+(m.href||""));if(K){for(var ae=0;ae<K.length;ae++)if(_=K[ae],_.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&_.getAttribute("rel")===(m.rel==null?null:m.rel)&&_.getAttribute("title")===(m.title==null?null:m.title)&&_.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){K.splice(ae,1);break t}}_=B.createElement(v),Ms(_,v,m),B.head.appendChild(_);break;case"meta":if(K=ek("meta","content",B).get(v+(m.content||""))){for(ae=0;ae<K.length;ae++)if(_=K[ae],_.getAttribute("content")===(m.content==null?null:""+m.content)&&_.getAttribute("name")===(m.name==null?null:m.name)&&_.getAttribute("property")===(m.property==null?null:m.property)&&_.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&_.getAttribute("charset")===(m.charSet==null?null:m.charSet)){K.splice(ae,1);break t}}_=B.createElement(v),Ms(_,v,m),B.head.appendChild(_);break;default:throw Error(n(468,v))}_[Zr]=A,Jn(_),v=_}A.stateNode=v}else tk(B,A.type,A.stateNode);else A.stateNode=Z3(B,v,A.memoizedProps);else _!==v?(_===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):_.count--,v===null?tk(B,A.type,A.stateNode):Z3(B,v,A.memoizedProps)):v===null&&A.stateNode!==null&&c2(A,A.memoizedProps,m.memoizedProps)}break;case 27:zi(h,A),qi(A),v&512&&(Ra||m===null||Rc(m,m.return)),m!==null&&v&4&&c2(A,A.memoizedProps,m.memoizedProps);break;case 5:if(zi(h,A),qi(A),v&512&&(Ra||m===null||Rc(m,m.return)),A.flags&32){B=A.stateNode;try{ho(B,"")}catch(ft){rn(A,A.return,ft)}}v&4&&A.stateNode!=null&&(B=A.memoizedProps,c2(A,B,m!==null?m.memoizedProps:B)),v&1024&&(d2=!0);break;case 6:if(zi(h,A),qi(A),v&4){if(A.stateNode===null)throw Error(n(162));v=A.memoizedProps,m=A.stateNode;try{m.nodeValue=v}catch(ft){rn(A,A.return,ft)}}break;case 3:if(ux=null,B=tc,tc=cx(h.containerInfo),zi(h,A),tc=B,qi(A),v&4&&m!==null&&m.memoizedState.isDehydrated)try{mm(h.containerInfo)}catch(ft){rn(A,A.return,ft)}d2&&(d2=!1,t3(A));break;case 4:v=tc,tc=cx(A.stateNode.containerInfo),zi(h,A),qi(A),tc=v;break;case 12:zi(h,A),qi(A);break;case 31:zi(h,A),qi(A),v&4&&(v=A.updateQueue,v!==null&&(A.updateQueue=null,Wy(A,v)));break;case 13:zi(h,A),qi(A),A.child.flags&8192&&A.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Xy=vt()),v&4&&(v=A.updateQueue,v!==null&&(A.updateQueue=null,Wy(A,v)));break;case 22:B=A.memoizedState!==null;var pe=m!==null&&m.memoizedState!==null,Oe=DA,He=Ra;if(DA=Oe||B,Ra=He||pe,zi(h,A),Ra=He,DA=Oe,qi(A),v&8192)e:for(h=A.stateNode,h._visibility=B?h._visibility&-2:h._visibility|1,B&&(m===null||pe||DA||Ra||wh(A)),m=null,h=A;;){if(h.tag===5||h.tag===26){if(m===null){pe=m=h;try{if(_=pe.stateNode,B)K=_.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ae=pe.stateNode;var Ge=pe.memoizedProps.style,Ie=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;ae.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(ft){rn(pe,pe.return,ft)}}}else if(h.tag===6){if(m===null){pe=h;try{pe.stateNode.nodeValue=B?"":pe.memoizedProps}catch(ft){rn(pe,pe.return,ft)}}}else if(h.tag===18){if(m===null){pe=h;try{var Me=pe.stateNode;B?z3(Me,!0):z3(pe.stateNode,!1)}catch(ft){rn(pe,pe.return,ft)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===A)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break e;for(;h.sibling===null;){if(h.return===null||h.return===A)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}v&4&&(v=A.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Wy(A,m))));break;case 19:zi(h,A),qi(A),v&4&&(v=A.updateQueue,v!==null&&(A.updateQueue=null,Wy(A,v)));break;case 30:break;case 21:break;default:zi(h,A),qi(A)}}function qi(A){var h=A.flags;if(h&2){try{for(var m,v=A.return;v!==null;){if($_(v)){m=v;break}v=v.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var B=m.stateNode,_=A2(A);Vy(A,_,B);break;case 5:var K=m.stateNode;m.flags&32&&(ho(K,""),m.flags&=-33);var ae=A2(A);Vy(A,ae,K);break;case 3:case 4:var pe=m.stateNode.containerInfo,Oe=A2(A);u2(A,Oe,pe);break;default:throw Error(n(161))}}catch(He){rn(A,A.return,He)}A.flags&=-3}h&4096&&(A.flags&=-4097)}function t3(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var h=A;t3(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),A=A.sibling}}function UA(A,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)W_(A,h.alternate,h),h=h.sibling}function wh(A){for(A=A.child;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 14:case 15:Yu(4,h,h.return),wh(h);break;case 1:Rc(h,h.return);var m=h.stateNode;typeof m.componentWillUnmount=="function"&&z_(h,h.return,m),wh(h);break;case 27:pp(h.stateNode);case 26:case 5:Rc(h,h.return),wh(h);break;case 22:h.memoizedState===null&&wh(h);break;case 30:wh(h);break;default:wh(h)}A=A.sibling}}function RA(A,h,m){for(m=m&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var v=h.alternate,B=A,_=h,K=_.flags;switch(_.tag){case 0:case 11:case 15:RA(B,_,m),op(4,_);break;case 1:if(RA(B,_,m),v=_,B=v.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Oe){rn(v,v.return,Oe)}if(v=_,B=v.updateQueue,B!==null){var ae=v.stateNode;try{var pe=B.shared.hiddenCallbacks;if(pe!==null)for(B.shared.hiddenCallbacks=null,B=0;B<pe.length;B++)gs(pe[B],ae)}catch(Oe){rn(v,v.return,Oe)}}m&&K&64&&K_(_),lp(_,_.return);break;case 27:G_(_);case 26:case 5:RA(B,_,m),m&&v===null&&K&4&&q_(_),lp(_,_.return);break;case 12:RA(B,_,m);break;case 31:RA(B,_,m),m&&K&4&&J_(B,_);break;case 13:RA(B,_,m),m&&K&4&&Z_(B,_);break;case 22:_.memoizedState===null&&RA(B,_,m),lp(_,_.return);break;case 30:break;default:RA(B,_,m)}h=h.sibling}}function h2(A,h){var m=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(m=A.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==m&&(A!=null&&A.refCount++,m!=null&&ph(m))}function f2(A,h){A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&ph(A))}function rc(A,h,m,v){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)r3(A,h,m,v),h=h.sibling}function r3(A,h,m,v){var B=h.flags;switch(h.tag){case 0:case 11:case 15:rc(A,h,m,v),B&2048&&op(9,h);break;case 1:rc(A,h,m,v);break;case 3:rc(A,h,m,v),B&2048&&(A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&ph(A)));break;case 12:if(B&2048){rc(A,h,m,v),A=h.stateNode;try{var _=h.memoizedProps,K=_.id,ae=_.onPostCommit;typeof ae=="function"&&ae(K,h.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(pe){rn(h,h.return,pe)}}else rc(A,h,m,v);break;case 31:rc(A,h,m,v);break;case 13:rc(A,h,m,v);break;case 23:break;case 22:_=h.stateNode,K=h.alternate,h.memoizedState!==null?_._visibility&2?rc(A,h,m,v):cp(A,h):_._visibility&2?rc(A,h,m,v):(_._visibility|=2,am(A,h,m,v,(h.subtreeFlags&10256)!==0||!1)),B&2048&&h2(K,h);break;case 24:rc(A,h,m,v),B&2048&&f2(h.alternate,h);break;default:rc(A,h,m,v)}}function am(A,h,m,v,B){for(B=B&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var _=A,K=h,ae=m,pe=v,Oe=K.flags;switch(K.tag){case 0:case 11:case 15:am(_,K,ae,pe,B),op(8,K);break;case 23:break;case 22:var He=K.stateNode;K.memoizedState!==null?He._visibility&2?am(_,K,ae,pe,B):cp(_,K):(He._visibility|=2,am(_,K,ae,pe,B)),B&&Oe&2048&&h2(K.alternate,K);break;case 24:am(_,K,ae,pe,B),B&&Oe&2048&&f2(K.alternate,K);break;default:am(_,K,ae,pe,B)}h=h.sibling}}function cp(A,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var m=A,v=h,B=v.flags;switch(v.tag){case 22:cp(m,v),B&2048&&h2(v.alternate,v);break;case 24:cp(m,v),B&2048&&f2(v.alternate,v);break;default:cp(m,v)}h=h.sibling}}var Ap=8192;function sm(A,h,m){if(A.subtreeFlags&Ap)for(A=A.child;A!==null;)n3(A,h,m),A=A.sibling}function n3(A,h,m){switch(A.tag){case 26:sm(A,h,m),A.flags&Ap&&A.memoizedState!==null&&dz(m,tc,A.memoizedState,A.memoizedProps);break;case 5:sm(A,h,m);break;case 3:case 4:var v=tc;tc=cx(A.stateNode.containerInfo),sm(A,h,m),tc=v;break;case 22:A.memoizedState===null&&(v=A.alternate,v!==null&&v.memoizedState!==null?(v=Ap,Ap=16777216,sm(A,h,m),Ap=v):sm(A,h,m));break;default:sm(A,h,m)}}function a3(A){var h=A.alternate;if(h!==null&&(A=h.child,A!==null)){h.child=null;do h=A.sibling,A.sibling=null,A=h;while(A!==null)}}function up(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];ys=v,i3(v,A)}a3(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)s3(A),A=A.sibling}function s3(A){switch(A.tag){case 0:case 11:case 15:up(A),A.flags&2048&&Yu(9,A,A.return);break;case 3:up(A);break;case 12:up(A);break;case 22:var h=A.stateNode;A.memoizedState!==null&&h._visibility&2&&(A.return===null||A.return.tag!==13)?(h._visibility&=-3,Yy(A)):up(A);break;default:up(A)}}function Yy(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];ys=v,i3(v,A)}a3(A)}for(A=A.child;A!==null;){switch(h=A,h.tag){case 0:case 11:case 15:Yu(8,h,h.return),Yy(h);break;case 22:m=h.stateNode,m._visibility&2&&(m._visibility&=-3,Yy(h));break;default:Yy(h)}A=A.sibling}}function i3(A,h){for(;ys!==null;){var m=ys;switch(m.tag){case 0:case 11:case 15:Yu(8,m,h);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ph(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,ys=v;else e:for(m=A;ys!==null;){v=ys;var B=v.sibling,_=v.return;if(Y_(v),v===m){ys=null;break e}if(B!==null){B.return=_,ys=B;break e}ys=_}}}var jK={getCacheForType:function(A){var h=Ja(ra),m=h.data.get(A);return m===void 0&&(m=A(),h.data.set(A,m)),m},cacheSignal:function(){return Ja(ra).controller.signal}},EK=typeof WeakMap=="function"?WeakMap:Map,Vr=0,vn=null,xr=null,wr=0,tn=0,bo=null,Xu=!1,im=!1,m2=!1,QA=0,pa=0,Ju=0,Ch=0,g2=0,wo=0,om=0,dp=null,$i=null,p2=!1,Xy=0,o3=0,Jy=1/0,Zy=null,Zu=null,es=0,ed=null,lm=null,HA=0,y2=0,x2=null,l3=null,hp=0,v2=null;function Co(){return(Vr&2)!==0&&wr!==0?wr&-wr:$.T!==null?S2():Ia()}function c3(){if(wo===0)if((wr&536870912)===0||yr){var A=Jr;Jr<<=1,(Jr&3932160)===0&&(Jr=262144),wo=A}else wo=536870912;return A=Pn.current,A!==null&&(A.flags|=32),wo}function Gi(A,h,m){(A===vn&&(tn===2||tn===9)||A.cancelPendingCommit!==null)&&(cm(A,0),td(A,wr,wo,!1)),kt(A,m),((Vr&2)===0||A!==vn)&&(A===vn&&((Vr&2)===0&&(Ch|=m),pa===4&&td(A,wr,wo,!1)),Qc(A))}function A3(A,h,m){if((Vr&6)!==0)throw Error(n(327));var v=!m&&(h&127)===0&&(h&A.expiredLanes)===0||so(A,h),B=v?TK(A,h):w2(A,h,!0),_=v;do{if(B===0){im&&!v&&td(A,h,0,!1);break}else{if(m=A.current.alternate,_&&!_K(m)){B=w2(A,h,!1),_=!1;continue}if(B===2){if(_=h,A.errorRecoveryDisabledLanes&_)var K=0;else K=A.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){h=K;e:{var ae=A;B=dp;var pe=ae.current.memoizedState.isDehydrated;if(pe&&(cm(ae,K).flags|=256),K=w2(ae,K,!1),K!==2){if(m2&&!pe){ae.errorRecoveryDisabledLanes|=_,Ch|=_,B=4;break e}_=$i,$i=B,_!==null&&($i===null?$i=_:$i.push.apply($i,_))}B=K}if(_=!1,B!==2)continue}}if(B===1){cm(A,0),td(A,h,0,!0);break}e:{switch(v=A,_=B,_){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:td(v,h,wo,!Xu);break e;case 2:$i=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(B=Xy+300-vt(),10<B)){if(td(v,h,wo,!Xu),jr(v,0,!0)!==0)break e;HA=h,v.timeoutHandle=Q3(u3.bind(null,v,m,$i,Zy,p2,h,wo,Ch,om,Xu,_,"Throttled",-0,0),B);break e}u3(v,m,$i,Zy,p2,h,wo,Ch,om,Xu,_,null,-0,0)}}break}while(!0);Qc(A)}function u3(A,h,m,v,B,_,K,ae,pe,Oe,He,Ge,Ie,Me){if(A.timeoutHandle=-1,Ge=h.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fo},n3(h,_,Ge);var ft=(_&62914560)===_?Xy-vt():(_&4194048)===_?o3-vt():0;if(ft=hz(Ge,ft),ft!==null){HA=_,A.cancelPendingCommit=ft(x3.bind(null,A,h,_,m,v,B,K,ae,pe,He,Ge,null,Ie,Me)),td(A,_,K,!Oe);return}}x3(A,h,_,m,v,B,K,ae,pe)}function _K(A){for(var h=A;;){var m=h.tag;if((m===0||m===11||m===15)&&h.flags&16384&&(m=h.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var B=m[v],_=B.getSnapshot;B=B.value;try{if(!Va(_(),B))return!1}catch{return!1}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function td(A,h,m,v){h&=~g2,h&=~Ch,A.suspendedLanes|=h,A.pingedLanes&=~h,v&&(A.warmLanes|=h),v=A.expirationTimes;for(var B=h;0<B;){var _=31-gr(B),K=1<<_;v[_]=-1,B&=~K}m!==0&&Qo(A,m,h)}function ex(){return(Vr&6)===0?(fp(0),!1):!0}function b2(){if(xr!==null){if(tn===0)var A=xr.return;else A=xr,el=Fc=null,Xf(A),We=null,gt=0,A=xr;for(;A!==null;)H_(A.alternate,A),A=A.return;xr=null}}function cm(A,h){var m=A.timeoutHandle;m!==-1&&(A.timeoutHandle=-1,WK(m)),m=A.cancelPendingCommit,m!==null&&(A.cancelPendingCommit=null,m()),HA=0,b2(),vn=A,xr=m=Ii(A.current,null),wr=h,tn=0,bo=null,Xu=!1,im=so(A,h),m2=!1,om=wo=g2=Ch=Ju=pa=0,$i=dp=null,p2=!1,(h&8)!==0&&(h|=h&32);var v=A.entangledLanes;if(v!==0)for(A=A.entanglements,v&=h;0<v;){var B=31-gr(v),_=1<<B;h|=A[B],v&=~_}return QA=h,uh(),m}function d3(A,h){Tt=null,$.H=ap,h===xe||h===ce?(h=ze(),tn=3):h===Te?(h=ze(),tn=4):tn=h===Z1?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,bo=h,xr===null&&(pa=1,Ky(A,Li(h,A.current)))}function h3(){var A=Pn.current;return A===null?!0:(wr&4194048)===wr?Or===null:(wr&62914560)===wr||(wr&536870912)!==0?A===Or:!1}function f3(){var A=$.H;return $.H=ap,A===null?ap:A}function m3(){var A=$.A;return $.A=jK,A}function tx(){pa=4,Xu||(wr&4194048)!==wr&&Pn.current!==null||(im=!0),(Ju&134217727)===0&&(Ch&134217727)===0||vn===null||td(vn,wr,wo,!1)}function w2(A,h,m){var v=Vr;Vr|=2;var B=f3(),_=m3();(vn!==A||wr!==h)&&(Zy=null,cm(A,h)),h=!1;var K=pa;e:do try{if(tn!==0&&xr!==null){var ae=xr,pe=bo;switch(tn){case 8:b2(),K=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(h=!0);var Oe=tn;if(tn=0,bo=null,Am(A,ae,pe,Oe),m&&im){K=0;break e}break;default:Oe=tn,tn=0,bo=null,Am(A,ae,pe,Oe)}}kK(),K=pa;break}catch(He){d3(A,He)}while(!0);return h&&A.shellSuspendCounter++,el=Fc=null,Vr=v,$.H=B,$.A=_,xr===null&&(vn=null,wr=0,uh()),K}function kK(){for(;xr!==null;)g3(xr)}function TK(A,h){var m=Vr;Vr|=2;var v=f3(),B=m3();vn!==A||wr!==h?(Zy=null,Jy=vt()+500,cm(A,h)):im=so(A,h);e:do try{if(tn!==0&&xr!==null){h=xr;var _=bo;t:switch(tn){case 1:tn=0,bo=null,Am(A,h,_,1);break;case 2:case 9:if(Ee(_)){tn=0,bo=null,p3(h);break}h=function(){tn!==2&&tn!==9||vn!==A||(tn=7),Qc(A)},_.then(h,h);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Ee(_)?(tn=0,bo=null,p3(h)):(tn=0,bo=null,Am(A,h,_,7));break;case 5:var K=null;switch(xr.tag){case 26:K=xr.memoizedState;case 5:case 27:var ae=xr;if(K?rk(K):ae.stateNode.complete){tn=0,bo=null;var pe=ae.sibling;if(pe!==null)xr=pe;else{var Oe=ae.return;Oe!==null?(xr=Oe,rx(Oe)):xr=null}break t}}tn=0,bo=null,Am(A,h,_,5);break;case 6:tn=0,bo=null,Am(A,h,_,6);break;case 8:b2(),pa=6;break e;default:throw Error(n(462))}}FK();break}catch(He){d3(A,He)}while(!0);return el=Fc=null,$.H=v,$.A=B,Vr=m,xr!==null?0:(vn=null,wr=0,uh(),pa)}function FK(){for(;xr!==null&&!mt();)g3(xr)}function g3(A){var h=R_(A.alternate,A,QA);A.memoizedProps=A.pendingProps,h===null?rx(A):xr=h}function p3(A){var h=A,m=h.alternate;switch(h.tag){case 15:case 0:h=O_(m,h,h.pendingProps,h.type,void 0,wr);break;case 11:h=O_(m,h,h.pendingProps,h.type.render,h.ref,wr);break;case 5:Xf(h);default:H_(m,h),h=xr=fh(h,QA),h=R_(m,h,QA)}A.memoizedProps=A.pendingProps,h===null?rx(A):xr=h}function Am(A,h,m,v){el=Fc=null,Xf(h),We=null,gt=0;var B=h.return;try{if(vK(A,B,h,m,wr)){pa=1,Ky(A,Li(m,A.current)),xr=null;return}}catch(_){if(B!==null)throw xr=B,_;pa=1,Ky(A,Li(m,A.current)),xr=null;return}h.flags&32768?(yr||v===1?A=!0:im||(wr&536870912)!==0?A=!1:(Xu=A=!0,(v===2||v===9||v===3||v===6)&&(v=Pn.current,v!==null&&v.tag===13&&(v.flags|=16384))),y3(h,A)):rx(h)}function rx(A){var h=A;do{if((h.flags&32768)!==0){y3(h,Xu);return}A=h.return;var m=CK(h.alternate,h,QA);if(m!==null){xr=m;return}if(h=h.sibling,h!==null){xr=h;return}xr=h=A}while(h!==null);pa===0&&(pa=5)}function y3(A,h){do{var m=BK(A.alternate,A);if(m!==null){m.flags&=32767,xr=m;return}if(m=A.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!h&&(A=A.sibling,A!==null)){xr=A;return}xr=A=m}while(A!==null);pa=6,xr=null}function x3(A,h,m,v,B,_,K,ae,pe){A.cancelPendingCommit=null;do nx();while(es!==0);if((Vr&6)!==0)throw Error(n(327));if(h!==null){if(h===A.current)throw Error(n(177));if(_=h.lanes|h.childLanes,_|=Df,_l(A,m,_,K,ae,pe),A===vn&&(xr=vn=null,wr=0),lm=h,ed=A,HA=m,y2=_,x2=B,l3=v,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,LK(Kt,function(){return B3(),null})):(A.callbackNode=null,A.callbackPriority=0),v=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||v){v=$.T,$.T=null,B=te.p,te.p=2,K=Vr,Vr|=4;try{NK(A,h,m)}finally{Vr=K,te.p=B,$.T=v}}es=1,v3(),b3(),w3()}}function v3(){if(es===1){es=0;var A=ed,h=lm,m=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||m){m=$.T,$.T=null;var v=te.p;te.p=2;var B=Vr;Vr|=4;try{e3(h,A);var _=O2,K=Gl(A.containerInfo),ae=_.focusedElem,pe=_.selectionRange;if(K!==ae&&ae&&ae.ownerDocument&&$l(ae.ownerDocument.documentElement,ae)){if(pe!==null&&Jo(ae)){var Oe=pe.start,He=pe.end;if(He===void 0&&(He=Oe),"selectionStart"in ae)ae.selectionStart=Oe,ae.selectionEnd=Math.min(He,ae.value.length);else{var Ge=ae.ownerDocument||document,Ie=Ge&&Ge.defaultView||window;if(Ie.getSelection){var Me=Ie.getSelection(),ft=ae.textContent.length,qt=Math.min(pe.start,ft),hn=pe.end===void 0?qt:Math.min(pe.end,ft);!Me.extend&&qt>hn&&(K=hn,hn=qt,qt=K);var Ne=Uu(ae,qt),ve=Uu(ae,hn);if(Ne&&ve&&(Me.rangeCount!==1||Me.anchorNode!==Ne.node||Me.anchorOffset!==Ne.offset||Me.focusNode!==ve.node||Me.focusOffset!==ve.offset)){var Pe=Ge.createRange();Pe.setStart(Ne.node,Ne.offset),Me.removeAllRanges(),qt>hn?(Me.addRange(Pe),Me.extend(ve.node,ve.offset)):(Pe.setEnd(ve.node,ve.offset),Me.addRange(Pe))}}}}for(Ge=[],Me=ae;Me=Me.parentNode;)Me.nodeType===1&&Ge.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof ae.focus=="function"&&ae.focus(),ae=0;ae<Ge.length;ae++){var qe=Ge[ae];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}mx=!!P2,O2=P2=null}finally{Vr=B,te.p=v,$.T=m}}A.current=h,es=2}}function b3(){if(es===2){es=0;var A=ed,h=lm,m=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||m){m=$.T,$.T=null;var v=te.p;te.p=2;var B=Vr;Vr|=4;try{W_(A,h.alternate,h)}finally{Vr=B,te.p=v,$.T=m}}es=3}}function w3(){if(es===4||es===3){es=0,Nt();var A=ed,h=lm,m=HA,v=l3;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?es=5:(es=0,lm=ed=null,C3(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(Zu=null),ca(m),h=h.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(fr,h,void 0,(h.current.flags&128)===128)}catch{}if(v!==null){h=$.T,B=te.p,te.p=2,$.T=null;try{for(var _=A.onRecoverableError,K=0;K<v.length;K++){var ae=v[K];_(ae.value,{componentStack:ae.stack})}}finally{$.T=h,te.p=B}}(HA&3)!==0&&nx(),Qc(A),B=A.pendingLanes,(m&261930)!==0&&(B&42)!==0?A===v2?hp++:(hp=0,v2=A):hp=0,fp(0)}}function C3(A,h){(A.pooledCacheLanes&=h)===0&&(h=A.pooledCache,h!=null&&(A.pooledCache=null,ph(h)))}function nx(){return v3(),b3(),w3(),B3()}function B3(){if(es!==5)return!1;var A=ed,h=y2;y2=0;var m=ca(HA),v=$.T,B=te.p;try{te.p=32>m?32:m,$.T=null,m=x2,x2=null;var _=ed,K=HA;if(es=0,lm=ed=null,HA=0,(Vr&6)!==0)throw Error(n(331));var ae=Vr;if(Vr|=4,s3(_.current),r3(_,_.current,K,m),Vr=ae,fp(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(fr,_)}catch{}return!0}finally{te.p=B,$.T=v,C3(A,h)}}function N3(A,h,m){h=Li(m,h),h=J1(A.stateNode,h,2),A=cr(A,h,2),A!==null&&(kt(A,2),Qc(A))}function rn(A,h,m){if(A.tag===3)N3(A,A,m);else for(;h!==null;){if(h.tag===3){N3(h,A,m);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Zu===null||!Zu.has(v))){A=Li(m,A),m=S_(2),v=cr(h,m,2),v!==null&&(j_(m,v,h,A),kt(v,2),Qc(v));break}}h=h.return}}function C2(A,h,m){var v=A.pingCache;if(v===null){v=A.pingCache=new EK;var B=new Set;v.set(h,B)}else B=v.get(h),B===void 0&&(B=new Set,v.set(h,B));B.has(m)||(m2=!0,B.add(m),A=PK.bind(null,A,h,m),h.then(A,A))}function PK(A,h,m){var v=A.pingCache;v!==null&&v.delete(h),A.pingedLanes|=A.suspendedLanes&m,A.warmLanes&=~m,vn===A&&(wr&m)===m&&(pa===4||pa===3&&(wr&62914560)===wr&&300>vt()-Xy?(Vr&2)===0&&cm(A,0):g2|=m,om===wr&&(om=0)),Qc(A)}function S3(A,h){h===0&&(h=Ro()),A=Wl(A,h),A!==null&&(kt(A,h),Qc(A))}function OK(A){var h=A.memoizedState,m=0;h!==null&&(m=h.retryLane),S3(A,m)}function IK(A,h){var m=0;switch(A.tag){case 31:case 13:var v=A.stateNode,B=A.memoizedState;B!==null&&(m=B.retryLane);break;case 19:v=A.stateNode;break;case 22:v=A.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(h),S3(A,m)}function LK(A,h){return bt(A,h)}var ax=null,um=null,B2=!1,sx=!1,N2=!1,rd=0;function Qc(A){A!==um&&A.next===null&&(um===null?ax=um=A:um=um.next=A),sx=!0,B2||(B2=!0,MK())}function fp(A,h){if(!N2&&sx){N2=!0;do for(var m=!1,v=ax;v!==null;){if(A!==0){var B=v.pendingLanes;if(B===0)var _=0;else{var K=v.suspendedLanes,ae=v.pingedLanes;_=(1<<31-gr(42|A)+1)-1,_&=B&~(K&~ae),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(m=!0,k3(v,_))}else _=wr,_=jr(v,v===vn?_:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(_&3)===0||so(v,_)||(m=!0,k3(v,_));v=v.next}while(m);N2=!1}}function DK(){j3()}function j3(){sx=B2=!1;var A=0;rd!==0&&VK()&&(A=rd);for(var h=vt(),m=null,v=ax;v!==null;){var B=v.next,_=E3(v,h);_===0?(v.next=null,m===null?ax=B:m.next=B,B===null&&(um=m)):(m=v,(A!==0||(_&3)!==0)&&(sx=!0)),v=B}es!==0&&es!==5||fp(A),rd!==0&&(rd=0)}function E3(A,h){for(var m=A.suspendedLanes,v=A.pingedLanes,B=A.expirationTimes,_=A.pendingLanes&-62914561;0<_;){var K=31-gr(_),ae=1<<K,pe=B[K];pe===-1?((ae&m)===0||(ae&v)!==0)&&(B[K]=us(ae,h)):pe<=h&&(A.expiredLanes|=ae),_&=~ae}if(h=vn,m=wr,m=jr(A,A===h?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),v=A.callbackNode,m===0||A===h&&(tn===2||tn===9)||A.cancelPendingCommit!==null)return v!==null&&v!==null&&tt(v),A.callbackNode=null,A.callbackPriority=0;if((m&3)===0||so(A,m)){if(h=m&-m,h===A.callbackPriority)return h;switch(v!==null&&tt(v),ca(m)){case 2:case 8:m=$t;break;case 32:m=Kt;break;case 268435456:m=Mt;break;default:m=Kt}return v=_3.bind(null,A),m=bt(m,v),A.callbackPriority=h,A.callbackNode=m,h}return v!==null&&v!==null&&tt(v),A.callbackPriority=2,A.callbackNode=null,2}function _3(A,h){if(es!==0&&es!==5)return A.callbackNode=null,A.callbackPriority=0,null;var m=A.callbackNode;if(nx()&&A.callbackNode!==m)return null;var v=wr;return v=jr(A,A===vn?v:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),v===0?null:(A3(A,v,h),E3(A,vt()),A.callbackNode!=null&&A.callbackNode===m?_3.bind(null,A):null)}function k3(A,h){if(nx())return null;A3(A,h,!0)}function MK(){YK(function(){(Vr&6)!==0?bt(Ht,DK):j3()})}function S2(){if(rd===0){var A=C;A===0&&(A=Yt,Yt<<=1,(Yt&261888)===0&&(Yt=256)),rd=A}return rd}function T3(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:Ws(""+A)}function F3(A,h){var m=h.ownerDocument.createElement("input");return m.name=h.name,m.value=h.value,A.id&&m.setAttribute("form",A.id),h.parentNode.insertBefore(m,h),A=new FormData(A),m.parentNode.removeChild(m),A}function UK(A,h,m,v,B){if(h==="submit"&&m&&m.stateNode===B){var _=T3((B[_n]||null).action),K=v.submitter;K&&(h=(h=K[_n]||null)?T3(h.formAction):K.getAttribute("formAction"),h!==null&&(_=h,K=null));var ae=new Fi("action","action",null,v,B);A.push({event:ae,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(rd!==0){var pe=K?F3(B,K):new FormData(B);$1(m,{pending:!0,data:pe,method:B.method,action:_},null,pe)}}else typeof _=="function"&&(ae.preventDefault(),pe=K?F3(B,K):new FormData(B),$1(m,{pending:!0,data:pe,method:B.method,action:_},_,pe))},currentTarget:B}]})}}for(var j2=0;j2<jA.length;j2++){var E2=jA[j2],RK=E2.toLowerCase(),QK=E2[0].toUpperCase()+E2.slice(1);Oi(RK,"on"+QK)}Oi(SA,"onAnimationEnd"),Oi(ch,"onAnimationIteration"),Oi(Kg,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(ky,"onTransitionRun"),Oi(Ty,"onTransitionStart"),Oi(Fy,"onTransitionCancel"),Oi(zg,"onTransitionEnd"),kl("onMouseEnter",["mouseout","mouseover"]),kl("onMouseLeave",["mouseout","mouseover"]),kl("onPointerEnter",["pointerout","pointerover"]),kl("onPointerLeave",["pointerout","pointerover"]),Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mp));function P3(A,h){h=(h&4)!==0;for(var m=0;m<A.length;m++){var v=A[m],B=v.event;v=v.listeners;e:{var _=void 0;if(h)for(var K=v.length-1;0<=K;K--){var ae=v[K],pe=ae.instance,Oe=ae.currentTarget;if(ae=ae.listener,pe!==_&&B.isPropagationStopped())break e;_=ae,B.currentTarget=Oe;try{_(B)}catch(He){Ah(He)}B.currentTarget=null,_=pe}else for(K=0;K<v.length;K++){if(ae=v[K],pe=ae.instance,Oe=ae.currentTarget,ae=ae.listener,pe!==_&&B.isPropagationStopped())break e;_=ae,B.currentTarget=Oe;try{_(B)}catch(He){Ah(He)}B.currentTarget=null,_=pe}}}}function vr(A,h){var m=h[fi];m===void 0&&(m=h[fi]=new Set);var v=A+"__bubble";m.has(v)||(O3(h,A,2,!1),m.add(v))}function _2(A,h,m){var v=0;h&&(v|=4),O3(m,A,v,h)}var ix="_reactListening"+Math.random().toString(36).slice(2);function k2(A){if(!A[ix]){A[ix]=!0,$d.forEach(function(m){m!=="selectionchange"&&(HK.has(m)||_2(m,!1,A),_2(m,!0,A))});var h=A.nodeType===9?A:A.ownerDocument;h===null||h[ix]||(h[ix]=!0,_2("selectionchange",!1,h))}}function O3(A,h,m,v){switch(ck(h)){case 2:var B=gz;break;case 8:B=pz;break;default:B=q2}m=B.bind(null,h,m,A),B=void 0,!ah||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(B=!0),v?B!==void 0?A.addEventListener(h,m,{capture:!0,passive:B}):A.addEventListener(h,m,!0):B!==void 0?A.addEventListener(h,m,{passive:B}):A.addEventListener(h,m,!1)}function T2(A,h,m,v,B){var _=v;if((h&1)===0&&(h&2)===0&&v!==null)e:for(;;){if(v===null)return;var K=v.tag;if(K===3||K===4){var ae=v.stateNode.containerInfo;if(ae===B)break;if(K===4)for(K=v.return;K!==null;){var pe=K.tag;if((pe===3||pe===4)&&K.stateNode.containerInfo===B)return;K=K.return}for(;ae!==null;){if(K=lo(ae),K===null)return;if(pe=K.tag,pe===5||pe===6||pe===26||pe===27){v=_=K;continue e}ae=ae.parentNode}}v=v.return}Ff(function(){var Oe=_,He=xA(m),Ge=[];e:{var Ie=qg.get(A);if(Ie!==void 0){var Me=Fi,ft=A;switch(A){case"keypress":if(Ti(m)===0)break e;case"keydown":case"keyup":Me=Er;break;case"focusin":ft="focus",Me=Ml;break;case"focusout":ft="blur",Me=Ml;break;case"beforeblur":case"afterblur":Me=Ml;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=ba;break;case SA:case ch:case Kg:Me=O;break;case zg:Me=Ga;break;case"scroll":case"scrollend":Me=Fu;break;case"wheel":Me=mo;break;case"copy":case"cut":case"paste":Me=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Zn;break;case"toggle":case"beforetoggle":Me=ih}var qt=(h&4)!==0,hn=!qt&&(A==="scroll"||A==="scrollend"),Ne=qt?Ie!==null?Ie+"Capture":null:Ie;qt=[];for(var ve=Oe,Pe;ve!==null;){var qe=ve;if(Pe=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Pe===null||Ne===null||(qe=pi(ve,Ne),qe!=null&&qt.push(gp(ve,qe,Pe))),hn)break;ve=ve.return}0<qt.length&&(Ie=new Me(Ie,ft,null,m,He),Ge.push({event:Ie,listeners:qt}))}}if((h&7)===0){e:{if(Ie=A==="mouseover"||A==="pointerover",Me=A==="mouseout"||A==="pointerout",Ie&&m!==Fl&&(ft=m.relatedTarget||m.fromElement)&&(lo(ft)||ft[ds]))break e;if((Me||Ie)&&(Ie=He.window===He?He:(Ie=He.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Me?(ft=m.relatedTarget||m.toElement,Me=Oe,ft=ft?lo(ft):null,ft!==null&&(hn=s(ft),qt=ft.tag,ft!==hn||qt!==5&&qt!==27&&qt!==6)&&(ft=null)):(Me=null,ft=Oe),Me!==ft)){if(qt=sh,qe="onMouseLeave",Ne="onMouseEnter",ve="mouse",(A==="pointerout"||A==="pointerover")&&(qt=Zn,qe="onPointerLeave",Ne="onPointerEnter",ve="pointer"),hn=Me==null?Ie:pA(Me),Pe=ft==null?Ie:pA(ft),Ie=new qt(qe,ve+"leave",Me,m,He),Ie.target=hn,Ie.relatedTarget=Pe,qe=null,lo(He)===Oe&&(qt=new qt(Ne,ve+"enter",ft,m,He),qt.target=Pe,qt.relatedTarget=hn,qe=qt),hn=qe,Me&&ft)t:{for(qt=KK,Ne=Me,ve=ft,Pe=0,qe=Ne;qe;qe=qt(qe))Pe++;qe=0;for(var It=ve;It;It=qt(It))qe++;for(;0<Pe-qe;)Ne=qt(Ne),Pe--;for(;0<qe-Pe;)ve=qt(ve),qe--;for(;Pe--;){if(Ne===ve||ve!==null&&Ne===ve.alternate){qt=Ne;break t}Ne=qt(Ne),ve=qt(ve)}qt=null}else qt=null;Me!==null&&I3(Ge,Ie,Me,qt,!1),ft!==null&&hn!==null&&I3(Ge,hn,ft,qt,!0)}}e:{if(Ie=Oe?pA(Oe):window,Me=Ie.nodeName&&Ie.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Ie.type==="file")var Hr=Ec;else if(oh(Ie))if(Ys)Hr=Yo;else{Hr=ea;var Bt=Du}else Me=Ie.nodeName,!Me||Me.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Oe&&th(Oe.elementType)&&(Hr=Ec):Hr=Lf;if(Hr&&(Hr=Hr(A,Oe))){xi(Ge,Hr,m,He);break e}Bt&&Bt(A,Ie,Oe),A==="focusout"&&Oe&&Ie.type==="number"&&Oe.memoizedProps.value!=null&&Jd(Ie,"number",Ie.value)}switch(Bt=Oe?pA(Oe):window,A){case"focusin":(oh(Bt)||Bt.contentEditable==="true")&&(vi=Bt,Vl=Oe,hs=null);break;case"focusout":hs=Vl=vi=null;break;case"mousedown":Pi=!0;break;case"contextmenu":case"mouseup":case"dragend":Pi=!1,Rr(Ge,m,He);break;case"selectionchange":if(NA)break;case"keydown":case"keyup":Rr(Ge,m,He)}var ur;if($o)e:{switch(A){case"compositionstart":var Cr="onCompositionStart";break e;case"compositionend":Cr="onCompositionEnd";break e;case"compositionupdate":Cr="onCompositionUpdate";break e}Cr=void 0}else Go?jc(A,m)&&(Cr="onCompositionEnd"):A==="keydown"&&m.keyCode===229&&(Cr="onCompositionStart");Cr&&(Ql&&m.locale!=="ko"&&(Go||Cr!=="onCompositionStart"?Cr==="onCompositionEnd"&&Go&&(ur=Pf()):(yi=He,bA="value"in yi?yi.value:yi.textContent,Go=!0)),Bt=ox(Oe,Cr),0<Bt.length&&(Cr=new Be(Cr,A,null,m,He),Ge.push({event:Cr,listeners:Bt}),ur?Cr.data=ur:(ur=Ou(m),ur!==null&&(Cr.data=ur)))),(ur=BA?Ps(A,m):Hl(A,m))&&(Cr=ox(Oe,"onBeforeInput"),0<Cr.length&&(Bt=new Be("onBeforeInput","beforeinput",null,m,He),Ge.push({event:Bt,listeners:Cr}),Bt.data=ur)),UK(Ge,A,Oe,m,He)}P3(Ge,h)})}function gp(A,h,m){return{instance:A,listener:h,currentTarget:m}}function ox(A,h){for(var m=h+"Capture",v=[];A!==null;){var B=A,_=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||_===null||(B=pi(A,m),B!=null&&v.unshift(gp(A,B,_)),B=pi(A,h),B!=null&&v.push(gp(A,B,_))),A.tag===3)return v;A=A.return}return[]}function KK(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function I3(A,h,m,v,B){for(var _=h._reactName,K=[];m!==null&&m!==v;){var ae=m,pe=ae.alternate,Oe=ae.stateNode;if(ae=ae.tag,pe!==null&&pe===v)break;ae!==5&&ae!==26&&ae!==27||Oe===null||(pe=Oe,B?(Oe=pi(m,_),Oe!=null&&K.unshift(gp(m,Oe,pe))):B||(Oe=pi(m,_),Oe!=null&&K.push(gp(m,Oe,pe)))),m=m.return}K.length!==0&&A.push({event:h,listeners:K})}var zK=/\r\n?/g,qK=/\u0000|\uFFFD/g;function L3(A){return(typeof A=="string"?A:""+A).replace(zK,`
`).replace(qK,"")}function D3(A,h){return h=L3(h),L3(A)===h}function dn(A,h,m,v,B,_){switch(m){case"children":typeof v=="string"?h==="body"||h==="textarea"&&v===""||ho(A,v):(typeof v=="number"||typeof v=="bigint")&&h!=="body"&&ho(A,""+v);break;case"className":Tl(A,"class",v);break;case"tabIndex":Tl(A,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(A,m,v);break;case"style":_f(A,v,_);break;case"data":if(h!=="object"){Tl(A,"data",v);break}case"src":case"href":if(v===""&&(h!=="a"||m!=="href")){A.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){A.removeAttribute(m);break}v=Ws(""+v),A.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){A.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(m==="formAction"?(h!=="input"&&dn(A,h,"name",B.name,B,null),dn(A,h,"formEncType",B.formEncType,B,null),dn(A,h,"formMethod",B.formMethod,B,null),dn(A,h,"formTarget",B.formTarget,B,null)):(dn(A,h,"encType",B.encType,B,null),dn(A,h,"method",B.method,B,null),dn(A,h,"target",B.target,B,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){A.removeAttribute(m);break}v=Ws(""+v),A.setAttribute(m,v);break;case"onClick":v!=null&&(A.onclick=fo);break;case"onScroll":v!=null&&vr("scroll",A);break;case"onScrollEnd":v!=null&&vr("scrollend",A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(B.children!=null)throw Error(n(60));A.innerHTML=m}}break;case"multiple":A.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":A.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){A.removeAttribute("xlink:href");break}m=Ws(""+v),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?A.setAttribute(m,""+v):A.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?A.setAttribute(m,""):A.removeAttribute(m);break;case"capture":case"download":v===!0?A.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?A.setAttribute(m,v):A.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?A.setAttribute(m,v):A.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?A.removeAttribute(m):A.setAttribute(m,v);break;case"popover":vr("beforetoggle",A),vr("toggle",A),gi(A,"popover",v);break;case"xlinkActuate":uo(A,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":uo(A,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":uo(A,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":uo(A,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":uo(A,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":uo(A,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":uo(A,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":uo(A,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":uo(A,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":gi(A,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=rh.get(m)||m,gi(A,m,v))}}function F2(A,h,m,v,B,_){switch(m){case"style":_f(A,v,_);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(B.children!=null)throw Error(n(60));A.innerHTML=m}}break;case"children":typeof v=="string"?ho(A,v):(typeof v=="number"||typeof v=="bigint")&&ho(A,""+v);break;case"onScroll":v!=null&&vr("scroll",A);break;case"onScrollEnd":v!=null&&vr("scrollend",A);break;case"onClick":v!=null&&(A.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mi.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(B=m.endsWith("Capture"),h=m.slice(2,B?m.length-7:void 0),_=A[_n]||null,_=_!=null?_[m]:null,typeof _=="function"&&A.removeEventListener(h,_,B),typeof v=="function")){typeof _!="function"&&_!==null&&(m in A?A[m]=null:A.hasAttribute(m)&&A.removeAttribute(m)),A.addEventListener(h,v,B);break e}m in A?A[m]=v:v===!0?A.setAttribute(m,""):gi(A,m,v)}}}function Ms(A,h,m){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vr("error",A),vr("load",A);var v=!1,B=!1,_;for(_ in m)if(m.hasOwnProperty(_)){var K=m[_];if(K!=null)switch(_){case"src":v=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:dn(A,h,_,K,m,null)}}B&&dn(A,h,"srcSet",m.srcSet,m,null),v&&dn(A,h,"src",m.src,m,null);return;case"input":vr("invalid",A);var ae=_=K=B=null,pe=null,Oe=null;for(v in m)if(m.hasOwnProperty(v)){var He=m[v];if(He!=null)switch(v){case"name":B=He;break;case"type":K=He;break;case"checked":pe=He;break;case"defaultChecked":Oe=He;break;case"value":_=He;break;case"defaultValue":ae=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,h));break;default:dn(A,h,v,He,m,null)}}jf(A,_,ae,pe,Oe,K,B,!1);return;case"select":vr("invalid",A),v=K=_=null;for(B in m)if(m.hasOwnProperty(B)&&(ae=m[B],ae!=null))switch(B){case"value":_=ae;break;case"defaultValue":K=ae;break;case"multiple":v=ae;default:dn(A,h,B,ae,m,null)}h=_,m=K,A.multiple=!!v,h!=null?Fs(A,!!v,h,!1):m!=null&&Fs(A,!!v,m,!0);return;case"textarea":vr("invalid",A),_=B=v=null;for(K in m)if(m.hasOwnProperty(K)&&(ae=m[K],ae!=null))switch(K){case"value":v=ae;break;case"defaultValue":B=ae;break;case"children":_=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(91));break;default:dn(A,h,K,ae,m,null)}eh(A,v,B,_);return;case"option":for(pe in m)if(m.hasOwnProperty(pe)&&(v=m[pe],v!=null))switch(pe){case"selected":A.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:dn(A,h,pe,v,m,null)}return;case"dialog":vr("beforetoggle",A),vr("toggle",A),vr("cancel",A),vr("close",A);break;case"iframe":case"object":vr("load",A);break;case"video":case"audio":for(v=0;v<mp.length;v++)vr(mp[v],A);break;case"image":vr("error",A),vr("load",A);break;case"details":vr("toggle",A);break;case"embed":case"source":case"link":vr("error",A),vr("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in m)if(m.hasOwnProperty(Oe)&&(v=m[Oe],v!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:dn(A,h,Oe,v,m,null)}return;default:if(th(h)){for(He in m)m.hasOwnProperty(He)&&(v=m[He],v!==void 0&&F2(A,h,He,v,m,void 0));return}}for(ae in m)m.hasOwnProperty(ae)&&(v=m[ae],v!=null&&dn(A,h,ae,v,m,null))}function $K(A,h,m,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,_=null,K=null,ae=null,pe=null,Oe=null,He=null;for(Me in m){var Ge=m[Me];if(m.hasOwnProperty(Me)&&Ge!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":pe=Ge;default:v.hasOwnProperty(Me)||dn(A,h,Me,null,v,Ge)}}for(var Ie in v){var Me=v[Ie];if(Ge=m[Ie],v.hasOwnProperty(Ie)&&(Me!=null||Ge!=null))switch(Ie){case"type":_=Me;break;case"name":B=Me;break;case"checked":Oe=Me;break;case"defaultChecked":He=Me;break;case"value":K=Me;break;case"defaultValue":ae=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,h));break;default:Me!==Ge&&dn(A,h,Ie,Me,v,Ge)}}_u(A,K,ae,pe,Oe,He,_,B);return;case"select":Me=K=ae=Ie=null;for(_ in m)if(pe=m[_],m.hasOwnProperty(_)&&pe!=null)switch(_){case"value":break;case"multiple":Me=pe;default:v.hasOwnProperty(_)||dn(A,h,_,null,v,pe)}for(B in v)if(_=v[B],pe=m[B],v.hasOwnProperty(B)&&(_!=null||pe!=null))switch(B){case"value":Ie=_;break;case"defaultValue":ae=_;break;case"multiple":K=_;default:_!==pe&&dn(A,h,B,_,v,pe)}h=ae,m=K,v=Me,Ie!=null?Fs(A,!!m,Ie,!1):!!v!=!!m&&(h!=null?Fs(A,!!m,h,!0):Fs(A,!!m,m?[]:"",!1));return;case"textarea":Me=Ie=null;for(ae in m)if(B=m[ae],m.hasOwnProperty(ae)&&B!=null&&!v.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:dn(A,h,ae,null,v,B)}for(K in v)if(B=v[K],_=m[K],v.hasOwnProperty(K)&&(B!=null||_!=null))switch(K){case"value":Ie=B;break;case"defaultValue":Me=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:B!==_&&dn(A,h,K,B,v,_)}Zd(A,Ie,Me);return;case"option":for(var ft in m)if(Ie=m[ft],m.hasOwnProperty(ft)&&Ie!=null&&!v.hasOwnProperty(ft))switch(ft){case"selected":A.selected=!1;break;default:dn(A,h,ft,null,v,Ie)}for(pe in v)if(Ie=v[pe],Me=m[pe],v.hasOwnProperty(pe)&&Ie!==Me&&(Ie!=null||Me!=null))switch(pe){case"selected":A.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:dn(A,h,pe,Ie,v,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in m)Ie=m[qt],m.hasOwnProperty(qt)&&Ie!=null&&!v.hasOwnProperty(qt)&&dn(A,h,qt,null,v,Ie);for(Oe in v)if(Ie=v[Oe],Me=m[Oe],v.hasOwnProperty(Oe)&&Ie!==Me&&(Ie!=null||Me!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,h));break;default:dn(A,h,Oe,Ie,v,Me)}return;default:if(th(h)){for(var hn in m)Ie=m[hn],m.hasOwnProperty(hn)&&Ie!==void 0&&!v.hasOwnProperty(hn)&&F2(A,h,hn,void 0,v,Ie);for(He in v)Ie=v[He],Me=m[He],!v.hasOwnProperty(He)||Ie===Me||Ie===void 0&&Me===void 0||F2(A,h,He,Ie,v,Me);return}}for(var Ne in m)Ie=m[Ne],m.hasOwnProperty(Ne)&&Ie!=null&&!v.hasOwnProperty(Ne)&&dn(A,h,Ne,null,v,Ie);for(Ge in v)Ie=v[Ge],Me=m[Ge],!v.hasOwnProperty(Ge)||Ie===Me||Ie==null&&Me==null||dn(A,h,Ge,Ie,v,Me)}function M3(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GK(){if(typeof performance.getEntriesByType=="function"){for(var A=0,h=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var B=m[v],_=B.transferSize,K=B.initiatorType,ae=B.duration;if(_&&ae&&M3(K)){for(K=0,ae=B.responseEnd,v+=1;v<m.length;v++){var pe=m[v],Oe=pe.startTime;if(Oe>ae)break;var He=pe.transferSize,Ge=pe.initiatorType;He&&M3(Ge)&&(pe=pe.responseEnd,K+=He*(pe<ae?1:(ae-Oe)/(pe-Oe)))}if(--v,h+=8*(_+K)/(B.duration/1e3),A++,10<A)break}}if(0<A)return h/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var P2=null,O2=null;function lx(A){return A.nodeType===9?A:A.ownerDocument}function U3(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R3(A,h){if(A===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&h==="foreignObject"?0:A}function I2(A,h){return A==="textarea"||A==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var L2=null;function VK(){var A=window.event;return A&&A.type==="popstate"?A===L2?!1:(L2=A,!0):(L2=null,!1)}var Q3=typeof setTimeout=="function"?setTimeout:void 0,WK=typeof clearTimeout=="function"?clearTimeout:void 0,H3=typeof Promise=="function"?Promise:void 0,YK=typeof queueMicrotask=="function"?queueMicrotask:typeof H3<"u"?function(A){return H3.resolve(null).then(A).catch(XK)}:Q3;function XK(A){setTimeout(function(){throw A})}function nd(A){return A==="head"}function K3(A,h){var m=h,v=0;do{var B=m.nextSibling;if(A.removeChild(m),B&&B.nodeType===8)if(m=B.data,m==="/$"||m==="/&"){if(v===0){A.removeChild(B),mm(h);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")pp(A.ownerDocument.documentElement);else if(m==="head"){m=A.ownerDocument.head,pp(m);for(var _=m.firstChild;_;){var K=_.nextSibling,ae=_.nodeName;_[oo]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&_.rel.toLowerCase()==="stylesheet"||m.removeChild(_),_=K}}else m==="body"&&pp(A.ownerDocument.body);m=B}while(m);mm(h)}function z3(A,h){var m=A;A=0;do{var v=m.nextSibling;if(m.nodeType===1?h?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(h?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(A===0)break;A--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||A++;m=v}while(m)}function D2(A){var h=A.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var m=h;switch(h=h.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":D2(m),Cc(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}A.removeChild(m)}}function JK(A,h,m,v){for(;A.nodeType===1;){var B=m;if(A.nodeName.toLowerCase()!==h.toLowerCase()){if(!v&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(v){if(!A[oo])switch(h){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(_=A.getAttribute("rel"),_==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(_!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(_=A.getAttribute("src"),(_!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&_&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(h==="input"&&A.type==="hidden"){var _=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===_)return A}else return A;if(A=nl(A.nextSibling),A===null)break}return null}function ZK(A,h,m){if(h==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!m||(A=nl(A.nextSibling),A===null))return null;return A}function q3(A,h){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!h||(A=nl(A.nextSibling),A===null))return null;return A}function M2(A){return A.data==="$?"||A.data==="$~"}function U2(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function ez(A,h){var m=A.ownerDocument;if(A.data==="$~")A._reactRetry=h;else if(A.data!=="$?"||m.readyState!=="loading")h();else{var v=function(){h(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),A._reactRetry=v}}function nl(A){for(;A!=null;A=A.nextSibling){var h=A.nodeType;if(h===1||h===3)break;if(h===8){if(h=A.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return A}var R2=null;function $3(A){A=A.nextSibling;for(var h=0;A;){if(A.nodeType===8){var m=A.data;if(m==="/$"||m==="/&"){if(h===0)return nl(A.nextSibling);h--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||h++}A=A.nextSibling}return null}function G3(A){A=A.previousSibling;for(var h=0;A;){if(A.nodeType===8){var m=A.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(h===0)return A;h--}else m!=="/$"&&m!=="/&"||h++}A=A.previousSibling}return null}function V3(A,h,m){switch(h=lx(m),A){case"html":if(A=h.documentElement,!A)throw Error(n(452));return A;case"head":if(A=h.head,!A)throw Error(n(453));return A;case"body":if(A=h.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function pp(A){for(var h=A.attributes;h.length;)A.removeAttributeNode(h[0]);Cc(A)}var al=new Map,W3=new Set;function cx(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var KA=te.d;te.d={f:tz,r:rz,D:nz,C:az,L:sz,m:iz,X:lz,S:oz,M:cz};function tz(){var A=KA.f(),h=ex();return A||h}function rz(A){var h=co(A);h!==null&&h.tag===5&&h.type==="form"?d_(h):KA.r(A)}var dm=typeof document>"u"?null:document;function Y3(A,h,m){var v=dm;if(v&&typeof h=="string"&&h){var B=Aa(h);B='link[rel="'+A+'"][href="'+B+'"]',typeof m=="string"&&(B+='[crossorigin="'+m+'"]'),W3.has(B)||(W3.add(B),A={rel:A,crossOrigin:m,href:h},v.querySelector(B)===null&&(h=v.createElement("link"),Ms(h,"link",A),Jn(h),v.head.appendChild(h)))}}function nz(A){KA.D(A),Y3("dns-prefetch",A,null)}function az(A,h){KA.C(A,h),Y3("preconnect",A,h)}function sz(A,h,m){KA.L(A,h,m);var v=dm;if(v&&A&&h){var B='link[rel="preload"][as="'+Aa(h)+'"]';h==="image"&&m&&m.imageSrcSet?(B+='[imagesrcset="'+Aa(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(B+='[imagesizes="'+Aa(m.imageSizes)+'"]')):B+='[href="'+Aa(A)+'"]';var _=B;switch(h){case"style":_=hm(A);break;case"script":_=fm(A)}al.has(_)||(A=f({rel:"preload",href:h==="image"&&m&&m.imageSrcSet?void 0:A,as:h},m),al.set(_,A),v.querySelector(B)!==null||h==="style"&&v.querySelector(yp(_))||h==="script"&&v.querySelector(xp(_))||(h=v.createElement("link"),Ms(h,"link",A),Jn(h),v.head.appendChild(h)))}}function iz(A,h){KA.m(A,h);var m=dm;if(m&&A){var v=h&&typeof h.as=="string"?h.as:"script",B='link[rel="modulepreload"][as="'+Aa(v)+'"][href="'+Aa(A)+'"]',_=B;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=fm(A)}if(!al.has(_)&&(A=f({rel:"modulepreload",href:A},h),al.set(_,A),m.querySelector(B)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(xp(_)))return}v=m.createElement("link"),Ms(v,"link",A),Jn(v),m.head.appendChild(v)}}}function oz(A,h,m){KA.S(A,h,m);var v=dm;if(v&&A){var B=Ho(v).hoistableStyles,_=hm(A);h=h||"default";var K=B.get(_);if(!K){var ae={loading:0,preload:null};if(K=v.querySelector(yp(_)))ae.loading=5;else{A=f({rel:"stylesheet",href:A,"data-precedence":h},m),(m=al.get(_))&&Q2(A,m);var pe=K=v.createElement("link");Jn(pe),Ms(pe,"link",A),pe._p=new Promise(function(Oe,He){pe.onload=Oe,pe.onerror=He}),pe.addEventListener("load",function(){ae.loading|=1}),pe.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,Ax(K,h,v)}K={type:"stylesheet",instance:K,count:1,state:ae},B.set(_,K)}}}function lz(A,h){KA.X(A,h);var m=dm;if(m&&A){var v=Ho(m).hoistableScripts,B=fm(A),_=v.get(B);_||(_=m.querySelector(xp(B)),_||(A=f({src:A,async:!0},h),(h=al.get(B))&&H2(A,h),_=m.createElement("script"),Jn(_),Ms(_,"link",A),m.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},v.set(B,_))}}function cz(A,h){KA.M(A,h);var m=dm;if(m&&A){var v=Ho(m).hoistableScripts,B=fm(A),_=v.get(B);_||(_=m.querySelector(xp(B)),_||(A=f({src:A,async:!0,type:"module"},h),(h=al.get(B))&&H2(A,h),_=m.createElement("script"),Jn(_),Ms(_,"link",A),m.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},v.set(B,_))}}function X3(A,h,m,v){var B=(B=de.current)?cx(B):null;if(!B)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(h=hm(m.href),m=Ho(B).hoistableStyles,v=m.get(h),v||(v={type:"style",instance:null,count:0,state:null},m.set(h,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){A=hm(m.href);var _=Ho(B).hoistableStyles,K=_.get(A);if(K||(B=B.ownerDocument||B,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(A,K),(_=B.querySelector(yp(A)))&&!_._p&&(K.instance=_,K.state.loading=5),al.has(A)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},al.set(A,m),_||Az(B,A,m,K.state))),h&&v===null)throw Error(n(528,""));return K}if(h&&v!==null)throw Error(n(529,""));return null;case"script":return h=m.async,m=m.src,typeof m=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=fm(m),m=Ho(B).hoistableScripts,v=m.get(h),v||(v={type:"script",instance:null,count:0,state:null},m.set(h,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function hm(A){return'href="'+Aa(A)+'"'}function yp(A){return'link[rel="stylesheet"]['+A+"]"}function J3(A){return f({},A,{"data-precedence":A.precedence,precedence:null})}function Az(A,h,m,v){A.querySelector('link[rel="preload"][as="style"]['+h+"]")?v.loading=1:(h=A.createElement("link"),v.preload=h,h.addEventListener("load",function(){return v.loading|=1}),h.addEventListener("error",function(){return v.loading|=2}),Ms(h,"link",m),Jn(h),A.head.appendChild(h))}function fm(A){return'[src="'+Aa(A)+'"]'}function xp(A){return"script[async]"+A}function Z3(A,h,m){if(h.count++,h.instance===null)switch(h.type){case"style":var v=A.querySelector('style[data-href~="'+Aa(m.href)+'"]');if(v)return h.instance=v,Jn(v),v;var B=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(A.ownerDocument||A).createElement("style"),Jn(v),Ms(v,"style",B),Ax(v,m.precedence,A),h.instance=v;case"stylesheet":B=hm(m.href);var _=A.querySelector(yp(B));if(_)return h.state.loading|=4,h.instance=_,Jn(_),_;v=J3(m),(B=al.get(B))&&Q2(v,B),_=(A.ownerDocument||A).createElement("link"),Jn(_);var K=_;return K._p=new Promise(function(ae,pe){K.onload=ae,K.onerror=pe}),Ms(_,"link",v),h.state.loading|=4,Ax(_,m.precedence,A),h.instance=_;case"script":return _=fm(m.src),(B=A.querySelector(xp(_)))?(h.instance=B,Jn(B),B):(v=m,(B=al.get(_))&&(v=f({},m),H2(v,B)),A=A.ownerDocument||A,B=A.createElement("script"),Jn(B),Ms(B,"link",v),A.head.appendChild(B),h.instance=B);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(v=h.instance,h.state.loading|=4,Ax(v,m.precedence,A));return h.instance}function Ax(A,h,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=v.length?v[v.length-1]:null,_=B,K=0;K<v.length;K++){var ae=v[K];if(ae.dataset.precedence===h)_=ae;else if(_!==B)break}_?_.parentNode.insertBefore(A,_.nextSibling):(h=m.nodeType===9?m.head:m,h.insertBefore(A,h.firstChild))}function Q2(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.title==null&&(A.title=h.title)}function H2(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.integrity==null&&(A.integrity=h.integrity)}var ux=null;function ek(A,h,m){if(ux===null){var v=new Map,B=ux=new Map;B.set(m,v)}else B=ux,v=B.get(m),v||(v=new Map,B.set(m,v));if(v.has(A))return v;for(v.set(A,null),m=m.getElementsByTagName(A),B=0;B<m.length;B++){var _=m[B];if(!(_[oo]||_[Zr]||A==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var K=_.getAttribute(h)||"";K=A+K;var ae=v.get(K);ae?ae.push(_):v.set(K,[_])}}return v}function tk(A,h,m){A=A.ownerDocument||A,A.head.insertBefore(m,h==="title"?A.querySelector("head > title"):null)}function uz(A,h,m){if(m===1||h.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return A=h.disabled,typeof h.precedence=="string"&&A==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function rk(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function dz(A,h,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var B=hm(v.href),_=h.querySelector(yp(B));if(_){h=_._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(A.count++,A=dx.bind(A),h.then(A,A)),m.state.loading|=4,m.instance=_,Jn(_);return}_=h.ownerDocument||h,v=J3(v),(B=al.get(B))&&Q2(v,B),_=_.createElement("link"),Jn(_);var K=_;K._p=new Promise(function(ae,pe){K.onload=ae,K.onerror=pe}),Ms(_,"link",v),m.instance=_}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(A.count++,m=dx.bind(A),h.addEventListener("load",m),h.addEventListener("error",m))}}var K2=0;function hz(A,h){return A.stylesheets&&A.count===0&&fx(A,A.stylesheets),0<A.count||0<A.imgCount?function(m){var v=setTimeout(function(){if(A.stylesheets&&fx(A,A.stylesheets),A.unsuspend){var _=A.unsuspend;A.unsuspend=null,_()}},6e4+h);0<A.imgBytes&&K2===0&&(K2=62500*GK());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&fx(A,A.stylesheets),A.unsuspend)){var _=A.unsuspend;A.unsuspend=null,_()}},(A.imgBytes>K2?50:800)+h);return A.unsuspend=m,function(){A.unsuspend=null,clearTimeout(v),clearTimeout(B)}}:null}function dx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fx(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var hx=null;function fx(A,h){A.stylesheets=null,A.unsuspend!==null&&(A.count++,hx=new Map,h.forEach(fz,A),hx=null,dx.call(A))}function fz(A,h){if(!(h.state.loading&4)){var m=hx.get(A);if(m)var v=m.get(null);else{m=new Map,hx.set(A,m);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<B.length;_++){var K=B[_];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(m.set(K.dataset.precedence,K),v=K)}v&&m.set(null,v)}B=h.instance,K=B.getAttribute("data-precedence"),_=m.get(K)||v,_===v&&m.set(null,B),m.set(K,B),this.count++,v=dx.bind(this),B.addEventListener("load",v),B.addEventListener("error",v),_?_.parentNode.insertBefore(B,_.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),h.state.loading|=4}}var vp={$$typeof:j,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function mz(A,h,m,v,B,_,K,ae,pe){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=v,this.onUncaughtError=B,this.onCaughtError=_,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function nk(A,h,m,v,B,_,K,ae,pe,Oe,He,Ge){return A=new mz(A,h,m,K,pe,Oe,He,Ge,ae),h=1,_===!0&&(h|=24),_=ms(3,null,null,h),A.current=_,_.stateNode=A,h=qu(),h.refCount++,A.pooledCache=h,h.refCount++,_.memoizedState={element:v,isDehydrated:m,cache:h},Ze(_),A}function ak(A){return A?(A=Wa,A):Wa}function sk(A,h,m,v,B,_){B=ak(B),v.context===null?v.context=B:v.pendingContext=B,v=Qt(h),v.payload={element:m},_=_===void 0?null:_,_!==null&&(v.callback=_),m=cr(A,v,h),m!==null&&(Gi(m,A,h),$r(m,A,h))}function ik(A,h){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var m=A.retryLane;A.retryLane=m!==0&&m<h?m:h}}function z2(A,h){ik(A,h),(A=A.alternate)&&ik(A,h)}function ok(A){if(A.tag===13||A.tag===31){var h=Wl(A,67108864);h!==null&&Gi(h,A,67108864),z2(A,67108864)}}function lk(A){if(A.tag===13||A.tag===31){var h=Co();h=Sn(h);var m=Wl(A,h);m!==null&&Gi(m,A,h),z2(A,h)}}var mx=!0;function gz(A,h,m,v){var B=$.T;$.T=null;var _=te.p;try{te.p=2,q2(A,h,m,v)}finally{te.p=_,$.T=B}}function pz(A,h,m,v){var B=$.T;$.T=null;var _=te.p;try{te.p=8,q2(A,h,m,v)}finally{te.p=_,$.T=B}}function q2(A,h,m,v){if(mx){var B=$2(v);if(B===null)T2(A,h,v,gx,m),Ak(A,v);else if(xz(B,A,h,m,v))v.stopPropagation();else if(Ak(A,v),h&4&&-1<yz.indexOf(A)){for(;B!==null;){var _=co(B);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var K=jt(_.pendingLanes);if(K!==0){var ae=_;for(ae.pendingLanes|=2,ae.entangledLanes|=2;K;){var pe=1<<31-gr(K);ae.entanglements[1]|=pe,K&=~pe}Qc(_),(Vr&6)===0&&(Jy=vt()+500,fp(0))}}break;case 31:case 13:ae=Wl(_,2),ae!==null&&Gi(ae,_,2),ex(),z2(_,2)}if(_=$2(v),_===null&&T2(A,h,v,gx,m),_===B)break;B=_}B!==null&&v.stopPropagation()}else T2(A,h,v,null,m)}}function $2(A){return A=xA(A),G2(A)}var gx=null;function G2(A){if(gx=null,A=lo(A),A!==null){var h=s(A);if(h===null)A=null;else{var m=h.tag;if(m===13){if(A=i(h),A!==null)return A;A=null}else if(m===31){if(A=l(h),A!==null)return A;A=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;A=null}else h!==A&&(A=null)}}return gx=A,null}function ck(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case Ht:return 2;case $t:return 8;case Kt:case at:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var V2=!1,ad=null,sd=null,id=null,bp=new Map,wp=new Map,od=[],yz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ak(A,h){switch(A){case"focusin":case"focusout":ad=null;break;case"dragenter":case"dragleave":sd=null;break;case"mouseover":case"mouseout":id=null;break;case"pointerover":case"pointerout":bp.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":wp.delete(h.pointerId)}}function Cp(A,h,m,v,B,_){return A===null||A.nativeEvent!==_?(A={blockedOn:h,domEventName:m,eventSystemFlags:v,nativeEvent:_,targetContainers:[B]},h!==null&&(h=co(h),h!==null&&ok(h)),A):(A.eventSystemFlags|=v,h=A.targetContainers,B!==null&&h.indexOf(B)===-1&&h.push(B),A)}function xz(A,h,m,v,B){switch(h){case"focusin":return ad=Cp(ad,A,h,m,v,B),!0;case"dragenter":return sd=Cp(sd,A,h,m,v,B),!0;case"mouseover":return id=Cp(id,A,h,m,v,B),!0;case"pointerover":var _=B.pointerId;return bp.set(_,Cp(bp.get(_)||null,A,h,m,v,B)),!0;case"gotpointercapture":return _=B.pointerId,wp.set(_,Cp(wp.get(_)||null,A,h,m,v,B)),!0}return!1}function uk(A){var h=lo(A.target);if(h!==null){var m=s(h);if(m!==null){if(h=m.tag,h===13){if(h=i(m),h!==null){A.blockedOn=h,wc(A.priority,function(){lk(m)});return}}else if(h===31){if(h=l(m),h!==null){A.blockedOn=h,wc(A.priority,function(){lk(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){A.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}A.blockedOn=null}function px(A){if(A.blockedOn!==null)return!1;for(var h=A.targetContainers;0<h.length;){var m=$2(A.nativeEvent);if(m===null){m=A.nativeEvent;var v=new m.constructor(m.type,m);Fl=v,m.target.dispatchEvent(v),Fl=null}else return h=co(m),h!==null&&ok(h),A.blockedOn=m,!1;h.shift()}return!0}function dk(A,h,m){px(A)&&m.delete(h)}function vz(){V2=!1,ad!==null&&px(ad)&&(ad=null),sd!==null&&px(sd)&&(sd=null),id!==null&&px(id)&&(id=null),bp.forEach(dk),wp.forEach(dk)}function yx(A,h){A.blockedOn===h&&(A.blockedOn=null,V2||(V2=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vz)))}var xx=null;function hk(A){xx!==A&&(xx=A,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xx===A&&(xx=null);for(var h=0;h<A.length;h+=3){var m=A[h],v=A[h+1],B=A[h+2];if(typeof v!="function"){if(G2(v||m)===null)continue;break}var _=co(m);_!==null&&(A.splice(h,3),h-=3,$1(_,{pending:!0,data:B,method:m.method,action:v},v,B))}}))}function mm(A){function h(pe){return yx(pe,A)}ad!==null&&yx(ad,A),sd!==null&&yx(sd,A),id!==null&&yx(id,A),bp.forEach(h),wp.forEach(h);for(var m=0;m<od.length;m++){var v=od[m];v.blockedOn===A&&(v.blockedOn=null)}for(;0<od.length&&(m=od[0],m.blockedOn===null);)uk(m),m.blockedOn===null&&od.shift();if(m=(A.ownerDocument||A).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var B=m[v],_=m[v+1],K=B[_n]||null;if(typeof _=="function")K||hk(m);else if(K){var ae=null;if(_&&_.hasAttribute("formAction")){if(B=_,K=_[_n]||null)ae=K.formAction;else if(G2(B)!==null)continue}else ae=K.action;typeof ae=="function"?m[v+1]=ae:(m.splice(v,3),v-=3),hk(m)}}}function fk(){function A(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(K){return B=K})},focusReset:"manual",scroll:"manual"})}function h(){B!==null&&(B(),B=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),B!==null&&(B(),B=null)}}}function W2(A){this._internalRoot=A}vx.prototype.render=W2.prototype.render=function(A){var h=this._internalRoot;if(h===null)throw Error(n(409));var m=h.current,v=Co();sk(m,v,A,h,null,null)},vx.prototype.unmount=W2.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var h=A.containerInfo;sk(A.current,2,null,A,null,null),ex(),h[ds]=null}};function vx(A){this._internalRoot=A}vx.prototype.unstable_scheduleHydration=function(A){if(A){var h=Ia();A={blockedOn:null,target:A,priority:h};for(var m=0;m<od.length&&h!==0&&h<od[m].priority;m++);od.splice(m,0,A),m===0&&uk(A)}};var mk=e.version;if(mk!=="19.2.0")throw Error(n(527,mk,"19.2.0"));te.findDOMNode=function(A){var h=A._reactInternals;if(h===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=u(h),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var bz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bx.isDisabled&&bx.supportsFiber)try{fr=bx.inject(bz),Ut=bx}catch{}}return Np.createRoot=function(A,h){if(!a(A))throw Error(n(299));var m=!1,v="",B=w_,_=C_,K=B_;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(B=h.onUncaughtError),h.onCaughtError!==void 0&&(_=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError)),h=nk(A,1,!1,null,null,m,v,null,B,_,K,fk),A[ds]=h.current,k2(A),new W2(h)},Np.hydrateRoot=function(A,h,m){if(!a(A))throw Error(n(299));var v=!1,B="",_=w_,K=C_,ae=B_,pe=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(B=m.identifierPrefix),m.onUncaughtError!==void 0&&(_=m.onUncaughtError),m.onCaughtError!==void 0&&(K=m.onCaughtError),m.onRecoverableError!==void 0&&(ae=m.onRecoverableError),m.formState!==void 0&&(pe=m.formState)),h=nk(A,1,!0,h,m??null,v,B,pe,_,K,ae,fk),h.context=ak(null),m=h.current,v=Co(),v=Sn(v),B=Qt(v),B.callback=null,cr(m,B,v),m=v,h.current.lanes=m,kt(h,m),Qc(h),A[ds]=h.current,k2(A),new vx(h)},Np.version="19.2.0",Np}var jk;function Fz(){if(jk)return Z2.exports;jk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Z2.exports=Tz(),Z2.exports}var Pz=Fz();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ek="popstate";function Oz(r={}){function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return $5("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:x0(a)}return Lz(e,t,null,r)}function Wn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iz(){return Math.random().toString(36).substring(2,10)}function _k(r,e){return{usr:r.state,key:r.key,idx:e}}function $5(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bg(e):e,state:t,key:e&&e.key||n||Iz()}}function x0({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function bg(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Lz(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:w})}function g(b,w){l="PUSH";let N=$5(y.location,b,w);u=d()+1;let j=_k(N,u),k=y.createHref(N);try{i.pushState(j,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(k)}s&&c&&c({action:l,location:y.location,delta:1})}function p(b,w){l="REPLACE";let N=$5(y.location,b,w);u=d();let j=_k(N,u),k=y.createHref(N);i.replaceState(j,"",k),s&&c&&c({action:l,location:y.location,delta:0})}function x(b){return Dz(b)}let y={get action(){return l},get location(){return r(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ek,f),c=b,()=>{a.removeEventListener(Ek,f),c=null}},createHref(b){return e(a,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:p,go(b){return i.go(b)}};return y}function Dz(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wn(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:x0(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function yD(r,e,t="/"){return Mz(r,e,t,!1)}function Mz(r,e,t,n){let a=typeof e=="string"?bg(e):e,s=cu(a.pathname||"/",t);if(s==null)return null;let i=xD(r);Uz(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Yz(s);l=Vz(i[c],u,n)}return l}function xD(r,e=[],t=[],n="",a=!1){let s=(i,l,c=a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Wn(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=su([n,d.relativePath]),g=t.concat(d);i.children&&i.children.length>0&&(Wn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),xD(i.children,e,g,f,c)),!(i.path==null&&!i.index)&&e.push({path:f,score:$z(f,i.index),routesMeta:g})};return r.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))s(i,l);else for(let c of vD(i.path))s(i,l,!0,c)}),e}function vD(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=vD(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function Uz(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Gz(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Rz=/^:[\w-]+$/,Qz=3,Hz=2,Kz=1,zz=10,qz=-2,kk=r=>r==="*";function $z(r,e){let t=r.split("/"),n=t.length;return t.some(kk)&&(n+=qz),e&&(n+=Hz),t.filter(a=>!kk(a)).reduce((a,s)=>a+(Rz.test(s)?Qz:s===""?Kz:zz),n)}function Gz(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function Vz(r,e,t=!1){let{routesMeta:n}=r,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=sb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f&&u&&t&&!n[n.length-1].route.index&&(f=sb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:su([s,f.pathname]),pathnameBase:eq(su([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=su([s,f.pathnameBase]))}return i}function sb(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Wz(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},g)=>{if(d==="*"){let x=l[g]||"";i=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[g];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:r}}function Wz(r,e=!1,t=!0){xl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Yz(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Xz(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?bg(r):r;return{pathname:t?t.startsWith("/")?t:Jz(t,e):e,search:tq(n),hash:rq(a)}}function Jz(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function nC(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zz(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rj(r){let e=Zz(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function nj(r,e,t,n=!1){let a;typeof r=="string"?a=bg(r):(a={...r},Wn(!a.pathname||!a.pathname.includes("?"),nC("?","pathname","search",a)),Wn(!a.pathname||!a.pathname.includes("#"),nC("#","pathname","hash",a)),Wn(!a.search||!a.search.includes("#"),nC("#","search","hash",a)));let s=r===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=t;else{let f=e.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=Xz(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var su=r=>r.join("/").replace(/\/\/+/g,"/"),eq=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tq=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rq=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nq(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bD=["POST","PUT","PATCH","DELETE"];new Set(bD);var aq=["GET",...bD];new Set(aq);var wg=S.createContext(null);wg.displayName="DataRouter";var vw=S.createContext(null);vw.displayName="DataRouterState";S.createContext(!1);var wD=S.createContext({isTransitioning:!1});wD.displayName="ViewTransition";var sq=S.createContext(new Map);sq.displayName="Fetchers";var iq=S.createContext(null);iq.displayName="Await";var hc=S.createContext(null);hc.displayName="Navigation";var q0=S.createContext(null);q0.displayName="Location";var fc=S.createContext({outlet:null,matches:[],isDataRoute:!1});fc.displayName="Route";var aj=S.createContext(null);aj.displayName="RouteError";function oq(r,{relative:e}={}){Wn(Cg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=S.useContext(hc),{hash:a,pathname:s,search:i}=$0(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:su([t,s])),n.createHref({pathname:l,search:i,hash:a})}function Cg(){return S.useContext(q0)!=null}function bu(){return Wn(Cg(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(q0).location}var CD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BD(r){S.useContext(hc).static||S.useLayoutEffect(r)}function Bg(){let{isDataRoute:r}=S.useContext(fc);return r?wq():lq()}function lq(){Wn(Cg(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(wg),{basename:e,navigator:t}=S.useContext(hc),{matches:n}=S.useContext(fc),{pathname:a}=bu(),s=JSON.stringify(rj(n)),i=S.useRef(!1);return BD(()=>{i.current=!0}),S.useCallback((c,u={})=>{if(xl(i.current,CD),!i.current)return;if(typeof c=="number"){t.go(c);return}let d=nj(c,JSON.parse(s),a,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:su([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,a,r])}var cq=S.createContext(null);function Aq(r){let e=S.useContext(fc).outlet;return S.useMemo(()=>e&&S.createElement(cq.Provider,{value:r},e),[e,r])}function $0(r,{relative:e}={}){let{matches:t}=S.useContext(fc),{pathname:n}=bu(),a=JSON.stringify(rj(t));return S.useMemo(()=>nj(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function uq(r,e){return ND(r,e)}function ND(r,e,t,n,a){Wn(Cg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(hc),{matches:i}=S.useContext(fc),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let N=f&&f.path||"";SD(u,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=bu(),p;if(e){let N=typeof e=="string"?bg(e):e;Wn(d==="/"||N.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),p=N}else p=g;let x=p.pathname||"/",y=x;if(d!=="/"){let N=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=yD(r,{pathname:y});xl(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),xl(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=gq(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:su([d,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:su([d,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),i,t,n,a);return e&&w?S.createElement(q0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function dq(){let r=bq(),e=nq(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",r),i=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,i)}var hq=S.createElement(dq,null),fq=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?S.createElement(fc.Provider,{value:this.props.routeContext},S.createElement(aj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mq({routeContext:r,match:e,children:t}){let n=S.useContext(wg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(fc.Provider,{value:r},t)}function gq(r,e=[],t=null,n=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,i=t?.errors;if(i!=null){let u=s.findIndex(d=>d.route.id&&i?.[d.route.id]!==void 0);Wn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(t)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=t,p=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let g,p=!1,x=null,y=null;t&&(g=i&&d.route.id?i[d.route.id]:void 0,x=d.route.errorElement||hq,l&&(c<0&&f===0?(SD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,f+1)),w=()=>{let N;return g?N=x:p?N=y:d.route.Component?N=S.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=u,S.createElement(mq,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:N})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(fq,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):w()},null)}function sj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pq(r){let e=S.useContext(wg);return Wn(e,sj(r)),e}function yq(r){let e=S.useContext(vw);return Wn(e,sj(r)),e}function xq(r){let e=S.useContext(fc);return Wn(e,sj(r)),e}function ij(r){let e=xq(r),t=e.matches[e.matches.length-1];return Wn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vq(){return ij("useRouteId")}function bq(){let r=S.useContext(aj),e=yq("useRouteError"),t=ij("useRouteError");return r!==void 0?r:e.errors?.[t]}function wq(){let{router:r}=pq("useNavigate"),e=ij("useNavigate"),t=S.useRef(!1);return BD(()=>{t.current=!0}),S.useCallback(async(a,s={})=>{xl(t.current,CD),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var Tk={};function SD(r,e,t){!e&&!Tk[r]&&(Tk[r]=!0,xl(!1,t))}S.memo(Cq);function Cq({routes:r,future:e,state:t,unstable_onError:n}){return ND(r,void 0,t,n,e)}function G5({to:r,replace:e,state:t,relative:n}){Wn(Cg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(hc);xl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(fc),{pathname:i}=bu(),l=Bg(),c=nj(r,rj(s),i,n==="path"),u=JSON.stringify(c);return S.useEffect(()=>{l(JSON.parse(u),{replace:e,state:t,relative:n})},[l,u,n,e,t]),null}function jD(r){return Aq(r.context)}function qn(r){Wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bq({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:s=!1}){Wn(!Cg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=r.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);typeof t=="string"&&(t=bg(t));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:g="default"}=t,p=S.useMemo(()=>{let x=cu(c,i);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:g},navigationType:n}},[i,c,u,d,f,g,n]);return xl(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:S.createElement(hc.Provider,{value:l},S.createElement(q0.Provider,{children:e,value:p}))}function Nq({children:r,location:e}){return uq(V5(r),e)}function V5(r,e=[]){let t=[];return S.Children.forEach(r,(n,a)=>{if(!S.isValidElement(n))return;let s=[...e,a];if(n.type===S.Fragment){t.push.apply(t,V5(n.props.children,s));return}Wn(n.type===qn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=V5(n.props.children,s)),t.push(i)}),t}var Lv="get",Dv="application/x-www-form-urlencoded";function bw(r){return r!=null&&typeof r.tagName=="string"}function Sq(r){return bw(r)&&r.tagName.toLowerCase()==="button"}function jq(r){return bw(r)&&r.tagName.toLowerCase()==="form"}function Eq(r){return bw(r)&&r.tagName.toLowerCase()==="input"}function _q(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kq(r,e){return r.button===0&&(!e||e==="_self")&&!_q(r)}function W5(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(a=>[t,a]):[[t,n]])},[]))}function Tq(r,e){let t=W5(r);return e&&e.forEach((n,a)=>{t.has(a)||e.getAll(a).forEach(s=>{t.append(a,s)})}),t}var wx=null;function Fq(){if(wx===null)try{new FormData(document.createElement("form"),0),wx=!1}catch{wx=!0}return wx}var Pq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aC(r){return r!=null&&!Pq.has(r)?(xl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dv}"`),null):r}function Oq(r,e){let t,n,a,s,i;if(jq(r)){let l=r.getAttribute("action");n=l?cu(l,e):null,t=r.getAttribute("method")||Lv,a=aC(r.getAttribute("enctype"))||Dv,s=new FormData(r)}else if(Sq(r)||Eq(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(n=c?cu(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||Lv,a=aC(r.getAttribute("formenctype"))||aC(l.getAttribute("enctype"))||Dv,s=new FormData(l,r),!Fq()){let{name:u,type:d,value:f}=r;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,f)}}else{if(bw(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lv,n=null,a=Dv,i=r}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oj(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Iq(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&cu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function Lq(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dq(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Mq(r,e,t){let n=await Promise.all(r.map(async a=>{let s=e.routes[a.route.id];if(s){let i=await Lq(s,t);return i.links?i.links():[]}return[]}));return Hq(n.flat(1).filter(Dq).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Fk(r,e,t,n,a,s){let i=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,l=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Uq(r,e,{includeHydrateFallback:t}={}){return Rq(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Rq(r){return[...new Set(r)]}function Qq(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function Hq(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let s=JSON.stringify(Qq(a));return t.has(s)||(t.add(s),n.push({key:s,link:a})),n},[])}function ED(){let r=S.useContext(wg);return oj(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Kq(){let r=S.useContext(vw);return oj(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lj=S.createContext(void 0);lj.displayName="FrameworkContext";function _D(){let r=S.useContext(lj);return oj(r,"You must render this element inside a <HydratedRouter> element"),r}function zq(r,e){let t=S.useContext(lj),[n,a]=S.useState(!1),[s,i]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,g=S.useRef(null);S.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let y=w=>{w.forEach(N=>{i(N.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[r]),S.useEffect(()=>{if(n){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{a(!0)},x=()=>{a(!1),i(!1)};return t?r!=="intent"?[s,g,{}]:[s,g,{onFocus:Sp(l,p),onBlur:Sp(c,x),onMouseEnter:Sp(u,p),onMouseLeave:Sp(d,x),onTouchStart:Sp(f,p)}]:[!1,g,{}]}function Sp(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function qq({page:r,...e}){let{router:t}=ED(),n=S.useMemo(()=>yD(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?S.createElement(Gq,{page:r,matches:n,...e}):null}function $q(r){let{manifest:e,routeModules:t}=_D(),[n,a]=S.useState([]);return S.useEffect(()=>{let s=!1;return Mq(r,e,t).then(i=>{s||a(i)}),()=>{s=!0}},[r,e,t]),n}function Gq({page:r,matches:e,...t}){let n=bu(),{manifest:a,routeModules:s}=_D(),{basename:i}=ED(),{loaderData:l,matches:c}=Kq(),u=S.useMemo(()=>Fk(r,e,c,a,n,"data"),[r,e,c,a,n]),d=S.useMemo(()=>Fk(r,e,c,a,n,"assets"),[r,e,c,a,n]),f=S.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(e.forEach(w=>{let N=a.routes[w.route.id];!N||!N.hasLoader||(!u.some(j=>j.route.id===w.route.id)&&w.route.id in l&&s[w.route.id]?.shouldRevalidate||N.hasClientLoader?y=!0:x.add(w.route.id))}),x.size===0)return[];let b=Iq(r,i,"data");return y&&x.size>0&&b.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[i,l,n,a,u,e,r,s]),g=S.useMemo(()=>Uq(d,a),[d,a]),p=$q(d);return S.createElement(S.Fragment,null,f.map(x=>S.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),g.map(x=>S.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),p.map(({key:x,link:y})=>S.createElement("link",{key:x,nonce:t.nonce,...y})))}function Vq(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kD&&(window.__reactRouterVersion="7.9.3")}catch{}function Wq({basename:r,children:e,window:t}){let n=S.useRef();n.current==null&&(n.current=Oz({window:t,v5Compat:!0}));let a=n.current,[s,i]=S.useState({action:a.action,location:a.location}),l=S.useCallback(c=>{S.startTransition(()=>i(c))},[i]);return S.useLayoutEffect(()=>a.listen(l),[a,l]),S.createElement(Bq,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:a})}var TD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FD=S.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...g},p){let{basename:x}=S.useContext(hc),y=typeof u=="string"&&TD.test(u),b,w=!1;if(typeof u=="string"&&y&&(b=u,kD))try{let P=new URL(window.location.href),q=u.startsWith("//")?new URL(P.protocol+u):new URL(u),F=cu(q.pathname,x);q.origin===P.origin&&F!=null?u=F+q.search+q.hash:w=!0}catch{xl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=oq(u,{relative:a}),[j,k,T]=zq(n,g),I=Jq(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function M(P){e&&e(P),P.defaultPrevented||I(P)}let L=S.createElement("a",{...g,...T,href:b||N,onClick:w||s?e:M,ref:Vq(p,k),target:c,"data-discover":!y&&t==="render"?"true":void 0});return j&&!y?S.createElement(S.Fragment,null,L,S.createElement(qq,{page:N})):L});FD.displayName="Link";var gd=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let f=$0(i,{relative:u.relative}),g=bu(),p=S.useContext(vw),{navigator:x,basename:y}=S.useContext(hc),b=p!=null&&a$(f)&&l===!0,w=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,N=g.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(N=N.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&y&&(j=cu(j,y)||j);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let T=N===w||!a&&N.startsWith(w)&&N.charAt(k)==="/",I=j!=null&&(j===w||!a&&j.startsWith(w)&&j.charAt(w.length)==="/"),M={isActive:T,isPending:I,isTransitioning:b},L=T?e:void 0,P;typeof n=="function"?P=n(M):P=[n,T?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(M):s;return S.createElement(FD,{...u,"aria-current":L,className:P,ref:d,style:q,to:i,viewTransition:l},typeof c=="function"?c(M):c)});gd.displayName="NavLink";var Yq=S.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:s,method:i=Lv,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...g},p)=>{let x=r$(),y=n$(l,{relative:u}),b=i.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&TD.test(l),N=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,T=k?.getAttribute("formmethod")||i;x(k||j.currentTarget,{fetcherKey:e,method:T,navigate:t,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return S.createElement("form",{ref:p,method:b,action:y,onSubmit:n?c:N,...g,"data-discover":!w&&r==="render"?"true":void 0})});Yq.displayName="Form";function Xq(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PD(r){let e=S.useContext(wg);return Wn(e,Xq(r)),e}function Jq(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:i}={}){let l=Bg(),c=bu(),u=$0(r,{relative:s});return S.useCallback(d=>{if(kq(d,e)){d.preventDefault();let f=t!==void 0?t:x0(c)===x0(u);l(r,{replace:f,state:n,preventScrollReset:a,relative:s,viewTransition:i})}},[c,l,u,t,n,e,r,a,s,i])}function Zq(r){xl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(W5(r)),t=S.useRef(!1),n=bu(),a=S.useMemo(()=>Tq(n.search,t.current?null:e.current),[n.search]),s=Bg(),i=S.useCallback((l,c)=>{const u=W5(typeof l=="function"?l(new URLSearchParams(a)):l);t.current=!0,s("?"+u,c)},[s,a]);return[a,i]}var e$=0,t$=()=>`__${String(++e$)}__`;function r$(){let{router:r}=PD("useSubmit"),{basename:e}=S.useContext(hc),t=vq();return S.useCallback(async(n,a={})=>{let{action:s,method:i,encType:l,formData:c,body:u}=Oq(n,e);if(a.navigate===!1){let d=a.fetcherKey||t$();await r.fetch(d,t,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await r.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function n$(r,{relative:e}={}){let{basename:t}=S.useContext(hc),n=S.useContext(fc);Wn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...$0(r||".",{relative:e})},i=bu();if(r==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:su([t,s.pathname])),x0(s)}function a$(r,{relative:e}={}){let t=S.useContext(wD);Wn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=PD("useViewTransitionState"),a=$0(r,{relative:e});if(!t.isTransitioning)return!1;let s=cu(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=cu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return sb(a.pathname,i)!=null||sb(a.pathname,s)!=null}var OD=pD();let s$={data:""},i$=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||s$},o$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l$=/\/\*[^]*?\*\/|  +/g,Pk=/\n+/g,vd=(r,e)=>{let t="",n="",a="";for(let s in r){let i=r[s];s[0]=="@"?s[1]=="i"?t=s+" "+i+";":n+=s[1]=="f"?vd(i,s):s+"{"+vd(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=vd(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=vd.p?vd.p(s,i):s+":"+i+";")}return t+(e&&a?e+"{"+a+"}":a)+n},zA={},ID=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+ID(r[t]);return e}return r},c$=(r,e,t,n,a)=>{let s=ID(r),i=zA[s]||(zA[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!zA[i]){let c=s!==r?r:(u=>{let d,f,g=[{}];for(;d=o$.exec(u.replace(l$,""));)d[4]?g.shift():d[3]?(f=d[3].replace(Pk," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][d[1]]=d[2].replace(Pk," ").trim();return g[0]})(r);zA[i]=vd(a?{["@keyframes "+i]:c}:c,t?"":"."+i)}let l=t&&zA.g?zA.g:null;return t&&(zA.g=zA[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(zA[i],e,n,l),i},A$=(r,e,t)=>r.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":vd(l,""):l===!1?"":l}return n+a+(i??"")},"");function ww(r){let e=this||{},t=r.call?r(e.p):r;return c$(t.unshift?t.raw?A$(t,[].slice.call(arguments,1),e.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):t,i$(e.target),e.g,e.o,e.k)}let LD,Y5,X5;ww.bind({g:1});let Au=ww.bind({k:1});function u$(r,e,t,n){vd.p=e,LD=r,Y5=t,X5=n}function Rd(r,e){let t=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;t.p=Object.assign({theme:Y5&&Y5()},l),t.o=/ *go\d+/.test(c),l.className=ww.apply(t,n)+(c?" "+c:"");let u=r;return r[0]&&(u=l.as||r,delete l.as),X5&&u[0]&&X5(l),LD(u,l)}return a}}var d$=r=>typeof r=="function",ib=(r,e)=>d$(r)?r(e):r,h$=(()=>{let r=0;return()=>(++r).toString()})(),DD=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),f$=20,cj="default",MD=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return MD(r,{type:r.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Mv=[],UD={toasts:[],pausedAt:void 0,settings:{toastLimit:f$}},tA={},RD=(r,e=cj)=>{tA[e]=MD(tA[e]||UD,r),Mv.forEach(([t,n])=>{t===e&&n(tA[e])})},QD=r=>Object.keys(tA).forEach(e=>RD(r,e)),m$=r=>Object.keys(tA).find(e=>tA[e].toasts.some(t=>t.id===r)),Cw=(r=cj)=>e=>{RD(e,r)},g$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},p$=(r={},e=cj)=>{let[t,n]=S.useState(tA[e]||UD),a=S.useRef(tA[e]);S.useEffect(()=>(a.current!==tA[e]&&n(tA[e]),Mv.push([e,n]),()=>{let i=Mv.findIndex(([l])=>l===e);i>-1&&Mv.splice(i,1)}),[e]);let s=t.toasts.map(i=>{var l,c,u;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((l=r[i.type])==null?void 0:l.removeDelay)||r?.removeDelay,duration:i.duration||((c=r[i.type])==null?void 0:c.duration)||r?.duration||g$[i.type],style:{...r.style,...(u=r[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},y$=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||h$()}),G0=r=>(e,t)=>{let n=y$(e,r,t);return Cw(n.toasterId||m$(n.id))({type:2,toast:n}),n.id},Ce=(r,e)=>G0("blank")(r,e);Ce.error=G0("error");Ce.success=G0("success");Ce.loading=G0("loading");Ce.custom=G0("custom");Ce.dismiss=(r,e)=>{let t={type:3,toastId:r};e?Cw(e)(t):QD(t)};Ce.dismissAll=r=>Ce.dismiss(void 0,r);Ce.remove=(r,e)=>{let t={type:4,toastId:r};e?Cw(e)(t):QD(t)};Ce.removeAll=r=>Ce.remove(void 0,r);Ce.promise=(r,e,t)=>{let n=Ce.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let s=e.success?ib(e.success,a):void 0;return s?Ce.success(s,{id:n,...t,...t?.success}):Ce.dismiss(n),a}).catch(a=>{let s=e.error?ib(e.error,a):void 0;s?Ce.error(s,{id:n,...t,...t?.error}):Ce.dismiss(n)}),r};var x$=1e3,v$=(r,e="default")=>{let{toasts:t,pausedAt:n}=p$(r,e),a=S.useRef(new Map).current,s=S.useCallback((f,g=x$)=>{if(a.has(f))return;let p=setTimeout(()=>{a.delete(f),i({type:4,toastId:f})},g);a.set(f,p)},[]);S.useEffect(()=>{if(n)return;let f=Date.now(),g=t.map(p=>{if(p.duration===1/0)return;let x=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(x<0){p.visible&&Ce.dismiss(p.id);return}return setTimeout(()=>Ce.dismiss(p.id,e),x)});return()=>{g.forEach(p=>p&&clearTimeout(p))}},[t,n,e]);let i=S.useCallback(Cw(e),[e]),l=S.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=S.useCallback((f,g)=>{i({type:1,toast:{id:f,height:g}})},[i]),u=S.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=S.useCallback((f,g)=>{let{reverseOrder:p=!1,gutter:x=8,defaultPosition:y}=g||{},b=t.filter(j=>(j.position||y)===(f.position||y)&&j.height),w=b.findIndex(j=>j.id===f.id),N=b.filter((j,k)=>k<w&&j.visible).length;return b.filter(j=>j.visible).slice(...p?[N+1]:[0,N]).reduce((j,k)=>j+(k.height||0)+x,0)},[t]);return S.useEffect(()=>{t.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let g=a.get(f.id);g&&(clearTimeout(g),a.delete(f.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},b$=Au`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,w$=Au`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C$=Au`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,B$=Rd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${w$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${C$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,N$=Au`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S$=Rd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${N$} 1s linear infinite;
`,j$=Au`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,E$=Au`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_$=Rd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${E$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,k$=Rd("div")`
  position: absolute;
`,T$=Rd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,F$=Au`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P$=Rd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${F$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O$=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?S.createElement(P$,null,e):e:t==="blank"?null:S.createElement(T$,null,S.createElement(S$,{...n}),t!=="loading"&&S.createElement(k$,null,t==="error"?S.createElement(B$,{...n}):S.createElement(_$,{...n})))},I$=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L$=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,D$="0%{opacity:0;} 100%{opacity:1;}",M$="0%{opacity:1;} 100%{opacity:0;}",U$=Rd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,R$=Rd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Q$=(r,e)=>{let t=r.includes("top")?1:-1,[n,a]=DD()?[D$,M$]:[I$(t),L$(t)];return{animation:e?`${Au(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Au(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},H$=S.memo(({toast:r,position:e,style:t,children:n})=>{let a=r.height?Q$(r.position||e||"top-center",r.visible):{opacity:0},s=S.createElement(O$,{toast:r}),i=S.createElement(R$,{...r.ariaProps},ib(r.message,r));return S.createElement(U$,{className:r.className,style:{...a,...t,...r.style}},typeof n=="function"?n({icon:s,message:i}):S.createElement(S.Fragment,null,s,i))});u$(S.createElement);var K$=({id:r,className:e,style:t,onHeightUpdate:n,children:a})=>{let s=S.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return S.createElement("div",{ref:s,className:e,style:t},a)},z$=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...a}},q$=ww`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Cx=16,$$=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:a,toasterId:s,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=v$(t,s);return S.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Cx,left:Cx,right:Cx,bottom:Cx,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,g=u.calculateOffset(d,{reverseOrder:r,gutter:n,defaultPosition:e}),p=z$(f,g);return S.createElement(K$,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?q$:"",style:p},d.type==="custom"?ib(d.message,d):a?a(d):S.createElement(H$,{toast:d,position:f}))}))},nt=Ce;/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V$=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Ok=r=>{const e=V$(r);return e.charAt(0).toUpperCase()+e.slice(1)},HD=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),W$=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=S.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>S.createElement("svg",{ref:c,...Y$,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:HD("lucide",a),...!s&&!W$(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(r,e)=>{const t=S.forwardRef(({className:n,...a},s)=>S.createElement(X$,{ref:s,iconNode:e,className:HD(`lucide-${G$(Ok(r))}`,`lucide-${r}`,n),...a}));return t.displayName=Ok(r),t};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Z$=rt("arrow-left-right",J$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tG=rt("arrow-left",eG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nG=rt("award",rG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],sG=rt("barcode",aG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],J5=rt("bell",iG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Z5=rt("box",oG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],uu=rt("briefcase",lG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],aA=rt("building-2",cG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ns=rt("calendar",AG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v0=rt("chart-column",uG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],b0=rt("check",dG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ob=rt("chevron-down",hG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mG=rt("chevron-left",fG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Km=rt("chevron-right",gG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ss=rt("circle-alert",pG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Aj=rt("circle-check",yG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],is=rt("circle-check-big",xG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bG=rt("circle-play",vG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Uv=rt("circle-x",wG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],KD=rt("clipboard-list",CG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],as=rt("clock",BG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],SG=rt("copy",NG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eN=rt("dollar-sign",jG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wu=rt("download",EG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sC=rt("eye-off",_G);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sA=rt("eye",kG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],FG=rt("file-json",TG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],za=rt("file-text",PG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],IG=rt("file",OG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],du=rt("flask-conical",LG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],iA=rt("folder-open",DG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bw=rt("funnel",MG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],RG=rt("globe",UG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],uj=rt("hash",QG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dj=rt("house",HG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lb=rt("image",KG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hj=rt("info",zG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zD=rt("loader-circle",qG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ik=rt("log-in",$G);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VG=rt("log-out",GG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cd=rt("lock",WG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ng=rt("mail",YG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dm=rt("map-pin",XG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ZG=rt("menu",JG);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],cb=rt("monitor",eV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hu=rt("package",tV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],nV=rt("palette",rV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Lk=rt("paperclip",aV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cA=rt("pen",sV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nw=rt("phone",iV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vs=rt("plus",oV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ab=rt("qr-code",lV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],qD=rt("receipt",cV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sw=rt("refresh-cw",AV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$D=rt("save",uV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AA=rt("search",dV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GD=rt("settings",hV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],mV=rt("sheet",fV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pV=rt("shopping-cart",gV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],VD=rt("square-pen",yV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vV=rt("target",xV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wV=rt("toggle-left",bV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],BV=rt("toggle-right",CV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ui=rt("trash-2",NV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],V0=rt("trending-up",SV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W0=rt("triangle-alert",jV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vl=rt("upload",EV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ng=rt("user-plus",_V);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fd=rt("users",kV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yl=rt("user",TV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Gh=rt("wrench",FV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],br=rt("x",PV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],IV=rt("zoom-in",OV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],DV=rt("zoom-out",LV);function WD(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=WD(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Mr(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=WD(r))&&(n&&(n+=" "),n+=e);return n}const fj="-",MV=r=>{const e=RV(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:i=>{const l=i.split(fj);return l[0]===""&&l.length!==1&&l.shift(),YD(l,e)||UV(i)},getConflictingClassGroupIds:(i,l)=>{const c=t[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},YD=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),a=n?YD(r.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=r.join(fj);return e.validators.find(({validator:i})=>i(s))?.classGroupId},Dk=/^\[(.+)\]$/,UV=r=>{if(Dk.test(r)){const e=Dk.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},RV=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const a in t)tN(t[a],n,a,e);return n},tN=(r,e,t,n)=>{r.forEach(a=>{if(typeof a=="string"){const s=a===""?e:Mk(e,a);s.classGroupId=t;return}if(typeof a=="function"){if(QV(a)){tN(a(n),e,t,n);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([s,i])=>{tN(i,Mk(e,s),t,n)})})},Mk=(r,e)=>{let t=r;return e.split(fj).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},QV=r=>r.isThemeGetter,HV=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const a=(s,i)=>{t.set(s,i),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){t.has(s)?t.set(s,i):a(s,i)}}},rN="!",nN=":",KV=nN.length,zV=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=a=>{const s=[];let i=0,l=0,c=0,u;for(let x=0;x<a.length;x++){let y=a[x];if(i===0&&l===0){if(y===nN){s.push(a.slice(c,x)),c=x+KV;continue}if(y==="/"){u=x;continue}}y==="["?i++:y==="]"?i--:y==="("?l++:y===")"&&l--}const d=s.length===0?a:a.substring(c),f=qV(d),g=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:p}};if(e){const a=e+nN,s=n;n=i=>i.startsWith(a)?s(i.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const a=n;n=s=>t({className:s,parseClassName:a})}return n},qV=r=>r.endsWith(rN)?r.substring(0,r.length-1):r.startsWith(rN)?r.substring(1):r,$V=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(a.push(...s.sort(),i),s=[]):s.push(i)}),a.push(...s.sort()),a}},GV=r=>({cache:HV(r.cacheSize),parseClassName:zV(r),sortModifiers:$V(r),...MV(r)}),VV=/\s+/,WV=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=e,i=[],l=r.trim().split(VV);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:g,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}=t(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!y,w=n(b?x.substring(0,y):x);if(!w){if(!b){c=d+(c.length>0?" "+c:c);continue}if(w=n(x),!w){c=d+(c.length>0?" "+c:c);continue}b=!1}const N=s(g).join(":"),j=p?N+rN:N,k=j+w;if(i.includes(k))continue;i.push(k);const T=a(w,b);for(let I=0;I<T.length;++I){const M=T[I];i.push(j+M)}c=d+(c.length>0?" "+c:c)}return c};function YV(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=XD(e))&&(n&&(n+=" "),n+=t);return n}const XD=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=XD(r[n]))&&(t&&(t+=" "),t+=e);return t};function XV(r,...e){let t,n,a,s=i;function i(c){const u=e.reduce((d,f)=>f(d),r());return t=GV(u),n=t.cache.get,a=t.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=WV(c,t);return a(c,d),d}return function(){return s(YV.apply(null,arguments))}}const ts=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},JD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ZD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JV=/^\d+\/\d+$/,ZV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gm=r=>JV.test(r),mr=r=>!!r&&!Number.isNaN(Number(r)),cd=r=>!!r&&Number.isInteger(Number(r)),iC=r=>r.endsWith("%")&&mr(r.slice(0,-1)),qA=r=>ZV.test(r),aW=()=>!0,sW=r=>eW.test(r)&&!tW.test(r),eM=()=>!1,iW=r=>rW.test(r),oW=r=>nW.test(r),lW=r=>!pt(r)&&!yt(r),cW=r=>Sg(r,nM,eM),pt=r=>JD.test(r),Bh=r=>Sg(r,aM,sW),oC=r=>Sg(r,fW,mr),Uk=r=>Sg(r,tM,eM),AW=r=>Sg(r,rM,oW),Bx=r=>Sg(r,sM,iW),yt=r=>ZD.test(r),jp=r=>jg(r,aM),uW=r=>jg(r,mW),Rk=r=>jg(r,tM),dW=r=>jg(r,nM),hW=r=>jg(r,rM),Nx=r=>jg(r,sM,!0),Sg=(r,e,t)=>{const n=JD.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},jg=(r,e,t=!1)=>{const n=ZD.exec(r);return n?n[1]?e(n[1]):t:!1},tM=r=>r==="position"||r==="percentage",rM=r=>r==="image"||r==="url",nM=r=>r==="length"||r==="size"||r==="bg-size",aM=r=>r==="length",fW=r=>r==="number",mW=r=>r==="family-name",sM=r=>r==="shadow",gW=()=>{const r=ts("color"),e=ts("font"),t=ts("text"),n=ts("font-weight"),a=ts("tracking"),s=ts("leading"),i=ts("breakpoint"),l=ts("container"),c=ts("spacing"),u=ts("radius"),d=ts("shadow"),f=ts("inset-shadow"),g=ts("text-shadow"),p=ts("drop-shadow"),x=ts("blur"),y=ts("perspective"),b=ts("aspect"),w=ts("ease"),N=ts("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...k(),yt,pt],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],L=()=>[yt,pt,c],P=()=>[gm,"full","auto",...L()],q=()=>[cd,"none","subgrid",yt,pt],F=()=>["auto",{span:["full",cd,yt,pt]},cd,yt,pt],R=()=>[cd,"auto",yt,pt],H=()=>["auto","min","max","fr",yt,pt],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...L()],te=()=>[gm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],ee=()=>[r,yt,pt],fe=()=>[...k(),Rk,Uk,{position:[yt,pt]}],_e=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",dW,cW,{size:[yt,pt]}],U=()=>[iC,jp,Bh],Y=()=>["","none","full",u,yt,pt],ne=()=>["",mr,jp,Bh],oe=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[mr,iC,Rk,Uk],Se=()=>["","none",x,yt,pt],me=()=>["none",mr,yt,pt],be=()=>["none",mr,yt,pt],ge=()=>[mr,yt,pt],le=()=>[gm,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qA],breakpoint:[qA],color:[aW],container:[qA],"drop-shadow":[qA],ease:["in","out","in-out"],font:[lW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qA],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qA],shadow:[qA],spacing:["px",mr],text:[qA],"text-shadow":[qA],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gm,pt,yt,b]}],container:["container"],columns:[{columns:[mr,pt,yt,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[cd,"auto",yt,pt]}],basis:[{basis:[gm,"full","auto",l,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mr,gm,"auto","initial","none",pt]}],grow:[{grow:["",mr,yt,pt]}],shrink:[{shrink:["",mr,yt,pt]}],order:[{order:[cd,"first","last","none",yt,pt]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[l,"screen",...te()]}],"min-w":[{"min-w":[l,"screen","none",...te()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",t,jp,Bh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,yt,oC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",iC,pt]}],"font-family":[{font:[uW,pt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,yt,pt]}],"line-clamp":[{"line-clamp":[mr,"none",yt,oC]}],leading:[{leading:[s,...L()]}],"list-image":[{"list-image":["none",yt,pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",yt,pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[mr,"from-font","auto",yt,Bh]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[mr,"auto",yt,pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt,pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt,pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:_e()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cd,yt,pt],radial:["",yt,pt],conic:[cd,yt,pt]},hW,AW]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mr,yt,pt]}],"outline-w":[{outline:["",mr,jp,Bh]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",d,Nx,Bx]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",f,Nx,Bx]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[mr,Bh]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",g,Nx,Bx]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[mr,yt,pt]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mr]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[yt,pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[mr]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:_e()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",yt,pt]}],filter:[{filter:["","none",yt,pt]}],blur:[{blur:Se()}],brightness:[{brightness:[mr,yt,pt]}],contrast:[{contrast:[mr,yt,pt]}],"drop-shadow":[{"drop-shadow":["","none",p,Nx,Bx]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",mr,yt,pt]}],"hue-rotate":[{"hue-rotate":[mr,yt,pt]}],invert:[{invert:["",mr,yt,pt]}],saturate:[{saturate:[mr,yt,pt]}],sepia:[{sepia:["",mr,yt,pt]}],"backdrop-filter":[{"backdrop-filter":["","none",yt,pt]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[mr,yt,pt]}],"backdrop-contrast":[{"backdrop-contrast":[mr,yt,pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mr,yt,pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mr,yt,pt]}],"backdrop-invert":[{"backdrop-invert":["",mr,yt,pt]}],"backdrop-opacity":[{"backdrop-opacity":[mr,yt,pt]}],"backdrop-saturate":[{"backdrop-saturate":[mr,yt,pt]}],"backdrop-sepia":[{"backdrop-sepia":["",mr,yt,pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",yt,pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mr,"initial",yt,pt]}],ease:[{ease:["linear","initial",w,yt,pt]}],delay:[{delay:[mr,yt,pt]}],animate:[{animate:["none",N,yt,pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,yt,pt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[yt,pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt,pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt,pt]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[mr,jp,Bh,oC]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pW=XV(gW);function Dr(...r){return pW(Mr(r))}function Qk(r){return new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(r)}function km(r){if(!r)return"-";const e=new Date(r);return isNaN(e.getTime())?"-":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}const Xr={engineer:1,"senior-engineer":2,"principal-engineer":2,manager:2,"managing-director":3,admin:4},Hk=r=>{const e=Xr[r]||0;return r==="admin"?{canAddProject:!0,canAddResearch:!0,canAddBusinessContact:!0,canAddTimesheet:!0,canExportTimesheet:!0,canAddTeamMember:!0,canEditTeamMember:!0,canDeleteTeamMember:!0,canAddOrRemoveInventory:!0,canAddMaintenanceDates:!0,canAddOrRemovePC:!0,canCheckoutEquipment:!0,canAssignPC:!0,canAccessFinance:!0,canUploadPO:!0,canApproveInvoices:!0,canViewManHourCost:!0,canViewAnalytics:!0,canManageProjectRates:!0}:{canAddProject:e>=Xr["senior-engineer"],canAddResearch:e>=Xr.engineer,canAddBusinessContact:e>=Xr.engineer,canAddTimesheet:e>=Xr.engineer,canExportTimesheet:e>=Xr["senior-engineer"],canAddTeamMember:e>=Xr["principal-engineer"],canEditTeamMember:e>=Xr["principal-engineer"],canDeleteTeamMember:e>=Xr["principal-engineer"],canAddOrRemoveInventory:e>=Xr.engineer,canAddMaintenanceDates:e>=Xr.engineer,canAddOrRemovePC:e>=Xr.engineer,canCheckoutEquipment:e>=Xr.engineer,canAssignPC:e>=Xr.engineer,canAccessFinance:e>=Xr["senior-engineer"],canUploadPO:e>=Xr["senior-engineer"],canApproveInvoices:e>=Xr["managing-director"],canViewManHourCost:e>=Xr["senior-engineer"],canViewAnalytics:e>=Xr["senior-engineer"],canManageProjectRates:e>=Xr["senior-engineer"]}},yW=r=>{if(r.length===0)return"engineer";if(r.includes("admin"))return"admin";let e=r[0],t=Xr[e]||0;for(const n of r){const a=Xr[n]||0;a>t&&(t=a,e=n)}return e},jw=r=>{const e=Array.isArray(r)?r:[r];if(e.length===0)return Hk("engineer");const t=yW(e);return Hk(t)},Ew=r=>({engineer:{label:"Engineer",color:"bg-blue-100 text-blue-800 border-blue-200",icon:"",level:Xr.engineer},"senior-engineer":{label:"Senior Engineer",color:"bg-purple-100 text-purple-800 border-purple-200",icon:"",level:Xr["senior-engineer"]},"principal-engineer":{label:"Principal Engineer",color:"bg-indigo-100 text-indigo-800 border-indigo-200",icon:"",level:Xr["principal-engineer"]},manager:{label:"Manager",color:"bg-green-100 text-green-800 border-green-200",icon:"",level:Xr.manager},"managing-director":{label:"Managing Director",color:"bg-red-100 text-red-800 border-red-200",icon:"",level:Xr["managing-director"]},admin:{label:"Admin",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"",level:Xr.admin}})[r],oA=(r,e)=>`This action requires ${Ew(e).label} level or higher. Please contact your manager if you need access.`,Ac=(r,e)=>jw(r)[e];function iM(r,e){return function(){return r.apply(e,arguments)}}const{toString:xW}=Object.prototype,{getPrototypeOf:mj}=Object,{iterator:_w,toStringTag:oM}=Symbol,kw=(r=>e=>{const t=xW.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),mc=r=>(r=r.toLowerCase(),e=>kw(e)===r),Tw=r=>e=>typeof e===r,{isArray:Eg}=Array,ag=Tw("undefined");function Y0(r){return r!==null&&!ag(r)&&r.constructor!==null&&!ag(r.constructor)&&to(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const lM=mc("ArrayBuffer");function vW(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&lM(r.buffer),e}const bW=Tw("string"),to=Tw("function"),cM=Tw("number"),X0=r=>r!==null&&typeof r=="object",wW=r=>r===!0||r===!1,Rv=r=>{if(kw(r)!=="object")return!1;const e=mj(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(oM in r)&&!(_w in r)},CW=r=>{if(!X0(r)||Y0(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},BW=mc("Date"),NW=mc("File"),SW=mc("Blob"),jW=mc("FileList"),EW=r=>X0(r)&&to(r.pipe),_W=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||to(r.append)&&((e=kw(r))==="formdata"||e==="object"&&to(r.toString)&&r.toString()==="[object FormData]"))},kW=mc("URLSearchParams"),[TW,FW,PW,OW]=["ReadableStream","Request","Response","Headers"].map(mc),IW=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J0(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),Eg(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(Y0(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,r[l],l,r)}}function AM(r,e){if(Y0(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const Dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uM=r=>!ag(r)&&r!==Dh;function aN(){const{caseless:r,skipUndefined:e}=uM(this)&&this||{},t={},n=(a,s)=>{const i=r&&AM(t,s)||s;Rv(t[i])&&Rv(a)?t[i]=aN(t[i],a):Rv(a)?t[i]=aN({},a):Eg(a)?t[i]=a.slice():(!e||!ag(a))&&(t[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&J0(arguments[a],n);return t}const LW=(r,e,t,{allOwnKeys:n}={})=>(J0(e,(a,s)=>{t&&to(a)?r[s]=iM(a,t):r[s]=a},{allOwnKeys:n}),r),DW=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),MW=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},UW=(r,e,t,n)=>{let a,s,i;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),s=a.length;s-- >0;)i=a[s],(!n||n(i,r,e))&&!l[i]&&(e[i]=r[i],l[i]=!0);r=t!==!1&&mj(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},RW=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},QW=r=>{if(!r)return null;if(Eg(r))return r;let e=r.length;if(!cM(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},HW=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&mj(Uint8Array)),KW=(r,e)=>{const n=(r&&r[_w]).call(r);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(r,s[0],s[1])}},zW=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},qW=mc("HTMLFormElement"),$W=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),Kk=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),GW=mc("RegExp"),dM=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};J0(t,(a,s)=>{let i;(i=e(a,s,r))!==!1&&(n[s]=i||a)}),Object.defineProperties(r,n)},VW=r=>{dM(r,(e,t)=>{if(to(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(to(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},WW=(r,e)=>{const t={},n=a=>{a.forEach(s=>{t[s]=!0})};return Eg(r)?n(r):n(String(r).split(e)),t},YW=()=>{},XW=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function JW(r){return!!(r&&to(r.append)&&r[oM]==="FormData"&&r[_w])}const ZW=r=>{const e=new Array(10),t=(n,a)=>{if(X0(n)){if(e.indexOf(n)>=0)return;if(Y0(n))return n;if(!("toJSON"in n)){e[a]=n;const s=Eg(n)?[]:{};return J0(n,(i,l)=>{const c=t(i,a+1);!ag(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return t(r,0)},eY=mc("AsyncFunction"),tY=r=>r&&(X0(r)||to(r))&&to(r.then)&&to(r.catch),hM=((r,e)=>r?setImmediate:e?((t,n)=>(Dh.addEventListener("message",({source:a,data:s})=>{a===Dh&&s===t&&n.length&&n.shift()()},!1),a=>{n.push(a),Dh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",to(Dh.postMessage)),rY=typeof queueMicrotask<"u"?queueMicrotask.bind(Dh):typeof process<"u"&&process.nextTick||hM,nY=r=>r!=null&&to(r[_w]),De={isArray:Eg,isArrayBuffer:lM,isBuffer:Y0,isFormData:_W,isArrayBufferView:vW,isString:bW,isNumber:cM,isBoolean:wW,isObject:X0,isPlainObject:Rv,isEmptyObject:CW,isReadableStream:TW,isRequest:FW,isResponse:PW,isHeaders:OW,isUndefined:ag,isDate:BW,isFile:NW,isBlob:SW,isRegExp:GW,isFunction:to,isStream:EW,isURLSearchParams:kW,isTypedArray:HW,isFileList:jW,forEach:J0,merge:aN,extend:LW,trim:IW,stripBOM:DW,inherits:MW,toFlatObject:UW,kindOf:kw,kindOfTest:mc,endsWith:RW,toArray:QW,forEachEntry:KW,matchAll:zW,isHTMLForm:qW,hasOwnProperty:Kk,hasOwnProp:Kk,reduceDescriptors:dM,freezeMethods:VW,toObjectSet:WW,toCamelCase:$W,noop:YW,toFiniteNumber:XW,findKey:AM,global:Dh,isContextDefined:uM,isSpecCompliantForm:JW,toJSONObject:ZW,isAsyncFn:eY,isThenable:tY,setImmediate:hM,asap:rY,isIterable:nY};function Ar(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}De.inherits(Ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const fM=Ar.prototype,mM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{mM[r]={value:r}});Object.defineProperties(Ar,mM);Object.defineProperty(fM,"isAxiosError",{value:!0});Ar.from=(r,e,t,n,a,s)=>{const i=Object.create(fM);De.toFlatObject(r,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=r&&r.message?r.message:"Error",c=e==null&&r?r.code:e;return Ar.call(i,l,c,t,n,a),r&&i.cause==null&&Object.defineProperty(i,"cause",{value:r,configurable:!0}),i.name=r&&r.name||"Error",s&&Object.assign(i,s),i};const aY=null;function sN(r){return De.isPlainObject(r)||De.isArray(r)}function gM(r){return De.endsWith(r,"[]")?r.slice(0,-2):r}function zk(r,e,t){return r?r.concat(e).map(function(a,s){return a=gM(a),!t&&s?"["+a+"]":a}).join(t?".":""):e}function sY(r){return De.isArray(r)&&!r.some(sN)}const iY=De.toFlatObject(De,{},null,function(e){return/^is[A-Z]/.test(e)});function Fw(r,e,t){if(!De.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=De.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!De.isUndefined(b[y])});const n=t.metaTokens,a=t.visitor||d,s=t.dots,i=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(e);if(!De.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(De.isDate(x))return x.toISOString();if(De.isBoolean(x))return x.toString();if(!c&&De.isBlob(x))throw new Ar("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(x)||De.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,y,b){let w=x;if(x&&!b&&typeof x=="object"){if(De.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(De.isArray(x)&&sY(x)||(De.isFileList(x)||De.endsWith(y,"[]"))&&(w=De.toArray(x)))return y=gM(y),w.forEach(function(j,k){!(De.isUndefined(j)||j===null)&&e.append(i===!0?zk([y],k,s):i===null?y:y+"[]",u(j))}),!1}return sN(x)?!0:(e.append(zk(b,y,s),u(x)),!1)}const f=[],g=Object.assign(iY,{defaultVisitor:d,convertValue:u,isVisitable:sN});function p(x,y){if(!De.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(x),De.forEach(x,function(w,N){(!(De.isUndefined(w)||w===null)&&a.call(e,w,De.isString(N)?N.trim():N,y,g))===!0&&p(w,y?y.concat(N):[N])}),f.pop()}}if(!De.isObject(r))throw new TypeError("data must be an object");return p(r),e}function qk(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function gj(r,e){this._pairs=[],r&&Fw(r,this,e)}const pM=gj.prototype;pM.append=function(e,t){this._pairs.push([e,t])};pM.toString=function(e){const t=e?function(n){return e.call(this,n,qk)}:qk;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function oY(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yM(r,e,t){if(!e)return r;const n=t&&t.encode||oY;De.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let s;if(a?s=a(e,t):s=De.isURLSearchParams(e)?e.toString():new gj(e,t).toString(n),s){const i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class $k{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){De.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lY=typeof URLSearchParams<"u"?URLSearchParams:gj,cY=typeof FormData<"u"?FormData:null,AY=typeof Blob<"u"?Blob:null,uY={isBrowser:!0,classes:{URLSearchParams:lY,FormData:cY,Blob:AY},protocols:["http","https","file","blob","url","data"]},pj=typeof window<"u"&&typeof document<"u",iN=typeof navigator=="object"&&navigator||void 0,dY=pj&&(!iN||["ReactNative","NativeScript","NS"].indexOf(iN.product)<0),hY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fY=pj&&window.location.href||"http://localhost",mY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pj,hasStandardBrowserEnv:dY,hasStandardBrowserWebWorkerEnv:hY,navigator:iN,origin:fY},Symbol.toStringTag,{value:"Module"})),li={...mY,...uY};function gY(r,e){return Fw(r,new li.classes.URLSearchParams,{visitor:function(t,n,a,s){return li.isNode&&De.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function pY(r){return De.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yY(r){const e={},t=Object.keys(r);let n;const a=t.length;let s;for(n=0;n<a;n++)s=t[n],e[s]=r[s];return e}function vM(r){function e(t,n,a,s){let i=t[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=t.length;return i=!i&&De.isArray(a)?a.length:i,c?(De.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!De.isObject(a[i]))&&(a[i]=[]),e(t,n,a[i],s)&&De.isArray(a[i])&&(a[i]=yY(a[i])),!l)}if(De.isFormData(r)&&De.isFunction(r.entries)){const t={};return De.forEachEntry(r,(n,a)=>{e(pY(n),a,t,0)}),t}return null}function xY(r,e,t){if(De.isString(r))try{return(e||JSON.parse)(r),De.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Z0={transitional:xM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=De.isObject(e);if(s&&De.isHTMLForm(e)&&(e=new FormData(e)),De.isFormData(e))return a?JSON.stringify(vM(e)):e;if(De.isArrayBuffer(e)||De.isBuffer(e)||De.isStream(e)||De.isFile(e)||De.isBlob(e)||De.isReadableStream(e))return e;if(De.isArrayBufferView(e))return e.buffer;if(De.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return gY(e,this.formSerializer).toString();if((l=De.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fw(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),xY(e)):e}],transformResponse:[function(e){const t=this.transitional||Z0.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(De.isResponse(e)||De.isReadableStream(e))return e;if(e&&De.isString(e)&&(n&&!this.responseType||a)){const i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Ar.from(l,Ar.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],r=>{Z0.headers[r]={}});const vY=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bY=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(i){a=i.indexOf(":"),t=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!t||e[t]&&vY[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Gk=Symbol("internals");function Ep(r){return r&&String(r).trim().toLowerCase()}function Qv(r){return r===!1||r==null?r:De.isArray(r)?r.map(Qv):String(r)}function wY(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const CY=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function lC(r,e,t,n,a){if(De.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!De.isString(e)){if(De.isString(n))return e.indexOf(n)!==-1;if(De.isRegExp(n))return n.test(e)}}function BY(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function NY(r,e){const t=De.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let ro=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(l,c,u){const d=Ep(c);if(!d)throw new Error("header name must be a non-empty string");const f=De.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Qv(l))}const i=(l,c)=>De.forEach(l,(u,d)=>s(u,d,c));if(De.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(De.isString(e)&&(e=e.trim())&&!CY(e))i(bY(e),t);else if(De.isObject(e)&&De.isIterable(e)){let l={},c,u;for(const d of e){if(!De.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?De.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=Ep(e),e){const n=De.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return wY(a);if(De.isFunction(t))return t.call(this,a,n);if(De.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ep(e),e){const n=De.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||lC(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function s(i){if(i=Ep(i),i){const l=De.findKey(n,i);l&&(!t||lC(n,n[l],l,t))&&(delete n[l],a=!0)}}return De.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];(!e||lC(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return De.forEach(this,(a,s)=>{const i=De.findKey(n,s);if(i){t[i]=Qv(a),delete t[s];return}const l=e?BY(s):String(s).trim();l!==s&&delete t[s],t[l]=Qv(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return De.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&De.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[Gk]=this[Gk]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Ep(i);n[l]||(NY(a,i),n[l]=!0)}return De.isArray(e)?e.forEach(s):s(e),this}};ro.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(ro.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});De.freezeMethods(ro);function cC(r,e){const t=this||Z0,n=e||t,a=ro.from(n.headers);let s=n.data;return De.forEach(r,function(l){s=l.call(t,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function bM(r){return!!(r&&r.__CANCEL__)}function _g(r,e,t){Ar.call(this,r??"canceled",Ar.ERR_CANCELED,e,t),this.name="CanceledError"}De.inherits(_g,Ar,{__CANCEL__:!0});function wM(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Ar("Request failed with status code "+t.status,[Ar.ERR_BAD_REQUEST,Ar.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function SY(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function jY(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),t[a]=c,n[a]=u;let f=s,g=0;for(;f!==a;)g+=t[f++],f=f%r;if(a=(a+1)%r,a===s&&(s=(s+1)%r),u-i<e)return;const p=d&&u-d;return p?Math.round(g*1e3/p):void 0}}function EY(r,e){let t=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{t=d,a=null,s&&(clearTimeout(s),s=null),r(...u)};return[(...u)=>{const d=Date.now(),f=d-t;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const ub=(r,e,t=3)=>{let n=0;const a=jY(50,250);return EY(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(f)},t)},Vk=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Wk=r=>(...e)=>De.asap(()=>r(...e)),_Y=li.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,li.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(li.origin),li.navigator&&/(msie|trident)/i.test(li.navigator.userAgent)):()=>!0,kY=li.hasStandardBrowserEnv?{write(r,e,t,n,a,s){const i=[r+"="+encodeURIComponent(e)];De.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),De.isString(n)&&i.push("path="+n),De.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TY(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function FY(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function CM(r,e,t){let n=!TY(e);return r&&(n||t==!1)?FY(r,e):e}const Yk=r=>r instanceof ro?{...r}:r;function rf(r,e){e=e||{};const t={};function n(u,d,f,g){return De.isPlainObject(u)&&De.isPlainObject(d)?De.merge.call({caseless:g},u,d):De.isPlainObject(d)?De.merge({},d):De.isArray(d)?d.slice():d}function a(u,d,f,g){if(De.isUndefined(d)){if(!De.isUndefined(u))return n(void 0,u,f,g)}else return n(u,d,f,g)}function s(u,d){if(!De.isUndefined(d))return n(void 0,d)}function i(u,d){if(De.isUndefined(d)){if(!De.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in r)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(Yk(u),Yk(d),f,!0)};return De.forEach(Object.keys({...r,...e}),function(d){const f=c[d]||a,g=f(r[d],e[d],d);De.isUndefined(g)&&f!==l||(t[d]=g)}),t}const BM=r=>{const e=rf({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;if(e.headers=i=ro.from(i),e.url=yM(CM(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),De.isFormData(t)){if(li.hasStandardBrowserEnv||li.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(De.isFunction(t.getHeaders)){const c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(li.hasStandardBrowserEnv&&(n&&De.isFunction(n)&&(n=n(e)),n||n!==!1&&_Y(e.url))){const c=a&&s&&kY.read(s);c&&i.set(a,c)}return e},PY=typeof XMLHttpRequest<"u",OY=PY&&function(r){return new Promise(function(t,n){const a=BM(r);let s=a.data;const i=ro.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,g,p,x;function y(){p&&p(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function w(){if(!b)return;const j=ro.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:r,request:b};wM(function(M){t(M),y()},function(M){n(M),y()},T),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(n(new Ar("Request aborted",Ar.ECONNABORTED,r,b)),b=null)},b.onerror=function(k){const T=k&&k.message?k.message:"Network Error",I=new Ar(T,Ar.ERR_NETWORK,r,b);I.event=k||null,n(I),b=null},b.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||xM;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new Ar(k,T.clarifyTimeoutError?Ar.ETIMEDOUT:Ar.ECONNABORTED,r,b)),b=null},s===void 0&&i.setContentType(null),"setRequestHeader"in b&&De.forEach(i.toJSON(),function(k,T){b.setRequestHeader(T,k)}),De.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([g,x]=ub(u,!0),b.addEventListener("progress",g)),c&&b.upload&&([f,p]=ub(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=j=>{b&&(n(!j||j.type?new _g(null,r,b):j),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const N=SY(a.url);if(N&&li.protocols.indexOf(N)===-1){n(new Ar("Unsupported protocol "+N+":",Ar.ERR_BAD_REQUEST,r));return}b.send(s||null)})},IY=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ar?d:new _g(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Ar(`timeout ${e} of ms exceeded`,Ar.ETIMEDOUT))},e);const l=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),r=null)};r.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>De.asap(l),c}},LY=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},DY=async function*(r,e){for await(const t of MY(r))yield*LY(t,e)},MY=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Xk=(r,e,t,n)=>{const a=DY(r,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(t){let g=s+=f;t(g)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Jk=64*1024,{isFunction:Sx}=De,UY=(({Request:r,Response:e})=>({Request:r,Response:e}))(De.global),{ReadableStream:Zk,TextEncoder:eT}=De.global,tT=(r,...e)=>{try{return!!r(...e)}catch{return!1}},RY=r=>{r=De.merge.call({skipUndefined:!0},UY,r);const{fetch:e,Request:t,Response:n}=r,a=e?Sx(e):typeof fetch=="function",s=Sx(t),i=Sx(n);if(!a)return!1;const l=a&&Sx(Zk),c=a&&(typeof eT=="function"?(x=>y=>x.encode(y))(new eT):async x=>new Uint8Array(await new t(x).arrayBuffer())),u=s&&l&&tT(()=>{let x=!1;const y=new t(li.origin,{body:new Zk,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!y}),d=i&&l&&tT(()=>De.isReadableStream(new n("").body)),f={stream:d&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(y,b)=>{let w=y&&y[x];if(w)return w.call(y);throw new Ar(`Response type '${x}' is not supported`,Ar.ERR_NOT_SUPPORT,b)})});const g=async x=>{if(x==null)return 0;if(De.isBlob(x))return x.size;if(De.isSpecCompliantForm(x))return(await new t(li.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(De.isArrayBufferView(x)||De.isArrayBuffer(x))return x.byteLength;if(De.isURLSearchParams(x)&&(x=x+""),De.isString(x))return(await c(x)).byteLength},p=async(x,y)=>{const b=De.toFiniteNumber(x.getContentLength());return b??g(y)};return async x=>{let{url:y,method:b,data:w,signal:N,cancelToken:j,timeout:k,onDownloadProgress:T,onUploadProgress:I,responseType:M,headers:L,withCredentials:P="same-origin",fetchOptions:q}=BM(x),F=e||fetch;M=M?(M+"").toLowerCase():"text";let R=IY([N,j&&j.toAbortSignal()],k),H=null;const z=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let X;try{if(I&&u&&b!=="get"&&b!=="head"&&(X=await p(L,w))!==0){let re=new t(y,{method:"POST",body:w,duplex:"half"}),U;if(De.isFormData(w)&&(U=re.headers.get("content-type"))&&L.setContentType(U),re.body){const[Y,ne]=Vk(X,ub(Wk(I)));w=Xk(re.body,Jk,Y,ne)}}De.isString(P)||(P=P?"include":"omit");const $=s&&"credentials"in t.prototype,te={...q,signal:R,method:b.toUpperCase(),headers:L.normalize().toJSON(),body:w,duplex:"half",credentials:$?P:void 0};H=s&&new t(y,te);let ee=await(s?F(H,q):F(y,te));const fe=d&&(M==="stream"||M==="response");if(d&&(T||fe&&z)){const re={};["status","statusText","headers"].forEach(oe=>{re[oe]=ee[oe]});const U=De.toFiniteNumber(ee.headers.get("content-length")),[Y,ne]=T&&Vk(U,ub(Wk(T),!0))||[];ee=new n(Xk(ee.body,Jk,Y,()=>{ne&&ne(),z&&z()}),re)}M=M||"text";let _e=await f[De.findKey(f,M)||"text"](ee,x);return!fe&&z&&z(),await new Promise((re,U)=>{wM(re,U,{data:_e,headers:ro.from(ee.headers),status:ee.status,statusText:ee.statusText,config:x,request:H})})}catch($){throw z&&z(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ar("Network Error",Ar.ERR_NETWORK,x,H),{cause:$.cause||$}):Ar.from($,$&&$.code,x,H)}}},QY=new Map,NM=r=>{let e=r?r.env:{};const{fetch:t,Request:n,Response:a}=e,s=[n,a,t];let i=s.length,l=i,c,u,d=QY;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:RY(e)),d=u;return u};NM();const oN={http:aY,xhr:OY,fetch:{get:NM}};De.forEach(oN,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const rT=r=>`- ${r}`,HY=r=>De.isFunction(r)||r===null||r===!1,SM={getAdapter:(r,e)=>{r=De.isArray(r)?r:[r];const{length:t}=r;let n,a;const s={};for(let i=0;i<t;i++){n=r[i];let l;if(a=n,!HY(n)&&(a=oN[(l=String(n)).toLowerCase()],a===void 0))throw new Ar(`Unknown adapter '${l}'`);if(a&&(De.isFunction(a)||(a=a.get(e))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(rT).join(`
`):" "+rT(i[0]):"as no adapter specified";throw new Ar("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:oN};function AC(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new _g(null,r)}function nT(r){return AC(r),r.headers=ro.from(r.headers),r.data=cC.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),SM.getAdapter(r.adapter||Z0.adapter,r)(r).then(function(n){return AC(r),n.data=cC.call(r,r.transformResponse,n),n.headers=ro.from(n.headers),n},function(n){return bM(n)||(AC(r),n&&n.response&&(n.response.data=cC.call(r,r.transformResponse,n.response),n.response.headers=ro.from(n.response.headers))),Promise.reject(n)})}const jM="1.12.2",Pw={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Pw[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const aT={};Pw.transitional=function(e,t,n){function a(s,i){return"[Axios v"+jM+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Ar(a(i," has been removed"+(t?" in "+t:"")),Ar.ERR_DEPRECATED);return t&&!aT[i]&&(aT[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,l):!0}};Pw.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function KY(r,e,t){if(typeof r!="object")throw new Ar("options must be an object",Ar.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=r[s],c=l===void 0||i(l,s,r);if(c!==!0)throw new Ar("option "+s+" must be "+c,Ar.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ar("Unknown option "+s,Ar.ERR_BAD_OPTION)}}const Hv={assertOptions:KY,validators:Pw},zc=Hv.validators;let Vh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $k,response:new $k}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=rf(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;n!==void 0&&Hv.assertOptions(n,{silentJSONParsing:zc.transitional(zc.boolean),forcedJSONParsing:zc.transitional(zc.boolean),clarifyTimeoutError:zc.transitional(zc.boolean)},!1),a!=null&&(De.isFunction(a)?t.paramsSerializer={serialize:a}:Hv.assertOptions(a,{encode:zc.function,serialize:zc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hv.assertOptions(t,{baseUrl:zc.spelling("baseURL"),withXsrfToken:zc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&De.merge(s.common,s[t.method]);s&&De.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),t.headers=ro.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,g;if(!c){const x=[nT.bind(this),void 0];for(x.unshift(...l),x.push(...u),g=x.length,d=Promise.resolve(t);f<g;)d=d.then(x[f++],x[f++]);return d}g=l.length;let p=t;for(;f<g;){const x=l[f++],y=l[f++];try{p=x(p)}catch(b){y.call(this,b);break}}try{d=nT.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,g=u.length;f<g;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=rf(this.defaults,e);const t=CM(e.baseURL,e.url,e.allowAbsoluteUrls);return yM(t,e.params,e.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(e){Vh.prototype[e]=function(t,n){return this.request(rf(n||{},{method:e,url:t,data:(n||{}).data}))}});De.forEach(["post","put","patch"],function(e){function t(n){return function(s,i,l){return this.request(rf(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Vh.prototype[e]=t(),Vh.prototype[e+"Form"]=t(!0)});let zY=class EM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new _g(s,i,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new EM(function(a){e=a}),cancel:e}}};function qY(r){return function(t){return r.apply(null,t)}}function $Y(r){return De.isObject(r)&&r.isAxiosError===!0}const lN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lN).forEach(([r,e])=>{lN[e]=r});function _M(r){const e=new Vh(r),t=iM(Vh.prototype.request,e);return De.extend(t,Vh.prototype,e,{allOwnKeys:!0}),De.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return _M(rf(r,a))},t}const Pa=_M(Z0);Pa.Axios=Vh;Pa.CanceledError=_g;Pa.CancelToken=zY;Pa.isCancel=bM;Pa.VERSION=jM;Pa.toFormData=Fw;Pa.AxiosError=Ar;Pa.Cancel=Pa.CanceledError;Pa.all=function(e){return Promise.all(e)};Pa.spread=qY;Pa.isAxiosError=$Y;Pa.mergeConfig=rf;Pa.AxiosHeaders=ro;Pa.formToJSON=r=>vM(De.isHTMLForm(r)?new FormData(r):r);Pa.getAdapter=SM.getAdapter;Pa.HttpStatusCode=lN;Pa.default=Pa;const{Axios:K5e,AxiosError:z5e,CanceledError:q5e,isCancel:$5e,CancelToken:G5e,VERSION:V5e,all:W5e,Cancel:Y5e,isAxiosError:X5e,spread:J5e,toFormData:Z5e,AxiosHeaders:eNe,HttpStatusCode:tNe,formToJSON:rNe,getAdapter:nNe,mergeConfig:aNe}=Pa,GY=r=>r.replace(/_([a-z])/g,e=>e[1].toUpperCase()),Fr=r=>{try{return Array.isArray(r)?r.map(e=>Fr(e)):r!==null&&typeof r=="object"&&!(r instanceof Date)?Object.keys(r).reduce((e,t)=>{const n=GY(t),a=r[t];return e[n]=a!==null&&typeof a=="object"&&!(a instanceof Date)?Fr(a):a,e},{}):r}catch(e){return console.error("Error in transformKeysToCAmelCase:",e),r}};class VY{api;token=null;constructor(){const e="https://mycaetech.com/api";console.log(" HTTP Client initialized with baseURL:",e),this.api=Pa.create({baseURL:e,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.token=localStorage.getItem("auth_token"),this.token&&this.setAuthToken(this.token),this.api.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(t.config?.url?.includes("/auth/login")||(this.clearAuth(),window.location.href="/login")),Promise.reject(t)))}setAuthToken(e){this.token=e,this.api.defaults.headers.common.Authorization=`Bearer ${e}`,localStorage.setItem("auth_token",e)}clearAuth(){this.token=null,delete this.api.defaults.headers.common.Authorization,localStorage.removeItem("auth_token")}getToken(){return this.token}isAuthenticated(){return!!this.token}isProduction(){return!0}getEnvironmentInfo(){return{isProduction:this.isProduction(),url:this.api.defaults.baseURL||"Unknown"}}}const Sr=new VY,Ve=Sr.api,WY=Object.freeze(Object.defineProperty({__proto__:null,api:Ve,httpClient:Sr,transformKeysToCAmelCase:Fr},Symbol.toStringTag,{value:"Module"}));class YY{async register(e){const t=await Ve.post("/auth/register",e);return t.data.token&&Sr.setAuthToken(t.data.token),t.data}async login(e,t,n){console.log(" AuthService: Sending login request",{email:e,hasCaptcha:!!n});try{const a=await Ve.post("/auth/login",{email:e,password:t,captchaToken:n});return console.log(" AuthService: Login response received",a),console.log(" AuthService: Response data",a.data),a.data.token?(console.log(" AuthService: Token found, setting auth token"),Sr.setAuthToken(a.data.token)):console.warn(" AuthService: No token in response!"),a.data}catch(a){throw console.error(" AuthService: Login failed",a),a}}async logout(){Sr.clearAuth()}async changePassword(e,t,n){return(await Ve.post("/auth/change-password",{email:e,currentPassword:t,newPassword:n})).data}async updateUserAvatar(e){return(await Ve.patch("/users/avatar",{avatarId:e})).data}async getCurrentUserProfile(){return(await Ve.get("/users/profile")).data}isAuthenticated(){return Sr.isAuthenticated()}getToken(){return Sr.getToken()}}const Eh=new YY,kM=S.createContext(void 0),XY=({children:r})=>{const[e,t]=S.useState(()=>{const i=localStorage.getItem("currentUser");return i?JSON.parse(i):null}),n=async(i,l,c)=>{try{const u=await Eh.login(i,l,c),{user:d,token:f,isFirstTimeLogin:g}=u,p={...d,isFirstTimeLogin:g};return t(d),localStorage.setItem("currentUser",JSON.stringify(d)),localStorage.setItem("auth_token",f),p}catch(u){throw new Error(u.response?.data?.message||"Invalid credentials")}},a=()=>{t(null),localStorage.removeItem("currentUser"),localStorage.removeItem("auth_token")},s=i=>e?Ac(e.roles||[e.role],i):!1;return o.jsx(kM.Provider,{value:{user:e,login:n,logout:a,isAuthenticated:!!e,hasPermission:s},children:r})},Qd=()=>{const r=S.useContext(kM);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},JY=[{to:"/",icon:dj,label:"Dashboard",section:"main"},{to:"/my-dashboard",icon:v0,label:"My Dashboard",section:"main"},{to:"/projects",icon:iA,label:"Projects",section:"projects"},{to:"/research",icon:du,label:"Research",section:"projects"},{to:"/timesheets",icon:as,label:"Timesheets",section:"projects"},{to:"/team-workload",icon:Fd,label:"Team Workload",section:"projects"},{to:"/team",icon:Fd,label:"Team Members",section:"people"},{to:"/companies",icon:aA,label:"Business Contacts",section:"people"},{to:"/finance",icon:eN,label:"Finance Overview",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/documents",icon:za,label:"Finance Documents",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/exchange-rates",icon:Z$,label:"Exchange Rates",section:"finance",requiresPermission:"canAccessFinance"},{to:"/inventory",icon:hu,label:"Inventory",section:"equipment"},{to:"/equipment",icon:KD,label:"Equipment Management",section:"equipment"},{to:"/pcs",icon:cb,label:"PC Assignment",section:"equipment"},{to:"/maintenance",icon:Gh,label:"Maintenance",section:"equipment"},{to:"/settings",icon:GD,label:"Settings",section:"system"}],ZY=({isOpen:r=!0,onClose:e})=>{const{user:t}=Qd();if(!t)return null;const n=t.roles||[t.role],a=jw(n),s=n.length>0?n.reduce((c,u)=>{const d=Xr[u]||0,f=Xr[c]||0;return d>f?u:c},n[0]):t.role,i=Ew(s),l=c=>JY.filter(u=>u.section===c).filter(u=>u.requiresPermission?a[u.requiresPermission]:!0);return o.jsxs(o.Fragment,{children:[r&&e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),o.jsx("aside",{className:Dr("fixed md:sticky top-0 left-0 z-50 h-screen w-64 bg-white dark:bg-gray-900 shadow-lg border-r border-slate-200 dark:border-gray-700","transition-transform duration-300 ease-in-out","md:translate-x-0",r?"translate-x-0":"-translate-x-full"),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"relative flex items-center justify-center px-5 py-6 border-b border-slate-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("span",{className:"text-3xl font-extrabold tracking-tight",children:[o.jsx("span",{className:"text-slate-800 dark:text-gray-100",children:"My"}),o.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 bg-clip-text text-transparent",children:"CAE"})]}),o.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-gray-400 tracking-[0.2em] uppercase mt-0.5",children:"Technologies"})]}),e&&o.jsx("button",{onClick:e,className:"absolute right-3 md:hidden p-2 hover:bg-slate-100 dark:hover:bg-gray-700 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-gray-100 rounded-lg transition-colors","aria-label":"Close menu",children:o.jsx(br,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 px-3 py-4 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:l("main").map(c=>o.jsx("li",{children:o.jsxs(gd,{to:c.to,end:!0,onClick:e,className:({isActive:u})=>Dr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Projects"}),o.jsx("ul",{className:"space-y-1",children:l("projects").map(c=>o.jsx("li",{children:o.jsxs(gd,{to:c.to,onClick:e,className:({isActive:u})=>Dr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"People & Contacts"}),o.jsx("ul",{className:"space-y-1",children:l("people").map(c=>o.jsx("li",{children:o.jsxs(gd,{to:c.to,onClick:e,className:({isActive:u})=>Dr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),l("finance").length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Finance"}),o.jsx("ul",{className:"space-y-1",children:l("finance").map(c=>o.jsx("li",{children:o.jsxs(gd,{to:c.to,end:c.to==="/finance",onClick:e,className:({isActive:u})=>Dr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Equipment"}),o.jsx("ul",{className:"space-y-1",children:l("equipment").map(c=>o.jsx("li",{children:o.jsxs(gd,{to:c.to,onClick:e,className:({isActive:u})=>Dr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})]}),o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:l("system").map(c=>o.jsx("li",{children:o.jsxs(gd,{to:c.to,onClick:e,className:({isActive:u})=>Dr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",u?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(c.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:c.label})]})},c.to))})})]})}),o.jsxs("div",{className:"px-4 py-4 border-t border-slate-200 dark:border-gray-700 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 dark:from-gray-800 dark:to-gray-800 space-y-3",children:[o.jsx("div",{className:"px-3 py-2.5 rounded-lg border border-blue-200 dark:border-blue-700 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-base",children:i.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold truncate text-slate-900 dark:text-gray-100",children:i.label}),o.jsxs("p",{className:"text-[10px] text-slate-600 dark:text-gray-400",children:["Level ",i.level," Access"]})]})]})}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-gray-500",children:[o.jsx("p",{className:"font-medium",children:"v1.0.0"}),o.jsx("p",{className:"mt-1",children:" 2025 MyCAE"})]})]})]})})]})},eX=[{to:"/",icon:dj,label:"Home"},{to:"/projects",icon:iA,label:"Projects"},{to:"/clients",icon:aA,label:"Clients"},{to:"/team",icon:Fd,label:"Team"},{to:"/inventory",icon:hu,label:"Equipment"}],tX=()=>o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 md:hidden",children:o.jsx("ul",{className:"flex items-center justify-around",children:eX.map(r=>o.jsx("li",{className:"flex-1",children:o.jsx(gd,{to:r.to,className:({isActive:e})=>Dr("flex flex-col items-center gap-1 py-2 px-2 transition-colors touch-target","hover:bg-gray-50",e?"text-primary-600":"text-gray-600"),children:({isActive:e})=>o.jsxs(o.Fragment,{children:[o.jsx(r.icon,{className:Dr("w-6 h-6",e&&"fill-current")}),o.jsx("span",{className:"text-xs font-medium",children:r.label})]})})},r.to))})});function Ow(){const[r,e]=S.useState("desktop"),[t,n]=S.useState(!1),[a,s]=S.useState(!1),[i,l]=S.useState(!0);return S.useEffect(()=>{const c=()=>{const u=window.innerWidth;u<768?(e("mobile"),n(!0),s(!1),l(!1)):u>=768&&u<1024?(e("tablet"),n(!1),s(!0),l(!1)):(e("desktop"),n(!1),s(!1),l(!0))};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),{breakpoint:r,isMobile:t,isTablet:a,isDesktop:i}}const sT=r=>{let e;const t=new Set,n=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const g=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(p=>p(e,g))}},a=()=>e,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=r(n,a,l);return l},rX=(r=>r?sT(r):sT),nX=r=>r;function aX(r,e=nX){const t=$s.useSyncExternalStore(r.subscribe,$s.useCallback(()=>e(r.getState()),[r,e]),$s.useCallback(()=>e(r.getInitialState()),[r,e]));return $s.useDebugValue(t),t}const iT=r=>{const e=rX(r),t=n=>aX(e,n);return Object.assign(t,e),t},Nl=(r=>r?iT(r):iT),TM=Nl((r,e)=>({notifications:[],unreadCount:0,addNotification:t=>{const n={...t,id:`notif-${Date.now()}`,timestamp:new Date,read:!1};r(a=>({notifications:[n,...a.notifications],unreadCount:a.unreadCount+1}))},markAsRead:t=>{r(n=>{const a=n.notifications.map(i=>i.id===t?{...i,read:!0}:i),s=a.filter(i=>!i.read).length;return{notifications:a,unreadCount:s}})},markAllAsRead:()=>{r(t=>({notifications:t.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:t=>{r(n=>{const s=n.notifications.find(i=>i.id===t)?.read?n.unreadCount:n.unreadCount-1;return{notifications:n.notifications.filter(i=>i.id!==t),unreadCount:Math.max(0,s)}})},clearAll:()=>{r(()=>({notifications:[],unreadCount:0}))}})),sX=()=>{const[r,e]=S.useState(!1),[t,n]=S.useState(!1),[a,s]=S.useState(!1),{isDesktop:i}=Ow(),{logout:l,user:c}=Qd(),{notifications:u,unreadCount:d,markAsRead:f,deleteNotification:g}=TM(),p=()=>{l(),Ce.success("Logged out successfully")},x=b=>{switch(b){case"alert":return"bg-red-500";case"warning":return"bg-yellow-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-gray-500"}},y=b=>{const N=new Date().getTime()-new Date(b).getTime(),j=Math.floor(N/6e4),k=Math.floor(N/36e5),T=Math.floor(N/864e5);return j<1?"Just now":j<60?`${j}m ago`:k<24?`${k}h ago`:`${T}d ago`};return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 dark:bg-gray-900",children:[o.jsx("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),o.jsx(ZY,{isOpen:i||r,onClose:()=>e(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[o.jsxs("div",{className:"sticky top-0 z-30 px-4 py-3 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-700 flex items-center justify-between shadow-sm",children:[o.jsx("div",{className:"flex items-center",children:!i&&o.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 mr-2","aria-label":"Open menu",children:o.jsx(ZG,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!t),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`Notifications ${d>0?`(${d} unread)`:""}`,"aria-haspopup":"menu","aria-expanded":t,"aria-controls":"notifications-menu",children:[o.jsx(J5,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"}),d>0&&o.jsx("span",{className:"absolute top-1 right-1 min-w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold text-white","aria-label":`${d} unread notifications`,children:d>9?"9+":d})]}),t&&o.jsxs("div",{id:"notifications-menu",role:"menu","aria-label":"Notifications menu",className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"}),d>0&&o.jsxs("span",{className:"text-xs font-medium text-primary-600","aria-live":"polite",children:[d," unread"]})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",role:"group",children:u.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(J5,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2","aria-hidden":"true"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"})]}):u.map(b=>o.jsx("div",{role:"menuitem",className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${b.read?"":"bg-blue-50 dark:bg-blue-900/30"}`,"aria-current":b.read?"false":"true",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-2 h-2 ${x(b.type)} rounded-full mt-1.5 flex-shrink-0`,"aria-hidden":"true"}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:b.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2",children:b.message}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:y(b.timestamp)})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[!b.read&&o.jsx("button",{onClick:w=>{w.stopPropagation(),f(b.id)},className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"Mark as read","aria-label":`Mark notification as read: ${b.title}`,children:o.jsx(b0,{className:"w-3 h-3","aria-hidden":"true"})}),o.jsx("button",{onClick:w=>{w.stopPropagation(),g(b.id)},className:"p-1 hover:bg-red-100 rounded text-gray-400 hover:text-red-600 transition-colors",title:"Delete notification","aria-label":`Delete notification: ${b.title}`,children:o.jsx(ui,{className:"w-3 h-3","aria-hidden":"true"})})]})]})})]})},b.id))}),o.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:o.jsx("button",{className:"w-full text-center text-sm text-primary-600 hover:text-primary-700 font-medium py-1 transition-colors","aria-label":"View all notifications",children:"View All Notifications"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>{s(!a),n(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`User menu for ${c?.name||"User"}`,"aria-haspopup":"menu","aria-expanded":a,"aria-controls":"user-menu",children:o.jsx(yl,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"})}),a&&o.jsxs("div",{id:"user-menu",role:"menu",className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-cyan-100 dark:bg-cyan-900 rounded-full flex items-center justify-center",children:o.jsx(yl,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c?.email||"user@mycae.com"})]})]})}),o.jsx("div",{className:"py-2",children:o.jsxs("button",{onClick:()=>{p(),s(!1)},role:"menuitem",className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center gap-3 transition-colors","aria-label":"Logout",children:[o.jsx(VG,{className:"w-4 h-4","aria-hidden":"true"}),"Logout"]})})]})]})]})]}),o.jsx("main",{id:"main-content",className:"flex-1 overflow-y-auto pb-16 md:pb-0 bg-slate-50 dark:bg-gray-900",tabIndex:-1,children:o.jsx("div",{className:"h-full",children:o.jsx(jD,{})})}),o.jsx(tX,{})]}),(t||a)&&o.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{n(!1),s(!1)}})]})},iX=()=>{const{isAuthenticated:r}=Qd();return r?o.jsx(jD,{}):o.jsx(G5,{to:"/login"})};class oX extends $s.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"max-w-md w-full mx-4 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(W0,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. This error has been logged and our team will look into it."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Sw,{className:"w-4 h-4"}),"Try Again"]}),o.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Go to Dashboard"})]}),!1]})}):this.props.children}}class lX{async getInventoryItems(e){const t=await Ve.get("/inventory",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getInventoryById(e){return(await Ve.get(`/inventory/${e}`)).data}async createInventoryItem(e){return(await Ve.post("/inventory",e)).data}async updateInventoryItem(e,t){return(await Ve.put(`/inventory/${e}`,t)).data}async deleteInventoryItem(e){await Ve.delete(`/inventory/${e}`)}async bulkCreateInventoryItems(e){return(await Ve.post("/inventory/bulk/create",{items:e})).data}async createSingleCheckout(e){return(await Ve.post("/checkouts/single",e)).data}async createBulkCheckout(e){return(await Ve.post("/checkouts/bulk",e)).data}async checkInSingle(e){return(await Ve.post("/checkouts/checkin/single",e)).data}async checkInBulk(e){return(await Ve.post("/checkouts/checkin/bulk",e)).data}async getAllCheckouts(){return(await Ve.get("/checkouts")).data}async getCheckoutByMasterBarcode(e){return(await Ve.get(`/checkouts/${e}`)).data}async getAllMaintenanceTickets(){return(await Ve.get("/maintenance")).data}async createMaintenanceTicket(e){return(await Ve.post("/maintenance",e)).data}async updateMaintenanceTicket(e,t){return(await Ve.put(`/maintenance/${e}`,t)).data}async deleteMaintenanceTicket(e){await Ve.delete(`/maintenance/${e}`)}async getMaintenanceTicketById(e){return(await Ve.get(`/maintenance/${e}`)).data}}const In=new lX;class cX{async getProjects(e){const t=await Ve.get("/projects",{params:e});try{const n=Fr(t.data);return(Array.isArray(n)?n:[n]).map(i=>({...i,engineerId:i.leadEngineerId||i.engineerId,engineerName:i.leadEngineer?.name||i.engineerName,managerName:i.manager?.name||i.managerName}))}catch(n){return console.error("Error transforming projects data:",n),t.data}}async getProjectById(e){const t=await Ve.get(`/projects/${e}`);return Fr(t.data)}async createProject(e){const t=await Ve.post("/projects",e);return Fr(t.data)}async updateProject(e,t){const n=await Ve.put(`/projects/${e}`,t);return Fr(n.data)}async deleteProject(e){await Ve.delete(`/projects/${e}`)}async updateProjectStatus(e,t,n){const a=await Ve.patch(`/projects/${e}/status`,{status:t,dateField:n});return Fr(a.data)}async uploadProjectPO(e,t){const n=new FormData;return n.append("poFile",t),(await Ve.post(`/projects/${e}/upload-po`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteProjectPO(e){return(await Ve.delete(`/projects/${e}/po-file`)).data}async downloadProjectPO(e){return(await Ve.get(e,{responseType:"blob"})).data}async getProjectHourlyRates(e){return(await Ve.get(`/project-hourly-rates/${e}`)).data?.data||[]}async saveProjectHourlyRates(e,t){return(await Ve.put(`/project-hourly-rates/${e}`,{rates:t})).data}async deleteProjectHourlyRate(e,t){await Ve.delete(`/project-hourly-rates/${e}/${t}`)}async uploadMigrationFile(e){const t=new FormData;return t.append("file",e),(await Ve.post("/migration/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async executeMigration(e){return(await Ve.post("/migration/execute",{projects:e})).data}async getMigrationTemplate(){return(await Ve.get("/migration/template")).data}}const Rs=new cX;class AX{async getTimesheets(e){const t=await Ve.get("/timesheets",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Fr(n)}async createTimesheet(e){const t=await Ve.post("/timesheets",e);return Fr(t.data)}async updateTimesheet(e,t){const n=await Ve.put(`/timesheets/${e}`,t);return Fr(n.data)}async deleteTimesheet(e){await Ve.delete(`/timesheets/${e}`)}async getAllClients(e){const t=await Ve.get("/clients",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Fr(n)}async getClientById(e){const t=await Ve.get(`/clients/${e}`);return Fr(t.data)}async createClient(e){const t=await Ve.post("/clients",e);return Fr(t.data)}async updateClient(e,t){const n=await Ve.put(`/clients/${e}`,t);return Fr(n.data)}async deleteClient(e){await Ve.delete(`/clients/${e}`)}}const $A=new AX;class uX{async getAllTeamMembers(e){const t=await Ve.get("/team",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Fr(n)}async getTeamMemberById(e){const t=await Ve.get(`/team/${e}`);return Fr(t.data)}async createTeamMember(e){const t=await Ve.post("/team",e);return Fr(t.data)}async updateTeamMember(e,t){const n=await Ve.put(`/team/${e}`,t);return Fr(n.data)}async deleteTeamMember(e){await Ve.delete(`/team/${e}`)}async reactivateTeamMember(e){return(await Ve.post(`/team/${e}/reactivate`)).data}async updateTeamMemberAvatar(e,t){const n=await Ve.patch(`/team/${e}/avatar`,{avatarId:t});return Fr(n.data)}async getTeamByDepartment(e,t){return(await Ve.get(`/team/department/${e}`,{params:t})).data}}const Ad=new uX;class dX{async getAllComputers(e){const t=await Ve.get("/computers",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getComputerById(e){return(await Ve.get(`/computers/${e}`)).data}async createComputer(e){return(await Ve.post("/computers",e)).data}async updateComputer(e,t){return(await Ve.put(`/computers/${e}`,t)).data}async deleteComputer(e){await Ve.delete(`/computers/${e}`)}async getComputersAssignedTo(e,t){const n=await Ve.get(`/computers/assigned/${e}`,{params:t});return Array.isArray(n.data)?n.data:n.data?.data||[]}async assignComputerToUser(e,t,n,a){return(await Ve.post(`/computers/${e}/assign`,{userId:t,installedSoftware:n,notes:a})).data}async unassignComputer(e){return(await Ve.post(`/computers/${e}/unassign`,{})).data}async setMaintenanceStatus(e,t){return(await Ve.post(`/computers/${e}/maintenance`,{inMaintenance:t})).data}}const GA=new dX;class hX{async getAllResearchProjects(e){const n=(await Ve.get("/research/projects",{params:e})).data,a=Array.isArray(n)?n:n?.data||[];return Fr(a)}async getResearchProjectById(e){const t=await Ve.get(`/research/projects/${e}`);return Fr(t.data)}async createResearchProject(e){const t=await Ve.post("/research/projects",e);return Fr(t.data)}async updateResearchProject(e,t){const n=await Ve.put(`/research/projects/${e}`,t);return Fr(n.data)}async deleteResearchProject(e){await Ve.delete(`/research/projects/${e}`)}async getResearchProjectsByStatus(e,t){const n=await Ve.get(`/research/projects/status/${e}`,{params:t});return Fr(n.data)}async logResearchTimesheet(e){const t=await Ve.post("/research/timesheets",e);return Fr(t.data)}async approveResearchTimesheet(e,t){const n=await Ve.put(`/research/timesheets/${e}/approve`,{approvedBy:t});return Fr(n.data)}async deleteResearchTimesheet(e){await Ve.delete(`/research/timesheets/${e}`)}async getResearchTimesheets(e){return(await Ve.get("/research/timesheets",{params:e})).data}}const qc=new hX;class fX{async getAllInvoices(e){const t=await Ve.get("/invoices",{params:e});return Array.isArray(t.data)?t.data:t.data.data||[]}async getInvoiceById(e){const t=await Ve.get(`/invoices/${e}`);return Fr(t.data)}async getNextInvoiceNumber(){return(await Ve.get("/invoices/next-number")).data.nextNumber}async getInvoiceProjectContext(e){const t=await Ve.get(`/invoices/project/${e}/context`);return Fr(t.data)}async createInvoice(e){const t=await Ve.post("/invoices",e);return Fr(t.data)}async updateInvoice(e,t){const n=await Ve.put(`/invoices/${e}`,t);return Fr(n.data)}async deleteInvoice(e){await Ve.delete(`/invoices/${e}`)}async downloadInvoicePDF(e){return(await Ve.get(`/invoices/${e}/pdf`,{responseType:"blob"})).data}async getAllIssuedPOs(e){const t=await Ve.get("/issued-pos",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Fr(n)}async getIssuedPOById(e){const t=await Ve.get(`/issued-pos/${e}`);return Fr(t.data)}async getNextIssuedPONumber(){return(await Ve.get("/issued-pos/next-number")).data.nextNumber}async createIssuedPO(e){const t=await Ve.post("/issued-pos",e);return Fr(t.data)}async updateIssuedPO(e,t){const n=await Ve.put(`/issued-pos/${e}`,t);return Fr(n.data)}async deleteIssuedPO(e){await Ve.delete(`/issued-pos/${e}`)}async downloadIssuedPOPDF(e){return(await Ve.get(`/issued-pos/${e}/pdf`,{responseType:"blob"})).data}async getAllPurchaseOrders(e){return(await Ve.get("/purchase-orders",{params:e})).data}async getPurchaseOrderById(e){return(await Ve.get(`/purchase-orders/${e}`)).data}async createPurchaseOrder(e){return(await Ve.post("/purchase-orders",e)).data}async updatePurchaseOrder(e,t){return(await Ve.put(`/purchase-orders/${e}`,t)).data}async deletePurchaseOrder(e){return(await Ve.delete(`/purchase-orders/${e}`)).data}async uploadPurchaseOrderFile(e){return(await Ve.post("/purchase-orders/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async downloadPurchaseOrderFile(e){return(await Ve.get(`/purchase-orders/download/${e}`,{responseType:"blob"})).data}async getPurchaseOrders(e){return this.getAllPurchaseOrders(e)}async getPORevisions(e){return(await Ve.get(`/purchase-orders/${e}/revisions`)).data}async createPORevision(e,t){return(await Ve.post(`/purchase-orders/${e}/revisions`,t)).data}async adjustPOMYRAmount(e,t,n){return(await Ve.patch(`/purchase-orders/${e}/adjust-myr`,{adjustedAmount:t,reason:n})).data}async getExchangeRates(){return(await Ve.get("/exchange-rates")).data||[]}async createExchangeRate(e){return(await Ve.post("/exchange-rates",e)).data}async importExchangeRates(){return(await Ve.post("/exchange-rates/import")).data}async convertCurrency(e,t){return(await Ve.get("/exchange-rates/convert",{params:{amount:e,fromCurrency:t}})).data}async getExchangeRate(e,t){return(await Ve.get("/exchange-rates/single",{params:{fromCurrency:e,date:t?.toISOString().split("T")[0]}})).data}async getAllCategories(){return(await Ve.get("/categories")).data||[]}async getCategoryById(e){return(await Ve.get(`/categories/${e}`)).data}async createCategory(e){return(await Ve.post("/categories",e)).data}async updateCategory(e,t){return(await Ve.put(`/categories/${e}`,t)).data}async deleteCategory(e){await Ve.delete(`/categories/${e}`)}}const Zt=new fX;class mX{async createActivityLog(e){return(await Ve.post("/activity",e)).data}async getRecentActivity(e=10){return(await Ve.get("/activity",{params:{limit:e}})).data}async getAllActivity(e){return(await Ve.get("/activity",{params:e})).data}async getActivityById(e){return(await Ve.get(`/activity/${e}`)).data}async getActivityByUser(e,t){return(await Ve.get(`/activity/user/${e}`,{params:t})).data}async getActivityByModule(e,t){return(await Ve.get(`/activity/module/${e}`,{params:t})).data}}const pm=new mX;class FM{setAuthToken(e){Sr.setAuthToken(e)}clearAuth(){Sr.clearAuth()}isProduction(){return Sr.isProduction()}getEnvironmentInfo(){return Sr.getEnvironmentInfo()}async register(e){return Eh.register(e)}async login(e,t,n){return Eh.login(e,t,n)}async logout(){return Eh.logout()}async changePassword(e,t,n){return Eh.changePassword(e,t,n)}async updateUserAvatar(e){return Eh.updateUserAvatar(e)}async getCurrentUserProfile(){return Eh.getCurrentUserProfile()}async getInventoryItems(e){return In.getInventoryItems(e)}async getInventoryById(e){return In.getInventoryById(e)}async createInventoryItem(e){return In.createInventoryItem(e)}async updateInventoryItem(e,t){return In.updateInventoryItem(e,t)}async deleteInventoryItem(e){return In.deleteInventoryItem(e)}async bulkCreateInventoryItems(e){return In.bulkCreateInventoryItems(e)}async createSingleCheckout(e){return In.createSingleCheckout(e)}async createBulkCheckout(e){return In.createBulkCheckout(e)}async checkInSingle(e){return In.checkInSingle(e)}async checkInBulk(e){return In.checkInBulk(e)}async getAllCheckouts(){return In.getAllCheckouts()}async getCheckoutByMasterBarcode(e){return In.getCheckoutByMasterBarcode(e)}async getAllMaintenanceTickets(){return In.getAllMaintenanceTickets()}async createMaintenanceTicket(e){return In.createMaintenanceTicket(e)}async updateMaintenanceTicket(e,t){return In.updateMaintenanceTicket(e,t)}async deleteMaintenanceTicket(e){return In.deleteMaintenanceTicket(e)}async getMaintenanceTicketById(e){return In.getMaintenanceTicketById(e)}async createActivityLog(e){return pm.createActivityLog(e)}async getRecentActivity(e=10){return pm.getRecentActivity(e)}async getAllActivity(e){return pm.getAllActivity(e)}async getActivityById(e){return pm.getActivityById(e)}async getActivityByUser(e,t){return pm.getActivityByUser(e,t)}async getActivityByModule(e,t){return pm.getActivityByModule(e,t)}async getProjects(e){return Rs.getProjects(e)}async getProjectById(e){return Rs.getProjectById(e)}async createProject(e){return Rs.createProject(e)}async updateProject(e,t){return Rs.updateProject(e,t)}async deleteProject(e){return Rs.deleteProject(e)}async updateProjectStatus(e,t,n){return Rs.updateProjectStatus(e,t,n)}async uploadProjectPO(e,t){return Rs.uploadProjectPO(e,t)}async deleteProjectPO(e){return Rs.deleteProjectPO(e)}async downloadProjectPO(e){return Rs.downloadProjectPO(e)}async getProjectHourlyRates(e){return Rs.getProjectHourlyRates(e)}async saveProjectHourlyRates(e,t){return Rs.saveProjectHourlyRates(e,t)}async deleteProjectHourlyRate(e,t){return Rs.deleteProjectHourlyRate(e,t)}async uploadMigrationFile(e){return Rs.uploadMigrationFile(e)}async executeMigration(e){return Rs.executeMigration(e)}async getMigrationTemplate(){return Rs.getMigrationTemplate()}async getTimesheets(e){return $A.getTimesheets(e)}async createTimesheet(e){return $A.createTimesheet(e)}async updateTimesheet(e,t){return $A.updateTimesheet(e,t)}async deleteTimesheet(e){return $A.deleteTimesheet(e)}async getAllClients(e){return $A.getAllClients(e)}async getClientById(e){return $A.getClientById(e)}async createClient(e){return $A.createClient(e)}async updateClient(e,t){return $A.updateClient(e,t)}async deleteClient(e){return $A.deleteClient(e)}async getAllTeamMembers(e){return Ad.getAllTeamMembers(e)}async getTeamMemberById(e){return Ad.getTeamMemberById(e)}async createTeamMember(e){return Ad.createTeamMember(e)}async updateTeamMember(e,t){return Ad.updateTeamMember(e,t)}async deleteTeamMember(e){return Ad.deleteTeamMember(e)}async reactivateTeamMember(e){return Ad.reactivateTeamMember(e)}async updateTeamMemberAvatar(e,t){return Ad.updateTeamMemberAvatar(e,t)}async getTeamByDepartment(e,t){return Ad.getTeamByDepartment(e,t)}async getAllComputers(e){return GA.getAllComputers(e)}async getComputerById(e){return GA.getComputerById(e)}async createComputer(e){return GA.createComputer(e)}async updateComputer(e,t){return GA.updateComputer(e,t)}async deleteComputer(e){return GA.deleteComputer(e)}async getComputersAssignedTo(e,t){return GA.getComputersAssignedTo(e,t)}async assignComputerToUser(e,t,n,a){return GA.assignComputerToUser(e,t,n,a)}async unassignComputer(e){return GA.unassignComputer(e)}async setMaintenanceStatus(e,t){return GA.setMaintenanceStatus(e,t)}async getAllResearchProjects(e){return qc.getAllResearchProjects(e)}async getResearchProjectById(e){return qc.getResearchProjectById(e)}async createResearchProject(e){return qc.createResearchProject(e)}async updateResearchProject(e,t){return qc.updateResearchProject(e,t)}async deleteResearchProject(e){return qc.deleteResearchProject(e)}async getResearchProjectsByStatus(e,t){return qc.getResearchProjectsByStatus(e,t)}async logResearchTimesheet(e){return qc.logResearchTimesheet(e)}async approveResearchTimesheet(e,t){return qc.approveResearchTimesheet(e,t)}async deleteResearchTimesheet(e){return qc.deleteResearchTimesheet(e)}async getResearchTimesheets(e){return qc.getResearchTimesheets(e)}async getAllPurchaseOrders(e){return Zt.getAllPurchaseOrders(e)}async getPurchaseOrderById(e){return Zt.getPurchaseOrderById(e)}async createPurchaseOrder(e){return Zt.createPurchaseOrder(e)}async updatePurchaseOrder(e,t){return Zt.updatePurchaseOrder(e,t)}async deletePurchaseOrder(e){return Zt.deletePurchaseOrder(e)}async uploadPurchaseOrderFile(e){return Zt.uploadPurchaseOrderFile(e)}async downloadPurchaseOrderFile(e){return Zt.downloadPurchaseOrderFile(e)}async getPurchaseOrders(e){return Zt.getPurchaseOrders(e)}async getPORevisions(e){return Zt.getPORevisions(e)}async createPORevision(e,t){return Zt.createPORevision(e,t)}async adjustPOMYRAmount(e,t,n){return Zt.adjustPOMYRAmount(e,t,n)}async getAllInvoices(e){return Zt.getAllInvoices(e)}async getInvoiceById(e){return Zt.getInvoiceById(e)}async getNextInvoiceNumber(){return Zt.getNextInvoiceNumber()}async getInvoiceProjectContext(e){return Zt.getInvoiceProjectContext(e)}async createInvoice(e){return Zt.createInvoice(e)}async updateInvoice(e,t){return Zt.updateInvoice(e,t)}async deleteInvoice(e){return Zt.deleteInvoice(e)}async downloadInvoicePDF(e){return Zt.downloadInvoicePDF(e)}async getAllIssuedPOs(e){return Zt.getAllIssuedPOs(e)}async getIssuedPOById(e){return Zt.getIssuedPOById(e)}async getNextIssuedPONumber(){return Zt.getNextIssuedPONumber()}async createIssuedPO(e){return Zt.createIssuedPO(e)}async updateIssuedPO(e,t){return Zt.updateIssuedPO(e,t)}async deleteIssuedPO(e){return Zt.deleteIssuedPO(e)}async downloadIssuedPOPDF(e){return Zt.downloadIssuedPOPDF(e)}async getAllCategories(){return Zt.getAllCategories()}async getCategoryById(e){return Zt.getCategoryById(e)}async createCategory(e){return Zt.createCategory(e)}async updateCategory(e,t){return Zt.updateCategory(e,t)}async deleteCategory(e){return Zt.deleteCategory(e)}async getExchangeRates(){return Zt.getExchangeRates()}async createExchangeRate(e){return Zt.createExchangeRate(e)}async importExchangeRates(){return Zt.importExchangeRates()}async convertCurrency(e,t){return Zt.convertCurrency(e,t)}}const _t=new FM,gX=new FM,{login:sNe,logout:iNe,changePassword:oNe,getInventoryItems:lNe,getInventoryById:cNe,createInventoryItem:ANe,updateInventoryItem:uNe,deleteInventoryItem:dNe,bulkCreateInventoryItems:hNe,createSingleCheckout:fNe,createBulkCheckout:mNe,checkInSingle:gNe,checkInBulk:pNe,getAllCheckouts:yNe,getCheckoutByMasterBarcode:xNe,getAllMaintenanceTickets:vNe,createMaintenanceTicket:bNe,updateMaintenanceTicket:wNe,deleteMaintenanceTicket:CNe,getMaintenanceTicketById:BNe,createActivityLog:NNe,getRecentActivity:SNe,getAllActivity:jNe,getActivityById:ENe,getActivityByUser:_Ne,getActivityByModule:kNe,getProjects:TNe,getProjectById:FNe,createProject:PNe,updateProject:ONe,deleteProject:INe,updateProjectStatus:LNe,uploadProjectPO:DNe,deleteProjectPO:MNe,downloadProjectPO:UNe,getTimesheets:RNe,createTimesheet:QNe,getAllClients:HNe,getClientById:KNe,createClient:zNe,updateClient:qNe,deleteClient:$Ne,getAllTeamMembers:GNe,getTeamMemberById:VNe,createTeamMember:WNe,updateTeamMember:YNe,deleteTeamMember:XNe,getTeamByDepartment:JNe,getAllComputers:ZNe,getComputerById:eSe,createComputer:tSe,updateComputer:rSe,deleteComputer:nSe,getComputersAssignedTo:aSe,assignComputerToUser:sSe,unassignComputer:iSe,getAllResearchProjects:oSe,getResearchProjectById:lSe,createResearchProject:cSe,updateResearchProject:ASe,deleteResearchProject:uSe,getResearchProjectsByStatus:dSe,uploadMigrationFile:hSe,executeMigration:fSe,getMigrationTemplate:mSe,getAllPurchaseOrders:gSe,getPurchaseOrderById:pSe,createPurchaseOrder:ySe,updatePurchaseOrder:xSe,deletePurchaseOrder:vSe,getAllInvoices:bSe,getInvoiceById:wSe,getNextInvoiceNumber:CSe,getInvoiceProjectContext:BSe,createInvoice:NSe,updateInvoice:SSe,deleteInvoice:jSe,downloadInvoicePDF:ESe,getAllIssuedPOs:_Se,getIssuedPOById:kSe,getNextIssuedPONumber:TSe,createIssuedPO:FSe,updateIssuedPO:PSe,deleteIssuedPO:OSe,downloadIssuedPOPDF:ISe,getAllCategories:LSe,getCategoryById:DSe,createCategory:MSe,updateCategory:USe,deleteCategory:RSe,getExchangeRates:QSe,createExchangeRate:HSe,importExchangeRates:KSe,convertCurrency:zSe}=gX,pX=({isOpen:r,onClose:e,onSuccess:t,isFirstTimeLogin:n=!1,userEmail:a=""})=>{const[s,i]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[f,g]=S.useState(!1),[p,x]=S.useState("weak"),y=j=>{if(j.length<8){x("weak");return}/[a-z]/.test(j)&&/[A-Z]/.test(j)&&/[0-9]/.test(j)&&/[^a-zA-Z0-9]/.test(j)?x("strong"):/[a-z]/.test(j)&&/[A-Z]/.test(j)&&/[0-9]/.test(j)?x("medium"):x("weak")},b=j=>{c(j),y(j)},w=async j=>{if(j.preventDefault(),!n&&!s){Ce.error("Current password is required");return}if(!l||!u){Ce.error("Please fill in all password fields");return}if(l.length<8){Ce.error("Password must be at least 8 characters long");return}if(p==="weak"){Ce.error("Password must contain uppercase, lowercase, numbers, and special characters");return}if(l!==u){Ce.error("Passwords do not match");return}if(!n&&l===s){Ce.error("New password must be different from current password");return}g(!0);try{await _t.changePassword(a,n?"":s,l),Ce.success("Password changed successfully"),i(""),c(""),d(""),x("weak"),t&&t(),e()}catch(k){const T=k.response?.data?.message||"Failed to change password";Ce.error(T)}finally{g(!1)}};if(!r)return null;const N=p==="strong"?"bg-green-500":p==="medium"?"bg-yellow-500":"bg-red-500";return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cd,{className:"w-6 h-6 text-primary-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Set Your Password":"Change Password"})]}),!n&&o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),n&&o.jsx("div",{className:"bg-blue-50 border-b border-blue-200 p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Ss,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-blue-800",children:"For security reasons, you must set a new password on your first login."})]})}),o.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[!n&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsx("input",{type:"password",value:s,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter current password",required:!n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsx("input",{type:"password",value:l,onChange:j=>b(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter new password",required:!0}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:"text-xs font-medium capitalize text-gray-600",children:p})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:`${N} h-1.5 rounded-full transition-all`,style:{width:p==="weak"?"33%":p==="medium"?"66%":"100%"}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 8 characters with uppercase, lowercase, numbers, and special characters"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsx("input",{type:"password",value:u,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm new password",required:!0}),l&&u&&l===u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-600",children:[o.jsx(is,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords match"})]}),l&&u&&l!==u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-600",children:[o.jsx(Ss,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords do not match"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[!n&&o.jsx("button",{type:"button",onClick:e,disabled:f,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f||!l||!u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:f?"Changing...":n?"Set Password":"Change Password"})]})]})]})})]})},yX=({isOpen:r,onClose:e})=>{const[t,n]=S.useState(""),[a,s]=S.useState(!1),[i,l]=S.useState(!1);if(!r)return null;const c=async d=>{if(d.preventDefault(),!t){Ce.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){Ce.error("Please enter a valid email address");return}s(!0);try{await Sr.api.post("/auth/forgot-password",{email:t}),Ce.success("Password reset link sent! Please check your email."),l(!0)}catch(f){console.error("Forgot password error:",f),Ce.error(f.response?.data?.error||"Failed to send reset link")}finally{s(!1)}},u=()=>{n(""),l(!1),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i?o.jsx(is,{className:"w-5 h-5 text-blue-600"}):o.jsx(Ng,{className:"w-5 h-5 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Check Your Email":"Forgot Password"})]}),o.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:i?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(is,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"Email sent successfully!"}),o.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["We've sent a password reset link to ",o.jsx("span",{className:"font-medium",children:t})]})]})]})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Ss,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Important:"}),o.jsxs("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"The reset link will expire in 1 hour"}),o.jsx("li",{children:"Check your spam folder if you don't see it"}),o.jsx("li",{children:"Never share the reset link with anyone"})]})]})]})}),o.jsx("button",{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200",children:"Close"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Ss,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Enter your email address and we'll send you a link to reset your password."})]})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),o.jsx("input",{id:"reset-email",type:"email",value:t,onChange:d=>n(d.target.value),placeholder:"you@example.com",disabled:a,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",autoFocus:!0})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]})})]})})};var uC={exports:{}},dC,oT;function xX(){if(oT)return dC;oT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dC=r,dC}var hC,lT;function vX(){if(lT)return hC;lT=1;var r=xX();function e(){}function t(){}return t.resetWarningCache=e,hC=function(){function n(i,l,c,u,d,f){if(f!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},hC}var cT;function bX(){return cT||(cT=1,uC.exports=vX()()),uC.exports}var wX=bX();const Wi=Bl(wX);var CX=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function cN(){return cN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cN.apply(this,arguments)}function BX(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function jx(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NX(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,AN(r,e)}function AN(r,e){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AN(r,e)}var Iw=(function(r){NX(e,r);function e(){var n;return n=r.call(this)||this,n.handleExpired=n.handleExpired.bind(jx(n)),n.handleErrored=n.handleErrored.bind(jx(n)),n.handleChange=n.handleChange.bind(jx(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(jx(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},t.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var a=this;return new Promise(function(s,i){a.executionResolve=s,a.executionReject=i,a.execute()})},t.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},t.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=a(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(a){this.captcha=a},t.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var s=BX(a,CX);return S.createElement("div",cN({},s,{ref:this.handleRecaptchaRef}))},e})(S.Component);Iw.displayName="ReCAPTCHA";Iw.propTypes={sitekey:Wi.string.isRequired,onChange:Wi.func,grecaptcha:Wi.object,theme:Wi.oneOf(["dark","light"]),type:Wi.oneOf(["image","audio"]),tabindex:Wi.number,onExpired:Wi.func,onErrored:Wi.func,size:Wi.oneOf(["compact","normal","invisible"]),stoken:Wi.string,hl:Wi.string,badge:Wi.oneOf(["bottomright","bottomleft","inline"]),isolated:Wi.bool};Iw.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var fC={exports:{}},Wr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function SX(){if(AT)return Wr;AT=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,i=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,p=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,N=r?Symbol.for("react.scope"):60119;function j(T){if(typeof T=="object"&&T!==null){var I=T.$$typeof;switch(I){case e:switch(T=T.type,T){case c:case u:case n:case s:case a:case f:return T;default:switch(T=T&&T.$$typeof,T){case l:case d:case x:case p:case i:return T;default:return I}}case t:return I}}}function k(T){return j(T)===u}return Wr.AsyncMode=c,Wr.ConcurrentMode=u,Wr.ContextConsumer=l,Wr.ContextProvider=i,Wr.Element=e,Wr.ForwardRef=d,Wr.Fragment=n,Wr.Lazy=x,Wr.Memo=p,Wr.Portal=t,Wr.Profiler=s,Wr.StrictMode=a,Wr.Suspense=f,Wr.isAsyncMode=function(T){return k(T)||j(T)===c},Wr.isConcurrentMode=k,Wr.isContextConsumer=function(T){return j(T)===l},Wr.isContextProvider=function(T){return j(T)===i},Wr.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},Wr.isForwardRef=function(T){return j(T)===d},Wr.isFragment=function(T){return j(T)===n},Wr.isLazy=function(T){return j(T)===x},Wr.isMemo=function(T){return j(T)===p},Wr.isPortal=function(T){return j(T)===t},Wr.isProfiler=function(T){return j(T)===s},Wr.isStrictMode=function(T){return j(T)===a},Wr.isSuspense=function(T){return j(T)===f},Wr.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===u||T===s||T===a||T===f||T===g||typeof T=="object"&&T!==null&&(T.$$typeof===x||T.$$typeof===p||T.$$typeof===i||T.$$typeof===l||T.$$typeof===d||T.$$typeof===b||T.$$typeof===w||T.$$typeof===N||T.$$typeof===y)},Wr.typeOf=j,Wr}var uT;function jX(){return uT||(uT=1,fC.exports=SX()),fC.exports}var mC,dT;function EX(){if(dT)return mC;dT=1;var r=jX(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=a;function i(x){return r.isMemo(x)?a:s[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function p(x,y,b){if(typeof y!="string"){if(g){var w=f(y);w&&w!==g&&p(x,w,b)}var N=c(y);u&&(N=N.concat(u(y)));for(var j=i(x),k=i(y),T=0;T<N.length;++T){var I=N[T];if(!t[I]&&!(b&&b[I])&&!(k&&k[I])&&!(j&&j[I])){var M=d(y,I);try{l(x,I,M)}catch{}}}}return x}return mC=p,mC}var _X=EX();const kX=Bl(_X);function uN(){return uN=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},uN.apply(this,arguments)}function TX(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function FX(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var nc={},PX=0;function OX(r,e){return e=e||{},function(n){var a=n.displayName||n.name||"Component",s=(function(l){FX(c,l);function c(d,f){var g;return g=l.call(this,d,f)||this,g.state={},g.__scriptURL="",g}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+PX++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(f){var g=this;this.setState(f,function(){return g.props.asyncScriptOnLoad&&g.props.asyncScriptOnLoad(g.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=nc[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var g in f.observers)f.observers[g](f);delete window[e.callbackName]},u.componentDidMount=function(){var f=this,g=this.setupScriptURL(),p=this.asyncScriptLoaderGetScriptLoaderID(),x=e,y=x.globalName,b=x.callbackName,w=x.scriptId;if(y&&typeof window[y]<"u"&&(nc[g]={loaded:!0,observers:{}}),nc[g]){var N=nc[g];if(N&&(N.loaded||N.errored)){this.asyncScriptLoaderHandleLoad(N);return}N.observers[p]=function(M){return f.asyncScriptLoaderHandleLoad(M)};return}var j={};j[p]=function(M){return f.asyncScriptLoaderHandleLoad(M)},nc[g]={loaded:!1,observers:j};var k=document.createElement("script");k.src=g,k.async=!0;for(var T in e.attributes)k.setAttribute(T,e.attributes[T]);w&&(k.id=w);var I=function(L){if(nc[g]){var P=nc[g],q=P.observers;for(var F in q)L(q[F])&&delete q[F]}};b&&typeof window<"u"&&(window[b]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),k.onload=function(){var M=nc[g];M&&(M.loaded=!0,I(function(L){return b?!1:(L(M),!0)}))},k.onerror=function(){var M=nc[g];M&&(M.errored=!0,I(function(L){return L(M),!0}))},document.body.appendChild(k)},u.componentWillUnmount=function(){var f=this.__scriptURL;if(e.removeOnUnmount===!0)for(var g=document.getElementsByTagName("script"),p=0;p<g.length;p+=1)g[p].src.indexOf(f)>-1&&g[p].parentNode&&g[p].parentNode.removeChild(g[p]);var x=nc[f];x&&(delete x.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete nc[f])},u.render=function(){var f=e.globalName,g=this.props;g.asyncScriptOnLoad;var p=g.forwardedRef,x=TX(g,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(x[f]=typeof window[f]<"u"?window[f]:void 0),x.ref=p,S.createElement(n,x)},c})(S.Component),i=S.forwardRef(function(l,c){return S.createElement(s,uN({},l,{forwardedRef:c}))});return i.displayName="AsyncScriptLoader("+a+")",i.propTypes={asyncScriptOnLoad:Wi.func},kX(i,n)}}var dN="onloadcallback",IX="grecaptcha";function hN(){return typeof window<"u"&&window.recaptchaOptions||{}}function LX(){var r=hN(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+dN+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+dN+"&render=explicit"}const DX=OX(LX,{callbackName:dN,globalName:IX,attributes:hN().nonce?{nonce:hN().nonce}:{}})(Iw),hT=(r,e)=>[`[${new Date().toISOString()}] [${r.toUpperCase()}]`,...e],er={debug:(...r)=>{},info:(...r)=>{},warn:(...r)=>{console.warn(...hT("warn",r))},error:(...r)=>{console.error(...hT("error",r))}},MX=()=>{const[r,e]=S.useState(""),[t,n]=S.useState(""),[a,s]=S.useState(!1),[i,l]=S.useState(!1),[c,u]=S.useState(""),[d,f]=S.useState(!1),[g,p]=S.useState(!1),[x,y]=S.useState(""),[b,w]=S.useState(""),[N,j]=S.useState(null),k=S.useRef(null),T=S.useRef(null),{login:I}=Qd(),M=Bg(),L="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",P=()=>{let H=!0;return y(""),w(""),r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(y("Please enter a valid email address"),H=!1):(y("Email is required"),H=!1),t?t.length<6&&(w("Password must be at least 6 characters"),H=!1):(w("Password is required"),H=!1),N||(Ce.error("Please complete the CAPTCHA verification"),H=!1),H},q=H=>{j(H)},F=async H=>{if(H.preventDefault(),!P()){k.current?.focus();return}p(!0);try{(await I(r,t,N||void 0))?.isFirstTimeLogin??!1?(u(r),f(!0),s(!0),Ce.success("Logged in successfully. Please set a new password.")):(Ce.success("Logged in successfully"),M("/")),T.current?.reset(),j(null)}catch(z){const X=z?.response?.data?.error||z?.message||"Invalid credentials. Please try again.";Ce.error(X),er.error("Login error:",z),T.current?.reset(),j(null)}finally{p(!1)}},R=()=>{s(!1),f(!1),u(""),Ce.success("Password updated. Redirecting to dashboard..."),setTimeout(()=>{M("/")},1e3)};return o.jsxs("div",{className:"relative flex items-center justify-center min-h-screen overflow-hidden bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:"mesh-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:"0.5"})}),o.jsxs("pattern",{id:"mesh-dots",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:[o.jsx("circle",{cx:"0",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"0",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"})]})]}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-grid)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-dots)"})]}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"flow-gradient-1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(239, 68, 68, 0)"}),o.jsx("stop",{offset:"30%",stopColor:"rgba(239, 68, 68, 0.6)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(251, 191, 36, 0.8)"}),o.jsx("stop",{offset:"70%",stopColor:"rgba(34, 197, 94, 0.6)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(59, 130, 246, 0)"})]}),o.jsxs("linearGradient",{id:"flow-gradient-2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0)"}),o.jsx("stop",{offset:"20%",stopColor:"rgba(59, 130, 246, 0.5)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(147, 51, 234, 0.7)"}),o.jsx("stop",{offset:"80%",stopColor:"rgba(236, 72, 153, 0.5)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(236, 72, 153, 0)"})]})]}),o.jsx("path",{className:"flow-line-1",d:"M-100,150 Q200,100 400,180 T800,120 T1200,200 T1600,140",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"3",opacity:"0.7"}),o.jsx("path",{className:"flow-line-2",d:"M-100,250 Q150,300 350,220 T700,280 T1100,200 T1500,260",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.5"}),o.jsx("path",{className:"flow-line-3",d:"M-100,450 Q250,400 450,480 T850,420 T1250,500 T1650,440",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"2.5",opacity:"0.6"}),o.jsx("path",{className:"flow-line-4",d:"M-100,600 Q200,550 400,620 T800,560 T1200,640 T1600,580",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.4"})]}),o.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 rounded-full bg-gradient-radial from-red-500/20 via-orange-500/10 to-transparent blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] rounded-full bg-gradient-radial from-blue-500/25 via-cyan-500/10 to-transparent blur-3xl animate-pulse-slow-delayed"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-gradient-radial from-purple-500/15 via-indigo-500/5 to-transparent blur-3xl"}),o.jsx("div",{className:"absolute top-20 left-20 opacity-40",children:o.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead1",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(34, 197, 94, 0.8)"})})}),o.jsx("line",{x1:"0",y1:"10",x2:"50",y2:"10",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})]})}),o.jsx("div",{className:"absolute top-32 left-32 opacity-50",children:o.jsx("svg",{width:"80",height:"20",viewBox:"0 0 80 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"70",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2.5",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-40 right-40 opacity-40 rotate-[-15deg]",children:o.jsx("svg",{width:"70",height:"20",viewBox:"0 0 70 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"60",y2:"10",stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-60 right-60 opacity-50 rotate-[-10deg]",children:o.jsx("svg",{width:"90",height:"20",viewBox:"0 0 90 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"80",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute top-1/4 right-1/4 w-8 h-8 rounded-full bg-red-500/50 blur-sm animate-ping-slow"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-6 h-6 rounded-full bg-orange-500/40 blur-sm animate-ping-slow-delayed"}),o.jsx("div",{className:"absolute top-2/3 right-1/3 w-10 h-10 rounded-full bg-yellow-500/30 blur-md animate-pulse-slow"}),o.jsxs("svg",{className:"absolute bottom-0 left-0 w-full h-48 opacity-30",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:[o.jsx("path",{d:"M0,100 Q150,60 300,100 T600,80 T900,120 T1200,90",fill:"none",stroke:"rgba(96, 165, 250, 0.6)",strokeWidth:"1"}),o.jsx("path",{d:"M0,120 Q150,80 300,120 T600,100 T900,140 T1200,110",fill:"none",stroke:"rgba(96, 165, 250, 0.5)",strokeWidth:"1"}),o.jsx("path",{d:"M0,140 Q150,100 300,140 T600,120 T900,160 T1200,130",fill:"none",stroke:"rgba(96, 165, 250, 0.4)",strokeWidth:"1"}),o.jsx("path",{d:"M0,160 Q150,120 300,160 T600,140 T900,180 T1200,150",fill:"none",stroke:"rgba(96, 165, 250, 0.3)",strokeWidth:"1"})]}),o.jsxs("div",{className:"absolute bottom-8 left-8 flex flex-col gap-0.5 opacity-60",children:[o.jsx("div",{className:"w-4 h-3 bg-red-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-orange-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-yellow-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-green-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-cyan-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-blue-500 rounded-sm"}),o.jsx("span",{className:"text-[8px] text-blue-300 mt-1",children:"Velocity"})]})]}),o.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Cd,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back to MyCAE Tracker"})]}),o.jsxs("form",{className:"px-8 pb-8 space-y-5",onSubmit:F,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),o.jsx("input",{ref:k,id:"email",type:"email",value:r,onChange:H=>e(H.target.value),placeholder:"you@example.com",disabled:g,className:`w-full px-4 py-3 border ${x?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),x&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:x})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),o.jsx("input",{id:"password",type:"password",value:t,onChange:H=>n(H.target.value),placeholder:"",disabled:g,className:`w-full px-4 py-3 border ${b?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),b&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:b})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(DX,{ref:T,sitekey:L,onChange:q,theme:"light"})}),o.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3.5 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:g?"Logging in...":"Login"}),o.jsx("div",{className:"text-center mt-4",children:o.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>l(!0),children:"Forgot Password?"})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-white text-sm opacity-80",children:"Powered by MyCAE Technologies"})})]}),o.jsx(pX,{isOpen:a,onClose:()=>s(!1),onSuccess:R,isFirstTimeLogin:d,userEmail:c}),o.jsx(yX,{isOpen:i,onClose:()=>l(!1)}),o.jsx("style",{children:`
        @keyframes flow-animate {
          0% {
            stroke-dashoffset: 1000;
          }
          100% {
            stroke-dashoffset: 0;
          }
        }

        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.3;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.05);
          }
        }

        @keyframes pulse-slow-delayed {
          0%, 100% {
            opacity: 0.2;
            transform: scale(1);
          }
          50% {
            opacity: 0.5;
            transform: scale(1.08);
          }
        }

        @keyframes ping-slow {
          0% {
            transform: scale(1);
            opacity: 0.5;
          }
          50% {
            transform: scale(1.5);
            opacity: 0.2;
          }
          100% {
            transform: scale(1);
            opacity: 0.5;
          }
        }

        @keyframes ping-slow-delayed {
          0% {
            transform: scale(1);
            opacity: 0.4;
          }
          60% {
            transform: scale(1.3);
            opacity: 0.15;
          }
          100% {
            transform: scale(1);
            opacity: 0.4;
          }
        }

        .flow-line-1, .flow-line-2, .flow-line-3, .flow-line-4 {
          stroke-dasharray: 20 10;
          animation: flow-animate 8s linear infinite;
        }

        .flow-line-2 {
          animation-delay: -2s;
          animation-duration: 10s;
        }

        .flow-line-3 {
          animation-delay: -4s;
          animation-duration: 12s;
        }

        .flow-line-4 {
          animation-delay: -6s;
          animation-duration: 9s;
        }

        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }

        .animate-pulse-slow-delayed {
          animation: pulse-slow-delayed 8s ease-in-out infinite;
          animation-delay: -3s;
        }

        .animate-ping-slow {
          animation: ping-slow 4s ease-in-out infinite;
        }

        .animate-ping-slow-delayed {
          animation: ping-slow-delayed 5s ease-in-out infinite;
          animation-delay: -2s;
        }

        .bg-gradient-radial {
          background: radial-gradient(circle, var(--tw-gradient-stops));
        }
      `})]})},Dt=$s.forwardRef(({className:r,variant:e="primary",size:t="md",fullWidth:n,icon:a,iconPosition:s="left",loading:i=!1,loadingText:l,children:c,disabled:u,...d},f)=>{const g=u||i;return o.jsx("button",{ref:f,disabled:g,className:Dr("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all","min-h-[44px]","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",!g&&"hover:scale-[1.02] active:scale-[0.98]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","dark:focus-visible:ring-offset-gray-900",{"bg-primary-600 text-white shadow-sm":e==="primary","hover:bg-primary-700 hover:shadow-md":e==="primary"&&!g,"focus-visible:ring-primary-500":e==="primary","bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100":e==="secondary","hover:bg-gray-200 dark:hover:bg-gray-600":e==="secondary"&&!g,"focus-visible:ring-gray-500":e==="secondary","border-2 border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400 bg-transparent":e==="outline","hover:bg-primary-50 dark:hover:bg-primary-900/20":e==="outline"&&!g,"focus-visible:ring-primary-500":e==="outline","text-gray-700 dark:text-gray-300 bg-transparent":e==="ghost","hover:bg-gray-100 dark:hover:bg-gray-800":e==="ghost"&&!g,"focus-visible:ring-gray-500":e==="ghost","bg-red-600 text-white shadow-sm":e==="danger","hover:bg-red-700 hover:shadow-md":e==="danger"&&!g,"focus-visible:ring-red-500":e==="danger","bg-green-600 text-white shadow-sm":e==="success","hover:bg-green-700 hover:shadow-md":e==="success"&&!g,"focus-visible:ring-green-500":e==="success","px-2.5 py-1.5 text-xs min-h-[32px]":t==="xs","px-3 py-1.5 text-sm min-h-[36px]":t==="sm","px-4 py-2 text-base":t==="md","px-6 py-3 text-lg min-h-[52px]":t==="lg","px-8 py-4 text-xl min-h-[60px]":t==="xl","w-full":n},r),...d,children:i?o.jsxs(o.Fragment,{children:[o.jsx(zD,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),o.jsx("span",{children:l||"Loading..."})]}):o.jsxs(o.Fragment,{children:[a&&s==="left"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a}),c,a&&s==="right"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a})]})})});Dt.displayName="Button";const UX=$s.forwardRef(({className:r,size:e="md",icon:t,...n},a)=>{const s={xs:"w-8 h-8",sm:"w-9 h-9",md:"w-11 h-11",lg:"w-12 h-12",xl:"w-14 h-14"},i={xs:"w-3.5 h-3.5",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"};return o.jsx(Dt,{ref:a,size:e,className:Dr("p-0",s[e],r),...n,children:o.jsx("span",{className:i[e],"aria-hidden":"true",children:t})})});UX.displayName="IconButton";const Cn=$s.forwardRef(({className:r,label:e,error:t,success:n,icon:a,fullWidth:s,type:i="text",hint:l,id:c,onValidate:u,...d},f)=>{const g=c||`input-${d.name||Math.random().toString(36).substr(2,9)}`,p=t?`${g}-error`:void 0,x=n?`${g}-success`:void 0,y=l?`${g}-hint`:void 0,b=[p,x,y].filter(Boolean).join(" ")||void 0,w=!t&&n;return o.jsxs("div",{className:Dr("flex flex-col gap-1.5",s&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:g,children:e}),o.jsxs("div",{className:"relative",children:[a&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400","aria-hidden":"true",children:a}),o.jsx("input",{ref:f,id:g,type:i,"aria-invalid":t?"true":void 0,"aria-describedby":b,className:Dr("w-full rounded-lg border px-3 py-2.5 text-sm min-h-[44px]","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",a&&"pl-10",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",w&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",(t||w)&&"pr-10",r),...d}),(t||w)&&o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[t&&o.jsx(Ss,{className:"w-5 h-5 text-red-500 dark:text-red-400","aria-hidden":"true"}),w&&o.jsx(b0,{className:"w-5 h-5 text-green-500 dark:text-green-400","aria-hidden":"true"})]})]}),l&&!t&&!n&&o.jsx("span",{id:y,className:"text-xs text-gray-500 dark:text-gray-400",children:l}),t&&o.jsxs("span",{id:p,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(Ss,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:x,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(b0,{className:"w-3 h-3","aria-hidden":"true"}),n]})]})});Cn.displayName="Input";const RX=$s.forwardRef(({className:r,label:e,error:t,success:n,fullWidth:a,hint:s,id:i,maxLength:l,showCharCount:c,value:u,...d},f)=>{const g=i||`textarea-${d.name||Math.random().toString(36).substr(2,9)}`,p=t?`${g}-error`:void 0,x=n?`${g}-success`:void 0,y=s?`${g}-hint`:void 0,b=[p,x,y].filter(Boolean).join(" ")||void 0,w=typeof u=="string"?u.length:0,N=!t&&n;return o.jsxs("div",{className:Dr("flex flex-col gap-1.5",a&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:g,children:e}),o.jsx("textarea",{ref:f,id:g,value:u,maxLength:l,"aria-invalid":t?"true":void 0,"aria-describedby":b,className:Dr("w-full rounded-lg border px-3 py-2.5 text-sm","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",N&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",r),...d}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[s&&!t&&!n&&o.jsx("span",{id:y,className:"text-xs text-gray-500 dark:text-gray-400",children:s}),t&&o.jsxs("span",{id:p,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(Ss,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:x,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(b0,{className:"w-3 h-3","aria-hidden":"true"}),n]})]}),c&&l&&o.jsxs("span",{className:Dr("text-xs",w>=l?"text-red-500 dark:text-red-400":"text-gray-400 dark:text-gray-500"),children:[w,"/",l]})]})]})});RX.displayName="TextArea";const QX=()=>{const r=Bg(),[e]=Zq(),t=e.get("token"),[n,a]=S.useState("request"),[s,i]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[f,g]=S.useState(!1),[p,x]=S.useState(!1),[y,b]=S.useState(!1);S.useEffect(()=>{t&&w(t)},[t]);const w=async k=>{b(!0);try{const T=await Sr.api.post("/auth/verify-reset-token",{token:k});T.data.valid?(x(!0),a("reset"),i(T.data.email)):(nt.error("Invalid or expired reset link"),a("request"))}catch(T){console.error("Token verification error:",T),nt.error(T.response?.data?.error||"Invalid or expired reset link"),a("request")}finally{b(!1)}},N=async k=>{if(k.preventDefault(),!s){nt.error("Please enter your email address");return}g(!0);try{await Sr.api.post("/auth/forgot-password",{email:s}),nt.success("Password reset link sent! Check your email."),a("success")}catch(T){console.error("Forgot password error:",T),nt.error(T.response?.data?.error||"Failed to send reset link")}finally{g(!1)}},j=async k=>{if(k.preventDefault(),!l||!u){nt.error("Please fill in all fields");return}if(l!==u){nt.error("Passwords do not match");return}if(l.length<12){nt.error("Password must be at least 12 characters");return}g(!0);try{await Sr.api.post("/auth/reset-password",{token:t,newPassword:l}),nt.success("Password reset successful!"),a("success"),setTimeout(()=>{r("/login")},2e3)}catch(T){console.error("Reset password error:",T),nt.error(T.response?.data?.error||"Failed to reset password")}finally{g(!1)}};return y?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying reset link..."})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n!=="success"&&o.jsxs("button",{onClick:()=>r("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[o.jsx(tG,{className:"w-4 h-4"}),"Back to Login"]}),n==="request"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Cd,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ng,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Cn,{type:"email",value:s,onChange:k=>i(k.target.value),placeholder:"your.email@example.com",className:"pl-10",required:!0})]})]}),o.jsx(Dt,{type:"submit",variant:"primary",className:"w-full",disabled:f,children:f?"Sending...":"Send Reset Link"})]})]}),n==="reset"&&p&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Cd,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:["Enter your new password for ",o.jsx("strong",{children:s})]})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Cn,{type:"password",value:l,onChange:k=>c(k.target.value),placeholder:"Enter new password",className:"pl-10",required:!0})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 12 characters with uppercase, lowercase, number, and special character"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Cn,{type:"password",value:u,onChange:k=>d(k.target.value),placeholder:"Confirm new password",className:"pl-10",required:!0})]})]}),o.jsx(Dt,{type:"submit",variant:"primary",className:"w-full",disabled:f,children:f?"Resetting...":"Reset Password"})]})]}),n==="success"&&o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(is,{className:"w-8 h-8 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t?"Password Reset!":"Email Sent!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:t?"Your password has been successfully reset. Redirecting to login...":"If an account exists with that email, we've sent a password reset link. Please check your inbox."}),!t&&o.jsx(Dt,{onClick:()=>r("/login"),variant:"primary",className:"w-full",children:"Back to Login"})]}),n!=="success"&&o.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ss,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Security Notice"}),o.jsx("p",{className:"mt-1",children:"The reset link will expire in 1 hour. Never share this link with anyone."})]})]})})]})})},Lr=$s.forwardRef(({className:r,variant:e="default",padding:t="md",children:n,...a},s)=>o.jsx("div",{ref:s,className:Dr("bg-white rounded-lg",{"shadow-sm":e==="default","border border-gray-200":e==="bordered","shadow-md":e==="elevated","p-0":t==="none","p-3":t==="sm","p-4 md:p-6":t==="md","p-6 md:p-8":t==="lg"},r),...a,children:n}));Lr.displayName="Card";const Ex=({className:r,children:e,...t})=>o.jsx("div",{className:Dr("mb-4",r),...t,children:e}),_x=({className:r,children:e,...t})=>o.jsx("h3",{className:Dr("text-lg font-semibold text-gray-900",r),...t,children:e}),kx=({className:r,children:e,...t})=>o.jsx("div",{className:Dr("",r),...t,children:e}),HX=30*1e3,Fa=Nl((r,e)=>({projects:[],timesheets:[],loading:!1,lastFetched:null,fetchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<HX)){r({loading:!0});try{const i=await _t.getProjects();r({projects:Array.isArray(i)?i:[],loading:!1,lastFetched:Date.now()})}catch(i){console.error("Failed to fetch projects:",i),r({loading:!1})}}},addProject:async t=>{try{const n=await _t.createProject(t);return r(a=>({projects:[n,...a.projects],lastFetched:Date.now()})),n}catch(n){throw console.error("Failed to add project:",n),n}},updateProject:async(t,n)=>{try{const a=await _t.updateProject(t,n);r(s=>({projects:s.projects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Failed to update project:",a),a}},deleteProject:async t=>{try{await _t.deleteProject(t),r(n=>({projects:n.projects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Failed to delete project:",n),n}},fetchTimesheets:async t=>{r({loading:!0});try{const n=await _t.getTimesheets(t),a=(Array.isArray(n)?n:[]).map(s=>({...s,hours:parseFloat(s.hours)||0}));r({timesheets:a,loading:!1})}catch(n){console.error("Failed to fetch timesheets:",n),r({timesheets:[],loading:!1})}},addTimesheet:async t=>{try{const n=await _t.createTimesheet(t);r(a=>({timesheets:[n,...a.timesheets]})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to add timesheet:",n),n}},updateTimesheet:async(t,n)=>{try{const a=await _t.updateTimesheet(t,n);r(s=>({timesheets:s.timesheets.map(i=>i.id===t?{...i,...a}:i)})),e().fetchProjects(!0)}catch(a){const s=a?.response?.data?.error||a?.message||"Failed to update timesheet";throw console.error("Error updating timesheet:",s),a}},deleteTimesheet:async t=>{try{await _t.deleteTimesheet(t),r(n=>({timesheets:n.timesheets.filter(a=>a.id!==t)})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to delete timesheet:",n),n}}})),_p=r=>{if(r.name&&!r.user)return r;const e=r.user||{};return{id:r.id,userId:r.user_id||r.userId||e.id,name:e.name||r.name||"Unknown",email:e.email||r.email||"",role:e.role||r.role||"engineer",roles:e.roles||r.roles||[e.role||r.role||"engineer"],department:r.department||"engineering",phone:r.phone,avatar:e.avatar||r.avatar||"male-01",activeProjects:parseInt(r.activeProjects)||0,totalHoursThisMonth:parseFloat(r.totalHoursThisMonth)||0,joinDate:r.joinDate||new Date().toISOString(),status:r.status||"active",hourlyRate:r.hourlyRate,position:r.position,certifications:r.certifications||[]}},Sl=Nl(r=>({teamMembers:[],loading:!1,error:null,fetchTeamMembers:async e=>{try{r({loading:!0,error:null});const t=await _t.getAllTeamMembers(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(_p);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team members";console.error("Error fetching team members:",n),r({error:n,loading:!1})}},addTeamMember:async e=>{try{r({loading:!0,error:null});const t=await _t.createTeamMember(e),n=_p(t);r(a=>({teamMembers:[...a.teamMembers,n],loading:!1,error:null}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add team member";throw console.error("Error adding team member:",n),r({error:n,loading:!1}),t}},updateTeamMember:async(e,t)=>{try{r({loading:!0,error:null});const n=await _t.updateTeamMember(e,t),a=_p(n);r(s=>({teamMembers:s.teamMembers.map(i=>i.id===e?a:i),loading:!1,error:null}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update team member";throw console.error("Error updating team member:",a),r({error:a,loading:!1}),n}},deleteTeamMember:async e=>{try{r({loading:!0,error:null}),await _t.deleteTeamMember(e),r(t=>({teamMembers:t.teamMembers.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete team member";console.error("Error deleting team member:",n),r({error:n,loading:!1})}},reactivateTeamMember:async e=>{try{r({loading:!0,error:null});const t=await _t.reactivateTeamMember(e),n=_p(t.data);r(a=>({teamMembers:a.teamMembers.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to reactivate team member";throw console.error("Error reactivating team member:",n),r({error:n,loading:!1}),t}},getTeamByDepartment:async e=>{try{r({loading:!0,error:null});const t=await _t.getTeamByDepartment(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(_p);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team by department";console.error("Error fetching team by department:",n),r({error:n,loading:!1})}}})),gc=Nl(r=>({clients:[],loading:!1,error:null,fetchClients:async e=>{try{r({loading:!0,error:null});const t=await _t.getAllClients(e);let n=[];Array.isArray(t)?n=t:t?.data?n=Array.isArray(t.data)?t.data:[]:n=[],r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch clients";console.error("Error fetching clients:",n),r({error:n,clients:[],loading:!1})}},addClient:async e=>{try{r({loading:!0,error:null});const t=await _t.createClient(e);r(s=>({clients:[...s.clients,t],loading:!1,error:null}));const n=await _t.getAllClients();let a=[];Array.isArray(n)?a=n:n?.data&&(a=Array.isArray(n.data)?n.data:[]),r({clients:a,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add client";console.error("Error adding client:",n),r({error:n,loading:!1})}},updateClient:async(e,t)=>{try{r({loading:!0,error:null});const n=await _t.updateClient(e,t);r(i=>({clients:i.clients.map(l=>l.id===e?n:l),loading:!1,error:null}));const a=await _t.getAllClients();let s=[];Array.isArray(a)?s=a:a?.data&&(s=Array.isArray(a.data)?a.data:[]),r({clients:s,loading:!1,error:null})}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update client";console.error("Error updating client:",a),r({error:a,loading:!1})}},deleteClient:async e=>{try{r({loading:!0,error:null}),await _t.deleteClient(e),r(a=>({clients:a.clients.filter(s=>s.id!==e),loading:!1,error:null}));const t=await _t.getAllClients();let n=[];Array.isArray(t)?n=t:t?.data&&(n=Array.isArray(t.data)?t.data:[]),r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete client";console.error("Error deleting client:",n),r({error:n,loading:!1})}},updateClientProjectCounts:async e=>{try{if(!(window.__clientStoreState?.clients||[]).find(a=>a.id===e))return;r({loading:!1})}catch(t){console.error("Error updating client project counts:",t)}}})),wn=({className:r,variant:e="default",size:t="md",children:n,...a})=>o.jsx("span",{className:Dr("inline-flex items-center justify-center rounded-full font-medium",{"bg-gray-100 text-gray-700":e==="default","bg-green-100 text-green-700":e==="success","bg-yellow-100 text-yellow-700":e==="warning","bg-red-100 text-red-700":e==="danger","bg-blue-100 text-blue-700":e==="info","px-2 py-0.5 text-xs":t==="sm","px-2.5 py-1 text-sm":t==="md","px-3 py-1.5 text-base":t==="lg"},r),...a,children:n}),yj=({isOpen:r,onClose:e,project:t})=>{if(!r||!t)return null;const n=i=>{switch(i){case"pre-lim":return o.jsx(wn,{variant:"info",children:"Preliminary"});case"ongoing":return o.jsx(wn,{variant:"success",children:"Ongoing"});case"completed":return o.jsx(wn,{variant:"default",children:"Completed"});default:return o.jsx(wn,{variant:"default",children:i})}},a=t.plannedHours>0?Math.round((t.actualHours||0)/t.plannedHours*100):0,s=(t.actualHours||0)>t.plannedHours;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-xl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:t.projectCode}),o.jsx("p",{className:"text-primary-100 text-sm mt-1",children:t.title})]}),o.jsx("button",{onClick:e,className:"text-white hover:bg-primary-800 p-1 rounded transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Lr,{variant:"bordered",padding:"md",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Status"}),n(t.status)]})}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Hours Progress"}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.actualHours||0}),o.jsxs("span",{className:"text-sm text-gray-500",children:["of ",t.plannedHours," hrs"]})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${s?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(a,100)}%`}})}),o.jsx("p",{className:`text-xs mt-2 font-medium ${s?"text-red-600":"text-green-600"}`,children:s?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ss,{className:"w-3 h-3"}),(t.actualHours||0)-t.plannedHours," hrs over budget"]}):o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(is,{className:"w-3 h-3"}),a,"% complete"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Client"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.clientName})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Lead Engineer"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.engineerName})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(ns,{className:"w-3 h-3"}),"Start Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(t.startDate).toLocaleDateString()})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(ns,{className:"w-3 h-3"}),"End Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.endDate?new Date(t.endDate).toLocaleDateString():"Not set"})]})]}),t.description&&o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-4 flex items-center gap-1",children:[o.jsx(as,{className:"w-4 h-4"}),"Hours Overview"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Planned Hours"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t.plannedHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Actual Hours"}),o.jsxs("span",{className:`font-semibold ${s?"text-red-600":"text-green-600"}`,children:[t.actualHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Variance"}),o.jsxs("span",{className:`font-semibold ${s?"text-red-600":"text-green-600"}`,children:[s?"+":"",(t.actualHours||0)-t.plannedHours," hrs"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Project Code"}),o.jsx("p",{className:"text-sm font-mono font-medium text-gray-900",children:t.projectCode})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Created"}),o.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.createdDate||new Date).toLocaleDateString()})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:o.jsx(Dt,{variant:"outline",onClick:e,children:"Close"})})]})})},KX=({isOpen:r,onClose:e,teamMemberId:t,teamMemberName:n})=>{const{projects:a}=Fa(),{clients:s}=gc(),i=S.useMemo(()=>t?a.filter(g=>g.engineerId===t):[],[t,a]),l=S.useMemo(()=>i.filter(g=>g.status==="ongoing"),[i]),c=S.useMemo(()=>i.filter(g=>g.status==="completed"),[i]),u=S.useMemo(()=>i.filter(g=>g.status==="pre-lim"),[i]),d=S.useMemo(()=>{const g=i.reduce((y,b)=>y+(b.actualHours||0),0),p=i.reduce((y,b)=>y+b.plannedHours,0),x=p>0?g/p*100:0;return{totalProjects:i.length,activeProjects:l.length,completedProjects:c.length,totalHours:g,totalPlannedHours:p,totalHoursUtilization:x}},[i,l,c]);if(!r)return null;const f=({project:g,status:p})=>{const x=s.find(w=>w.id===g.clientId),y=g.plannedHours>0?g.actualHours/g.plannedHours*100:0,b={active:{bg:"bg-blue-50",text:"text-blue-700"},completed:{bg:"bg-emerald-50",text:"text-emerald-700"},preLim:{bg:"bg-amber-50",text:"text-amber-700"}};return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:g.projectCode})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:g.title})})}),o.jsx("td",{className:"px-4 py-3 text-gray-700 text-sm",children:x?.name||"Unknown"}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-primary-600 h-1.5 rounded-full transition-all",style:{width:`${Math.min(y,100)}%`}})}),o.jsxs("span",{className:"font-semibold text-gray-900 w-6 text-right text-xs",children:[y.toFixed(0),"%"]})]})}),o.jsxs("td",{className:"px-4 py-3 text-right whitespace-nowrap",children:[o.jsx("span",{className:"font-medium text-gray-900",children:g.actualHours}),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:g.plannedHours})]}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${b[p].bg} ${b[p].text}`,children:p==="active"?"Ongoing":p==="completed"?"Completed":"Preliminary"})})]},g.id)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center pl-64",children:o.jsx("div",{className:"flex items-center justify-center w-full px-4 max-w-5xl",children:o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full max-h-[85vh] overflow-y-auto",onClick:g=>g.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Fd,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Project assignments and progress"})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(br,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Total Projects"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:d.totalProjects})]}),o.jsx(iA,{className:"w-8 h-8 text-blue-300"})]})}),o.jsx("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-cyan-600 uppercase tracking-wide",children:"Active"}),o.jsx("p",{className:"text-2xl font-bold text-cyan-900 mt-2",children:d.activeProjects})]}),o.jsx(vV,{className:"w-8 h-8 text-cyan-300"})]})}),o.jsx("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-emerald-600 uppercase tracking-wide",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-emerald-900 mt-2",children:d.completedProjects})]}),o.jsx(iA,{className:"w-8 h-8 text-emerald-300"})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Hours Logged"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-2",children:d.totalHours})]}),o.jsx(as,{className:"w-8 h-8 text-purple-300"})]})})]}),l.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Active Projects (",l.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(g=>o.jsx(f,{project:g,status:"active"},g.id))})]})})]}),c.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Completed Projects (",c.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(g=>o.jsx(f,{project:g,status:"completed"},g.id))})]})})]}),u.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Preliminary Projects (",u.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(g=>o.jsx(f,{project:g,status:"preLim"},g.id))})]})})]}),i.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(iA,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned"})]})]}),o.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:o.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})})]})};var gC={},pC={},fT;function zX(){return fT||(fT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(pC)),pC}var yC={},mT;function PM(){return mT||(mT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(yC)),yC}var xC={},gT;function OM(){return gT||(gT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(xC)),xC}var vC={},pT;function xj(){return pT||(pT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){const n=[],a=t.length;if(a===0)return n;let s=0,i="",l="",c=!1;for(t.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=t[s];l?u==="\\"&&s+1<a?(s++,i+=t[s]):u===l?l="":i+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(i),i=""):i+=u:u==="["?(c=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}r.toPath=e})(vC)),vC}var yT;function vj(){return yT||(yT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=zX(),t=PM(),n=OM(),a=xj();function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?t.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}r.get=s})(gC)),gC}var bC,xT;function qX(){return xT||(xT=1,bC=vj().get),bC}var $X=qX();const nf=Bl($X);var wC={exports:{}},fn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function GX(){if(vT)return fn;vT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case r:switch(y=y.type,y){case t:case a:case n:case c:case u:case g:return y;default:switch(y=y&&y.$$typeof,y){case i:case l:case f:case d:return y;case s:return y;default:return b}}case e:return b}}}return fn.ContextConsumer=s,fn.ContextProvider=i,fn.Element=r,fn.ForwardRef=l,fn.Fragment=t,fn.Lazy=f,fn.Memo=d,fn.Portal=e,fn.Profiler=a,fn.StrictMode=n,fn.Suspense=c,fn.SuspenseList=u,fn.isContextConsumer=function(y){return x(y)===s},fn.isContextProvider=function(y){return x(y)===i},fn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===r},fn.isForwardRef=function(y){return x(y)===l},fn.isFragment=function(y){return x(y)===t},fn.isLazy=function(y){return x(y)===f},fn.isMemo=function(y){return x(y)===d},fn.isPortal=function(y){return x(y)===e},fn.isProfiler=function(y){return x(y)===a},fn.isStrictMode=function(y){return x(y)===n},fn.isSuspense=function(y){return x(y)===c},fn.isSuspenseList=function(y){return x(y)===u},fn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===a||y===n||y===c||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===d||y.$$typeof===i||y.$$typeof===s||y.$$typeof===l||y.$$typeof===p||y.getModuleId!==void 0)},fn.typeOf=x,fn}var bT;function VX(){return bT||(bT=1,wC.exports=GX()),wC.exports}var WX=VX(),Bs=r=>r===0?0:r>0?1:-1,Io=r=>typeof r=="number"&&r!=+r,Mh=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,Ft=r=>(typeof r=="number"||r instanceof Number)&&!Io(r),uA=r=>Ft(r)||typeof r=="string",YX=0,w0=r=>{var e=++YX;return"".concat(r||"").concat(e)},Ai=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(e)&&typeof e!="string")return n;var s;if(Mh(e)){if(t==null)return n;var i=e.indexOf("%");s=t*parseFloat(e.slice(0,i))/100}else s=+e;return Io(s)&&(s=n),a&&t!=null&&s>t&&(s=t),s},IM=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1};function qs(r,e,t){return Ft(r)&&Ft(e)?r+t*(e-r):e}function XX(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):nf(n,e))===t)}var js=r=>r===null||typeof r>"u",ey=r=>js(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),JX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bj(r){if(typeof r!="string")return!1;var e=JX;return e.includes(r)}var ZX=["viewBox","children"],wT=["points","pathLength"],CC={svg:ZX,polygon:wT,polyline:wT},eJ=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(S.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(a=>{bj(a)&&(n[a]=(s=>t[a](t,s)))}),n},tJ=(r,e,t)=>n=>(r(e,t,n),null),ty=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(a=>{var s=r[a];bj(a)&&typeof s=="function"&&(n||(n={}),n[a]=tJ(s,e,t))}),n},rJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function LM(r){if(typeof r!="string")return!1;var e=rJ;return e.includes(r)}function Hd(r){var e=Object.entries(r).filter(t=>{var[n]=t;return LM(n)});return Object.fromEntries(e)}var CT=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",BT=null,BC=null,DM=r=>{if(r===BT&&Array.isArray(BC))return BC;var e=[];return S.Children.forEach(r,t=>{js(t)||(WX.isFragment(t)?e=e.concat(DM(t.props.children)):e.push(t))}),BC=e,BT=r,e};function wj(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(a=>CT(a)):n=[CT(e)],DM(r).forEach(a=>{var s=nf(a,"type.displayName")||nf(a,"type.name");n.indexOf(s)!==-1&&t.push(a)}),t}var nJ=(r,e,t,n)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(a=n&&CC?.[n])!==null&&a!==void 0?a:[],i=e.startsWith("data-"),l=typeof r!="function"&&(!!n&&s.includes(e)||LM(e)),c=!!t&&bj(e);return i||l||c},os=(r,e,t)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(S.isValidElement(r)&&(n=r.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;nJ((i=n)===null||i===void 0?void 0:i[s],s,e,t)&&(a[s]=n[s])}),a},aJ=["children","width","height","viewBox","className","style","title","desc"];function fN(){return fN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},fN.apply(null,arguments)}function sJ(r,e){if(r==null)return{};var t,n,a=iJ(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function iJ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Cj=S.forwardRef((r,e)=>{var{children:t,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=r,d=sJ(r,aJ),f=s||{width:n,height:a,x:0,y:0},g=Mr("recharts-surface",i);return S.createElement("svg",fN({},os(d,!0,"svg"),{className:g,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),S.createElement("title",null,c),S.createElement("desc",null,u),t)}),oJ=["children","className"];function mN(){return mN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mN.apply(null,arguments)}function lJ(r,e){if(r==null)return{};var t,n,a=cJ(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function cJ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var no=S.forwardRef((r,e)=>{var{children:t,className:n}=r,a=lJ(r,oJ),s=Mr("recharts-layer",n);return S.createElement("g",mN({className:s},os(a,!0),{ref:e}),t)}),MM=S.createContext(null),AJ=()=>S.useContext(MM);function jn(r){return function(){return r}}const UM=Math.cos,db=Math.sin,pc=Math.sqrt,hb=Math.PI,Lw=2*hb,gN=Math.PI,pN=2*gN,_h=1e-6,uJ=pN-_h;function RM(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function dJ(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return RM;const t=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*t)/t+n[a]}}class hJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RM:dJ(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,s,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,t,n,a,s){if(e=+e,t=+t,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-t,d=i-e,f=l-t,g=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>_h)if(!(Math.abs(f*c-u*d)>_h)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let p=n-i,x=a-l,y=c*c+u*u,b=p*p+x*x,w=Math.sqrt(y),N=Math.sqrt(g),j=s*Math.tan((gN-Math.acos((y+g-b)/(2*w*N)))/2),k=j/N,T=j/w;Math.abs(k-1)>_h&&this._append`L${e+k*d},${t+k*f}`,this._append`A${s},${s},0,0,${+(f*p>d*x)},${this._x1=e+T*c},${this._y1=t+T*u}`}}arc(e,t,n,a,s,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=t+c,f=1^i,g=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_h||Math.abs(this._y1-d)>_h)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%pN+pN),g>uJ?this._append`A${n},${n},0,1,${f},${e-l},${t-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:g>_h&&this._append`A${n},${n},0,${+(g>=gN)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Bj(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new hJ(e)}function Nj(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function QM(r){this._context=r}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function Dw(r){return new QM(r)}function HM(r){return r[0]}function KM(r){return r[1]}function zM(r,e){var t=jn(!0),n=null,a=Dw,s=null,i=Bj(l);r=typeof r=="function"?r:r===void 0?HM:jn(r),e=typeof e=="function"?e:e===void 0?KM:jn(e);function l(c){var u,d=(c=Nj(c)).length,f,g=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&t(f=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+r(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:jn(+c),l):r},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:jn(+c),l):e},l.defined=function(c){return arguments.length?(t=typeof c=="function"?c:jn(!!c),l):t},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Tx(r,e,t){var n=null,a=jn(!0),s=null,i=Dw,l=null,c=Bj(u);r=typeof r=="function"?r:r===void 0?HM:jn(+r),e=typeof e=="function"?e:jn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?KM:jn(+t);function u(f){var g,p,x,y=(f=Nj(f)).length,b,w=!1,N,j=new Array(y),k=new Array(y);for(s==null&&(l=i(N=c())),g=0;g<=y;++g){if(!(g<y&&a(b=f[g],g,f))===w)if(w=!w)p=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=g-1;x>=p;--x)l.point(j[x],k[x]);l.lineEnd(),l.areaEnd()}w&&(j[g]=+r(b,g,f),k[g]=+e(b,g,f),l.point(n?+n(b,g,f):j[g],t?+t(b,g,f):k[g]))}if(N)return l=null,N+""||null}function d(){return zM().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(r=typeof f=="function"?f:jn(+f),n=null,u):r},u.x0=function(f){return arguments.length?(r=typeof f=="function"?f:jn(+f),u):r},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jn(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:jn(+f),t=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:jn(+f),u):e},u.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:jn(+f),u):t},u.lineX0=u.lineY0=function(){return d().x(r).y(e)},u.lineY1=function(){return d().x(r).y(t)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:jn(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class qM{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function fJ(r){return new qM(r,!0)}function mJ(r){return new qM(r,!1)}const Sj={draw(r,e){const t=pc(e/hb);r.moveTo(t,0),r.arc(0,0,t,0,Lw)}},gJ={draw(r,e){const t=pc(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},$M=pc(1/3),pJ=$M*2,yJ={draw(r,e){const t=pc(e/pJ),n=t*$M;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},xJ={draw(r,e){const t=pc(e),n=-t/2;r.rect(n,n,t,t)}},vJ=.8908130915292852,GM=db(hb/10)/db(7*hb/10),bJ=db(Lw/10)*GM,wJ=-UM(Lw/10)*GM,CJ={draw(r,e){const t=pc(e*vJ),n=bJ*t,a=wJ*t;r.moveTo(0,-t),r.lineTo(n,a);for(let s=1;s<5;++s){const i=Lw*s/5,l=UM(i),c=db(i);r.lineTo(c*t,-l*t),r.lineTo(l*n-c*a,c*n+l*a)}r.closePath()}},NC=pc(3),BJ={draw(r,e){const t=-pc(e/(NC*3));r.moveTo(0,t*2),r.lineTo(-NC*t,-t),r.lineTo(NC*t,-t),r.closePath()}},sl=-.5,il=pc(3)/2,yN=1/pc(12),NJ=(yN/2+1)*3,SJ={draw(r,e){const t=pc(e/NJ),n=t/2,a=t*yN,s=n,i=t*yN+t,l=-s,c=i;r.moveTo(n,a),r.lineTo(s,i),r.lineTo(l,c),r.lineTo(sl*n-il*a,il*n+sl*a),r.lineTo(sl*s-il*i,il*s+sl*i),r.lineTo(sl*l-il*c,il*l+sl*c),r.lineTo(sl*n+il*a,sl*a-il*n),r.lineTo(sl*s+il*i,sl*i-il*s),r.lineTo(sl*l+il*c,sl*c-il*l),r.closePath()}};function jJ(r,e){let t=null,n=Bj(a);r=typeof r=="function"?r:jn(r||Sj),e=typeof e=="function"?e:jn(e===void 0?64:+e);function a(){let s;if(t||(t=s=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return a.type=function(s){return arguments.length?(r=typeof s=="function"?s:jn(s),a):r},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:jn(+s),a):e},a.context=function(s){return arguments.length?(t=s??null,a):t},a}function fb(){}function mb(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function VM(r){this._context=r}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mb(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function EJ(r){return new VM(r)}function WM(r){this._context=r}WM.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:mb(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function _J(r){return new WM(r)}function YM(r){this._context=r}YM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:mb(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function kJ(r){return new YM(r)}function XM(r){this._context=r}XM.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function TJ(r){return new XM(r)}function NT(r){return r<0?-1:1}function ST(r,e,t){var n=r._x1-r._x0,a=e-r._x1,s=(r._y1-r._y0)/(n||a<0&&-0),i=(t-r._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(NT(s)+NT(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function jT(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function SC(r,e,t){var n=r._x0,a=r._y0,s=r._x1,i=r._y1,l=(s-n)/3;r._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*t,s,i)}function gb(r){this._context=r}gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SC(this,this._t0,jT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,SC(this,jT(this,t=ST(this,r,e)),t);break;default:SC(this,this._t0,t=ST(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function JM(r){this._context=new ZM(r)}(JM.prototype=Object.create(gb.prototype)).point=function(r,e){gb.prototype.point.call(this,e,r)};function ZM(r){this._context=r}ZM.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,a,s){this._context.bezierCurveTo(e,r,n,t,s,a)}};function FJ(r){return new gb(r)}function PJ(r){return new JM(r)}function eU(r){this._context=r}eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=ET(r),a=ET(e),s=0,i=1;i<t;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],r[i],e[i]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function ET(r){var e,t=r.length-1,n,a=new Array(t),s=new Array(t),i=new Array(t);for(a[0]=0,s[0]=2,i[0]=r[0]+2*r[1],e=1;e<t-1;++e)a[e]=1,s[e]=4,i[e]=4*r[e]+2*r[e+1];for(a[t-1]=2,s[t-1]=7,i[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[t-1]=i[t-1]/s[t-1],e=t-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[t-1]=(r[t]+a[t-1])/2,e=0;e<t-1;++e)s[e]=2*r[e+1]-a[e+1];return[a,s]}function OJ(r){return new eU(r)}function Mw(r,e){this._context=r,this._t=e}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function IJ(r){return new Mw(r,.5)}function LJ(r){return new Mw(r,0)}function DJ(r){return new Mw(r,1)}function sg(r,e){if((i=r.length)>1)for(var t=1,n,a,s=r[e[0]],i,l=s.length;t<i;++t)for(a=s,s=r[e[t]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xN(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function MJ(r,e){return r[e]}function UJ(r){const e=[];return e.key=r,e}function RJ(){var r=jn([]),e=xN,t=sg,n=MJ;function a(s){var i=Array.from(r.apply(this,arguments),UJ),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=Nj(e(i));l<c;++l)i[d[l]].index=l;return t(i,d),i}return a.keys=function(s){return arguments.length?(r=typeof s=="function"?s:jn(Array.from(s)),a):r},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:jn(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?xN:typeof s=="function"?s:jn(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(t=s??sg,a):t},a}function QJ(r,e){if((n=r.length)>0){for(var t,n,a=0,s=r[0].length,i;a<s;++a){for(i=t=0;t<n;++t)i+=r[t][a][1]||0;if(i)for(t=0;t<n;++t)r[t][a][1]/=i}sg(r,e)}}function HJ(r,e){if((a=r.length)>0){for(var t=0,n=r[e[0]],a,s=n.length;t<s;++t){for(var i=0,l=0;i<a;++i)l+=r[i][t][1]||0;n[t][1]+=n[t][0]=-l/2}sg(r,e)}}function KJ(r,e){if(!(!((i=r.length)>0)||!((s=(a=r[e[0]]).length)>0))){for(var t=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=r[e[l]],f=d[n][1]||0,g=d[n-1][1]||0,p=(f-g)/2,x=0;x<l;++x){var y=r[e[x]],b=y[n][1]||0,w=y[n-1][1]||0;p+=b-w}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=t,c&&(t-=u/c)}a[n-1][1]+=a[n-1][0]=t,sg(r,e)}}var zJ=["type","size","sizeType"];function vN(){return vN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},vN.apply(null,arguments)}function _T(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function kT(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(t),!0).forEach(function(n){qJ(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_T(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qJ(r,e,t){return(e=$J(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $J(r){var e=GJ(r,"string");return typeof e=="symbol"?e:e+""}function GJ(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function VJ(r,e){if(r==null)return{};var t,n,a=WJ(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function WJ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var tU={symbolCircle:Sj,symbolCross:gJ,symbolDiamond:yJ,symbolSquare:xJ,symbolStar:CJ,symbolTriangle:BJ,symbolWye:SJ},YJ=Math.PI/180,XJ=r=>{var e="symbol".concat(ey(r));return tU[e]||Sj},JJ=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*YJ;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},ZJ=(r,e)=>{tU["symbol".concat(ey(r))]=e},jj=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,a=VJ(r,zJ),s=kT(kT({},a),{},{type:e,size:t,sizeType:n}),i="circle";typeof e=="string"&&(i=e);var l=()=>{var g=XJ(i),p=jJ().type(g).size(JJ(t,n,i));return p()},{className:c,cx:u,cy:d}=s,f=os(s,!0);return u===+u&&d===+d&&t===+t?S.createElement("path",vN({},f,{className:Mr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};jj.registerSymbol=ZJ;function bN(){return bN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bN.apply(null,arguments)}function TT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function eZ(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(t),!0).forEach(function(n){Ej(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TT(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ej(r,e,t){return(e=tZ(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tZ(r){var e=rZ(r,"string");return typeof e=="symbol"?e:e+""}function rZ(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ol=32;class _j extends S.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,a=ol/2,s=ol/6,i=ol/3,l=e.inactive?n:e.color,c=t??e.type;if(c==="none")return null;if(c==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:ol,y2:a,className:"recharts-legend-icon"});if(c==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(ol,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return S.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ol/8,"h").concat(ol,"v").concat(ol*3/4,"h").concat(-ol,"z"),className:"recharts-legend-icon"});if(S.isValidElement(e.legendIcon)){var u=eZ({},e);return delete u.legendIcon,S.cloneElement(e.legendIcon,u)}return S.createElement(jj,{fill:l,cx:a,cy:a,size:ol,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:a,inactiveColor:s,iconType:i}=this.props,l={x:0,y:0,width:ol,height:ol},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var g=d.formatter||a,p=Mr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?s:d.color,y=g?g(d.value,d,f):d.value;return S.createElement("li",bN({className:p,style:c,key:"legend-item-".concat(f)},ty(this.props,d,f)),S.createElement(Cj,{width:t,height:t,viewBox:l,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(d,i)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:t==="horizontal"?n:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Ej(_j,"displayName","Legend");Ej(_j,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var jC={},EC={},FT;function nZ(){return FT||(FT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const a=new Map;for(let s=0;s<t.length;s++){const i=t[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}r.uniqBy=e})(EC)),EC}var _C={},PT;function rU(){return PT||(PT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(_C)),_C}var kC={},TC={},FC={},OT;function aZ(){return OT||(OT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(FC)),FC}var IT;function kj(){return IT||(IT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=aZ();function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(TC)),TC}var PC={},LT;function sZ(){return LT||(LT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(PC)),PC}var DT;function iZ(){return DT||(DT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=kj(),t=sZ();function n(a){return t.isObjectLike(a)&&e.isArrayLike(a)}r.isArrayLikeObject=n})(kC)),kC}var OC={},IC={},MT;function oZ(){return MT||(MT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=vj();function t(n){return function(a){return e.get(a,n)}}r.property=t})(IC)),IC}var LC={},DC={},MC={},UC={},UT;function nU(){return UT||(UT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(UC)),UC}var RC={},RT;function aU(){return RT||(RT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(RC)),RC}var QC={},QT;function sU(){return QT||(QT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(QC)),QC}var HT;function lZ(){return HT||(HT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Tj(),t=nU(),n=aU(),a=sU();function s(f,g,p){return typeof p!="function"?e.isMatch(f,g):i(f,g,function x(y,b,w,N,j,k){const T=p(y,b,w,N,j,k);return T!==void 0?!!T:i(y,b,x,k)},new Map)}function i(f,g,p,x){if(g===f)return!0;switch(typeof g){case"object":return l(f,g,p,x);case"function":return Object.keys(g).length>0?i(f,{...g},p,x):a.eq(f,g);default:return t.isObject(f)?typeof g=="string"?g==="":!0:a.eq(f,g)}}function l(f,g,p,x){if(g==null)return!0;if(Array.isArray(g))return u(f,g,p,x);if(g instanceof Map)return c(f,g,p,x);if(g instanceof Set)return d(f,g,p,x);const y=Object.keys(g);if(f==null)return y.length===0;if(y.length===0)return!0;if(x&&x.has(g))return x.get(g)===f;x&&x.set(g,f);try{for(let b=0;b<y.length;b++){const w=y[b];if(!n.isPrimitive(f)&&!(w in f)||g[w]===void 0&&f[w]!==void 0||g[w]===null&&f[w]!==null||!p(f[w],g[w],w,f,g,x))return!1}return!0}finally{x&&x.delete(g)}}function c(f,g,p,x){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,b]of g.entries()){const w=f.get(y);if(p(w,b,y,f,g,x)===!1)return!1}return!0}function u(f,g,p,x){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let b=0;b<g.length;b++){const w=g[b];let N=!1;for(let j=0;j<f.length;j++){if(y.has(j))continue;const k=f[j];let T=!1;if(p(k,w,b,f,g,x)&&(T=!0),T){y.add(j),N=!0;break}}if(!N)return!1}return!0}function d(f,g,p,x){return g.size===0?!0:f instanceof Set?u([...f],[...g],p,x):!1}r.isMatchWith=s,r.isSetMatch=d})(MC)),MC}var KT;function Tj(){return KT||(KT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=lZ();function t(n,a){return e.isMatchWith(n,a,()=>{})}r.isMatch=t})(DC)),DC}var HC={},KC={},zC={},zT;function cZ(){return zT||(zT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(zC)),zC}var qC={},qT;function iU(){return qT||(qT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(qC)),qC}var $C={},$T;function oU(){return $T||($T=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",g="[object ArrayBuffer]",p="[object Object]",x="[object Error]",y="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",k="[object BigUint64Array]",T="[object Int8Array]",I="[object Int16Array]",M="[object Int32Array]",L="[object BigInt64Array]",P="[object Float32Array]",q="[object Float64Array]";r.argumentsTag=s,r.arrayBufferTag=g,r.arrayTag=d,r.bigInt64ArrayTag=L,r.bigUint64ArrayTag=k,r.booleanTag=a,r.dataViewTag=y,r.dateTag=l,r.errorTag=x,r.float32ArrayTag=P,r.float64ArrayTag=q,r.functionTag=f,r.int16ArrayTag=I,r.int32ArrayTag=M,r.int8ArrayTag=T,r.mapTag=c,r.numberTag=n,r.objectTag=p,r.regexpTag=e,r.setTag=u,r.stringTag=t,r.symbolTag=i,r.uint16ArrayTag=N,r.uint32ArrayTag=j,r.uint8ArrayTag=b,r.uint8ClampedArrayTag=w})($C)),$C}var GC={},GT;function AZ(){return GT||(GT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})(GC)),GC}var VT;function lU(){return VT||(VT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=cZ(),t=iU(),n=oU(),a=aU(),s=AZ();function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,g,p=new Map,x=void 0){const y=x?.(d,f,g,p);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const b=new Array(d.length);p.set(d,b);for(let w=0;w<d.length;w++)b[w]=l(d[w],w,g,p,x);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;p.set(d,b);for(const[w,N]of d)b.set(w,l(N,w,g,p,x));return b}if(d instanceof Set){const b=new Set;p.set(d,b);for(const w of d)b.add(l(w,void 0,g,p,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,b);for(let w=0;w<d.length;w++)b[w]=l(d[w],w,g,p,x);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,b),c(b,d,g,p,x),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return p.set(d,b),c(b,d,g,p,x),b}if(d instanceof Blob){const b=new Blob([d],{type:d.type});return p.set(d,b),c(b,d,g,p,x),b}if(d instanceof Error){const b=new d.constructor;return p.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,g,p,x),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return p.set(d,b),c(b,d,g,p,x),b}return d}function c(d,f,g=d,p,x){const y=[...Object.keys(f),...e.getSymbols(f)];for(let b=0;b<y.length;b++){const w=y[b],N=Object.getOwnPropertyDescriptor(d,w);(N==null||N.writable)&&(d[w]=l(f[w],w,g,p,x))}}function u(d){switch(t.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=i,r.cloneDeepWithImpl=l,r.copyProperties=c})(KC)),KC}var WT;function uZ(){return WT||(WT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=lU();function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(HC)),HC}var YT;function dZ(){return YT||(YT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Tj(),t=uZ();function n(a){return a=t.cloneDeep(a),s=>e.isMatch(s,a)}r.matches=n})(LC)),LC}var VC={},WC={},YC={},XT;function hZ(){return XT||(XT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=lU(),t=oU();function n(a,s){return e.cloneDeepWith(a,(i,l,c,u)=>{const d=s?.(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case t.numberTag:case t.stringTag:case t.booleanTag:{const f=new a.constructor(a?.valueOf());return e.copyProperties(f,a),f}case t.argumentsTag:{const f={};return e.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}r.cloneDeepWith=n})(YC)),YC}var JT;function fZ(){return JT||(JT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=hZ();function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(WC)),WC}var XC={},JC={},ZT;function cU(){return ZT||(ZT=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(JC)),JC}var ZC={},eF;function mZ(){return eF||(eF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=iU();function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})(ZC)),ZC}var tF;function gZ(){return tF||(tF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=PM(),t=cU(),n=mZ(),a=xj();function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&i?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&t.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}r.has=s})(XC)),XC}var rF;function pZ(){return rF||(rF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Tj(),t=OM(),n=fZ(),a=vj(),s=gZ();function i(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=t.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}r.matchesProperty=i})(VC)),VC}var nF;function yZ(){return nF||(nF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=rU(),t=oZ(),n=dZ(),a=pZ();function s(i){if(i==null)return e.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return t.property(i)}}r.iteratee=s})(OC)),OC}var aF;function xZ(){return aF||(aF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=nZ(),t=rU(),n=iZ(),a=yZ();function s(i,l=t.identity){return n.isArrayLikeObject(i)?e.uniqBy(Array.from(i),a.iteratee(l)):[]}r.uniqBy=s})(jC)),jC}var eB,sF;function vZ(){return sF||(sF=1,eB=xZ().uniqBy),eB}var bZ=vZ();const iF=Bl(bZ);function AU(r,e,t){return e===!0?iF(r,t):typeof e=="function"?iF(r,e):r}var tB={exports:{}},rB={},nB={exports:{}},aB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF;function wZ(){if(oF)return aB;oF=1;var r=vg();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,a=r.useEffect,s=r.useLayoutEffect,i=r.useDebugValue;function l(f,g){var p=g(),x=n({inst:{value:p,getSnapshot:g}}),y=x[0].inst,b=x[1];return s(function(){y.value=p,y.getSnapshot=g,c(y)&&b({inst:y})},[f,p,g]),a(function(){return c(y)&&b({inst:y}),f(function(){c(y)&&b({inst:y})})},[f]),i(p),p}function c(f){var g=f.getSnapshot;f=f.value;try{var p=g();return!t(f,p)}catch{return!0}}function u(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return aB.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,aB}var lF;function CZ(){return lF||(lF=1,nB.exports=wZ()),nB.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cF;function BZ(){if(cF)return rB;cF=1;var r=vg(),e=CZ();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=r.useRef,i=r.useEffect,l=r.useMemo,c=r.useDebugValue;return rB.useSyncExternalStoreWithSelector=function(u,d,f,g,p){var x=s(null);if(x.current===null){var y={hasValue:!1,value:null};x.current=y}else y=x.current;x=l(function(){function w(I){if(!N){if(N=!0,j=I,I=g(I),p!==void 0&&y.hasValue){var M=y.value;if(p(M,I))return k=M}return k=I}if(M=k,n(j,I))return M;var L=g(I);return p!==void 0&&p(M,L)?(j=I,M):(j=I,k=L)}var N=!1,j,k,T=f===void 0?null:f;return[function(){return w(d())},T===null?void 0:function(){return w(T())}]},[d,f,g,p]);var b=a(u,x[0],x[1]);return i(function(){y.hasValue=!0,y.value=b},[b]),c(b),b},rB}var AF;function NZ(){return AF||(AF=1,tB.exports=BZ()),tB.exports}var SZ=NZ(),Fj=S.createContext(null),jZ=r=>r,la=()=>{var r=S.useContext(Fj);return r?r.store.dispatch:jZ},Kv=()=>{},EZ=()=>Kv,_Z=(r,e)=>r===e;function St(r){var e=S.useContext(Fj);return SZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:EZ,e?e.store.getState:Kv,e?e.store.getState:Kv,e?r:Kv,_Z)}function kZ(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function TZ(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function FZ(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var uF=r=>Array.isArray(r)?r:[r];function PZ(r){const e=Array.isArray(r[0])?r[0]:r;return FZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function OZ(r,e){const t=[],{length:n}=r;for(let a=0;a<n;a++)t.push(r[a].apply(null,e));return t}var IZ=class{constructor(r){this.value=r}deref(){return this.value}},LZ=typeof WeakRef<"u"?WeakRef:IZ,DZ=0,dF=1;function Fx(){return{s:DZ,v:void 0,o:null,p:null}}function uU(r,e={}){let t=Fx();const{resultEqualityCheck:n}=e;let a,s=0;function i(){let l=t;const{length:c}=arguments;for(let f=0,g=c;f<g;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(p);y===void 0?(l=Fx(),x.set(p,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(p);y===void 0?(l=Fx(),x.set(p,l)):l=y}}const u=l;let d;if(l.s===dF)d=l.v;else if(d=r.apply(null,arguments),s++,n){const f=a?.deref?.()??a;f!=null&&n(f,d)&&(d=f,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new LZ(d):d}return u.s=dF,u.v=d,d}return i.clearCache=()=>{t=Fx(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function MZ(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),kZ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...c},{memoize:f,memoizeOptions:g=[],argsMemoize:p=uU,argsMemoizeOptions:x=[]}=d,y=uF(g),b=uF(x),w=PZ(a),N=f(function(){return s++,u.apply(null,arguments)},...y),j=p(function(){i++;const T=OZ(w,arguments);return l=N.apply(null,T),l},...b);return Object.assign(j,{resultFunc:u,memoizedResultFunc:N,dependencies:w,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Le=MZ(uU),UZ=Object.assign((r,e=Le)=>{TZ(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(s=>r[s]);return e(n,(...s)=>s.reduce((i,l,c)=>(i[t[c]]=l,i),{}))},{withTypes:()=>UZ}),sB={},iB={},oB={},hF;function RZ(){return hF||(hF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,a,s)=>{if(n!==a){const i=e(n),l=e(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};r.compareValues=t})(oB)),oB}var lB={},cB={},fF;function dU(){return fF||(fF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(cB)),cB}var mF;function QZ(){return mF||(mF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=dU(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!t.test(s))||i!=null&&Object.hasOwn(i,s)}r.isKey=a})(lB)),lB}var gF;function HZ(){return gF||(gF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=RZ(),t=QZ(),n=xj();function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,x)=>{let y=p;for(let b=0;b<x.length&&y!=null;++b)y=y[x[b]];return y},d=(p,x)=>x==null||p==null?x:typeof p=="object"&&"key"in p?Object.hasOwn(x,p.key)?x[p.key]:u(x,p.path):typeof p=="function"?p(x):Array.isArray(p)?u(x,p):typeof x=="object"?x[p]:x,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||t.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(x=>d(x,p))})).slice().sort((p,x)=>{for(let y=0;y<f.length;y++){const b=e.compareValues(p.criteria[y],x.criteria[y],l[y]);if(b!==0)return b}return 0}).map(p=>p.original)}r.orderBy=a})(iB)),iB}var AB={},pF;function KZ(){return pF||(pF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(t,0),a}r.flatten=e})(AB)),AB}var uB={},yF;function hU(){return yF||(yF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=cU(),t=kj(),n=nU(),a=sU();function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&t.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}r.isIterateeCall=s})(uB)),uB}var xF;function zZ(){return xF||(xF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=HZ(),t=KZ(),n=hU();function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),e.orderBy(s,t.flatten(i),["asc"])}r.sortBy=a})(sB)),sB}var dB,vF;function qZ(){return vF||(vF=1,dB=zZ().sortBy),dB}var $Z=qZ();const Uw=Bl($Z);var fU=r=>r.legend.settings,GZ=r=>r.legend.size,VZ=r=>r.legend.payload,WZ=Le([VZ,fU],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?Uw(n,t):n});function YZ(){return St(WZ)}var Px=1;function mU(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=S.useState({height:0,left:0,top:0,width:0}),n=S.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-e.height)>Px||Math.abs(i.left-e.left)>Px||Math.abs(i.top-e.top)>Px||Math.abs(i.width-e.width)>Px)&&t({height:i.height,left:i.left,top:i.top,width:i.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Qs(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var XZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",bF=XZ,hB=()=>Math.random().toString(36).substring(7).split("").join("."),JZ={INIT:`@@redux/INIT${hB()}`,REPLACE:`@@redux/REPLACE${hB()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hB()}`},pb=JZ;function Pj(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function gU(r,e,t){if(typeof r!="function")throw new Error(Qs(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Qs(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Qs(1));return t(gU)(r,e)}let n=r,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((b,w)=>{i.set(w,b)}))}function d(){if(c)throw new Error(Qs(3));return a}function f(b){if(typeof b!="function")throw new Error(Qs(4));if(c)throw new Error(Qs(5));let w=!0;u();const N=l++;return i.set(N,b),function(){if(w){if(c)throw new Error(Qs(6));w=!1,u(),i.delete(N),s=null}}}function g(b){if(!Pj(b))throw new Error(Qs(7));if(typeof b.type>"u")throw new Error(Qs(8));if(typeof b.type!="string")throw new Error(Qs(17));if(c)throw new Error(Qs(9));try{c=!0,a=n(a,b)}finally{c=!1}return(s=i).forEach(N=>{N()}),b}function p(b){if(typeof b!="function")throw new Error(Qs(10));n=b,g({type:pb.REPLACE})}function x(){const b=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Qs(11));function N(){const k=w;k.next&&k.next(d())}return N(),{unsubscribe:b(N)}},[bF](){return this}}}return g({type:pb.INIT}),{dispatch:g,subscribe:f,getState:d,replaceReducer:p,[bF]:x}}function ZZ(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:pb.INIT})>"u")throw new Error(Qs(12));if(typeof t(void 0,{type:pb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qs(13))})}function pU(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const i=e[s];typeof r[i]=="function"&&(t[i]=r[i])}const n=Object.keys(t);let a;try{ZZ(t)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],g=t[f],p=i[f],x=g(p,l);if(typeof x>"u")throw l&&l.type,new Error(Qs(14));u[f]=x,c=c||x!==p}return c=c||n.length!==Object.keys(i).length,c?u:i}}function yb(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function eee(...r){return e=>(t,n)=>{const a=e(t,n);let s=()=>{throw new Error(Qs(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=r.map(c=>c(i));return s=yb(...l)(a.dispatch),{...a,dispatch:s}}}function yU(r){return Pj(r)&&"type"in r&&typeof r.type=="string"}var xU=Symbol.for("immer-nothing"),wF=Symbol.for("immer-draftable"),Lo=Symbol.for("immer-state");function lc(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var ig=Object.getPrototypeOf;function af(r){return!!r&&!!r[Lo]}function fu(r){return r?vU(r)||Array.isArray(r)||!!r[wF]||!!r.constructor?.[wF]||ry(r)||Qw(r):!1}var tee=Object.prototype.constructor.toString();function vU(r){if(!r||typeof r!="object")return!1;const e=ig(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===tee}function xb(r,e){Rw(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function Rw(r){const e=r[Lo];return e?e.type_:Array.isArray(r)?1:ry(r)?2:Qw(r)?3:0}function wN(r,e){return Rw(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function bU(r,e,t){const n=Rw(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function ree(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function ry(r){return r instanceof Map}function Qw(r){return r instanceof Set}function kh(r){return r.copy_||r.base_}function CN(r,e){if(ry(r))return new Map(r);if(Qw(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=vU(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Lo];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[i]})}return Object.create(ig(r),n)}else{const n=ig(r);if(n!==null&&t)return{...r};const a=Object.create(n);return Object.assign(a,r)}}function Oj(r,e=!1){return Hw(r)||af(r)||!fu(r)||(Rw(r)>1&&Object.defineProperties(r,{set:{value:Ox},add:{value:Ox},clear:{value:Ox},delete:{value:Ox}}),Object.freeze(r),e&&Object.values(r).forEach(t=>Oj(t,!0))),r}function Ox(){lc(2)}function Hw(r){return Object.isFrozen(r)}var nee={};function sf(r){const e=nee[r];return e||lc(0,r),e}var C0;function wU(){return C0}function aee(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CF(r,e){e&&(sf("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function BN(r){NN(r),r.drafts_.forEach(see),r.drafts_=null}function NN(r){r===C0&&(C0=r.parent_)}function BF(r){return C0=aee(C0,r)}function see(r){const e=r[Lo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NF(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Lo].modified_&&(BN(e),lc(4)),fu(r)&&(r=vb(e,r),e.parent_||bb(e,r)),e.patches_&&sf("Patches").generateReplacementPatches_(t[Lo].base_,r,e.patches_,e.inversePatches_)):r=vb(e,t,[]),BN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==xU?r:void 0}function vb(r,e,t){if(Hw(e))return e;const n=e[Lo];if(!n)return xb(e,(a,s)=>SF(r,n,e,a,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return bb(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),xb(s,(l,c)=>SF(r,n,a,l,c,t,i)),bb(r,a,!1),t&&r.patches_&&sf("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function SF(r,e,t,n,a,s,i){if(af(a)){const l=s&&e&&e.type_!==3&&!wN(e.assigned_,n)?s.concat(n):void 0,c=vb(r,a,l);if(bU(t,n,c),af(c))r.canAutoFreeze_=!1;else return}else i&&t.add(a);if(fu(a)&&!Hw(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;vb(r,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(ry(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&bb(r,a)}}function bb(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Oj(e,t)}function iee(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:wU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Ij;t&&(a=[n],s=B0);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var Ij={get(r,e){if(e===Lo)return r;const t=kh(r);if(!wN(t,e))return oee(r,t,e);const n=t[e];return r.finalized_||!fu(n)?n:n===fB(r.base_,e)?(mB(r),r.copy_[e]=jN(n,r)):n},has(r,e){return e in kh(r)},ownKeys(r){return Reflect.ownKeys(kh(r))},set(r,e,t){const n=CU(kh(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const a=fB(kh(r),e),s=a?.[Lo];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(ree(t,a)&&(t!==void 0||wN(r.base_,e)))return!0;mB(r),SN(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return fB(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,mB(r),SN(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=kh(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){lc(11)},getPrototypeOf(r){return ig(r.base_)},setPrototypeOf(){lc(12)}},B0={};xb(Ij,(r,e)=>{B0[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});B0.deleteProperty=function(r,e){return B0.set.call(this,r,e,void 0)};B0.set=function(r,e,t){return Ij.set.call(this,r[0],e,t,r[0])};function fB(r,e){const t=r[Lo];return(t?kh(t):r)[e]}function oee(r,e,t){const n=CU(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function CU(r,e){if(!(e in r))return;let t=ig(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=ig(t)}}function SN(r){r.modified_||(r.modified_=!0,r.parent_&&SN(r.parent_))}function mB(r){r.copy_||(r.copy_=CN(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var lee=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const i=this;return function(c=s,...u){return i.produce(c,d=>t.call(this,d,...u))}}typeof t!="function"&&lc(6),n!==void 0&&typeof n!="function"&&lc(7);let a;if(fu(e)){const s=BF(this),i=jN(e,void 0);let l=!0;try{a=t(i),l=!1}finally{l?BN(s):NN(s)}return CF(s,n),NF(a,s)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===xU&&(a=void 0),this.autoFreeze_&&Oj(a,!0),n){const s=[],i=[];sf("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else lc(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,t,(i,l)=>{n=i,a=l}),n,a]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){fu(r)||lc(8),af(r)&&(r=iu(r));const e=BF(this),t=jN(r,void 0);return t[Lo].isManual_=!0,NN(e),t}finishDraft(r,e){const t=r&&r[Lo];(!t||!t.isManual_)&&lc(9);const{scope_:n}=t;return CF(n,e),NF(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}t>-1&&(e=e.slice(t+1));const n=sf("Patches").applyPatches_;return af(r)?n(r,e):this.produce(r,a=>n(a,e))}};function jN(r,e){const t=ry(r)?sf("MapSet").proxyMap_(r,e):Qw(r)?sf("MapSet").proxySet_(r,e):iee(r,e);return(e?e.scope_:wU()).drafts_.push(t),t}function iu(r){return af(r)||lc(10,r),BU(r)}function BU(r){if(!fu(r)||Hw(r))return r;const e=r[Lo];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=CN(r,e.scope_.immer_.useStrictShallowCopy_)}else t=CN(r,!0);return xb(t,(n,a)=>{bU(t,n,BU(a))}),e&&(e.finalized_=!1),t}var cee=new lee,NU=cee.produce;function SU(r){return({dispatch:t,getState:n})=>a=>s=>typeof s=="function"?s(t,n,r):a(s)}var Aee=SU(),uee=SU,dee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yb:yb.apply(null,arguments)};function bl(r,e){function t(...n){if(e){let a=e(...n);if(!a)throw new Error(Oo(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>yU(n)&&n.type===r,t}var jU=class Yp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yp.prototype)}static get[Symbol.species](){return Yp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yp(...e[0].concat(this)):new Yp(...e.concat(this))}};function jF(r){return fu(r)?NU(r,()=>{}):r}function Ix(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function hee(r){return typeof r=="boolean"}var fee=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new jU;return t&&(hee(t)?i.push(Aee):i.push(uee(t.extraArgument))),i},mee="RTK_autoBatch",EF=r=>e=>{setTimeout(e,r)},gee=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let a=!0,s=!1,i=!1;const l=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:EF(10):r.type==="callback"?r.queueNotification:EF(r.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),g=n.subscribe(f);return l.add(d),()=>{g(),l.delete(d)}},dispatch(d){try{return a=!d?.meta?.[mee],s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},pee=r=>function(t){const{autoBatch:n=!0}=t??{};let a=new jU(r);return n&&a.push(gee(typeof n=="object"?n:void 0)),a};function yee(r){const e=fee(),{reducer:t=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=r||{};let l;if(typeof t=="function")l=t;else if(Pj(t))l=pU(t);else throw new Error(Oo(1));let c;typeof n=="function"?c=n(e):c=e();let u=yb;a&&(u=dee({trace:!1,...typeof a=="object"&&a}));const d=eee(...c),f=pee(d);let g=typeof i=="function"?i(f):f();const p=u(...g);return gU(l,s,p)}function EU(r){const e={},t=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Oo(28));if(l in e)throw new Error(Oo(29));return e[l]=i,a},addAsyncThunk(s,i){return i.pending&&(e[s.pending.type]=i.pending),i.rejected&&(e[s.rejected.type]=i.rejected),i.fulfilled&&(e[s.fulfilled.type]=i.fulfilled),i.settled&&t.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return t.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return r(a),[e,t,n]}function xee(r){return typeof r=="function"}function vee(r,e){let[t,n,a]=EU(e),s;if(xee(r))s=()=>jF(r());else{const l=jF(r);s=()=>l}function i(l=s(),c){let u=[t[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(af(d)){const p=f(d,c);return p===void 0?d:p}else{if(fu(d))return NU(d,g=>f(g,c));{const g=f(d,c);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},l)}return i.getInitialState=s,i}var bee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wee=(r=21)=>{let e="",t=r;for(;t--;)e+=bee[Math.random()*64|0];return e},Cee=Symbol.for("rtk-slice-createasyncthunk");function Bee(r,e){return`${r}/${e}`}function Nee({creators:r}={}){const e=r?.asyncThunk?.[Cee];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(Oo(11));const i=(typeof n.reducers=="function"?n.reducers(jee()):n.reducers)||{},l=Object.keys(i),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,k){const T=typeof j=="string"?j:j.type;if(!T)throw new Error(Oo(12));if(T in c.sliceCaseReducersByType)throw new Error(Oo(13));return c.sliceCaseReducersByType[T]=k,u},addMatcher(j,k){return c.sliceMatchers.push({matcher:j,reducer:k}),u},exposeAction(j,k){return c.actionCreators[j]=k,u},exposeCaseReducer(j,k){return c.sliceCaseReducersByName[j]=k,u}};l.forEach(j=>{const k=i[j],T={reducerName:j,type:Bee(a,j),createNotation:typeof n.reducers=="function"};_ee(k)?Tee(T,k,u,e):Eee(T,k,u)});function d(){const[j={},k=[],T=void 0]=typeof n.extraReducers=="function"?EU(n.extraReducers):[n.extraReducers],I={...j,...c.sliceCaseReducersByType};return vee(n.initialState,M=>{for(let L in I)M.addCase(L,I[L]);for(let L of c.sliceMatchers)M.addMatcher(L.matcher,L.reducer);for(let L of k)M.addMatcher(L.matcher,L.reducer);T&&M.addDefaultCase(T)})}const f=j=>j,g=new Map,p=new WeakMap;let x;function y(j,k){return x||(x=d()),x(j,k)}function b(){return x||(x=d()),x.getInitialState()}function w(j,k=!1){function T(M){let L=M[j];return typeof L>"u"&&k&&(L=Ix(p,T,b)),L}function I(M=f){const L=Ix(g,k,()=>new WeakMap);return Ix(L,M,()=>{const P={};for(const[q,F]of Object.entries(n.selectors??{}))P[q]=See(F,M,()=>Ix(p,M,b),k);return P})}return{reducerPath:j,getSelectors:I,get selectors(){return I(T)},selectSlice:T}}const N={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...w(s),injectInto(j,{reducerPath:k,...T}={}){const I=k??s;return j.inject({reducerPath:I,reducer:y},T),{...N,...w(I,!0)}}};return N}}function See(r,e,t,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=t()),r(l,...i)}return a.unwrapped=r,a}var Uo=Nee();function jee(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function Eee({type:r,reducerName:e,createNotation:t},n,a){let s,i;if("reducer"in n){if(t&&!kee(n))throw new Error(Oo(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,i?bl(r,i):bl(r))}function _ee(r){return r._reducerDefinitionType==="asyncThunk"}function kee(r){return r._reducerDefinitionType==="reducerWithPrepare"}function Tee({type:r,reducerName:e},t,n,a){if(!a)throw new Error(Oo(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=t,f=a(r,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Lx,pending:l||Lx,rejected:c||Lx,settled:u||Lx})}function Lx(){}var Fee="task",_U="listener",kU="completed",Lj="cancelled",Pee=`task-${Lj}`,Oee=`task-${kU}`,EN=`${_U}-${Lj}`,Iee=`${_U}-${kU}`,Kw=class{constructor(r){this.code=r,this.message=`${Fee} ${Lj} (reason: ${r})`}name="TaskAbortError";message},Dj=(r,e)=>{if(typeof r!="function")throw new TypeError(Oo(32))},wb=()=>{},TU=(r,e=wb)=>(r.catch(e),r),FU=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),Wh=(r,e)=>{const t=r.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},Yh=r=>{if(r.aborted){const{reason:e}=r;throw new Kw(e)}};function PU(r,e){let t=wb;return new Promise((n,a)=>{const s=()=>a(new Kw(r.reason));if(r.aborted){s();return}t=FU(r,s),e.finally(()=>t()).then(n,a)}).finally(()=>{t=wb})}var Lee=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof Kw?"cancelled":"rejected",error:t}}finally{e?.()}},Cb=r=>e=>TU(PU(r,e).then(t=>(Yh(r),t))),OU=r=>{const e=Cb(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:zm}=Object,_F={},zw="listenerMiddleware",Dee=(r,e)=>{const t=n=>FU(r,()=>Wh(n,r.reason));return(n,a)=>{Dj(n);const s=new AbortController;t(s);const i=Lee(async()=>{Yh(r),Yh(s.signal);const l=await n({pause:Cb(s.signal),delay:OU(s.signal),signal:s.signal});return Yh(s.signal),l},()=>Wh(s,Oee));return a?.autoJoin&&e.push(i.catch(wb)),{result:Cb(r)(i),cancel(){Wh(s,Pee)}}}},Mee=(r,e)=>{const t=async(n,a)=>{Yh(e);let s=()=>{};const l=[new Promise((c,u)=>{let d=r({predicate:n,effect:(f,g)=>{g.unsubscribe(),c([f,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await PU(e,Promise.race(l));return Yh(e),c}finally{s()}};return(n,a)=>TU(t(n,a))},IU=r=>{let{type:e,actionCreator:t,matcher:n,predicate:a,effect:s}=r;if(e)a=bl(e).match;else if(t)e=t.type,a=t.match;else if(n)a=n;else if(!a)throw new Error(Oo(21));return Dj(s),{predicate:a,type:e,effect:s}},LU=zm(r=>{const{type:e,predicate:t,effect:n}=IU(r);return{id:wee(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Oo(22))}}},{withTypes:()=>LU}),kF=(r,e)=>{const{type:t,effect:n,predicate:a}=IU(e);return Array.from(r.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===a)&&s.effect===n)},_N=r=>{r.pending.forEach(e=>{Wh(e,EN)})},Uee=r=>()=>{r.forEach(_N),r.clear()},TF=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},DU=zm(bl(`${zw}/add`),{withTypes:()=>DU}),Ree=bl(`${zw}/removeAll`),MU=zm(bl(`${zw}/remove`),{withTypes:()=>MU}),Qee=(...r)=>{console.error(`${zw}/error`,...r)},ny=(r={})=>{const e=new Map,{extra:t,onError:n=Qee}=r;Dj(n);const a=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),f=>{d.unsubscribe(),f?.cancelActive&&_N(d)}),s=d=>{const f=kF(e,d)??LU(d);return a(f)};zm(s,{withTypes:()=>s});const i=d=>{const f=kF(e,d);return f&&(f.unsubscribe(),d.cancelActive&&_N(f)),!!f};zm(i,{withTypes:()=>i});const l=async(d,f,g,p)=>{const x=new AbortController,y=Mee(s,x.signal),b=[];try{d.pending.add(x),await Promise.resolve(d.effect(f,zm({},g,{getOriginalState:p,condition:(w,N)=>y(w,N).then(Boolean),take:y,delay:OU(x.signal),pause:Cb(x.signal),extra:t,signal:x.signal,fork:Dee(x.signal,b),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((w,N,j)=>{w!==x&&(Wh(w,EN),j.delete(w))})},cancel:()=>{Wh(x,EN),d.pending.delete(x)},throwIfCancelled:()=>{Yh(x.signal)}})))}catch(w){w instanceof Kw||TF(n,w,{raisedBy:"effect"})}finally{await Promise.all(b),Wh(x,Iee),d.pending.delete(x)}},c=Uee(e);return{middleware:d=>f=>g=>{if(!yU(g))return f(g);if(DU.match(g))return s(g.payload);if(Ree.match(g)){c();return}if(MU.match(g))return i(g.payload);let p=d.getState();const x=()=>{if(p===_F)throw new Error(Oo(23));return p};let y;try{if(y=f(g),e.size>0){const b=d.getState(),w=Array.from(e.values());for(const N of w){let j=!1;try{j=N.predicate(g,b,p)}catch(k){j=!1,TF(n,k,{raisedBy:"predicate"})}j&&l(N,g,d,x)}}}finally{p=_F}return y},startListening:s,stopListening:i,clearListeners:c}};function Oo(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Hee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UU=Uo({name:"chartLayout",initialState:Hee,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,a,s;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,r.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:Kee,setLayout:zee,setChartSize:qee,setScale:$ee}=UU.actions,Gee=UU.reducer;function FF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function PF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(t),!0).forEach(function(n){Vee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Vee(r,e,t){return(e=Wee(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Wee(r){var e=Yee(r,"string");return typeof e=="symbol"?e:e+""}function Yee(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Bb=Math.PI/180,Xee=r=>r*180/Math.PI,Ka=(r,e,t,n)=>({x:r+Math.cos(-Bb*n)*t,y:e+Math.sin(-Bb*n)*t}),RU=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Jee=(r,e)=>{var{x:t,y:n}=r,{x:a,y:s}=e;return Math.sqrt((t-a)**2+(n-s)**2)},Zee=(r,e)=>{var{x:t,y:n}=r,{cx:a,cy:s}=e,i=Jee({x:t,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(t-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:Xee(c),angleInRadian:c}},ete=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),a=Math.floor(t/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:t-s*360}},tte=(r,e)=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),i=Math.min(a,s);return r+i*360},rte=(r,e)=>{var{x:t,y:n}=r,{radius:a,angle:s}=Zee({x:t,y:n},e),{innerRadius:i,outerRadius:l}=e;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=ete(e),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?PF(PF({},e),{},{radius:a,angle:tte(d,e)}):null};function QU(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function OF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function hl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(t),!0).forEach(function(n){nte(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function nte(r,e,t){return(e=ate(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ate(r){var e=ste(r,"string");return typeof e=="symbol"?e:e+""}function ste(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ia(r,e,t){return js(r)||js(e)?t:uA(e)?nf(r,e,t):typeof e=="function"?e(r):t}var ite=(r,e,t,n,a)=>{var s,i=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||r==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?t[c-1].coordinate:t[l-1].coordinate,d=t[c].coordinate,f=c>=l-1?t[0].coordinate:t[c+1].coordinate,g=void 0;if(Bs(d-u)!==Bs(f-d)){var p=[];if(Bs(f-d)===Bs(a[1]-a[0])){g=f;var x=d+a[1]-a[0];p[0]=Math.min(x,(x+u)/2),p[1]=Math.max(x,(x+u)/2)}else{g=u;var y=f+a[1]-a[0];p[0]=Math.min(d,(y+d)/2),p[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(r>b[0]&&r<=b[1]||r>=p[0]&&r<=p[1]){({index:i}=t[c]);break}}else{var w=Math.min(u,f),N=Math.max(u,f);if(r>(w+d)/2&&r<=(N+d)/2){({index:i}=t[c]);break}}}else if(e){for(var j=0;j<l;j++)if(j===0&&r<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<l-1&&r>(e[j].coordinate+e[j-1].coordinate)/2&&r<=(e[j].coordinate+e[j+1].coordinate)/2||j===l-1&&r>(e[j].coordinate+e[j-1].coordinate)/2){({index:i}=e[j]);break}}return i},ote=(r,e,t)=>{if(e&&t){var{width:n,height:a}=t,{align:s,verticalAlign:i,layout:l}=e;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&Ft(r[s]))return hl(hl({},r),{},{[s]:r[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&Ft(r[i]))return hl(hl({},r),{},{[i]:r[i]+(a||0)})}return r},gf=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",HU=(r,e,t,n)=>{if(n)return r.map(l=>l.coordinate);var a,s,i=r.map(l=>(l.coordinate===e&&(a=!0),l.coordinate===t&&(s=!0),l.coordinate));return a||i.push(e),s||i.push(t),i},KU=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:g,axisType:p}=r;if(!i)return null;var x=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,y=a==="category"&&i.bandwidth?i.bandwidth()/x:0;if(y=p==="angleAxis"&&s&&s.length>=2?Bs(s[0]-s[1])*2*y:y,f||g){var b=(f||g||[]).map((w,N)=>{var j=n?n.indexOf(w):w;return{coordinate:i(j)+y,value:w,offset:y,index:N}});return b.filter(w=>!Io(w.coordinate))}return c&&u?u.map((w,N)=>({coordinate:i(w)+y,value:w,index:N,offset:y})):i.ticks&&d!=null?i.ticks(d).map((w,N)=>({coordinate:i(w)+y,value:w,offset:y,index:N})):i.domain().map((w,N)=>({coordinate:i(w)+y,value:n?n[w]:w,index:N,offset:y}))},IF=1e-4,lte=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),a=Math.min(n[0],n[1])-IF,s=Math.max(n[0],n[1])+IF,i=r(e[0]),l=r(e[t-1]);(i<a||i>s||l<a||l>s)&&r.domain([e[0],e[t-1]])}},cte=(r,e)=>{if(!e||e.length!==2||!Ft(e[0])||!Ft(e[1]))return r;var t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),a=[r[0],r[1]];return(!Ft(r[0])||r[0]<t)&&(a[0]=t),(!Ft(r[1])||r[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<t&&(a[1]=t),a},Ate=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0,i=0;i<e;++i){var l=Io(r[i][t][1])?r[i][t][0]:r[i][t][1];l>=0?(r[i][t][0]=a,r[i][t][1]=a+l,a=r[i][t][1]):(r[i][t][0]=s,r[i][t][1]=s+l,s=r[i][t][1])}},ute=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0;s<e;++s){var i=Io(r[s][t][1])?r[s][t][0]:r[s][t][1];i>=0?(r[s][t][0]=a,r[s][t][1]=a+i,a=r[s][t][1]):(r[s][t][0]=0,r[s][t][1]=0)}},dte={sign:Ate,expand:QJ,none:sg,silhouette:HJ,wiggle:KJ,positive:ute},hte=(r,e,t)=>{var n=dte[t],a=RJ().keys(e).value((s,i)=>+ia(s,i,0)).order(xN).offset(n);return a(r)};function fte(r){return r==null?void 0:String(r)}var LF=r=>{var{axis:e,ticks:t,offset:n,bandSize:a,entry:s,index:i}=r;if(e.type==="category")return t[i]?t[i].coordinate+n:null;var l=ia(s,e.dataKey,e.scale.domain()[i]);return js(l)?null:e.scale(l)-a/2+n},mte=r=>{var{numericAxis:e}=r,t=e.scale.domain();if(e.type==="number"){var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return n<=0&&a>=0?0:a<0?a:n}return t[0]},gte=r=>{var e=r.flat(2).filter(Ft);return[Math.min(...e),Math.max(...e)]},pte=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],yte=(r,e,t)=>{if(r!=null)return pte(Object.keys(r).reduce((n,a)=>{var s=r[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var d=QU(u,e,t),f=gte(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},DF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mj=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var a=Uw(e,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function UF(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:a,name:s}=r;return hl(hl({},e),{},{dataKey:t,payload:n,value:a,name:s})}function qw(r,e){if(r)return String(r);if(typeof e=="string")return e}function xte(r,e,t,n,a){if(t==="horizontal"||t==="vertical"){var s=r>=a.left&&r<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:r,y:e}:null}return n?rte({x:r,y:e},n):null}var vte=(r,e,t,n)=>{var a=e.find(u=>u&&u.index===t);if(a){if(r==="horizontal")return{x:a.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:a.coordinate};if(r==="centric"){var s=a.coordinate,{radius:i}=n;return hl(hl(hl({},n),Ka(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return hl(hl(hl({},n),Ka(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},bte=(r,e)=>e==="horizontal"?r.x:e==="vertical"?r.y:e==="centric"?r.angle:r.radius,Cu=r=>r.layout.width,Bu=r=>r.layout.height,wte=r=>r.layout.scale,zU=r=>r.layout.margin,$w=Le(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),Gw=Le(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),qU="data-recharts-item-index",$U="data-recharts-item-data-key",ay=60;function RF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Dx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(t),!0).forEach(function(n){Cte(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cte(r,e,t){return(e=Bte(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bte(r){var e=Nte(r,"string");return typeof e=="symbol"?e:e+""}function Nte(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ste=r=>r.brush.height;function jte(r){var e=Gw(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ay;return t+a}return t},0)}function Ete(r){var e=Gw(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ay;return t+a}return t},0)}function _te(r){var e=$w(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function kte(r){var e=$w(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var ls=Le([Cu,Bu,zU,Ste,jte,Ete,_te,kte,fU,GZ],(r,e,t,n,a,s,i,l,c,u)=>{var d={left:(t.left||0)+a,right:(t.right||0)+s},f={top:(t.top||0)+i,bottom:(t.bottom||0)+l},g=Dx(Dx({},f),d),p=g.bottom;g.bottom+=n,g=ote(g,c,u);var x=r-g.left-g.right,y=e-g.top-g.bottom;return Dx(Dx({brushBottom:p},g),{},{width:Math.max(x,0),height:Math.max(y,0)})}),Tte=Le(ls,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),Uj=Le(Cu,Bu,(r,e)=>({x:0,y:0,width:r,height:e})),Fte=S.createContext(null),jl=()=>S.useContext(Fte)!=null,Vw=r=>r.brush,Ww=Le([Vw,ls,zU],(r,e,t)=>({height:r.height,x:Ft(r.x)?r.x:e.left,y:Ft(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:Ft(r.width)?r.width:e.width})),Rj=()=>{var r,e=jl(),t=St(Tte),n=St(Ww),a=(r=St(Vw))===null||r===void 0?void 0:r.padding;return!e||!n||!a?t:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Pte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GU=()=>{var r;return(r=St(ls))!==null&&r!==void 0?r:Pte},Qj=()=>St(Cu),Hj=()=>St(Bu),Ote=()=>St(r=>r.layout.margin),qr=r=>r.layout.layoutType,Kj=()=>St(qr),Ite={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VU=Uo({name:"legend",initialState:Ite,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload(r,e){r.payload.push(e.payload)},removeLegendPayload(r,e){var t=iu(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)}}}),{setLegendSize:QF,setLegendSettings:Lte,addLegendPayload:WU,removeLegendPayload:YU}=VU.actions,Dte=VU.reducer,Mte=["contextPayload"];function kN(){return kN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},kN.apply(null,arguments)}function HF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function og(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(t),!0).forEach(function(n){zj(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zj(r,e,t){return(e=Ute(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ute(r){var e=Rte(r,"string");return typeof e=="symbol"?e:e+""}function Rte(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Qte(r,e){if(r==null)return{};var t,n,a=Hte(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Hte(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Kte(r){return r.value}function zte(r){var{contextPayload:e}=r,t=Qte(r,Mte),n=AU(e,r.payloadUniqBy,Kte),a=og(og({},t),{},{payload:n});return S.isValidElement(r.content)?S.cloneElement(r.content,a):typeof r.content=="function"?S.createElement(r.content,a):S.createElement(_j,a)}function qte(r,e,t,n,a,s){var{layout:i,align:l,verticalAlign:c}=e,u,d;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),og(og({},u),d)}function $te(r){var e=la();return S.useEffect(()=>{e(Lte(r))},[e,r]),null}function Gte(r){var e=la();return S.useEffect(()=>(e(QF(r)),()=>{e(QF({width:0,height:0}))}),[e,r]),null}function Vte(r){var e=YZ(),t=AJ(),n=Ote(),{width:a,height:s,wrapperStyle:i,portal:l}=r,[c,u]=mU([e]),d=Qj(),f=Hj();if(d==null||f==null)return null;var g=d-(n.left||0)-(n.right||0),p=Yw.getWidthOrHeight(r.layout,s,a,g),x=l?i:og(og({position:"absolute",width:p?.width||a||"auto",height:p?.height||s||"auto"},qte(i,r,n,d,f,c)),i),y=l??t;if(y==null)return null;var b=S.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},S.createElement($te,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),S.createElement(Gte,{width:c.width,height:c.height}),S.createElement(zte,kN({},r,p,{margin:n,chartWidth:d,chartHeight:f,contextPayload:e})));return OD.createPortal(b,y)}class Yw extends S.PureComponent{static getWidthOrHeight(e,t,n,a){return e==="vertical"&&Ft(t)?{height:t}:e==="horizontal"?{width:n||a}:null}render(){return S.createElement(Vte,this.props)}}zj(Yw,"displayName","Legend");zj(Yw,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function TN(){return TN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},TN.apply(null,arguments)}function KF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function gB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(t),!0).forEach(function(n){Wte(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wte(r,e,t){return(e=Yte(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yte(r){var e=Xte(r,"string");return typeof e=="symbol"?e:e+""}function Xte(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Jte(r){return Array.isArray(r)&&uA(r[0])&&uA(r[1])?r.join(" ~ "):r}var Zte=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:g=!1}=r,p=()=>{if(s&&s.length){var T={padding:0,margin:0},I=(l?Uw(s,l):s).map((M,L)=>{if(M.type==="none")return null;var P=M.formatter||i||Jte,{value:q,name:F}=M,R=q,H=F;if(P){var z=P(q,F,M,L,s);if(Array.isArray(z))[R,H]=z;else if(z!=null)R=z;else return null}var X=gB({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:X},uA(H)?S.createElement("span",{className:"recharts-tooltip-item-name"},H):null,uA(H)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},R),S.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},x=gB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),y=gB({margin:0},a),b=!js(d),w=b?d:"",N=Mr("recharts-default-tooltip",c),j=Mr("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(w=f(d,s));var k=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",TN({className:N,style:x},k),S.createElement("p",{className:j,style:y},S.isValidElement(w)?w:"".concat(w)),p())},kp="recharts-tooltip-wrapper",ere={visibility:"hidden"};function tre(r){var{coordinate:e,translateX:t,translateY:n}=r;return Mr(kp,{["".concat(kp,"-right")]:Ft(t)&&e&&Ft(e.x)&&t>=e.x,["".concat(kp,"-left")]:Ft(t)&&e&&Ft(e.x)&&t<e.x,["".concat(kp,"-bottom")]:Ft(n)&&e&&Ft(e.y)&&n>=e.y,["".concat(kp,"-top")]:Ft(n)&&e&&Ft(e.y)&&n<e.y})}function zF(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=r;if(s&&Ft(s[n]))return s[n];var d=t[n]-l-(a>0?a:0),f=t[n]+a;if(e[n])return i[n]?d:f;var g=c[n];if(g==null)return 0;if(i[n]){var p=d,x=g;return p<x?Math.max(f,g):Math.max(d,g)}if(u==null)return 0;var y=f+l,b=g+u;return y>b?Math.max(d,g):Math.max(f,g)}function rre(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function nre(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=r,u,d,f;return i.height>0&&i.width>0&&t?(d=zF({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=zF({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=rre({translateX:d,translateY:f,useTranslate3d:l})):u=ere,{cssProperties:u,cssClasses:tre({translateX:d,translateY:f,coordinate:t})}}function qF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Mx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(t),!0).forEach(function(n){FN(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function FN(r,e,t){return(e=are(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function are(r){var e=sre(r,"string");return typeof e=="symbol"?e:e+""}function sre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class ire extends S.PureComponent{constructor(){super(...arguments),FN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:g,viewBox:p,wrapperStyle:x,lastBoundingBox:y,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:N,cssProperties:j}=nre({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:g,viewBox:p}),k=w?{}:Mx(Mx({transition:c&&e?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=Mx(Mx({},k),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:T,ref:b},s)}}var ore=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pf={devToolsEnabled:!1,isSsr:ore()},XU=()=>St(r=>r.rootProps.accessibilityLayer);function Do(r){return Number.isFinite(r)}function lg(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function PN(){return PN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},PN.apply(null,arguments)}function $F(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function GF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(t),!0).forEach(function(n){lre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$F(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lre(r,e,t){return(e=cre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cre(r){var e=Are(r,"string");return typeof e=="symbol"?e:e+""}function Are(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var VF={curveBasisClosed:_J,curveBasisOpen:kJ,curveBasis:EJ,curveBumpX:fJ,curveBumpY:mJ,curveLinearClosed:TJ,curveLinear:Dw,curveMonotoneX:FJ,curveMonotoneY:PJ,curveNatural:OJ,curveStep:IJ,curveStepAfter:DJ,curveStepBefore:LJ},Ux=r=>Do(r.x)&&Do(r.y),Tp=r=>r.x,Fp=r=>r.y,ure=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(ey(r));return(t==="curveMonotone"||t==="curveBump")&&e?VF["".concat(t).concat(e==="vertical"?"Y":"X")]:VF[t]||Dw},dre=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:a,connectNulls:s=!1}=r,i=ure(e,a),l=s?t.filter(Ux):t,c;if(Array.isArray(n)){var u=s?n.filter(f=>Ux(f)):n,d=l.map((f,g)=>GF(GF({},f),{},{base:u[g]}));return a==="vertical"?c=Tx().y(Fp).x1(Tp).x0(f=>f.base.x):c=Tx().x(Tp).y1(Fp).y0(f=>f.base.y),c.defined(Ux).curve(i),c(d)}return a==="vertical"&&Ft(n)?c=Tx().y(Fp).x1(Tp).x0(n):Ft(n)?c=Tx().x(Tp).y1(Fp).y0(n):c=zM().x(Tp).y(Fp),c.defined(Ux).curve(i),c(l)},JU=r=>{var{className:e,points:t,path:n,pathRef:a}=r;if((!t||!t.length)&&!n)return null;var s=t&&t.length?dre(r):n;return S.createElement("path",PN({},Hd(r),eJ(r),{className:Mr("recharts-curve",e),d:s===null?void 0:s,ref:a}))},hre=["x","y","top","left","width","height","className"];function ON(){return ON=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ON.apply(null,arguments)}function WF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function fre(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(t),!0).forEach(function(n){mre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):WF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function mre(r,e,t){return(e=gre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gre(r){var e=pre(r,"string");return typeof e=="symbol"?e:e+""}function pre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yre(r,e){if(r==null)return{};var t,n,a=xre(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function xre(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var vre=(r,e,t,n,a,s)=>"M".concat(r,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(t),bre=r=>{var{x:e=0,y:t=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=r,c=yre(r,hre),u=fre({x:e,y:t,top:n,left:a,width:s,height:i},c);return!Ft(e)||!Ft(t)||!Ft(s)||!Ft(i)||!Ft(n)||!Ft(a)?null:S.createElement("path",ON({},os(u,!0),{className:Mr("recharts-cross",l),d:vre(e,t,s,i,n,a)}))};function wre(r,e,t,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-a:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-a,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function YF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Cre(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(t),!0).forEach(function(n){Bre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bre(r,e,t){return(e=Nre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nre(r){var e=Sre(r,"string");return typeof e=="symbol"?e:e+""}function Sre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ei(r,e){var t=Cre({},r),n=e,a=Object.keys(e),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),t);return s}function jre(){}function XF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function JF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(t),!0).forEach(function(n){Ere(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):XF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ere(r,e,t){return(e=_re(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _re(r){var e=kre(r,"string");return typeof e=="symbol"?e:e+""}function kre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Tre=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ZU=(r,e,t)=>r.map(n=>"".concat(Tre(n)," ").concat(e,"ms ").concat(t)).join(","),Fre=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(a=>n.includes(a))),N0=(r,e)=>Object.keys(e).reduce((t,n)=>JF(JF({},t),{},{[n]:r(n,e[n])}),{});function ZF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ks(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(t),!0).forEach(function(n){Pre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Pre(r,e,t){return(e=Ore(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ore(r){var e=Ire(r,"string");return typeof e=="symbol"?e:e+""}function Ire(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Nb=(r,e,t)=>r+(e-r)*t,IN=r=>{var{from:e,to:t}=r;return e!==t},eR=(r,e,t)=>{var n=N0((a,s)=>{if(IN(s)){var[i,l]=r(s.from,s.to,s.velocity);return Ks(Ks({},s),{},{from:i,velocity:l})}return s},e);return t<1?N0((a,s)=>IN(s)?Ks(Ks({},s),{},{velocity:Nb(s.velocity,n[a].velocity,t),from:Nb(s.from,n[a].from,t)}):s,e):eR(r,n,t-1)};function Lre(r,e,t,n,a,s){var i,l=n.reduce((g,p)=>Ks(Ks({},g),{},{[p]:{from:r[p],velocity:0,to:e[p]}}),{}),c=()=>N0((g,p)=>p.from,l),u=()=>!Object.values(l).filter(IN).length,d=null,f=g=>{i||(i=g);var p=g-i,x=p/t.dt;l=eR(t,l,x),a(Ks(Ks(Ks({},r),e),c())),i=g,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function Dre(r,e,t,n,a,s,i){var l=null,c=a.reduce((f,g)=>Ks(Ks({},f),{},{[g]:[r[g],e[g]]}),{}),u,d=f=>{u||(u=f);var g=(f-u)/n,p=N0((y,b)=>Nb(...b,t(g)),c);if(s(Ks(Ks(Ks({},r),e),p)),g<1)l=i.setTimeout(d);else{var x=N0((y,b)=>Nb(...b,t(1)),c);s(Ks(Ks(Ks({},r),e),x))}};return()=>(l=i.setTimeout(d),()=>{l()})}const Mre=(r,e,t,n,a,s)=>{var i=Fre(r,e);return t.isStepper===!0?Lre(r,e,t,i,a,s):Dre(r,e,t,n,i,a,s)};var Sb=1e-4,tR=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],rR=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),eP=(r,e)=>t=>{var n=tR(r,e);return rR(n,t)},Ure=(r,e)=>t=>{var n=tR(r,e),a=[...n.map((s,i)=>s*i).slice(1),0];return rR(a,t)},tP=function(){for(var e,t,n,a,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];if(i.length===1)switch(i[0]){case"linear":[e,n,t,a]=[0,0,1,1];break;case"ease":[e,n,t,a]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,a]=[.42,0,1,1];break;case"ease-out":[e,n,t,a]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,a]=[0,0,.58,1];break;default:{var c=i[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,t,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else i.length===4&&([e,n,t,a]=i);var u=eP(e,t),d=eP(n,a),f=Ure(e,t),g=x=>x>1?1:x<0?0:x,p=x=>{for(var y=x>1?1:x,b=y,w=0;w<8;++w){var N=u(b)-y,j=f(b);if(Math.abs(N-y)<Sb||j<Sb)return d(b);b=g(b-N/j)}return d(b)};return p.isStepper=!1,p},Rre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:a=17}=e,s=(i,l,c)=>{var u=-(i-l)*t,d=c*n,f=c+(u-d)*a/1e3,g=c*a/1e3+i;return Math.abs(g-l)<Sb&&Math.abs(f)<Sb?[l,0]:[g,f]};return s.isStepper=!0,s.dt=a,s},Qre=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tP(r);case"spring":return Rre();default:if(r.split("(")[0]==="cubic-bezier")return tP(r)}return typeof r=="function"?r:null};function Hre(r){var e,t=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=r.setTimeout(s.bind(null,u),c);return}s(c),a=r.setTimeout(s.bind(null,u));return}typeof i=="string"&&(e=i,t(e)),typeof i=="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(t=i,()=>{t=()=>null}),getTimeoutController:()=>r}}class Kre{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=t?e(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function zre(){return Hre(new Kre)}var qre=S.createContext(zre);function $re(r,e){var t=S.useContext(qre);return S.useMemo(()=>e??t(r),[r,e,t])}var Gre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rP={t:0},pB={t:1};function Xw(r){var e=Ei(r,Gre),{isActive:t,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=$re(e.animationId,e.animationManager),[f,g]=S.useState(t?rP:pB),p=S.useRef(null);return S.useEffect(()=>{t||g(pB)},[t]),S.useEffect(()=>{if(!t||!n)return jre;var x=Mre(rP,pB,Qre(s),a,g,d.getTimeoutController()),y=()=>{p.current=x()};return d.start([c,i,y,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[t,n,a,s,i,c,l,d]),u(f.t)}function Jw(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=S.useRef(w0(e)),n=S.useRef(r);return n.current!==r&&(t.current=w0(e),n.current=r),t.current}function nP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function aP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(t),!0).forEach(function(n){Vre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Vre(r,e,t){return(e=Wre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Wre(r){var e=Yre(r,"string");return typeof e=="symbol"?e:e+""}function Yre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jb(){return jb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jb.apply(null,arguments)}var sP=(r,e,t,n,a)=>{var s=Math.min(Math.abs(t)/2,Math.abs(n)/2),i=n>=0?1:-1,l=t>=0?1:-1,c=n>=0&&t>=0||n<0&&t<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,g=4;f<g;f++)d[f]=a[f]>s?s:a[f];u="M".concat(r,",").concat(e+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(r+l*d[0],",").concat(e)),u+="L ".concat(r+t-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(r+t,",").concat(e+i*d[1])),u+="L ".concat(r+t,",").concat(e+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(r+t-l*d[2],",").concat(e+n)),u+="L ".concat(r+l*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(r,",").concat(e+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);u="M ".concat(r,",").concat(e+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r+l*p,",").concat(e,`
            L `).concat(r+t-l*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r+t,",").concat(e+i*p,`
            L `).concat(r+t,",").concat(e+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r+t-l*p,",").concat(e+n,`
            L `).concat(r+l*p,",").concat(e+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(r,",").concat(e+n-i*p," Z")}else u="M ".concat(r,",").concat(e," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return u},Xre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nR=r=>{var e=Ei(r,Xre),t=S.useRef(null),[n,a]=S.useState(-1);S.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var z=t.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:g,animationBegin:p,isAnimationActive:x,isUpdateAnimationActive:y}=e,b=S.useRef(l),w=S.useRef(c),N=S.useRef(s),j=S.useRef(i),k=S.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),T=Jw(k,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var I=Mr("recharts-rectangle",d);if(!y)return S.createElement("path",jb({},os(e,!0),{className:I,d:sP(s,i,l,c,u)}));var M=b.current,L=w.current,P=N.current,q=j.current,F="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),H=ZU(["strokeDasharray"],g,typeof f=="string"?f:void 0);return S.createElement(Xw,{animationId:T,key:T,canBegin:n>0,duration:g,easing:f,isActive:y,begin:p},z=>{var X=qs(M,l,z),$=qs(L,c,z),te=qs(P,s,z),ee=qs(q,i,z);t.current&&(b.current=X,w.current=$,N.current=te,j.current=ee);var fe;return x?z>0?fe={transition:H,strokeDasharray:R}:fe={strokeDasharray:F}:fe={strokeDasharray:R},S.createElement("path",jb({},os(e,!0),{className:I,d:sP(te,ee,X,$,u),ref:t,style:aP(aP({},fe),e.style)}))})};function aR(r){var{cx:e,cy:t,radius:n,startAngle:a,endAngle:s}=r,i=Ka(e,t,n,a),l=Ka(e,t,n,s);return{points:[i,l],cx:e,cy:t,radius:n,startAngle:a,endAngle:s}}function LN(){return LN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},LN.apply(null,arguments)}var Jre=(r,e)=>{var t=Bs(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},Rx=r=>{var{cx:e,cy:t,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=r,u=l*(i?1:-1)+n,d=Math.asin(l/u)/Bb,f=c?a:a+s*d,g=Ka(e,t,u,f),p=Ka(e,t,n,f),x=c?a-s*d:a,y=Ka(e,t,u*Math.cos(d*Bb),x);return{center:g,circleTangency:p,lineTangency:y,theta:d}},sR=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=r,l=Jre(s,i),c=s+l,u=Ka(e,t,a,s),d=Ka(e,t,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var g=Ka(e,t,n,s),p=Ka(e,t,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(e,",").concat(t," Z");return f},Zre=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=r,d=Bs(u-c),{circleTangency:f,lineTangency:g,theta:p}=Rx({cx:e,cy:t,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:y,theta:b}=Rx({cx:e,cy:t,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),w=l?Math.abs(c-u):Math.abs(c-u)-p-b;if(w<0)return i?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):sR({cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:k,theta:T}=Rx({cx:e,cy:t,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:I,lineTangency:M,theta:L}=Rx({cx:e,cy:t,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(c-u):Math.abs(c-u)-T-L;if(P<0&&s===0)return"".concat(N,"L").concat(e,",").concat(t,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(e,",").concat(t,"Z");return N},ene={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iR=r=>{var e=Ei(r,ene),{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(s<a||u===d)return null;var g=Mr("recharts-sector",f),p=s-a,x=Ai(i,p,0,!0),y;return x>0&&Math.abs(u-d)<360?y=Zre({cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=sR({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),S.createElement("path",LN({},os(e,!0),{className:g,d:y}))};function tne(r,e,t){var n,a,s,i;if(r==="horizontal")n=e.x,s=n,a=t.top,i=t.top+t.height;else if(r==="vertical")a=e.y,i=a,n=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=e,g=Ka(l,c,u,f),p=Ka(l,c,d,f);n=g.x,a=g.y,s=p.x,i=p.y}else return aR(e);return[{x:n,y:a},{x:s,y:i}]}var yB={},xB={},vB={},iP;function rne(){return iP||(iP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=dU();function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(vB)),vB}var oP;function nne(){return oP||(oP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=rne();function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(xB)),xB}var lP;function ane(){return lP||(lP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=hU(),t=nne();function n(a,s,i){i&&typeof i!="number"&&e.isIterateeCall(a,s,i)&&(s=i=void 0),a=t.toFinite(a),s===void 0?(s=a,a=0):s=t.toFinite(s),i=i===void 0?a<s?1:-1:t.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}r.range=n})(yB)),yB}var bB,cP;function sne(){return cP||(cP=1,bB=ane().range),bB}var ine=sne();const oR=Bl(ine);function Ed(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function one(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function qj(r){let e,t,n;r.length!==2?(e=Ed,t=(l,c)=>Ed(r(l),c),n=(l,c)=>r(l)-c):(e=r===Ed||r===one?r:lne,t=r,n=r);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;t(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;t(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function lne(){return 0}function lR(r){return r===null?NaN:+r}function*cne(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const Ane=qj(Ed),sy=Ane.right;qj(lR).center;class AP extends Map{constructor(e,t=hne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(uP(this,e))}has(e){return super.has(uP(this,e))}set(e,t){return super.set(une(this,e),t)}delete(e){return super.delete(dne(this,e))}}function uP({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function une({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function dne({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function hne(r){return r!==null&&typeof r=="object"?r.valueOf():r}function fne(r=Ed){if(r===Ed)return cR;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function cR(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const mne=Math.sqrt(50),gne=Math.sqrt(10),pne=Math.sqrt(2);function Eb(r,e,t){const n=(e-r)/Math.max(0,t),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=mne?10:s>=gne?5:s>=pne?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(r*u),c=Math.round(e*u),l/u<r&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(r/u),c=Math.round(e/u),l*u<r&&++l,c*u>e&&--c),c<l&&.5<=t&&t<2?Eb(r,e,t*2):[l,c,u]}function DN(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[a,s,i]=n?Eb(e,r,t):Eb(r,e,t);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function MN(r,e,t){return e=+e,r=+r,t=+t,Eb(r,e,t)[2]}function UN(r,e,t){e=+e,r=+r,t=+t;const n=e<r,a=n?MN(e,r,t):MN(r,e,t);return(n?-1:1)*(a<0?1/-a:a)}function dP(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function hP(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function AR(r,e,t=0,n=1/0,a){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(a=a===void 0?cR:fne(a);n>t;){if(n-t>600){const c=n-t+1,u=e-t+1,d=Math.log(c),f=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(t,Math.floor(e-u*f/c+g)),x=Math.min(n,Math.floor(e+(c-u)*f/c+g));AR(r,e,p,x,a)}const s=r[e];let i=t,l=n;for(Pp(r,t,e),a(r[n],s)>0&&Pp(r,t,n);i<l;){for(Pp(r,i,l),++i,--l;a(r[i],s)<0;)++i;for(;a(r[l],s)>0;)--l}a(r[t],s)===0?Pp(r,t,l):(++l,Pp(r,l,n)),l<=e&&(t=l+1),e<=l&&(n=l-1)}return r}function Pp(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function yne(r,e,t){if(r=Float64Array.from(cne(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return hP(r);if(e>=1)return dP(r);var n,a=(n-1)*e,s=Math.floor(a),i=dP(AR(r,s).subarray(0,s+1)),l=hP(r.subarray(s+1));return i+(l-i)*(a-s)}}function xne(r,e,t=lR){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,a=(n-1)*e,s=Math.floor(a),i=+t(r[s],s,r),l=+t(r[s+1],s+1,r);return i+(l-i)*(a-s)}}function vne(r,e,t){r=+r,e=+e,t=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+t;for(var n=-1,a=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(a);++n<a;)s[n]=r+n*t;return s}function El(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function Nu(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const RN=Symbol("implicit");function $j(){var r=new AP,e=[],t=[],n=RN;function a(s){let i=r.get(s);if(i===void 0){if(n!==RN)return n;r.set(s,i=e.push(s)-1)}return t[i%t.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new AP;for(const i of s)r.has(i)||r.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(t=Array.from(s),a):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return $j(e,t).unknown(n)},El.apply(a,arguments),a}function Gj(){var r=$j().unknown(void 0),e=r.domain,t=r.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete r.unknown;function f(){var g=e().length,p=a<n,x=p?a:n,y=p?n:a;s=(y-x)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),x+=(y-x-s*(g-c))*d,i=s*(1-c),l&&(x=Math.round(x),i=Math.round(i));var b=vne(g).map(function(w){return x+s*w});return t(p?b.reverse():b)}return r.domain=function(g){return arguments.length?(e(g),f()):e()},r.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,f()):[n,a]},r.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,f()},r.bandwidth=function(){return i},r.step=function(){return s},r.round=function(g){return arguments.length?(l=!!g,f()):l},r.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),f()):c},r.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),f()):c},r.paddingOuter=function(g){return arguments.length?(u=+g,f()):u},r.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),f()):d},r.copy=function(){return Gj(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},El.apply(f(),arguments)}function uR(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return uR(e())},r}function bne(){return uR(Gj.apply(null,arguments).paddingInner(1))}function Vj(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function dR(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function iy(){}var S0=.7,_b=1/S0,qm="\\s*([+-]?\\d+)\\s*",j0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wne=/^#([0-9a-f]{3,8})$/,Cne=new RegExp(`^rgb\\(${qm},${qm},${qm}\\)$`),Bne=new RegExp(`^rgb\\(${lA},${lA},${lA}\\)$`),Nne=new RegExp(`^rgba\\(${qm},${qm},${qm},${j0}\\)$`),Sne=new RegExp(`^rgba\\(${lA},${lA},${lA},${j0}\\)$`),jne=new RegExp(`^hsl\\(${j0},${lA},${lA}\\)$`),Ene=new RegExp(`^hsla\\(${j0},${lA},${lA},${j0}\\)$`),fP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vj(iy,E0,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:mP,formatHex:mP,formatHex8:_ne,formatHsl:kne,formatRgb:gP,toString:gP});function mP(){return this.rgb().formatHex()}function _ne(){return this.rgb().formatHex8()}function kne(){return hR(this).formatHsl()}function gP(){return this.rgb().formatRgb()}function E0(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=wne.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?pP(e):t===3?new eo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Qx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Qx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cne.exec(r))?new eo(e[1],e[2],e[3],1):(e=Bne.exec(r))?new eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Nne.exec(r))?Qx(e[1],e[2],e[3],e[4]):(e=Sne.exec(r))?Qx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jne.exec(r))?vP(e[1],e[2]/100,e[3]/100,1):(e=Ene.exec(r))?vP(e[1],e[2]/100,e[3]/100,e[4]):fP.hasOwnProperty(r)?pP(fP[r]):r==="transparent"?new eo(NaN,NaN,NaN,0):null}function pP(r){return new eo(r>>16&255,r>>8&255,r&255,1)}function Qx(r,e,t,n){return n<=0&&(r=e=t=NaN),new eo(r,e,t,n)}function Tne(r){return r instanceof iy||(r=E0(r)),r?(r=r.rgb(),new eo(r.r,r.g,r.b,r.opacity)):new eo}function QN(r,e,t,n){return arguments.length===1?Tne(r):new eo(r,e,t,n??1)}function eo(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}Vj(eo,QN,dR(iy,{brighter(r){return r=r==null?_b:Math.pow(_b,r),new eo(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?S0:Math.pow(S0,r),new eo(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new eo(Xh(this.r),Xh(this.g),Xh(this.b),kb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yP,formatHex:yP,formatHex8:Fne,formatRgb:xP,toString:xP}));function yP(){return`#${Uh(this.r)}${Uh(this.g)}${Uh(this.b)}`}function Fne(){return`#${Uh(this.r)}${Uh(this.g)}${Uh(this.b)}${Uh((isNaN(this.opacity)?1:this.opacity)*255)}`}function xP(){const r=kb(this.opacity);return`${r===1?"rgb(":"rgba("}${Xh(this.r)}, ${Xh(this.g)}, ${Xh(this.b)}${r===1?")":`, ${r})`}`}function kb(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Xh(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Uh(r){return r=Xh(r),(r<16?"0":"")+r.toString(16)}function vP(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new cc(r,e,t,n)}function hR(r){if(r instanceof cc)return new cc(r.h,r.s,r.l,r.opacity);if(r instanceof iy||(r=E0(r)),!r)return new cc;if(r instanceof cc)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,a=Math.min(e,t,n),s=Math.max(e,t,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(t-n)/l+(t<n)*6:t===s?i=(n-e)/l+2:i=(e-t)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new cc(i,l,c,r.opacity)}function Pne(r,e,t,n){return arguments.length===1?hR(r):new cc(r,e,t,n??1)}function cc(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}Vj(cc,Pne,dR(iy,{brighter(r){return r=r==null?_b:Math.pow(_b,r),new cc(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?S0:Math.pow(S0,r),new cc(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,a=2*t-n;return new eo(wB(r>=240?r-240:r+120,a,n),wB(r,a,n),wB(r<120?r+240:r-120,a,n),this.opacity)},clamp(){return new cc(bP(this.h),Hx(this.s),Hx(this.l),kb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=kb(this.opacity);return`${r===1?"hsl(":"hsla("}${bP(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${r===1?")":`, ${r})`}`}}));function bP(r){return r=(r||0)%360,r<0?r+360:r}function Hx(r){return Math.max(0,Math.min(1,r||0))}function wB(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const Wj=r=>()=>r;function One(r,e){return function(t){return r+t*e}}function Ine(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Lne(r){return(r=+r)==1?fR:function(e,t){return t-e?Ine(e,t,r):Wj(isNaN(e)?t:e)}}function fR(r,e){var t=e-r;return t?One(r,t):Wj(isNaN(r)?e:r)}const wP=(function r(e){var t=Lne(e);function n(a,s){var i=t((a=QN(a)).r,(s=QN(s)).r),l=t(a.g,s.g),c=t(a.b,s.b),u=fR(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=r,n})(1);function Dne(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),a;return function(s){for(a=0;a<t;++a)n[a]=r[a]*(1-s)+e[a]*s;return n}}function Mne(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Une(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,a=new Array(n),s=new Array(t),i;for(i=0;i<n;++i)a[i]=kg(r[i],e[i]);for(;i<t;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function Rne(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function Tb(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function Qne(r,e){var t={},n={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?t[a]=kg(r[a],e[a]):n[a]=e[a];return function(s){for(a in t)n[a]=t[a](s);return n}}var HN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,CB=new RegExp(HN.source,"g");function Hne(r){return function(){return r}}function Kne(r){return function(e){return r(e)+""}}function zne(r,e){var t=HN.lastIndex=CB.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(r=r+"",e=e+"";(n=HN.exec(r))&&(a=CB.exec(e));)(s=a.index)>t&&(s=e.slice(t,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:Tb(n,a)})),t=CB.lastIndex;return t<e.length&&(s=e.slice(t),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?Kne(c[0].x):Hne(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function kg(r,e){var t=typeof e,n;return e==null||t==="boolean"?Wj(e):(t==="number"?Tb:t==="string"?(n=E0(e))?(e=n,wP):zne:e instanceof E0?wP:e instanceof Date?Rne:Mne(e)?Dne:Array.isArray(e)?Une:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Qne:Tb)(r,e)}function Yj(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function qne(r,e){e===void 0&&(e=r,r=kg);for(var t=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);t<n;)s[t]=r(a,a=e[++t]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function $ne(r){return function(){return r}}function Fb(r){return+r}var CP=[0,1];function Si(r){return r}function KN(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:$ne(isNaN(e)?NaN:.5)}function Gne(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function Vne(r,e,t){var n=r[0],a=r[1],s=e[0],i=e[1];return a<n?(n=KN(a,n),s=t(i,s)):(n=KN(n,a),s=t(s,i)),function(l){return s(n(l))}}function Wne(r,e,t){var n=Math.min(r.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=KN(r[i],r[i+1]),s[i]=t(e[i],e[i+1]);return function(l){var c=sy(r,l,1,n)-1;return s[c](a[c](l))}}function oy(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Zw(){var r=CP,e=CP,t=kg,n,a,s,i=Si,l,c,u;function d(){var g=Math.min(r.length,e.length);return i!==Si&&(i=Gne(r[0],r[g-1])),l=g>2?Wne:Vne,c=u=null,f}function f(g){return g==null||isNaN(g=+g)?s:(c||(c=l(r.map(n),e,t)))(n(i(g)))}return f.invert=function(g){return i(a((u||(u=l(e,r.map(n),Tb)))(g)))},f.domain=function(g){return arguments.length?(r=Array.from(g,Fb),d()):r.slice()},f.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},f.rangeRound=function(g){return e=Array.from(g),t=Yj,d()},f.clamp=function(g){return arguments.length?(i=g?!0:Si,d()):i!==Si},f.interpolate=function(g){return arguments.length?(t=g,d()):t},f.unknown=function(g){return arguments.length?(s=g,f):s},function(g,p){return n=g,a=p,d()}}function Xj(){return Zw()(Si,Si)}function Yne(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Pb(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function cg(r){return r=Pb(Math.abs(r)),r?r[1]:NaN}function Xne(r,e){return function(t,n){for(var a=t.length,s=[],i=0,l=r[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(t.substring(a-=l,a+l)),!((c+=l+1)>n));)l=r[i=(i+1)%r.length];return s.reverse().join(e)}}function Jne(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var Zne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _0(r){if(!(e=Zne.exec(r)))throw new Error("invalid format: "+r);var e;return new Jj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_0.prototype=Jj.prototype;function Jj(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}Jj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eae(r){e:for(var e=r.length,t=1,n=-1,a;t<e;++t)switch(r[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(a+1):r}var mR;function tae(r,e){var t=Pb(r,e);if(!t)return r+"";var n=t[0],a=t[1],s=a-(mR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Pb(r,Math.max(0,e+s-1))[0]}function BP(r,e){var t=Pb(r,e);if(!t)return r+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const NP={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Yne,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>BP(r*100,e),r:BP,s:tae,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function SP(r){return r}var jP=Array.prototype.map,EP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rae(r){var e=r.grouping===void 0||r.thousands===void 0?SP:Xne(jP.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?SP:Jne(jP.call(r.numerals,String)),i=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function u(f){f=_0(f);var g=f.fill,p=f.align,x=f.sign,y=f.symbol,b=f.zero,w=f.width,N=f.comma,j=f.precision,k=f.trim,T=f.type;T==="n"?(N=!0,T="g"):NP[T]||(j===void 0&&(j=12),k=!0,T="g"),(b||g==="0"&&p==="=")&&(b=!0,g="0",p="=");var I=y==="$"?t:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",M=y==="$"?n:/[%p]/.test(T)?i:"",L=NP[T],P=/[defgprs%]/.test(T);j=j===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function q(F){var R=I,H=M,z,X,$;if(T==="c")H=L(F)+H,F="";else{F=+F;var te=F<0||1/F<0;if(F=isNaN(F)?c:L(Math.abs(F),j),k&&(F=eae(F)),te&&+F==0&&x!=="+"&&(te=!1),R=(te?x==="("?x:l:x==="-"||x==="("?"":x)+R,H=(T==="s"?EP[8+mR/3]:"")+H+(te&&x==="("?")":""),P){for(z=-1,X=F.length;++z<X;)if($=F.charCodeAt(z),48>$||$>57){H=($===46?a+F.slice(z+1):F.slice(z))+H,F=F.slice(0,z);break}}}N&&!b&&(F=e(F,1/0));var ee=R.length+F.length+H.length,fe=ee<w?new Array(w-ee+1).join(g):"";switch(N&&b&&(F=e(fe+F,fe.length?w-H.length:1/0),fe=""),p){case"<":F=R+F+H+fe;break;case"=":F=R+fe+F+H;break;case"^":F=fe.slice(0,ee=fe.length>>1)+R+F+H+fe.slice(ee);break;default:F=fe+R+F+H;break}return s(F)}return q.toString=function(){return f+""},q}function d(f,g){var p=u((f=_0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(cg(g)/3)))*3,y=Math.pow(10,-x),b=EP[8+x/3];return function(w){return p(y*w)+b}}return{format:u,formatPrefix:d}}var Kx,Zj,gR;nae({thousands:",",grouping:[3],currency:["$",""]});function nae(r){return Kx=rae(r),Zj=Kx.format,gR=Kx.formatPrefix,Kx}function aae(r){return Math.max(0,-cg(Math.abs(r)))}function sae(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cg(e)/3)))*3-cg(Math.abs(r)))}function iae(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,cg(e)-cg(r))+1}function pR(r,e,t,n){var a=UN(r,e,t),s;switch(n=_0(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=sae(a,i))&&(n.precision=s),gR(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=iae(a,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=aae(a))&&(n.precision=s-(n.type==="%")*2);break}}return Zj(n)}function Kd(r){var e=r.domain;return r.ticks=function(t){var n=e();return DN(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var a=e();return pR(a[0],a[a.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=MN(i,l,t),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return r},r}function yR(){var r=Xj();return r.copy=function(){return oy(r,yR())},El.apply(r,arguments),Kd(r)}function xR(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,Fb),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return xR(r).unknown(e)},r=arguments.length?Array.from(r,Fb):[0,1],Kd(t)}function vR(r,e){r=r.slice();var t=0,n=r.length-1,a=r[t],s=r[n],i;return s<a&&(i=t,t=n,n=i,i=a,a=s,s=i),r[t]=e.floor(a),r[n]=e.ceil(s),r}function _P(r){return Math.log(r)}function kP(r){return Math.exp(r)}function oae(r){return-Math.log(-r)}function lae(r){return-Math.exp(-r)}function cae(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Aae(r){return r===10?cae:r===Math.E?Math.exp:e=>Math.pow(r,e)}function uae(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function TP(r){return(e,t)=>-r(-e,t)}function eE(r){const e=r(_P,kP),t=e.domain;let n=10,a,s;function i(){return a=uae(n),s=Aae(n),t()[0]<0?(a=TP(a),s=TP(s),r(oae,lae)):r(_P,kP),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(t(l),i()):t()},e.ticks=l=>{const c=t();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let g=a(u),p=a(d),x,y;const b=l==null?10:+l;let w=[];if(!(n%1)&&p-g<b){if(g=Math.floor(g),p=Math.ceil(p),u>0){for(;g<=p;++g)for(x=1;x<n;++x)if(y=g<0?x/s(-g):x*s(g),!(y<u)){if(y>d)break;w.push(y)}}else for(;g<=p;++g)for(x=n-1;x>=1;--x)if(y=g>0?x/s(-g):x*s(g),!(y<u)){if(y>d)break;w.push(y)}w.length*2<b&&(w=DN(u,d,b))}else w=DN(g,p,Math.min(p-g,b)).map(s);return f?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_0(c)).precision==null&&(c.trim=!0),c=Zj(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>t(vR(t(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function bR(){const r=eE(Zw()).domain([1,10]);return r.copy=()=>oy(r,bR()).base(r.base()),El.apply(r,arguments),r}function FP(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function PP(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function tE(r){var e=1,t=r(FP(e),PP(e));return t.constant=function(n){return arguments.length?r(FP(e=+n),PP(e)):e},Kd(t)}function wR(){var r=tE(Zw());return r.copy=function(){return oy(r,wR()).constant(r.constant())},El.apply(r,arguments)}function OP(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function dae(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function hae(r){return r<0?-r*r:r*r}function rE(r){var e=r(Si,Si),t=1;function n(){return t===1?r(Si,Si):t===.5?r(dae,hae):r(OP(t),OP(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,n()):t},Kd(e)}function nE(){var r=rE(Zw());return r.copy=function(){return oy(r,nE()).exponent(r.exponent())},El.apply(r,arguments),r}function fae(){return nE.apply(null,arguments).exponent(.5)}function IP(r){return Math.sign(r)*r*r}function mae(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function CR(){var r=Xj(),e=[0,1],t=!1,n;function a(s){var i=mae(r(s));return isNaN(i)?n:t?Math.round(i):i}return a.invert=function(s){return r.invert(IP(s))},a.domain=function(s){return arguments.length?(r.domain(s),a):r.domain()},a.range=function(s){return arguments.length?(r.range((e=Array.from(s,Fb)).map(IP)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(t=!!s,a):t},a.clamp=function(s){return arguments.length?(r.clamp(s),a):r.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return CR(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},El.apply(a,arguments),Kd(a)}function BR(){var r=[],e=[],t=[],n;function a(){var i=0,l=Math.max(1,e.length);for(t=new Array(l-1);++i<l;)t[i-1]=xne(r,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[sy(t,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?t[l-1]:r[0],l<t.length?t[l]:r[r.length-1]]},s.domain=function(i){if(!arguments.length)return r.slice();r=[];for(let l of i)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(Ed),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return BR().domain(r).range(e).unknown(n)},El.apply(s,arguments)}function NR(){var r=0,e=1,t=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[sy(n,c,0,t)]:s}function l(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*e-(c-t)*r)/(t+1);return i}return i.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,l()):[r,e]},i.range=function(c){return arguments.length?(t=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[r,n[0]]:u>=t?[n[t-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return NR().domain([r,e]).range(a).unknown(s)},El.apply(Kd(i),arguments)}function SR(){var r=[.5],e=[0,1],t,n=1;function a(s){return s!=null&&s<=s?e[sy(r,s,0,n)]:t}return a.domain=function(s){return arguments.length?(r=Array.from(s),n=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[r[i-1],r[i]]},a.unknown=function(s){return arguments.length?(t=s,a):t},a.copy=function(){return SR().domain(r).range(e).unknown(t)},El.apply(a,arguments)}const BB=new Date,NB=new Date;function cs(r,e,t,n){function a(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(r(s=new Date(+s)),s),a.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),r(s);while(u<s&&s<i);return c},a.filter=s=>cs(i=>{if(i>=i)for(;r(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),t&&(a.count=(s,i)=>(BB.setTime(+s),NB.setTime(+i),r(BB),r(NB),Math.floor(t(BB,NB))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Ob=cs(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);Ob.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?cs(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):Ob);Ob.range;const nu=1e3,ml=nu*60,au=ml*60,mu=au*24,aE=mu*7,LP=mu*30,SB=mu*365,Rh=cs(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*nu)},(r,e)=>(e-r)/nu,r=>r.getUTCSeconds());Rh.range;const sE=cs(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*nu)},(r,e)=>{r.setTime(+r+e*ml)},(r,e)=>(e-r)/ml,r=>r.getMinutes());sE.range;const iE=cs(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*ml)},(r,e)=>(e-r)/ml,r=>r.getUTCMinutes());iE.range;const oE=cs(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*nu-r.getMinutes()*ml)},(r,e)=>{r.setTime(+r+e*au)},(r,e)=>(e-r)/au,r=>r.getHours());oE.range;const lE=cs(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*au)},(r,e)=>(e-r)/au,r=>r.getUTCHours());lE.range;const ly=cs(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*ml)/mu,r=>r.getDate()-1);ly.range;const e1=cs(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/mu,r=>r.getUTCDate()-1);e1.range;const jR=cs(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/mu,r=>Math.floor(r/mu));jR.range;function yf(r){return cs(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ml)/aE)}const t1=yf(0),Ib=yf(1),gae=yf(2),pae=yf(3),Ag=yf(4),yae=yf(5),xae=yf(6);t1.range;Ib.range;gae.range;pae.range;Ag.range;yae.range;xae.range;function xf(r){return cs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/aE)}const r1=xf(0),Lb=xf(1),vae=xf(2),bae=xf(3),ug=xf(4),wae=xf(5),Cae=xf(6);r1.range;Lb.range;vae.range;bae.range;ug.range;wae.range;Cae.range;const cE=cs(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());cE.range;const AE=cs(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());AE.range;const gu=cs(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());gu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:cs(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});gu.range;const pu=cs(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());pu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:cs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});pu.range;function ER(r,e,t,n,a,s){const i=[[Rh,1,nu],[Rh,5,5*nu],[Rh,15,15*nu],[Rh,30,30*nu],[s,1,ml],[s,5,5*ml],[s,15,15*ml],[s,30,30*ml],[a,1,au],[a,3,3*au],[a,6,6*au],[a,12,12*au],[n,1,mu],[n,2,2*mu],[t,1,aE],[e,1,LP],[e,3,3*LP],[r,1,SB]];function l(u,d,f){const g=d<u;g&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),x=p?p.range(u,+d+1):[];return g?x.reverse():x}function c(u,d,f){const g=Math.abs(d-u)/f,p=qj(([,,b])=>b).right(i,g);if(p===i.length)return r.every(UN(u/SB,d/SB,f));if(p===0)return Ob.every(Math.max(UN(u,d,f),1));const[x,y]=i[g/i[p-1][2]<i[p][2]/g?p-1:p];return x.every(y)}return[l,c]}const[Bae,Nae]=ER(pu,AE,r1,jR,lE,iE),[Sae,jae]=ER(gu,cE,t1,ly,oE,sE);function jB(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function EB(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Op(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function Eae(r){var e=r.dateTime,t=r.date,n=r.time,a=r.periods,s=r.days,i=r.shortDays,l=r.months,c=r.shortMonths,u=Ip(a),d=Lp(a),f=Ip(s),g=Lp(s),p=Ip(i),x=Lp(i),y=Ip(l),b=Lp(l),w=Ip(c),N=Lp(c),j={a:te,A:ee,b:fe,B:_e,c:null,d:HP,e:HP,f:Xae,g:ose,G:cse,H:Vae,I:Wae,j:Yae,L:_R,m:Jae,M:Zae,p:re,q:U,Q:qP,s:$P,S:ese,u:tse,U:rse,V:nse,w:ase,W:sse,x:null,X:null,y:ise,Y:lse,Z:Ase,"%":zP},k={a:Y,A:ne,b:oe,B:de,c:null,d:KP,e:KP,f:fse,g:Bse,G:Sse,H:use,I:dse,j:hse,L:TR,m:mse,M:gse,p:he,q:Se,Q:qP,s:$P,S:pse,u:yse,U:xse,V:vse,w:bse,W:wse,x:null,X:null,y:Cse,Y:Nse,Z:jse,"%":zP},T={a:q,A:F,b:R,B:H,c:z,d:RP,e:RP,f:zae,g:UP,G:MP,H:QP,I:QP,j:Rae,L:Kae,m:Uae,M:Qae,p:P,q:Mae,Q:$ae,s:Gae,S:Hae,u:Pae,U:Oae,V:Iae,w:Fae,W:Lae,x:X,X:$,y:UP,Y:MP,Z:Dae,"%":qae};j.x=I(t,j),j.X=I(n,j),j.c=I(e,j),k.x=I(t,k),k.X=I(n,k),k.c=I(e,k);function I(me,be){return function(ge){var le=[],je=-1,Qe=0,G=me.length,Fe,Je,et;for(ge instanceof Date||(ge=new Date(+ge));++je<G;)me.charCodeAt(je)===37&&(le.push(me.slice(Qe,je)),(Je=DP[Fe=me.charAt(++je)])!=null?Fe=me.charAt(++je):Je=Fe==="e"?" ":"0",(et=be[Fe])&&(Fe=et(ge,Je)),le.push(Fe),Qe=je+1);return le.push(me.slice(Qe,je)),le.join("")}}function M(me,be){return function(ge){var le=Op(1900,void 0,1),je=L(le,me,ge+="",0),Qe,G;if(je!=ge.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(be&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Qe=EB(Op(le.y,0,1)),G=Qe.getUTCDay(),Qe=G>4||G===0?Lb.ceil(Qe):Lb(Qe),Qe=e1.offset(Qe,(le.V-1)*7),le.y=Qe.getUTCFullYear(),le.m=Qe.getUTCMonth(),le.d=Qe.getUTCDate()+(le.w+6)%7):(Qe=jB(Op(le.y,0,1)),G=Qe.getDay(),Qe=G>4||G===0?Ib.ceil(Qe):Ib(Qe),Qe=ly.offset(Qe,(le.V-1)*7),le.y=Qe.getFullYear(),le.m=Qe.getMonth(),le.d=Qe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),G="Z"in le?EB(Op(le.y,0,1)).getUTCDay():jB(Op(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(G+5)%7:le.w+le.U*7-(G+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,EB(le)):jB(le)}}function L(me,be,ge,le){for(var je=0,Qe=be.length,G=ge.length,Fe,Je;je<Qe;){if(le>=G)return-1;if(Fe=be.charCodeAt(je++),Fe===37){if(Fe=be.charAt(je++),Je=T[Fe in DP?be.charAt(je++):Fe],!Je||(le=Je(me,ge,le))<0)return-1}else if(Fe!=ge.charCodeAt(le++))return-1}return le}function P(me,be,ge){var le=u.exec(be.slice(ge));return le?(me.p=d.get(le[0].toLowerCase()),ge+le[0].length):-1}function q(me,be,ge){var le=p.exec(be.slice(ge));return le?(me.w=x.get(le[0].toLowerCase()),ge+le[0].length):-1}function F(me,be,ge){var le=f.exec(be.slice(ge));return le?(me.w=g.get(le[0].toLowerCase()),ge+le[0].length):-1}function R(me,be,ge){var le=w.exec(be.slice(ge));return le?(me.m=N.get(le[0].toLowerCase()),ge+le[0].length):-1}function H(me,be,ge){var le=y.exec(be.slice(ge));return le?(me.m=b.get(le[0].toLowerCase()),ge+le[0].length):-1}function z(me,be,ge){return L(me,e,be,ge)}function X(me,be,ge){return L(me,t,be,ge)}function $(me,be,ge){return L(me,n,be,ge)}function te(me){return i[me.getDay()]}function ee(me){return s[me.getDay()]}function fe(me){return c[me.getMonth()]}function _e(me){return l[me.getMonth()]}function re(me){return a[+(me.getHours()>=12)]}function U(me){return 1+~~(me.getMonth()/3)}function Y(me){return i[me.getUTCDay()]}function ne(me){return s[me.getUTCDay()]}function oe(me){return c[me.getUTCMonth()]}function de(me){return l[me.getUTCMonth()]}function he(me){return a[+(me.getUTCHours()>=12)]}function Se(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var be=I(me+="",j);return be.toString=function(){return me},be},parse:function(me){var be=M(me+="",!1);return be.toString=function(){return me},be},utcFormat:function(me){var be=I(me+="",k);return be.toString=function(){return me},be},utcParse:function(me){var be=M(me+="",!0);return be.toString=function(){return me},be}}}var DP={"-":"",_:" ",0:"0"},Es=/^\s*\d+/,_ae=/^%/,kae=/[\\^$*+?|[\]().{}]/g;function zr(r,e,t){var n=r<0?"-":"",a=(n?-r:r)+"",s=a.length;return n+(s<t?new Array(t-s+1).join(e)+a:a)}function Tae(r){return r.replace(kae,"\\$&")}function Ip(r){return new RegExp("^(?:"+r.map(Tae).join("|")+")","i")}function Lp(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function Fae(r,e,t){var n=Es.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function Pae(r,e,t){var n=Es.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function Oae(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function Iae(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function Lae(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function MP(r,e,t){var n=Es.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function UP(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function Dae(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function Mae(r,e,t){var n=Es.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function Uae(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function RP(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function Rae(r,e,t){var n=Es.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function QP(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function Qae(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function Hae(r,e,t){var n=Es.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function Kae(r,e,t){var n=Es.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function zae(r,e,t){var n=Es.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function qae(r,e,t){var n=_ae.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function $ae(r,e,t){var n=Es.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function Gae(r,e,t){var n=Es.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function HP(r,e){return zr(r.getDate(),e,2)}function Vae(r,e){return zr(r.getHours(),e,2)}function Wae(r,e){return zr(r.getHours()%12||12,e,2)}function Yae(r,e){return zr(1+ly.count(gu(r),r),e,3)}function _R(r,e){return zr(r.getMilliseconds(),e,3)}function Xae(r,e){return _R(r,e)+"000"}function Jae(r,e){return zr(r.getMonth()+1,e,2)}function Zae(r,e){return zr(r.getMinutes(),e,2)}function ese(r,e){return zr(r.getSeconds(),e,2)}function tse(r){var e=r.getDay();return e===0?7:e}function rse(r,e){return zr(t1.count(gu(r)-1,r),e,2)}function kR(r){var e=r.getDay();return e>=4||e===0?Ag(r):Ag.ceil(r)}function nse(r,e){return r=kR(r),zr(Ag.count(gu(r),r)+(gu(r).getDay()===4),e,2)}function ase(r){return r.getDay()}function sse(r,e){return zr(Ib.count(gu(r)-1,r),e,2)}function ise(r,e){return zr(r.getFullYear()%100,e,2)}function ose(r,e){return r=kR(r),zr(r.getFullYear()%100,e,2)}function lse(r,e){return zr(r.getFullYear()%1e4,e,4)}function cse(r,e){var t=r.getDay();return r=t>=4||t===0?Ag(r):Ag.ceil(r),zr(r.getFullYear()%1e4,e,4)}function Ase(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zr(e/60|0,"0",2)+zr(e%60,"0",2)}function KP(r,e){return zr(r.getUTCDate(),e,2)}function use(r,e){return zr(r.getUTCHours(),e,2)}function dse(r,e){return zr(r.getUTCHours()%12||12,e,2)}function hse(r,e){return zr(1+e1.count(pu(r),r),e,3)}function TR(r,e){return zr(r.getUTCMilliseconds(),e,3)}function fse(r,e){return TR(r,e)+"000"}function mse(r,e){return zr(r.getUTCMonth()+1,e,2)}function gse(r,e){return zr(r.getUTCMinutes(),e,2)}function pse(r,e){return zr(r.getUTCSeconds(),e,2)}function yse(r){var e=r.getUTCDay();return e===0?7:e}function xse(r,e){return zr(r1.count(pu(r)-1,r),e,2)}function FR(r){var e=r.getUTCDay();return e>=4||e===0?ug(r):ug.ceil(r)}function vse(r,e){return r=FR(r),zr(ug.count(pu(r),r)+(pu(r).getUTCDay()===4),e,2)}function bse(r){return r.getUTCDay()}function wse(r,e){return zr(Lb.count(pu(r)-1,r),e,2)}function Cse(r,e){return zr(r.getUTCFullYear()%100,e,2)}function Bse(r,e){return r=FR(r),zr(r.getUTCFullYear()%100,e,2)}function Nse(r,e){return zr(r.getUTCFullYear()%1e4,e,4)}function Sse(r,e){var t=r.getUTCDay();return r=t>=4||t===0?ug(r):ug.ceil(r),zr(r.getUTCFullYear()%1e4,e,4)}function jse(){return"+0000"}function zP(){return"%"}function qP(r){return+r}function $P(r){return Math.floor(+r/1e3)}var ym,PR,OR;Ese({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ese(r){return ym=Eae(r),PR=ym.format,ym.parse,OR=ym.utcFormat,ym.utcParse,ym}function _se(r){return new Date(r)}function kse(r){return r instanceof Date?+r:+new Date(+r)}function uE(r,e,t,n,a,s,i,l,c,u){var d=Xj(),f=d.invert,g=d.domain,p=u(".%L"),x=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),N=u("%b %d"),j=u("%B"),k=u("%Y");function T(I){return(c(I)<I?p:l(I)<I?x:i(I)<I?y:s(I)<I?b:n(I)<I?a(I)<I?w:N:t(I)<I?j:k)(I)}return d.invert=function(I){return new Date(f(I))},d.domain=function(I){return arguments.length?g(Array.from(I,kse)):g().map(_se)},d.ticks=function(I){var M=g();return r(M[0],M[M.length-1],I??10)},d.tickFormat=function(I,M){return M==null?T:u(M)},d.nice=function(I){var M=g();return(!I||typeof I.range!="function")&&(I=e(M[0],M[M.length-1],I??10)),I?g(vR(M,I)):d},d.copy=function(){return oy(d,uE(r,e,t,n,a,s,i,l,c,u))},d}function Tse(){return El.apply(uE(Sae,jae,gu,cE,t1,ly,oE,sE,Rh,PR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fse(){return El.apply(uE(Bae,Nae,pu,AE,r1,e1,lE,iE,Rh,OR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function n1(){var r=0,e=1,t,n,a,s,i=Si,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-t)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([r,e]=f,t=s(r=+r),n=s(e=+e),a=t===n?0:1/(n-t),u):[r,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(g){var p,x;return arguments.length?([p,x]=g,i=f(p,x),u):[i(0),i(1)]}}return u.range=d(kg),u.rangeRound=d(Yj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,t=f(r),n=f(e),a=t===n?0:1/(n-t),u}}function zd(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function IR(){var r=Kd(n1()(Si));return r.copy=function(){return zd(r,IR())},Nu.apply(r,arguments)}function LR(){var r=eE(n1()).domain([1,10]);return r.copy=function(){return zd(r,LR()).base(r.base())},Nu.apply(r,arguments)}function DR(){var r=tE(n1());return r.copy=function(){return zd(r,DR()).constant(r.constant())},Nu.apply(r,arguments)}function dE(){var r=rE(n1());return r.copy=function(){return zd(r,dE()).exponent(r.exponent())},Nu.apply(r,arguments)}function Pse(){return dE.apply(null,arguments).exponent(.5)}function MR(){var r=[],e=Si;function t(n){if(n!=null&&!isNaN(n=+n))return e((sy(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let a of n)a!=null&&!isNaN(a=+a)&&r.push(a);return r.sort(Ed),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,a)=>e(a/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(a,s)=>yne(r,s/n))},t.copy=function(){return MR(e).domain(r)},Nu.apply(t,arguments)}function a1(){var r=0,e=.5,t=1,n=1,a,s,i,l,c,u=Si,d,f=!1,g;function p(y){return isNaN(y=+y)?g:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([r,e,t]=y,a=d(r=+r),s=d(e=+e),i=d(t=+t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[r,e,t]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function x(y){return function(b){var w,N,j;return arguments.length?([w,N,j]=b,u=qne(y,[w,N,j]),p):[u(0),u(.5),u(1)]}}return p.range=x(kg),p.rangeRound=x(Yj),p.unknown=function(y){return arguments.length?(g=y,p):g},function(y){return d=y,a=y(r),s=y(e),i=y(t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function UR(){var r=Kd(a1()(Si));return r.copy=function(){return zd(r,UR())},Nu.apply(r,arguments)}function RR(){var r=eE(a1()).domain([.1,1,10]);return r.copy=function(){return zd(r,RR()).base(r.base())},Nu.apply(r,arguments)}function QR(){var r=tE(a1());return r.copy=function(){return zd(r,QR()).constant(r.constant())},Nu.apply(r,arguments)}function hE(){var r=rE(a1());return r.copy=function(){return zd(r,hE()).exponent(r.exponent())},Nu.apply(r,arguments)}function Ose(){return hE.apply(null,arguments).exponent(.5)}const Xp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gj,scaleDiverging:UR,scaleDivergingLog:RR,scaleDivergingPow:hE,scaleDivergingSqrt:Ose,scaleDivergingSymlog:QR,scaleIdentity:xR,scaleImplicit:RN,scaleLinear:yR,scaleLog:bR,scaleOrdinal:$j,scalePoint:bne,scalePow:nE,scaleQuantile:BR,scaleQuantize:NR,scaleRadial:CR,scaleSequential:IR,scaleSequentialLog:LR,scaleSequentialPow:dE,scaleSequentialQuantile:MR,scaleSequentialSqrt:Pse,scaleSequentialSymlog:DR,scaleSqrt:fae,scaleSymlog:wR,scaleThreshold:SR,scaleTime:Tse,scaleUtc:Fse,tickFormat:pR},Symbol.toStringTag,{value:"Module"}));var qd=r=>r.chartData,fE=Le([qd],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),mE=(r,e,t,n)=>n?fE(r):qd(r);function dg(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if(Do(e)&&Do(t))return!0}return!1}function GP(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function Ise(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,a,s;if(Do(t))a=t;else if(typeof t=="function")return;if(Do(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(dg(i))return i}}function Lse(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(dg(n))return GP(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[a,s]=r,i,l;if(a==="auto")e!=null&&(i=Math.min(...e));else if(Ft(a))i=a;else if(typeof a=="function")try{e!=null&&(i=a(e?.[0]))}catch{}else if(typeof a=="string"&&DF.test(a)){var c=DF.exec(a);if(c==null||e==null)i=void 0;else{var u=+c[1];i=e[0]-u}}else i=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Ft(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&MF.test(s)){var d=MF.exec(s);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[1]+f}}else l=e?.[1];var g=[i,l];if(dg(g))return e==null?g:GP(g,e,t)}}}var Tg=1e9,Dse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pE,Vn=!0,wl="[DecimalError] ",Jh=wl+"Invalid argument: ",gE=wl+"Exponent out of range: ",Fg=Math.floor,Th=Math.pow,Mse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fo,ws=1e7,Ln=7,HR=9007199254740991,Db=Fg(HR/Ln),dt={};dt.absoluteValue=dt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};dt.comparedTo=dt.cmp=function(r){var e,t,n,a,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(n=s.d.length,a=r.d.length,e=0,t=n<a?n:a;e<t;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};dt.decimalPlaces=dt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*Ln;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};dt.dividedBy=dt.div=function(r){return ou(this,new this.constructor(r))};dt.dividedToIntegerBy=dt.idiv=function(r){var e=this,t=e.constructor;return Bn(ou(e,new t(r),0,1),t.precision)};dt.equals=dt.eq=function(r){return!this.cmp(r)};dt.exponent=function(){return qa(this)};dt.greaterThan=dt.gt=function(r){return this.cmp(r)>0};dt.greaterThanOrEqualTo=dt.gte=function(r){return this.cmp(r)>=0};dt.isInteger=dt.isint=function(){return this.e>this.d.length-2};dt.isNegative=dt.isneg=function(){return this.s<0};dt.isPositive=dt.ispos=function(){return this.s>0};dt.isZero=function(){return this.s===0};dt.lessThan=dt.lt=function(r){return this.cmp(r)<0};dt.lessThanOrEqualTo=dt.lte=function(r){return this.cmp(r)<1};dt.logarithm=dt.log=function(r){var e,t=this,n=t.constructor,a=n.precision,s=a+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Fo))throw Error(wl+"NaN");if(t.s<1)throw Error(wl+(t.s?"NaN":"-Infinity"));return t.eq(Fo)?new n(0):(Vn=!1,e=ou(k0(t,s),k0(r,s),s),Vn=!0,Bn(e,a))};dt.minus=dt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?qR(e,r):KR(e,(r.s=-r.s,r))};dt.modulo=dt.mod=function(r){var e,t=this,n=t.constructor,a=n.precision;if(r=new n(r),!r.s)throw Error(wl+"NaN");return t.s?(Vn=!1,e=ou(t,r,0,1).times(r),Vn=!0,t.minus(e)):Bn(new n(t),a)};dt.naturalExponential=dt.exp=function(){return zR(this)};dt.naturalLogarithm=dt.ln=function(){return k0(this)};dt.negated=dt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};dt.plus=dt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?KR(e,r):qR(e,(r.s=-r.s,r))};dt.precision=dt.sd=function(r){var e,t,n,a=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Jh+r);if(e=qa(a)+1,n=a.d.length-1,t=n*Ln+1,n=a.d[n],n){for(;n%10==0;n/=10)t--;for(n=a.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};dt.squareRoot=dt.sqrt=function(){var r,e,t,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wl+"NaN")}for(r=qa(l),Vn=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=rA(l.d),(e.length+r)%2==0&&(e+="0"),a=Math.sqrt(e),r=Fg((r+1)/2)-(r<0||r%2),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new c(e)):n=new c(a.toString()),t=c.precision,a=i=t+3;;)if(s=n,n=s.plus(ou(l,s,i+2)).times(.5),rA(s.d).slice(0,i)===(e=rA(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(Bn(s,t+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Vn=!0,Bn(n,t)};dt.times=dt.mul=function(r){var e,t,n,a,s,i,l,c,u,d=this,f=d.constructor,g=d.d,p=(r=new f(r)).d;if(!d.s||!r.s)return new f(0);for(r.s*=d.s,t=d.e+r.e,c=g.length,u=p.length,c<u&&(s=g,g=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+p[n]*g[a-n-1]+e,s[a--]=l%ws|0,e=l/ws|0;s[a]=(s[a]+e)%ws|0}for(;!s[--i];)s.pop();return e?++t:s.shift(),r.d=s,r.e=t,Vn?Bn(r,f.precision):r};dt.toDecimalPlaces=dt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(dA(r,0,Tg),e===void 0?e=n.rounding:dA(e,0,8),Bn(t,r+qa(t)+1,e))};dt.toExponential=function(r,e){var t,n=this,a=n.constructor;return r===void 0?t=of(n,!0):(dA(r,0,Tg),e===void 0?e=a.rounding:dA(e,0,8),n=Bn(new a(n),r+1,e),t=of(n,!0,r+1)),t};dt.toFixed=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?of(a):(dA(r,0,Tg),e===void 0?e=s.rounding:dA(e,0,8),n=Bn(new s(a),r+qa(a)+1,e),t=of(n.abs(),!1,r+qa(n)+1),a.isneg()&&!a.isZero()?"-"+t:t)};dt.toInteger=dt.toint=function(){var r=this,e=r.constructor;return Bn(new e(r),qa(r)+1,e.rounding)};dt.toNumber=function(){return+this};dt.toPower=dt.pow=function(r){var e,t,n,a,s,i,l=this,c=l.constructor,u=12,d=+(r=new c(r));if(!r.s)return new c(Fo);if(l=new c(l),!l.s){if(r.s<1)throw Error(wl+"Infinity");return l}if(l.eq(Fo))return l;if(n=c.precision,r.eq(Fo))return Bn(l,n);if(e=r.e,t=r.d.length-1,i=e>=t,s=l.s,i){if((t=d<0?-d:d)<=HR){for(a=new c(Fo),e=Math.ceil(n/Ln+4),Vn=!1;t%2&&(a=a.times(l),WP(a.d,e)),t=Fg(t/2),t!==0;)l=l.times(l),WP(l.d,e);return Vn=!0,r.s<0?new c(Fo).div(a):Bn(a,n)}}else if(s<0)throw Error(wl+"NaN");return s=s<0&&r.d[Math.max(e,t)]&1?-1:1,l.s=1,Vn=!1,a=r.times(k0(l,n+u)),Vn=!0,a=zR(a),a.s=s,a};dt.toPrecision=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?(t=qa(a),n=of(a,t<=s.toExpNeg||t>=s.toExpPos)):(dA(r,1,Tg),e===void 0?e=s.rounding:dA(e,0,8),a=Bn(new s(a),r,e),t=qa(a),n=of(a,r<=t||t<=s.toExpNeg,r)),n};dt.toSignificantDigits=dt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(dA(r,1,Tg),e===void 0?e=n.rounding:dA(e,0,8)),Bn(new n(t),r,e)};dt.toString=dt.valueOf=dt.val=dt.toJSON=dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=qa(r),t=r.constructor;return of(r,e<=t.toExpNeg||e>=t.toExpPos)};function KR(r,e){var t,n,a,s,i,l,c,u,d=r.constructor,f=d.precision;if(!r.s||!e.s)return e.s||(e=new d(r)),Vn?Bn(e,f):e;if(c=r.d,u=e.d,i=r.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Ln),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),t=0;s;)t=(c[--s]=c[s]+u[s]+t)/ws|0,c[s]%=ws;for(t&&(c.unshift(t),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Vn?Bn(e,f):e}function dA(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Jh+r)}function rA(r){var e,t,n,a=r.length-1,s="",i=r[0];if(a>0){for(s+=i,e=1;e<a;e++)n=r[e]+"",t=Ln-n.length,t&&(s+=pd(t)),s+=n;i=r[e],n=i+"",t=Ln-n.length,t&&(s+=pd(t))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ou=(function(){function r(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%ws|0,i=s/ws|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function t(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*ws+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,g,p,x,y,b,w,N,j,k,T,I,M,L,P=n.constructor,q=n.s==a.s?1:-1,F=n.d,R=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(wl+"Division by zero");for(c=n.e-a.e,M=R.length,T=F.length,p=new P(q),x=p.d=[],u=0;R[u]==(F[u]||0);)++u;if(R[u]>(F[u]||0)&&--c,s==null?N=s=P.precision:i?N=s+(qa(n)-qa(a))+1:N=s,N<0)return new P(0);if(N=N/Ln+2|0,u=0,M==1)for(d=0,R=R[0],N++;(u<T||d)&&N--;u++)j=d*ws+(F[u]||0),x[u]=j/R|0,d=j%R|0;else{for(d=ws/(R[0]+1)|0,d>1&&(R=r(R,d),F=r(F,d),M=R.length,T=F.length),k=M,y=F.slice(0,M),b=y.length;b<M;)y[b++]=0;L=R.slice(),L.unshift(0),I=R[0],R[1]>=ws/2&&++I;do d=0,l=e(R,y,M,b),l<0?(w=y[0],M!=b&&(w=w*ws+(y[1]||0)),d=w/I|0,d>1?(d>=ws&&(d=ws-1),f=r(R,d),g=f.length,b=y.length,l=e(f,y,g,b),l==1&&(d--,t(f,M<g?L:R,g))):(d==0&&(l=d=1),f=R.slice()),g=f.length,g<b&&f.unshift(0),t(y,f,b),l==-1&&(b=y.length,l=e(R,y,M,b),l<1&&(d++,t(y,M<b?L:R,b))),b=y.length):l===0&&(d++,y=[0]),x[u++]=d,l&&y[0]?y[b++]=F[k]||0:(y=[F[k]],b=1);while((k++<T||y[0]!==void 0)&&N--)}return x[0]||x.shift(),p.e=c,Bn(p,i?s+qa(p)+1:s)}})();function zR(r,e){var t,n,a,s,i,l,c=0,u=0,d=r.constructor,f=d.precision;if(qa(r)>16)throw Error(gE+qa(r));if(!r.s)return new d(Fo);for(Vn=!1,l=f,i=new d(.03125);r.abs().gte(.1);)r=r.times(i),u+=5;for(n=Math.log(Th(2,u))/Math.LN10*2+5|0,l+=n,t=a=s=new d(Fo),d.precision=l;;){if(a=Bn(a.times(r),l),t=t.times(++c),i=s.plus(ou(a,t,l)),rA(i.d).slice(0,l)===rA(s.d).slice(0,l)){for(;u--;)s=Bn(s.times(s),l);return d.precision=f,e==null?(Vn=!0,Bn(s,f)):s}s=i}}function qa(r){for(var e=r.e*Ln,t=r.d[0];t>=10;t/=10)e++;return e}function _B(r,e,t){if(e>r.LN10.sd())throw Vn=!0,t&&(r.precision=t),Error(wl+"LN10 precision limit exceeded");return Bn(new r(r.LN10),e)}function pd(r){for(var e="";r--;)e+="0";return e}function k0(r,e){var t,n,a,s,i,l,c,u,d,f=1,g=10,p=r,x=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(wl+(p.s?"NaN":"-Infinity"));if(p.eq(Fo))return new y(0);if(e==null?(Vn=!1,u=b):u=e,p.eq(10))return e==null&&(Vn=!0),_B(y,u);if(u+=g,y.precision=u,t=rA(x),n=t.charAt(0),s=qa(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)p=p.times(r),t=rA(p.d),n=t.charAt(0),f++;s=qa(p),n>1?(p=new y("0."+t),s++):p=new y(n+"."+t.slice(1))}else return c=_B(y,u+2,b).times(s+""),p=k0(new y(n+"."+t.slice(1)),u-g).plus(c),y.precision=b,e==null?(Vn=!0,Bn(p,b)):p;for(l=i=p=ou(p.minus(Fo),p.plus(Fo),u),d=Bn(p.times(p),u),a=3;;){if(i=Bn(i.times(d),u),c=l.plus(ou(i,new y(a),u)),rA(c.d).slice(0,u)===rA(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(_B(y,u+2,b).times(s+""))),l=ou(l,new y(f),u),y.precision=b,e==null?(Vn=!0,Bn(l,b)):l;l=c,a+=2}}function VP(r,e){var t,n,a;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,t=t-n-1,r.e=Fg(t/Ln),r.d=[],n=(t+1)%Ln,t<0&&(n+=Ln),n<a){for(n&&r.d.push(+e.slice(0,n)),a-=Ln;n<a;)r.d.push(+e.slice(n,n+=Ln));e=e.slice(n),n=Ln-e.length}else n-=a;for(;n--;)e+="0";if(r.d.push(+e),Vn&&(r.e>Db||r.e<-Db))throw Error(gE+t)}else r.s=0,r.e=0,r.d=[0];return r}function Bn(r,e,t){var n,a,s,i,l,c,u,d,f=r.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Ln,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Ln),s=f.length,d>=s)return r;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Ln,a=n-Ln+i}if(t!==void 0&&(s=Th(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=t<4?(l||c)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||c||t==6&&(n>0?a>0?u/Th(10,i-a):0:f[d-1])%10&1||t==(r.s<0?8:7))),e<1||!f[0])return c?(s=qa(r),f.length=1,e=e-s-1,f[0]=Th(10,(Ln-e%Ln)%Ln),r.e=Fg(-e/Ln)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Th(10,Ln-n),f[d]=a>0?(u/Th(10,i-a)%Th(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ws&&(f[0]=1,++r.e);break}else{if(f[d]+=s,f[d]!=ws)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Vn&&(r.e>Db||r.e<-Db))throw Error(gE+qa(r));return r}function qR(r,e){var t,n,a,s,i,l,c,u,d,f,g=r.constructor,p=g.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new g(r),Vn?Bn(e,p):e;if(c=r.d,f=e.d,n=e.e,u=r.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(t=c,i=-i,l=f.length):(t=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Ln),l)+2,i>a&&(i=a,t.length=1),t.reverse(),a=i;a--;)t.push(0);t.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=ws-1;--c[s],c[a]+=ws}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Vn?Bn(e,p):e):new g(0)}function of(r,e,t){var n,a=qa(r),s=rA(r.d),i=s.length;return e?(t&&(n=t-i)>0?s=s.charAt(0)+"."+s.slice(1)+pd(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+pd(-a-1)+s,t&&(n=t-i)>0&&(s+=pd(n))):a>=i?(s+=pd(a+1-i),t&&(n=t-a-1)>0&&(s=s+"."+pd(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-i)>0&&(a+1===i&&(s+="."),s+=pd(n))),r.s<0?"-"+s:s}function WP(r,e){if(r.length>e)return r.length=e,!0}function $R(r){var e,t,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jh+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return VP(i,s.toString())}else if(typeof s!="string")throw Error(Jh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Mse.test(s))VP(i,s);else throw Error(Jh+s)}if(a.prototype=dt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$R,a.config=a.set=Use,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return a.config(r),a}function Use(r){if(!r||typeof r!="object")throw Error(wl+"Object expected");var e,t,n,a=["precision",1,Tg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=r[t=a[e]])!==void 0)if(Fg(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(Jh+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(Jh+t+": "+n);return this}var pE=$R(Dse);Fo=new pE(1);const an=pE;var Rse=r=>r,GR={},VR=r=>r===GR,YP=r=>function e(){return arguments.length===0||arguments.length===1&&VR(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},WR=(r,e)=>r===1?e:YP(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(i=>i!==GR).length;return s>=r?e(...n):WR(r-s,YP(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>VR(d)?l.shift():d);return e(...u,...l)}))}),s1=r=>WR(r.length,r),zN=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},Qse=s1((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),Hse=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Rse;var a=t.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},qN=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join(""),YR=r=>{var e=null,t=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e&&a.every((i,l)=>{var c;return i===((c=e)===null||c===void 0?void 0:c[l])})||(e=a,t=r(...a)),t}};function XR(r){var e;return r===0?e=1:e=Math.floor(new an(r).abs().log(10).toNumber())+1,e}function JR(r,e,t){for(var n=new an(r),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(t),a++;return s}s1((r,e,t)=>{var n=+r,a=+e;return n+t*(a-n)});s1((r,e,t)=>{var n=e-+r;return n=n||1/0,(t-r)/n});s1((r,e,t)=>{var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});var ZR=r=>{var[e,t]=r,[n,a]=[e,t];return e>t&&([n,a]=[t,e]),[n,a]},eQ=(r,e,t)=>{if(r.lte(0))return new an(0);var n=XR(r.toNumber()),a=new an(10).pow(n),s=r.div(a),i=n!==1?.05:.1,l=new an(Math.ceil(s.div(i).toNumber())).add(t).mul(i),c=l.mul(a);return e?new an(c.toNumber()):new an(Math.ceil(c.toNumber()))},Kse=(r,e,t)=>{var n=new an(1),a=new an(r);if(!a.isint()&&t){var s=Math.abs(r);s<1?(n=new an(10).pow(XR(r)-1),a=new an(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new an(Math.floor(r)))}else r===0?a=new an(Math.floor((e-1)/2)):t||(a=new an(Math.floor(r)));var i=Math.floor((e-1)/2),l=Hse(Qse(c=>a.add(new an(c-i).mul(n)).toNumber()),zN);return l(0,e)},tQ=function(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new an(0),tickMin:new an(0),tickMax:new an(0)};var i=eQ(new an(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new an(0):(l=new an(e).add(t).div(2),l=l.sub(new an(l).mod(i)));var c=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new an(t).sub(l).div(i).toNumber()),d=c+u+1;return d>n?tQ(e,t,n,a,s+1):(d<n&&(u=t>0?u+(n-d):u,c=t>0?c:c+(n-d)),{step:i,tickMin:l.sub(new an(c).mul(i)),tickMax:l.add(new an(u).mul(i))})};function zse(r){var[e,t]=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,l]=ZR([e,t]);if(i===-1/0||l===1/0){var c=l===1/0?[i,...zN(0,n-1).map(()=>1/0)]:[...zN(0,n-1).map(()=>-1/0),l];return e>t?qN(c):c}if(i===l)return Kse(i,n,a);var{step:u,tickMin:d,tickMax:f}=tQ(i,l,s,a,0),g=JR(d,f.add(new an(.1).mul(u)),u);return e>t?qN(g):g}function qse(r,e){var[t,n]=r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=ZR([t,n]);if(s===-1/0||i===1/0)return[t,n];if(s===i)return[s];var l=Math.max(e,2),c=eQ(new an(i).sub(s).div(l-1),a,0),u=[...JR(new an(s),new an(i),c),i];return a===!1&&(u=u.map(d=>Math.round(d))),t>n?qN(u):u}var $se=YR(zse),Gse=YR(qse),rQ=r=>r.rootProps.maxBarSize,Vse=r=>r.rootProps.barGap,nQ=r=>r.rootProps.barCategoryGap,Wse=r=>r.rootProps.barSize,cy=r=>r.rootProps.stackOffset,yE=r=>r.options.chartName,xE=r=>r.rootProps.syncId,aQ=r=>r.rootProps.syncMethod,vE=r=>r.options.eventEmitter,tu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ko={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},i1=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},Yse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tu.angleAxisId,includeHidden:!1,name:void 0,reversed:tu.reversed,scale:tu.scale,tick:tu.tick,tickCount:void 0,ticks:void 0,type:tu.type,unit:void 0},Xse={allowDataOverflow:ko.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ko.scale,tick:ko.tick,tickCount:ko.tickCount,ticks:void 0,type:ko.type,unit:void 0},Jse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:tu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tu.scale,tick:tu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Zse={allowDataOverflow:ko.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ko.scale,tick:ko.tick,tickCount:ko.tickCount,ticks:void 0,type:"category",unit:void 0},bE=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?Jse:Yse,wE=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?Zse:Xse,o1=r=>r.polarOptions,CE=Le([Cu,Bu,ls],RU),sQ=Le([o1,CE],(r,e)=>{if(r!=null)return Ai(r.innerRadius,e,0)}),iQ=Le([o1,CE],(r,e)=>{if(r!=null)return Ai(r.outerRadius,e,e*.8)}),eie=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},oQ=Le([o1],eie);Le([bE,oQ],i1);var lQ=Le([CE,sQ,iQ],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});Le([wE,lQ],i1);var cQ=Le([qr,o1,sQ,iQ,Cu,Bu],(r,e,t,n,a,s)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=e;return{cx:Ai(i,a,a/2),cy:Ai(l,s,s/2),innerRadius:t,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Yn=(r,e)=>e,Ay=(r,e,t)=>t;function BE(r){return r?.id}var As=r=>{var e=qr(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Pg=r=>r.tooltip.settings.axisId,_s=r=>{var e=As(r),t=Pg(r);return uy(r,e,t)},AQ=Le([_s],r=>r?.dataKey);function uQ(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=t,i=new Map;return r.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=BE(l);u.forEach((f,g)=>{var p=s==null||a?g:String(ia(f,s,null)),x=ia(f,l.dataKey,0),y;i.has(p)?y=i.get(p):y={},Object.assign(y,{[d]:x}),i.set(p,y)})}}),Array.from(i.values())}function l1(r){return r.stackId!=null&&r.dataKey!=null}function XP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Mb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(t),!0).forEach(function(n){tie(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):XP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tie(r,e,t){return(e=rie(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rie(r){var e=nie(r,"string");return typeof e=="symbol"?e:e+""}function nie(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $N=[0,"auto"],So={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dQ=(r,e)=>r.cartesianAxis.xAxis[e],Su=(r,e)=>{var t=dQ(r,e);return t??So},jo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$N,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ay},hQ=(r,e)=>r.cartesianAxis.yAxis[e],ju=(r,e)=>{var t=hQ(r,e);return t??jo},aie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NE=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??aie},Oa=(r,e,t)=>{switch(e){case"xAxis":return Su(r,t);case"yAxis":return ju(r,t);case"zAxis":return NE(r,t);case"angleAxis":return bE(r,t);case"radiusAxis":return wE(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},sie=(r,e,t)=>{switch(e){case"xAxis":return Su(r,t);case"yAxis":return ju(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},uy=(r,e,t)=>{switch(e){case"xAxis":return Su(r,t);case"yAxis":return ju(r,t);case"angleAxis":return bE(r,t);case"radiusAxis":return wE(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},fQ=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function SE(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var jE=r=>r.graphicalItems.cartesianItems,iie=Le([Yn,Ay],SE),EE=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),dy=Le([jE,Oa,iie],EE),mQ=Le([dy],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(l1)),gQ=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),pQ=Le([dy],gQ),_E=r=>r.map(e=>e.data).filter(Boolean).flat(1),oie=Le([dy],_E),kE=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:a}=e;return r.length>0?r:t.slice(n,a+1)},TE=Le([oie,mE],kE),FE=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:ia(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(a=>({value:ia(a,n)}))):r.map(n=>({value:n})),c1=Le([TE,Oa,dy],FE);function yQ(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function vf(r){return r.filter(e=>uA(e)||e instanceof Date).map(Number).filter(e=>Io(e)===!1)}function lie(r,e,t){return!t||typeof e!="number"||Io(e)?[]:t.length?vf(t.flatMap(n=>{var a=ia(r,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Do(s)||!Do(i)))return[e-s,e+i]})):[]}var cie=Le([mQ,mE,_s],uQ),xQ=(r,e,t)=>{var n={},a=e.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,l]=s,c=l.map(BE);return[i,{stackedData:hte(r,c,t),graphicalItems:l}]}))},GN=Le([cie,mQ,cy],xQ),vQ=(r,e,t)=>{var{dataStartIndex:n,dataEndIndex:a}=e;if(t!=="zAxis"){var s=yte(r,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Aie=Le([GN,qd,Yn],vQ),bQ=(r,e,t,n,a)=>t.length>0?r.flatMap(s=>t.flatMap(i=>{var l,c,u=(l=n[i.id])===null||l===void 0?void 0:l.filter(f=>yQ(a,f)),d=ia(s,(c=e.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:d,errorDomain:lie(s,d,u)}})).filter(Boolean):e?.dataKey!=null?r.map(s=>({value:ia(s,e.dataKey),errorDomain:[]})):r.map(s=>({value:s,errorDomain:[]})),A1=r=>r.errorBars,wQ=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>yQ(t,n));Le([pQ,A1,Yn],wQ);var uie=Le([TE,Oa,pQ,A1,Yn],bQ);function die(r){var{value:e}=r;if(uA(e)||e instanceof Date)return e}var JP=r=>{var e=r.flatMap(n=>[n.value,n.errorDomain]).flat(1),t=vf(e);if(t.length!==0)return[Math.min(...t),Math.max(...t)]},hie=(r,e,t)=>{var n=r.map(die).filter(a=>a!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&IM(n))?oR(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},PE=r=>{var e;if(r==null||!("domain"in r))return $N;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var t=vf(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:$N},Ub=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},CQ=r=>r.referenceElements.dots,Og=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),fie=Le([CQ,Yn,Ay],Og),BQ=r=>r.referenceElements.areas,mie=Le([BQ,Yn,Ay],Og),NQ=r=>r.referenceElements.lines,gie=Le([NQ,Yn,Ay],Og),SQ=(r,e)=>{var t=vf(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},pie=Le(fie,Yn,SQ),jQ=(r,e)=>{var t=vf(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},yie=Le([mie,Yn],jQ),EQ=(r,e)=>{var t=vf(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},xie=Le(gie,Yn,EQ),vie=Le(pie,xie,yie,(r,e,t)=>Ub(r,t,e)),_Q=Le([Oa],PE),OE=(r,e,t,n,a,s,i)=>{var l=Ise(e,r.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=c?Ub(t,a,JP(n)):Ub(a,JP(n));return Lse(e,u,r.allowDataOverflow)},bie=Le([Oa,_Q,Aie,uie,vie,qr,Yn],OE),wie=[0,1],IE=(r,e,t,n,a,s,i)=>{if(!((r==null||t==null||t.length===0)&&i===void 0)){var{dataKey:l,type:c}=r,u=gf(e,s);return u&&l==null?oR(0,t.length):c==="category"?hie(n,r,u):a==="expand"?wie:i}},LE=Le([Oa,qr,TE,c1,cy,Yn,bie],IE),kQ=(r,e,t,n,a)=>{if(r!=null){var{scale:s,type:i}=r;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(ey(s));return l in Xp?l:"point"}}},Ig=Le([Oa,qr,fQ,yE,Yn],kQ);function Cie(r){if(r!=null){if(r in Xp)return Xp[r]();var e="scale".concat(ey(r));if(e in Xp)return Xp[e]()}}function DE(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var a=Cie(e);if(a!=null){var s=a.domain(t).range(n);return lte(s),s}}}var ME=(r,e,t)=>{var n=PE(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&dg(r))return $se(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&dg(r))return Gse(r,e.tickCount,e.allowDecimals)}},UE=Le([LE,uy,Ig],ME),RE=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&dg(e)&&Array.isArray(t)&&t.length>0){var a=e[0],s=t[0],i=e[1],l=t[t.length-1];return[Math.min(a,s),Math.max(i,l)]}return e},Bie=Le([Oa,LE,UE,Yn],RE),Nie=Le(c1,Oa,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(vf(r.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];t=Math.min(t,i)}return t/a}}),TQ=Le(Nie,qr,nQ,ls,(r,e,t,n)=>n,(r,e,t,n,a)=>{if(!Do(r))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return r*s/2;if(a==="no-gap"){var i=Ai(t,r*s),l=r*s/2;return l-i-(l-i)/s*i}return 0}),Sie=(r,e)=>{var t=Su(r,e);return t==null||typeof t.padding!="string"?0:TQ(r,"xAxis",e,t.padding)},jie=(r,e)=>{var t=ju(r,e);return t==null||typeof t.padding!="string"?0:TQ(r,"yAxis",e,t.padding)},Eie=Le(Su,Sie,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:a}=r;return typeof a=="string"?{left:e,right:e}:{left:((t=a.left)!==null&&t!==void 0?t:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),_ie=Le(ju,jie,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:a}=r;return typeof a=="string"?{top:e,bottom:e}:{top:((t=a.top)!==null&&t!==void 0?t:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),kie=Le([ls,Eie,Ww,Vw,(r,e,t)=>t],(r,e,t,n,a)=>{var{padding:s}=n;return a?[s.left,t.width-s.right]:[r.left+e.left,r.left+r.width-e.right]}),Tie=Le([ls,qr,_ie,Ww,Vw,(r,e,t)=>t],(r,e,t,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),hy=(r,e,t,n)=>{var a;switch(e){case"xAxis":return kie(r,t,n);case"yAxis":return Tie(r,t,n);case"zAxis":return(a=NE(r,t))===null||a===void 0?void 0:a.range;case"angleAxis":return oQ(r);case"radiusAxis":return lQ(r,t);default:return}},FQ=Le([Oa,hy],i1),Lg=Le([Oa,Ig,Bie,FQ],DE);Le([dy,A1,Yn],wQ);function PQ(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var u1=(r,e)=>e,d1=(r,e,t)=>t,Fie=Le($w,u1,d1,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(PQ)),Pie=Le(Gw,u1,d1,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(PQ)),OQ=(r,e)=>({width:r.width,height:e.height}),Oie=(r,e)=>{var t=typeof e.width=="number"?e.width:ay;return{width:t,height:r.height}},IQ=Le(ls,Su,OQ),Iie=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},Lie=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},Die=Le(Bu,ls,Fie,u1,d1,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=OQ(e,l);i==null&&(i=Iie(e,n,r));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),Mie=Le(Cu,ls,Pie,u1,d1,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=Oie(e,l);i==null&&(i=Lie(e,n,r));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),Uie=(r,e)=>{var t=Su(r,e);if(t!=null)return Die(r,t.orientation,t.mirror)},Rie=Le([ls,Su,Uie,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}}),Qie=(r,e)=>{var t=ju(r,e);if(t!=null)return Mie(r,t.orientation,t.mirror)},Hie=Le([ls,ju,Qie,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}}),LQ=Le(ls,ju,(r,e)=>{var t=typeof e.width=="number"?e.width:ay;return{width:t,height:r.height}}),ZP=(r,e,t)=>{switch(e){case"xAxis":return IQ(r,t).width;case"yAxis":return LQ(r,t).height;default:return}},DQ=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=t,l=gf(r,n),c=e.map(u=>u.value);if(i&&l&&s==="category"&&a&&IM(c))return c}},QE=Le([qr,c1,Oa,Yn],DQ),MQ=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:a,scale:s}=t,i=gf(r,n);if(i&&(a==="number"||s!=="auto"))return e.map(l=>l.value)}},HE=Le([qr,c1,uy,Yn],MQ),eO=Le([qr,sie,Ig,Lg,QE,HE,hy,UE,Yn],(r,e,t,n,a,s,i,l,c)=>{if(e==null)return null;var u=gf(r,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:t,scale:n}}),Kie=(r,e,t,n,a,s,i,l,c)=>{if(!(e==null||n==null)){var u=gf(r,c),{type:d,ticks:f,tickCount:g}=e,p=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/p:0;x=c==="angleAxis"&&s!=null&&s.length>=2?Bs(s[0]-s[1])*2*x:x;var y=f||a;if(y){var b=y.map((w,N)=>{var j=i?i.indexOf(w):w;return{index:N,coordinate:n(j)+x,value:w,offset:x}});return b.filter(w=>!Io(w.coordinate))}return u&&l?l.map((w,N)=>({coordinate:n(w)+x,value:w,index:N,offset:x})):n.ticks?n.ticks(g).map(w=>({coordinate:n(w)+x,value:w,offset:x})):n.domain().map((w,N)=>({coordinate:n(w)+x,value:i?i[w]:w,index:N,offset:x}))}},UQ=Le([qr,uy,Ig,Lg,UE,hy,QE,HE,Yn],Kie),zie=(r,e,t,n,a,s,i)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var l=gf(r,i),{tickCount:c}=e,u=0;return u=i==="angleAxis"&&n?.length>=2?Bs(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:t(d)+u,value:d,index:f,offset:u})):t.ticks?t.ticks(c).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,f)=>({coordinate:t(d)+u,value:a?a[d]:d,index:f,offset:u}))}},hg=Le([qr,uy,Lg,hy,QE,HE,Yn],zie),fg=Le(Oa,Lg,(r,e)=>{if(!(r==null||e==null))return Mb(Mb({},r),{},{scale:e})}),qie=Le([Oa,Ig,LE,FQ],DE);Le((r,e,t)=>NE(r,t),qie,(r,e)=>{if(!(r==null||e==null))return Mb(Mb({},r),{},{scale:e})});var $ie=Le([qr,$w,Gw],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RQ=r=>r.options.defaultTooltipEventType,QQ=r=>r.options.validateTooltipEventTypes;function HQ(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function KE(r,e){var t=RQ(r),n=QQ(r);return HQ(e,t,n)}function Gie(r){return St(e=>KE(e,r))}var KQ=(r,e)=>{var t,n=Number(e);if(!(Io(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},Vie=r=>r.tooltip.settings,bd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Wie={itemInteraction:{click:bd,hover:bd},axisInteraction:{click:bd,hover:bd},keyboardInteraction:bd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zQ=Uo({name:"tooltip",initialState:Wie,reducers:{addTooltipEntrySettings(r,e){r.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(r,e){var t=iu(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Yie,removeTooltipEntrySettings:Xie,setTooltipSettingsState:Jie,setActiveMouseOverItemIndex:qQ,mouseLeaveItem:Zie,mouseLeaveChart:$Q,setActiveClickItemIndex:eoe,setMouseOverAxisIndex:GQ,setMouseClickAxisIndex:toe,setSyncInteraction:VN,setKeyboardInteraction:WN}=zQ.actions,roe=zQ.reducer;function tO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function zx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(t),!0).forEach(function(n){noe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function noe(r,e,t){return(e=aoe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aoe(r){var e=soe(r,"string");return typeof e=="symbol"?e:e+""}function soe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ioe(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function ooe(r){return r.index!=null}var VQ=(r,e,t,n)=>{if(e==null)return bd;var a=ioe(r,e,t);if(a==null)return bd;if(a.active)return a;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var s=r.settings.active===!0;if(ooe(a)){if(s)return zx(zx({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return zx(zx({},bd),{},{coordinate:a.coordinate})},zE=(r,e)=>{var t=r?.index;if(t==null)return null;var n=Number(t);if(!Do(n))return t;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(n,s)))},WQ=(r,e,t,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a?.[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+r)/2,y:d.coordinate}}}},YQ=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var a;return t==="hover"?a=r.itemInteraction.hover.dataKey:a=r.itemInteraction.click.dataKey,a==null&&n!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},fy=r=>r.options.tooltipPayloadSearcher,Dg=r=>r.tooltip;function rO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function nO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(t),!0).forEach(function(n){loe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):rO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function loe(r,e,t){return(e=coe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function coe(r){var e=Aoe(r,"string");return typeof e=="symbol"?e:e+""}function Aoe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uoe(r,e){return r??e}var XQ=(r,e,t,n,a,s,i)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=t,f=[];return r.reduce((g,p)=>{var x,{dataDefinedOnItem:y,settings:b}=p,w=uoe(y,l),N=Array.isArray(w)?QU(w,u,d):w,j=(x=b?.dataKey)!==null&&x!==void 0?x:n,k=b?.nameKey,T;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&i==="axis"?T=XX(N,n,a):T=s(N,e,c,k),Array.isArray(T))T.forEach(M=>{var L=nO(nO({},b),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(UF({tooltipEntrySettings:L,dataKey:M.dataKey,payload:M.payload,value:ia(M.payload,M.dataKey),name:M.name}))});else{var I;g.push(UF({tooltipEntrySettings:b,dataKey:j,payload:T,value:ia(T,j),name:(I=ia(T,k))!==null&&I!==void 0?I:b?.name}))}return g},f)}},qE=Le([_s,qr,fQ,yE,As],kQ),doe=Le([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),hoe=Le([As,Pg],SE),my=Le([doe,_s,hoe],EE),foe=Le([my],r=>r.filter(l1)),moe=Le([my],_E),Mg=Le([moe,qd],kE),goe=Le([foe,qd,_s],uQ),$E=Le([Mg,_s,my],FE),poe=Le([_s],PE),yoe=Le([my],r=>r.filter(l1)),xoe=Le([goe,yoe,cy],xQ),voe=Le([xoe,qd,As],vQ),boe=Le([my],gQ),woe=Le([Mg,_s,boe,A1,As],bQ),Coe=Le([CQ,As,Pg],Og),Boe=Le([Coe,As],SQ),Noe=Le([BQ,As,Pg],Og),Soe=Le([Noe,As],jQ),joe=Le([NQ,As,Pg],Og),Eoe=Le([joe,As],EQ),_oe=Le([Boe,Eoe,Soe],Ub),koe=Le([_s,poe,voe,woe,_oe,qr,As],OE),JQ=Le([_s,qr,Mg,$E,cy,As,koe],IE),Toe=Le([JQ,_s,qE],ME),Foe=Le([_s,JQ,Toe,As],RE),ZQ=r=>{var e=As(r),t=Pg(r),n=!1;return hy(r,e,t,n)},e8=Le([_s,ZQ],i1),t8=Le([_s,qE,Foe,e8],DE),Poe=Le([qr,$E,_s,As],DQ),Ooe=Le([qr,$E,_s,As],MQ),Ioe=(r,e,t,n,a,s,i,l)=>{if(e){var{type:c}=e,u=gf(r,l);if(n){var d=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&a?.length>=2?Bs(a[0]-a[1])*2*f:f,u&&i?i.map((g,p)=>({coordinate:n(g)+f,value:g,index:p,offset:f})):n.domain().map((g,p)=>({coordinate:n(g)+f,value:s?s[g]:g,index:p,offset:f}))}}},Eu=Le([qr,_s,qE,t8,ZQ,Poe,Ooe,As],Ioe),GE=Le([RQ,QQ,Vie],(r,e,t)=>HQ(t.shared,r,e)),r8=r=>r.tooltip.settings.trigger,VE=r=>r.tooltip.settings.defaultIndex,h1=Le([Dg,GE,r8,VE],VQ),lf=Le([h1,Mg],zE),n8=Le([Eu,lf],KQ),a8=Le([h1],r=>{if(r)return r.dataKey}),s8=Le([Dg,GE,r8,VE],YQ),Loe=Le([Cu,Bu,qr,ls,Eu,VE,s8,fy],WQ),Doe=Le([h1,Loe],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),Moe=Le([h1],r=>r.active),Uoe=Le([s8,lf,qd,AQ,n8,fy,GE],XQ);Le([Uoe],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function aO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function sO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(t),!0).forEach(function(n){Roe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):aO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Roe(r,e,t){return(e=Qoe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qoe(r){var e=Hoe(r,"string");return typeof e=="symbol"?e:e+""}function Hoe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Koe=()=>St(_s),zoe=()=>{var r=Koe(),e=St(Eu),t=St(t8);return Mj(sO(sO({},r),{},{scale:t}),e)},qoe=()=>St(yE),WE=(r,e)=>e,i8=(r,e,t)=>t,YE=(r,e,t,n)=>n,$oe=Le(Eu,r=>Uw(r,e=>e.coordinate)),XE=Le([Dg,WE,i8,YE],VQ),o8=Le([XE,Mg],zE),Goe=(r,e,t)=>{if(e!=null){var n=Dg(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},l8=Le([Dg,WE,i8,YE],YQ),Rb=Le([Cu,Bu,qr,ls,Eu,YE,l8,fy],WQ),Voe=Le([XE,Rb],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),c8=Le(Eu,o8,KQ),Woe=Le([l8,o8,qd,AQ,c8,fy,WE],XQ),Yoe=Le([XE],r=>({isActive:r.active,activeIndex:r.index})),Xoe=(r,e,t,n,a,s,i,l)=>{if(!(!r||!e||!n||!a||!s)){var c=xte(r.chartX,r.chartY,e,t,l);if(c){var u=bte(c,e),d=ite(u,i,s,n,a),f=vte(e,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function YN(){return YN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},YN.apply(null,arguments)}function iO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function qx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(t),!0).forEach(function(n){Joe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Joe(r,e,t){return(e=Zoe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zoe(r){var e=ele(r,"string");return typeof e=="symbol"?e:e+""}function ele(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tle(r){var{coordinate:e,payload:t,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:l,tooltipEventType:c,chartName:u}=r,d=e,f=t,g=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,x;if(u==="ScatterChart")p=d,x=bre;else if(u==="BarChart")p=wre(i,d,a,s),x=nR;else if(i==="radial"){var{cx:y,cy:b,radius:w,startAngle:N,endAngle:j}=aR(d);p={cx:y,cy:b,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},x=iR}else p={points:tne(i,d,a)},x=JU;var k=typeof l=="object"&&"className"in l?l.className:void 0,T=qx(qx(qx(qx({stroke:"#ccc",pointerEvents:"none"},a),p),os(l,!1)),{},{payload:f,payloadIndex:g,className:Mr("recharts-tooltip-cursor",k)});return S.isValidElement(l)?S.cloneElement(l,T):S.createElement(x,T)}function rle(r){var e=zoe(),t=GU(),n=Kj(),a=qoe();return S.createElement(tle,YN({},r,{coordinate:r.coordinate,index:r.index,payload:r.payload,offset:t,layout:n,tooltipAxisBandSize:e,chartName:a}))}var A8=S.createContext(null),nle=()=>S.useContext(A8),kB={exports:{}},oO;function ale(){return oO||(oO=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,g),x=t?t+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=t?t+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,p=f.length,x=new Array(p);g<p;g++)x[g]=f[g].fn;return x},l.prototype.listenerCount=function(u){var d=t?t+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,g,p,x){var y=t?t+u:u;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,N,j;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,g),!0;case 5:return b.fn.call(b.context,d,f,g,p),!0;case 6:return b.fn.call(b.context,d,f,g,p,x),!0}for(j=1,N=new Array(w-1);j<w;j++)N[j-1]=arguments[j];b.fn.apply(b.context,N)}else{var k=b.length,T;for(j=0;j<k;j++)switch(b[j].once&&this.removeListener(u,b[j].fn,void 0,!0),w){case 1:b[j].fn.call(b[j].context);break;case 2:b[j].fn.call(b[j].context,d);break;case 3:b[j].fn.call(b[j].context,d,f);break;case 4:b[j].fn.call(b[j].context,d,f,g);break;default:if(!N)for(T=1,N=new Array(w-1);T<w;T++)N[T-1]=arguments[T];b[j].fn.apply(b[j].context,N)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,g){var p=t?t+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!g||x.once)&&(!f||x.context===f)&&i(this,p);else{for(var y=0,b=[],w=x.length;y<w;y++)(x[y].fn!==d||g&&!x[y].once||f&&x[y].context!==f)&&b.push(x[y]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l})(kB)),kB.exports}var sle=ale();const ile=Bl(sle);var T0=new ile,XN="recharts.syncEvent.tooltip",lO="recharts.syncEvent.brush";function u8(r,e){if(e){var t=Number.parseInt(e,10);if(!Io(t))return r?.[t]}}var ole={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},d8=Uo({name:"options",initialState:ole,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lle=d8.reducer,{createEventEmitter:cle}=d8.actions;function Ale(r){return r.tooltip.syncInteraction}var ule={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h8=Uo({name:"chartData",initialState:ule,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:cO,setDataStartEndIndexes:dle,setComputedData:qSe}=h8.actions,hle=h8.reducer,fle=["x","y"];function AO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Nh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(t),!0).forEach(function(n){mle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function mle(r,e,t){return(e=gle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gle(r){var e=ple(r,"string");return typeof e=="symbol"?e:e+""}function ple(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yle(r,e){if(r==null)return{};var t,n,a=xle(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function xle(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var f8=()=>{};function vle(){var r=St(xE),e=St(vE),t=la(),n=St(aQ),a=St(Eu),s=Kj(),i=Rj(),l=St(c=>c.rootProps.className);S.useEffect(()=>{if(r==null)return f8;var c=(u,d,f)=>{if(e!==f&&r===u){if(n==="index"){var g;if(i&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate){var p=d.payload.coordinate,{x,y}=p,b=yle(p,fle),w=Nh(Nh(Nh({},b),typeof x=="number"&&{x:Math.max(i.x,Math.min(x,i.x+i.width))}),typeof y=="number"&&{y:Math.max(i.y,Math.min(y,i.y+i.height))}),N=Nh(Nh({},d),{},{payload:Nh(Nh({},d.payload),{},{coordinate:w})});t(N)}else t(d);return}if(a!=null){var j;if(typeof n=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=n(a,k);j=a[T]}else n==="value"&&(j=a.find(H=>String(H.value)===d.payload.label));var{coordinate:I}=d.payload;if(j==null||d.payload.active===!1||I==null||i==null){t(VN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:L}=I,P=Math.min(M,i.x+i.width),q=Math.min(L,i.y+i.height),F={x:s==="horizontal"?j.coordinate:P,y:s==="horizontal"?q:j.coordinate},R=VN({active:d.payload.active,coordinate:F,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label});t(R)}}};return T0.on(XN,c),()=>{T0.off(XN,c)}},[l,t,e,r,n,a,s,i])}function ble(){var r=St(xE),e=St(vE),t=la();S.useEffect(()=>{if(r==null)return f8;var n=(a,s,i)=>{e!==i&&r===a&&t(dle(s))};return T0.on(lO,n),()=>{T0.off(lO,n)}},[t,e,r])}function wle(){var r=la();S.useEffect(()=>{r(cle())},[r]),vle(),ble()}function Cle(r,e,t,n,a,s){var i=St(g=>Goe(g,r,e)),l=St(vE),c=St(xE),u=St(aQ),d=St(Ale),f=d?.active;S.useEffect(()=>{if(!f&&c!=null&&l!=null){var g=VN({active:s,coordinate:t,dataKey:i,index:a,label:typeof n=="number"?String(n):n});T0.emit(XN,c,g,l)}},[f,t,i,a,n,l,c,u,s])}function uO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function dO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(t),!0).forEach(function(n){Ble(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ble(r,e,t){return(e=Nle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nle(r){var e=Sle(r,"string");return typeof e=="symbol"?e:e+""}function Sle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jle(r){return r.dataKey}function Ele(r,e){return S.isValidElement(r)?S.cloneElement(r,e):typeof r=="function"?S.createElement(r,e):S.createElement(Zte,e)}var hO=[],_le={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Qb(r){var e=Ei(r,_le),{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:g,useTranslate3d:p,wrapperStyle:x,cursor:y,shared:b,trigger:w,defaultIndex:N,portal:j,axisId:k}=e,T=la(),I=typeof N=="number"?String(N):N;S.useEffect(()=>{T(Jie({shared:b,trigger:w,axisId:k,active:t,defaultIndex:I}))},[T,b,w,k,t,I]);var M=Rj(),L=XU(),P=Gie(b),{activeIndex:q,isActive:F}=St(oe=>Yoe(oe,P,w,I)),R=St(oe=>Woe(oe,P,w,I)),H=St(oe=>c8(oe,P,w,I)),z=St(oe=>Voe(oe,P,w,I)),X=R,$=nle(),te=t??F,[ee,fe]=mU([X,te]),_e=P==="axis"?H:void 0;Cle(P,w,z,_e,q,te);var re=j??$;if(re==null)return null;var U=X??hO;te||(U=hO),l&&U.length&&(U=AU(X.filter(oe=>oe.value!=null&&(oe.hide!==!0||e.includeHidden)),d,jle));var Y=U.length>0,ne=S.createElement(ire,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:te,coordinate:z,hasPayload:Y,offset:u,position:f,reverseDirection:g,useTranslate3d:p,viewBox:M,wrapperStyle:x,lastBoundingBox:ee,innerRef:fe,hasPortalFromProps:!!j},Ele(i,dO(dO({},e),{},{payload:U,label:_e,active:te,coordinate:z,accessibilityLayer:L})));return S.createElement(S.Fragment,null,OD.createPortal(ne,re),te&&S.createElement(rle,{cursor:y,tooltipEventType:P,coordinate:z,payload:X,index:q}))}var TB={},FB={},PB={},fO;function kle(){return fO||(fO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(t.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),y()};let g=null;const p=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},n)},x=()=>{g!==null&&(clearTimeout(g),g=null)},y=()=>{x(),i=void 0,l=null},b=()=>{d()},w=function(...N){if(a?.aborted)return;i=this,l=N;const j=g==null;p(),c&&j&&d()};return w.schedule=p,w.cancel=y,w.flush=b,a?.addEventListener("abort",y,{once:!0}),w}r.debounce=e})(PB)),PB}var mO;function Tle(){return mO||(mO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=kle();function t(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const g=e.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),p=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,y),d)},x=()=>(g.flush(),d);return p.cancel=g.cancel,p.flush=x,p}r.debounce=t})(FB)),FB}var gO;function Fle(){return gO||(gO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Tle();function t(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return e.debounce(n,a,{leading:i,maxWait:a,trailing:l})}r.throttle=t})(TB)),TB}var OB,pO;function Ple(){return pO||(pO=1,OB=Fle().throttle),OB}var Ole=Ple();const Ile=Bl(Ole);var l0=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function yO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function IB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(t),!0).forEach(function(n){Lle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lle(r,e,t){return(e=Dle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dle(r){var e=Mle(r,"string");return typeof e=="symbol"?e:e+""}function Mle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Hb=S.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:g,onResize:p,style:x={}}=r,y=S.useRef(null),b=S.useRef();b.current=p,S.useImperativeHandle(e,()=>y.current);var[w,N]=S.useState({containerWidth:n.width,containerHeight:n.height}),j=S.useCallback((T,I)=>{N(M=>{var L=Math.round(T),P=Math.round(I);return M.containerWidth===L&&M.containerHeight===P?M:{containerWidth:L,containerHeight:P}})},[]);S.useEffect(()=>{var T=P=>{var q,{width:F,height:R}=P[0].contentRect;j(F,R),(q=b.current)===null||q===void 0||q.call(b,F,R)};d>0&&(T=Ile(T,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:M,height:L}=y.current.getBoundingClientRect();return j(M,L),I.observe(y.current),()=>{I.disconnect()}},[j,d]);var k=S.useMemo(()=>{var{containerWidth:T,containerHeight:I}=w;if(T<0||I<0)return null;l0(Mh(a)||Mh(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),l0(!t||t>0,"The aspect(%s) must be greater than zero.",t);var M=Mh(a)?T:a,L=Mh(s)?I:s;return t&&t>0&&(M?L=M/t:L&&(M=L*t),c&&L>c&&(L=c)),l0(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,a,s,i,l,t),S.Children.map(u,P=>S.cloneElement(P,{width:M,height:L,style:IB({width:M,height:L},P.props.style)}))},[t,u,s,c,l,i,w,a]);return S.createElement("div",{id:f?"".concat(f):void 0,className:Mr("recharts-responsive-container",g),style:IB(IB({},x),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:y},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),cf=r=>null;cf.displayName="Cell";function Ule(r,e,t){return(e=Rle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rle(r){var e=Qle(r,"string");return typeof e=="symbol"?e:e+""}function Qle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Hle{constructor(e){Ule(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function xO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Kle(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(t),!0).forEach(function(n){zle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zle(r,e,t){return(e=qle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qle(r){var e=$le(r,"string");return typeof e=="symbol"?e:e+""}function $le(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Gle={cacheSize:2e3,enableCache:!0},m8=Kle({},Gle),vO=new Hle(m8.cacheSize),Vle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bO="recharts_measurement_span";function Wle(r,e){var t=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",i=e.letterSpacing||"",l=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var wO=(r,e)=>{try{var t=document.getElementById(bO);t||(t=document.createElement("span"),t.setAttribute("id",bO),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,Vle,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},c0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pf.isSsr)return{width:0,height:0};if(!m8.enableCache)return wO(e,t);var n=Wle(e,t),a=vO.get(n);if(a)return a;var s=wO(e,t);return vO.set(n,s),s},CO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jle=Object.keys(g8),Mm="NaN";function Zle(r,e){return r*g8[e]}class Xi{static parse(e){var t,[,n,a]=(t=Xle.exec(e))!==null&&t!==void 0?t:[];return new Xi(parseFloat(n),a??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Io(e)&&(this.unit=""),t!==""&&!Yle.test(t)&&(this.num=NaN,this.unit=""),Jle.includes(t)&&(this.num=Zle(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Xi(NaN,""):new Xi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Xi(NaN,""):new Xi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xi(NaN,""):new Xi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xi(NaN,""):new Xi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Io(this.num)}}function p8(r){if(r.includes(Mm))return Mm;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,a,s]=(t=CO.exec(e))!==null&&t!==void 0?t:[],i=Xi.parse(n??""),l=Xi.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return Mm;e=e.replace(CO,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,g]=(u=BO.exec(e))!==null&&u!==void 0?u:[],p=Xi.parse(d??""),x=Xi.parse(g??""),y=f==="+"?p.add(x):p.subtract(x);if(y.isNaN())return Mm;e=e.replace(BO,y.toString())}return e}var NO=/\(([^()]*)\)/;function ece(r){for(var e=r,t;(t=NO.exec(e))!=null;){var[,n]=t;e=e.replace(NO,p8(n))}return e}function tce(r){var e=r.replace(/\s+/g,"");return e=ece(e),e=p8(e),e}function rce(r){try{return tce(r)}catch{return Mm}}function LB(r){var e=rce(r.slice(5,-1));return e===Mm?"":e}var nce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ace=["dx","dy","angle","className","breakAll"];function JN(){return JN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},JN.apply(null,arguments)}function SO(r,e){if(r==null)return{};var t,n,a=sce(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function sce(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var y8=/[ \f\n\r\t\v\u2028\u2029]+/,x8=r=>{var{children:e,breakAll:t,style:n}=r;try{var a=[];js(e)||(t?a=e.toString().split(""):a=e.toString().split(y8));var s=a.map(l=>({word:l,width:c0(l,n).width})),i=t?0:c0("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},ice=(r,e,t,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=r,u=Ft(s),d=i,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((R,H)=>{var{word:z,width:X}=H,$=R[R.length-1];if($&&(n==null||a||$.width+X+t<Number(n)))$.words.push(z),$.width+=X+t;else{var te={words:[z],width:X};R.push(te)}return R},[])},g=f(e),p=q=>q.reduce((F,R)=>F.width>R.width?F:R);if(!u||a)return g;var x=g.length>s||p(g).width>Number(n);if(!x)return g;for(var y="",b=q=>{var F=d.slice(0,q),R=x8({breakAll:c,style:l,children:F+y}).wordsWithComputedWidth,H=f(R),z=H.length>s||p(H).width>Number(n);return[z,H]},w=0,N=d.length-1,j=0,k;w<=N&&j<=d.length-1;){var T=Math.floor((w+N)/2),I=T-1,[M,L]=b(I),[P]=b(T);if(!M&&!P&&(w=T+1),M&&P&&(N=T-1),!M&&P){k=L;break}j++}return k||g},jO=r=>{var e=js(r)?[]:r.toString().split(y8);return[{words:e}]},oce=r=>{var{width:e,scaleToFit:t,children:n,style:a,breakAll:s,maxLines:i}=r;if((e||t)&&!pf.isSsr){var l,c,u=x8({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return jO(n);return ice({breakAll:s,children:n,maxLines:i,style:a},l,c,e,t)}return jO(n)},EO="#808080",f1=S.forwardRef((r,e)=>{var{x:t=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=EO}=r,d=SO(r,nce),f=S.useMemo(()=>oce({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:i,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,i,d.style,d.width]),{dx:g,dy:p,angle:x,className:y,breakAll:b}=d,w=SO(d,ace);if(!uA(t)||!uA(n)||f.length===0)return null;var N=t+(Ft(g)?g:0),j=n+(Ft(p)?p:0),k;switch(c){case"start":k=LB("calc(".concat(s,")"));break;case"middle":k=LB("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=LB("calc(".concat(f.length-1," * -").concat(a,")"));break}var T=[];if(i){var I=f[0].width,{width:M}=d;T.push("scale(".concat(Ft(M)?M/I:1,")"))}return x&&T.push("rotate(".concat(x,", ").concat(N,", ").concat(j,")")),T.length&&(w.transform=T.join(" ")),S.createElement("text",JN({},os(w,!0),{ref:e,x:N,y:j,className:Mr("recharts-text",y),textAnchor:l,fill:u.includes("url")?EO:u}),f.map((L,P)=>{var q=L.words.join(b?"":" ");return S.createElement("tspan",{x:N,dy:P===0?k:a,key:"".concat(q,"-").concat(P)},q)}))});f1.displayName="Text";var lce=["labelRef"];function cce(r,e){if(r==null)return{};var t,n,a=Ace(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Ace(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function _O(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Na(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(t),!0).forEach(function(n){uce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_O(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function uce(r,e,t){return(e=dce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dce(r){var e=hce(r,"string");return typeof e=="symbol"?e:e+""}function hce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ru(){return ru=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ru.apply(null,arguments)}var v8=S.createContext(null),fce=r=>{var{x:e,y:t,width:n,height:a,children:s}=r,i=S.useMemo(()=>({x:e,y:t,width:n,height:a}),[e,t,n,a]);return S.createElement(v8.Provider,{value:i},s)},b8=()=>{var r=S.useContext(v8),e=Rj();return r||e},mce=S.createContext(null),gce=()=>{var r=S.useContext(mce),e=St(cQ);return r||e},pce=r=>{var{value:e,formatter:t}=r,n=js(r.children)?e:r.children;return typeof t=="function"?t(n):n},JE=r=>r!=null&&typeof r=="function",yce=(r,e)=>{var t=Bs(e-r),n=Math.min(Math.abs(e-r),360);return t*n},xce=(r,e,t,n,a)=>{var{offset:s,className:i}=r,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:g,clockWise:p}=a,x=(u+d)/2,y=yce(f,g),b=y>=0?1:-1,w,N;switch(e){case"insideStart":w=f+b*s,N=p;break;case"insideEnd":w=g-b*s,N=!p;break;case"end":w=g+b*s,N=p;break;default:throw new Error("Unsupported position ".concat(e))}N=y<=0?N:!N;var j=Ka(l,c,x,w),k=Ka(l,c,x,w+(N?1:-1)*359),T="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),I=js(r.id)?w0("recharts-radial-line-"):r.id;return S.createElement("text",ru({},n,{dominantBaseline:"central",className:Mr("recharts-radial-bar-label",i)}),S.createElement("defs",null,S.createElement("path",{id:I,d:T})),S.createElement("textPath",{xlinkHref:"#".concat(I)},t))},vce=(r,e,t)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=r,u=(l+c)/2;if(t==="outside"){var{x:d,y:f}=Ka(n,a,i+e,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(s+i)/2,{x:p,y:x}=Ka(n,a,g,u);return{x:p,y:x,textAnchor:"middle",verticalAnchor:"middle"}},w8=r=>"cx"in r&&Ft(r.cx),bce=(r,e)=>{var{parentViewBox:t,offset:n,position:a}=r,s;t!=null&&!w8(t)&&(s=t);var{x:i,y:l,width:c,height:u}=e,d=u>=0?1:-1,f=d*n,g=d>0?"end":"start",p=d>0?"start":"end",x=c>=0?1:-1,y=x*n,b=x>0?"end":"start",w=x>0?"start":"end";if(a==="top"){var N={x:i+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:g};return Na(Na({},N),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var j={x:i+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:p};return Na(Na({},j),s?{height:Math.max(s.y+s.height-(l+u),0),width:c}:{})}if(a==="left"){var k={x:i-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Na(Na({},k),s?{width:Math.max(k.x-s.x,0),height:u}:{})}if(a==="right"){var T={x:i+c+y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Na(Na({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:u}:{})}var I=s?{width:c,height:u}:{};return a==="insideLeft"?Na({x:i+y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},I):a==="insideRight"?Na({x:i+c-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},I):a==="insideTop"?Na({x:i+c/2,y:l+f,textAnchor:"middle",verticalAnchor:p},I):a==="insideBottom"?Na({x:i+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:g},I):a==="insideTopLeft"?Na({x:i+y,y:l+f,textAnchor:w,verticalAnchor:p},I):a==="insideTopRight"?Na({x:i+c-y,y:l+f,textAnchor:b,verticalAnchor:p},I):a==="insideBottomLeft"?Na({x:i+y,y:l+u-f,textAnchor:w,verticalAnchor:g},I):a==="insideBottomRight"?Na({x:i+c-y,y:l+u-f,textAnchor:b,verticalAnchor:g},I):a&&typeof a=="object"&&(Ft(a.x)||Mh(a.x))&&(Ft(a.y)||Mh(a.y))?Na({x:i+Ai(a.x,c),y:l+Ai(a.y,u),textAnchor:"end",verticalAnchor:"end"},I):Na({x:i+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},wce={offset:5};function yd(r){var e=Ei(r,wce),{viewBox:t,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=e,d=gce(),f=b8(),g=n==="center"?f:d??f,p=t||g;if(!p||js(a)&&js(s)&&!S.isValidElement(i)&&typeof i!="function")return null;var x=Na(Na({},e),{},{viewBox:p});if(S.isValidElement(i)){var{labelRef:y}=x,b=cce(x,lce);return S.cloneElement(i,b)}var w;if(typeof i=="function"){if(w=S.createElement(i,x),S.isValidElement(w))return w}else w=pce(e);var N=w8(p),j=os(e,!0);if(N&&(n==="insideStart"||n==="insideEnd"||n==="end"))return xce(e,n,w,j,p);var k=N?vce(p,e.offset,e.position):bce(e,p);return S.createElement(f1,ru({ref:u,className:Mr("recharts-label",l)},j,k,{breakAll:c}),w)}yd.displayName="Label";var Cce=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?S.createElement(yd,ru({key:"label-implicit"},n)):uA(r)?S.createElement(yd,ru({key:"label-implicit",value:r},n)):S.isValidElement(r)?r.type===yd?S.cloneElement(r,Na({key:"label-implicit"},n)):S.createElement(yd,ru({key:"label-implicit",content:r},n)):JE(r)?S.createElement(yd,ru({key:"label-implicit",content:r},n)):r&&typeof r=="object"?S.createElement(yd,ru({},r,{key:"label-implicit"},n)):null};function Bce(r){var{label:e}=r,t=b8();return Cce(e,t)||null}var DB={},MB={},kO;function Nce(){return kO||(kO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(MB)),MB}var UB={},TO;function Sce(){return TO||(TO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(UB)),UB}var FO;function jce(){return FO||(FO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Nce(),t=Sce(),n=kj();function a(s){if(n.isArrayLike(s))return e.last(t.toArray(s))}r.last=a})(DB)),DB}var RB,PO;function Ece(){return PO||(PO=1,RB=jce().last),RB}var _ce=Ece();const kce=Bl(_ce);var Tce=["valueAccessor"],Fce=["dataKey","clockWise","id","textBreakAll"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Kb.apply(null,arguments)}function OO(r,e){if(r==null)return{};var t,n,a=Pce(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Pce(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Oce=r=>Array.isArray(r.value)?kce(r.value):r.value,C8=S.createContext(void 0),Ice=C8.Provider,B8=S.createContext(void 0),Lce=B8.Provider;function Dce(){return S.useContext(C8)}function Mce(){return S.useContext(B8)}function zv(r){var{valueAccessor:e=Oce}=r,t=OO(r,Tce),{dataKey:n,clockWise:a,id:s,textBreakAll:i}=t,l=OO(t,Fce),c=Dce(),u=Mce(),d=c||u;return!d||!d.length?null:S.createElement(no,{className:"recharts-label-list"},d.map((f,g)=>{var p,x=js(n)?e(f,g):ia(f&&f.payload,n),y=js(s)?{}:{id:"".concat(s,"-").concat(g)};return S.createElement(yd,Kb({},os(f,!0),l,y,{fill:(p=t.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:x,textBreakAll:i,viewBox:f.viewBox,key:"label-".concat(g),index:g}))}))}zv.displayName="LabelList";function N8(r){var{label:e}=r;return e?e===!0?S.createElement(zv,{key:"labelList-implicit"}):S.isValidElement(e)||JE(e)?S.createElement(zv,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement(zv,Kb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var S8=r=>r.graphicalItems.polarItems,Uce=Le([Yn,Ay],SE),ZE=Le([S8,Oa,Uce],EE),Rce=Le([ZE],_E),e4=Le([Rce,fE],kE),Qce=Le([e4,Oa,ZE],FE),Hce=Le([e4,Oa,ZE],(r,e,t)=>t.length>0?r.flatMap(n=>t.flatMap(a=>{var s,i=ia(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?r.map(n=>({value:ia(n,e.dataKey),errorDomain:[]})):r.map(n=>({value:n,errorDomain:[]}))),IO=()=>{},Kce=Le([Oa,_Q,IO,Hce,IO,qr,Yn],OE),j8=Le([Oa,qr,e4,Qce,cy,Yn,Kce],IE),zce=Le([j8,Oa,Ig],ME);Le([Oa,j8,zce,Yn],RE);var qce={radiusAxis:{},angleAxis:{}},E8=Uo({name:"polarAxis",initialState:qce,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:$Se,removeRadiusAxis:GSe,addAngleAxis:VSe,removeAngleAxis:WSe}=E8.actions,$ce=E8.reducer;function LO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function DO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(t),!0).forEach(function(n){Gce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Gce(r,e,t){return(e=Vce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Vce(r){var e=Wce(r,"string");return typeof e=="symbol"?e:e+""}function Wce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Yce=(r,e)=>e,t4=Le([S8,Yce],(r,e)=>r.filter(t=>t.type==="pie").find(t=>t.id===e)),Xce=[],r4=(r,e,t)=>t?.length===0?Xce:t,_8=Le([fE,t4,r4],(r,e,t)=>{var{chartData:n}=r;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&t!=null&&(a=t.map(s=>DO(DO({},e.presentationProps),s.props))),a!=null)return a}}),Jce=Le([_8,t4,r4],(r,e,t)=>{if(!(r==null||e==null))return r.map((n,a)=>{var s,i=ia(n,e.nameKey,e.name),l;return t!=null&&(s=t[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=t[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:qw(i,e.dataKey),color:l,payload:n,type:e.legendType}})}),Zce=Le([_8,t4,r4,ls],(r,e,t,n)=>{if(!(e==null||r==null))return JAe({offset:n,pieSettings:e,displayedData:r,cells:t})}),QB={},MO;function eAe(){return MO||(MO=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const a=t[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${a}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(QB)),QB}var HB,UO;function tAe(){return UO||(UO=1,HB=eAe().isPlainObject),HB}var rAe=tAe();const nAe=Bl(rAe);function RO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function QO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(t),!0).forEach(function(n){aAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function aAe(r,e,t){return(e=sAe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sAe(r){var e=iAe(r,"string");return typeof e=="symbol"?e:e+""}function iAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zb(){return zb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zb.apply(null,arguments)}var HO=(r,e,t,n,a)=>{var s=t-n,i;return i="M ".concat(r,",").concat(e),i+="L ".concat(r+t,",").concat(e),i+="L ".concat(r+t-s/2,",").concat(e+a),i+="L ".concat(r+t-s/2-n,",").concat(e+a),i+="L ".concat(r,",").concat(e," Z"),i},oAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lAe=r=>{var e=Ei(r,oAe),{x:t,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=e,g=S.useRef(),[p,x]=S.useState(-1),y=S.useRef(a),b=S.useRef(s),w=S.useRef(i),N=S.useRef(t),j=S.useRef(n),k=Jw(r,"trapezoid-");if(S.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var z=g.current.getTotalLength();z&&x(z)}catch{}},[]),t!==+t||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var T=Mr("recharts-trapezoid",l);if(!f)return S.createElement("g",null,S.createElement("path",zb({},os(e,!0),{className:T,d:HO(t,n,a,s,i)})));var I=y.current,M=b.current,L=w.current,P=N.current,q=j.current,F="0px ".concat(p===-1?1:p,"px"),R="".concat(p,"px 0px"),H=ZU(["strokeDasharray"],u,c);return S.createElement(Xw,{animationId:k,key:k,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},z=>{var X=qs(I,a,z),$=qs(M,s,z),te=qs(L,i,z),ee=qs(P,t,z),fe=qs(q,n,z);g.current&&(y.current=X,b.current=$,w.current=te,N.current=ee,j.current=fe);var _e=z>0?{transition:H,strokeDasharray:R}:{strokeDasharray:F};return S.createElement("path",zb({},os(e,!0),{className:T,d:HO(ee,fe,X,$,te),ref:g,style:QO(QO({},_e),e.style)}))})},cAe=["option","shapeType","propTransformer","activeClassName","isActive"];function AAe(r,e){if(r==null)return{};var t,n,a=uAe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function uAe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function KO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function qb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(t),!0).forEach(function(n){dAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function dAe(r,e,t){return(e=hAe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hAe(r){var e=fAe(r,"string");return typeof e=="symbol"?e:e+""}function fAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function mAe(r,e){return qb(qb({},e),r)}function gAe(r,e){return r==="symbols"}function zO(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return S.createElement(nR,t);case"trapezoid":return S.createElement(lAe,t);case"sector":return S.createElement(iR,t);case"symbols":if(gAe(e))return S.createElement(jj,t);break;default:return null}}function pAe(r){return S.isValidElement(r)?r.props:r}function k8(r){var{option:e,shapeType:t,propTransformer:n=mAe,activeClassName:a="recharts-active-shape",isActive:s}=r,i=AAe(r,cAe),l;if(S.isValidElement(e))l=S.cloneElement(e,qb(qb({},i),pAe(e)));else if(typeof e=="function")l=e(i);else if(nAe(e)&&typeof e!="boolean"){var c=n(e,i);l=S.createElement(zO,{shapeType:t,elementProps:c})}else{var u=i;l=S.createElement(zO,{shapeType:t,elementProps:u})}return s?S.createElement(no,{className:a},l):l}var n4=(r,e)=>{var t=la();return(n,a)=>s=>{r?.(n,a,s),t(qQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},a4=r=>{var e=la();return(t,n)=>a=>{r?.(t,n,a),e(Zie())}},s4=(r,e)=>{var t=la();return(n,a)=>s=>{r?.(n,a,s),t(eoe({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function T8(r){var{fn:e,args:t}=r,n=la(),a=jl();return S.useEffect(()=>{if(!a){var s=e(t);return n(Yie(s)),()=>{n(Xie(s))}}},[e,t,n,a]),null}var F8=()=>{};function yAe(r){var{legendPayload:e}=r,t=la(),n=jl();return S.useEffect(()=>n?F8:(t(WU(e)),()=>{t(YU(e))}),[t,n,e]),null}function xAe(r){var{legendPayload:e}=r,t=la(),n=St(qr);return S.useEffect(()=>n!=="centric"&&n!=="radial"?F8:(t(WU(e)),()=>{t(YU(e))}),[t,n,e]),null}var KB,vAe=()=>{var[r]=S.useState(()=>w0("uid-"));return r},bAe=(KB=jz.useId)!==null&&KB!==void 0?KB:vAe;function wAe(r,e){var t=bAe();return e||(r?"".concat(r,"-").concat(t):t)}var CAe=S.createContext(void 0),P8=r=>{var{id:e,type:t,children:n}=r,a=wAe("recharts-".concat(t),e);return S.createElement(CAe.Provider,{value:a},n(a))},BAe={cartesianItems:[],polarItems:[]},O8=Uo({name:"graphicalItems",initialState:BAe,reducers:{addCartesianGraphicalItem(r,e){r.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(r,e){var{prev:t,next:n}=e.payload,a=iu(r).cartesianItems.indexOf(t);a>-1&&(r.cartesianItems[a]=n)},removeCartesianGraphicalItem(r,e){var t=iu(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},addPolarGraphicalItem(r,e){r.polarItems.push(e.payload)},removePolarGraphicalItem(r,e){var t=iu(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)}}}),{addCartesianGraphicalItem:NAe,replaceCartesianGraphicalItem:SAe,removeCartesianGraphicalItem:jAe,addPolarGraphicalItem:EAe,removePolarGraphicalItem:_Ae}=O8.actions,kAe=O8.reducer;function TAe(r){var e=la(),t=S.useRef(null);return S.useEffect(()=>{t.current===null?e(NAe(r)):t.current!==r&&e(SAe({prev:t.current,next:r})),t.current=r},[e,r]),S.useEffect(()=>()=>{t.current&&(e(jAe(t.current)),t.current=null)},[e]),null}function FAe(r){var e=la();return S.useEffect(()=>(e(EAe(r)),()=>{e(_Ae(r))}),[e,r]),null}var PAe=["onMouseEnter","onClick","onMouseLeave"],OAe=["id"],IAe=["id"];function i4(r,e){if(r==null)return{};var t,n,a=LAe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function LAe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function qO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Gn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(t),!0).forEach(function(n){DAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function DAe(r,e,t){return(e=MAe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function MAe(r){var e=UAe(r,"string");return typeof e=="symbol"?e:e+""}function UAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Pd.apply(null,arguments)}function RAe(r){var e=S.useMemo(()=>wj(r.children,cf),[r.children]),t=St(n=>Jce(n,r.id,e));return t==null?null:S.createElement(xAe,{legendPayload:t})}function QAe(r){var{dataKey:e,nameKey:t,sectors:n,stroke:a,strokeWidth:s,fill:i,name:l,hide:c,tooltipType:u}=r;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:e,nameKey:t,name:qw(l,e),hide:c,type:u,color:i,unit:""}}}var HAe=(r,e)=>r>e?"start":r<e?"end":"middle",KAe=(r,e,t)=>Ai(typeof e=="function"?e(r):e,t,t*.8),zAe=(r,e,t)=>{var{top:n,left:a,width:s,height:i}=e,l=RU(s,i),c=a+Ai(r.cx,s,s/2),u=n+Ai(r.cy,i,i/2),d=Ai(r.innerRadius,l,0),f=KAe(t,r.outerRadius,l),g=r.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:g}},qAe=(r,e)=>{var t=Bs(e-r),n=Math.min(Math.abs(e-r),360);return t*n};function $Ae(r){return r&&typeof r=="object"&&"className"in r&&typeof r.className=="string"?r.className:""}var GAe=(r,e)=>{if(S.isValidElement(r))return S.cloneElement(r,e);if(typeof r=="function")return r(e);var t=Mr("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return S.createElement(JU,Pd({},e,{type:"linear",className:t}))},VAe=(r,e,t)=>{if(S.isValidElement(r))return S.cloneElement(r,e);var n=t;if(typeof r=="function"&&(n=r(e),S.isValidElement(n)))return n;var a=Mr("recharts-pie-label-text",$Ae(r));return S.createElement(f1,Pd({},e,{alignmentBaseline:"middle",className:a}),n)};function WAe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a,labelLine:s,dataKey:i}=t;if(!n||!a||!e)return null;var l=Hd(t),c=os(a,!1),u=os(s,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=e.map((g,p)=>{var x=(g.startAngle+g.endAngle)/2,y=Ka(g.cx,g.cy,g.outerRadius+d,x),b=Gn(Gn(Gn(Gn({},l),g),{},{stroke:"none"},c),{},{index:p,textAnchor:HAe(y.x,g.cx)},y),w=Gn(Gn(Gn(Gn({},l),g),{},{fill:"none",stroke:g.fill},u),{},{index:p,points:[Ka(g.cx,g.cy,g.outerRadius,x),y],key:"line"});return S.createElement(no,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},s&&GAe(s,w),VAe(a,b,ia(g,i)))});return S.createElement(no,{className:"recharts-pie-labels"},f)}function YAe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a}=t;return typeof a=="object"&&a!=null&&"position"in a?S.createElement(N8,{label:a}):S.createElement(WAe,{sectors:e,props:t,showLabels:n})}function XAe(r){var{sectors:e,activeShape:t,inactiveShape:n,allOtherPieProps:a}=r,s=St(lf),{onMouseEnter:i,onClick:l,onMouseLeave:c}=a,u=i4(a,PAe),d=n4(i,a.dataKey),f=a4(c),g=s4(l,a.dataKey);return e==null||e.length===0?null:S.createElement(S.Fragment,null,e.map((p,x)=>{if(p?.startAngle===0&&p?.endAngle===0&&e.length!==1)return null;var y=t&&String(x)===s,b=s?n:null,w=y?t:b,N=Gn(Gn({},p),{},{stroke:p.stroke,tabIndex:-1,[qU]:x,[$U]:a.dataKey});return S.createElement(no,Pd({tabIndex:-1,className:"recharts-pie-sector"},ty(u,p,x),{onMouseEnter:d(p,x),onMouseLeave:f(p,x),onClick:g(p,x),key:"sector-".concat(p?.startAngle,"-").concat(p?.endAngle,"-").concat(p.midAngle,"-").concat(x)}),S.createElement(k8,Pd({option:w,isActive:y,shapeType:"sector"},N)))}))}function JAe(r){var e,{pieSettings:t,displayedData:n,cells:a,offset:s}=r,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=t,g=Math.abs(t.minAngle),p=qAe(l,c),x=Math.abs(p),y=n.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,b=n.filter(I=>ia(I,u,0)!==0).length,w=(x>=360?b:b-1)*y,N=x-b*g-w,j=n.reduce((I,M)=>{var L=ia(M,u,0);return I+(Ft(L)?L:0)},0),k;if(j>0){var T;k=n.map((I,M)=>{var L=ia(I,u,0),P=ia(I,d,M),q=zAe(t,s,I),F=(Ft(L)?L:0)/j,R,H=Gn(Gn({},I),a&&a[M]&&a[M].props);M?R=T.endAngle+Bs(p)*y*(L!==0?1:0):R=l;var z=R+Bs(p)*((L!==0?g:0)+F*N),X=(R+z)/2,$=(q.innerRadius+q.outerRadius)/2,te=[{name:P,value:L,payload:H,dataKey:u,type:f}],ee=Ka(q.cx,q.cy,$,X);return T=Gn(Gn(Gn(Gn({},t.presentationProps),{},{percent:F,cornerRadius:i,name:P,tooltipPayload:te,midAngle:X,middleRadius:$,tooltipPosition:ee},H),q),{},{value:L,startAngle:R,endAngle:z,payload:H,paddingAngle:Bs(p)*y}),T})}return k}function ZAe(r){var{showLabels:e,sectors:t,children:n}=r,a=S.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return S.createElement(Lce,{value:e?a:void 0},n)}function eue(r){var{props:e,previousSectorsRef:t}=r,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,g=Jw(e,"recharts-pie-"),p=t.current,[x,y]=S.useState(!1),b=S.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),w=S.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return S.createElement(ZAe,{showLabels:!x,sectors:n},S.createElement(Xw,{animationId:g,begin:s,duration:i,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:b,key:g},N=>{var j=[],k=n&&n[0],T=k?.startAngle;return n?.forEach((I,M)=>{var L=p&&p[M],P=M>0?nf(I,"paddingAngle",0):0;if(L){var q=qs(L.endAngle-L.startAngle,I.endAngle-I.startAngle,N),F=Gn(Gn({},I),{},{startAngle:T+P,endAngle:T+q+P});j.push(F),T=F.endAngle}else{var{endAngle:R,startAngle:H}=I,z=qs(0,R-H,N),X=Gn(Gn({},I),{},{startAngle:T+P,endAngle:T+z+P});j.push(X),T=X.endAngle}}),t.current=j,S.createElement(no,null,S.createElement(XAe,{sectors:j,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),S.createElement(YAe,{showLabels:!x,sectors:n,props:e}),e.children)}var tue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!pf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function rue(r){var{id:e}=r,t=i4(r,OAe),{hide:n,className:a,rootTabIndex:s}=r,i=S.useMemo(()=>wj(r.children,cf),[r.children]),l=St(d=>Zce(d,e,i)),c=S.useRef(null),u=Mr("recharts-pie",a);return n||l==null?(c.current=null,S.createElement(no,{tabIndex:s,className:u})):S.createElement(S.Fragment,null,S.createElement(T8,{fn:QAe,args:Gn(Gn({},r),{},{sectors:l})}),S.createElement(no,{tabIndex:s,className:u},S.createElement(eue,{props:Gn(Gn({},t),{},{sectors:l}),previousSectorsRef:c})))}function $b(r){var e=Ei(r,tue),{id:t}=e,n=i4(e,IAe),a=Hd(n);return S.createElement(P8,{id:t,type:"pie"},s=>S.createElement(S.Fragment,null,S.createElement(FAe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),S.createElement(RAe,Pd({},n,{id:s})),S.createElement(rue,Pd({},n,{id:s}))))}$b.displayName="Pie";function $O(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function GO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(t),!0).forEach(function(n){nue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$O(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function nue(r,e,t){return(e=aue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aue(r){var e=sue(r,"string");return typeof e=="symbol"?e:e+""}function sue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var iue={xAxis:{},yAxis:{},zAxis:{}},I8=Uo({name:"cartesianAxis",initialState:iue,reducers:{addXAxis(r,e){r.xAxis[e.payload.id]=e.payload},removeXAxis(r,e){delete r.xAxis[e.payload.id]},addYAxis(r,e){r.yAxis[e.payload.id]=e.payload},removeYAxis(r,e){delete r.yAxis[e.payload.id]},addZAxis(r,e){r.zAxis[e.payload.id]=e.payload},removeZAxis(r,e){delete r.zAxis[e.payload.id]},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload;r.yAxis[t]&&(r.yAxis[t]=GO(GO({},r.yAxis[t]),{},{width:n}))}}}),{addXAxis:oue,removeXAxis:lue,addYAxis:cue,removeYAxis:Aue,addZAxis:YSe,removeZAxis:XSe,updateYAxisWidth:uue}=I8.actions,due=I8.reducer,hue=Le([ls],r=>{if(r)return{top:r.top,bottom:r.bottom,left:r.left,right:r.right}}),fue=Le([hue,Cu,Bu],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),L8=()=>St(fue),mue="Invariant failed";function gn(r,e){if(!r)throw new Error(mue)}var gue=["x","y"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ZN.apply(null,arguments)}function VO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Dp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(t),!0).forEach(function(n){pue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):VO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pue(r,e,t){return(e=yue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yue(r){var e=xue(r,"string");return typeof e=="symbol"?e:e+""}function xue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vue(r,e){if(r==null)return{};var t,n,a=bue(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function bue(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function wue(r,e){var{x:t,y:n}=r,a=vue(r,gue),s="".concat(t),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),g=parseInt(f,10);return Dp(Dp(Dp(Dp(Dp({},e),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function o4(r){return S.createElement(k8,ZN({shapeType:"rectangle",propTransformer:wue,activeClassName:"recharts-active-bar"},r))}var Cue=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ft(e))return e;var s=Ft(n)||js(n);return s?e(n,a):(s||gn(!1),t)}},Bue={},D8=Uo({name:"errorBars",initialState:Bue,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:a}=e.payload;r[t]&&(r[t]=r[t].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:JSe,replaceErrorBar:ZSe,removeErrorBar:eje}=D8.actions,Nue=D8.reducer,Sue=["children"];function jue(r,e){if(r==null)return{};var t,n,a=Eue(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Eue(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var _ue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kue=S.createContext(_ue);function Tue(r){var{children:e}=r,t=jue(r,Sue);return S.createElement(kue.Provider,{value:t},e)}function M8(r,e){var t,n,a=St(u=>Su(u,r)),s=St(u=>ju(u,e)),i=(t=a?.allowDataOverflow)!==null&&t!==void 0?t:So.allowDataOverflow,l=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:jo.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function Fue(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,a=L8(),{needClipX:s,needClipY:i,needClip:l}=M8(e,t);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var Pue=["onMouseEnter","onMouseLeave","onClick"],Oue=["value","background","tooltipPosition"],Iue=["id"],Lue=["onMouseEnter","onClick","onMouseLeave"];function Od(){return Od=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Od.apply(null,arguments)}function WO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ni(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(t),!0).forEach(function(n){Due(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):WO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Due(r,e,t){return(e=Mue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mue(r){var e=Uue(r,"string");return typeof e=="symbol"?e:e+""}function Uue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Gb(r,e){if(r==null)return{};var t,n,a=Rue(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Rue(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Que=r=>{var{dataKey:e,name:t,fill:n,legendType:a,hide:s}=r;return[{inactive:s,dataKey:e,type:a,color:n,value:qw(t,e),payload:r}]};function Hue(r){var{dataKey:e,stroke:t,strokeWidth:n,fill:a,name:s,hide:i,unit:l}=r;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:a,dataKey:e,nameKey:void 0,name:qw(s,e),hide:i,type:r.tooltipType,color:r.fill,unit:l}}}function Kue(r){var e=St(lf),{data:t,dataKey:n,background:a,allOtherBarProps:s}=r,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=Gb(s,Pue),d=n4(i,n),f=a4(l),g=s4(c,n);if(!a||t==null)return null;var p=os(a,!1);return S.createElement(S.Fragment,null,t.map((x,y)=>{var{value:b,background:w,tooltipPosition:N}=x,j=Gb(x,Oue);if(!w)return null;var k=d(x,y),T=f(x,y),I=g(x,y),M=Ni(Ni(Ni(Ni(Ni({option:a,isActive:String(y)===e},j),{},{fill:"#eee"},w),p),ty(u,x,y)),{},{onMouseEnter:k,onMouseLeave:T,onClick:I,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return S.createElement(o4,Od({key:"background-bar-".concat(M.index)},M))}))}function zue(r){var{showLabels:e,children:t,rects:n}=r,a=n?.map(s=>{var i={x:s.x,y:s.y,width:s.width,height:s.height};return Ni(Ni({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return S.createElement(Ice,{value:e?a:void 0},t)}function que(r){var{shape:e,activeBar:t,baseProps:n,entry:a,index:s,dataKey:i}=r,l=St(lf),c=St(a8),u=t&&String(s)===l&&(c==null||i===c),d=u?t:e;return S.createElement(o4,Od({},n,a,{isActive:u,option:d,index:s,dataKey:i}))}function $ue(r){var{shape:e,baseProps:t,entry:n,index:a,dataKey:s}=r;return S.createElement(o4,Od({},t,n,{isActive:!1,option:e,index:a,dataKey:s}))}function Gue(r){var{data:e,props:t}=r,n=Hd(t),{id:a}=n,s=Gb(n,Iue),{shape:i,dataKey:l,activeBar:c}=t,{onMouseEnter:u,onClick:d,onMouseLeave:f}=t,g=Gb(t,Lue),p=n4(u,l),x=a4(f),y=s4(d,l);return e?S.createElement(S.Fragment,null,e.map((b,w)=>S.createElement(no,Od({className:"recharts-bar-rectangle"},ty(g,b,w),{onMouseEnter:p(b,w),onMouseLeave:x(b,w),onClick:y(b,w),key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(w)}),c?S.createElement(que,{shape:i,activeBar:c,baseProps:s,entry:b,index:w,dataKey:l}):S.createElement($ue,{shape:i,baseProps:s,entry:b,index:w,dataKey:l})))):null}function Vue(r){var{props:e,previousRectanglesRef:t}=r,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=t.current,g=Jw(e,"recharts-bar-"),[p,x]=S.useState(!1),y=!p,b=S.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),w=S.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return S.createElement(zue,{showLabels:y,rects:n},S.createElement(Xw,{animationId:g,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:w,key:g},N=>{var j=N===1?n:n?.map((k,T)=>{var I=f&&f[T];if(I)return Ni(Ni({},k),{},{x:qs(I.x,k.x,N),y:qs(I.y,k.y,N),width:qs(I.width,k.width,N),height:qs(I.height,k.height,N)});if(a==="horizontal"){var M=qs(0,k.height,N);return Ni(Ni({},k),{},{y:k.y+k.height-M,height:M})}var L=qs(0,k.width,N);return Ni(Ni({},k),{},{width:L})});return N>0&&(t.current=j??null),j==null?null:S.createElement(no,null,S.createElement(Gue,{props:e,data:j}))}),S.createElement(N8,{label:e.label}),e.children)}function Wue(r){var e=S.useRef(null);return S.createElement(Vue,{previousRectanglesRef:e,props:r})}var U8=0,Yue=(r,e)=>{var t=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:t,errorVal:ia(r,e)}};class Xue extends S.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(e||t==null)return null;var d=Mr("recharts-bar",a),f=u;return S.createElement(no,{className:d,id:u},l&&S.createElement("defs",null,S.createElement(Fue,{clipPathId:f,xAxisId:s,yAxisId:i})),S.createElement(no,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},S.createElement(Kue,{data:t,dataKey:n,background:c,allOtherBarProps:this.props}),S.createElement(Wue,this.props)))}}var Jue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!pf.isSsr,legendType:"rect",minPointSize:U8,xAxisId:0,yAxisId:0};function Zue(r){var{xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=r,{needClip:f}=M8(e,t),g=Kj(),p=jl(),x=wj(r.children,cf),y=St(N=>jde(N,e,t,p,r.id,x));if(g!=="vertical"&&g!=="horizontal")return null;var b,w=y?.[0];return w==null||w.height==null||w.width==null?b=0:b=g==="vertical"?w.height/2:w.width/2,S.createElement(Tue,{xAxisId:e,yAxisId:t,data:y,dataPointFormatter:Yue,errorBarOffset:b},S.createElement(Xue,Od({},r,{layout:g,needClip:f,data:y,xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function ede(r){var{layout:e,barSettings:{dataKey:t,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:g,cells:p,parentViewBox:x}=r,y=e==="horizontal"?l:i,b=d?y.scale.domain():null,w=mte({numericAxis:y});return f.map((N,j)=>{var k,T,I,M,L,P;d?k=cte(d[j],b):(k=ia(N,t),Array.isArray(k)||(k=[w,k]));var q=Cue(n,U8)(k[1],j);if(e==="horizontal"){var F,[R,H]=[l.scale(k[0]),l.scale(k[1])];T=LF({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:N,index:j}),I=(F=H??R)!==null&&F!==void 0?F:void 0,M=a.size;var z=R-H;if(L=Io(z)?0:z,P={x:T,y:g.top,width:M,height:g.height},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var X=Bs(L||q)*(Math.abs(q)-Math.abs(L));I-=X,L+=X}}else{var[$,te]=[i.scale(k[0]),i.scale(k[1])];if(T=$,I=LF({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:N,index:j}),M=te-$,L=a.size,P={x:g.left,y:I,width:g.width,height:L},Math.abs(q)>0&&Math.abs(M)<Math.abs(q)){var ee=Bs(M||q)*(Math.abs(q)-Math.abs(M));M+=ee}}if(T==null||I==null||M==null||L==null)return null;var fe=Ni(Ni({},N),{},{x:T,y:I,width:M,height:L,value:d?k:k[1],payload:N,background:P,tooltipPosition:{x:T+M/2,y:I+L/2},parentViewBox:x},p&&p[j]&&p[j].props);return fe}).filter(Boolean)}function tde(r){var e=Ei(r,Jue),t=jl();return S.createElement(P8,{id:e.id,type:"bar"},n=>S.createElement(S.Fragment,null,S.createElement(yAe,{legendPayload:Que(e)}),S.createElement(T8,{fn:Hue,args:e}),S.createElement(TAe,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:fte(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),S.createElement(Zue,Od({},e,{id:n}))))}var R8=S.memo(tde);R8.displayName="Bar";function YO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function $x(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(t),!0).forEach(function(n){rde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rde(r,e,t){return(e=nde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nde(r){var e=ade(r,"string");return typeof e=="symbol"?e:e+""}function ade(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var sde=(r,e)=>e,ide=(r,e,t)=>t,ode=(r,e,t,n)=>n,lde=(r,e,t,n,a)=>a,gy=Le([jE,lde],(r,e)=>r.filter(t=>t.type==="bar").find(t=>t.id===e)),cde=Le([gy],r=>r?.maxBarSize),Ade=(r,e,t,n,a,s)=>s,XO=(r,e,t)=>{var n=t??r;if(!js(n))return Ai(n,e,0)},ude=Le([qr,jE,sde,ide,ode],(r,e,t,n,a)=>e.filter(s=>r==="horizontal"?s.xAxisId===t:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),dde=(r,e,t,n)=>{var a=qr(r);return a==="horizontal"?GN(r,"yAxis",t,n):GN(r,"xAxis",e,n)},hde=(r,e,t)=>{var n=qr(r);return n==="horizontal"?ZP(r,"xAxis",e):ZP(r,"yAxis",t)},fde=(r,e,t)=>{var n={},a=r.filter(l1),s=r.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,g=f.map(x=>x.dataKey),p=XO(e,t,f[0].barSize);return{stackId:d,dataKeys:g,barSize:p}}),c=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),f=XO(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},mde=Le([ude,Wse,hde],fde),gde=(r,e,t,n,a)=>{var s,i,l=gy(r,e,t,n,a);if(l!=null){var c=qr(r),u=rQ(r),{maxBarSize:d}=l,f=js(d)?u:d,g,p;return c==="horizontal"?(g=fg(r,"xAxis",e,n),p=hg(r,"xAxis",e,n)):(g=fg(r,"yAxis",t,n),p=hg(r,"yAxis",t,n)),(s=(i=Mj(g,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},Q8=(r,e,t,n)=>{var a=qr(r),s,i;return a==="horizontal"?(s=fg(r,"xAxis",e,n),i=hg(r,"xAxis",e,n)):(s=fg(r,"yAxis",t,n),i=hg(r,"yAxis",t,n)),Mj(s,i)};function pde(r,e,t,n,a){var s=n.length;if(!(s<1)){var i=Ai(r,t,0,!0),l,c=[];if(Do(n[0].barSize)){var u=!1,d=t/s,f=n.reduce((w,N)=>w+(N.barSize||0),0);f+=(s-1)*i,f>=t&&(f-=(s-1)*i,i=0),f>=t&&d>0&&(u=!0,d*=.9,f=s*d);var g=(t-f)/2>>0,p={offset:g-i,size:0};l=n.reduce((w,N)=>{var j,k={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:p.offset+p.size+i,size:u?d:(j=N.barSize)!==null&&j!==void 0?j:0}},T=[...w,k];return p=T[T.length-1].position,T},c)}else{var x=Ai(e,t,0,!0);t-2*x-(s-1)*i<=0&&(i=0);var y=(t-2*x-(s-1)*i)/s;y>1&&(y>>=0);var b=Do(a)?Math.min(y,a):y;l=n.reduce((w,N,j)=>[...w,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:x+(y+i)*j+(y-b)/2,size:b}}],c)}return l}}var yde=(r,e,t,n,a,s,i)=>{var l=js(i)?e:i,c=pde(t,n,a!==s?a:s,r,l);return a!==s&&c!=null&&(c=c.map(u=>$x($x({},u),{},{position:$x($x({},u.position),{},{offset:u.position.offset-a/2})}))),c},xde=Le([mde,rQ,Vse,nQ,gde,Q8,cde],yde),vde=(r,e,t,n)=>fg(r,"xAxis",e,n),bde=(r,e,t,n)=>fg(r,"yAxis",t,n),wde=(r,e,t,n)=>hg(r,"xAxis",e,n),Cde=(r,e,t,n)=>hg(r,"yAxis",t,n),Bde=Le([xde,gy],(r,e)=>{if(!(r==null||e==null)){var t=r.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),Nde=(r,e)=>{var t=BE(e);if(!(!r||t==null||e==null)){var{stackId:n}=e;if(n!=null){var a=r[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===t)}}}},Sde=Le([dde,gy],Nde),jde=Le([ls,Uj,vde,bde,wde,Cde,Bde,qr,mE,Q8,Sde,gy,Ade],(r,e,t,n,a,s,i,l,c,u,d,f,g)=>{var{chartData:p,dataStartIndex:x,dataEndIndex:y}=c;if(!(f==null||i==null||e==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||a==null||s==null||u==null)){var{data:b}=f,w;if(b!=null&&b.length>0?w=b:w=p?.slice(x,y+1),w!=null)return ede({layout:l,barSettings:f,pos:i,parentViewBox:e,bandSize:u,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:w,offset:r,cells:g})}}),H8=r=>{var{chartData:e}=r,t=la(),n=jl();return S.useEffect(()=>n?()=>{}:(t(cO(e)),()=>{t(cO(void 0))}),[e,t,n]),null},JO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},K8=Uo({name:"brush",initialState:JO,reducers:{setBrushSettings(r,e){return e.payload==null?JO:e.payload}}}),{setBrushSettings:tje}=K8.actions,Ede=K8.reducer;function _de(r,e,t){return(e=kde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kde(r){var e=Tde(r,"string");return typeof e=="symbol"?e:e+""}function Tde(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class l4{static create(e){return new l4(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],a=t[t.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}_de(l4,"EPS",1e-4);function Fde(r){return(r%180+180)%180}var Pde=function(e){var{width:t,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Fde(a),i=s*Math.PI/180,l=Math.atan(n/t),c=i>l&&i<Math.PI-l?n/Math.sin(i):t/Math.cos(i);return Math.abs(c)},Ode={dots:[],areas:[],lines:[]},z8=Uo({name:"referenceElements",initialState:Ode,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=iu(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=iu(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=iu(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:rje,removeDot:nje,addArea:aje,removeArea:sje,addLine:ije,removeLine:oje}=z8.actions,Ide=z8.reducer,Lde=S.createContext(void 0),Dde=r=>{var{children:e}=r,[t]=S.useState("".concat(w0("recharts"),"-clip")),n=L8();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return S.createElement(Lde.Provider,{value:t},S.createElement("defs",null,S.createElement("clipPath",{id:t},S.createElement("rect",{x:a,y:s,height:l,width:i}))),e)};function mg(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function q8(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],a=0;a<r.length;a+=e)n.push(r[a]);return n}function Mde(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return Pde(n,t)}function Ude(r,e,t){var n=t==="width",{x:a,y:s,width:i,height:l}=r;return e===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function Vb(r,e,t,n,a){if(r*e<r*n||r*e>r*a)return!1;var s=t();return r*(e-r*s/2-n)>=0&&r*(e+r*s/2-a)<=0}function Rde(r,e){return q8(r,e+1)}function Qde(r,e,t,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=e,c=0,u=1,d=i,f=function(){var x=n?.[c];if(x===void 0)return{v:q8(n,u)};var y=c,b,w=()=>(b===void 0&&(b=t(x,y)),b),N=x.coordinate,j=c===0||Vb(r,N,w,d,l);j||(c=0,d=i,u+=1),j&&(d=N+r*(w()/2+a),c+=u)},g;u<=s.length;)if(g=f(),g)return g.v;return[]}function ZO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ai(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(t),!0).forEach(function(n){Hde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hde(r,e,t){return(e=Kde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kde(r){var e=zde(r,"string");return typeof e=="symbol"?e:e+""}function zde(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function qde(r,e,t,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=e,{end:c}=e,u=function(g){var p=s[g],x,y=()=>(x===void 0&&(x=t(p,g)),x);if(g===i-1){var b=r*(p.coordinate+r*y()/2-c);s[g]=p=ai(ai({},p),{},{tickCoord:b>0?p.coordinate-b*r:p.coordinate})}else s[g]=p=ai(ai({},p),{},{tickCoord:p.coordinate});var w=Vb(r,p.tickCoord,y,l,c);w&&(c=p.tickCoord-r*(y()/2+a),s[g]=ai(ai({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function $de(r,e,t,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=e;if(s){var d=n[l-1],f=t(d,l-1),g=r*(d.coordinate+r*f/2-u);i[l-1]=d=ai(ai({},d),{},{tickCoord:g>0?d.coordinate-g*r:d.coordinate});var p=Vb(r,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-r*(f/2+a),i[l-1]=ai(ai({},d),{},{isShow:!0}))}for(var x=s?l-1:l,y=function(N){var j=i[N],k,T=()=>(k===void 0&&(k=t(j,N)),k);if(N===0){var I=r*(j.coordinate-r*T()/2-c);i[N]=j=ai(ai({},j),{},{tickCoord:I<0?j.coordinate-I*r:j.coordinate})}else i[N]=j=ai(ai({},j),{},{tickCoord:j.coordinate});var M=Vb(r,j.tickCoord,T,c,u);M&&(c=j.tickCoord+r*(T()/2+a),i[N]=ai(ai({},j),{},{isShow:!0}))},b=0;b<x;b++)y(b);return i}function c4(r,e,t){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=r;if(!a||!a.length||!n)return[];if(Ft(c)||pf.isSsr){var g;return(g=Rde(a,Ft(c)?c:0))!==null&&g!==void 0?g:[]}var p=[],x=l==="top"||l==="bottom"?"width":"height",y=d&&x==="width"?c0(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},b=(j,k)=>{var T=typeof u=="function"?u(j.value,k):j.value;return x==="width"?Mde(c0(T,{fontSize:e,letterSpacing:t}),y,f):c0(T,{fontSize:e,letterSpacing:t})[x]},w=a.length>=2?Bs(a[1].coordinate-a[0].coordinate):1,N=Ude(s,w,x);return c==="equidistantPreserveStart"?Qde(w,N,b,a,i):(c==="preserveStart"||c==="preserveStartEnd"?p=$de(w,N,b,a,i,c==="preserveStartEnd"):p=qde(w,N,b,a,i),p.filter(j=>j.isShow))}var Gde=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=r,i=0;if(e){e.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=t?t.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(t?n:0);return Math.round(u)}return 0},Vde=["axisLine","width","height","className","hide","ticks"],Wde=["viewBox"],Yde=["viewBox"];function eS(r,e){if(r==null)return{};var t,n,a=Xde(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Xde(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Af(){return Af=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Af.apply(null,arguments)}function eI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function rs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(t),!0).forEach(function(n){Jde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Jde(r,e,t){return(e=Zde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zde(r){var e=ehe(r,"string");return typeof e=="symbol"?e:e+""}function ehe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var A4={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function the(r){var{x:e,y:t,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=r;if(!l)return null;var u=rs(rs(rs({},c),os(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=rs(rs({},u),{},{x1:e,y1:t+d*a,x2:e+n,y2:t+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=rs(rs({},u),{},{x1:e+f*n,y1:t,x2:e+f*n,y2:t+a})}return S.createElement("line",Af({},u,{className:Mr("recharts-cartesian-axis-line",nf(l,"className"))}))}function rhe(r,e,t,n,a,s,i,l,c){var u,d,f,g,p,x,y=l?-1:1,b=r.tickSize||i,w=Ft(r.tickCoord)?r.tickCoord:r.coordinate;switch(s){case"top":u=d=r.coordinate,g=t+ +!l*a,f=g-y*b,x=f-y*c,p=w;break;case"left":f=g=r.coordinate,d=e+ +!l*n,u=d-y*b,p=u-y*c,x=w;break;case"right":f=g=r.coordinate,d=e+ +l*n,u=d+y*b,p=u+y*c,x=w;break;default:u=d=r.coordinate,g=t+ +l*a,f=g+y*b,x=f+y*c,p=w;break}return{line:{x1:u,y1:f,x2:d,y2:g},tick:{x:p,y:x}}}function nhe(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ahe(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function she(r){var{option:e,tickProps:t,value:n}=r,a,s=Mr(t.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))a=S.cloneElement(e,rs(rs({},t),{},{className:s}));else if(typeof e=="function")a=e(rs(rs({},t),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(i=Mr(i,e?.className)),a=S.createElement(f1,Af({},t,{className:i}),n)}return a}function ihe(r){var{ticks:e=[],tick:t,tickLine:n,stroke:a,tickFormatter:s,unit:i,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:g,width:p,height:x,tickSize:y,tickMargin:b,fontSize:w,letterSpacing:N,getTicksConfig:j,events:k}=r,T=c4(rs(rs({},j),{},{ticks:e}),w,N),I=nhe(u,d),M=ahe(u,d),L=Hd(j),P=os(t,!1),q=rs(rs({},L),{},{fill:"none"},os(n,!1)),F=T.map((R,H)=>{var{line:z,tick:X}=rhe(R,f,g,p,x,u,y,d,b),$=rs(rs(rs(rs({textAnchor:I,verticalAnchor:M},L),{},{stroke:"none",fill:a},P),X),{},{index:H,payload:R,visibleTicksCount:T.length,tickFormatter:s,padding:l},c);return S.createElement(no,Af({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},ty(k,R,H)),n&&S.createElement("line",Af({},q,z,{className:Mr("recharts-cartesian-axis-tick-line",nf(n,"className"))})),t&&S.createElement(she,{option:t,tickProps:$,value:"".concat(typeof s=="function"?s(R.value,H):R.value).concat(i||"")}))});return F.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var ohe=S.forwardRef((r,e)=>{var{axisLine:t,width:n,height:a,className:s,hide:i,ticks:l}=r,c=eS(r,Vde),[u,d]=S.useState(""),[f,g]=S.useState(""),p=S.useRef([]);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return Gde({ticks:p.current,label:(y=r.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var x=S.useCallback(y=>{if(y){var b=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(b);var w=b[0];if(w){var N=window.getComputedStyle(w),j=N.fontSize,k=N.letterSpacing;(j!==u||k!==f)&&(d(j),g(k))}}},[u,f]);return i||n!=null&&n<=0||a!=null&&a<=0?null:S.createElement(no,{className:Mr("recharts-cartesian-axis",s),ref:x},S.createElement(the,{x:r.x,y:r.y,width:n,height:a,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:Hd(r)}),S.createElement(ihe,{ticks:l,tick:r.tick,tickLine:r.tickLine,stroke:r.stroke,tickFormatter:r.tickFormatter,unit:r.unit,padding:r.padding,tickTextProps:r.tickTextProps,orientation:r.orientation,mirror:r.mirror,x:r.x,y:r.y,width:r.width,height:r.height,tickSize:r.tickSize,tickMargin:r.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:r,events:c}),S.createElement(fce,{x:r.x,y:r.y,width:r.width,height:r.height},S.createElement(Bce,{label:r.label}),r.children))}),lhe=S.memo(ohe,(r,e)=>{var{viewBox:t}=r,n=eS(r,Wde),{viewBox:a}=e,s=eS(e,Yde);return mg(t,a)&&mg(n,s)}),u4=S.forwardRef((r,e)=>{var t=Ei(r,A4);return S.createElement(lhe,Af({},t,{ref:e}))});u4.displayName="CartesianAxis";var che=["x1","y1","x2","y2","key"],Ahe=["offset"],uhe=["xAxisId","yAxisId"],dhe=["xAxisId","yAxisId"];function tI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function oi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(t),!0).forEach(function(n){hhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hhe(r,e,t){return(e=fhe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fhe(r){var e=mhe(r,"string");return typeof e=="symbol"?e:e+""}function mhe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Qh.apply(null,arguments)}function Wb(r,e){if(r==null)return{};var t,n,a=ghe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function ghe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var phe=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:a,width:s,height:i,ry:l}=r;return S.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function $8(r,e){var t;if(S.isValidElement(r))t=S.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var{x1:n,y1:a,x2:s,y2:i,key:l}=e,c=Wb(e,che),u=Hd(c),{offset:d}=u,f=Wb(u,Ahe);t=S.createElement("line",Qh({},f,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return t}function yhe(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=Wb(r,uhe),c=a.map((u,d)=>{var f=oi(oi({},l),{},{x1:e,y1:u,x2:e+t,y2:u,key:"line-".concat(d),index:d});return $8(n,f)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function xhe(r){var{y:e,height:t,vertical:n=!0,verticalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=Wb(r,dhe),c=a.map((u,d)=>{var f=oi(oi({},l),{},{x1:u,y1:e,x2:u,y2:e+t,key:"line-".concat(d),index:d});return $8(n,f)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vhe(r){var{horizontalFill:e,fillOpacity:t,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=r;if(!c||!e||!e.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,g)=>f-g);a!==u[0]&&u.unshift(0);var d=u.map((f,g)=>{var p=!u[g+1],x=p?a+i-f:u[g+1]-f;if(x<=0)return null;var y=g%e.length;return S.createElement("rect",{key:"react-".concat(g),y:f,x:n,height:x,width:s,stroke:"none",fill:e[y],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function bhe(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=r;if(!e||!t||!t.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,g)=>f-g);a!==u[0]&&u.unshift(0);var d=u.map((f,g)=>{var p=!u[g+1],x=p?a+i-f:u[g+1]-f;if(x<=0)return null;var y=g%t.length;return S.createElement("rect",{key:"react-".concat(g),x:f,y:s,width:x,height:l,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var whe=(r,e)=>{var{xAxis:t,width:n,height:a,offset:s}=r;return HU(c4(oi(oi(oi({},A4),t),{},{ticks:KU(t),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},Che=(r,e)=>{var{yAxis:t,width:n,height:a,offset:s}=r;return HU(c4(oi(oi(oi({},A4),t),{},{ticks:KU(t),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},Bhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function G8(r){var e=Qj(),t=Hj(),n=GU(),a=oi(oi({},Ei(r,Bhe)),{},{x:Ft(r.x)?r.x:n.left,y:Ft(r.y)?r.y:n.top,width:Ft(r.width)?r.width:n.width,height:Ft(r.height)?r.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:g,verticalValues:p}=a,x=jl(),y=St(P=>eO(P,"xAxis",s,x)),b=St(P=>eO(P,"yAxis",i,x));if(!Ft(u)||u<=0||!Ft(d)||d<=0||!Ft(l)||l!==+l||!Ft(c)||c!==+c)return null;var w=a.verticalCoordinatesGenerator||whe,N=a.horizontalCoordinatesGenerator||Che,{horizontalPoints:j,verticalPoints:k}=a;if((!j||!j.length)&&typeof N=="function"){var T=g&&g.length,I=N({yAxis:b?oi(oi({},b),{},{ticks:T?g:b.ticks}):void 0,width:e,height:t,offset:n},T?!0:f);l0(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(j=I)}if((!k||!k.length)&&typeof w=="function"){var M=p&&p.length,L=w({xAxis:y?oi(oi({},y),{},{ticks:M?p:y.ticks}):void 0,width:e,height:t,offset:n},M?!0:f);l0(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(k=L)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(phe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),S.createElement(vhe,Qh({},a,{horizontalPoints:j})),S.createElement(bhe,Qh({},a,{verticalPoints:k})),S.createElement(yhe,Qh({},a,{offset:n,horizontalPoints:j,xAxis:y,yAxis:b})),S.createElement(xhe,Qh({},a,{offset:n,verticalPoints:k,xAxis:y,yAxis:b})))}G8.displayName="CartesianGrid";var Nhe=["dangerouslySetInnerHTML","ticks"],She=["id"],jhe=["domain"],Ehe=["domain"];function tS(){return tS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tS.apply(null,arguments)}function Yb(r,e){if(r==null)return{};var t,n,a=_he(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function _he(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function khe(r){var e=la();return S.useEffect(()=>(e(oue(r)),()=>{e(lue(r))}),[r,e]),null}var The=r=>{var{xAxisId:e,className:t}=r,n=St(Uj),a=jl(),s="xAxis",i=St(b=>Lg(b,s,e,a)),l=St(b=>UQ(b,s,e,a)),c=St(b=>IQ(b,e)),u=St(b=>Rie(b,e)),d=St(b=>dQ(b,e));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:g}=r,p=Yb(r,Nhe),{id:x}=d,y=Yb(d,She);return S.createElement(u4,tS({},p,y,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:Mr("recharts-".concat(s," ").concat(s),t),viewBox:n,ticks:l}))},Fhe={allowDataOverflow:So.allowDataOverflow,allowDecimals:So.allowDecimals,allowDuplicatedCategory:So.allowDuplicatedCategory,height:So.height,hide:!1,mirror:So.mirror,orientation:So.orientation,padding:So.padding,reversed:So.reversed,scale:So.scale,tickCount:So.tickCount,type:So.type,xAxisId:0},Phe=r=>{var e,t,n,a,s,i=Ei(r,Fhe);return S.createElement(S.Fragment,null,S.createElement(khe,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.xAxisId,scale:i.scale,type:i.type,padding:i.padding,allowDataOverflow:i.allowDataOverflow,domain:i.domain,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,height:i.height,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),S.createElement(The,i))},Ohe=(r,e)=>{var{domain:t}=r,n=Yb(r,jhe),{domain:a}=e,s=Yb(e,Ehe);return mg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:mg({domain:t},{domain:a}):!1},V8=S.memo(Phe,Ohe);V8.displayName="XAxis";var Ihe=["dangerouslySetInnerHTML","ticks"],Lhe=["id"],Dhe=["domain"],Mhe=["domain"];function rS(){return rS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rS.apply(null,arguments)}function Xb(r,e){if(r==null)return{};var t,n,a=Uhe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Uhe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Rhe(r){var e=la();return S.useEffect(()=>(e(cue(r)),()=>{e(Aue(r))}),[r,e]),null}var Qhe=r=>{var{yAxisId:e,className:t,width:n,label:a}=r,s=S.useRef(null),i=S.useRef(null),l=St(Uj),c=jl(),u=la(),d="yAxis",f=St(T=>Lg(T,d,e,c)),g=St(T=>LQ(T,e)),p=St(T=>Hie(T,e)),x=St(T=>UQ(T,d,e,c)),y=St(T=>hQ(T,e));if(S.useLayoutEffect(()=>{if(!(n!=="auto"||!g||JE(a)||S.isValidElement(a)||y==null)){var T=s.current;if(T){var I=T.getCalculatedWidth();Math.round(g.width)!==Math.round(I)&&u(uue({id:e,width:I}))}}},[x,g,u,a,e,n,y]),g==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=r,N=Xb(r,Ihe),{id:j}=y,k=Xb(y,Lhe);return S.createElement(u4,rS({},N,k,{ref:s,labelRef:i,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:Mr("recharts-".concat(d," ").concat(d),t),viewBox:l,ticks:x}))},Hhe={allowDataOverflow:jo.allowDataOverflow,allowDecimals:jo.allowDecimals,allowDuplicatedCategory:jo.allowDuplicatedCategory,hide:!1,mirror:jo.mirror,orientation:jo.orientation,padding:jo.padding,reversed:jo.reversed,scale:jo.scale,tickCount:jo.tickCount,type:jo.type,width:jo.width,yAxisId:0},Khe=r=>{var e,t,n,a,s,i=Ei(r,Hhe);return S.createElement(S.Fragment,null,S.createElement(Rhe,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.yAxisId,scale:i.scale,type:i.type,domain:i.domain,allowDataOverflow:i.allowDataOverflow,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,padding:i.padding,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,width:i.width,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),S.createElement(Qhe,i))},zhe=(r,e)=>{var{domain:t}=r,n=Xb(r,Dhe),{domain:a}=e,s=Xb(e,Mhe);return mg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:mg({domain:t},{domain:a}):!1},W8=S.memo(Khe,zhe);W8.displayName="YAxis";var zB={exports:{}},qB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function qhe(){if(rI)return qB;rI=1;var r=vg();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,i=r.useMemo,l=r.useDebugValue;return qB.useSyncExternalStoreWithSelector=function(c,u,d,f,g){var p=a(null);if(p.current===null){var x={hasValue:!1,value:null};p.current=x}else x=p.current;p=i(function(){function b(T){if(!w){if(w=!0,N=T,T=f(T),g!==void 0&&x.hasValue){var I=x.value;if(g(I,T))return j=I}return j=T}if(I=j,t(N,T))return I;var M=f(T);return g!==void 0&&g(I,M)?(N=T,I):(N=T,j=M)}var w=!1,N,j,k=d===void 0?null:d;return[function(){return b(u())},k===null?void 0:function(){return b(k())}]},[u,d,f,g]);var y=n(c,p[0],p[1]);return s(function(){x.hasValue=!0,x.value=y},[y]),l(y),y},qB}var nI;function $he(){return nI||(nI=1,zB.exports=qhe()),zB.exports}$he();function Ghe(r){r()}function Vhe(){let r=null,e=null;return{clear(){r=null,e=null},notify(){Ghe(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!n||r===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var aI={notify(){},get:()=>[]};function Whe(r,e){let t,n=aI,a=0,s=!1;function i(y){d();const b=n.subscribe(y);let w=!1;return()=>{w||(w=!0,b(),f())}}function l(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return s}function d(){a++,t||(t=r.subscribe(c),n=Vhe())}function f(){a--,t&&a===0&&(t(),t=void 0,n.clear(),n=aI)}function g(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const x={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:g,tryUnsubscribe:p,getListeners:()=>n};return x}var Yhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xhe=Yhe(),Jhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Zhe=Jhe(),efe=()=>Xhe||Zhe?S.useLayoutEffect:S.useEffect,tfe=efe(),rfe=Symbol.for("react-redux-context"),nfe=typeof globalThis<"u"?globalThis:{};function afe(){if(!S.createContext)return{};const r=nfe[rfe]??=new Map;let e=r.get(S.createContext);return e||(e=S.createContext(null),r.set(S.createContext,e)),e}var sfe=afe();function ife(r){const{children:e,context:t,serverState:n,store:a}=r,s=S.useMemo(()=>{const c=Whe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=S.useMemo(()=>a.getState(),[a]);tfe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=t||sfe;return S.createElement(l.Provider,{value:s},e)}var ofe=ife,lfe=(r,e)=>e,d4=Le([lfe,qr,cQ,As,e8,Eu,$oe,ls],Xoe),h4=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},Y8=bl("mouseClick"),X8=ny();X8.startListening({actionCreator:Y8,effect:(r,e)=>{var t=r.payload,n=d4(e.getState(),h4(t));n?.activeIndex!=null&&e.dispatch(toe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nS=bl("mouseMove"),J8=ny();J8.startListening({actionCreator:nS,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=KE(n,n.tooltip.settings.shared),s=d4(n,h4(t));a==="axis"&&(s?.activeIndex!=null?e.dispatch(GQ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch($Q()))}});var sI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Z8=Uo({name:"rootProps",initialState:sI,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:sI.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className}}}),cfe=Z8.reducer,{updateOptions:Afe}=Z8.actions,eH=Uo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:ufe}=eH.actions,dfe=eH.reducer,tH=bl("keyDown"),rH=bl("focus"),f4=ny();f4.startListening({actionCreator:tH,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip,s=r.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number(zE(a,Mg(t))),l=Eu(t);if(s==="Enter"){var c=Rb(t,"axis","hover",String(a.index));e.dispatch(WN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=$ie(t),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,g=i+f*d;if(!(l==null||g>=l.length||g<0)){var p=Rb(t,"axis","hover",String(g));e.dispatch(WN({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});f4.startListening({actionCreator:rH,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip;if(!a.active&&a.index==null){var s="0",i=Rb(t,"axis","hover",String(s));e.dispatch(WN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Al=bl("externalEvent"),nH=ny();nH.startListening({actionCreator:Al,effect:(r,e)=>{if(r.payload.handler!=null){var t=e.getState(),n={activeCoordinate:Doe(t),activeDataKey:a8(t),activeIndex:lf(t),activeLabel:n8(t),activeTooltipIndex:lf(t),isTooltipActive:Moe(t)};r.payload.handler(n,r.payload.reactEvent)}}});var hfe=Le([Dg],r=>r.tooltipItemPayloads),ffe=Le([hfe,fy,(r,e,t)=>e,(r,e,t)=>t],(r,e,t,n)=>{var a=r.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=e(s,t);return i}}}),aH=bl("touchMove"),sH=ny();sH.startListening({actionCreator:aH,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=KE(n,n.tooltip.settings.shared);if(a==="axis"){var s=d4(n,h4({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));s?.activeIndex!=null&&e.dispatch(GQ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=t.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(qU),d=(i=c.getAttribute($U))!==null&&i!==void 0?i:void 0,f=ffe(e.getState(),u,d);e.dispatch(qQ({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var mfe=pU({brush:Ede,cartesianAxis:due,chartData:hle,errorBars:Nue,graphicalItems:kAe,layout:Gee,legend:Dte,options:lle,polarAxis:$ce,polarOptions:dfe,referenceElements:Ide,rootProps:cfe,tooltip:roe}),gfe=function(e){return yee({reducer:mfe,preloadedState:e,middleware:t=>t({serializableCheck:!1}).concat([X8.middleware,J8.middleware,f4.middleware,nH.middleware,sH.middleware]),devTools:pf.devToolsEnabled})};function iH(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,a=jl(),s=S.useRef(null);if(a)return t;s.current==null&&(s.current=gfe(e));var i=Fj;return S.createElement(ofe,{context:i,store:s.current},t)}function oH(r){var{layout:e,width:t,height:n,margin:a}=r,s=la(),i=jl();return S.useEffect(()=>{i||(s(zee(e)),s(qee({width:t,height:n})),s(Kee(a)))},[s,i,e,t,n,a]),null}function lH(r){var e=la();return S.useEffect(()=>{e(Afe(r))},[e,r]),null}var pfe=["children"];function yfe(r,e){if(r==null)return{};var t,n,a=xfe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function xfe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Jb(){return Jb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Jb.apply(null,arguments)}var vfe={width:"100%",height:"100%"},bfe=S.forwardRef((r,e)=>{var t=Qj(),n=Hj(),a=XU();if(!lg(t)||!lg(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=r,u,d;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0,S.createElement(Cj,Jb({},i,{title:l,desc:c,role:d,tabIndex:u,width:t,height:n,style:vfe,ref:e}),s)}),wfe=r=>{var{children:e}=r,t=St(Ww);if(!t)return null;var{width:n,height:a,y:s,x:i}=t;return S.createElement(Cj,{width:n,height:a,x:i,y:s},e)},iI=S.forwardRef((r,e)=>{var{children:t}=r,n=yfe(r,pfe),a=jl();return a?S.createElement(wfe,null,t):S.createElement(bfe,Jb({ref:e},n),t)});function Cfe(){var r=la(),[e,t]=S.useState(null),n=St(wte);return S.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Do(s)&&s!==n&&r($ee(s))}},[e,r,n]),t}function oI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Bfe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(t),!0).forEach(function(n){Nfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Nfe(r,e,t){return(e=Sfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Sfe(r){var e=jfe(r,"string");return typeof e=="symbol"?e:e+""}function jfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Efe=S.forwardRef((r,e)=>{var{children:t,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:g,onTouchEnd:p,onTouchMove:x,onTouchStart:y,style:b,width:w}=r,N=la(),[j,k]=S.useState(null),[T,I]=S.useState(null);wle();var M=Cfe(),L=S.useCallback(U=>{M(U),typeof e=="function"&&e(U),k(U),I(U)},[M,e,k,I]),P=S.useCallback(U=>{N(Y8(U)),N(Al({handler:s,reactEvent:U}))},[N,s]),q=S.useCallback(U=>{N(nS(U)),N(Al({handler:u,reactEvent:U}))},[N,u]),F=S.useCallback(U=>{N($Q()),N(Al({handler:d,reactEvent:U}))},[N,d]),R=S.useCallback(U=>{N(nS(U)),N(Al({handler:f,reactEvent:U}))},[N,f]),H=S.useCallback(()=>{N(rH())},[N]),z=S.useCallback(U=>{N(tH(U.key))},[N]),X=S.useCallback(U=>{N(Al({handler:i,reactEvent:U}))},[N,i]),$=S.useCallback(U=>{N(Al({handler:l,reactEvent:U}))},[N,l]),te=S.useCallback(U=>{N(Al({handler:c,reactEvent:U}))},[N,c]),ee=S.useCallback(U=>{N(Al({handler:g,reactEvent:U}))},[N,g]),fe=S.useCallback(U=>{N(Al({handler:y,reactEvent:U}))},[N,y]),_e=S.useCallback(U=>{N(aH(U)),N(Al({handler:x,reactEvent:U}))},[N,x]),re=S.useCallback(U=>{N(Al({handler:p,reactEvent:U}))},[N,p]);return S.createElement(A8.Provider,{value:j},S.createElement(MM.Provider,{value:T},S.createElement("div",{className:Mr("recharts-wrapper",n),style:Bfe({position:"relative",cursor:"default",width:w,height:a},b),onClick:P,onContextMenu:X,onDoubleClick:$,onFocus:H,onKeyDown:z,onMouseDown:te,onMouseEnter:q,onMouseLeave:F,onMouseMove:R,onMouseUp:ee,onTouchEnd:re,onTouchMove:_e,onTouchStart:fe,ref:L},t)))}),_fe=["children","className","width","height","style","compact","title","desc"];function kfe(r,e){if(r==null)return{};var t,n,a=Tfe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Tfe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var cH=S.forwardRef((r,e)=>{var{children:t,className:n,width:a,height:s,style:i,compact:l,title:c,desc:u}=r,d=kfe(r,_fe),f=Hd(d);return l?S.createElement(iI,{otherAttributes:f,title:c,desc:u},t):S.createElement(Efe,{className:n,style:i,width:a,height:s,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},S.createElement(iI,{otherAttributes:f,title:c,desc:u,ref:e},S.createElement(Dde,null,t)))}),Ffe=["width","height"];function aS(){return aS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},aS.apply(null,arguments)}function Pfe(r,e){if(r==null)return{};var t,n,a=Ofe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Ofe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Ife={top:5,right:5,bottom:5,left:5},Lfe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ife,reverseStackOrder:!1,syncMethod:"index"},Dfe=S.forwardRef(function(e,t){var n,a=Ei(e.categoricalChartProps,Lfe),{width:s,height:i}=a,l=Pfe(a,Ffe);if(!lg(s)||!lg(i))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:g}=e,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return S.createElement(iH,{preloadedState:{options:p},reduxStoreName:(n=g.id)!==null&&n!==void 0?n:c},S.createElement(H8,{chartData:g.data}),S.createElement(oH,{width:s,height:i,layout:a.layout,margin:a.margin}),S.createElement(lH,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(cH,aS({},l,{width:s,height:i,ref:t})))}),Mfe=["axis","item"],Ufe=S.forwardRef((r,e)=>S.createElement(Dfe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mfe,tooltipPayloadSearcher:u8,categoricalChartProps:r,ref:e}));function Rfe(r){var e=la();return S.useEffect(()=>{e(ufe(r))},[e,r]),null}var Qfe=["width","height","layout"];function sS(){return sS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},sS.apply(null,arguments)}function Hfe(r,e){if(r==null)return{};var t,n,a=Kfe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Kfe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var zfe={top:5,right:5,bottom:5,left:5},qfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:zfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},$fe=S.forwardRef(function(e,t){var n,a=Ei(e.categoricalChartProps,qfe),{width:s,height:i,layout:l}=a,c=Hfe(a,Qfe);if(!lg(s)||!lg(i))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:g}=e,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return S.createElement(iH,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},S.createElement(H8,{chartData:a.data}),S.createElement(oH,{width:s,height:i,layout:l,margin:a.margin}),S.createElement(lH,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(Rfe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),S.createElement(cH,sS({width:s,height:i},c,{ref:t})))}),Gfe=["item"],Vfe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},iS=S.forwardRef((r,e)=>{var t=Ei(r,Vfe);return S.createElement($fe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gfe,tooltipPayloadSearcher:u8,categoricalChartProps:t,ref:e})});const Wfe=()=>{const{projects:r,fetchProjects:e,fetchTimesheets:t}=Fa(),{fetchTeamMembers:n}=Sl(),{clients:a,fetchClients:s}=gc(),[i,l]=S.useState(""),[c,u]=S.useState("all"),[d,f]=S.useState(null),[g,p]=S.useState(!1),[x,y]=S.useState(null),[b,w]=S.useState(null),[N,j]=S.useState(!1);S.useEffect(()=>{e(),t(),n(),s()},[]);const k=S.useMemo(()=>{const P=r.length,q=r.filter(H=>H.status==="ongoing").length,F=r.filter(H=>H.status==="completed").length,R=r.filter(H=>H.status==="pre-lim").length;return{total:P,active:q,completed:F,preLim:R}},[r]),T=S.useMemo(()=>[{name:"Pre-lim",value:k.preLim,color:"#f59e0b"},{name:"Ongoing",value:k.active,color:"#3b82f6"},{name:"Completed",value:k.completed,color:"#10b981"}].filter(P=>P.value>0),[k]),I=S.useMemo(()=>{const P={CFD:0,FEA:0,"Vibration & Acoustic":0},q={"computational-fluid-dynamic":"CFD","Computational Fluid Dynamics":"CFD",CFD:"CFD","finite-element-analysis":"FEA","Finite Element Analysis":"FEA",FEA:"FEA","vibration-acoustic":"Vibration & Acoustic",Vibration:"Vibration & Acoustic","Vibration & Acoustic":"Vibration & Acoustic",Acoustic:"Vibration & Acoustic"};r.forEach(R=>{let H=R.categories||R.workTypes;if(typeof H=="string")try{H=JSON.parse(H)}catch{console.warn("Failed to parse categories:",H)}H&&Array.isArray(H)&&H.forEach(z=>{const X=q[z];X&&P[X]++})});const F={CFD:"#6366f1",FEA:"#ec4899","Vibration & Acoustic":"#f59e0b"};return Object.entries(P).map(([R,H])=>({name:R,value:H,color:F[R]})).filter(R=>R.value>0)},[r]),M=S.useMemo(()=>{let P=r;return c!=="all"&&(P=P.filter(q=>q.status===c)),i&&(P=P.filter(q=>q.projectCode.toLowerCase().includes(i.toLowerCase())||q.title.toLowerCase().includes(i.toLowerCase()))),P},[r,i,c]),L=P=>{f(P),p(!0)};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"space-y-6 px-6 pt-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.total}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"all statuses"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(iA,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.active}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"currently ongoing"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(V0,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.completed}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"finished projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center",children:o.jsx(Aj,{className:"w-6 h-6 text-emerald-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Preliminary"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.preLim}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"pending projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-lg flex items-center justify-center",children:o.jsx(as,{className:"w-6 h-6 text-amber-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Status Distribution"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by status"})]}),o.jsx(Hb,{width:"100%",height:280,children:o.jsxs(iS,{children:[o.jsx($b,{data:T,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:T.map((P,q)=>o.jsx(cf,{fill:P.color},`cell-${q}`))}),o.jsx(Qb,{formatter:P=>`${P} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:T.map((P,q)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),o.jsx("span",{className:"text-gray-700",children:P.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:P.value})]},q))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Field of Work"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by engineering field"})]}),I.length>0?o.jsxs(o.Fragment,{children:[o.jsx(Hb,{width:"100%",height:280,children:o.jsxs(iS,{children:[o.jsx($b,{data:I,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:I.map((P,q)=>o.jsx(cf,{fill:P.color},`field-${q}`))}),o.jsx(Qb,{formatter:P=>`${P} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:I.map((P,q)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:P.color}}),o.jsx("span",{className:"text-gray-700",children:P.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:P.value})]},q))})]}):o.jsx("div",{className:"flex items-center justify-center h-80 text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(v0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No field data available"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Browse and filter all projects"})]})})}),o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(AA,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by project code or title...",value:i,onChange:P=>l(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 bg-gray-100 rounded-lg p-1",children:["all","pre-lim","ongoing","completed"].map(P=>o.jsx("button",{onClick:()=>u(P),className:`px-3 py-1.5 text-xs font-medium rounded transition-colors ${c===P?"bg-white text-primary-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-900"}`,children:P==="all"?"All":P==="pre-lim"?"Preliminary":P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),M.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(iA,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map(P=>{const q=a.find(H=>H.id===P.clientId),F=P.leadEngineer?.name||P.manager?.name||"Unassigned",R=P.plannedHours>0?(P.actualHours||0)/P.plannedHours*100:0;return o.jsxs("tr",{onClick:()=>L(P),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:P.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:P.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:q?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:F}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min(R,100)}%`}})}),o.jsxs("span",{className:"font-semibold text-gray-900 w-8 text-right text-xs",children:[R.toFixed(0),"%"]})]})}),o.jsxs("td",{className:"px-6 py-4 text-right text-gray-700",children:[o.jsx("span",{className:"font-medium",children:P.actualHours}),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:P.plannedHours})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${P.status==="ongoing"?"bg-blue-50 text-blue-700":P.status==="completed"?"bg-emerald-50 text-emerald-700":P.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:P.status==="pre-lim"?"Preliminary":P.status.charAt(0).toUpperCase()+P.status.slice(1)})})]},P.id)})})]})})]})]}),g&&d&&o.jsx(yj,{project:d,isOpen:g,onClose:()=>{p(!1),f(null)}}),o.jsx(KX,{isOpen:N,onClose:()=>{j(!1),y(null),w(null)},teamMemberId:x,teamMemberName:b})]})},Yfe=()=>{const{fetchProjects:r}=Fa();return S.useEffect(()=>{r()},[r]),o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Project tracking and statistics"})]}),o.jsx(v0,{className:"w-12 h-12 text-blue-600 opacity-20"})]})}),o.jsx(Wfe,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Lr,{variant:"default",padding:"md",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2.5 bg-blue-100 rounded-lg",children:o.jsx(v0,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Real-time Insights"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track project progress and team capacity in real-time with interactive visualizations."})]})]})}),o.jsx(Lr,{variant:"default",padding:"md",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2.5 bg-emerald-100 rounded-lg",children:o.jsx(V0,{className:"w-6 h-6 text-emerald-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Performance Tracking"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Compare metrics across time periods to identify trends and opportunities for improvement."})]})]})}),o.jsx(Lr,{variant:"default",padding:"md",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2.5 bg-amber-100 rounded-lg",children:o.jsx(Fd,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Team Management"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor workload distribution and identify capacity bottlenecks across your team."})]})]})})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Quick Tips"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" View at-a-glance project statistics and KPI cards"}),o.jsx("li",{children:" Click on timeline items to expand and see detailed project information"}),o.jsx("li",{children:" Use Gantt chart zoom controls to switch between daily, weekly, and monthly views"}),o.jsx("li",{children:" Access Team Workload from the sidebar to view engineer assignments"}),o.jsx("li",{children:" Export any chart as PNG or PDF for reports and presentations"})]})]})]})})},m1=Nl((r,e)=>({companies:[],loading:!1,error:null,fetchCompanies:async()=>{r({loading:!0,error:null});try{const t=await Sr.api.get("/companies");r({companies:t.data,loading:!1})}catch(t){console.error("Error fetching companies:",t),r({error:t.response?.data?.error||"Failed to fetch companies",loading:!1}),nt.error("Failed to fetch companies")}},createCompany:async t=>{r({loading:!0,error:null});try{const n=await Sr.api.post("/companies",t);return r(a=>({companies:[...a.companies,{...n.data.company,contacts:[]}],loading:!1})),nt.success("Company created successfully"),n.data.company}catch(n){console.error("Error creating company:",n);const a=n.response?.data?.error||"Failed to create company";return r({error:a,loading:!1}),nt.error(a),null}},updateCompany:async(t,n)=>{r({loading:!0,error:null});try{const a=await Sr.api.put(`/companies/${t}`,n);r(s=>({companies:s.companies.map(i=>i.id===t?{...i,...a.data.company}:i),loading:!1})),nt.success("Company updated successfully")}catch(a){console.error("Error updating company:",a);const s=a.response?.data?.error||"Failed to update company";r({error:s,loading:!1}),nt.error(s)}},deleteCompany:async t=>{r({loading:!0,error:null});try{await Sr.api.delete(`/companies/${t}`),r(n=>({companies:n.companies.filter(a=>a.id!==t),loading:!1})),nt.success("Company deleted successfully")}catch(n){console.error("Error deleting company:",n);const a=n.response?.data?.error||"Failed to delete company";r({error:a,loading:!1}),nt.error(a)}},createContact:async t=>{r({loading:!0,error:null});try{const a=(await Sr.api.post("/contacts",t)).data.contact;return r(s=>({companies:s.companies.map(i=>i.id===a.company_id?{...i,contacts:[...i.contacts,a]}:i),loading:!1})),nt.success("Contact created successfully"),a}catch(n){console.error("Error creating contact:",n);const a=n.response?.data?.error||"Failed to create contact";return r({error:a,loading:!1}),nt.error(a),null}},updateContact:async(t,n)=>{r({loading:!0,error:null});try{const s=(await Sr.api.put(`/contacts/${t}`,n)).data.contact;r(i=>({companies:i.companies.map(l=>l.id===s.company_id?{...l,contacts:l.contacts.map(c=>c.id===t?s:c)}:l),loading:!1})),nt.success("Contact updated successfully")}catch(a){console.error("Error updating contact:",a);const s=a.response?.data?.error||"Failed to update contact";r({error:s,loading:!1}),nt.error(s)}},deleteContact:async t=>{r({loading:!0,error:null});try{await Sr.api.delete(`/contacts/${t}`),r(n=>({companies:n.companies.map(a=>({...a,contacts:a.contacts.filter(s=>s.id!==t)})),loading:!1})),nt.success("Contact deleted successfully")}catch(n){console.error("Error deleting contact:",n);const a=n.response?.data?.error||"Failed to delete contact";r({error:a,loading:!1}),nt.error(a)}}})),Xfe=r=>{const e=S.useRef(null),t=S.useRef(null);return S.useEffect(()=>{r?setTimeout(()=>{e.current?.focus()},0):t.current?.focus()},[r]),{firstInputRef:e,closeButtonRef:t}},Jfe=({isOpen:r,onClose:e})=>{const{clients:t,fetchClients:n,loading:a}=gc(),{companies:s,fetchCompanies:i,loading:l}=m1(),{teamMembers:c,fetchTeamMembers:u,loading:d}=Sl(),{addProject:f}=Fa(),{firstInputRef:g,closeButtonRef:p}=Xfe(r);S.useEffect(()=>{r&&(n(),i(),u())},[r,n,i,u]);const[x,y]=S.useState({projectCode:"",title:"",clientId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0]}),[b,w]=S.useState(!1),N=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],j=M=>{y(L=>{const P=L.workTypes.includes(M)?L.workTypes.filter(q=>q!==M):[...L.workTypes,M];return{...L,workTypes:P}})},k=c.filter(M=>M.role==="senior-engineer"||M.role==="principal-engineer"||M.role==="engineer"),T=c.filter(M=>M.role==="senior-engineer"||M.role==="principal-engineer"||M.role==="manager"||M.role==="admin"),I=async M=>{if(M.preventDefault(),!x.projectCode||!x.title||!x.clientId||!x.managerId){Ce.error("Please fill in all required fields (Project Code, Title, Client, and Project Manager)");return}if(!/^J\d{5}$/.test(x.projectCode)){Ce.error("Project Code must be in format J2XXXX (e.g., J25001)");return}w(!0);try{const P={...x,engineerId:x.leadEngineerId,plannedHours:parseFloat(x.plannedHours)||0},q=await f(P),F=TM.getState().addNotification,R=t.find(H=>H.id===x.clientId);if(F({type:"success",title:"Project Created",message:`${x.title} (${x.projectCode}) has been created successfully.`,category:"project-assignment"}),x.managerId){const H=c.find(z=>z.id===x.managerId);H&&F({type:"info",title:"Project Assignment",message:`${H.name} has been assigned as Project Manager for ${x.title}.`,category:"project-assignment"})}if(x.leadEngineerId){const H=c.find(z=>z.id===x.leadEngineerId);H&&F({type:"info",title:"Project Assignment",message:`${H.name} has been assigned as Lead Engineer for ${x.title}.`,category:"project-assignment"})}Ce.success("Project created successfully!"),y({projectCode:"",title:"",clientId:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0]}),e()}catch(P){er.error("Failed to create project:",P),Ce.error("Failed to create project: "+(P instanceof Error?P.message:String(P)))}finally{w(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Project"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:I,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectCode",type:"text",ref:g,value:x.projectCode,onChange:M=>y({...x,projectCode:M.target.value.toUpperCase()}),placeholder:"e.g., J25001",pattern:"^J\\d{5}$",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0,"aria-describedby":"projectCodeHint"}),o.jsx("p",{id:"projectCodeHint",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format: J followed by 5 digits (e.g., J25001)"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectTitle",type:"text",value:x.title,onChange:M=>y({...x,title:M.target.value}),placeholder:"e.g., Equipment Vibration Analysis",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0,autoComplete:"off"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(yl,{className:"w-4 h-4 inline mr-1"}),"Contact ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"contact",value:x.contactId||x.clientId,onChange:M=>y({...x,contactId:M.target.value,clientId:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white grouped-select",disabled:l,required:!0,children:[o.jsx("option",{value:"",children:l?"Loading contacts...":s.length===0?"No contacts available":"Select Contact"}),s.map(M=>o.jsx("optgroup",{label:M.name,children:M.contacts.map(L=>o.jsxs("option",{value:L.id,children:[L.name," ",L.position?`(${L.position})`:""]},L.id))},M.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"manager",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(yl,{className:"w-4 h-4 inline mr-1"}),"Project Manager ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"manager",value:x.managerId,onChange:M=>y({...x,managerId:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:d,required:!0,"aria-describedby":"managerHint",children:[o.jsx("option",{value:"",children:d?"Loading...":T.length===0?"No managers available":"Select Project Manager"}),T.map(M=>o.jsxs("option",{value:M.id,children:[M.name," - ",M.role]},M.id))]}),o.jsx("p",{id:"managerHint",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Only Senior Engineers and above can be Project Managers"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"leadEngineer",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(yl,{className:"w-4 h-4 inline mr-1"}),"Lead Engineer"]}),o.jsxs("select",{id:"leadEngineer",value:x.leadEngineerId,onChange:M=>y({...x,leadEngineerId:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:d,children:[o.jsx("option",{value:"",children:d?"Loading...":k.length===0?"No engineers available":"Select Lead Engineer"}),k.map(M=>o.jsxs("option",{value:M.id,children:[M.name," - ",M.position]},M.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Field of Work"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(M=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:x.workTypes.includes(M),onChange:()=>j(M),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 bg-white dark:bg-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:M})]},M))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"plannedHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(as,{className:"w-4 h-4 inline mr-1"}),"Planned Hours"]}),o.jsx("input",{id:"plannedHours",type:"number",value:x.plannedHours,onChange:M=>y({...x,plannedHours:M.target.value}),placeholder:"e.g., 120",min:"0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(za,{className:"w-4 h-4 inline mr-1"}),"Description"]}),o.jsx("textarea",{id:"description",value:x.description,onChange:M=>y({...x,description:M.target.value}),placeholder:"Describe the project scope and objectives...",rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:e,disabled:b,ref:p,children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",disabled:b,children:b?"Creating...":"Create Project"})]})]})]})})]}):null},Zfe=({isOpen:r,onClose:e,project:t,onSave:n})=>{const[a,s]=S.useState({}),{teamMembers:i,fetchTeamMembers:l}=Sl();if(S.useEffect(()=>{l()},[l]),S.useEffect(()=>{t&&s({...t})},[t]),!r||!t)return null;const c=d=>{const f=new Date().toISOString(),g={status:d};d==="pre-lim"&&!a.inquiryDate&&(g.inquiryDate=f),s({...a,...g})},u=()=>{n(a),Ce.success("Project updated successfully!"),e()};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-white flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Project"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.projectCode," - ",t.title]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Fd,{className:"w-5 h-5 text-indigo-600"}),"Team Assignment"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Engineer"}),o.jsxs("select",{value:a.engineerId||a.leadEngineerId||"",onChange:d=>{const f=i.find(g=>g.id===d.target.value);s({...a,engineerId:d.target.value,leadEngineerId:d.target.value,engineerName:f?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Engineer"}),i.filter(d=>d.role==="engineer"||d.role==="senior-engineer"||d.role==="principal-engineer").map(d=>o.jsxs("option",{value:d.id,children:[d.name," - ",d.role.replace("-"," ").toUpperCase()]},d.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Manager"}),o.jsxs("select",{value:a.managerId||"",onChange:d=>{const f=i.find(g=>g.id===d.target.value);s({...a,managerId:d.target.value,managerName:f?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Project Manager"}),i.filter(d=>d.role==="senior-engineer"||d.role==="principal-engineer"||d.role==="manager"||d.role==="managing-director").map(d=>o.jsxs("option",{value:d.id,children:[d.name," - ",d.role.replace("-"," ").toUpperCase()]},d.id))]})]})]}),(a.engineerName||a.managerName)&&o.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-indigo-200",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Current Team:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.engineerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[" ",a.engineerName]}),a.managerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:[" ",a.managerName]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Status ",a.status==="pre-lim"&&o.jsx("span",{className:"text-blue-600 text-xs",children:"(Auto-updates on PO receipt)"})]}),o.jsxs("select",{value:a.status,onChange:d=>c(d.target.value),disabled:a.status==="pre-lim",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"pre-lim",children:"Preliminary"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ns,{className:"w-4 h-4 inline mr-1"}),"Inquiry Date"]}),o.jsx("input",{type:"date",value:a.inquiryDate?new Date(a.inquiryDate).toISOString().split("T")[0]:"",onChange:d=>s({...a,inquiryDate:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours"}),o.jsx("input",{type:"number",value:a.plannedHours||0,onChange:d=>s({...a,plannedHours:parseInt(d.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),o.jsx("textarea",{value:a.remarks||"",onChange:d=>s({...a,remarks:d.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Add any notes or remarks about this project..."})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("button",{onClick:e,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{onClick:u,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all font-medium flex items-center gap-2",children:[o.jsx(Aj,{className:"w-4 h-4"}),"Save Changes"]})]})]})})]})},eme={danger:{icon:Ss,iconBg:"bg-red-100",iconColor:"text-red-600",headerBg:"from-red-50 to-red-100",confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:W0,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",headerBg:"from-yellow-50 to-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:hj,iconBg:"bg-blue-100",iconColor:"text-blue-600",headerBg:"from-blue-50 to-blue-100",confirmButton:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}},bf=({isOpen:r,onClose:e,onConfirm:t,title:n,message:a,variant:s="info",confirmText:i="Confirm",cancelText:l="Cancel",isLoading:c=!1})=>{const u=eme[s],d=u.icon,f=()=>{c||t()},g=p=>{p.key==="Escape"&&!c&&e(),p.key==="Enter"&&!c&&f()};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:p=>{p.target===p.currentTarget&&!c&&e()},onKeyDown:g,role:"presentation",children:o.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in",children:[o.jsxs("div",{className:Dr("flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r",u.headerBg),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:Dr("w-10 h-10 rounded-lg flex items-center justify-center",u.iconBg),children:o.jsx(d,{className:Dr("w-6 h-6",u.iconColor)})}),o.jsx("h2",{id:"confirm-dialog-title",className:"text-xl font-bold text-gray-900",children:n})]}),!c&&o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Close dialog",children:o.jsx(br,{className:"w-5 h-5 text-gray-600"})})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{id:"confirm-dialog-description",className:"text-gray-700 leading-relaxed",children:a})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:e,disabled:c,className:"px-4 py-2.5 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:l}),o.jsx("button",{onClick:f,disabled:c,className:Dr("px-4 py-2.5 text-white rounded-lg transition-all font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] focus:outline-none focus:ring-2 focus:ring-offset-2",u.confirmButton,c&&"cursor-wait"),children:c?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):i})]})]})}):null};function m4(){const{user:r}=Qd();return S.useMemo(()=>{if(!r)return{canAddProject:!1,canAddResearch:!1,canAddBusinessContact:!1,canAddTimesheet:!1,canExportTimesheet:!1,canAddTeamMember:!1,canEditTeamMember:!1,canDeleteTeamMember:!1,canAddOrRemoveInventory:!1,canAddMaintenanceDates:!1,canAddOrRemovePC:!1,canCheckoutEquipment:!1,canAssignPC:!1,canAccessFinance:!1,canUploadPO:!1,canApproveInvoices:!1,canViewManHourCost:!1,canViewAnalytics:!1,canManageProjectRates:!1,isAuthenticated:!1,roleInfo:null,roles:[],highestRole:"engineer"};const t=r.roles||[r.role],n=t.includes("admin")?"admin":t.reduce((s,i)=>{const l={engineer:1,"senior-engineer":2,"principal-engineer":2.5,manager:3,"managing-director":4,admin:5};return(l[i]||0)>(l[s]||0)?i:s},t[0]);return{...jw(t),isAuthenticated:!0,roleInfo:Ew(n),roles:t,highestRole:n}},[r])}const tme=()=>{const{projects:r,loading:e,fetchProjects:t}=Fa(),{clients:n,fetchClients:a}=gc(),{teamMembers:s,fetchTeamMembers:i}=Sl(),{canAddProject:l}=m4(),[c,u]=S.useState(""),[d,f]=S.useState("all"),[g,p]=S.useState(!1),[x,y]=S.useState(!1),[b,w]=S.useState(!1),[N,j]=S.useState(null),[k,T]=S.useState({isOpen:!1});S.useEffect(()=>{t(),a(),i()},[]);const I=S.useCallback(()=>{if(!l){Ce.error(oA("add project","senior-engineer"));return}p(!0)},[l]),M=S.useCallback(z=>{const X=r.find($=>$.id===z);X&&(j(X),w(!0))},[r]),L=S.useCallback(z=>{if(!l){Ce.error(oA("edit project","senior-engineer"));return}const X=r.find($=>$.id===z);X&&(j(X),y(!0))},[l,r]),P=async z=>{if(N)try{z.status&&z.status!==N.status&&await Fa.getState().updateProject(N.id,{status:z.status,inquiryDate:z.inquiryDate,poReceivedDate:z.poReceivedDate,completionDate:z.completionDate});const X={};z.title&&(X.title=z.title),z.plannedHours!==void 0&&(X.plannedHours=z.plannedHours),z.remarks!==void 0&&(X.remarks=z.remarks),z.categories!==void 0&&(X.categories=z.categories),z.leadEngineerId&&(X.leadEngineerId=z.leadEngineerId),z.managerId&&(X.managerId=z.managerId),Object.keys(X).length>0&&await Fa.getState().updateProject(N.id,X),Ce.success(`Project ${N.projectCode} updated successfully!`),t(),y(!1),j(null)}catch(X){er.error("Failed to update project:",X),Ce.error(X?.message||"Failed to update project")}},q=S.useCallback((z,X)=>{if(!l){Ce.error(oA("delete project","senior-engineer"));return}T({isOpen:!0,projectId:z,projectCode:X})},[l]),F=S.useCallback(async()=>{if(!(!k.projectId||!k.projectCode))try{await Fa.getState().deleteProject(k.projectId),Ce.success(`Project ${k.projectCode} deleted successfully`),t(),T({isOpen:!1})}catch(z){er.error("Failed to delete project:",z),Ce.error("Failed to delete project: "+(z instanceof Error?z.message:String(z)))}},[k.projectId,k.projectCode,t]),R=S.useMemo(()=>r.filter(z=>{const X=c===""||z.projectCode.toLowerCase().includes(c.toLowerCase())||z.title.toLowerCase().includes(c.toLowerCase()),$=d==="all"||z.status===d;return X&&$}),[r,c,d]),H=S.useMemo(()=>({total:r.length,preLim:r.filter(z=>z.status==="pre-lim").length,ongoing:r.filter(z=>z.status==="ongoing").length,completed:r.filter(z=>z.status==="completed").length}),[r]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your engineering projects and track progress"})]}),l&&o.jsxs("button",{onClick:I,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(AA,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:c,onChange:z=>u(z.target.value),placeholder:"Search by project code or title...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(Bw,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:d,onChange:z=>f(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Preliminary"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("button",{onClick:()=>f("all"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="all"?"ring-2 ring-primary-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Projects"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:H.total})]}),o.jsxs("button",{onClick:()=>f("pre-lim"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="pre-lim"?"ring-2 ring-yellow-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Preliminary"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:H.preLim})]}),o.jsxs("button",{onClick:()=>f("ongoing"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="ongoing"?"ring-2 ring-green-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Ongoing"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:H.ongoing})]}),o.jsxs("button",{onClick:()=>f("completed"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${d==="completed"?"ring-2 ring-gray-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:H.completed})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[d==="all"&&`All Projects (${R.length})`,d==="pre-lim"&&`Preliminary Projects (${R.length})`,d==="ongoing"&&`Ongoing Projects (${R.length})`,d==="completed"&&`Completed Projects (${R.length})`]})}),e?o.jsx("div",{className:"px-6 py-8",children:o.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"grid grid-cols-7 gap-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded col-span-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})},z))})}):R.length===0?o.jsxs("div",{className:"px-6 py-16 text-center",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx(iA,{className:"w-12 h-12 mx-auto opacity-50"})}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"No projects found"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c||d!=="all"?"Try adjusting your search or filters":"Get started by creating your first project"}),l&&!c&&d==="all"&&o.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"Create First Project"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(z=>{const X=n.find($=>$.id===z.clientId);return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary-600",children:z.projectCode}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:z.title,children:z.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:z.engineerName||z.leadEngineer?.name||s.find($=>$.userId===z.leadEngineerId)?.name||s.find($=>$.userId===z.engineerId)?.name||"Unassigned"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.status==="pre-lim"?"bg-blue-100 text-blue-800":z.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:z.status==="pre-lim"?"Preliminary":z.status==="ongoing"?"Ongoing":"Completed"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:[o.jsxs("div",{className:"font-medium",children:[z.actualHours," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",z.plannedHours," planned"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>M(z.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View Details","aria-label":`View details for project ${z.projectCode}`,children:o.jsx(sA,{className:"w-4 h-4"})}),l&&o.jsx("button",{onClick:()=>L(z.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit Project","aria-label":`Edit project ${z.projectCode}`,children:o.jsx(VD,{className:"w-4 h-4"})}),l&&o.jsx("button",{onClick:()=>q(z.id,z.projectCode),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Project","aria-label":`Delete project ${z.projectCode}`,children:o.jsx(ui,{className:"w-4 h-4"})})]})})]},z.id)})})]})})]}),o.jsx(Jfe,{isOpen:g,onClose:()=>{p(!1),t()}}),o.jsx(Zfe,{isOpen:x,onClose:()=>{y(!1),j(null)},project:N,onSave:P}),o.jsx(yj,{isOpen:b,onClose:()=>{w(!1),j(null)},project:N}),o.jsx(bf,{isOpen:k.isOpen,onClose:()=>T({isOpen:!1}),onConfirm:F,title:"Delete Project",message:`Are you sure you want to delete Project ${k.projectCode}? This action cannot be undone.`,variant:"danger",confirmText:"Delete Project",cancelText:"Cancel"})]})})},rme={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl",full:"max-w-[95vw] h-[90vh]"},nme={gradient:"bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",white:"bg-white dark:bg-gray-800",dark:"bg-gray-900 text-white dark:bg-gray-950"},g1=({isOpen:r,onClose:e,title:t,description:n,children:a,size:s="lg",icon:i,footer:l,showCloseButton:c=!0,isLoading:u=!1,preventBackdropClose:d=!1,hasUnsavedChanges:f=!1,className:g,headerVariant:p="gradient",loadingText:x="Processing..."})=>{const y=S.useRef(null),b=S.useRef(null),[w,N]=S.useState(!1),j=`modal-title-${$s.useId()}`,k=n?`modal-description-${$s.useId()}`:void 0,T=S.useCallback(()=>{u||(f?N(!0):e())},[u,f,e]),I=S.useCallback(q=>{q.key==="Escape"&&T()},[T]),M=S.useCallback(q=>{if(q.key!=="Tab"||!y.current)return;const F=y.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),R=F[0],H=F[F.length-1];q.shiftKey?document.activeElement===R&&(q.preventDefault(),H?.focus()):document.activeElement===H&&(q.preventDefault(),R?.focus())},[]);S.useEffect(()=>(r&&(b.current=document.activeElement,document.addEventListener("keydown",I),document.addEventListener("keydown",M),document.body.style.overflow="hidden",setTimeout(()=>{const q=document.activeElement;if(!(y.current?.contains(q)&&(q?.tagName==="INPUT"||q?.tagName==="SELECT"||q?.tagName==="TEXTAREA"))){const R=y.current?.querySelectorAll("input, select, textarea, button"),H=Array.from(R||[]).find(z=>z.tagName==="INPUT"||z.tagName==="SELECT"||z.tagName==="TEXTAREA");H?H.focus():y.current?.focus()}},0)),()=>{document.removeEventListener("keydown",I),document.removeEventListener("keydown",M),document.body.style.overflow="",!r&&b.current&&b.current.focus()}),[r,I,M]);const L=q=>{q.target===q.currentTarget&&!d&&T()};if(S.useEffect(()=>{r||N(!1)},[r]),!r)return null;const P=p==="dark";return o.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:L,role:"presentation",children:o.jsxs("div",{ref:y,role:"dialog","aria-modal":"true","aria-labelledby":j,"aria-describedby":k,tabIndex:-1,className:Dr("bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-scale-in","max-w-[95vw]",`md:${rme[s]}`,s==="full"&&"h-[90vh]",g),children:[w&&o.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center",children:o.jsx(W0,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Unsaved Changes"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You have unsaved changes that will be lost."})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Keep Editing"}),o.jsx("button",{onClick:()=>{N(!1),e()},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})}),o.jsxs("div",{className:Dr("flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",nme[p]),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[i&&o.jsx("div",{className:Dr("w-10 h-10 rounded-lg flex items-center justify-center",P?"bg-white/10":"bg-primary-100 dark:bg-primary-900/30"),"aria-hidden":"true",children:i}),o.jsxs("div",{children:[o.jsx("h2",{id:j,className:Dr("text-lg md:text-xl font-bold",P?"text-white":"text-gray-900 dark:text-white"),children:t}),n&&o.jsx("p",{id:k,className:Dr("text-sm",P?"text-gray-300":"text-gray-600 dark:text-gray-400"),children:n})]})]}),c&&!u&&o.jsx("button",{onClick:T,className:Dr("p-2 md:p-3 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",P?"hover:bg-white/10 text-gray-300 hover:text-white":"hover:bg-primary-200 dark:hover:bg-gray-700"),"aria-label":"Close dialog",children:o.jsx(br,{className:Dr("w-5 h-5",P?"":"text-gray-600 dark:text-gray-400"),"aria-hidden":"true"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[a,u&&o.jsx("div",{className:"absolute inset-0 bg-white/75 dark:bg-gray-800/75 flex items-center justify-center z-10",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 dark:border-primary-800 border-t-primary-600 dark:border-t-primary-400 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x})]})})]}),l&&o.jsx("div",{className:"flex items-center justify-between p-4 md:p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:l})]})})},ame=({isOpen:r,onClose:e})=>{const{createCompany:t}=m1(),[n,a]=S.useState(!1),[s,i]=S.useState({name:"",company_type:[],industry:"",website:"",address:""}),l=["client","vendor","customer","supplier"],c=f=>{i(g=>({...g,company_type:g.company_type.includes(f)?g.company_type.filter(p=>p!==f):[...g.company_type,f]}))},u=async f=>{if(f.preventDefault(),!s.name.trim())return;a(!0);const g=await t(s);a(!1),g&&d()},d=()=>{i({name:"",company_type:[],industry:"",website:"",address:""}),e()};return o.jsx(g1,{isOpen:r,onClose:d,title:"Add New Company",icon:o.jsx(aA,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Cn,{id:"company-name",type:"text",value:s.name,onChange:f=>i({...s,name:f.target.value}),placeholder:"Enter company name",required:!0,disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(f=>o.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:s.company_type.includes(f),onChange:()=>c(f),disabled:n,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:f})]},f))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Industry"}),o.jsx(Cn,{id:"industry",type:"text",value:s.industry,onChange:f=>i({...s,industry:f.target.value}),placeholder:"e.g., Manufacturing, Technology, Healthcare",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Website"}),o.jsx(Cn,{id:"website",type:"url",value:s.website,onChange:f=>i({...s,website:f.target.value}),placeholder:"https://www.example.com",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Address"}),o.jsx("textarea",{id:"address",value:s.address,onChange:f=>i({...s,address:f.target.value}),placeholder:"Enter company address",rows:3,disabled:n,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed resize-none"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:d,disabled:n,className:"flex-1",children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",disabled:n,className:"flex-1",children:n?"Adding...":"Add Company"})]})]})})},sme=({isOpen:r,onClose:e,companyId:t,companyName:n})=>{const{createContact:a}=m1(),[s,i]=S.useState(!1),[l,c]=S.useState({name:"",email:"",phone:"",position:""}),u=async f=>{if(f.preventDefault(),!l.name.trim()||!l.email.trim())return;i(!0);const g=await a({company_id:t,...l});i(!1),g&&d()},d=()=>{c({name:"",email:"",phone:"",position:""}),e()};return o.jsx(g1,{isOpen:r,onClose:d,title:`Add Contact - ${n}`,icon:o.jsx(ng,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Contact Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Cn,{id:"contact-name",type:"text",value:l.name,onChange:f=>c({...l,name:f.target.value}),placeholder:"Enter contact name",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Cn,{id:"email",type:"email",value:l.email,onChange:f=>c({...l,email:f.target.value}),placeholder:"contact@example.com",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone"}),o.jsx(Cn,{id:"phone",type:"tel",value:l.phone,onChange:f=>c({...l,phone:f.target.value}),placeholder:"+60 12-345 6789",disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Position"}),o.jsx(Cn,{id:"position",type:"text",value:l.position,onChange:f=>c({...l,position:f.target.value}),placeholder:"e.g., CEO, Project Manager, Engineer",disabled:s})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:d,disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",disabled:s,className:"flex-1",children:s?"Adding...":"Add Contact"})]})]})})},ime=()=>{const{companies:r,fetchCompanies:e,deleteCompany:t,deleteContact:n}=m1(),[a,s]=S.useState(!1),[i,l]=S.useState(!1),[c,u]=S.useState(null),[d,f]=S.useState(null),[g,p]=S.useState("");S.useEffect(()=>{e()},[]);const x=S.useCallback(()=>{s(!1)},[]),y=S.useCallback(()=>{l(!1),u(null)},[]),b=T=>{u(T),l(!0)},w=async(T,I)=>{window.confirm(`Are you sure you want to delete "${I}"? This will also delete all associated contacts.`)&&await t(T)},N=async(T,I)=>{window.confirm(`Are you sure you want to delete "${I}"?`)&&await n(T)},j=T=>{f(d===T?null:T)},k=r.filter(T=>{const I=g.toLowerCase(),M=T.name.toLowerCase().includes(I),L=T.contacts.some(P=>P.name.toLowerCase().includes(I)||P.email.toLowerCase().includes(I));return M||L});return o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx(aA,{className:"w-8 h-8 text-primary-600"}),"Companies & Contacts"]}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your business contacts and company information"})]}),o.jsx(Dt,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(Vs,{className:"w-4 h-4"}),children:"Add Company"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("input",{type:"text",placeholder:"Search companies or contacts...",value:g,onChange:T=>p(T.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})})]}),k.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[o.jsx(aA,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"No companies found":"No companies yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:g?"Try adjusting your search query":"Get started by adding your first company"}),!g&&o.jsx(Dt,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(Vs,{className:"w-4 h-4"}),children:"Add First Company"})]}):o.jsx("div",{className:"space-y-4",children:k.map(T=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>j(T.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(aA,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:T.name}),o.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:[T.contacts.length," ",T.contacts.length===1?"contact":"contacts"]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 ml-8",children:[T.industry&&o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(uu,{className:"w-4 h-4"}),T.industry]}),T.website&&o.jsx("a",{href:T.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",onClick:I=>I.stopPropagation(),children:T.website})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),b(T)},icon:o.jsx(ng,{className:"w-4 h-4"}),children:"Add Contact"}),o.jsx(Dt,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),w(T.id,T.name)},icon:o.jsx(ui,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})]})}),d===T.id&&o.jsx("div",{className:"border-t border-gray-100 bg-gray-50",children:T.contacts.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(ng,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts yet for this company"}),o.jsx(Dt,{variant:"primary",size:"sm",onClick:()=>b(T),icon:o.jsx(Vs,{className:"w-4 h-4"}),children:"Add First Contact"})]}):o.jsx("div",{className:"p-6 space-y-3",children:T.contacts.map(I=>o.jsx("div",{className:"bg-white rounded-xl p-4 hover:shadow-sm transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:I.name}),I.position&&o.jsxs("span",{className:"text-sm text-gray-600",children:[" ",I.position]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ng,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${I.email}`,className:"text-primary-600 hover:underline",children:I.email})]}),I.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nw,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${I.phone}`,className:"text-primary-600 hover:underline",children:I.phone})]})]})]}),o.jsx(Dt,{variant:"ghost",size:"sm",onClick:()=>N(I.id,I.name),icon:o.jsx(ui,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})},I.id))})})]},T.id))})]}),o.jsx(ame,{isOpen:a,onClose:x}),c&&o.jsx(sme,{isOpen:i,onClose:y,companyId:c.id,companyName:c.name})]})},ome=30*1e3,Id=Nl((r,e)=>({researchProjects:[],researchTimesheets:[],loading:!1,lastFetched:null,fetchResearchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<ome)){r({loading:!0});try{const i=await _t.getAllResearchProjects();r({researchProjects:Array.isArray(i)?i:[],lastFetched:Date.now()})}catch(i){console.error("Error fetching research projects:",i)}finally{r({loading:!1})}}},fetchResearchTimesheets:async t=>{r({loading:!0});try{const n=await _t.getResearchTimesheets(t);r({researchTimesheets:Array.isArray(n)?n:[]})}catch(n){console.error("Error fetching research timesheets:",n)}finally{r({loading:!1})}},addResearchProject:async t=>{try{const n=await _t.createResearchProject(t);r(a=>({researchProjects:[n,...a.researchProjects],lastFetched:Date.now()}))}catch(n){throw console.error("Error creating research project:",n),n}},updateResearchProject:async(t,n)=>{try{const a=await _t.updateResearchProject(t,n);r(s=>({researchProjects:s.researchProjects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Error updating research project:",a),a}},deleteResearchProject:async t=>{try{await _t.deleteResearchProject(t),r(n=>({researchProjects:n.researchProjects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Error deleting research project:",n),n}},logTimesheetHours:async(t,n)=>{try{const a=await _t.logResearchTimesheet({...n,projectId:t});r(s=>({researchTimesheets:[a,...s.researchTimesheets]})),e().fetchResearchProjects(!0)}catch(a){throw console.error("Error logging timesheet hours:",a),a}},approveTimesheetEntry:async(t,n)=>{try{await _t.approveResearchTimesheet(t,n),r(a=>({researchTimesheets:a.researchTimesheets.map(s=>s.id===t?{...s,status:"approved",approvedBy:n}:s)}))}catch(a){throw console.error("Error approving timesheet entry:",a),a}},deleteTimesheetEntry:async t=>{try{await _t.deleteResearchTimesheet(t),r(n=>({researchTimesheets:n.researchTimesheets.filter(a=>a.id!==t)})),e().fetchResearchProjects(!0)}catch(n){throw console.error("Error deleting timesheet entry:",n),n}}})),lme=({isOpen:r,onClose:e,onSubmit:t})=>{const{teamMembers:n}=Sl(),{researchProjects:a}=Id(),[s,i]=S.useState({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),[l,c]=S.useState({});S.useEffect(()=>{if(r){const x=u();i(y=>({...y,researchCode:x}))}},[r,a]);const u=()=>{const y=new Date().getFullYear().toString().slice(-2),b=a.filter(k=>(k.researchCode||"").startsWith(`R${y}`));let w=0;b.forEach(k=>{const I=(k.researchCode||"").match(/^R\d{2}(\d{3})$/);if(I){const M=parseInt(I[1],10);M>w&&(w=M)}});const j=(w+1).toString().padStart(3,"0");return`R${y}${j}`},d=()=>{const x={};return s.title.trim()||(x.title="Project title is required"),s.description.trim()||(x.description="Description is required"),s.startDate||(x.startDate="Start date is required"),s.leadResearcherId||(x.leadResearcherId="Lead researcher is required"),c(x),Object.keys(x).length===0},f=x=>{x.preventDefault(),d()&&(t({researchCode:s.researchCode,title:s.title,description:s.description,status:s.status,startDate:s.startDate,plannedEndDate:s.endDate||void 0,leadResearcherId:s.leadResearcherId,leadResearcherName:s.leadResearcherName,budget:s.budget||void 0,plannedHours:s.plannedHours||void 0}),i({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),c({}))},g=(x,y)=>{i(b=>({...b,[x]:y})),l[x]&&c(b=>{const w={...b};return delete w[x],w})},p=x=>{const y=n.find(w=>w.id===x),b=y?.userId||x;g("leadResearcherId",b),y&&g("leadResearcherName",y.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(du,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("div",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700 font-mono font-semibold",children:s.researchCode||"Generating..."}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated code (Format: RYYXXX - R=Research, YY=Year, XXX=Number)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title"}),o.jsx("input",{type:"text",value:s.title,onChange:x=>g("title",x.target.value),placeholder:"Enter project title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),l.title&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.title})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:s.description,onChange:x=>g("description",x.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"}),l.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:s.status,onChange:x=>g("status",x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Researcher"}),o.jsxs("select",{value:s.leadResearcherId,onChange:x=>p(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"",children:"Select a team member"}),n.map(x=>o.jsx("option",{value:x.id,children:x.name},x.id))]}),l.leadResearcherId&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.leadResearcherId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),o.jsx("input",{type:"date",value:s.startDate,onChange:x=>g("startDate",x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),l.startDate&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.startDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),o.jsx("input",{type:"date",value:s.endDate,onChange:x=>g("endDate",x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:s.plannedHours,onChange:x=>g("plannedHours",parseFloat(x.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:s.budget,onChange:x=>g("budget",parseFloat(x.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Dt,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Dt,{onClick:f,className:"flex-1",children:"Create Project"})]})]})]})}):null},cme=({isOpen:r,onClose:e,onSubmit:t,project:n})=>{const{teamMembers:a}=Sl(),[s,i]=S.useState({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0}),[l,c]=S.useState({});S.useEffect(()=>{r&&(i({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0}),c({}))},[r,n]);const u=()=>{const p={};return s.title.trim()||(p.title="Project title is required"),s.description.trim()||(p.description="Description is required"),s.leadResearcherId||(p.leadResearcherId="Lead researcher is required"),c(p),Object.keys(p).length===0},d=p=>{p.preventDefault(),u()&&(t(n.id,{title:s.title,description:s.description,status:s.status,plannedEndDate:s.plannedEndDate||void 0,leadResearcherId:s.leadResearcherId,leadResearcherName:s.leadResearcherName,budget:s.budget||void 0,plannedHours:s.plannedHours||void 0}),e())},f=(p,x)=>{i(y=>({...y,[p]:x})),l[p]&&c(y=>{const b={...y};return delete b[p],b})},g=p=>{const x=a.find(b=>b.id===p),y=x?.userId||p;f("leadResearcherId",y),x&&f("leadResearcherName",x.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(du,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("div",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700 font-mono font-semibold",children:n.researchCode||"N/A"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Research code cannot be changed"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title"}),o.jsx("input",{type:"text",value:s.title,onChange:p=>f("title",p.target.value),placeholder:"Enter project title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),l.title&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.title})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:s.description,onChange:p=>f("description",p.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"}),l.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:s.status,onChange:p=>f("status",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Researcher"}),o.jsxs("select",{value:s.leadResearcherId,onChange:p=>g(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"",children:"Select a team member"}),a.map(p=>o.jsx("option",{value:p.id,children:p.name},p.id))]}),l.leadResearcherId&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.leadResearcherId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned End Date (Optional)"}),o.jsx("input",{type:"date",value:s.plannedEndDate,onChange:p=>f("plannedEndDate",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:s.plannedHours,onChange:p=>f("plannedHours",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:s.budget,onChange:p=>f("budget",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Dt,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Dt,{onClick:d,className:"flex-1",children:"Update Project"})]})]})]})}):null};function xa(){const r=localStorage.getItem("currentUser");if(r)try{const n=JSON.parse(r),a=n.id||n.userId||"1",s=n.name||n.displayName||"User";return{displayName:s,email:n.email||"user@mycae.com.my",userId:a,id:a,name:s,role:n.role||n.roles&&n.roles[0]||"engineer",roles:n.roles||(n.role?[n.role]:["engineer"]),department:n.department||"engineering"}}catch{}const e=localStorage.getItem("user_id")||"1",t=localStorage.getItem("user_name")||"User";return{displayName:t,email:localStorage.getItem("user_email")||"user@mycae.com.my",userId:e,id:e,name:t,role:localStorage.getItem("user_role")||"engineer"}}const Ame=()=>{const{researchProjects:r,loading:e,fetchResearchProjects:t,deleteResearchProject:n,updateResearchProject:a}=Id(),{teamMembers:s,fetchTeamMembers:i}=Sl(),l=xa(),c=l&&Ac(l.role||"engineer","canAddProject"),[u,d]=S.useState(""),[f,g]=S.useState("all"),[p,x]=S.useState(!1),[y,b]=S.useState(!1),[w,N]=S.useState(!1),[j,k]=S.useState(null),[T,I]=S.useState({isOpen:!1});S.useEffect(()=>{t(),i()},[]);const M=()=>{if(!c){Ce.error(oA("add research project","senior-engineer"));return}x(!0)},L=X=>{k(X),b(!0)},P=X=>{k(X),N(!0)},q=async(X,$)=>{if(!c){Ce.error(oA("delete research project","senior-engineer"));return}I({isOpen:!0,projectId:X,title:$})},F=async()=>{if(T.projectId)try{await n(T.projectId),Ce.success("Research project deleted successfully"),t(),I({isOpen:!1})}catch(X){er.error("Failed to delete research project:",X),Ce.error("Failed to delete research project")}},R=r.filter(X=>{const $=u===""||X.title.toLowerCase().includes(u.toLowerCase())||X.description?.toLowerCase().includes(u.toLowerCase()),te=f==="all"||X.status===f;return $&&te}),H=X=>{switch(X){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-green-100 text-green-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-gray-100 text-gray-800";case"archived":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},z=X=>{switch(X){case"planning":return"Planning";case"in-progress":return"In Progress";case"on-hold":return"On Hold";case"completed":return"Completed";case"archived":return"Archived";default:return X}};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(du,{className:"w-6 h-6 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Research Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track research initiatives and timesheet hours"})]})]}),c&&o.jsxs("button",{onClick:M,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(AA,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:u,onChange:X=>d(X.target.value),placeholder:"Search research projects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(Bw,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:f,onChange:X=>g(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("button",{onClick:()=>g("all"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${f==="all"?"ring-2 ring-primary-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Projects"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.length})]}),o.jsxs("button",{onClick:()=>g("planning"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${f==="planning"?"ring-2 ring-blue-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Planning"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.filter(X=>X.status==="planning").length})]}),o.jsxs("button",{onClick:()=>g("in-progress"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${f==="in-progress"?"ring-2 ring-green-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.filter(X=>X.status==="in-progress").length})]}),o.jsxs("button",{onClick:()=>g("completed"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${f==="completed"?"ring-2 ring-gray-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:r.filter(X=>X.status==="completed").length})]}),o.jsxs("button",{onClick:()=>g("on-hold"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${f==="on-hold"?"ring-2 ring-yellow-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"On Hold"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:r.filter(X=>X.status==="on-hold").length})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary-600 rounded-full animate-spin"})}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading research projects..."})]}):R.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(du,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No research projects found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new project to get started"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Researcher"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(X=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary-600",children:X.researchCode||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:X.title,children:X.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.leadResearcherName||"TBD"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(X.status)}`,children:z(X.status)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:[X.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(X.startDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>L(X),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View details",children:o.jsx(sA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>P(X),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit project",children:o.jsx(VD,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>q(X.id,X.title),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete project",children:o.jsx(ui,{className:"w-4 h-4"})})]})})]},X.id))})]})})})]}),p&&o.jsx(lme,{isOpen:p,onClose:()=>x(!1),onSubmit:async X=>{try{await Id.getState().addResearchProject(X),Ce.success("Research project created successfully"),x(!1),t()}catch{Ce.error("Failed to create research project")}}}),y&&j&&o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>{b(!1),k(null)}}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:j.title}),o.jsx("p",{className:"text-gray-600 mb-4",children:j.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsx("p",{className:"text-lg",children:z(j.status)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Hours"}),o.jsxs("p",{className:"text-lg",children:[j.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),o.jsx("p",{className:"text-lg",children:new Date(j.startDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Lead Researcher"}),o.jsx("p",{className:"text-lg",children:j.leadResearcherName||"TBD"})]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>{b(!1),k(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]}),w&&j&&o.jsx(cme,{isOpen:w,onClose:()=>{N(!1),k(null)},project:j,onSubmit:async(X,$)=>{try{await a(X,$),Ce.success("Research project updated successfully!"),N(!1),k(null),t()}catch(te){Ce.error("Failed to update research project"),er.error("Update error:",te)}}}),o.jsx(bf,{isOpen:T.isOpen,onClose:()=>I({isOpen:!1}),onConfirm:F,title:"Delete Research Project",message:`Are you sure you want to delete "${T.title}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},ume=({isOpen:r,onClose:e,onSuccess:t})=>{const[n,a]=S.useState({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),[s,i]=S.useState(!1),[l,c]=S.useState(null),[u,d]=S.useState(!1),f=async x=>{if(x.preventDefault(),!n.name||!n.email){Ce.error("Please fill in all required fields");return}i(!0);try{const y={name:n.name,email:n.email,phone:n.phone,role:n.role,department:n.department,employment_type:"full-time",status:"active"},b=await _t.createTeamMember(y);b&&(b.tempPassword?c({tempPassword:b.tempPassword,name:n.name,email:n.email,message:b.message}):(Ce.success(`Team member ${n.name} added successfully!`),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()))}catch(y){const b=y?.response?.data?.error||(Array.isArray(y?.response?.data?.errors)?y.response.data.errors[0]?.msg:"")||y?.message||"Failed to add team member";er.error("Error adding team member:",b),Ce.error(b)}finally{i(!1)}};if(!r)return null;const g=x=>{navigator.clipboard.writeText(x),d(!0),setTimeout(()=>d(!1),2e3)},p=()=>{c(null),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()};return l?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-green-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Team Member Created"}),o.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsx("p",{className:"text-green-800",children:l.message})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Team Member Name"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Temporary Password"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"text",value:l.tempPassword,readOnly:!0,className:"flex-1 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg font-mono text-sm"}),o.jsx("button",{onClick:()=>g(l.tempPassword),className:"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",title:"Copy to clipboard",children:u?o.jsx(b0,{className:"w-4 h-4"}):o.jsx(SG,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Share this password with the team member. They must change it on first login."})]})]}),o.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:o.jsx("button",{onClick:p,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})})]})]})})]}):o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:f,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(yl,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:n.name,onChange:x=>a({...n,name:x.target.value}),placeholder:"e.g., John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ng,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:n.email,onChange:x=>a({...n,email:x.target.value}),placeholder:"john@mycae.com.my",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Nw,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:n.phone,onChange:x=>a({...n,phone:x.target.value}),placeholder:"+60 12-345 6789",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:n.role,onChange:x=>a({...n,role:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineer",children:"Engineer"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineer"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineer"}),o.jsx("option",{value:"manager",children:"Manager"}),o.jsx("option",{value:"managing-director",children:"Managing Director"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uu,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:n.department,onChange:x=>a({...n,department:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Active:"})," This team member will be created with a user account and saved to the database."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:s,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Team Member"})]})]})]})})]})},AH=r=>Array.from({length:10},(e,t)=>{const n=String(t+1).padStart(2,"0");return{id:`${r}-${n}`,gender:r,path:`/src/assets/avatars/${r}/${r}-${n}.svg`,alt:`${r.charAt(0).toUpperCase()+r.slice(1)} Avatar ${t+1}`}}),uH=AH("male"),dme=AH("female"),dH=[...uH,...dme],hH=r=>dH.find(t=>t.id===r)?.path||uH[0].path,hme=({selectedAvatar:r,onSelect:e,size:t="md"})=>{const n={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return o.jsxs("div",{className:"avatar-picker",children:[o.jsx("div",{className:"overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-3 min-w-max",children:dH.map(a=>o.jsx("button",{type:"button",onClick:()=>e(a.id),className:Dr("rounded-full border-4 transition-all hover:scale-110 flex-shrink-0",r===a.id?"border-blue-500 ring-2 ring-blue-300":"border-gray-200 hover:border-gray-400"),children:o.jsx("img",{src:hH(a.id),alt:a.alt,className:Dr("rounded-full",n[t])})},a.id))})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scroll right to see more avatars "})]})},fme=({isOpen:r,onClose:e,onSuccess:t,teamMemberId:n,initialData:a})=>{const{user:s}=Qd(),{updateTeamMember:i}=Sl(),[l,c]=S.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",roles:a?.roles||[a?.role||"engineer"],department:a?.department||"engineering",avatar:a?.avatar||"male-01"}),[u,d]=S.useState(!1),[f,g]=S.useState(!0),[p,x]=S.useState("");S.useEffect(()=>{if(a&&r){const b={name:a.name||"",email:a.email||"",phone:a.phone||"",roles:a.roles||[a.role||"engineer"],department:a.department||"engineering",avatar:a.avatar||"male-01"};c(b),a.user_id===s?.id||a.email===s?.email||Ac(s?.role||"engineer","canEditTeamMember")?(g(!0),x("")):(g(!1),x("Only Principal Engineers, Managers, Managing Directors, and Admins can edit team members"))}},[a,s,r]);const y=async b=>{if(b.preventDefault(),!f){Ce.error(p);return}if(!l.name||!l.email||!n){Ce.error("Please fill in all required fields");return}d(!0);try{if(er.debug("EDIT TEAM MEMBER START"),er.debug("Team Member ID:",n),!n){Ce.error("Team member ID is missing"),d(!1);return}const w=a?.user_id===s?.id||a?.email===s?.email,N={name:l.name,email:l.email,phone:l.phone,department:l.department,avatar:l.avatar};w||(N.roles=l.roles),er.debug("Form Data being sent:",N),er.debug("Is editing self:",w),await i(n,N),er.debug("Team member updated successfully"),Ce.success("Team member updated successfully!"),e(),t&&(er.debug("Calling onSuccess callback"),t()),er.debug("EDIT TEAM MEMBER END")}catch(w){er.error("Error in edit team member:",w),er.error("Error response:",w?.response),er.error("Error response data:",w?.response?.data);const N=w?.response?.data?.error||(Array.isArray(w?.response?.data?.errors)?w.response.data.errors[0]?.msg:"")||w?.message||"Failed to update team member";er.error("Error updating team member:",N),Ce.error(N)}finally{d(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),!f&&o.jsxs("div",{className:"m-6 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-3",children:[o.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:p}),o.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Contact a Principal Engineer, Manager, Managing Director, or Admin to make changes"})]})]}),o.jsxs("form",{onSubmit:y,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(yl,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.name,onChange:b=>c({...l,name:b.target.value}),placeholder:"e.g., John Doe",disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Avatar"}),o.jsx(hme,{selectedAvatar:l.avatar,onSelect:b=>c({...l,avatar:b})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ng,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:l.email,onChange:b=>c({...l,email:b.target.value}),placeholder:"john@mycae.com.my",disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Nw,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:l.phone,onChange:b=>c({...l,phone:b.target.value}),placeholder:"+60 12-345 6789",disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Roles ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(Select one or more)"})]}),o.jsx("div",{className:"space-y-2",children:[{value:"engineer",label:"Engineer"},{value:"senior-engineer",label:"Senior Engineer"},{value:"principal-engineer",label:"Principal Engineer"},{value:"manager",label:"Manager"},{value:"managing-director",label:"Managing Director"},{value:"admin",label:"Admin"}].map(b=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.roles.includes(b.value),onChange:w=>{const N=b.value;w.target.checked?c({...l,roles:[...l.roles,N]}):l.roles.length>1&&c({...l,roles:l.roles.filter(j=>j!==N)})},disabled:!f||u||l.roles.length===1&&l.roles.includes(b.value),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${!f||u?"text-gray-400":"text-gray-700"}`,children:b.label})]},b.value))}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"At least one role must be selected"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uu,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:l.department,onChange:b=>c({...l,department:b.target.value}),disabled:!f||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),f&&o.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Info:"})," Changes will be saved to the team member's profile."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:u,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!f||u,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Save Changes"})]})]})]})})]}):null},mme=r=>({engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"})[r]||r,gme=()=>{const{teamMembers:r,fetchTeamMembers:e,deleteTeamMember:t,reactivateTeamMember:n}=Sl(),[a,s]=S.useState(""),[i,l]=S.useState("all"),[c,u]=S.useState("active"),[d,f]=S.useState(!1),[g,p]=S.useState(!1),[x,y]=S.useState(null),[b,w]=S.useState({isOpen:!1}),N=xa(),j=N?.role||"engineer",k=N?.roles||[j],T=jw(k);S.useEffect(()=>{e({status:c==="all"?void 0:c})},[e,c]);const I=()=>{if(!T.canAddTeamMember){Ce.error("You need Principal Engineer level or higher to add team members");return}f(!0)},M=H=>{if(!T.canEditTeamMember){Ce.error("You do not have permission to edit team members");return}if(j==="senior-engineer"&&N?.department&&H?.department&&N.department!==H.department){Ce.error("Senior Engineers can only edit team members in their own department");return}y(H),p(!0)},L=async H=>{if(!T.canDeleteTeamMember){Ce.error("You do not have permission to delete team members");return}if(j==="senior-engineer"&&N?.department&&H?.department&&N.department!==H.department){Ce.error("Senior Engineers can only delete team members in their own department");return}w({isOpen:!0,action:"deactivate",memberName:H?.name,memberId:H.id})},P=async()=>{if(!(!b.memberId||!b.action))try{b.action==="deactivate"?(await t(b.memberId),Ce.success(`${b.memberName||"Team member"} has been deactivated successfully`)):b.action==="reactivate"&&(await n(b.memberId),Ce.success(`${b.memberName||"Team member"} has been reactivated successfully`)),e({status:c==="all"?void 0:c}),w({isOpen:!1})}catch{Ce.error(`Failed to ${b.action} team member`)}},q=async H=>{if(!T.canDeleteTeamMember){Ce.error("You do not have permission to reactivate team members");return}w({isOpen:!0,action:"reactivate",memberName:H?.name,memberId:H.id})},F=r.filter(H=>{const z=a===""||H.name&&H.name.toLowerCase().includes(a.toLowerCase())||H.department&&H.department.toLowerCase().includes(a.toLowerCase()),X=i==="all"||H.role===i;return z&&X}),R=H=>{switch(H){case"engineer":return"bg-blue-100 text-blue-800";case"senior-engineer":return"bg-indigo-100 text-indigo-800";case"principal-engineer":return"bg-purple-100 text-purple-800";case"manager":return"bg-green-100 text-green-800";case"managing-director":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Team"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your team members and track their workload"})]}),T.canAddTeamMember&&o.jsxs("button",{onClick:I,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"Add Team Member"]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(AA,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:H=>s(H.target.value),placeholder:"Search by name or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{children:o.jsxs("select",{value:i,onChange:H=>l(H.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"engineer",children:"Engineers"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineers"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineers"}),o.jsx("option",{value:"manager",children:"Managers"}),o.jsx("option",{value:"managing-director",children:"Managing Directors"})]})}),o.jsx("div",{children:o.jsxs("select",{value:c,onChange:H=>u(H.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"active",children:"Active Members"}),o.jsx("option",{value:"inactive",children:"Inactive Members"}),o.jsx("option",{value:"all",children:"All Members"})]})})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Total"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Engineers"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 mt-2",children:r.filter(H=>H.role==="engineer").length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Senior Eng"}),o.jsx("div",{className:"text-3xl font-bold text-indigo-600 mt-2",children:r.filter(H=>H.role==="senior-engineer").length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Principal Eng"}),o.jsx("div",{className:"text-3xl font-bold text-purple-600 mt-2",children:r.filter(H=>H.role==="principal-engineer").length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Managers"}),o.jsx("div",{className:"text-3xl font-bold text-green-600 mt-2",children:r.filter(H=>H.role==="manager").length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Man. Directors"}),o.jsx("div",{className:"text-3xl font-bold text-red-600 mt-2",children:r.filter(H=>H.role==="managing-director").length})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(H=>o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:hH(H.avatar||"male-01"),alt:H.name,className:`w-16 h-16 rounded-full ${H.status==="inactive"?"opacity-50 grayscale":""}`}),H.status==="inactive"&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Inactive"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:H.name}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(H.roles||[H.role]).map(z=>o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(z)}`,children:mme(z)},z))})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[o.jsx(uu,{className:"w-4 h-4"}),o.jsx("span",{children:H.department})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Ng,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${H.email}`,className:"hover:text-primary-600 transition-colors truncate",children:H.email})]}),H.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Nw,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${H.phone}`,className:"hover:text-primary-600 transition-colors",children:H.phone})]})]}),H.certifications&&H.certifications.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[o.jsx(nG,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Certifications"})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[H.certifications.slice(0,2).map((z,X)=>o.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",title:z,children:z.length>25?z.substring(0,25)+"...":z},X)),H.certifications.length>2&&o.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["+",H.certifications.length-2," more"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:H.activeProjects}),o.jsx("div",{className:"text-xs text-gray-600",children:"Active Projects"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-600",children:H.totalHoursThisMonth}),o.jsx("div",{className:"text-xs text-gray-600",children:"Hours This Month"})]})]}),o.jsx("div",{className:"mt-4 flex gap-2",children:H.status==="active"?o.jsxs(o.Fragment,{children:[T.canEditTeamMember&&o.jsxs("button",{onClick:()=>M(H),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",children:[o.jsx(cA,{className:"w-4 h-4"}),"Edit"]}),T.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>L(H),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[o.jsx(ui,{className:"w-4 h-4"}),"Deactivate"]})]}):o.jsx(o.Fragment,{children:T.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>q(H),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",children:[o.jsx(Sw,{className:"w-4 h-4"}),"Reactivate"]})})})]})},H.id))}),o.jsx(ume,{isOpen:d,onClose:()=>f(!1),onSuccess:()=>{e(),f(!1)}}),x&&o.jsx(fme,{isOpen:g,onClose:()=>{p(!1),y(null)},teamMemberId:x.id,initialData:{id:x.id,name:x.name,email:x.email,phone:x.phone,role:x.role,department:x.department},onSuccess:()=>{e(),p(!1),y(null)}}),o.jsx(bf,{isOpen:b.isOpen,onClose:()=>w({isOpen:!1}),onConfirm:P,title:b.action==="deactivate"?"Deactivate Team Member":"Reactivate Team Member",message:b.action==="deactivate"?`Are you sure you want to deactivate ${b.memberName||"this team member"}? This will mark them as inactive.`:`Are you sure you want to reactivate ${b.memberName||"this team member"}?`,variant:b.action==="deactivate"?"warning":"info",confirmText:b.action==="deactivate"?"Deactivate":"Reactivate",cancelText:"Cancel"})]})})},pme=({isOpen:r,onClose:e})=>{const{projects:t,addTimesheet:n}=Fa(),{researchProjects:a}=Id(),s=xa(),[i,l]=S.useState("project"),[c,u]=S.useState({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),d=t,g=(Array.isArray(a)?a:[]).filter(y=>y.status==="planning"||y.status==="in-progress"),p=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management (E.g.: Business/Site Discussion, Proposal Preparation or Quotations)"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],x=async y=>{if(y.preventDefault(),i==="project"&&!c.projectId){Ce.error("Please select a project");return}if(i==="research"&&!c.researchId){Ce.error("Please select a research project");return}if(i==="project"&&!c.workCategory){Ce.error("Please select a work category");return}if(c.hours<=0){Ce.error("Please enter a valid number of hours");return}let b="",w="";if(i==="project"?(b=t.find(j=>j.id===c.projectId)?.projectCode||"",w="Project"):(b=a.find(j=>j.id===c.researchId)?.id||"",w="Research"),i==="project"){const N={date:c.date,engineerId:s?.userId||"",projectId:c.projectId,workCategory:c.workCategory,description:c.description,hours:c.hours};try{await n(N),Ce.success(` Timesheet Entry Created!
${w}: ${b}
Hours: ${c.hours} hrs
Project hours and finance analytics updated!`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(j){Ce.error("Failed to create timesheet entry"),er.error("Error creating timesheet:",j)}}else{const N={projectId:c.researchId,teamMemberId:s?.userId||"",teamMemberName:s?.displayName||"",date:c.date,hoursLogged:c.hours,description:c.description,researchCategory:c.workCategory||"General",status:"approved"};try{await Id.getState().logTimesheetHours(c.researchId,N),Ce.success(` Research Timesheet Entry Created!
Research: ${b}
Hours: ${c.hours} hrs`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(j){Ce.error("Failed to create research timesheet entry"),er.error("Error:",j)}}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(as,{className:"w-6 h-6 text-primary-600"}),"Add Timesheet Entry"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Log your work hours"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:x,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-gray-200",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["What are you working on? ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>{l("project"),u(y=>({...y,researchId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="project"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(uu,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Project"})]}),o.jsxs("button",{type:"button",onClick:()=>{l("research"),u(y=>({...y,projectId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="research"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(du,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Research"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ns,{className:"w-4 h-4 inline mr-1"}),"Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:c.date,onChange:y=>u({...c,date:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(as,{className:"w-4 h-4 inline mr-1"}),"Hours ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",value:c.hours,onChange:y=>u({...c,hours:parseFloat(y.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,step:"0.1",min:"0"})]})]}),i==="project"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uu,{className:"w-4 h-4 inline mr-1"}),"Select Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.projectId,onChange:y=>u({...c,projectId:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a project..."}),d.map(y=>o.jsxs("option",{value:y.id,children:[y.projectCode," - ",y.title]},y.id))]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Showing ",d.length," active projects"]})]}):o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(du,{className:"w-4 h-4 inline mr-1"}),"Select Research Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.researchId,onChange:y=>u({...c,researchId:y.target.value}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a research project..."}),g.map(y=>o.jsxs("option",{value:y.id,children:[y.researchCode," - ",y.title]},y.id))]}),o.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Showing ",g.length," active research projects"]})]}),i==="project"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(za,{className:"w-4 h-4 inline mr-1"}),"Work Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.workCategory,onChange:y=>u({...c,workCategory:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category..."}),p.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(za,{className:"w-4 h-4 inline mr-1"}),"Description (Optional)"]}),o.jsx("textarea",{value:c.description,onChange:y=>u({...c,description:y.target.value}),placeholder:"Describe what you worked on...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:s.displayName.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.displayName}),o.jsx("p",{className:"text-xs text-gray-600",children:s.email}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This entry will be logged under your account"})]})]})}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Auto-Sync Enabled:"})," When you add a timesheet entry, it automatically updates:"]}),o.jsxs("ul",{className:"text-xs text-green-700 mt-2 ml-4 space-y-1 list-disc",children:[o.jsx("li",{children:"Project actual hours"}),o.jsx("li",{children:"Finance man-hours calculations"}),o.jsx("li",{children:"Timesheet reports"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Add Entry"})]})]})]})})]}):null},yme=({isOpen:r,onClose:e,timesheet:t,onUpdate:n})=>{const{projects:a}=Fa(),[s,i]=S.useState({hours:0,workCategory:"engineering",description:""});S.useEffect(()=>{t&&i({hours:t.hours,workCategory:t.workCategory,description:t.description||""})},[t,r]);const l=d=>{if(d.preventDefault(),!s.hours||s.hours<=0){Ce.error("Hours must be greater than 0");return}if(s.hours>24){Ce.error("Hours cannot exceed 24 per day");return}if(!s.description.trim()){Ce.error("Description is required");return}if(t){const f={...t,hours:s.hours,workCategory:s.workCategory,description:s.description};n&&n(f),Ce.success("Timesheet updated successfully!"),e()}};if(!r||!t)return null;const c=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],u=a.find(d=>d.id===t.projectId);return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Timesheet Entry"}),o.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Project"}),o.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[u?.projectCode," - ",u?.title||"Unknown"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:new Date(t.date).toLocaleDateString()})]})]})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hours Worked *"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"24",value:s.hours,onChange:d=>i({...s,hours:parseFloat(d.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"8"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be between 0.5 and 24 hours"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Category *"}),o.jsx("select",{value:s.workCategory,onChange:d=>i({...s,workCategory:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:c.map(d=>o.jsx("option",{value:d.value,children:d.label},d.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:s.description,onChange:d=>i({...s,description:d.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe what work was done..."})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Update Entry"})]})]})]})]})})},xme=()=>{const{timesheets:r,projects:e,fetchTimesheets:t,fetchProjects:n,updateTimesheet:a,deleteTimesheet:s}=Fa(),{teamMembers:i,fetchTeamMembers:l}=Sl(),{researchTimesheets:c,fetchResearchProjects:u,fetchResearchTimesheets:d}=Id(),[f,g]=S.useState("projects"),[p,x]=S.useState(""),[y,b]=S.useState(""),[w,N]=S.useState(""),[j,k]=S.useState(""),[T,I]=S.useState(!1),[M,L]=S.useState(!1),[P,q]=S.useState(null),[F,R]=S.useState({isOpen:!1}),H=S.useCallback(()=>{const ge={};y&&(ge.engineerId=y),w&&(ge.startDate=w),j&&(ge.endDate=j),t(Object.keys(ge).length>0?ge:void 0)},[y,w,j,t]);S.useEffect(()=>{t(),n(),l(),u(),d();const ge=new Date;x(`${ge.getFullYear()}-${String(ge.getMonth()+1).padStart(2,"0")}`)},[]),S.useEffect(()=>{H()},[y,w,j]);const z=(Array.isArray(r)?r:[]).filter(ge=>{if(!p)return!0;const le=new Date(ge.date);return`${le.getFullYear()}-${String(le.getMonth()+1).padStart(2,"0")}`===p}),X=(Array.isArray(c)?c:[]).filter(ge=>{if(!p)return!0;const le=new Date(ge.date);return`${le.getFullYear()}-${String(le.getMonth()+1).padStart(2,"0")}`===p}),$=z.reduce((ge,le)=>ge+parseFloat(le.hours||0),0),te=X.reduce((ge,le)=>ge+parseFloat(le.hoursLogged||le.hours||0),0),ee=f==="projects"?z:X,fe=f==="projects"?$:te,_e=ee.length>0?fe/ee.length:0,re=ge=>{switch(ge){case"engineering":return"Engineering";case"project-management":return"Project Management (E.g.: Business/Site Discussion, Proposal Preparation or Quotations)";case"measurement-site":return"Measurement (Site)";case"measurement-office":return"Measurement (Office)";default:return ge}},U=()=>{I(!0)},Y=ge=>{q(ge),L(!0)},ne=async ge=>{try{await a(ge.id,{hours:ge.hours,workCategory:ge.workCategory,description:ge.description}),Ce.success(`Timesheet entry updated! Hours: ${ge.hours}`),L(!1),q(null)}catch(le){const je=le?.response?.data?.error||le?.message||"Failed to update timesheet entry";Ce.error(je),er.error("Update error:",le)}},oe=async ge=>{R({isOpen:!0,entryId:ge,entryType:"project"})},de=async()=>{if(!(!F.entryId||!F.entryType))try{F.entryType==="project"?(await s(F.entryId),Ce.success("Timesheet entry deleted!")):F.entryType==="research"&&(await Id.getState().deleteTimesheetEntry(F.entryId),Ce.success("Research timesheet entry deleted!")),R({isOpen:!1})}catch(ge){Ce.error("Failed to delete timesheet entry"),er.error("Delete error:",ge)}},he=async ge=>{R({isOpen:!0,entryId:ge,entryType:"research"})},Se=()=>{Ce.success("Export to Excel - Coming Soon")},me=()=>{Ce.success("Import from Excel - Coming Soon")},be=ge=>new Date(ge).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Timesheets"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track work hours and activities across projects"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:me,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(vl,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),o.jsxs("button",{onClick:Se,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(wu,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),o.jsxs("button",{onClick:U,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"Add Entry"]})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:o.jsxs("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700 px-6 pt-4",children:[o.jsxs("button",{onClick:()=>g("projects"),className:`pb-3 px-4 font-semibold transition-all flex items-center gap-2 ${f==="projects"?"border-b-2 border-primary-600 text-primary-600 dark:border-primary-400 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[o.jsx(uu,{className:"w-4 h-4"}),"Projects"]}),o.jsxs("button",{onClick:()=>g("research"),className:`pb-3 px-4 font-semibold transition-all flex items-center gap-2 ${f==="research"?"border-b-2 border-purple-600 text-purple-600 dark:border-purple-400 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[o.jsx(du,{className:"w-4 h-4"}),"Research"]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx(yl,{className:"w-4 h-4"}),"Engineer:"]}),o.jsxs("select",{value:y,onChange:ge=>b(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent min-w-[200px]",children:[o.jsx("option",{value:"",children:"All Engineers"}),(Array.isArray(i)?i:[]).map(ge=>o.jsx("option",{value:ge.userId||ge.id,children:ge.name},ge.userId||ge.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx(ns,{className:"w-4 h-4"}),"From:"]}),o.jsx("input",{type:"date",value:w,onChange:ge=>N(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"To:"}),o.jsx("input",{type:"date",value:j,onChange:ge=>k(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[o.jsx(ns,{className:"w-4 h-4"}),"Month:"]}),o.jsx("input",{type:"month",value:p,onChange:ge=>x(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(y||w||j)&&o.jsx("button",{onClick:()=>{b(""),N(""),k("")},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Clear Filters"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-600",children:[f==="projects"?"Project":"Research"," Entries"]}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:ee.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-600",children:[f==="projects"?"Project":"Research"," Hours"]}),o.jsx("div",{className:`text-3xl font-bold mt-2 ${f==="projects"?"text-primary-600":"text-purple-600"}`,children:fe.toFixed(1)})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Avg Hours/Entry"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:_e.toFixed(1)})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[f==="projects"?"Project ":"Research ","Timesheet Entries (",ee.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(as,{className:"w-4 h-4"}),o.jsxs("span",{children:["Total: ",fe.toFixed(1)," hours"]})]})]}),f==="projects"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Start time"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"End time"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Email"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Project Code"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Project Name"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Work Category"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700",children:"Time spent"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.sort((ge,le)=>new Date(le.date).getTime()-new Date(ge.date).getTime()).map(ge=>{const le=e.find(Fe=>Fe.id===ge.projectId),je=new Date(ge.date),Qe=new Date(je.getTime()+ge.hours*60*60*1e3),G=new Date(ge.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:G}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:be(ge.date)}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:be(Qe.toISOString())}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ge.engineerEmail||"N/A"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:ge.engineerName||"Unassigned"}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-primary-600",children:ge.projectCode||"N/A"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:le?.title||"N/A"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:re(ge.workCategory)}),o.jsx("td",{className:"px-4 py-3 text-sm text-right text-primary-600 font-medium",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(as,{className:"w-4 h-4"}),ge.hours," hrs"]})}),o.jsx("td",{className:"px-4 py-3 text-sm text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>Y(ge),className:"p-2 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit entry",children:o.jsx(cA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>oe(ge.id),className:"p-2 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(ui,{className:"w-4 h-4"})})]})})]},ge.id)})}),o.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:8,className:"px-4 py-3 text-right font-bold text-gray-900",children:"Total Hours:"}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-primary-700",children:[o.jsx(as,{className:"w-4 h-4"}),$.toFixed(1)," hrs"]})}),o.jsx("td",{className:"px-4 py-3"})]})})]})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Researcher"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Research Project"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Description"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-4 py-12 text-center",children:[o.jsx(du,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No research timesheet entries"}),o.jsx("p",{className:"text-gray-600",children:"No research timesheet entries found for the selected period."})]})}):X.sort((ge,le)=>new Date(le.date).getTime()-new Date(ge.date).getTime()).map(ge=>{const le=new Date(ge.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),je=ge.hoursLogged||ge.hours||0;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:le}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ge.teamMemberName||ge.researcherName||"Unknown"}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-primary-600",children:ge.projectTitle||ge.researchProjectTitle||"N/A"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ge.researchCategory||"-"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:ge.description||"-"}),o.jsx("td",{className:"px-4 py-3 text-sm text-right text-primary-600 font-medium",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(as,{className:"w-4 h-4"}),je," hrs"]})}),o.jsx("td",{className:"px-4 py-3 text-sm text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize ${ge.status==="completed"?"bg-green-100 text-green-800":ge.status==="in-progress"?"bg-blue-100 text-blue-800":ge.status==="planning"?"bg-yellow-100 text-yellow-800":ge.status==="on-hold"?"bg-orange-100 text-orange-800":ge.status==="archived"?"bg-gray-100 text-gray-800":"bg-gray-100 text-gray-600"}`,children:ge.status?.replace("-"," ")||"N/A"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-right",children:o.jsx("div",{className:"flex gap-2 justify-end",children:o.jsx("button",{onClick:()=>he(ge.id),className:"p-2 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(ui,{className:"w-4 h-4"})})})})]},ge.id)})}),X.length>0&&o.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:5,className:"px-4 py-3 text-right font-bold text-gray-900",children:"Total Hours:"}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-primary-700",children:[o.jsx(as,{className:"w-4 h-4"}),te.toFixed(1)," hrs"]})}),o.jsx("td",{colSpan:2,className:"px-4 py-3"})]})})]})}),f==="projects"&&z.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(as,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No timesheet entries"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking your time by adding your first entry"}),o.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"Add Entry"]})]})]}),o.jsx(pme,{isOpen:T,onClose:()=>{I(!1),H()}}),o.jsx(yme,{isOpen:M,onClose:()=>{L(!1),q(null)},timesheet:P,onUpdate:ne}),o.jsx(bf,{isOpen:F.isOpen,onClose:()=>R({isOpen:!1}),onConfirm:de,title:"Delete Timesheet Entry",message:F.entryType==="research"?"Are you sure you want to delete this research timesheet entry? This cannot be undone.":"Are you sure you want to delete this timesheet entry? This cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})})};function vme(r){return r.split(`
`).filter(t=>t.trim()).map(t=>{const n=[];let a="",s=!1;for(let i=0;i<t.length;i++){const l=t[i];l==='"'?s=!s:l===","&&!s?(n.push(a.trim()),a=""):a+=l}return n.push(a.trim()),n})}function bme(r,e){const t={};if(e.forEach((l,c)=>{t[l]=r[c]}),!t.title||!t.sku)return{valid:!1,error:"Missing required fields: title or sku"};const n=parseInt(t.quantity);if(isNaN(n)||n<0)return{valid:!1,error:"Invalid quantity value"};const a=parseInt(t.minimumStock);if(isNaN(a)||a<0)return{valid:!1,error:"Invalid minimumStock value"};const s=parseFloat(t.cost||"0"),i=parseFloat(t.price||"0");return isNaN(s)||isNaN(i)?{valid:!1,error:"Invalid cost or price value"}:{valid:!0}}function wme(r,e){const t={};e.forEach((a,s)=>{t[a]=r[s]});const n=xa();return{title:t.title,sku:t.sku,barcode:t.barcode||"",category:t.category||"Uncategorized",quantity:parseInt(t.quantity)||0,minimumStock:parseInt(t.minimumStock)||0,location:t.location||"",unitOfMeasure:t.unitOfMeasure||"Unit",cost:parseFloat(t.cost)||0,price:parseFloat(t.price)||0,supplier:t.supplier||"",status:t.status||"Active",notes:t.notes||"",lastUpdated:new Date().toISOString(),createdBy:n.displayName}}async function Cme(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=a=>{try{const s=a.target?.result,i=vme(s);if(i.length<2){e({success:!1,imported:0,failed:0,errors:[{row:0,error:"CSV file is empty or has no data rows"}]});return}const l=i[0],c=i.slice(1),u=[],d=[];c.forEach((f,g)=>{const p=bme(f,l);if(!p.valid)u.push({row:g+2,error:p.error||"Unknown error"});else try{const x=wme(f,l);d.push(x)}catch(x){u.push({row:g+2,error:`Failed to parse row: ${x}`})}}),e({success:d.length>0,imported:d.length,failed:u.length,errors:u.length>0?u:void 0})}catch(s){t(new Error(`Failed to process CSV file: ${s}`))}},n.onerror=()=>{t(new Error("Failed to read file"))},n.readAsText(r)})}function Bme(){const e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=Math.random().toString(36).substring(2,7).toUpperCase();return`MCO-${e}-${t}`}function Nme({isOpen:r,onClose:e,onImport:t}){const[n,a]=S.useState(null),[s,i]=S.useState(!1),[l,c]=S.useState(null);if(!r)return null;const u=p=>{const x=p.target.files?.[0];x&&(a(x),c(null))},d=async()=>{if(n){i(!0);try{const p=await Cme(n);c(p),p.success&&await t(n)}catch(p){c({success:!1,imported:0,failed:0,errors:[{row:0,error:`Upload failed: ${p}`}]})}finally{i(!1)}}},f=()=>{a(null),c(null),e()},g=()=>{const p=document.createElement("a");p.href="/templates/inventory-bulk-upload-template.csv",p.download="inventory-bulk-upload-template.csv",p.click()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Import Inventory"}),o.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"How to use bulk import:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[o.jsx("li",{children:"Download the CSV template below"}),o.jsx("li",{children:"Fill in your inventory data (keep the header row)"}),o.jsx("li",{children:"Upload the completed CSV file"}),o.jsx("li",{children:"Review the validation results"})]})]}),o.jsx("div",{children:o.jsxs(Dt,{variant:"outline",onClick:g,className:"w-full",children:[o.jsx(wu,{className:"w-4 h-4 mr-2"}),"Download CSV Template"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx("input",{type:"file",accept:".csv",onChange:u,className:"hidden",id:"csv-upload"}),o.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(vl,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:n?n.name:"Click to select CSV file"})]})]})]}),l&&o.jsx("div",{className:`border rounded-lg p-4 ${l.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[l.success?o.jsx(is,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):o.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium mb-2 ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Validation Successful":"Validation Failed"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{className:l.success?"text-green-800":"text-red-800",children:[" ",l.imported," items ready to import"]}),l.failed>0&&o.jsxs("p",{className:"text-red-800",children:[" ",l.failed," items failed validation"]})]}),l.errors&&l.errors.length>0&&o.jsxs("div",{className:"mt-3 max-h-40 overflow-y-auto",children:[o.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Errors:"}),o.jsx("ul",{className:"text-xs text-red-800 space-y-1",children:l.errors.map((p,x)=>o.jsxs("li",{children:["Row ",p.row,": ",p.error]},x))})]})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Dt,{variant:"outline",onClick:f,children:"Cancel"}),o.jsx(Dt,{onClick:d,disabled:!n||s,children:s?"Uploading...":"Import Items"})]})]})})}function Sme({isOpen:r,onClose:e,onCheckout:t}){const[n]=S.useState(Bme()),[a,s]=S.useState([{barcode:"",quantity:1}]),[i,l]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[g,p]=S.useState(!1);if(!r)return null;const x=()=>{s([...a,{barcode:"",quantity:1}])},y=j=>{s(a.filter((k,T)=>T!==j))},b=(j,k,T)=>{const I=[...a];I[j]={...I[j],[k]:T},s(I)},w=async()=>{const j=a.filter(I=>I.barcode.trim()!==""&&I.quantity>0);if(j.length===0){alert("Please add at least one item with a valid barcode");return}const k=xa(),T={masterBarcode:n,items:j,checkedOutBy:k.displayName,checkedOutDate:new Date().toISOString(),expectedReturnDate:i||void 0,purpose:c||void 0,notes:d||void 0};p(!0);try{await t(T),N()}catch(I){alert(`Checkout failed: ${I}`)}finally{p(!1)}},N=()=>{s([{barcode:"",quantity:1}]),l(""),u(""),f(""),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Checkout"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Check out multiple items with a single master barcode"})]}),o.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ab,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Master Barcode"}),o.jsx("p",{className:"text-lg font-mono font-bold text-blue-700",children:n}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Use this barcode to return all items together"})]})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items to Check Out"}),o.jsxs(Dt,{variant:"outline",size:"sm",onClick:x,children:[o.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),o.jsx("div",{className:"space-y-3",children:a.map((j,k)=>o.jsxs("div",{className:"flex gap-3 items-start",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Cn,{placeholder:"Barcode or SKU",value:j.barcode,onChange:T=>b(k,"barcode",T.target.value)})}),o.jsx("div",{className:"w-24",children:o.jsx(Cn,{type:"number",min:"1",placeholder:"Qty",value:j.quantity,onChange:T=>b(k,"quantity",parseInt(T.target.value)||1)})}),o.jsx(Dt,{variant:"outline",size:"sm",onClick:()=>y(k),disabled:a.length===1,className:"text-red-600 hover:text-red-700",children:o.jsx(ui,{className:"w-4 h-4"})})]},k))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ns,{className:"w-4 h-4 inline mr-1"}),"Expected Return Date (Optional)"]}),o.jsx(Cn,{type:"date",value:i,onChange:j=>l(j.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose (Optional)"}),o.jsx(Cn,{placeholder:"e.g., Project deployment, Training session, etc.",value:c,onChange:j=>u(j.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Additional notes...",value:d,onChange:j=>f(j.target.value)})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Total items: ",a.filter(j=>j.barcode.trim()).length]}),o.jsxs("p",{children:["Checked out by: ",xa().displayName]}),i&&o.jsxs("p",{children:["Expected return: ",new Date(i).toLocaleDateString()]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Dt,{variant:"outline",onClick:N,children:"Cancel"}),o.jsx(Dt,{onClick:w,disabled:g||a.filter(j=>j.barcode.trim()).length===0,children:g?"Processing...":"Complete Checkout"})]})]})})}const g4=Nl((r,e)=>({checkouts:[],filteredCheckouts:[],filters:{showMyCheckoutsFirst:!0},stats:{totalActive:0,myActive:0,overdue:0,partialReturns:0},loading:!1,fetchCheckouts:async()=>{r({loading:!0});try{const t=await _t.getAllCheckouts(),n=xa(),a=[...t].sort((s,i)=>{const l=s.checkedOutByEmail===n.email,c=i.checkedOutByEmail===n.email;return l&&!c?-1:!l&&c?1:new Date(i.checkedOutDate).getTime()-new Date(s.checkedOutDate).getTime()});r({checkouts:a,filteredCheckouts:a}),e().getCheckoutStats()}catch(t){console.error("Failed to fetch checkouts:",t),r({checkouts:[],filteredCheckouts:[]})}finally{r({loading:!1})}},setFilters:t=>{r({filters:t});const{checkouts:n}=e(),a=xa();let s=[...n];if(t.status&&t.status!=="all"&&(s=s.filter(i=>i.status===t.status)),t.userId&&(s=s.filter(i=>i.checkedOutByEmail===t.userId)),t.search){const i=t.search.toLowerCase();s=s.filter(l=>l.masterBarcode.toLowerCase().includes(i)||l.purpose?.toLowerCase().includes(i)||l.checkedOutBy.toLowerCase().includes(i)||l.items.some(c=>c.itemName.toLowerCase().includes(i)))}t.showMyCheckoutsFirst&&s.sort((i,l)=>{const c=i.checkedOutByEmail===a.email,u=l.checkedOutByEmail===a.email;return c&&!u?-1:!c&&u?1:0}),r({filteredCheckouts:s})},getCheckoutByMasterBarcode:t=>{const{checkouts:n}=e();return n.find(a=>a.masterBarcode===t)},getMyActiveCheckouts:()=>{const{checkouts:t}=e(),n=xa();return t.filter(a=>a.checkedOutByEmail===n.email&&(a.status==="active"||a.status==="partial-return"||a.status==="overdue"))},getCheckoutStats:()=>{const{checkouts:t}=e(),n=xa(),a=t.filter(i=>i.status==="active"||i.status==="partial-return"||i.status==="overdue"),s={totalActive:a.length,myActive:a.filter(i=>i.checkedOutByEmail===n.email).length,overdue:t.filter(i=>i.status==="overdue").length,partialReturns:t.filter(i=>i.status==="partial-return").length};return r({stats:s}),s}}));function jme({isOpen:r,onClose:e,onCheckIn:t}){const{getCheckoutByMasterBarcode:n}=g4(),[a,s]=S.useState(""),[i,l]=S.useState(""),[c,u]=S.useState("full"),[d,f]=S.useState(new Map),[g,p]=S.useState(!1),[x,y]=S.useState(null),[b,w]=S.useState(null),[N,j]=S.useState(!1);if(S.useEffect(()=>{r||(s(""),l(""),u("full"),f(new Map),y(null),w(null))},[r]),!r)return null;const k=async()=>{if(!a.trim()){w("Please enter a master barcode");return}j(!0),w(null);try{const $=n(a);if($){y($),w(null);const te=new Map;$.items.filter(ee=>ee.returnStatus==="checked-out").forEach(ee=>{te.set(ee.id,ee.remainingQuantity)}),f(te)}else w("Master barcode not found or already fully returned"),y(null)}catch{w("Failed to lookup checkout. Please try again."),y(null)}finally{j(!1)}},T=($,te)=>{const ee=new Map(d);ee.has($)?ee.delete($):ee.set($,te),f(ee)},I=($,te,ee)=>{const fe=new Map(d),_e=Math.max(0,Math.min(te,ee));_e>0?fe.set($,_e):fe.delete($),f(fe)},M=async()=>{if(!x)return;const $=xa(),te=[];if(c==="full"?x.items.filter(fe=>fe.returnStatus==="checked-out").forEach(fe=>{te.push({itemId:fe.itemId,quantityToReturn:fe.remainingQuantity})}):d.forEach((fe,_e)=>{const re=x.items.find(U=>U.id===_e);re&&te.push({itemId:re.itemId,quantityToReturn:fe})}),te.length===0){w("Please select at least one item to return");return}const ee={masterBarcode:a,returnType:c,returnDate:new Date().toISOString(),returnedBy:$.displayName,notes:i||void 0,items:te};p(!0);try{await t(ee),L()}catch(fe){w(`Check-in failed: ${fe}`)}finally{p(!1)}},L=()=>{s(""),l(""),u("full"),f(new Map),y(null),w(null),e()},P=x?.expectedReturnDate&&new Date(x.expectedReturnDate)<new Date,q=xa(),F=x?.checkedOutByEmail===q.email,R=x?.items.filter($=>$.returnStatus==="checked-out")||[],H=x?.items.filter($=>$.returnStatus==="returned")||[],z=d.size,X=Array.from(d.values()).reduce(($,te)=>$+te,0);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Check-In Items"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Return items using master barcode"})]}),o.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ab,{className:"w-4 h-4 inline mr-1"}),"Master Barcode"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Cn,{placeholder:"MCO-YYYYMMDD-XXXXX",value:a,onChange:$=>{s($.target.value),y(null),w(null)},onKeyPress:$=>{$.key==="Enter"&&k()},className:"flex-1"}),o.jsx(Dt,{onClick:k,disabled:N||!a.trim(),children:N?"Looking up...":"Lookup"})]})]}),b&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),o.jsx("p",{className:"text-sm text-red-800",children:b})]})]}),x&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`border rounded-lg overflow-hidden ${P?"border-red-300":"border-gray-200"}`,children:[o.jsxs("div",{className:`p-4 ${P?"bg-red-50":F?"bg-blue-50":"bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Checkout Details"}),P&&o.jsx("span",{className:"text-xs font-medium text-red-700 bg-red-100 px-2 py-1 rounded",children:"OVERDUE"}),F&&!P&&o.jsx("span",{className:"text-xs font-medium text-blue-700 bg-blue-100 px-2 py-1 rounded",children:"YOUR CHECKOUT"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Master Barcode"}),o.jsx("p",{className:"font-mono font-medium text-gray-900",children:x.masterBarcode})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Checked Out By"}),o.jsx("p",{className:"font-medium text-gray-900",children:F?"You":x.checkedOutBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Checkout Date"}),o.jsx("p",{className:"font-medium text-gray-900",children:new Date(x.checkedOutDate).toLocaleDateString()})]}),x.expectedReturnDate&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Expected Return"}),o.jsx("p",{className:`font-medium ${P?"text-red-700":"text-gray-900"}`,children:new Date(x.expectedReturnDate).toLocaleDateString()})]}),x.purpose&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("p",{className:"text-gray-600",children:"Purpose"}),o.jsx("p",{className:"font-medium text-gray-900",children:x.purpose})]})]})]}),o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Type"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>{u("full");const $=new Map;R.forEach(te=>{$.set(te.id,te.remainingQuantity)}),f($)},className:`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-colors ${c==="full"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[o.jsx(is,{className:"w-5 h-5 inline mr-2"}),"Full Return (All Items)"]}),o.jsxs("button",{onClick:()=>u("partial"),className:`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-colors ${c==="partial"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[o.jsx(hu,{className:"w-5 h-5 inline mr-2"}),"Partial Return (Select Items)"]})]})]}),R.length>0&&o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Items Still Checked Out (",R.length,")"]}),o.jsx("div",{className:"space-y-2",children:R.map($=>{const te=d.has($.id),ee=d.get($.id)||$.remainingQuantity;return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border-2 transition-colors ${c==="full"||te?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c==="partial"&&o.jsx("input",{type:"checkbox",checked:te,onChange:()=>T($.id,$.remainingQuantity),className:"w-5 h-5 text-blue-600 rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:$.itemName}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Barcode: ",$.barcode]})]})]}),o.jsx("div",{className:"flex items-center gap-3",children:c==="partial"&&te?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Qty:"}),o.jsx("input",{type:"number",min:"1",max:$.remainingQuantity,value:ee,onChange:fe=>I($.id,parseInt(fe.target.value),$.remainingQuantity),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm"}),o.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",$.remainingQuantity]})]}):o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Qty: ",$.remainingQuantity]})})]},$.id)})})]}),H.length>0&&o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[o.jsxs("h4",{className:"font-medium text-gray-500 mb-2 text-sm",children:["Previously Returned (",H.length,")"]}),o.jsx("div",{className:"space-y-1",children:H.map($=>o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(is,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{children:$.itemName})]}),o.jsxs("span",{children:["Qty: ",$.returnedQuantity]})]},$.id))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Notes (Optional)"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"e.g., All items in good condition, HDMI cable has minor wear...",value:i,onChange:$=>l($.target.value)})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(is,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-green-900 mb-2",children:c==="full"?"Full Return Summary":"Partial Return Summary"}),o.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[c==="full"?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[" ",R.length," items will be returned"]}),o.jsxs("p",{children:[" ",x.remainingItems," total units"]}),o.jsx("p",{children:' Checkout will be marked as "Fully Returned"'})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[" ",z," items selected to return"]}),o.jsxs("p",{children:[" ",X," total units"]}),o.jsxs("p",{children:[" ",R.length-z," items will remain checked out"]}),z<R.length&&o.jsx("p",{className:"text-yellow-700",children:" Master barcode will remain active"})]}),o.jsxs("p",{children:[" Returned by: ",q.displayName]}),o.jsxs("p",{children:[" Return date: ",new Date().toLocaleDateString()]})]})]})]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Dt,{variant:"outline",onClick:L,children:"Cancel"}),o.jsx(Dt,{onClick:M,disabled:!x||g||c==="partial"&&z===0,children:g?"Processing...":`Complete ${c==="full"?"Full":"Partial"} Check-In`})]})]})})}function Eme({isOpen:r,onClose:e,onCheckout:t,prefilledBarcode:n=""}){const[a,s]=S.useState(n),[i,l]=S.useState(1),[c,u]=S.useState(""),[d,f]=S.useState(""),[g,p]=S.useState(""),[x,y]=S.useState(""),[b,w]=S.useState(!1);if(!r)return null;const N=async()=>{if(!a.trim()){nt.error("Please enter an item barcode or SKU");return}if(i<=0){nt.error("Quantity must be greater than 0");return}const T=xa(),I={itemBarcode:a.trim(),quantity:i,checkedOutBy:T.displayName,checkedOutByEmail:T.email,checkedOutDate:new Date().toISOString(),expectedReturnDate:c||void 0,purpose:d.trim()||void 0,location:g.trim()||void 0,notes:x.trim()||void 0};w(!0);try{await t(I),j(),nt.success("Item checked out successfully!")}catch(M){nt.error(M?.message||"Checkout failed. Please try again.")}finally{w(!1)}},j=()=>{s(""),l(1),u(""),f(""),p(""),y(""),e()},k=xa();return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Single Item Checkout"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Check out a single item or quantity"})]}),o.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(hu,{className:"w-4 h-4 inline mr-1"}),"Item Barcode or SKU *"]}),o.jsx(Cn,{placeholder:"Scan or enter barcode/SKU",value:a,onChange:T=>s(T.target.value),autoFocus:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uj,{className:"w-4 h-4 inline mr-1"}),"Quantity *"]}),o.jsx(Cn,{type:"number",min:"1",placeholder:"1",value:i,onChange:T=>l(parseInt(T.target.value)||1)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location/Site (Optional)"}),o.jsx(Cn,{placeholder:"e.g., Client Site - Building A, Office 3B",value:g,onChange:T=>p(T.target.value)}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Where will this equipment be taken to?"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ns,{className:"w-4 h-4 inline mr-1"}),"Expected Return Date (Optional)"]}),o.jsx(Cn,{type:"date",value:c,onChange:T=>u(T.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose (Optional)"}),o.jsx(Cn,{placeholder:"e.g., Client demonstration, Field testing, Repair",value:d,onChange:T=>f(T.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Any additional notes...",value:x,onChange:T=>y(T.target.value)})]}),o.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-indigo-900 mb-2 flex items-center gap-2",children:[o.jsx(yl,{className:"w-4 h-4"}),"Checkout Summary"]}),o.jsxs("div",{className:"text-sm text-indigo-800 space-y-1",children:[o.jsxs("p",{children:["Checked out by: ",o.jsx("span",{className:"font-medium",children:k.displayName})]}),o.jsxs("p",{children:["Checkout date: ",o.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]}),i>0&&o.jsxs("p",{children:["Quantity: ",o.jsx("span",{className:"font-medium",children:i})]}),g&&o.jsxs("p",{children:["Destination: ",o.jsx("span",{className:"font-medium",children:g})]}),c&&o.jsxs("p",{children:["Expected return: ",o.jsx("span",{className:"font-medium",children:new Date(c).toLocaleDateString()})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx(Dt,{variant:"outline",onClick:j,disabled:b,children:"Cancel"}),o.jsx(Dt,{onClick:N,disabled:b||!a.trim()||i<=0,children:b?"Processing...":"Complete Checkout"})]})]})})}function _me({isOpen:r,onClose:e,onCheckIn:t,prefilledBarcode:n=""}){const[a,s]=S.useState(n),[i,l]=S.useState(1),[c,u]=S.useState("good"),[d,f]=S.useState(""),[g,p]=S.useState(!1);if(!r)return null;const x=async()=>{if(!a.trim()){nt.error("Please enter an item barcode or SKU");return}if(i<=0){nt.error("Quantity must be greater than 0");return}const N=xa(),j={itemBarcode:a.trim(),quantityToReturn:i,returnedBy:N.displayName,returnedByEmail:N.email,returnDate:new Date().toISOString(),condition:c,notes:d.trim()||void 0};p(!0);try{await t(j),y(),nt.success("Item checked in successfully!")}catch(k){nt.error(k?.message||"Check-in failed. Please try again.")}finally{p(!1)}},y=()=>{s(""),l(1),u("good"),f(""),e()},b=xa(),w=N=>{switch(N){case"good":return"bg-green-100 text-green-700 border-green-300";case"fair":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"damaged":return"bg-orange-100 text-orange-700 border-orange-300";case"needs-repair":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Single Item Check-In"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Return a single item or quantity"})]}),o.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(hu,{className:"w-4 h-4 inline mr-1"}),"Item Barcode or SKU *"]}),o.jsx(Cn,{placeholder:"Scan or enter barcode/SKU",value:a,onChange:N=>s(N.target.value),autoFocus:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Scan or enter the barcode of the item you're returning"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uj,{className:"w-4 h-4 inline mr-1"}),"Quantity to Return *"]}),o.jsx(Cn,{type:"number",min:"1",placeholder:"1",value:i,onChange:N=>l(parseInt(N.target.value)||1)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Item Condition *"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["good","fair","damaged","needs-repair"].map(N=>o.jsxs("button",{type:"button",onClick:()=>u(N),className:`px-4 py-3 rounded-lg border-2 text-sm font-medium transition-all ${c===N?w(N)+" border-current shadow-sm":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[N==="good"&&" Good Condition",N==="fair"&&" Fair Condition",N==="damaged"&&" Damaged",N==="needs-repair"&&" Needs Repair"]},N))}),(c==="damaged"||c==="needs-repair")&&o.jsxs("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[o.jsx("span",{children:""})," Please add detailed notes about the damage or repair needed"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Notes ",(c==="damaged"||c==="needs-repair")&&o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:c==="damaged"||c==="needs-repair"?"Describe the damage or repair needed...":"Any additional notes about the return...",value:d,onChange:N=>f(N.target.value)})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-green-900 mb-2 flex items-center gap-2",children:[o.jsx(is,{className:"w-4 h-4"}),"Check-In Summary"]}),o.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[o.jsxs("p",{children:["Returned by: ",o.jsx("span",{className:"font-medium",children:b.displayName})]}),o.jsxs("p",{children:["Return date: ",o.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]}),i>0&&o.jsxs("p",{children:["Quantity: ",o.jsx("span",{className:"font-medium",children:i})]}),o.jsxs("p",{children:["Condition: ",o.jsx("span",{className:`font-medium px-2 py-0.5 rounded ${w(c)}`,children:c.charAt(0).toUpperCase()+c.slice(1).replace("-"," ")})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx(Dt,{variant:"outline",onClick:y,disabled:g,children:"Cancel"}),o.jsx(Dt,{onClick:x,disabled:g||!a.trim()||i<=0||(c==="damaged"||c==="needs-repair")&&!d.trim(),children:g?"Processing...":"Complete Check-In"})]})]})})}const kme=({isOpen:r,onClose:e,onSubmit:t,initialData:n,isEditMode:a=!1})=>{const[s,i]=S.useState({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Active",barcode:"",notes:"",lastAction:"added",lastActionDate:new Date().toISOString()});S.useEffect(()=>{a&&n?i({title:n.title||"",sku:n.sku||"",category:n.category||"",quantity:n.quantity||0,minimumStock:n.minimumStock||0,location:n.location||"",unitOfMeasure:n.unitOfMeasure||"units",cost:n.cost||0,price:n.price||0,supplier:n.supplier||"",status:n.status||"Active",barcode:n.barcode||"",notes:n.notes||"",lastAction:n.lastAction||"added",lastActionDate:n.lastActionDate||new Date().toISOString()}):r||x()},[r,a,n]);const[l,c]=S.useState({}),u=["Electronics","Office Supplies","Furniture","Tools & Equipment","Safety Equipment","IT Equipment","Consumables","Other"],d=["In the office","On site"],f=["units","boxes","packs","pieces","sets","meters","kg","liters"],g=()=>{const w={};return s.title.trim()||(w.title="Item name is required"),s.sku.trim()||(w.sku="SKU is required"),s.category||(w.category="Category is required"),s.quantity<0&&(w.quantity="Quantity must be 0 or greater"),s.minimumStock<0&&(w.minimumStock="Minimum stock must be 0 or greater"),s.location||(w.location="Location is required"),c(w),Object.keys(w).length===0},p=w=>{w.preventDefault(),g()&&(t(s),x())},x=()=>{i({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Active",barcode:"",notes:"",lastAction:"added",lastActionDate:new Date().toISOString()}),c({}),e()},y=(w,N)=>{i(j=>({...j,[w]:N})),l[w]&&c(j=>({...j,[w]:""}))},b=o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-500",children:["Fields marked with ",o.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Dt,{variant:"outline",onClick:x,children:"Cancel"}),o.jsx(Dt,{onClick:p,children:a?"Update Item":"Add Item"})]})]});return o.jsx(g1,{isOpen:r,onClose:x,title:a?"Edit Item":"Add New Item",description:"Register a new equipment or item to inventory",icon:o.jsx(hu,{className:"w-5 h-5 text-primary-600","aria-hidden":"true"}),size:"xl",footer:b,children:o.jsx("form",{onSubmit:p,className:"p-6",id:"add-item-form",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Item Name ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-title",type:"text",value:s.title,onChange:w=>y("title",w.target.value),"aria-invalid":l.title?"true":void 0,"aria-describedby":l.title?"title-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Laptop Dell XPS 15"}),l.title&&o.jsx("p",{id:"title-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.title})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-sku",className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(uj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-sku",type:"text",value:s.sku,onChange:w=>y("sku",w.target.value),"aria-invalid":l.sku?"true":void 0,"aria-describedby":l.sku?"sku-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.sku?"border-red-500":"border-gray-300"}`,placeholder:"e.g., LAP-DELL-001"})]}),l.sku&&o.jsx("p",{id:"sku-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.sku})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-barcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(sG,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-barcode",type:"text",value:s.barcode,onChange:w=>y("barcode",w.target.value),className:"w-full pl-10 pr-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 1234567890123"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("select",{id:"item-category",value:s.category,onChange:w=>y("category",w.target.value),"aria-invalid":l.category?"true":void 0,"aria-describedby":l.category?"category-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.category?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select category"}),u.map(w=>o.jsx("option",{value:w,children:w},w))]}),l.category&&o.jsx("p",{id:"category-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.category})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:["Quantity ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-quantity",type:"number",value:s.quantity,onChange:w=>y("quantity",parseInt(w.target.value)||0),"aria-invalid":l.quantity?"true":void 0,"aria-describedby":l.quantity?"quantity-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.quantity?"border-red-500":"border-gray-300"}`,min:"0"}),l.quantity&&o.jsx("p",{id:"quantity-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-unit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure"}),o.jsx("select",{id:"item-unit",value:s.unitOfMeasure,onChange:w=>y("unitOfMeasure",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:f.map(w=>o.jsx("option",{value:w,children:w},w))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-min-stock",className:"block text-sm font-medium text-gray-700 mb-2",children:["Minimum Stock Level ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-min-stock",type:"number",value:s.minimumStock,onChange:w=>y("minimumStock",parseInt(w.target.value)||0),"aria-invalid":l.minimumStock?"true":void 0,"aria-describedby":l.minimumStock?"min-stock-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.minimumStock?"border-red-500":"border-gray-300"}`,min:"0"}),l.minimumStock&&o.jsx("p",{id:"min-stock-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.minimumStock})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-location",className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsxs("select",{id:"item-location",value:s.location,onChange:w=>y("location",w.target.value),"aria-invalid":l.location?"true":void 0,"aria-describedby":l.location?"location-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.location?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select location"}),d.map(w=>o.jsx("option",{value:w,children:w},w))]})]}),l.location&&o.jsx("p",{id:"location-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.location})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-supplier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier (Optional)"}),o.jsx("input",{id:"item-supplier",type:"text",value:s.supplier,onChange:w=>y("supplier",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Dell Malaysia"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{id:"item-status",value:s.status,onChange:w=>y("status",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"item-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{id:"item-notes",value:s.notes,onChange:w=>y("notes",w.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,placeholder:"Additional information about this item..."})]})]})})})},py=Nl((r,e)=>({items:[],filteredItems:[],filters:{},loading:!1,stats:null,fetchInventory:async()=>{r({loading:!0});try{const t=await _t.getInventoryItems();r({items:t,filteredItems:t}),e().calculateStats()}catch{nt.error("Failed to fetch inventory")}finally{r({loading:!1})}},fetchInventoryById:async t=>{const{items:n}=e();return n.find(a=>a.id===t)||null},createItem:async t=>{r({loading:!0});try{const n=await _t.createInventoryItem(t);r(a=>({items:[...a.items,n],filteredItems:[...a.filteredItems,n]})),e().calculateStats(),nt.success("Item created")}catch{nt.error("Failed to create item")}finally{r({loading:!1})}},updateItem:async(t,n)=>{r({loading:!0});try{await _t.updateInventoryItem(t,n),r(a=>({items:a.items.map(s=>s.id===t?{...s,...n}:s),filteredItems:a.filteredItems.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),nt.success("Item updated")}catch{nt.error("Failed to update item")}finally{r({loading:!1})}},deleteItem:async t=>{r({loading:!0});try{await _t.deleteInventoryItem(t),r(n=>({items:n.items.filter(a=>a.id!==t),filteredItems:n.filteredItems.filter(a=>a.id!==t)})),e().calculateStats(),nt.success("Item deleted")}catch{nt.error("Failed to delete item")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{items:t,filters:n}=e();let a=[...t];if(n.search){const s=n.search.toLowerCase();a=a.filter(i=>i.title.toLowerCase().includes(s)||i.sku.toLowerCase().includes(s)||i.barcode?.toLowerCase().includes(s))}n.category&&(a=a.filter(s=>s.category===n.category)),n.location&&(a=a.filter(s=>s.location===n.location)),n.status&&(a=a.filter(s=>s.status===n.status)),n.lowStockOnly&&(a=a.filter(s=>s.quantity<=s.minimumStock)),r({filteredItems:a})},calculateStats:()=>{const{items:t}=e(),n={totalItems:t.length,totalValue:t.reduce((a,s)=>a+s.quantity*s.price,0),lowStockItems:t.filter(a=>a.quantity<=a.minimumStock).length,categories:new Set(t.map(a=>a.category)).size,recentActivity:0};r({stats:n})},scanBarcode:async t=>{try{const n=await _t.getInventoryItems({search:t});return n.length>0?(nt.success(`Found: ${n[0].title}`),n[0]):(nt.error("Item not found"),null)}catch{return nt.error("An error occurred while scanning"),null}}})),Tme=()=>{const{filteredItems:r,filters:e,setFilters:t,fetchInventory:n,loading:a}=py(),s=Array.isArray(r)?r:[],{isMobile:i}=Ow(),l=xa(),c=l&&Ac(l.role,"canAddOrRemoveInventory"),[u,d]=S.useState(""),[f,g]=S.useState(!1),[p,x]=S.useState(!1),[y,b]=S.useState(!1),[w,N]=S.useState(!1),[j,k]=S.useState(!1),[T,I]=S.useState(!1),[M,L]=S.useState(!1),[P,q]=S.useState(!1),[F,R]=S.useState(null),[H,z]=S.useState(!1),[X,$]=S.useState({isOpen:!1});S.useEffect(()=>{n()},[]);const te=S.useCallback(()=>{I(!1),R(null),z(!1)},[]),ee=le=>{d(le),t({...e,search:le})},fe=le=>{const je={Active:"success",Inactive:"warning",Discontinued:"danger"};return o.jsx(wn,{variant:je[le]||"default",children:le})},_e=(le,je)=>le===0?o.jsx(wn,{variant:"danger",children:"Out of Stock"}):le<=je?o.jsx(wn,{variant:"warning",children:"Low Stock"}):o.jsx(wn,{variant:"success",children:"In Stock"}),re=le=>{if(!le)return null;const je={added:"success",returned:"info","checked-out":"warning",updated:"default"},Qe={added:"ADDED",returned:"RETURNED","checked-out":"CHECKED OUT",updated:"UPDATED"};return o.jsx(wn,{variant:je[le]||"default",size:"sm",children:Qe[le]||le})},U=async le=>{try{const je=new FileReader;je.onload=async Qe=>{try{const Fe=(Qe.target?.result).split(`
`).filter(mt=>mt.trim());if(Fe.length<2){Ce.error("CSV file is empty or has no data rows");return}const Je=Fe[0].split(",").map(mt=>mt.trim()),et=Fe.slice(1),$e=[];let bt=0;for(let mt=0;mt<et.length;mt++){const Nt=et[mt].split(",").map(Mt=>Mt.trim()),vt={};if(Je.forEach((Mt,wt)=>{vt[Mt]=Nt[wt]}),!vt.title||!vt.sku){bt++;continue}const or=parseInt(vt.quantity),Ht=parseInt(vt.minimumStock),$t=parseFloat(vt.cost||"0"),Kt=parseFloat(vt.price||"0");if(isNaN(or)||isNaN(Ht)||isNaN($t)||isNaN(Kt)){bt++;continue}const at={title:vt.title,sku:vt.sku,barcode:vt.barcode||"",category:vt.category||"Uncategorized",quantity:or||0,minimumStock:Ht||0,location:vt.location||"",unitOfMeasure:vt.unitOfMeasure||"Unit",cost:$t||0,price:Kt||0,supplier:vt.supplier||"",status:vt.status||"Active",notes:vt.notes||"",lastUpdated:new Date().toISOString(),createdBy:l.displayName};$e.push(at)}if($e.length===0){Ce.error("No valid items found in CSV file");return}const tt=await In.bulkCreateInventoryItems($e);Ce.success(`Successfully imported ${$e.length} items${bt>0?` (${bt} rows skipped due to errors)`:""}`),g(!1),await n()}catch(G){const Fe=G?.response?.data?.error||G?.message||"Failed to import items";Ce.error(Fe)}},je.onerror=()=>{Ce.error("Failed to read CSV file")},je.readAsText(le)}catch{Ce.error("Error processing bulk import")}},Y=async le=>{try{const je=await In.createBulkCheckout(le);Ce.success(je.message||"Bulk checkout completed successfully!"),await n(),x(!1)}catch(je){Ce.error(je?.response?.data?.error||"Failed to complete checkout")}},ne=async le=>{try{const je=await In.checkInBulk({masterBarcode:le.masterBarcode,returnType:le.returnType,items:le.items,notes:le.notes});Ce.success(je.message||"Check-in completed successfully!"),await n(),b(!1)}catch(je){Ce.error(je?.response?.data?.error||"Failed to complete check-in")}},oe=async le=>{if(!c){Ce.error(oA("add or remove inventory","engineer"));return}try{const je=le;await In.createInventoryItem(je),Ce.success(`Item "${le.title}" added successfully!`),await n()}catch(je){throw Ce.error(je?.response?.data?.error||"Failed to add item"),je}},de=async le=>{try{const je=await In.createSingleCheckout(le);Ce.success(je.message||"Item checked out successfully!"),await n(),N(!1)}catch(je){Ce.error(je?.response?.data?.error||"Failed to checkout item")}},he=async le=>{try{const je=await In.checkInSingle(le);Ce.success(je.message||"Item checked in successfully!"),await n(),k(!1)}catch(je){Ce.error(je?.response?.data?.error||"Failed to check in item")}},Se=le=>{R(le),z(!0),I(!0)},me=async le=>{const je=s.find(Qe=>Qe.id===le);$({isOpen:!0,itemId:le,itemTitle:je?.title})},be=async()=>{if(X.itemId)try{await In.deleteInventoryItem(X.itemId),Ce.success("Item deleted successfully!"),await n(),$({isOpen:!1})}catch(le){Ce.error(le?.response?.data?.error||"Failed to delete item")}},ge=async le=>{if(!c){Ce.error(oA("add or remove inventory","engineer"));return}try{H&&F?(await In.updateInventoryItem(F.id,le),Ce.success("Item updated successfully!")):await oe(le),I(!1),R(null),z(!1),await n()}catch(je){Ce.error(je?.response?.data?.error||"Failed to save item")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Inventory"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your equipment, tools, and materials inventory"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(vl,{className:"w-5 h-5"}),!i&&"Bulk Import"]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>L(!M),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(Ab,{className:"w-5 h-5"}),!i&&"Checkout",o.jsx(ob,{className:"w-4 h-4"})]}),M&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[o.jsxs("button",{onClick:()=>{N(!0),L(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-t-lg",children:[o.jsx(Z5,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Single Item"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Check out one item"})]})]}),o.jsxs("button",{onClick:()=>{x(!0),L(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-b-lg border-t border-gray-100",children:[o.jsx(Ab,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Bulk Checkout"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Check out multiple items"})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>q(!P),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(Ik,{className:"w-5 h-5"}),!i&&"Check-In",o.jsx(ob,{className:"w-4 h-4"})]}),P&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[o.jsxs("button",{onClick:()=>{k(!0),q(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-t-lg",children:[o.jsx(Z5,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Single Item"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Return one item"})]})]}),o.jsxs("button",{onClick:()=>{b(!0),q(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors rounded-b-lg border-t border-gray-100",children:[o.jsx(Ik,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Bulk Check-In"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Return with master barcode"})]})]})]})]}),c&&o.jsxs("button",{onClick:()=>I(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium shadow-sm",children:[o.jsx(Vs,{className:"w-5 h-5"}),!i&&"Add Item"]})]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-3",children:o.jsxs("div",{className:"relative",children:[o.jsx(AA,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:u,onChange:le=>ee(le.target.value),placeholder:"Search by name, SKU, or barcode...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("button",{className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:[o.jsx(Bw,{className:"w-5 h-5"}),"Filters"]})})]})}),a&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!a&&i&&o.jsx("div",{className:"space-y-3",children:s.map(le=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:le.title}),o.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["SKU: ",le.sku]})]}),fe(le.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),o.jsxs("p",{className:"text-sm font-medium",children:[le.quantity," ",le.unitOfMeasure]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Price"}),o.jsx("p",{className:"text-sm font-medium",children:Qk(le.price)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),o.jsx("p",{className:"text-sm font-medium",children:le.location})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Category"}),o.jsx("p",{className:"text-sm font-medium",children:le.category})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[_e(le.quantity,le.minimumStock),re(le.lastAction)]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",km(le.lastUpdated)]})]}),c&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>Se(le),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[o.jsx(cA,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>me(le.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[o.jsx(ui,{className:"w-4 h-4"}),"Delete"]})]})]},le.id))}),!a&&!i&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Items (",s.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c&&o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(le=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:le.title}),o.jsx("p",{className:"text-sm text-gray-500",children:le.supplier})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:le.sku}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:le.category}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900",children:le.quantity}),_e(le.quantity,le.minimumStock)]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Qk(le.price)}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:le.location}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[fe(le.status),re(le.lastAction)]})}),c&&o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>Se(le),className:"inline-flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 rounded transition-colors",children:[o.jsx(cA,{className:"w-3.5 h-3.5"}),"Edit"]}),o.jsxs("button",{onClick:()=>me(le.id),className:"inline-flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium text-red-700 bg-red-50 hover:bg-red-100 rounded transition-colors",children:[o.jsx(ui,{className:"w-3.5 h-3.5"}),"Delete"]})]})})]},le.id))})]})})]}),!a&&s.length===0&&o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(hu,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No items found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})}),o.jsx(Nme,{isOpen:f,onClose:()=>g(!1),onImport:U}),o.jsx(Sme,{isOpen:p,onClose:()=>x(!1),onCheckout:Y}),o.jsx(jme,{isOpen:y,onClose:()=>b(!1),onCheckIn:ne}),o.jsx(Eme,{isOpen:w,onClose:()=>N(!1),onCheckout:de}),o.jsx(_me,{isOpen:j,onClose:()=>k(!1),onCheckIn:he}),o.jsx(kme,{isOpen:T,onClose:te,onSubmit:ge,initialData:H&&F||void 0,isEditMode:H}),o.jsx(bf,{isOpen:X.isOpen,onClose:()=>$({isOpen:!1}),onConfirm:be,title:"Delete Inventory Item",message:`Are you sure you want to delete "${X.itemTitle}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete Item",cancelText:"Cancel"})]})})},Fme="modulepreload",Pme=function(r,e){return new URL(r,e).href},lI={},qv=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(t.map(d=>{if(d=Pme(d,n),d in lI)return;lI[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(n)for(let x=i.length-1;x>=0;x--){const y=i[x];if(y.href===d&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Fme,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((x,y)=>{p.addEventListener("load",x),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},p4=Nl((r,e)=>({tickets:[],filteredTickets:[],filters:{},loading:!1,stats:null,fetchMaintenance:async()=>{r({loading:!0});try{const t=await _t.getAllMaintenanceTickets();r({tickets:t,filteredTickets:t}),e().calculateStats()}catch{nt.error("Failed to fetch maintenance tickets")}finally{r({loading:!1})}},fetchMaintenanceById:async t=>{try{const{tickets:n}=e();return n.find(a=>a.id===t)||null}catch{return nt.error("Failed to fetch ticket"),null}},createTicket:async t=>{r({loading:!0});try{const n=await _t.createMaintenanceTicket(t);r(a=>({tickets:[...a.tickets,n],filteredTickets:[...a.filteredTickets,n]})),e().calculateStats(),nt.success("Ticket created successfully")}catch{nt.error("Failed to create ticket")}finally{r({loading:!1})}},updateTicket:async(t,n)=>{r({loading:!0});try{await _t.updateMaintenanceTicket(t,n),r(a=>({tickets:a.tickets.map(s=>s.id===t?{...s,...n}:s),filteredTickets:a.filteredTickets.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),nt.success("Ticket updated successfully")}catch{nt.error("Failed to update ticket")}finally{r({loading:!1})}},deleteTicket:async t=>{r({loading:!0});try{await _t.deleteMaintenanceTicket(t),r(n=>({tickets:n.tickets.filter(a=>a.id!==t),filteredTickets:n.filteredTickets.filter(a=>a.id!==t)})),e().calculateStats(),nt.success("Ticket deleted successfully")}catch{nt.error("Failed to delete ticket")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{tickets:t,filters:n}=e();let a=[...t];n.status&&(a=a.filter(s=>s.status===n.status)),n.priority&&(a=a.filter(s=>s.priority===n.priority)),n.assignedTo&&(a=a.filter(s=>s.assignedTo===n.assignedTo)),r({filteredTickets:a})},calculateStats:()=>{const{tickets:t}=e(),n={total:t.length,pending:t.filter(a=>a.status==="open").length,inProgress:t.filter(a=>a.status==="in-progress").length,completed:t.filter(a=>a.status==="resolved"||a.status==="closed").length,overdue:0};r({stats:n})}})),oS={calibration:"Calibration",inspection:"Inspection",servicing:"Servicing",replacement:"Replacement",other:"Other"},F0={deduct:"Deduct from inventory","status-only":'Mark as "In Maintenance" only',none:"No change to inventory"},fH={deduct:"The item quantity will be reduced when maintenance starts and restored when completed.","status-only":'The item will be marked as "In Maintenance" but quantity remains unchanged.',none:"No changes will be made to inventory quantity or status."},Ome=({isOpen:r,onClose:e,editingTicket:t})=>{const{createTicket:n,updateTicket:a}=p4(),{items:s,fetchInventory:i}=py(),[l,c]=S.useState({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1});S.useEffect(()=>{r&&(i(),t&&c({title:t.title||"",itemId:t.itemId||"",itemName:t.itemName||"",description:t.description||"",status:t.status,priority:t.priority,category:t.category||"",assignedTo:t.assignedTo||"",inventoryAction:t.inventoryAction||"none",quantityAffected:t.quantityAffected||1}))},[r,i,t]);const[u,d]=S.useState(!1);if(!r)return null;const f=(y,b)=>{c(w=>{const N={...w,[y]:b};if(y==="itemId"){const j=s.find(k=>k.id===b);j&&(N.itemName=j.title)}return N})},g=async y=>{if(y.preventDefault(),!l.title.trim()){Ce.error("Please enter a title");return}if(!l.description.trim()){Ce.error("Please enter a description");return}if(!l.category.trim()){Ce.error("Please select a category");return}if(l.inventoryAction==="deduct"&&l.itemId){const b=s.find(w=>w.id===l.itemId);if(b&&l.quantityAffected>b.quantity){Ce.error(`Cannot deduct more than available quantity (${b.quantity})`);return}}d(!0);try{if(t){const b={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,assignedTo:l.assignedTo||void 0};await a(t.id,b)}else{const b={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,createdDate:new Date().toISOString(),itemId:l.itemId||void 0,itemName:l.itemName||void 0,assignedTo:l.assignedTo||void 0,inventoryAction:l.itemId?l.inventoryAction:void 0,quantityAffected:l.itemId&&l.inventoryAction==="deduct"?l.quantityAffected:void 0};await n(b)}x()}catch(b){er.error("Error saving ticket:",b)}finally{d(!1)}},p=s.find(y=>y.id===l.itemId),x=()=>{c({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1}),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Gh,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?"Edit Maintenance Ticket":"New Maintenance Ticket"}),o.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:t?"Update ticket details and status":"Create a new maintenance request"})]})]}),o.jsx("button",{onClick:x,className:"p-2 hover:bg-primary-200 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-600"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.title,onChange:y=>f("title",y.target.value),placeholder:"e.g., Equipment maintenance required",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:l.description,onChange:y=>f("description",y.target.value),placeholder:"Describe the maintenance issue in detail",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.category,onChange:y=>f("category",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"Equipment",children:"Equipment"}),o.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),o.jsx("option",{value:"Software",children:"Software"}),o.jsx("option",{value:"Hardware",children:"Hardware"}),o.jsx("option",{value:"Facility",children:"Facility"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.priority,onChange:y=>f("priority",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]}),t&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.status,onChange:y=>f("status",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"resolved",children:"Resolved"}),o.jsx("option",{value:"closed",children:"Closed"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item (Optional)"}),o.jsxs("select",{value:l.itemId,onChange:y=>f("itemId",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select an item"}),s.map(y=>o.jsx("option",{value:y.id,children:y.title},y.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To (Optional)"}),o.jsx("input",{type:"text",value:l.assignedTo,onChange:y=>f("assignedTo",y.target.value),placeholder:"Team member name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),l.itemId&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(F0).map(y=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-all ${l.inventoryAction===y?"border-primary-500 bg-white shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventoryAction",value:y,checked:l.inventoryAction===y,onChange:b=>f("inventoryAction",b.target.value),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:F0[y]}),o.jsx("div",{className:"text-sm text-gray-500",children:fH[y]})]})]},y))}),l.inventoryAction==="deduct"&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Deduct"}),o.jsx("input",{type:"number",min:1,max:p?.quantity||100,value:l.quantityAffected,onChange:y=>f("quantityAffected",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),p&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",p.quantity," ",p.unitOfMeasure||"units"]})]}),o.jsxs("div",{className:"flex items-start gap-2 mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(Ss,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-blue-800",children:"Inventory will be restored automatically when this ticket is marked as completed or resolved."})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:t?u?"Saving...":"Save Changes":u?"Creating...":"Create Ticket"})]})]})]})})},ac="/scheduled-maintenance",mH=Nl((r,e)=>({schedules:[],upcomingSchedules:[],overdueSchedules:[],stats:null,loading:!1,error:null,fetchSchedules:async t=>{r({loading:!0,error:null});try{const n=new URLSearchParams;t?.item_id&&n.append("item_id",t.item_id),t?.is_completed!==void 0&&n.append("is_completed",String(t.is_completed)),t?.maintenance_type&&n.append("maintenance_type",t.maintenance_type),t?.from_date&&n.append("from_date",t.from_date),t?.to_date&&n.append("to_date",t.to_date);const a=n.toString(),s=a?`${ac}?${a}`:ac,i=await Sr.api.get(s);r({schedules:i.data,loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to fetch schedules";r({error:a,loading:!1}),Ce.error(a)}},fetchUpcoming:async()=>{r({loading:!0,error:null});try{const t=await Sr.api.get(`${ac}/upcoming`);r({upcomingSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch upcoming schedules";r({error:n,loading:!1}),Ce.error(n)}},fetchOverdue:async()=>{r({loading:!0,error:null});try{const t=await Sr.api.get(`${ac}/overdue`);r({overdueSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch overdue schedules";r({error:n,loading:!1}),Ce.error(n)}},fetchStats:async()=>{try{const t=await Sr.api.get(`${ac}/stats`);r({stats:t.data})}catch(t){console.error("Failed to fetch maintenance stats:",t)}},fetchSchedulesForItem:async t=>{try{return(await Sr.api.get(`${ac}/item/${t}`)).data}catch(n){return console.error("Failed to fetch item schedules:",n),[]}},createSchedule:async t=>{r({loading:!0,error:null});try{const a=(await Sr.api.post(ac,t)).data;return r(s=>({schedules:[a,...s.schedules],loading:!1})),Ce.success("Scheduled maintenance created"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to create schedule";throw r({error:a,loading:!1}),Ce.error(a),n}},updateSchedule:async(t,n)=>{r({loading:!0,error:null});try{const s=(await Sr.api.put(`${ac}/${t}`,n)).data;return r(i=>({schedules:i.schedules.map(l=>l.id===t?s:l),upcomingSchedules:i.upcomingSchedules.map(l=>l.id===t?s:l),loading:!1})),Ce.success("Schedule updated"),s}catch(a){const s=a.response?.data?.message||"Failed to update schedule";throw r({error:s,loading:!1}),Ce.error(s),a}},deleteSchedule:async t=>{r({loading:!0,error:null});try{await Sr.api.delete(`${ac}/${t}`),r(n=>({schedules:n.schedules.filter(a=>a.id!==t),upcomingSchedules:n.upcomingSchedules.filter(a=>a.id!==t),overdueSchedules:n.overdueSchedules.filter(a=>a.id!==t),loading:!1})),Ce.success("Schedule deleted"),e().fetchStats()}catch(n){const a=n.response?.data?.message||"Failed to delete schedule";throw r({error:a,loading:!1}),Ce.error(a),n}},markCompleted:async t=>{r({loading:!0,error:null});try{const a=(await Sr.api.post(`${ac}/${t}/complete`)).data;return r(s=>({schedules:s.schedules.map(i=>i.id===t?a:i),upcomingSchedules:s.upcomingSchedules.filter(i=>i.id!==t),overdueSchedules:s.overdueSchedules.filter(i=>i.id!==t),loading:!1})),Ce.success("Maintenance marked as completed"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to mark as completed";throw r({error:a,loading:!1}),Ce.error(a),n}},createTicketFromSchedule:async t=>{r({loading:!0,error:null});try{await Sr.api.post(`${ac}/${t}/create-ticket`),await e().fetchSchedules(),await e().fetchUpcoming(),Ce.success("Maintenance ticket created"),r({loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to create ticket";throw r({error:a,loading:!1}),Ce.error(a),n}},resetError:()=>r({error:null})})),Ime=({isOpen:r,onClose:e,editingSchedule:t,preselectedItemId:n})=>{const{items:a,fetchInventory:s}=py(),{createSchedule:i,updateSchedule:l,loading:c}=mH(),[u,d]=S.useState({item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),[f,g]=S.useState({});S.useEffect(()=>{r&&s()},[r,s]),S.useEffect(()=>{d(t?{item_id:t.item_id,maintenance_type:t.maintenance_type,description:t.description||"",scheduled_date:t.scheduled_date.split("T")[0],inventory_action:t.inventory_action,quantity_affected:t.quantity_affected}:n?b=>({...b,item_id:n}):{item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),g({})},[t,n,r]);const p=()=>{const b={};if(u.item_id||(b.item_id="Please select an item"),!u.scheduled_date)b.scheduled_date="Please select a date";else{const w=new Date(u.scheduled_date),N=new Date;N.setHours(0,0,0,0),w<N&&!t&&(b.scheduled_date="Date cannot be in the past")}return u.inventory_action==="deduct"&&u.quantity_affected<1&&(b.quantity_affected="Quantity must be at least 1"),g(b),Object.keys(b).length===0},x=async b=>{if(b.preventDefault(),!!p())try{t?await l(t.id,{maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}):await i({item_id:u.item_id,maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}),e()}catch{}},y=a.find(b=>b.id===u.item_id);return o.jsx(g1,{isOpen:r,onClose:e,title:t?"Edit Scheduled Maintenance":"Schedule Maintenance",description:"Set up maintenance reminders",icon:o.jsx(ns,{className:"w-5 h-5 text-amber-600"}),size:"md",children:o.jsxs("form",{onSubmit:x,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Equipment/Item *"}),o.jsxs("select",{value:u.item_id,onChange:b=>d({...u,item_id:b.target.value}),disabled:!!t||!!n,className:`w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${f.item_id?"border-red-300":"border-gray-200"} ${t||n?"bg-gray-50 cursor-not-allowed":""}`,children:[o.jsx("option",{value:"",children:"Select an item..."}),a.map(b=>o.jsxs("option",{value:b.id,children:[b.title," (",b.sku,")"]},b.id))]}),f.item_id&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.item_id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Maintenance Type *"}),o.jsx("select",{value:u.maintenance_type,onChange:b=>d({...u,maintenance_type:b.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:Object.entries(oS).map(([b,w])=>o.jsx("option",{value:b,children:w},b))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Scheduled Date *"}),o.jsx(Cn,{type:"date",value:u.scheduled_date,onChange:b=>d({...u,scheduled_date:b.target.value}),min:new Date().toISOString().split("T")[0],className:f.scheduled_date?"border-red-300":""}),f.scheduled_date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.scheduled_date})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description (Optional)"}),o.jsx("textarea",{value:u.description,onChange:b=>d({...u,description:b.target.value}),placeholder:"Additional notes about this maintenance...",rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(F0).map(b=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-xl cursor-pointer transition-all ${u.inventory_action===b?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventory_action",value:b,checked:u.inventory_action===b,onChange:w=>d({...u,inventory_action:w.target.value}),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:F0[b]}),o.jsx("div",{className:"text-sm text-gray-500",children:fH[b]})]})]},b))})]}),u.inventory_action==="deduct"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Quantity to Deduct"}),o.jsx(Cn,{type:"number",min:1,max:y?.quantity||100,value:u.quantity_affected,onChange:b=>d({...u,quantity_affected:parseInt(b.target.value)||1}),className:f.quantity_affected?"border-red-300":""}),y&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",y.quantity," ",y.unitOfMeasure||"units"]}),f.quantity_affected&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.quantity_affected})]}),o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[o.jsx(Ss,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-amber-800",children:[o.jsx("p",{className:"font-medium",children:"Reminders will be sent:"}),o.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:"14 days before the scheduled date"}),o.jsx("li",{children:"7 days before the scheduled date"}),o.jsx("li",{children:"1 day before the scheduled date"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Dt,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),o.jsx(Dt,{type:"submit",disabled:c,className:"flex-1",children:c?"Saving...":t?"Update Schedule":"Create Schedule"})]})]})})},Lme=()=>{const{filteredTickets:r,fetchMaintenance:e,loading:t,stats:n,updateTicket:a,deleteTicket:s}=p4(),{schedules:i,stats:l,loading:c,fetchSchedules:u,fetchStats:d,deleteSchedule:f,markCompleted:g,createTicketFromSchedule:p}=mH(),{isMobile:x}=Ow(),[y,b]=S.useState("ongoing"),[w,N]=S.useState(!1),[j,k]=S.useState(!1),[T,I]=S.useState(!1),[M,L]=S.useState(null),[P,q]=S.useState(null),[F,R]=S.useState([]),[H,z]=S.useState(""),[X,$]=S.useState({isOpen:!1}),te=async()=>{try{const G=new Date;G.setDate(1),G.setHours(0,0,0,0);const Fe=await(await qv(async()=>{const{httpClient:Je}=await Promise.resolve().then(()=>WY);return{httpClient:Je}},[],import.meta.url)).httpClient.api.get("/scheduled-maintenance",{params:{is_completed:!0,from_date:G.toISOString()}});R(Fe.data)}catch(G){console.error("Failed to fetch completed schedules:",G)}};S.useEffect(()=>{e(),u({is_completed:!1}),d(),y==="completed"&&te()},[y]);const ee=G=>{const Fe={open:"warning","in-progress":"info",resolved:"success",closed:"default"},Je={open:"Open","in-progress":"In Progress",resolved:"Resolved",closed:"Closed"};return o.jsx(wn,{variant:Fe[G]||"default",children:Je[G]||G})},fe=G=>{const Fe={critical:"danger",high:"warning",medium:"info",low:"default"},Je={critical:"Critical",high:"High",medium:"Medium",low:"Low"};return o.jsx(wn,{variant:Fe[G]||"default",size:"sm",children:Je[G]||G})},_e=G=>{L(G),I(!0)},re=G=>{$({isOpen:!0,ticketId:G,type:"ticket"})},U=G=>{$({isOpen:!0,scheduleId:G,type:"schedule"})},Y=async()=>{try{X.type==="ticket"&&X.ticketId?(await s(X.ticketId),nt.success("Ticket deleted successfully"),e()):X.type==="schedule"&&X.scheduleId&&(await f(X.scheduleId),nt.success("Scheduled maintenance deleted"),u({is_completed:!1}),d()),$({isOpen:!1})}catch{nt.error(`Failed to delete ${X.type}`)}},ne=G=>{q(G),k(!0)},oe=async G=>{try{await g(G),nt.success("Maintenance marked as completed"),u({is_completed:!1}),d()}catch{nt.error("Failed to mark as completed")}},de=async G=>{try{await p(G),nt.success("Maintenance ticket created"),e(),u({is_completed:!1})}catch{nt.error("Failed to create ticket")}},he=G=>{const Fe=i.find(Je=>Je.id===G);if(Fe?.ticket_id){const Je=r.find(et=>et.id===Fe.ticket_id);if(Je){const et=Je.status==="resolved"||Je.status==="closed";b(et?"completed":"ongoing"),nt.success(`Switched to ${et?"Completed":"On-going"} tab`)}}},Se=G=>{r.find(Je=>Je.id===G)?.scheduledMaintenanceId&&(b("scheduled"),nt.success("Switched to Scheduled tab"))},me=G=>{const Fe=new Date;Fe.setHours(0,0,0,0);const Je=new Date(G);Je.setHours(0,0,0,0);const et=Je.getTime()-Fe.getTime();return Math.ceil(et/(1e3*60*60*24))},be=G=>{const Fe=me(G);return Fe<0?o.jsxs(wn,{variant:"danger",children:[Math.abs(Fe)," days overdue"]}):Fe===0?o.jsx(wn,{variant:"danger",children:"Due today"}):Fe<=7?o.jsxs(wn,{variant:"warning",children:[Fe," days left"]}):Fe<=14?o.jsxs(wn,{variant:"info",children:[Fe," days left"]}):o.jsxs(wn,{variant:"success",children:[Fe," days left"]})},ge=G=>{if(!H.trim())return!0;const Fe=H.toLowerCase(),Je=(G.title||G.itemName||"").toLowerCase(),et=(G.description||"").toLowerCase(),$e=(G.item?.title||"").toLowerCase();return Je.includes(Fe)||et.includes(Fe)||$e.includes(Fe)},le=r.filter(G=>y==="ongoing"?G.status!=="resolved"&&G.status!=="closed":G.status==="resolved"||G.status==="closed").filter(ge),je=F.filter(ge),Qe=i.filter(ge);return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[n?.pending||0," on-going, ",n?.completed||0," completed",l&&`, ${l.total} scheduled`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Dt,{onClick:()=>{q(null),k(!0)},variant:"outline",icon:o.jsx(ns,{className:"w-5 h-5"}),size:x?"md":"lg",children:"Schedule"}),o.jsx(Dt,{onClick:()=>N(!0),icon:o.jsx(Vs,{className:"w-5 h-5"}),size:x?"md":"lg",children:"New Ticket"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:o.jsx(Gh,{className:"w-5 h-5 text-amber-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"On-going"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n?.pending||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(ns,{className:"w-5 h-5 text-blue-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.total||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center",children:o.jsx(W0,{className:"w-5 h-5 text-red-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.overdue||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(is,{className:"w-5 h-5 text-green-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Completed This Month"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.completedThisMonth||0})]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search by title, description, or item name...",value:H,onChange:G=>z(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>b("ongoing"),className:`px-4 py-2 font-medium transition-colors relative ${y==="ongoing"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["On-going",n&&n.pending>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary-100 text-primary-700 rounded-full",children:n.pending})]}),o.jsxs("button",{onClick:()=>b("completed"),className:`px-4 py-2 font-medium transition-colors relative ${y==="completed"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Completed",n&&n.completed>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded-full",children:n.completed})]}),o.jsxs("button",{onClick:()=>b("scheduled"),className:`px-4 py-2 font-medium transition-colors relative ${y==="scheduled"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Scheduled",l&&(l.upcoming>0||l.overdue>0)&&o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.overdue>0?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:l.overdue>0?l.overdue:l.upcoming})]})]}),(t||c)&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!t&&y!=="scheduled"&&le.length>0&&o.jsx("div",{className:"space-y-3",children:le.map(G=>o.jsx(Lr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:G.title}),fe(G.priority),G.scheduledMaintenanceId&&o.jsxs(wn,{variant:"info",size:"sm",children:[o.jsx(ns,{className:"w-3 h-3 inline mr-1"}),"From Schedule"]})]}),G.itemName&&o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Item: ",G.itemName]}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:G.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Created: ",km(G.createdDate)]}),G.assignedTo&&o.jsxs("span",{children:["Assigned to: ",G.assignedTo]}),G.completedDate&&o.jsxs("span",{children:["Completed: ",km(G.completedDate)]})]})]}),o.jsxs("div",{className:"flex md:flex-col items-center md:items-end gap-2",children:[ee(G.status),o.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[G.scheduledMaintenanceId&&o.jsx("button",{onClick:()=>Se(G.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-colors",title:"View linked schedule",children:o.jsx(ns,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_e(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit ticket",children:o.jsx(cA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>re(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete ticket",children:o.jsx(ui,{className:"w-4 h-4"})})]})]})]})},G.id))}),!c&&y==="completed"&&je.length>0&&o.jsx("div",{className:"space-y-3",children:je.map(G=>o.jsx(Lr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 flex-1",children:[G.item?.title||"Unknown Item"," - ",oS[G.maintenance_type]]}),o.jsx(wn,{variant:"success",children:"Completed"})]}),G.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:G.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Scheduled: ",km(G.scheduled_date)]}),G.completed_date&&o.jsxs("span",{children:["Completed: ",km(G.completed_date)]}),G.ticket_id&&o.jsxs(wn,{variant:"info",size:"sm",children:["Ticket #",G.ticket_id.slice(0,8)]})]})]})})},`schedule-${G.id}`))}),!c&&y==="scheduled"&&Qe.length>0&&o.jsx("div",{className:"space-y-3",children:Qe.map(G=>o.jsx(Lr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:G.item?.title||"Unknown Item"}),be(G.scheduled_date)]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o.jsx(wn,{variant:"info",size:"sm",children:oS[G.maintenance_type]}),o.jsx(wn,{variant:"default",size:"sm",children:F0[G.inventory_action]}),G.ticket_id&&o.jsx(wn,{variant:"success",size:"sm",children:"Ticket Created"})]}),G.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:G.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ns,{className:"w-3 h-3"}),km(G.scheduled_date)]}),G.item?.sku&&o.jsxs("span",{children:["SKU: ",G.item.sku]}),G.inventory_action==="deduct"&&o.jsxs("span",{children:["Qty: ",G.quantity_affected]})]})]}),o.jsx("div",{className:"flex md:flex-col items-center gap-2",children:o.jsxs("div",{className:"flex gap-1",children:[G.ticket_id?o.jsx("button",{onClick:()=>he(G.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"View linked ticket",children:o.jsx(is,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>de(G.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded transition-colors",title:"Create maintenance ticket",children:o.jsx(bG,{className:"w-4 h-4"})}),G.ticket_id?o.jsx("button",{disabled:!0,className:"p-2 text-gray-400 cursor-not-allowed rounded",title:"Complete by resolving the linked ticket",children:o.jsx(is,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>oe(G.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Mark as completed",children:o.jsx(is,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>ne(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit schedule",children:o.jsx(cA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>U(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete schedule",children:o.jsx(ui,{className:"w-4 h-4"})})]})})]})},G.id))}),!t&&y!=="scheduled"&&le.length===0&&o.jsx(o.Fragment,{children:je.length===0&&o.jsx(Lr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(Gh,{className:"w-16 h-16 mb-4 opacity-50"}),H?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No results found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-lg font-medium mb-2",children:["No ",y," tickets"]}),o.jsx("p",{className:"text-sm",children:"Create a new maintenance ticket to get started"})]})]})})}),!c&&y==="scheduled"&&Qe.length===0&&o.jsx(Lr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(ns,{className:"w-16 h-16 mb-4 opacity-50"}),H?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance found"}),o.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance"}),o.jsx("p",{className:"text-sm mb-4",children:"Schedule equipment maintenance, calibrations, or inspections"})]}),!H&&o.jsx(Dt,{onClick:()=>{q(null),k(!0)},icon:o.jsx(Vs,{className:"w-5 h-5"}),children:"Schedule Maintenance"})]})}),x&&o.jsx("button",{onClick:()=>N(!0),className:"fixed bottom-20 right-4 w-14 h-14 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center z-30",title:"Create new maintenance ticket",children:o.jsx(Vs,{className:"w-6 h-6"})})]}),o.jsx(Ome,{isOpen:w||T,onClose:()=>{N(!1),I(!1),L(null),e()},editingTicket:M||void 0}),o.jsx(Ime,{isOpen:j,onClose:()=>{k(!1),q(null),u({is_completed:!1}),d()},editingSchedule:P}),o.jsx(bf,{isOpen:X.isOpen,onClose:()=>$({isOpen:!1}),onConfirm:Y,title:X.type==="schedule"?"Delete Scheduled Maintenance":"Delete Maintenance Ticket",message:X.type==="schedule"?"Are you sure you want to delete this scheduled maintenance? This action cannot be undone.":"Are you sure you want to delete this ticket? This action cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},cI={minLength:8},Dme=({isOpen:r,onClose:e,userEmail:t=""})=>{const[n,a]=S.useState(""),[s,i]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(!1),[f,g]=S.useState(!1),[p,x]=S.useState(!1),[y,b]=S.useState(!1),w=M=>M.length>=cI.minLength&&/[A-Z]/.test(M)&&/[a-z]/.test(M)&&/\d/.test(M)&&/[!@#$%^&*(),.?":{}|<>]/.test(M),j=(M=>{let L=0;return L=[M.length>=cI.minLength,/[A-Z]/.test(M),/[a-z]/.test(M),/\d/.test(M),/[!@#$%^&*(),.?":{}|<>]/.test(M)].filter(Boolean).length,L<=2?{score:1,label:"Weak",color:"bg-red-500"}:L<=3?{score:2,label:"Medium",color:"bg-yellow-500"}:{score:3,label:"Strong",color:"bg-green-500"}})(s),k=w(s),T=s===l&&s.length>0,I=async M=>{if(M.preventDefault(),!n){Ce.error("Current password is required");return}if(!k){Ce.error("Password does not meet requirements");return}if(!T){Ce.error("Passwords do not match");return}b(!0);try{await _t.changePassword(t,n,s),Ce.success("Password changed successfully"),a(""),i(""),c(""),e()}catch(L){const P=L.response?.data?.error||L.response?.data?.message||"Failed to change password";Ce.error(P),er.error("Password change error:",L)}finally{b(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-lg shadow-lg",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(Cd,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Change Password"}),o.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),o.jsxs("form",{onSubmit:I,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:n,onChange:M=>a(M.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter current password"}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:u?o.jsx(sC,{className:"w-5 h-5"}):o.jsx(sA,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:f?"text":"password",value:s,onChange:M=>i(M.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter new password"}),o.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:f?o.jsx(sC,{className:"w-5 h-5"}):o.jsx(sA,{className:"w-5 h-5"})})]}),s&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex gap-1 h-2",children:[o.jsx("div",{className:`flex-1 rounded-full ${j.score>=1?j.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${j.score>=2?j.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${j.score>=3?j.color:"bg-gray-200"}`})]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Strength: ",o.jsx("span",{className:`font-semibold ${j.score===1?"text-red-600":j.score===2?"text-yellow-600":"text-green-600"}`,children:j.label})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:s.length>=8?"text-green-600":"",children:[s.length>=8?"":""," At least 8 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(s)?"text-green-600":"",children:[/[A-Z]/.test(s)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(s)?"text-green-600":"",children:[/[a-z]/.test(s)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(s)?"text-green-600":"",children:[/\d/.test(s)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(s)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:p?"text":"password",value:l,onChange:M=>c(M.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Confirm new password"}),o.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:p?o.jsx(sC,{className:"w-5 h-5"}):o.jsx(sA,{className:"w-5 h-5"})}),l&&o.jsx("div",{className:"absolute right-10 top-2.5",children:T?o.jsx(is,{className:"w-5 h-5 text-green-500"}):o.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-red-500"})})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:y,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!k||!T||!n||y,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Changing...":"Change Password"})]})]})]})}):null},gH=S.createContext(void 0),AI="mycae-theme";function uI(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const Mme=({children:r})=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return"system";const c=localStorage.getItem("theme"),u=localStorage.getItem(AI);return u||c||"system"}),[n,a]=S.useState(()=>e==="system"?uI():e),s=S.useCallback(c=>{const u=document.documentElement;c==="dark"?u.classList.add("dark"):u.classList.remove("dark"),u.style.colorScheme=c},[]);S.useEffect(()=>{const c=e==="system"?uI():e;a(c),s(c),localStorage.setItem(AI,e),localStorage.removeItem("theme")},[e,s]),S.useEffect(()=>{if(e!=="system")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),u=d=>{const f=d.matches?"dark":"light";a(f),s(f)};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[e,s]);const i=S.useCallback(c=>{t(c)},[]),l=S.useCallback(()=>{i(n==="light"?"dark":"light")},[n,i]);return o.jsx(gH.Provider,{value:{theme:e,resolvedTheme:n,setTheme:i,toggleTheme:l},children:r})},Ume=()=>{const r=S.useContext(gH);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},Rme={emailNotifications:!0,pushNotifications:!0,lowStockAlerts:!0,maintenanceReminders:!0,darkMode:!1,language:"en",timeZone:"Asia/Kuala_Lumpur",twoFactorEnabled:!1},Qme=({isOpen:r,onClose:e,userEmail:t=""})=>{const{theme:n,toggleTheme:a}=Ume(),[s,i]=S.useState({...Rme,darkMode:n==="dark"}),[l,c]=S.useState(!1);S.useEffect(()=>{const f=localStorage.getItem("userPreferences");if(f)try{const g=JSON.parse(f);i({...g,darkMode:n==="dark"})}catch(g){er.error("Failed to load preferences:",g)}else i(g=>({...g,darkMode:n==="dark"}))},[r,n]);const u=(f,g)=>{i(p=>({...p,[f]:g})),f==="darkMode"&&a()},d=async()=>{c(!0);try{localStorage.setItem("userPreferences",JSON.stringify(s)),Ce.success("Preferences saved successfully"),e()}catch{Ce.error("Failed to save preferences")}finally{c(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-2xl p-6 bg-white rounded-lg shadow-lg max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(J5,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:f=>u("emailNotifications",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.pushNotifications,onChange:f=>u("pushNotifications",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Push Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.lowStockAlerts,onChange:f=>u("lowStockAlerts",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Low Stock Alerts"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.maintenanceReminders,onChange:f=>u("maintenanceReminders",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Maintenance Reminders"})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(sA,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Display"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.darkMode,onChange:f=>u("darkMode",f.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Dark Mode"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),o.jsxs("select",{value:s.language,onChange:f=>u("language",f.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"ms",children:"Malay (Bahasa Melayu)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),o.jsxs("select",{value:s.timeZone,onChange:f=>u("timeZone",f.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"Asia/Kuala_Lumpur",children:"Malaysia (GMT+8)"}),o.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"}),o.jsx("option",{value:"Asia/Bangkok",children:"Thailand (GMT+7)"}),o.jsx("option",{value:"UTC",children:"UTC"}),o.jsx("option",{value:"Europe/London",children:"London (GMT)"}),o.jsx("option",{value:"America/New_York",children:"New York (EST)"})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:e,disabled:l,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:d,disabled:l,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:l?"Saving...":"Save Preferences"})]})]})}):null},Gx={async getSettings(){return(await Sr.get("/company-settings")).data},async updateSettings(r){return(await Sr.put("/company-settings",r)).data},async uploadLogo(r){const e=new FormData;return e.append("logo",r),(await Sr.post("/company-settings/logo",e,{headers:{"Content-Type":"multipart/form-data"}})).data},async deleteLogo(){await Sr.delete("/company-settings/logo")}},Hme="https://mycaetech.com/api",Kme=()=>{const[r,e]=S.useState(null),[t,n]=S.useState(!0),[a,s]=S.useState(!1),[i,l]=S.useState(!1),c=S.useRef(null),[u,d]=S.useState({company_name:"",registration_number:"",address:"",phone:"",mobile:"",email:"",sst_id:"",primary_color:"#2563eb",invoice_footer:"",po_footer:"",bank_details:"",header_position:"top-center",logo_size:"medium",show_sst_id:!0,show_bank_details:!0,page_margin:50});S.useEffect(()=>{f()},[]);const f=async()=>{try{const b=await Gx.getSettings();e(b),d({company_name:b.company_name||"",registration_number:b.registration_number||"",address:b.address||"",phone:b.phone||"",mobile:b.mobile||"",email:b.email||"",sst_id:b.sst_id||"",primary_color:b.primary_color||"#2563eb",invoice_footer:b.invoice_footer||"",po_footer:b.po_footer||"",bank_details:b.bank_details||"",header_position:b.header_position||"top-center",logo_size:b.logo_size||"medium",show_sst_id:b.show_sst_id??!0,show_bank_details:b.show_bank_details??!0,page_margin:b.page_margin||50})}catch(b){er.error("Error loading company settings:",b),Ce.error("Failed to load company settings")}finally{n(!1)}},g=b=>{const{name:w,value:N,type:j}=b.target,k=b.target.checked;d(T=>({...T,[w]:j==="checkbox"?k:j==="number"?Number(N):N}))},p=async()=>{s(!0);try{const b=await Gx.updateSettings(u);e(b),Ce.success("Company settings saved successfully")}catch(b){er.error("Error saving company settings:",b),Ce.error("Failed to save company settings")}finally{s(!1)}},x=async b=>{const w=b.target.files?.[0];if(!w)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(w.type)){Ce.error("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image.");return}if(w.size>5*1024*1024){Ce.error("File too large. Maximum size is 5MB.");return}l(!0);try{const j=await Gx.uploadLogo(w);e(k=>k&&{...k,logo_url:j.logoUrl}),Ce.success("Logo uploaded successfully")}catch(j){er.error("Error uploading logo:",j),Ce.error("Failed to upload logo")}finally{l(!1),c.current&&(c.current.value="")}},y=async()=>{if(r?.logo_url&&confirm("Are you sure you want to delete the company logo?"))try{await Gx.deleteLogo(),e(b=>b&&{...b,logo_url:null}),Ce.success("Logo deleted successfully")}catch(b){er.error("Error deleting logo:",b),Ce.error("Failed to delete logo")}};return t?o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(aA,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Settings"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Configure your company details for PDF documents"})]})]}),o.jsxs("button",{onClick:p,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[o.jsx($D,{className:"w-4 h-4"}),a?"Saving...":"Save Changes"]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(lb,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Logo"})]}),o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"w-40 h-40 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:r?.logo_url?o.jsx("img",{src:`${Hme}${r.logo_url}`,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(lb,{className:"w-12 h-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"No logo"})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload your company logo. Recommended size: 300x100px. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:x,className:"hidden"}),o.jsxs("button",{onClick:()=>c.current?.click(),disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:[o.jsx(vl,{className:"w-4 h-4"}),i?"Uploading...":"Upload Logo"]}),r?.logo_url&&o.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:[o.jsx(ui,{className:"w-4 h-4"}),"Delete"]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Position"}),o.jsxs("select",{name:"header_position",value:u.header_position,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"top-left",children:"Top Left"}),o.jsx("option",{value:"top-center",children:"Top Center"}),o.jsx("option",{value:"top-right",children:"Top Right"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Size"}),o.jsxs("select",{name:"logo_size",value:u.logo_size,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"small",children:"Small (60px)"}),o.jsx("option",{value:"medium",children:"Medium (100px)"}),o.jsx("option",{value:"large",children:"Large (150px)"})]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(aA,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),o.jsx("input",{type:"text",name:"company_name",value:u.company_name,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),o.jsx("input",{type:"text",name:"registration_number",value:u.registration_number,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 863273W"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("textarea",{name:"address",value:u.address,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter company address (one line per address line)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"text",name:"phone",value:u.phone,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +604 376 2355"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),o.jsx("input",{type:"text",name:"mobile",value:u.mobile,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +60 17 2008173"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:u.email,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., contact@company.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SST ID"}),o.jsx("input",{type:"text",name:"sst_id",value:u.sst_id,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., P11-1808-31028245"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(za,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"PDF Document Options"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Margin (px)"}),o.jsx("input",{type:"number",name:"page_margin",value:u.page_margin,onChange:g,min:20,max:100,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_sst_id",checked:u.show_sst_id,onChange:g,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show SST ID on PDFs"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_bank_details",checked:u.show_bank_details,onChange:g,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Bank Details on PDFs"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Footer Text"}),o.jsx("textarea",{name:"invoice_footer",value:u.invoice_footer,onChange:g,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Payment terms, notes, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Footer Text"}),o.jsx("textarea",{name:"po_footer",value:u.po_footer,onChange:g,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"PO terms, signature requirements, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Details"}),o.jsx("textarea",{name:"bank_details",value:u.bank_details,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Bank name, account number, etc."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(nV,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Branding Colors"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",name:"primary_color",value:u.primary_color,onChange:g,className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:u.primary_color,onChange:b=>d(w=>({...w,primary_color:b.target.value})),className:"w-28 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"#2563eb"})]})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"This color will be used for accents in generated PDF documents."})]})]})]})},pH=Nl(r=>({pcs:[],loading:!1,error:null,fetchPCs:async e=>{try{r({loading:!0,error:null});const t=await _t.getAllComputers(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>{let i="available";return s.status==="in-repair"?i="maintenance":s.assigned_to&&(i="assigned"),{id:s.id,name:s.device_name||s.name,location:s.location||"",status:i,assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(l=>l.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}});r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch PCs";console.error("Error fetching PCs:",n),r({error:n,loading:!1})}},addPC:async e=>{try{r({loading:!0,error:null});const t=await _t.createComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:t.assigned_to?"assigned":t.status==="maintenance"?"maintenance":"available",assignedTo:t.assignee?.name||t.assignedTo,assignedToEmail:t.assignee?.email||t.assignedToEmail,assignedDate:t.updated_at,notes:t.notes,softwareUsed:t.installed_software?t.installed_software.split(",").filter(a=>a.trim()):[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:[...a.pcs,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add PC";console.error("Error adding PC:",n),r({error:n,loading:!1})}},assignPC:async(e,t,n,a,s,i)=>{try{r({loading:!0,error:null});const l=await _t.assignComputerToUser(e,t,i,s),c={id:l.id,name:l.device_name||l.name,location:l.location||"",status:"assigned",assignedTo:l.assignee?.name||n,assignedToEmail:l.assignee?.email||a,assignedDate:new Date().toISOString(),notes:l.notes||s,softwareUsed:l.installed_software?l.installed_software.split(",").filter(u=>u.trim()):i,lastUpdated:l.updated_at||new Date().toISOString()};r(u=>({pcs:u.pcs.map(d=>d.id===e?c:d),loading:!1}))}catch(l){const c=l?.response?.data?.error||l?.message||"Failed to assign PC";throw console.error("Error assigning PC:",c),r({error:c,loading:!1}),l}},releasePC:async e=>{try{r({loading:!0,error:null});const t=await _t.unassignComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:"available",assignedTo:void 0,assignedToEmail:void 0,assignedDate:void 0,notes:t.notes,softwareUsed:[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:a.pcs.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to release PC";console.error("Error releasing PC:",n),r({error:n,loading:!1})}},updatePC:async(e,t)=>{try{r({loading:!0,error:null});const n=await _t.updateComputer(e,t);let a="available";n.status==="in-repair"?a="maintenance":n.assigned_to&&(a="assigned");const s={id:n.id,name:n.device_name||n.name,location:n.location||"",status:a,assignedTo:n.assignee?.name||n.assignedTo,assignedToEmail:n.assignee?.email||n.assignedToEmail,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(i=>({pcs:i.pcs.map(l=>l.id===e?s:l),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update PC";console.error("Error updating PC:",a),r({error:a,loading:!1})}},deletePC:async e=>{try{r({loading:!0,error:null}),await _t.deleteComputer(e),r(t=>({pcs:t.pcs.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete PC";console.error("Error deleting PC:",n),r({error:n,loading:!1})}},getPCsAssignedTo:async e=>{try{r({loading:!0,error:null});const t=await _t.getComputersAssignedTo(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>({id:s.id,name:s.device_name||s.name,location:s.location||"",status:"assigned",assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}));r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch assigned PCs";console.error("Error fetching assigned PCs:",n),r({error:n,loading:!1})}},setMaintenanceStatus:async(e,t)=>{try{r({loading:!0,error:null});const n=await _t.setMaintenanceStatus(e,t),a={id:n.id,name:n.device_name||n.name,location:n.location||"",status:t?"maintenance":"available",assignedTo:t?void 0:n.assignee?.name,assignedToEmail:t?void 0:n.assignee?.email,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(s=>s.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(s=>({pcs:s.pcs.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update maintenance status";throw console.error("Error updating maintenance status:",a),r({error:a,loading:!1}),n}}})),zme=()=>{const r=S.useRef(null),[e,t]=S.useState(!1),[n,a]=S.useState(!1),[s,i]=S.useState(!1),{user:l}=Qd(),c=l&&(l.role==="admin"||Array.isArray(l.roles)&&l.roles.includes("admin")),u=Sl(k=>k.teamMembers),d=Fa(k=>k.projects),f=gc(k=>k.clients),g=py(k=>k.items),p=g4(k=>k.checkouts),x=pH(k=>k.pcs),y=Id(k=>k.researchProjects),b=p4(k=>k.tickets),w=()=>{try{const k={exportDate:new Date().toISOString(),version:"1.0.0",records:{teamMembers:u,projects:d,clients:f,inventoryItems:g,checkouts:p,pcs:x,researchProjects:y,maintenanceTickets:b},summary:{totalTeamMembers:u.length,totalProjects:d.length,totalClients:f.length,totalInventoryItems:g.length,totalCheckouts:p.length,totalPCs:x.length,totalResearchProjects:y.length,totalMaintenanceTickets:b.length}},T=JSON.stringify(k,null,2),I=new Blob([T],{type:"application/json"}),M=URL.createObjectURL(I),L=document.createElement("a");L.href=M,L.download=`mycae-tracker-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(M),nt.success(` Data exported successfully! (${Object.keys(k.summary).length} entities)`)}catch(k){nt.error(" Failed to export data"),er.error("Export error:",k)}},N=()=>{r.current?.click()},j=k=>{const T=k.target.files?.[0];if(!T)return;const I=new FileReader;I.onload=M=>{try{const L=M.target?.result,P=JSON.parse(L);if(!P.records||!P.summary)throw new Error("Invalid file format");nt.success(` Data imported successfully!
Teams: ${P.summary.totalTeamMembers}, Projects: ${P.summary.totalProjects}, Clients: ${P.summary.totalClients}, Inventory: ${P.summary.totalInventoryItems}`),er.debug("Imported data:",P)}catch(L){nt.error(" Failed to parse import file"),er.error("Import error:",L)}},I.readAsText(T),k.target.value=""};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Settings"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage app data and integrations"})]}),o.jsxs(Lr,{variant:"bordered",className:"mb-4",children:[o.jsx(Ex,{children:o.jsx(_x,{children:"Profile"})}),o.jsx(kx,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(yl,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:l?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500",children:l?.email||"user@mycae.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cd,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Change Password"})]}),o.jsx(Km,{className:"w-5 h-5 text-gray-400"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(GD,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preferences"})]}),o.jsx(Km,{className:"w-5 h-5 text-gray-400"})]})]})]})})]}),c&&o.jsxs(Lr,{variant:"bordered",className:"mb-4",children:[o.jsx(Ex,{children:o.jsx(_x,{children:"Company Settings"})}),o.jsx(kx,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("strong",{children:"Admin Only:"})," Configure company branding, logo, and PDF document settings. These settings will be applied to all generated invoices and purchase orders."]})}),o.jsxs("button",{onClick:()=>i(!s),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(aA,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:s?"Hide Company Settings":"Edit Company Settings"})]}),o.jsx(Km,{className:`w-5 h-5 text-gray-400 transition-transform ${s?"rotate-90":""}`})]}),s&&o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:o.jsx(Kme,{})})]})})]}),o.jsxs(Lr,{variant:"bordered",className:"mb-4",children:[o.jsx(Ex,{children:o.jsx(_x,{children:"Data Management"})}),o.jsx(kx,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Export:"})," Download all application data as JSON file",o.jsx("br",{}),o.jsx("strong",{children:"Import:"})," Load data from previously exported JSON file"]})}),o.jsx(Dt,{variant:"outline",fullWidth:!0,icon:o.jsx(wu,{className:"w-5 h-5"}),onClick:w,children:"Export Data"}),o.jsx(Dt,{variant:"outline",fullWidth:!0,icon:o.jsx(vl,{className:"w-5 h-5"}),onClick:N,children:"Import Data"}),o.jsx("input",{ref:r,type:"file",accept:".json",onChange:j,className:"hidden"}),o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Current Data Summary"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Team Members"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:u.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Projects"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:d.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Inventory Items"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:g.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"PCs"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:x.length})]})]})]})]})})]}),o.jsxs(Lr,{variant:"bordered",children:[o.jsx(Ex,{children:o.jsx(_x,{children:"About"})}),o.jsxs(kx,{children:[o.jsx("button",{className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hj,{className:"w-5 h-5 text-gray-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"App Version"}),o.jsx("p",{className:"text-sm text-gray-500",children:"1.0.0"})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-600",children:"MyCAE Equipment Tracker - Inventory Management System"})})]})]})]}),o.jsx(Dme,{isOpen:e,onClose:()=>t(!1),userEmail:l?.email,onSuccess:()=>{t(!1),nt.success("Password changed successfully!")}}),o.jsx(Qme,{isOpen:n,onClose:()=>a(!1),onSave:k=>{a(!1),nt.success("Preferences saved successfully!")}})]})},qme=()=>{const{filteredCheckouts:r,fetchCheckouts:e,setFilters:t,loading:n}=g4(),{items:a,fetchInventory:s,loading:i}=py(),{isMobile:l}=Ow(),c=xa(),[u,d]=S.useState("transactions"),[f,g]=S.useState(""),[p,x]=S.useState("all"),[y,b]=S.useState(""),[w,N]=S.useState("all"),j=n||i;S.useEffect(()=>{e(),s()},[]),S.useEffect(()=>{u==="locations"&&(s(),e())},[u]),S.useEffect(()=>{t({userId:void 0,status:p==="all"?void 0:p,search:f,showMyCheckoutsFirst:!1})},[p,f]);const k=S.useMemo(()=>{const F=[];return r.filter(R=>R.status==="active"||R.status==="partial-return"||R.status==="overdue").forEach(R=>{R.items.filter(H=>H.returnStatus==="checked-out").forEach(H=>{const z=R.purpose||R.checkedOutBy;let X=F.find($=>$.location===z&&$.checkedOutByEmail===R.checkedOutByEmail);X||(X={location:z,totalItems:0,uniqueEquipment:0,checkedOutBy:R.checkedOutBy,checkedOutByEmail:R.checkedOutByEmail,checkoutDate:R.checkedOutDate,expectedReturn:R.expectedReturnDate,items:[]},F.push(X)),X.totalItems+=H.remainingQuantity,X.uniqueEquipment+=1,X.items.push({itemName:H.itemName,quantity:H.remainingQuantity,barcode:H.barcode})})}),F},[r]),T=S.useMemo(()=>{let F=[...k];if(y){const R=y.toLowerCase();F=F.filter(H=>H.location.toLowerCase().includes(R)||H.checkedOutBy.toLowerCase().includes(R)||H.items.some(z=>z.itemName.toLowerCase().includes(R)))}return F},[k,y]),I=S.useMemo(()=>{const F=k.reduce((X,$)=>X+$.totalItems,0),R=k.length,H=new Set(k.map(X=>X.checkedOutByEmail)).size,z=Array.isArray(a)?a.reduce((X,$)=>X+$.quantity,0):0;return{totalEquipmentOut:F,totalLocations:R,uniqueUsers:H,totalInWarehouse:z-F,totalCheckouts:r.length}},[k,a,r]),M=F=>{switch(F){case"active":return o.jsx(wn,{variant:"success",children:"Active"});case"partial-return":return o.jsx(wn,{variant:"warning",children:"Partial Return"});case"overdue":return o.jsx(wn,{variant:"danger",children:"Overdue"});case"fully-returned":return o.jsx(wn,{variant:"default",children:"Returned"});default:return null}},L=F=>{if(!F)return null;const R=new Date,z=new Date(F).getTime()-R.getTime(),X=Math.ceil(z/(1e3*60*60*24));return X<0?{text:`${Math.abs(X)} days overdue`,className:"text-red-600"}:X===0?{text:"Due today",className:"text-orange-600"}:X===1?{text:"Due tomorrow",className:"text-gray-600"}:{text:`Due in ${X} days`,className:"text-gray-600"}},P=F=>F?new Date(F)<new Date:!1,q=r;return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage checkouts and track equipment locations"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:o.jsx(hu,{className:"w-6 h-6 text-primary-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Equipment Out"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:I.totalEquipmentOut})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(aA,{className:"w-6 h-6 text-green-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Locations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:I.totalLocations})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(yl,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Users"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:I.uniqueUsers})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Z5,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Office Storage"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:I.totalInWarehouse})]}),o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:o.jsx(v0,{className:"w-6 h-6 text-orange-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Checkouts"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:I.totalCheckouts})]})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-2 px-4 md:px-6",children:[o.jsxs("button",{onClick:()=>d("transactions"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="transactions"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(as,{className:"w-4 h-4 inline mr-2"}),"Transactions"]}),o.jsxs("button",{onClick:()=>d("locations"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="locations"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Dm,{className:"w-4 h-4 inline mr-2"}),"Locations"]})]})}),u==="transactions"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6 space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Cn,{placeholder:"Search by barcode, purpose, or items...",icon:o.jsx(AA,{className:"w-4 h-4"}),value:f,onChange:F=>g(F.target.value),fullWidth:!0})}),o.jsxs("select",{value:p,onChange:F=>x(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"partial-return",children:"Partial Return"}),o.jsx("option",{value:"overdue",children:"Overdue"}),o.jsx("option",{value:"fully-returned",children:"Returned"})]})]})}),j&&o.jsx("div",{className:"flex justify-center items-center py-12 px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!j&&q.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(hu,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No checkouts found"})]}),!j&&q.length>0&&l&&o.jsx("div",{className:"space-y-3 px-4 md:px-6",children:q.map(F=>{const R=L(F.expectedReturnDate),H=F.checkedOutByEmail===c.email;return o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-mono text-sm font-medium text-gray-900",children:F.masterBarcode}),F.purpose&&o.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:F.purpose})]}),M(F.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checked Out By"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:H?"You":F.checkedOutBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.status==="partial-return"?`${F.remainingItems}/${F.totalItems} out`:`${F.totalItems} items`})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checkout Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(F.checkedOutDate).toLocaleDateString()})]}),R&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:`text-sm font-medium ${R.className}`,children:R.text})]})]}),(F.status==="active"||F.status==="partial-return"||F.status==="overdue")&&H&&o.jsx("div",{className:"pt-3 border-t border-gray-100",children:o.jsx(Dt,{size:"sm",fullWidth:!0,variant:"outline",children:"Check-In Items"})})]},F.id)})}),!j&&q.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(Lr,{variant:"bordered",padding:"none",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Master Barcode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Checked Out By"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),o.jsx("tbody",{children:q.map(F=>{const R=L(F.expectedReturnDate),H=F.checkedOutByEmail===c.email;return o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-mono text-sm text-gray-900",children:F.masterBarcode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:H?"You":F.checkedOutBy})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:F.purpose||"-"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:F.status==="partial-return"?`${F.remainingItems}/${F.totalItems}`:F.totalItems})}),o.jsx("td",{className:"px-6 py-4",children:R?o.jsx("p",{className:`text-sm font-medium ${R.className}`,children:R.text}):o.jsx("p",{className:"text-sm text-gray-500",children:"-"})}),o.jsx("td",{className:"px-6 py-4",children:M(F.status)})]},F.id)})})]})})})})]}),u==="locations"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Cn,{placeholder:"Search by location, person, or equipment...",icon:o.jsx(AA,{className:"w-4 h-4"}),value:y,onChange:F=>b(F.target.value),fullWidth:!0})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>N("all"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${w==="all"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{onClick:()=>N("person"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${w==="person"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Person"}),o.jsx("button",{onClick:()=>N("site"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${w==="site"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Site"})]})]})}),j&&o.jsx("div",{className:"flex justify-center items-center py-12 px-4 md:px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!j&&T.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(Dm,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No equipment at locations"})]}),!j&&T.length>0&&l&&o.jsx("div",{className:"space-y-4 px-4 md:px-6",children:T.map((F,R)=>o.jsxs(Lr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Dm,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:F.location}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:F.checkedOutBy})]})]}),P(F.expectedReturn)&&o.jsx(wn,{variant:"danger",children:"Overdue"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items Out"}),o.jsx("p",{className:"font-semibold text-gray-900",children:F.totalItems})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Types"}),o.jsx("p",{className:"font-semibold text-gray-900",children:F.uniqueEquipment})]})]}),F.items.length>0&&o.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Equipment:"}),o.jsxs("div",{className:"space-y-1 text-xs",children:[F.items.slice(0,3).map((H,z)=>o.jsxs("p",{className:"text-gray-600",children:[" ",H.itemName," (",H.quantity,"x)"]},z)),F.items.length>3&&o.jsxs("p",{className:"text-gray-500 italic",children:["+",F.items.length-3," more"]})]})]})]},R))}),!j&&T.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(Lr,{variant:"bordered",padding:"none",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Checked Out By"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Types"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Checkout Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expected Return"})]})}),o.jsx("tbody",{children:T.map((F,R)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dm,{className:"w-4 h-4 text-gray-400"}),o.jsx("p",{className:"font-medium text-gray-900",children:F.location})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:F.checkedOutBy})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:F.totalItems})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:F.uniqueEquipment})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:new Date(F.checkoutDate).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4",children:F.expectedReturn?o.jsx("p",{className:`text-sm font-medium ${P(F.expectedReturn)?"text-red-600":"text-gray-900"}`,children:new Date(F.expectedReturn).toLocaleDateString()}):o.jsx("p",{className:"text-sm text-gray-500",children:"-"})})]},R))})]})})})})]})]})})},lS=$s.forwardRef(({isLoading:r=!1,loadingText:e,children:t,disabled:n,icon:a,...s},i)=>o.jsx(Dt,{ref:i,disabled:n||r,icon:r?o.jsx(zD,{className:"w-4 h-4 animate-spin"}):a,...s,children:r?e||"Loading...":t}));lS.displayName="LoadingButton";const $me=({onClose:r,onAdd:e,isLoading:t=!1})=>{const[n,a]=S.useState({name:"",location:"",status:"available"}),s=i=>{i.preventDefault();const l={assetTag:n.name,deviceName:n.name,computerType:"laptop",location:n.location};e(l)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(cb,{className:"w-6 h-6 text-primary-600"}),"Add New PC"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Register a new computer"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:s,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:i=>a({...n,name:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:i=>a({...n,location:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., Office Floor 2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:n.status,onChange:i=>a({...n,status:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(lS,{type:"button",variant:"secondary",fullWidth:!0,onClick:r,children:"Cancel"}),o.jsx(lS,{type:"submit",variant:"primary",fullWidth:!0,isLoading:t,loadingText:"Adding PC...",children:"Add PC"})]})]})]})})]})},Gme=[{name:"Ansys",licenses:[{name:"Mechanical Enterprise",count:1},{name:"Mechanical Premium",count:1},{name:"CFD Enterprise",count:1},{name:"Discovery License",count:2},{name:"HPC",count:1}]},{name:"Solidworks",licenses:[{name:"Standard",count:2},{name:"Premium 2020 (n-locked)",count:1,lockedTo:"PC5"},{name:"2016 (locked)",count:1,lockedTo:"PC9"}]},{name:"BIMHVAC Tool",licenses:[{name:"Reseller Demo",count:1},{name:"Standard",count:1}]}],yH=({selectedSoftware:r,onSelectionChange:e})=>{const t=n=>{const a=r.includes(n)?r.filter(s=>s!==n):[...r,n];e(a)};return o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Software Used"}),o.jsx("div",{className:"space-y-4",children:Gme.map(n=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:n.name}),o.jsx("div",{className:"pl-4 mt-2 space-y-2",children:n.licenses.map(a=>{const s=`${n.name} - ${a.name}`;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:s,checked:r.includes(s),onChange:()=>t(s),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:s,className:"ml-3 text-sm text-gray-600",children:[a.name," (",a.count," license",a.count>1?"s":"",")",a.lockedTo&&o.jsxs("span",{className:"text-xs text-red-500 ml-2",children:["(Locked to ",a.lockedTo,")"]})]})]},s)})})]},n.name))})]})},Vme=({pc:r,currentUser:e,onClose:t,onAssign:n})=>{const[a,s]=S.useState({assignedTo:e?.displayName||"",assignedToEmail:e?.email||"",notes:""}),[i,l]=S.useState([]),c=u=>{u.preventDefault(),n(a.assignedTo,a.assignedToEmail,a.notes,i)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ng,{className:"w-6 h-6 text-primary-600"}),"Assign ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign this PC to an engineer"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:c,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To *"}),o.jsx("input",{type:"text",required:!0,value:a.assignedTo,onChange:u=>s({...a,assignedTo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Staff name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a.assignedToEmail,onChange:u=>s({...a,assignedToEmail:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"staff@email.com"})]}),o.jsx(yH,{selectedSoftware:i,onSelectionChange:l}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:a.notes,onChange:u=>s({...a,notes:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Dt,{type:"button",variant:"secondary",fullWidth:!0,onClick:t,children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",fullWidth:!0,children:"Assign PC"})]})]})]})})]})},Wme=({pc:r,onClose:e,onEdit:t})=>{const[n,a]=S.useState({name:r.name,location:r.location,notes:r.notes||""}),[s,i]=S.useState(r.softwareUsed||[]),l=c=>{c.preventDefault(),t({name:n.name,location:n.location,notes:n.notes,softwareUsed:s})};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(cA,{className:"w-6 h-6 text-blue-600"}),"Edit ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update PC properties"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:l,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:c=>a({...n,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:c=>a({...n,location:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Office Floor 2"})]}),o.jsx(yH,{selectedSoftware:s,onSelectionChange:i}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:n.notes,onChange:c=>a({...n,notes:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Dt,{type:"button",variant:"secondary",fullWidth:!0,onClick:e,children:"Cancel"}),o.jsx(Dt,{type:"submit",variant:"primary",fullWidth:!0,children:"Save Changes"})]})]})]})})]})},Yme=()=>{const{pcs:r,fetchPCs:e,addPC:t,assignPC:n,releasePC:a,deletePC:s,updatePC:i,setMaintenanceStatus:l}=pH(),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[g,p]=S.useState(!1),[x,y]=S.useState(null),[b]=S.useState(xa());S.useEffect(()=>{e()},[e]);const w=P=>{y(P),f(!0)},N=P=>{y(P),p(!0)},j=P=>{confirm("Are you sure you want to release this PC?")&&a(P)},k=P=>{confirm("Are you sure you want to delete this PC?")&&s(P)},T=async(P,q)=>{if(confirm(q?"Mark this PC for maintenance? This will unassign the current user.":"End maintenance for this PC?"))try{await l(P,q)}catch(R){console.error("Failed to update maintenance status:",R)}},I={total:r.length,available:r.filter(P=>P.status==="available").length,assigned:r.filter(P=>P.status==="assigned").length,maintenance:r.filter(P=>P.status==="maintenance").length},M=b&&Ac(b.role||"engineer","canAddOrRemovePC"),L=b&&Ac(b.role||"engineer","canAssignPC");return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"PC Assignment Tracking"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track which engineers are using company PCs"})]}),M&&o.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(Vs,{className:"w-4 h-4"}),"Add New PC"]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total PCs"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:I.total})]}),o.jsx(cb,{className:"w-8 h-8 text-gray-400"})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Available"}),o.jsx("p",{className:"text-3xl font-bold text-primary-600",children:I.available})]}),o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"w-3 h-3 bg-primary-600 rounded-full"})})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Assigned"}),o.jsx("p",{className:"text-3xl font-bold text-primary-600",children:I.assigned})]}),o.jsx(ng,{className:"w-8 h-8 text-gray-400"})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Maintenance"}),o.jsx("p",{className:"text-3xl font-bold text-primary-600",children:I.maintenance})]}),o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"w-3 h-3 bg-primary-600 rounded-full"})})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(P=>o.jsxs("div",{className:`bg-white p-6 rounded-lg border-2 shadow-sm hover:shadow-md transition-all ${P.status==="available"?"border-green-200 hover:border-green-300":P.status==="assigned"?"border-blue-200 hover:border-blue-300":"border-yellow-200 hover:border-yellow-300"}`,children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${P.status==="available"?"bg-green-100":P.status==="assigned"?"bg-blue-100":"bg-yellow-100"}`,children:o.jsx(cb,{className:`w-8 h-8 ${P.status==="available"?"text-green-600":P.status==="assigned"?"text-blue-600":"text-yellow-600"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:P.name}),o.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${P.status==="available"?"bg-green-100 text-green-700":P.status==="assigned"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]})]})}),P.status==="assigned"?o.jsx("div",{className:"mb-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border-2 border-blue-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx("span",{className:"text-white font-bold text-lg",children:P.assignedTo?P.assignedTo.charAt(0).toUpperCase():"?"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-bold text-blue-800 uppercase tracking-wide mb-0.5",children:"Assigned To"}),o.jsx("p",{className:"text-base font-bold text-blue-900 truncate",children:P.assignedTo||"Unknown User"}),P.assignedToEmail&&o.jsx("p",{className:"text-xs text-blue-700 truncate",children:P.assignedToEmail})]}),o.jsx(ng,{className:"w-6 h-6 text-blue-600 flex-shrink-0"})]})}):P.status==="available"?o.jsx("div",{className:"mb-3 p-3 bg-green-50 rounded-lg border border-green-200",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("p",{className:"text-sm font-semibold text-green-800",children:"Available for Assignment"})]})}):o.jsx("div",{className:"mb-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gh,{className:"w-4 h-4 text-yellow-600"}),o.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Under Maintenance"})]})}),P.status==="assigned"&&o.jsxs("div",{className:"mb-3 p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border border-amber-200",children:[o.jsxs("h4",{className:"font-semibold text-amber-800 text-sm mb-2 flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Software In Use"]}),P.softwareUsed&&P.softwareUsed.length>0?o.jsx("div",{className:"flex flex-wrap gap-1.5",children:P.softwareUsed.map(q=>o.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-amber-100 text-amber-800 rounded-md border border-amber-200",children:q},q))}):o.jsx("p",{className:"text-xs text-amber-600 italic",children:"No software licenses assigned"})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Dm,{className:"w-4 h-4"}),o.jsx("span",{children:P.location})]}),P.status==="assigned"&&P.assignedDate&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(as,{className:"w-4 h-4"}),o.jsxs("span",{children:["Assigned ",new Date(P.assignedDate).toLocaleDateString()]})]}),P.notes&&o.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-600",children:P.notes})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[M&&o.jsxs("button",{onClick:()=>N(P),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 text-sm rounded hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[o.jsx(cA,{className:"w-4 h-4"}),"Edit"]}),L&&P.status!=="maintenance"&&o.jsx(o.Fragment,{children:P.status==="available"?o.jsx("button",{onClick:()=>w(P),className:"flex-1 px-3 py-2 bg-primary-600 text-white text-sm rounded hover:bg-primary-700 transition-colors",children:"Assign"}):o.jsx("button",{onClick:()=>j(P.id),className:"flex-1 px-3 py-2 bg-primary-600 text-white text-sm rounded hover:bg-primary-700 transition-colors",children:"Release"})}),M&&o.jsx(o.Fragment,{children:P.status==="maintenance"?o.jsxs("button",{onClick:()=>T(P.id,!1),className:"flex-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Gh,{className:"w-4 h-4"}),"End Maintenance"]}):o.jsxs("button",{onClick:()=>T(P.id,!0),className:"px-3 py-2 bg-yellow-50 text-yellow-700 text-sm rounded hover:bg-yellow-100 transition-colors flex items-center justify-center gap-2 border border-yellow-200",children:[o.jsx(Gh,{className:"w-4 h-4"}),"Maintenance"]})}),M&&o.jsx("button",{onClick:()=>k(P.id),className:"px-3 py-2 text-sm border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors",children:"Delete"})]})]},P.id))}),c&&o.jsx($me,{onClose:()=>u(!1),onAdd:P=>{t(P),u(!1),e()}}),d&&x&&o.jsx(Vme,{pc:x,currentUser:b,onClose:()=>{f(!1),y(null)},onAssign:async(P,q,F,R)=>{const H=b?.id||b?.userId;if(!H){alert("Error: Unable to identify current user. Please log in again.");return}try{await n(x.id,H,P,q,F,R),f(!1),y(null),e()}catch(z){const X=z?.response?.data?.error||z?.message||"Failed to assign PC";alert(`Assignment failed: ${X}`)}}}),g&&x&&o.jsx(Wme,{pc:x,onClose:()=>{p(!1),y(null)},onEdit:P=>{i(x.id,P),p(!1),y(null),e()}})]})})},xH=3500,Xme=8,cS=xH/Xme;function Jme(){const{projects:r,timesheets:e,fetchProjects:t,fetchTimesheets:n,loading:a}=Fa(),{teamMembers:s,fetchTeamMembers:i,loading:l}=Sl(),[c,u]=S.useState([]),[d,f]=S.useState([]),[g,p]=S.useState({}),[x,y]=S.useState(!0),[b,w]=S.useState(null),N=S.useCallback(async()=>{y(!0),w(null);try{const[I,M]=await Promise.all([Zt.getAllPurchaseOrders(),Zt.getAllInvoices(),t(),n(),i()]),L=Array.isArray(I)?I:I?.data||I||[];u(L),f(Array.isArray(M)?M:[]);const P={},F=Fa.getState().projects.map(async R=>{try{const H=await Rs.getProjectHourlyRates(R.id);P[R.id]={},H.forEach(z=>{P[R.id][z.teamMemberId]=parseFloat(z.hourlyRate)})}catch{}});await Promise.all(F),p(P)}catch(I){console.error("Failed to fetch finance data:",I),w(I?.message||"Failed to load finance data")}finally{y(!1)}},[t,n,i]);S.useEffect(()=>{N()},[N]);const j=S.useMemo(()=>Zme(r,c,d,e,s),[r,c,d,e,s,g]),k=S.useMemo(()=>ege(j,c,d),[j,c,d]);return{projectSummaries:j,totals:k,loading:x||a||l,error:b,refetch:N}}function Zme(r,e,t,n,a,s){const i=Array.isArray(n)?n:[];return r.map(l=>{const c=e.filter(k=>k.project_code===l.projectCode&&k.is_active),u=t.filter(k=>k.project_code===l.projectCode),d=c.reduce((k,T)=>{const I=T.amount_myr_adjusted?parseFloat(T.amount_myr_adjusted.toString()):parseFloat((T.amount_myr||0).toString());return k+I},0),f=c.map(k=>({amount:parseFloat(k.amount.toString()),currency:k.currency||"MYR",amountMyr:k.amount_myr_adjusted?parseFloat(k.amount_myr_adjusted.toString()):parseFloat((k.amount_myr||0).toString())})),g=u.reduce((k,T)=>k+parseFloat((T.amount_myr||0).toString()),0),p=u.map(k=>({amount:parseFloat(k.amount.toString()),currency:k.currency||"MYR",amountMyr:parseFloat((k.amount_myr||0).toString())})),x=d-g,y=i.filter(k=>k.projectId.toString()===l.id),b=y.reduce((k,T)=>k+parseFloat(T.hours.toString()||"0"),0),w={};y.forEach(k=>{const T=k.engineerId.toString();if(!w[T]){const I=a.find(M=>M.id===T);w[T]={hours:0,engineer:I}}w[T].hours+=parseFloat(k.hours.toString()||"0")});const N=Object.entries(w).map(([k,T])=>{const I=T.engineer;return{engineerId:k,engineerName:I?.name||"Unknown",role:I?.role||"engineer",hours:T.hours,hourlyRate:cS,totalCost:T.hours*cS}}),j=N.reduce((k,T)=>k+T.totalCost,0);return{projectId:l.id,projectCode:l.projectCode,projectTitle:l.title,clientName:l.clientName||"Unknown Client",status:l.status,poReceived:d,invoiced:g,outstanding:x,poReceivedOriginal:f,invoicedOriginal:p,manHourCost:j,actualHours:b,engineerBreakdown:N}})}function ege(r,e,t){const n=r.reduce((u,d)=>u+d.poReceived,0),a=r.reduce((u,d)=>u+d.invoiced,0),s=n-a,i=r.reduce((u,d)=>u+d.manHourCost,0),l={};e.filter(u=>u.is_active).forEach(u=>{const d=u.currency||"MYR",f=parseFloat(u.amount.toString());l[d]=(l[d]||0)+f});const c={};return t.forEach(u=>{const d=u.currency||"MYR",f=parseFloat(u.amount.toString());c[d]=(c[d]||0)+f}),{totalPOReceived:n,totalInvoiced:a,totalOutstanding:s,totalManHourCost:i,poReceivedByCurrency:l,invoicedByCurrency:c}}function dI(r,e,t){if(e.length===0)return`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(e.length===1){const{amount:s,currency:i}=e[0];return $v(s,i)}const n={};e.forEach(s=>{n[s.currency]=(n[s.currency]||0)+1});const a=Object.keys(n);if(a.length===1){const s=a[0],i=e.reduce((l,c)=>l+c.amount,0);return $v(i,s)}return e.map(s=>$v(s.amount,s.currency)).join(" + ")}function $v(r,e){return`${{MYR:"RM",USD:"US$",SGD:"S$",EUR:"",GBP:"",JPY:"",CNY:"",AUD:"A$",THB:"",IDR:"Rp"}[e]||e} ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function hI(r,e,t){const n=Object.keys(e);return n.length===0?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.length===1&&n[0]==="MYR"?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.map(a=>$v(e[a],a)).join(`
`)}const tge=({totals:r,showOriginalCurrency:e,loading:t=!1})=>{const n=s=>`RM ${s.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,a=[{title:"PO Received",value:e?hI(r.totalPOReceived,r.poReceivedByCurrency):n(r.totalPOReceived),icon:za,iconBg:"bg-green-100",iconColor:"text-green-600",subtitle:"Total purchase orders received"},{title:"Invoiced",value:e?hI(r.totalInvoiced,r.invoicedByCurrency):n(r.totalInvoiced),icon:qD,iconBg:"bg-blue-100",iconColor:"text-blue-600",subtitle:"Total amount invoiced"},{title:"Outstanding",value:n(r.totalOutstanding),icon:as,iconBg:r.totalOutstanding>0?"bg-orange-100":"bg-gray-100",iconColor:r.totalOutstanding>0?"text-orange-600":"text-gray-600",subtitle:"Remaining to invoice"},{title:"Man-Hour Cost",value:n(r.totalManHourCost),icon:uu,iconBg:"bg-purple-100",iconColor:"text-purple-600",subtitle:`RM ${xH.toLocaleString()}/day (RM ${cS.toFixed(2)}/hr)`}];return t?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((s,i)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded w-28"})]},i))}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(s=>{const i=s.icon,l=s.value.includes(`
`);return o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:`w-12 h-12 ${s.iconBg} rounded-xl flex items-center justify-center`,children:o.jsx(i,{className:`w-6 h-6 ${s.iconColor}`})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:s.title}),l?o.jsx("div",{className:"space-y-1",children:s.value.split(`
`).map((c,u)=>o.jsx("div",{className:"text-lg font-bold text-gray-900",children:c},u))}):o.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-gray-900 whitespace-nowrap overflow-hidden text-ellipsis",children:s.value}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:s.subtitle})]},s.title)})})},rge={engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"},nge=({engineers:r})=>{const{canViewManHourCost:e}=m4(),t=i=>`RM ${i.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(r.length===0)return o.jsx("div",{className:"py-6 px-4",children:o.jsxs("div",{className:"flex items-center justify-center text-gray-500",children:[o.jsx(yl,{className:"w-5 h-5 mr-2"}),o.jsx("span",{className:"text-sm",children:"No timesheets recorded for this project"})]})});const n=r.reduce((i,l)=>i+l.hours,0),a=r.reduce((i,l)=>i+l.totalCost,0),s=n>0?a/n:0;return o.jsxs("div",{className:"py-4 px-4 border-l-4 border-primary-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Engineer Breakdown"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Engineer"}),o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Role"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Hours"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Rate/hr"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Cost"})]})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(i=>o.jsxs("tr",{className:"hover:bg-gray-100/50",children:[o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"font-medium text-gray-900",children:i.engineerName})}),o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"text-gray-600",children:rge[i.role]||i.role})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsxs("span",{className:"text-gray-900",children:[i.hours.toFixed(1)," hrs"]})}),e&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"text-gray-600",children:t(i.hourlyRate)})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:t(i.totalCost)})})]})]},i.engineerId))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-gray-200 bg-gray-50/50",children:[o.jsx("td",{className:"py-2.5 font-semibold text-gray-900",children:"Total"}),o.jsx("td",{className:"py-2.5"}),o.jsxs("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:[n.toFixed(1)," hrs"]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs("td",{className:"py-2.5 text-right text-gray-600",children:["Avg: ",t(s)]}),o.jsx("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:t(a)})]})]})})]})})]})},age={"pre-lim":"bg-amber-100 text-amber-700",ongoing:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"},sge={"pre-lim":"Pre-lim",ongoing:"Ongoing",completed:"Completed"},ige=({projects:r,showOriginalCurrency:e,loading:t=!1,selectedYear:n,selectedMonth:a})=>{const[s,i]=S.useState(new Set),[l,c]=S.useState(""),[u,d]=S.useState("all"),f=x=>{i(y=>{const b=new Set(y);return b.has(x)?b.delete(x):b.add(x),b})},g=r.filter(x=>{if(u!=="all"&&x.status!==u)return!1;if(l.trim()){const y=l.toLowerCase();return x.projectCode.toLowerCase().includes(y)||x.projectTitle.toLowerCase().includes(y)||x.clientName.toLowerCase().includes(y)}return!0}),p=x=>`RM ${x.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return t?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"})}),o.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((x,y)=>o.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},y))})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Project Breakdown"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(AA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:x=>c(x.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full sm:w-64"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Bw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Pre-lim"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-8"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PO Received"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Invoiced"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Outstanding"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Man-Hour Cost"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:g.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(AA,{className:"w-12 h-12 text-gray-300 mb-3"}),o.jsx("p",{className:"text-sm",children:"No projects found"}),l&&o.jsx("button",{onClick:()=>c(""),className:"mt-2 text-sm text-primary-600 hover:text-primary-700",children:"Clear search"})]})})}):g.map(x=>{const y=s.has(x.projectId),b=x.poReceived>0?Math.round(x.invoiced/x.poReceived*100):0;return o.jsxs($s.Fragment,{children:[o.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${y?"bg-gray-50":""}`,onClick:()=>f(x.projectId),children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",onClick:w=>{w.stopPropagation(),f(x.projectId)},children:y?o.jsx(ob,{className:"w-4 h-4 text-gray-500"}):o.jsx(Km,{className:"w-4 h-4 text-gray-500"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:x.projectCode}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${age[x.status]||"bg-gray-100 text-gray-700"}`,children:sge[x.status]||x.status})]}),o.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:x.projectTitle}),o.jsx("span",{className:"text-xs text-gray-500",children:x.clientName})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&x.poReceivedOriginal.length>0?dI(x.poReceived,x.poReceivedOriginal):p(x.poReceived)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:e&&x.invoicedOriginal.length>0?dI(x.invoiced,x.invoicedOriginal):p(x.invoiced)}),x.poReceived>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",b,"%)"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:`font-medium ${x.outstanding>0?"text-orange-600":"text-gray-900"}`,children:p(x.outstanding)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:p(x.manHourCost)}),x.actualHours>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[x.actualHours.toFixed(1)," hrs"]})]})})]}),y&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-0 bg-gray-50",children:o.jsx(nge,{engineers:x.engineerBreakdown})})})]},x.projectId)})})]})}),o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:o.jsxs("span",{children:["Showing ",g.length," of ",r.length," projects"]})})})]})},vH=new Date().getFullYear(),oge=Array.from({length:6},(r,e)=>vH-e),lge=[{value:0,label:"All Months"},{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],cge=()=>{const r=Bg(),{canAccessFinance:e,roleInfo:t}=m4(),{projectSummaries:n,totals:a,loading:s,error:i,refetch:l}=Jme(),[c,u]=S.useState(!1),[d,f]=S.useState(vH),[g,p]=S.useState(0);return e?i?o.jsx("div",{className:"min-h-full bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ss,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Data"}),o.jsx("p",{className:"text-gray-600 mb-4",children:i}),o.jsx("button",{onClick:()=>l(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Try Again"})]})}):o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Overview"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"PO received, invoiced amounts, and labor costs"})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-xl border border-gray-200",children:[o.jsx(ns,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:g,onChange:x=>p(Number(x.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:lge.map(x=>o.jsx("option",{value:x.value,children:x.label},x.value))}),o.jsx("select",{value:d,onChange:x=>f(Number(x.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:oge.map(x=>o.jsx("option",{value:x,children:x},x))})]}),o.jsxs("button",{onClick:()=>u(!c),className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-colors ${c?"bg-primary-100 text-primary-700 border border-primary-200":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,title:c?"Showing original currencies":"Showing MYR",children:[c?o.jsx(BV,{className:"w-5 h-5"}):o.jsx(wV,{className:"w-5 h-5"}),c?"Original":"MYR"]}),o.jsxs("button",{onClick:()=>r("/finance/documents"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(za,{className:"w-5 h-5"}),"Finance Documents"]})]})]})}),o.jsx(tge,{totals:a,showOriginalCurrency:c,loading:s}),o.jsx(ige,{projects:n,showOriginalCurrency:c,loading:s,selectedYear:d,selectedMonth:g})]})}):o.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ss,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:oA("access finance","senior-engineer")}),t&&o.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg ${t.color} mb-6`,children:[o.jsx("span",{children:t.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm font-semibold",children:t.label}),o.jsxs("p",{className:"text-xs opacity-75",children:["Level ",t.level," Access"]})]})]}),o.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Back to Dashboard"})]})})},bH=Nl((r,e)=>({purchaseOrders:[],loading:!1,error:null,fetchPurchaseOrders:async t=>{try{r({loading:!0,error:null});const n=await _t.getAllPurchaseOrders(t),a=n.data||n,s=Array.isArray(a)?a:[];r({purchaseOrders:s,loading:!1})}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to fetch purchase orders";console.error("Error fetching purchase orders:",a),r({error:a,loading:!1})}},createPurchaseOrder:async t=>{try{r({loading:!0,error:null});const n=await _t.createPurchaseOrder(t),a=n.data||n;r(s=>({purchaseOrders:[...s.purchaseOrders,a],loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to create purchase order";throw console.error("Error creating purchase order:",a),r({error:a,loading:!1}),n}},updatePurchaseOrder:async(t,n)=>{try{r({loading:!0,error:null});const a=await _t.updatePurchaseOrder(t,n),s=a.data||a;r(i=>({purchaseOrders:i.purchaseOrders.map(l=>l.id===t?s:l),loading:!1}))}catch(a){const s=a?.response?.data?.error||a?.message||"Failed to update purchase order";throw console.error("Error updating purchase order:",s),r({error:s,loading:!1}),a}},deletePurchaseOrder:async t=>{try{r({loading:!0,error:null}),await _t.deletePurchaseOrder(t),r(n=>({purchaseOrders:n.purchaseOrders.filter(a=>a.id!==t),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to delete purchase order";throw console.error("Error deleting purchase order:",a),r({error:a,loading:!1}),n}}})),Age=()=>{const r=xa(),e=r&&Ac(r.role||"engineer","canAccessFinance"),t=r&&Ac(r.role||"engineer","canUploadPO");Ew(r.role);const{purchaseOrders:n,fetchPurchaseOrders:a,createPurchaseOrder:s,updatePurchaseOrder:i,deletePurchaseOrder:l,loading:c}=bH(),[u,d]=S.useState("all"),[f,g]=S.useState(!1),[p,x]=S.useState(!1),[y,b]=S.useState(null),[w,N]=S.useState({isOpen:!1});S.useEffect(()=>{a()},[]);const j=n.filter(F=>u==="all"||F.status===u),k=F=>j.filter(R=>R.status===F).reduce((R,H)=>R+(H.amount||0),0),T=F=>({received:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",invoiced:"bg-purple-100 text-purple-800",paid:"bg-green-100 text-green-800"})[F]||"bg-gray-100 text-gray-800",I=F=>({received:"Received","in-progress":"In Progress",invoiced:"Invoiced",paid:"Paid"})[F]||F,M=()=>{if(!t){nt.error("You do not have permission to create purchase orders");return}b(null),g(!0)},L=F=>{if(!t){nt.error("You do not have permission to edit purchase orders");return}b(F),x(!0)},P=(F,R)=>{if(!t){nt.error("You do not have permission to delete purchase orders");return}N({isOpen:!0,poId:F,poNumber:R})},q=async()=>{if(w.poId)try{await l(w.poId),nt.success("Purchase order deleted successfully"),N({isOpen:!1})}catch{nt.error("Failed to delete purchase order")}};return e?o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Purchase Orders"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create, track, and manage purchase orders"})]}),t&&o.jsx(Dt,{onClick:M,icon:o.jsx(Vs,{className:"w-5 h-5"}),children:"Create PO"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total POs"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-blue-800",children:"Received"}),o.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["RM ",k("received").toLocaleString()]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-yellow-800",children:"In Progress"}),o.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["RM ",k("in-progress").toLocaleString()]})]}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-purple-800",children:"Invoiced"}),o.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:["RM ",k("invoiced").toLocaleString()]})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-green-800",children:"Paid"}),o.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["RM ",k("paid").toLocaleString()]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:o.jsxs("select",{value:u,onChange:F=>d(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})}),c&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!c&&o.jsx("div",{className:"space-y-3",children:j.length===0?o.jsx(Lr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(za,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No purchase orders found"}),o.jsx("p",{className:"text-sm",children:t?"Create a new purchase order to get started":"No purchase orders match the current filters"})]})}):j.map(F=>o.jsx(Lr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(za,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"font-semibold text-gray-900",children:F.po_number}),o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${T(F.status)}`,children:I(F.status)}),F.file_url&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx(za,{className:"w-3 h-3"}),"Document"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",F.client_name]}),F.project_code?o.jsxs("p",{className:"text-sm text-gray-600",children:["Project: ",o.jsx("span",{className:"font-medium text-gray-900",children:F.project_code}),F.project?.project_name&&o.jsxs("span",{className:"text-gray-500",children:[" - ",F.project.project_name]})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"Project: Not linked"})]}),F.description&&o.jsx("p",{className:"text-sm text-gray-700 mt-2",children:F.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Received: ",new Date(F.received_date).toLocaleDateString()]}),F.due_date&&o.jsxs("span",{children:["Due: ",new Date(F.due_date).toLocaleDateString()]})]}),F.file_url&&o.jsx("div",{className:"mt-3",children:o.jsxs("a",{href:F.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",children:[o.jsx(wu,{className:"w-3 h-3"}),"View Document"]})})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RM ",(F.amount||0).toLocaleString("en-MY",{minimumFractionDigits:2})]})}),t&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>L(F),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:o.jsx(cA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>P(F.id,F.po_number),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:o.jsx(ui,{className:"w-4 h-4"})})]})]})]})},F.id))})]}),(f||p)&&o.jsx(uge,{isOpen:f||p,po:y,onClose:()=>{g(!1),x(!1),b(null)},onSave:async F=>{try{y?(await i(y.id,F),nt.success("Purchase order updated successfully")):(await s(F),nt.success("Purchase order created successfully")),g(!1),x(!1),b(null)}catch{}}}),o.jsx(bf,{isOpen:w.isOpen,onClose:()=>N({isOpen:!1}),onConfirm:q,title:"Delete Purchase Order",message:`Are you sure you want to delete PO ${w.poNumber}? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(br,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You do not have permission to access the Finance section."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your manager if you need access to this section."})]})})},uge=({isOpen:r,po:e,onClose:t,onSave:n})=>{const{projects:a,fetchProjects:s}=Fa(),{clients:i,fetchClients:l}=gc(),[c,u]=S.useState({poNumber:e?.po_number||"",projectId:"",projectCode:e?.project_code||"",clientId:"",clientName:e?.client_name||"",amount:e?.amount?.toString()||"",receivedDate:e?.received_date||"",dueDate:e?.due_date||"",description:e?.description||"",status:e?.status||"received",fileUrl:e?.file_url||""}),[d,f]=S.useState(null),[g,p]=S.useState(!1);if(S.useEffect(()=>{r&&(l(),s())},[r,l,s]),!r)return null;const x=async y=>{y.preventDefault(),p(!0);try{let b=c.fileUrl;if(d){const N=new FormData;N.append("file",d),N.append("projectCode",c.projectCode),b=(await _t.uploadPurchaseOrderFile(N)).fileUrl}const w={...c,fileUrl:b};await n(w),f(null)}catch(b){nt.error(b.message||"Failed to save purchase order")}finally{p(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Purchase Order":"Create Purchase Order"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e?"Update PO details":"Add a new purchase order"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Number *"}),o.jsx("input",{type:"text",required:!0,value:c.poNumber,onChange:y=>u({...c,poNumber:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"PO-2025-001"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code *"}),o.jsxs("select",{required:!0,value:c.projectId,onChange:y=>{const b=a.find(w=>w.id===y.target.value);u({...c,projectId:y.target.value,projectCode:b?.projectCode||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.filter(y=>y.status==="pre-lim").map(y=>o.jsxs("option",{value:y.id,children:[y.projectCode," - ",y.title]},y.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),o.jsxs("select",{required:!0,value:c.clientId,onChange:y=>{const b=i.find(w=>w.id===y.target.value);u({...c,clientId:y.target.value,clientName:b?.name||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a client"}),i.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (RM) *"}),o.jsx("input",{type:"number",required:!0,step:"0.01",value:c.amount,onChange:y=>u({...c,amount:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),o.jsxs("select",{required:!0,value:c.status,onChange:y=>u({...c,status:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),o.jsx("input",{type:"date",required:!0,value:c.receivedDate,onChange:y=>u({...c,receivedDate:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",value:c.dueDate,onChange:y=>u({...c,dueDate:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:y=>u({...c,description:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"PO details..."})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Document"}),c.fileUrl&&o.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(za,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Current Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:c.fileUrl.split("/").pop()})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:c.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"View Document",children:o.jsx(wu,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>u({...c,fileUrl:""}),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Remove Document",children:o.jsx(ui,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[o.jsx("input",{type:"file",id:"po-file-upload",accept:".pdf,.png,.jpg,.jpeg,.docx,.doc",onChange:y=>{const b=y.target.files?.[0];if(b){if(b.size>10*1024*1024){nt.error("File size must be less than 10MB");return}f(b)}},className:"hidden"}),o.jsxs("label",{htmlFor:"po-file-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(vl,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:d?d.name:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG, DOCX (max 10MB)"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:g,className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:g?"Saving...":e?"Update PO":"Create PO"})]})]})]})})},dge=({activeTab:r,onTabChange:e,receivedPOCount:t=0,invoiceCount:n=0,issuedPOCount:a=0})=>{const s=[{id:"received-pos",label:"Received POs",icon:za,count:t},{id:"invoices",label:"Invoices",icon:qD,count:n},{id:"issued-pos",label:"Issued POs",icon:pV,count:a}];return o.jsx("div",{className:"flex justify-center py-6 bg-white",children:o.jsx("div",{className:"flex items-stretch gap-4",children:s.map(i=>{const l=i.icon,c=r===i.id;return o.jsxs("button",{onClick:()=>e(i.id),className:`
                relative flex items-center gap-4 px-8 py-5 rounded-2xl min-w-[200px]
                transition-all duration-200 ease-out border-2
                ${c?"bg-white border-primary-500 shadow-lg shadow-primary-100/50":"bg-gray-50 border-transparent hover:bg-white hover:border-gray-200 hover:shadow-md"}
              `,children:[o.jsx("div",{className:`
                  p-3 rounded-xl transition-colors
                  ${c?"bg-primary-100":"bg-gray-100"}
                `,children:o.jsx(l,{className:`w-6 h-6 ${c?"text-primary-600":"text-gray-500"}`})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:`font-semibold text-base ${c?"text-gray-900":"text-gray-600"}`,children:i.label}),o.jsxs("span",{className:`text-sm ${c?"text-primary-600 font-medium":"text-gray-400"}`,children:[i.count," ",i.count===1?"document":"documents"]})]})]},i.id)})})})},$B={maxFileSize:10*1024*1024,maxFiles:5,allowedTypes:["application/pdf","image/jpeg","image/jpg","image/png","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"]},GB=r=>{if(r===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,n)*100)/100+" "+t[n]},hge=r=>r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase(),Bi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),AS=[.001,0,0,.001,0,0],VB=1.35,Eo={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},eA={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},P0="pdfjs_internal_editor_",sr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Nr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},wH={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Us={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},A0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Sa={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Tm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},yy={ERRORS:0,WARNINGS:1,INFOS:5},gg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Vx={moveTo:0,lineTo:1,curveTo:2,closePath:3},CH={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let p1=yy.WARNINGS;function fge(r){Number.isInteger(r)&&(p1=r)}function mge(){return p1}function y1(r){p1>=yy.INFOS&&console.info(`Info: ${r}`)}function ir(r){p1>=yy.WARNINGS&&console.warn(`Warning: ${r}`)}function Nn(r){throw new Error(r)}function Tr(r,e){r||Nn(e)}function gge(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function y4(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=bge(r)}catch{}const n=e?URL.parse(r,e):URL.parse(r);return gge(n)?n:null}function x4(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&y4(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function dr(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const wf=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class fI extends wf{constructor(e,t){super(e,"PasswordException"),this.code=t}}class WB extends wf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Zb extends wf{constructor(e){super(e,"InvalidPDFException")}}class O0 extends wf{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class pge extends wf{constructor(e){super(e,"FormatError")}}class yu extends wf{constructor(e){super(e,"AbortException")}}function BH(r){(typeof r!="object"||r?.length===void 0)&&Nn("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let a=0;a<e;a+=t){const s=Math.min(a+t,e),i=r.subarray(a,s);n.push(String.fromCharCode.apply(null,i))}return n.join("")}function xy(r){typeof r!="string"&&Nn("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function yge(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function xge(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function vge(){try{return new Function(""),!0}catch{return!1}}class Ns{static get isLittleEndian(){return dr(this,"isLittleEndian",xge())}static get isEvalSupported(){return dr(this,"isEvalSupported",vge())}static get isOffscreenCanvasSupported(){return dr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return dr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return dr(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return dr(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const YB=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class ut{static makeHexColor(e,t,n){return`#${YB[e]}${YB[t]}${YB[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const a=e[n],s=e[n+1];e[n]=a*t[0]+s*t[2]+t[4],e[n+1]=a*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const f=e[n+d],g=e[n+d+1];e[n+d]=f*a+g*i+c,e[n+d+1]=f*s+g*l+u}}static applyInverseTransform(e,t){const n=e[0],a=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5],d=e[0],f=e[1],g=e[2],p=e[3];let x=a*d+c,y=x,b=a*g+c,w=b,N=l*f+u,j=N,k=l*p+u,T=k;if(s!==0||i!==0){const I=s*d,M=s*g,L=i*f,P=i*p;x+=L,w+=L,b+=P,y+=P,N+=I,T+=I,k+=M,j+=M}n[0]=Math.min(n[0],x,b,y,w),n[1]=Math.min(n[1],N,k,j,T),n[2]=Math.max(n[2],x,b,y,w),n[3]=Math.max(n[3],N,k,j,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],a=e[1],s=e[2],i=e[3],l=n**2+a**2,c=n*s+a*i,u=s**2+i**2,d=(l+u)/2,f=Math.sqrt(d**2-(l*u-c**2));t[0]=Math.sqrt(d+f||1),t[1]=Math.sqrt(d-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>a)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>i?null:[n,s,a,i]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,a,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,a),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,a)}static#e(e,t,n,a,s,i,l,c,u,d){if(u<=0||u>=1)return;const f=1-u,g=u*u,p=g*u,x=f*(f*(f*e+3*u*t)+3*g*n)+p*a,y=f*(f*(f*s+3*u*i)+3*g*l)+p*c;d[0]=Math.min(d[0],x),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],x),d[3]=Math.max(d[3],y)}static#t(e,t,n,a,s,i,l,c,u,d,f,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,t,n,a,s,i,l,c,-f/d,g);return}const p=d**2-4*f*u;if(p<0)return;const x=Math.sqrt(p),y=2*u;this.#e(e,t,n,a,s,i,l,c,(-d+x)/y,g),this.#e(e,t,n,a,s,i,l,c,(-d-x)/y,g)}static bezierBoundingBox(e,t,n,a,s,i,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),this.#t(e,n,s,l,t,a,i,c,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),u),this.#t(e,n,s,l,t,a,i,c,3*(-t+3*(a-i)+c),6*(t-2*a+i),3*(a-t),u)}}function bge(r){return decodeURIComponent(escape(r))}let XB=null,mI=null;function NH(r){return XB||(XB=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,mI=new Map([["","t"]])),r.replaceAll(XB,(e,t,n)=>t?t.normalize("NFKC"):mI.get(n))}function v4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),BH(r)}const b4="pdfjs_internal_id_";function wge(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,a,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(a))return!1;const i=s.length;let l=!0;switch(a.name){case"XYZ":if(i<2||i>3)return!1;break;case"Fit":case"FitB":return i===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(i>1)return!1;break;case"FitR":if(i!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function si(r,e,t){return Math.min(Math.max(r,e),t)}function SH(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(BH(r))}function Cge(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):xy(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class I0{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function a(s){if(!s)return;let i=null;const l=s.name;if(l==="#text")i=s.value;else if(I0.shouldBuildText(l))s?.attributes?.textContent?i=s.attributes.textContent:s.value&&(i=s.value);else return;if(i!==null&&t.push({str:i}),!!s.children)for(const c of s.children)a(c)}return a(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class w4{static setupStorage(e,t,n,a,s){const i=a.getValue(t,{value:null});switch(n.name){case"textarea":if(i.value!==null&&(e.textContent=i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(i.value===n.attributes.xfaOn?e.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{a.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(i.value!==null&&e.setAttribute("value",i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})})}break;case"select":if(i.value!==null){e.setAttribute("value",i.value);for(const l of n.children)l.attributes.value===i.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;a.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:a,linkService:s}){const{attributes:i}=t,l=e instanceof HTMLAnchorElement;i.type==="radio"&&(i.name=`${i.name}-${a}`);for(const[c,u]of Object.entries(i))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&s.addLinkAttributes(e,i.href,i.newWindow),n&&i.dataId&&this.setupStorage(e,i.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,a=e.xfaHtml,s=e.intent||"display",i=document.createElement(a.name);a.attributes&&this.setAttributes({html:i,element:a,intent:s,linkService:n});const l=s!=="richText",c=e.div;if(c.append(i),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=f}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(a.children.length===0){if(a.value){const f=document.createTextNode(a.value);i.append(f),l&&I0.shouldBuildText(a.name)&&u.push(f)}return{textDivs:u}}const d=[[a,-1,i]];for(;d.length>0;){const[f,g,p]=d.at(-1);if(g+1===f.children.length){d.pop();continue}const x=f.children[++d.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const w=document.createTextNode(x.value);u.push(w),p.append(w);continue}const b=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(p.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:t,intent:s,linkService:n}),x.children?.length>0)d.push([x,-1,b]);else if(x.value){const w=document.createTextNode(x.value);l&&I0.shouldBuildText(y)&&u.push(w),b.append(w)}}for(const f of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const JA="http://www.w3.org/2000/svg";class uf{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ug(r,e="text"){if(Jp(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class vy{constructor({viewBox:e,userUnit:t,scale:n,rotation:a,offsetX:s=0,offsetY:i=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=a,this.offsetX=s,this.offsetY=i,n*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,f,g,p;switch(a%=360,a<0&&(a+=360),a){case 180:d=-1,f=0,g=0,p=1;break;case 90:d=0,f=1,g=1,p=0;break;case 270:d=0,f=-1,g=-1,p=0;break;case 0:d=1,f=0,g=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(g=-g,p=-p);let x,y,b,w;d===0?(x=Math.abs(u-e[1])*n+s,y=Math.abs(c-e[0])*n+i,b=(e[3]-e[1])*n,w=(e[2]-e[0])*n):(x=Math.abs(c-e[0])*n+s,y=Math.abs(u-e[1])*n+i,b=(e[2]-e[0])*n,w=(e[3]-e[1])*n),this.transform=[d*n,f*n,g*n,p*n,x-d*n*c-g*n*u,y-f*n*c-p*n*u],this.width=b,this.height=w}get rawDims(){const e=this.viewBox;return dr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:s=!1}={}){return new vy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return ut.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];ut.applyTransform(t,this.transform);const n=[e[2],e[3]];return ut.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return ut.applyInverseTransform(n,this.transform),n}}class x1 extends wf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function by(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function v1(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function jH(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function EH(r,e="document.pdf"){if(typeof r!="string")return e;if(by(r))return ir('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const a=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,i=n.pathname.split("/").at(-1);if(s.test(i))return a(i);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const u of l)if(s.test(u))return a(u);const c=Array.from(n.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return a(u)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return a(c[0])}return e}class gI{started=Object.create(null);times=[];time(e){e in this.started&&ir(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ir(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:a,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-a}ms
`);return e.join("")}}function Jp(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Mo(r){r.preventDefault()}function sa(r){r.preventDefault(),r.stopPropagation()}function Bge(r){console.log("Deprecated API usage: "+r)}class ew{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(i+=d,l+=f):u==="+"&&(i-=d,l-=f),new Date(Date.UTC(n,a,s,i,l,c))}}function _H(r,{scale:e=1,rotation:t=0}){const{width:n,height:a}=r.attributes.style,s=[0,0,parseInt(n),parseInt(a)];return new vy({viewBox:s,userUnit:1,scale:e,rotation:t})}function Rg(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ir(`Not a valid color format: "${r}"`),[0,0,0])}function Nge(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Rg(n))}e.remove()}function aa(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform();return[e,t,n,a,s,i]}function $c(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform().invertSelf();return[e,t,n,a,s,i]}function Ld(r,e,t=!1,n=!0){if(e instanceof vy){const{pageWidth:a,pageHeight:s}=e.rawDims,{style:i}=r,l=Ns.isCSSRoundSupported,c=`var(--total-scale-factor) * ${a}px`,u=`var(--total-scale-factor) * ${s}px`,d=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,f=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(i.width=d,i.height=f):(i.width=f,i.height=d)}n&&r.setAttribute("data-main-rotation",e.rotation)}class uc{constructor(){const{pixelRatio:e}=uc;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,a,s=-1){let i=1/0,l=1/0,c=1/0;n=uc.capPixels(n,s),n>0&&(i=Math.sqrt(n/(e*t))),a!==-1&&(l=a/e,c=a/t);const u=Math.min(i,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const tw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Sge{static get isDarkMode(){return dr(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class kH{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),dr(this,"commentForegroundColor",Rg(n))}}function TH(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return r=Math.round(r*n+a),e=Math.round(e*n+a),t=Math.round(t*n+a),[r,e,t]}function pI(r,e){const t=r[0]/255,n=r[1]/255,a=r[2]/255,s=Math.max(t,n,a),i=Math.min(t,n,a),l=(s+i)/2;if(s===i)e[0]=e[1]=0;else{const c=s-i;switch(e[1]=l<.5?c/(s+i):c/(2-s-i),s){case t:e[0]=((n-a)/c+(n<a?6:0))*60;break;case n:e[0]=((a-t)/c+2)*60;break;case a:e[0]=((t-n)/c+4)*60;break}}e[2]=l}function uS(r,e){const t=r[0],n=r[1],a=r[2],s=(1-Math.abs(2*a-1))*n,i=s*(1-Math.abs(t/60%2-1)),l=a-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=i+l,e[2]=l;break;case 1:e[0]=i+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=i+l;break;case 3:e[0]=l,e[1]=i+l,e[2]=s+l;break;case 4:e[0]=i+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=i+l;break}}function yI(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function xI(r,e,t){uS(r,t),t.map(yI);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];uS(e,t),t.map(yI);const a=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const vI=new Map;function FH(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=vI.get(t);if(n)return n;const a=new Float32Array(9),s=a.subarray(0,3),i=a.subarray(3,6);pI(r,i);const l=a.subarray(6,9);pI(e,l);const c=l[2]<.5,u=c?12:4.5;if(i[2]=c?Math.sqrt(i[2]):1-Math.sqrt(1-i[2]),xI(i,l,s)<u){let d,f;c?(d=i[2],f=1):(d=0,f=i[2]);const g=.005;for(;f-d>g;){const p=i[2]=(d+f)/2;c===xI(i,l,s)<u?d=p:f=p}i[2]=c?f:d}return uS(i,s),n=ut.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),vI.set(t,n),n}function C4({html:r,dir:e,className:t},n){const a=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const i=r.split(/(?:\r\n?|\n)/);for(let l=0,c=i.length;l<c;++l){const u=i[l];s.append(document.createTextNode(u)),l<c-1&&s.append(document.createElement("br"))}a.append(s)}else w4.render({xfaHtml:r,div:a,intent:"richText"});a.firstChild.classList.add("richText",t),n.append(a)}class u0{#e=null;#t=null;#n;#r=null;#i=null;#a=null;#s=null;#o=null;static#c=null;constructor(e){this.#n=e,u0.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Mo,{signal:t}),e.addEventListener("pointerdown",u0.#l,{signal:t}));const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const a=this.#n.toolbarPosition;if(a){const{style:s}=e,i=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,sa(e)}#u(e){this.#n._focusEventsAllowed=!0,sa(e)}#h(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Mo,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",u0.#c[e]),this.#h(n)&&n.addEventListener("click",a=>{t.delete()},{signal:t._signal}),this.#r.append(n)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#r.append(t,this.#g),this.#i=e}addComment(e,t=null){if(this.#a)return;const n=e.renderForToolbar();if(!n)return;this.#h(n);const a=this.#s=this.#g;t?(this.#r.insertBefore(n,t),this.#r.insertBefore(a,t)):this.#r.append(n,a),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#r.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#h(t),this.#r.append(t,this.#g)}removeButton(e){switch(e){case"comment":this.#a?.removeToolbarCommentButton(),this.#a=null,this.#s?.remove(),this.#s=null;break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const a=this.#r.querySelector(n);a&&e==="comment"&&this.addComment(t,a)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class jge{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Mo,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#n.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#i(e,t){let n=0,a=0;for(const s of e){const i=s.y+s.height;if(i<n)continue;const l=s.x+(t?s.width:0);if(i>n){a=l,n=i;continue}t?l>a&&(a=l):l<a&&(a=l)}return[t?1-a:a,n]}show(e,t,n){const[a,s]=this.#i(t,n),{style:i}=this.#t||=this.#r();e.append(this.#t),i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,t,n,a){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const i=document.createElement("span");s.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id",n);const l=this.#n._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Mo,{signal:l}),s.addEventListener("click",a,{signal:l})),this.#e.append(s)}}function PH(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}class Ege{#e=0;get id(){return`${P0}${this.#e++}`}}class B4{#e=v4();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const s=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return dr(this,"_isSVGFittingCanvas",s)}async#r(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof t=="string"?(n.url=t,a=await Ug(t,"blob")):t instanceof File?a=n.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const s=B4._isSVGFittingCanvas,i=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,u()},i.onload=async()=>{const f=n.svgUrl=i.result;l.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},l.onerror=i.onerror=d});i.readAsDataURL(a),await c}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){ir(a),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:a,type:s}=e;return this.#r(`${t}_${n}_${a}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const n=await t;return this.#r(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class _ge{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:a,type:s=NaN,overwriteIfSameType:i=!1,keepUndo:l=!1}){if(a&&e(),this.#t)return;const c={cmd:e,undo:t,post:n,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(c);return}if(i&&this.#e[this.#r].type===s){l&&(c.undo=this.#e[this.#r].undo),this.#e[this.#r]=c;return}const u=this.#r+1;u===this.#n?this.#e.splice(0,1):(this.#r=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(c)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class wy{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ns.platform;for(const[n,a,s={}]of e)for(const i of n){const l=i.startsWith("mac+");t&&l?(this.callbacks.set(i.slice(4),{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1))):!t&&!l&&(this.callbacks.set(i,{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:a,options:{bubbles:s=!1,args:i=[],checker:l=null}}=n;l&&!l(e,t)||(a.bind(e,...i,t)(),s||sa(t))}}class N4{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Nge(e),dr(this,"_colors",e)}convert(e){const t=Rg(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,a]of this._colors)if(a.every((s,i)=>s===t[i]))return N4._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ut.makeHexColor(...t):e}}class xu{#e=new AbortController;#t=null;#n=null;#r=new Map;#i=new Map;#a=null;#s=null;#o=null;#c=new _ge;#l=null;#d=null;#u=null;#h=0;#g=new Set;#f=null;#A=null;#m=new Set;_editorUndoBar=null;#p=!1;#x=!1;#y=!1;#N=null;#C=null;#v=null;#j=null;#w=!1;#B=null;#k=new Ege;#E=!1;#_=!1;#D=!1;#F=null;#O=null;#M=null;#I=null;#z=null;#S=sr.NONE;#b=new Set;#P=null;#U=null;#Q=null;#G=null;#$=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#L=null;#q=null;#J=null;#Z=null;#R=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=xu.prototype,t=i=>i.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&i.hasSomethingToControl(),n=(i,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},a=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return dr(this,"_keyboardManager",new wy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#q.contains(l)&&!i.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,a,s,i,l,c,u,d,f,g,p,x,y,b){const w=this._signal=this.#e.signal;this.#q=e,this.#J=t,this.#Z=n,this.#a=a,this.#l=s,this.#U=i,this.#$=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:w}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),l._on("setpreference",this.onSetPreference.bind(this),{signal:w}),l._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#_=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#_=!1},{capture:!0,signal:w}),this.#le(),this.#de(),this.#te(),this.#s=c.annotationStorage,this.#N=c.filterFactory,this.#Q=u,this.#j=d||null,this.#p=f,this.#x=g,this.#y=p,this.#z=x||null,this.viewParameters={realScale:uf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=b!==!1,s?.setSidebarUiManager(this)}destroy(){this.#R?.resolve(),this.#R=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#r.clear(),this.#m.clear(),this.#I?.clear(),this.#t=null,this.#b.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#U?.destroy(),this.#B?.hide(),this.#B=null,this.#M?.destroy(),this.#M=null,this.#n=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#$=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#x}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return dr(this,"hcmFilter",this.#Q?this.#N.addHCMFilter(this.#Q.foreground,this.#Q.background):"none")}get direction(){return dr(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return dr(this,"_highlightColors",this.#j?new Map(this.#j.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return dr(this,"highlightColors",null);const t=new Map,n=!!this.#Q;for(const[a,s]of e){const i=a.endsWith("_HCM");if(n&&i){t.set(a.replace("_HCM",""),s);continue}!n&&!i&&t.set(a,s)}return dr(this,"highlightColors",t)}get highlightColorNames(){return dr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#u=e}setMainHighlightColorPicker(e){this.#M=e}editAltText(e,t=!1){this.#a?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,n,a){this.#l?.showDialog(this,e,t,n,a)}selectComment(e,t){this.#i.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#l?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),a=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",a),t())};this._eventBus.on("editorsrendered",a),await n}getSignature(e){this.#U?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#U}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=t;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#q.focus()}findParent(e,t){for(const n of this.#i.values()){const{x:a,y:s,width:i,height:l}=n.div.getBoundingClientRect();if(e>=a&&e<=a+i&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*uf.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#u?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#X({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#i.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l}=n,c=n.toString(),d=this.#X(n).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;n.empty();const g=this.#ee(d),p=this.#S===sr.NONE,x=()=>{const y=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&y?.editComment()};if(p){this.switchToMode(sr.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#X(e).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(this.#B||=new jge(this),this.#B.show(n,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#s)return null;const t=`${P0}${e}`,n=this.#s.getRawValue(t);return n&&this.#s.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#Z;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#P&&(this.#B?.hide(),this.#P=null,this.#T({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#P)return;const a=this.#X(e).closest(".textLayer");if(!a){this.#P&&(this.#B?.hide(),this.#P=null,this.#T({hasSelectedText:!1}));return}if(this.#B?.hide(),this.#P=t,this.#T({hasSelectedText:!0}),!(this.#S!==sr.HIGHLIGHT&&this.#S!==sr.NONE)&&(this.#S===sr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#S===sr.HIGHLIGHT?this.#ee(a):null;if(s?.toggleDrawing(),this.#_){const i=new AbortController,l=this.combinedSignal(i),c=u=>{u.type==="pointerup"&&u.button!==0||(i.abort(),s?.toggleDrawing(!0),u.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else s?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#S===sr.HIGHLIGHT?this.highlightSelection(e):this.#p&&this.#ie()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#v)return;this.#v=new AbortController;const e=this.combinedSignal(this.#v);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#Ae(){this.#v?.abort(),this.#v=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#b)if(t.div.contains(e)){this.#O=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[e,t]=this.#O;this.#O=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#F)return;this.#F=new AbortController;const e=this.combinedSignal(this.#F);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ue(){this.#F?.abort(),this.#F=null}#re(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ne(){this.#d?.abort(),this.#d=null}#de(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#re()}removeEditListeners(){this.#ue(),this.#ne()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#A)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#A)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#b){const a=n.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const i of this.#A)if(i.isHandlingMimeForPasting(s.type)){i.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){ir(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const s=[];for(const c of n){const u=await a.deserialize(c);if(!u)return;s.push(u)}const i=()=>{for(const c of s)this.#ae(c);this.#se(s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:i,undo:l,mustExec:!0})}catch(s){ir(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#S!==sr.NONE&&!this.isEditorHandlingKeyboard&&xu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#T(e){Object.entries(e).some(([n,a])=>this.#V[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,e)}),this.#S===sr.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#K([[Nr.HIGHLIGHT_FREE,!0]]))}#K(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#re(),this.#T({isEditing:this.#S!==sr.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ae(),this.#ne(),this.#T({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#A){this.#A=e;for(const t of this.#A)this.#K(t.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#E?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,a=!1,s=!1){if(this.#S!==e&&!(this.#R&&(await this.#R.promise,!this.#R))){if(this.#R=Promise.withResolvers(),this.#u?.commitOrRemove(),this.#S===sr.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#S=e,e===sr.NONE){this.setEditingState(!1),this.#fe();for(const i of this.#r.values())i.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#R.resolve();return}for(const i of this.#r.values())i.addStandaloneCommentButton();e===sr.SIGNATURE&&await this.#U?.loadSignatures(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const i of this.#i.values())i.updateMode(e);if(e===sr.POPUP){this.#n||=await this.#$.getAnnotationsByType(new Set(this.#A.map(c=>c._editorType)));const i=new Set,l=[];for(const c of this.#r.values()){const{annotationElementId:u,hasComment:d,deleted:f}=c;u&&i.add(u),d&&!f&&l.push(c.getData())}for(const c of this.#n){const{id:u,popupRef:d,contentsObj:f}=c;d&&f?.str&&!i.has(u)&&!this.#g.has(u)&&l.push(c)}this.#l?.showSidebar(l)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#R.resolve();return}for(const i of this.#r.values())i.uid===t?(this.setSelected(i),s?i.editComment():a?i.enterInEditMode():i.focus()):i.unselect();this.#R.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#S&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#A){switch(e){case Nr.CREATE:this.currentLayer.addNewEditor(t);return;case Nr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#b)n.updateParams(e,t);else for(const n of this.#A)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#r.values())s.editorType===e&&s.show(t);(this.#G?.get(Nr.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#K([[Nr.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#D!==e){this.#D=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#E){this.#E=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#r.values())t.enable()}}#fe(){if(this.unselectAll(),this.#E){this.#E=!1;for(const e of this.#i.values())e.disable();for(const e of this.#r.values())e.disable()}}*getEditors(e){for(const t of this.#r.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#r.get(e)}addEditor(e){this.#r.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#r.delete(e.id),e.annotationElementId&&this.#I?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ae(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#K(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#b);return e}updateUI(e){this.#me===e&&this.#K(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#K(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#b.has(e)){this.#b.delete(e),e.unselect(),this.#T({hasSelectedEditor:this.hasSelection});return}this.#b.add(e),e.select(),this.#K(e.propertiesToUpdate),this.#T({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#u?.commitOrRemove();for(const t of this.#b)t!==e&&t.unselect();this.#b.clear(),this.#b.add(e),e.select(),this.#K(e.propertiesToUpdate),this.#T({hasSelectedEditor:!0})}isSelected(e){return this.#b.has(e)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(e){e.unselect(),this.#b.delete(e),this.#T({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#T({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#T({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(e){this.#c.add(e),this.#T({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(e){this.#c.cleanType(e)}#Y(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const e of this.#r.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#b],n=()=>{this._editorUndoBar?.show(a,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},a=()=>{for(const s of t)this.#ae(s)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#se(e){for(const t of this.#b)t.unselect();this.#b.clear();for(const t of e)t.isEmpty()||(this.#b.add(t),t.select());this.#T({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#b)e.commit();this.#se(this.#r.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#S!==sr.NONE))&&!this.#u?.commitOrRemove()&&this.hasSelection){for(const e of this.#b)e.unselect();this.#b.clear(),this.#T({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[a,s]=this.#H,i=[...this.#b],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(a,s),c.translationDone())},undo:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(-a,-s),c.translationDone())},mustExec:!1})},l);for(const c of i)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#b)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:a,y:s,pageIndex:i},l]of e)l.newX=a,l.newY=s,l.newPageIndex=i,t||=a!==l.savedX||s!==l.savedY||i!==l.savedPageIndex;if(!t)return!1;const n=(a,s,i,l)=>{if(this.#r.has(a.id)){const c=this.#i.get(l);c?a._setParentAndPosition(c,s,i):(a.pageIndex=l,a.x=s,a.y=i)}};return this.addCommands({cmd:()=>{for(const[a,{newX:s,newY:i,newPageIndex:l}]of e)n(a,s,i,l)},undo:()=>{for(const[a,{savedX:s,savedY:i,savedPageIndex:l}]of e)n(a,s,i,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#S}isEditingMode(){return this.#S!==sr.NONE}get imageManager(){return dr(this,"imageManager",new B4)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:a,width:s,height:i}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,f,g)=>({x:(d-a)/i,y:1-(u+f-n)/s,width:g/i,height:f/s});break;case"180":l=(u,d,f,g)=>({x:1-(u+f-n)/s,y:1-(d+g-a)/i,width:f/s,height:g/i});break;case"270":l=(u,d,f,g)=>({x:1-(d+g-a)/i,y:(u-n)/s,width:g/i,height:f/s});break;default:l=(u,d,f,g)=>({x:(u-n)/s,y:(d-a)/i,width:f/s,height:g/i});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const f=t.getRangeAt(u);if(!f.collapsed)for(const{x:g,y:p,width:x,height:y}of f.getClientRects())x===0||y===0||c.push(l(g,p,x,y))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#s.getRawValue(t);n&&(this.#S===sr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const a=this.#I?.get(e);a&&(a.setCanvas(t,n),this.#I.delete(e))}addMissingCanvas(e,t){(this.#I||=new Map).set(e,t)}}class Jc{#e=null;#t=!1;#n=null;#r=null;#i=null;#a=null;#s=!1;#o=null;#c=null;#l=null;#d=null;#u=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#u=e._uiManager.useNewAltTextFlow,Jc.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Jc._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",Jc.#h.missing),t.setAttribute("data-l10n-id",Jc.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;e.addEventListener("contextmenu",Mo,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#u&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#s=!0,a(s))},{signal:n}),await this.#f(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#d=await Jc._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#f())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:a,cancel:s=!1}){n&&(this.#l=n,this.#d=a),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#f())}toggle(e=!1){this.#n&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#i=null,this.#o?.remove(),this.#o=null}async#f(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Jc.#h[this.#g]),this.#r?.setAttribute("data-l10n-id",Jc.#h[`${this.#g}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const a=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Wx{#e=null;#t=null;#n=!1;#r=null;#i=null;#a=null;#s=null;#o=null;#c=!1;#l=null;constructor(e){this.#r=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#d(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#r.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#r._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const a=this.#r.commentButtonColor;a&&(n.backgroundColor=a)}return this.#d(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#r.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#r._uiManager.updatePopupColor(this.#r)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#r.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#r.parent.boundingClientRect;return[(e-a)/i,(t+n-s)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#d(e,t){if(!this.#r._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#r._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#r._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Mo,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#r._focusEventsAllowed=!1,sa(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#r._focusEventsAllowed=!0,sa(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),e===this.#t?this.edit():this.#r.toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#n=!0,a(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#r.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#r.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,a;if(t)[n,a]=t;else{[n,a]=this.#r.commentButtonPosition;const{width:d,height:f,x:g,y:p}=this.#r;n=g+n*d,a=p+a*f}const s=this.#r.parent.boundingClientRect,{x:i,y:l,width:c,height:u}=s;this.#r._uiManager.editComment(this.#r,i+n*c,l+a*u,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#i}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#s&&(this.#a=null),e===null){this.#s="",this.#c=!0;return}this.#s=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#i=e,this.data=e,this.#o=null,this.#a=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#s="",this.#a=null,this.#o=null,this.#r=null,this.#n=!1,this.#c=!1}}class Cy{#e;#t=!1;#n=null;#r;#i;#a;#s;#o=null;#c;#l=null;#d;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:i=null,signal:l}){this.#e=e,this.#n=n,this.#r=t,this.#i=a,this.#a=s,this.#s=i,this.#d=new AbortController,this.#c=AbortSignal.any([l,this.#d.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/uc.pixelRatio}#h(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,s=AbortSignal.any([this.#c,a.signal]),i=this.#e,l={capture:!0,signal:s,passive:!1},c=u=>{u.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};i.addEventListener("pointerdown",u=>{u.pointerType==="touch"&&(sa(u),c(u))},l),i.addEventListener("pointerup",c,l),i.addEventListener("pointercancel",c,l);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#c,this.#u.signal]),s=this.#e,i={signal:a,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),i);const l=this.#f.bind(this);s.addEventListener("touchend",l,i),s.addEventListener("touchcancel",l,i),i.capture=!0,s.addEventListener("pointerdown",sa,i),s.addEventListener("pointermove",sa,i),s.addEventListener("pointercancel",sa,i),s.addEventListener("pointerup",sa,i),this.#i?.()}if(sa(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;sa(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:a,screenY:s}=t,{screenX:i,screenY:l}=n,c=this.#l,{touch0X:u,touch0Y:d,touch1X:f,touch1Y:g}=c,p=f-u,x=g-d,y=i-a,b=l-s,w=Math.hypot(y,b)||1,N=Math.hypot(p,x)||1;if(!this.#t&&Math.abs(N-w)<=Cy.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=a,c.touch0Y=s,c.touch1X=i,c.touch1Y=l,!this.#t){this.#t=!0;return}const j=[(a+i)/2,(s+l)/2];this.#a?.(j,N,w)}#f(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#s?.()),this.#l&&(sa(e),this.#l=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Lt{#e=null;#t=null;#n=null;#r=null;#i=null;#a=!1;#s=null;#o="";#c=null;#l=null;#d=null;#u=null;#h=null;#g="";#f=!1;#A=null;#m=!1;#p=!1;#x=!1;#y=null;#N=0;#C=0;#v=null;#j=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#B=Lt._zIndex++;static _borderLineWidth=-1;static _colorManager=new N4;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Lt.prototype._resizeWithKeyboard,t=xu.TRANSLATE_SMALL,n=xu.TRANSLATE_BIG;return dr(this,"_resizerKeyboardManager",new wy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[s,i];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return dr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new kge({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Lt._l10n??=e,Lt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Lt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Nn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#B}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#u?.remove(),this.#u=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,a){const[s,i]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(e+n)/s,this.y=(t+a)/i,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,a]=this.parentDimensions;this.setAt(e*n,t*a,this.width*n,this.height*a),this._onTranslated()}#k([e,t],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#k(this.parentDimensions,e,t)}translateInPage(e,t){this.#A||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#A||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[a,s]}=this;if(this.x+=e/a,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:l}=this;const[c,u]=this.getBaseTranslation();i+=c,l+=u;const{style:d}=n;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(i,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#A&&(this.#A[0]!==this.x||this.#A[1]!==this.y)}get _hasBeenResized(){return!!this.#A&&(this.#A[2]!==this.width||this.#A[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Lt,a=n/e,s=n/t;switch(this.rotation){case 90:return[-a,s];case 180:return[a,s];case 270:return[a,-s];default:return[-a,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,a]}=this;let{x:s,y:i,width:l,height:c}=this;if(l*=n,c*=a,s*=n,i*=a,this._mustFixPosition)switch(e){case 0:s=si(s,0,n-l),i=si(i,0,a-c);break;case 90:s=si(s,0,n-c),i=si(i,l,a);break;case 180:s=si(s,l,n),i=si(i,c,a);break;case 270:s=si(s,c,n),i=si(i,0,a-l);break}this.x=s/=n,this.y=i/=a;const[u,d]=this.getBaseTranslation();s+=u,i+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#E(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Lt.#E(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Lt.#E(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#D(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",this.#F.bind(this,n),{signal:t}),a.addEventListener("contextmenu",Mo,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#c)}#F(e,t){t.preventDefault();const{isMac:n}=Ns.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,i=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:i}),window.addEventListener("touchmove",sa,{passive:!1,signal:i}),window.addEventListener("contextmenu",Mo,{signal:i}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#M()};window.addEventListener("pointerup",u,{signal:i}),window.addEventListener("blur",u,{signal:i})}#O(e,t,n,a){this.width=n,this.height=a,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#M(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:a}=this.#d;this.#d=null;const s=this.x,i=this.y,l=this.width,c=this.height;s===e&&i===t&&l===n&&c===a||this.addCommands({cmd:this.#O.bind(this,s,i,l,c),undo:this.#O.bind(this,e,t,n,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#I(e,t){const[n,a]=this.parentDimensions,s=this.x,i=this.y,l=this.width,c=this.height,u=Lt.MIN_SIZE/n,d=Lt.MIN_SIZE/a,f=this.#_(this.rotation),g=($,te)=>[f[0]*$+f[2]*te,f[1]*$+f[3]*te],p=this.#_(360-this.rotation),x=($,te)=>[p[0]*$+p[2]*te,p[1]*$+p[3]*te];let y,b,w=!1,N=!1;switch(e){case"topLeft":w=!0,y=($,te)=>[0,0],b=($,te)=>[$,te];break;case"topMiddle":y=($,te)=>[$/2,0],b=($,te)=>[$/2,te];break;case"topRight":w=!0,y=($,te)=>[$,0],b=($,te)=>[0,te];break;case"middleRight":N=!0,y=($,te)=>[$,te/2],b=($,te)=>[0,te/2];break;case"bottomRight":w=!0,y=($,te)=>[$,te],b=($,te)=>[0,0];break;case"bottomMiddle":y=($,te)=>[$/2,te],b=($,te)=>[$/2,0];break;case"bottomLeft":w=!0,y=($,te)=>[0,te],b=($,te)=>[$,0];break;case"middleLeft":N=!0,y=($,te)=>[0,te/2],b=($,te)=>[$,te/2];break}const j=y(l,c),k=b(l,c);let T=g(...k);const I=Lt._round(s+T[0]),M=Lt._round(i+T[1]);let L=1,P=1,q,F;if(t.fromKeyboard)({deltaX:q,deltaY:F}=t);else{const{screenX:$,screenY:te}=t,[ee,fe]=this.#l;[q,F]=this.screenToPageTranslation($-ee,te-fe),this.#l[0]=$,this.#l[1]=te}if([q,F]=x(q/n,F/a),w){const $=Math.hypot(l,c);L=P=Math.max(Math.min(Math.hypot(k[0]-j[0]-q,k[1]-j[1]-F)/$,1/l,1/c),u/l,d/c)}else N?L=si(Math.abs(k[0]-j[0]-q),u,1)/l:P=si(Math.abs(k[1]-j[1]-F),d,1)/c;const R=Lt._round(l*L),H=Lt._round(c*P);T=g(...b(R,H));const z=I-T[0],X=M-T[1];this.#A||=[this.x,this.y,this.width,this.height],this.width=R,this.height=H,this.x=z,this.y=X,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#p)return this._editToolbar;this._editToolbar=new u0(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Jc.initialize(Lt._l10n),this.#n=new Jc(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#r?.focusButton()}addCommentButton(){return this.#r||=new Wx(this)}addStandaloneCommentButton(){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#r.renderForStandalone(),this.div.append(this.#i))}removeStandaloneCommentButton(){this.#r.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:a}}=this.#r;return{text:t,richText:e,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#r||=new Wx(this),this.#r.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#r||=new Wx(this),this.#r.setInitialText(e,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#r?.hasBeenEdited()}get hasDeletedComment(){return this.#r?.isDeleted()}get hasComment(){return!!this.#r&&!this.#r.isEmpty()&&!this.#r.isDeleted()}async editComment(e){this.#r||=new Wx(this),this.#r.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#r.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[s]=this.pageDimensions,[i]=this.pageTranslation,l=i+s+1,c=a-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#r.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#Q();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[a,s]=this.getInitialTranslation();return this.translate(a,s),PH(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#j||=new Cy({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#z.bind(this),onPinching:this.#S.bind(this),onPinchEnd:this.#b.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#z(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#S(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const i=this.#_(this.rotation),l=(I,M)=>[i[0]*I+i[2]*M,i[1]*I+i[3]*M],[c,u]=this.parentDimensions,d=this.x,f=this.y,g=this.width,p=this.height,x=Lt.MIN_SIZE/c,y=Lt.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/p),x/g,y/p);const b=Lt._round(g*s),w=Lt._round(p*s);if(b===g&&w===p)return;this.#A||=[d,f,g,p];const N=l(g/2,p/2),j=Lt._round(d+N[0]),k=Lt._round(f+N[1]),T=l(b/2,w/2);this.x=j-T[0],this.y=k-T[1],this.width=b,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#M()}pointerdown(e){const{isMac:t}=Ns.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(e);return}this.#P(e)}#P(e){const{isMac:t}=Ns.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a),i={capture:!0,passive:!1,signal:s},l=u=>{a.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#P(u),n&&this._onStopDragging()};t&&(this.#N=e.clientX,this.#C=e.clientY,this.#s=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",u=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:f,pointerId:g}=u;if(g!==this.#s){sa(u);return}const[p,x]=this.screenToPageTranslation(d-this.#N,f-this.#C);this.#N=d,this.#C=f,this._uiManager.dragSelectedEditors(p,x)},i),window.addEventListener("touchmove",sa,i),window.addEventListener("pointerdown",u=>{u.pointerType===this.#o&&(this.#j||u.isPrimary)&&l(u),sa(u)},i));const c=u=>{if(!this.#s||this.#s===u.pointerId){l(u);return}sa(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const a=this.parentScale,[s,i]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/a,d=t/a,f=this.x*s,g=this.y*i,p=this.width*s,x=this.height*i;switch(n){case 0:return[f+u+l,i-g-d-x+c,f+u+p+l,i-g-d+c];case 90:return[f+d+l,i-g+u+c,f+d+x+l,i-g+u+p+c];case 180:return[f-u-p+l,i-g+d+c,f-u+l,i-g+d+x+c];case 270:return[f-d-x+l,i-g-u-p+c,f-d+l,i-g-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,a,s,i]=e,l=s-n,c=i-a;switch(this.rotation){case 0:return[n,t-i,l,c];case 90:return[n,t-a,c,l];case 180:return[s,t-a,l,c];case 270:return[s,t-i,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#r?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:a,deleted:s,richText:i},uid:l,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:i,contentsObj:{str:e},creationDate:u,modificationDate:n||d,popupRef:!s,color:t,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#p=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#p=!1,!0):!1}isInEditMode(){return this.#p}shouldGetKeyboardEvents(){return this.#x}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:s,innerWidth:i}=window;return t<i&&a>0&&e<s&&n>0}#Q(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#Q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[s,i]=a.pageDimensions,[l,c,u,d]=a.getRectInCurrentCoords(e.rect,i);return a.x=l/s,a.y=c/i,a.width=u/s,a.height=d/i,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#L(),this.removeEditToolbar(),this.#v){for(const e of this.#v.values())clearTimeout(e);this.#v=null}this.parent=null,this.#j?.destroy(),this.#j=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#D(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,a,s,i]=this.getPDFRect();return[Lt._round(n+(s-n)*e),Lt._round(a+(i-a)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#r.commentPopupPositionInLayer}set commentPopupPosition(e){this.#r.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#r.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#r.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const i=this.#G.bind(this),l=this.#$.bind(this),c=this._uiManager._signal;for(const u of this.#t){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",i,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",this.#V.bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",Lt._l10nResizer[d])}}const n=this.#t[0];let a=0;for(const i of t){if(i===n)break;a++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==a){if(s<a)for(let l=0;l<a-s;l++)this.#c.append(this.#c.firstChild);else if(s>a)for(let l=0;l<s-a;l++)this.#c.firstChild.before(this.#c.lastChild);let i=0;for(const l of t){const u=this.#t[i++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Lt._l10nResizer[u])}}this.#H(0),this.#x=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){Lt._resizerKeyboardManager.exec(this,e)}#$(e){this.#x&&e.relatedTarget?.parentNode!==this.#c&&this.#L()}#V(e){this.#g=this.#x?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#x&&this.#I(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#L(){this.#x=!1,this.#H(-1),this.#M()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#v||=new Map;const{action:n}=e;let a=this.#v.get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#v.delete(n),this.#v.size===0&&(this.#v=null)},Lt._telemetryTimeout),this.#v.set(n,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#u&&!this.deleted){this.#u=e.addFakeAnnotation(this);return}if(this.deleted){this.#u.remove(),this.#u=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#u.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class kge extends Lt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const bI=3285377520,ll=4294901760,Gc=65535;class OH{constructor(e){this.h1=e?e&4294967295:bI,this.h2=e?e&4294967295:bI}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,b=e.length;y<b;y++){const w=e.charCodeAt(y);w<=255?t[n++]=w:(t[n++]=w>>>8,t[n++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,s=n-a*4,i=new Uint32Array(t.buffer,0,a);let l=0,c=0,u=this.h1,d=this.h2;const f=3432918353,g=461845907,p=f&Gc,x=g&Gc;for(let y=0;y<a;y++)y&1?(l=i[y],l=l*f&ll|l*p&Gc,l=l<<15|l>>>17,l=l*g&ll|l*x&Gc,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=i[y],c=c*f&ll|c*p&Gc,c=c<<15|c>>>17,c=c*g&ll|c*x&Gc,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,s){case 3:l^=t[a*4+2]<<16;case 2:l^=t[a*4+1]<<8;case 1:l^=t[a*4],l=l*f&ll|l*p&Gc,l=l<<15|l>>>17,l=l*g&ll|l*x&Gc,a&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ll|e*36045&Gc,t=t*4283543511&ll|((t<<16|e>>>16)*2950163797&ll)>>>16,e^=t>>>1,e=e*444984403&ll|e*60499&Gc,t=t*3301882366&ll|((t<<16|e>>>16)*3120437893&ll)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const dS=Object.freeze({map:null,hash:"",transfer:void 0});class S4{#e=!1;#t=null;#n=null;#r=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#r.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#r.get(e)}remove(e){const t=this.#r.get(e);if(t!==void 0&&(t instanceof Lt&&this.#n.delete(t.annotationElementId),this.#r.delete(e),this.#r.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#r.values())if(n instanceof Lt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#r.get(e);let a=!1;if(n!==void 0)for(const[s,i]of Object.entries(t))n[s]!==i&&(a=!0,n[s]=i);else a=!0,this.#r.set(e,t);a&&this.#i(),t instanceof Lt&&((this.#n||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#r.has(e)}get size(){return this.#r.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new IH(this)}get serializable(){if(this.#r.size===0)return dS;const e=new Map,t=new OH,n=[],a=Object.create(null);let s=!1;for(const[i,l]of this.#r){const c=l instanceof Lt?l.serialize(!1,a):l;c&&(e.set(i,c),t.update(`${i}:${JSON.stringify(c)}`),s||=!!c.bitmap)}if(s)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:dS}get editorStats(){let e=null;const t=new Map;let n=0,a=0;for(const s of this.#r.values()){if(!(s instanceof Lt)){s.popup&&(s.popup.deleted?a+=1:n+=1);continue}s.isCommentDeleted?a+=1:s.hasEditedComment&&(n+=1);const i=s.telemetryFinalData;if(!i)continue;const{type:l}=i;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[u,d]of Object.entries(i)){if(u==="type")continue;let f=c.get(u);f||(f=new Map,c.set(u,f));const g=f.get(d)??0;f.set(d,g+1)}}if((a>0||n>0)&&(e||=Object.create(null),e.comments={deleted:a,edited:n}),!e)return null;for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#n?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#n?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#n)for(const t of this.#n.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#r.entries()}}class IH extends S4{#e;constructor(e){super();const{map:t,hash:n,transfer:a}=e.serializable,s=structuredClone(t,a?{transfer:a}:null);this.#e={map:s,hash:n,transfer:a}}get print(){Nn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return dr(this,"modifiedIds",{ids:new Set,hash:""})}}class Tge{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(Tr(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:s,style:i}=e,l=new FontFace(a,s,i);this.addNativeFontFace(l);try{await l.load(),this.#e.add(a),n?.(e)}catch{ir(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Nn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw ir(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return dr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return dr(this,"isSyncFontLoadingSupported",Bi||Ns.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Tr(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:t,callback:e};return n.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return dr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(k,T){return k.charCodeAt(T)<<24|k.charCodeAt(T+1)<<16|k.charCodeAt(T+2)<<8|k.charCodeAt(T+3)&255}function a(k,T,I,M){const L=k.substring(0,T),P=k.substring(T+I);return L+M+P}let s,i;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(k,T){if(++u>30){ir("Load test font never loaded."),T();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,k,T))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=a(g,976,f.length,f);const x=16,y=1482184792;let b=n(g,x);for(s=0,i=f.length-3;s<i;s+=4)b=b-y+n(f,s)|0;s<f.length&&(b=b-y+n(f+"XXX",s)|0),g=a(g,x,4,yge(b));const w=`url(data:font/opentype;base64,${btoa(g)});`,N=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(N);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const k of[e.loadedName,f]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=k,j.append(T)}this._document.body.append(j),d(f,()=>{j.remove(),t.complete()})}}class Fge{#e;constructor(e,t=null,n,a){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${SH(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let a;try{a=e.get(n)}catch(i){ir(`getPathGenerator - ignoring character: "${i}".`)}const s=new Path2D(a||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function Pge(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Bi)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Oge(r){if(Bi&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return xy(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Yx(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const hS=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,Ige=r=>typeof r=="object"&&typeof r?.name=="string",LH=wge.bind(null,hS,Ige);class Lge{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,n)})}addEventListener(e,t,n=null){let a=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){ir("LoopbackPort - cannot use an `aborted` signal.");return}const i=()=>this.removeEventListener(e,t);a=()=>s.removeEventListener("abort",i),s.addEventListener("abort",i)}this.#e.set(t,a)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Xx={DATA:1,ERROR:2},Qa={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wI(){}function Yi(r){if(r instanceof yu||r instanceof Zb||r instanceof fI||r instanceof O0||r instanceof WB)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Nn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new yu(r.message);case"InvalidPDFException":return new Zb(r.message);case"PasswordException":return new fI(r.message,r.code);case"ResponseException":return new O0(r.message,r.status,r.missing);case"UnknownErrorException":return new WB(r.message,r.details)}return new WB(r.message,r.toString())}class Zp{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const n=e.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Xx.DATA)a.resolve(e.data);else if(e.callback===Xx.ERROR)a.reject(Yi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,a=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(i){s.postMessage({sourceName:n,targetName:a,callback:Xx.DATA,callbackId:e.callbackId,data:i})},function(i){s.postMessage({sourceName:n,targetName:a,callback:Xx.ERROR,callbackId:e.callbackId,reason:Yi(i)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const a=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[a]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(i){s.reject(i)}return s.promise}sendWithStream(e,t,n,a){const s=this.streamId++,i=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:i,targetName:l,action:e,streamId:s,data:t,desiredSize:u.desiredSize},a),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:i,targetName:l,stream:Qa.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Tr(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:i,targetName:l,stream:Qa.CANCEL,streamId:s,reason:Yi(u)}),d.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,f){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:a,stream:Qa.ENQUEUE,streamId:t,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Qa.CLOSE,streamId:t}),delete i.streamSinks[t])},error(u){Tr(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Qa.ERROR,streamId:t,reason:Yi(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Qa.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Qa.START_COMPLETE,streamId:t,reason:Yi(u)})})}#r(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Qa.START_COMPLETE:e.success?i.startCall.resolve():i.startCall.reject(Yi(e.reason));break;case Qa.PULL_COMPLETE:e.success?i.pullCall.resolve():i.pullCall.reject(Yi(e.reason));break;case Qa.PULL:if(!l){s.postMessage({sourceName:n,targetName:a,stream:Qa.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||wI).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Qa.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Qa.PULL_COMPLETE,streamId:t,reason:Yi(u)})});break;case Qa.ENQUEUE:if(Tr(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case Qa.CLOSE:if(Tr(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),this.#i(i,t);break;case Qa.ERROR:Tr(i,"error should have stream controller"),i.controller.error(Yi(e.reason)),this.#i(i,t);break;case Qa.CANCEL_COMPLETE:e.success?i.cancelCall.resolve():i.cancelCall.reject(Yi(e.reason)),this.#i(i,t);break;case Qa.CANCEL:if(!l)break;const c=Yi(e.reason);Promise.try(l.onCancel||wI,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Qa.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Qa.CANCEL_COMPLETE,streamId:t,reason:Yi(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class DH{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Nn("Abstract method `_createCanvas` called.")}}class Dge extends DH{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class MH{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Nn("Abstract method `_fetch` called.")}}class CI extends MH{async _fetch(e){const t=await Ug(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):xy(t)}}class UH{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,a,s){return"none"}destroy(e=!1){}}class Mge extends UH{#e;#t;#n;#r;#i;#a;#s=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#i=t}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#n){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#i.createElementNS(JA,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#i.createElementNS(JA,"defs"),e.append(n),n.append(this.#n),this.#i.body.append(e)}return this.#n}#d(e){if(e.length===1){const c=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[t,n,a]=e,s=new Array(256),i=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=t[c]/255,i[c]=n[c]/255,l[c]=a[c]/255;return[s.join(","),i.join(","),l.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(by(t)?ir('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=x4(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,a,s]=this.#d(e),i=e.length===1?n:`${n}${a}${s}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const l=`g_${this.#r}_transfer_map_${this.#s++}`,c=this.#u(l);this.#o.set(e,c),this.#o.set(i,c);const u=this.#f(l);return this.#m(n,a,s,u),c}addHCMFilter(e,t){const n=`${e}-${t}`,a="base";let s=this.#c.get(a);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(a,s)),!e||!t))return s.url;const i=this.#x(e);e=ut.makeHexColor(...i);const l=this.#x(t);if(t=ut.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const c=new Array(256);for(let p=0;p<=255;p++){const x=p/255;c[p]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const u=c.join(","),d=`g_${this.#r}_hcm_filter`,f=s.filter=this.#f(d);this.#m(u,u,u,f),this.#g(f);const g=(p,x)=>{const y=i[p]/255,b=l[p]/255,w=new Array(x+1);for(let N=0;N<=x;N++)w[N]=y+N/x*(b-y);return w.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),f),s.url=this.#u(d),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#d([e]),a=`alpha_${n}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#s++}`,i=this.#u(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#p(n,l),i}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,a;if(e?([n]=this.#d([e]),a=`luminosity_${n}`):a="luminosity",t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#s++}`,i=this.#u(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#h(l),e&&this.#p(n,l),i}addHighlightHCMFilter(e,t,n,a,s){const i=`${t}-${n}-${a}-${s}`;let l=this.#c.get(e);if(l?.key===i||(l?(l.filter?.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},this.#c.set(e,l)),!t||!n))return l.url;const[c,u]=[t,n].map(this.#x.bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[g,p]=[a,s].map(this.#x.bind(this));f<d&&([d,f,g,p]=[f,d,p,g]),this.#l.style.color="";const x=(w,N,j)=>{const k=new Array(256),T=(f-d)/j,I=w/255,M=(N-w)/(255*j);let L=0;for(let P=0;P<=j;P++){const q=Math.round(d+P*T),F=I+P*M;for(let R=L;R<=q;R++)k[R]=F;L=q+1}for(let P=L;P<256;P++)k[P]=k[L-1];return k.join(",")},y=`g_${this.#r}_hcm_${e}_filter`,b=l.filter=this.#f(y);return this.#g(b),this.#m(x(g[0],p[0],5),x(g[1],p[1],5),x(g[2],p[2],5),b),l.url=this.#u(y),l.url}destroy(e=!1){e&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#s=0)}#h(e){const t=this.#i.createElementNS(JA,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#i.createElementNS(JA,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){const t=this.#i.createElementNS(JA,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#A(e,t,n){const a=this.#i.createElementNS(JA,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",n),e.append(a)}#m(e,t,n,a){const s=this.#i.createElementNS(JA,"feComponentTransfer");a.append(s),this.#A(s,"feFuncR",e),this.#A(s,"feFuncG",t),this.#A(s,"feFuncB",n)}#p(e,t){const n=this.#i.createElementNS(JA,"feComponentTransfer");t.append(n),this.#A(n,"feFuncA",e)}#x(e){return this.#l.style.color=e,Rg(getComputedStyle(this.#l).getPropertyValue("color"))}}class RH{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Nn("Abstract method `_fetch` called.")}}class BI extends RH{async _fetch(e){const t=await Ug(e,"arraybuffer");return new Uint8Array(t)}}class QH{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Nn("Abstract method `_fetch` called.")}}class NI extends QH{async _fetch(e){const t=await Ug(e,"arraybuffer");return new Uint8Array(t)}}Bi&&ir("Please use the `legacy` build in Node.js environments.");async function j4(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class Uge extends UH{}class Rge extends DH{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Qge extends MH{async _fetch(e){return j4(e)}}class Hge extends RH{async _fetch(e){return j4(e)}}class Kge extends QH{async _fetch(e){return j4(e)}}const xm="__forcedDependency",{floor:SI,ceil:jI}=Math;function Jx(r,e,t,n,a,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],a),r[e*4+3]=Math.max(r[e*4+3],s)}const fS=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class zge{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===fS}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Zx=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};class qge{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[xm]:[]};#n=new Map;#r=[];#i=[];#a=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#u=new Map;#h;#g;#f;#A;#m;constructor(e,t,n=!1){this.#h=e.width,this.#g=e.height,this.#p(t),n&&(this.#m=new Map)}growOperationsCount(e){e>=this.#A.length&&this.#p(e,this.#A)}#p(e,t){const n=new ArrayBuffer(e*4);this.#f=new Uint8ClampedArray(n),this.#A=new Uint32Array(n),t&&t.length>0?(this.#A.set(t),this.#A.fill(fS,t.length)):this.#A.fill(fS)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[xm]:{__proto__:this.#t[xm]}},this.#s={__proto__:this.#s},this.#r.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#s=Object.getPrototypeOf(this.#s);const n=this.#r.pop();return n!==void 0&&(Zx(this.#m,e)?.dependencies.add(n),this.#A[e]=this.#A[n]),this}recordOpenMarker(e){return this.#r.push(e),this}getOpenMarker(){return this.#r.length===0?null:this.#r.at(-1)}recordCloseMarker(e){const t=this.#r.pop();return t!==void 0&&(Zx(this.#m,e)?.dependencies.add(t),this.#A[e]=this.#A[t]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const t=this.#i.pop();return t!==void 0&&(Zx(this.#m,e)?.dependencies.add(t),this.#A[e]=this.#A[t]),this}pushBaseTransform(e){return this.#a.push(ut.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#n.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(xm,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(xm,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,a,s,i){const l=ut.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];ut.axialAlignedBoundingBox([n,s,a,i],l,c);const u=ut.intersect(this.#s,c);return u?(this.#s[0]=u[0],this.#s[1]=u[1],this.#s[2]=u[2],this.#s[3]=u[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(e,t,n,a,s,i){const l=this.#s;if(l[0]===1/0)return this;const c=ut.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform());if(l[0]===-1/0)return ut.axialAlignedBoundingBox([n,s,a,i],c,this.#o),this;const u=[1/0,1/0,-1/0,-1/0];return ut.axialAlignedBoundingBox([n,s,a,i],c,u),this.#o[0]=Math.min(this.#o[0],Math.max(u[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(u[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(u[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,n,a=1,s=0,i=0,l){const c=n.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&this.#u.get(n),u!==!1&&(d=[0,0,0,0],ut.axialAlignedBoundingBox(c,n.fontMatrix,d),(a!==1||s!==0||i!==0)&&ut.scaleMinMax([a,0,0,-a,s,i],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!l)return this.recordFullPageBBox(e);const f=l();return c&&d&&u===void 0&&(u=d[0]<=s-f.actualBoundingBoxLeft&&d[2]>=s+f.actualBoundingBoxRight&&d[1]<=i-f.actualBoundingBoxAscent&&d[3]>=i+f.actualBoundingBoxDescent,this.#u.set(n,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,i-f.actualBoundingBoxAscent,i+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#h,this.#s[2]),this.#o[3]=Math.min(this.#g,this.#s[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#l,a=this.#e,s=this.#t;for(const i of t)i in this.#e?n.add(a[i]):i in s&&s[i].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#l.add(this.#n.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[xm]),this.#m){const n=Zx(this.#m,e),{dependencies:a}=n;this.#l.forEach(a.add,a),this.#r.forEach(a.add,a),this.#i.forEach(a.add,a),a.delete(e),n.isRenderingOperation=!0}if(this.#c===e){const n=SI(this.#o[0]*256/this.#h),a=SI(this.#o[1]*256/this.#g),s=jI(this.#o[2]*256/this.#h),i=jI(this.#o[3]*256/this.#g);Jx(this.#f,e,n,a,s,i);for(const l of this.#l)l!==e&&Jx(this.#f,l,n,a,s,i);for(const l of this.#r)l!==e&&Jx(this.#f,l,n,a,s,i);for(const l of this.#i)l!==e&&Jx(this.#f,l,n,a,s,i);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#d.get(e);return this.#d.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#u.clear(),new zge(this.#A,this.#f)}takeDebugMetadata(){return this.#m}}class rw{#e;#t;#n;#r=0;#i=0;constructor(e,t,n){if(e instanceof rw&&e.#n===!!n)return e;this.#e=e,this.#t=t,this.#n=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#r++,this}getOpenMarker(){return this.#r>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#r--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#n||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,a,s,i){return this.#n||this.#e.recordClipBox(this.#t,t,n,a,s,i),this}recordBBox(e,t,n,a,s,i){return this.#n||this.#e.recordBBox(this.#t,t,n,a,s,i),this}recordCharacterBBox(e,t,n,a,s,i,l){return this.#n||this.#e.recordCharacterBBox(this.#t,t,n,a,s,i,l),this}recordFullPageBBox(e){return this.#n||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#n||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const cl={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},zs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function mS(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,n),r.clip(a)}class E4{isModifyingCurrentTransform(){return!1}getPattern(){Nn("Abstract method `getPattern` called.")}}class $ge extends E4{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,a){let s;if(a===zs.STROKE||a===zs.FILL){const i=t.current.getClippedPathBoundingBox(a,aa(e))||[0,0,0,0],l=Math.ceil(i[2]-i[0])||1,c=Math.ceil(i[3]-i[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-i[0],-i[1]),n=ut.transform(n,[1,0,0,1,i[0],i[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),mS(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else mS(e,this._bbox),s=this._createGradient(e);return s}}function JB(r,e,t,n,a,s,i,l){const c=e.coords,u=e.colors,d=r.data,f=r.width*4;let g;c[t+1]>c[n+1]&&(g=t,t=n,n=g,g=s,s=i,i=g),c[n+1]>c[a+1]&&(g=n,n=a,a=g,g=i,i=l,l=g),c[t+1]>c[n+1]&&(g=t,t=n,n=g,g=s,s=i,i=g);const p=(c[t]+e.offsetX)*e.scaleX,x=(c[t+1]+e.offsetY)*e.scaleY,y=(c[n]+e.offsetX)*e.scaleX,b=(c[n+1]+e.offsetY)*e.scaleY,w=(c[a]+e.offsetX)*e.scaleX,N=(c[a+1]+e.offsetY)*e.scaleY;if(x>=N)return;const j=u[s],k=u[s+1],T=u[s+2],I=u[i],M=u[i+1],L=u[i+2],P=u[l],q=u[l+1],F=u[l+2],R=Math.round(x),H=Math.round(N);let z,X,$,te,ee,fe,_e,re;for(let U=R;U<=H;U++){if(U<b){const he=U<x?0:(x-U)/(x-b);z=p-(p-y)*he,X=j-(j-I)*he,$=k-(k-M)*he,te=T-(T-L)*he}else{let he;U>N?he=1:b===N?he=0:he=(b-U)/(b-N),z=y-(y-w)*he,X=I-(I-P)*he,$=M-(M-q)*he,te=L-(L-F)*he}let Y;U<x?Y=0:U>N?Y=1:Y=(x-U)/(x-N),ee=p-(p-w)*Y,fe=j-(j-P)*Y,_e=k-(k-q)*Y,re=T-(T-F)*Y;const ne=Math.round(Math.min(z,ee)),oe=Math.round(Math.max(z,ee));let de=f*U+ne*4;for(let he=ne;he<=oe;he++)Y=(z-he)/(z-ee),Y<0?Y=0:Y>1&&(Y=1),d[de++]=X-(X-fe)*Y|0,d[de++]=$-($-_e)*Y|0,d[de++]=te-(te-re)*Y|0,d[de++]=255}}function Gge(r,e,t){const n=e.coords,a=e.colors;let s,i;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,u=l-1;for(s=0;s<c;s++){let d=s*l;for(let f=0;f<u;f++,d++)JB(r,t,n[d],n[d+1],n[d+l],a[d],a[d+1],a[d+l]),JB(r,t,n[d+l+1],n[d+1],n[d+l],a[d+l+1],a[d+1],a[d+l])}break;case"triangles":for(s=0,i=n.length;s<i;s+=3)JB(r,t,n[s],n[s+1],n[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class Vge extends E4{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/f,x=d/g,y={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/p,scaleY:1/x},b=f+4,w=g+4,N=n.getCanvas("mesh",b,w),j=N.context,k=j.createImageData(f,g);if(t){const I=k.data;for(let M=0,L=I.length;M<L;M+=4)I[M]=t[0],I[M+1]=t[1],I[M+2]=t[2],I[M+3]=255}for(const I of this._figures)Gge(k,I,y);return j.putImageData(k,2,2),{canvas:N.canvas,offsetX:l-2*p,offsetY:c-2*x,scaleX:p,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,a){mS(e,this._bbox);const s=new Float32Array(2);if(a===zs.SHADING)ut.singularValueDecompose2dScale(aa(e),s);else if(this.matrix){ut.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;ut.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else ut.singularValueDecompose2dScale(t.baseTransform,s);const i=this._createMeshCanvas(s,a===zs.SHADING?null:this._background,t.cachedCanvases);return a!==zs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class Wge extends E4{getPattern(){return"hotpink"}}function Yge(r){switch(r[0]){case"RadialAxial":return new $ge(r);case"Mesh":return new Vge(r);case"Dummy":return new Wge}throw new Error(`Unknown IR type: ${r[0]}`)}const EI={COLORED:1,UNCOLORED:2};class _4{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(e,t){const{bbox:n,operatorList:a,paintType:s,tilingType:i,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),y1("TilingType: "+i);const f=n[0],g=n[1],p=n[2],x=n[3],y=p-f,b=x-g,w=new Float32Array(2);ut.singularValueDecompose2dScale(this.matrix,w);const[N,j]=w;ut.singularValueDecompose2dScale(this.baseTransform,w);const k=N*w[0],T=j*w[1];let I=y,M=b,L=!1,P=!1;const q=Math.ceil(u*k),F=Math.ceil(d*T),R=Math.ceil(y*k),H=Math.ceil(b*T);q>=R?I=u:L=!0,F>=H?M=d:P=!0;const z=this.getSizeAndScale(I,this.ctx.canvas.width,k),X=this.getSizeAndScale(M,this.ctx.canvas.height,T),$=e.cachedCanvases.getCanvas("pattern",z.size,X.size),te=$.context,ee=c.createCanvasGraphics(te,t);if(ee.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ee,s,l),te.translate(-z.scale*f,-X.scale*g),ee.transform(0,z.scale,0,0,X.scale,0,0),te.save(),ee.dependencyTracker?.save(),this.clipBbox(ee,f,g,p,x),ee.baseTransform=aa(ee.ctx),ee.executeOperatorList(a),ee.endDrawing(),ee.dependencyTracker?.restore(),te.restore(),L||P){const fe=$.canvas;L&&(I=u),P&&(M=d);const _e=this.getSizeAndScale(I,this.ctx.canvas.width,k),re=this.getSizeAndScale(M,this.ctx.canvas.height,T),U=_e.size,Y=re.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",U,Y),oe=ne.context,de=L?Math.floor(y/u):0,he=P?Math.floor(b/d):0;for(let Se=0;Se<=de;Se++)for(let me=0;me<=he;me++)oe.drawImage(fe,U*Se,Y*me,U,Y,0,0,U,Y);return{canvas:ne.canvas,scaleX:_e.scale,scaleY:re.scale,offsetX:f,offsetY:g}}return{canvas:$.canvas,scaleX:z.scale,scaleY:X.scale,offsetX:f,offsetY:g}}getSizeAndScale(e,t,n){const a=Math.max(_4.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=a?s=a:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,a,s){const i=a-t,l=s-n;e.ctx.rect(t,n,i,l),ut.axialAlignedBoundingBox([t,n,a,s],aa(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const a=e.ctx,s=e.current;switch(t){case EI.COLORED:const{fillStyle:i,strokeStyle:l}=this.ctx;a.fillStyle=s.fillColor=i,a.strokeStyle=s.strokeColor=l;break;case EI.UNCOLORED:a.fillStyle=a.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new pge(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,a,s){let i=n;a!==zs.SHADING&&(i=ut.transform(i,t.baseTransform),this.matrix&&(i=ut.transform(i,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(i);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}}function Xge({src:r,srcPos:e=0,dest:t,width:n,height:a,nonBlackColor:s=4294967295,inverseDecode:i=!1}){const l=Ns.isLittleEndian?4278190080:255,[c,u]=i?[s,l]:[l,s],d=n>>3,f=n&7,g=r.length;t=new Uint32Array(t.buffer);let p=0;for(let x=0;x<a;x++){for(const b=e+d;e<b;e++){const w=e<g?r[e]:255;t[p++]=w&128?u:c,t[p++]=w&64?u:c,t[p++]=w&32?u:c,t[p++]=w&16?u:c,t[p++]=w&8?u:c,t[p++]=w&4?u:c,t[p++]=w&2?u:c,t[p++]=w&1?u:c}if(f===0)continue;const y=e<g?r[e++]:255;for(let b=0;b<f;b++)t[p++]=y&1<<7-b?u:c}return{srcPos:e,destPos:p}}const _I=16,kI=100,Jge=15,TI=10,Ji=16,ZB=new DOMMatrix,To=new Float32Array(2),Um=new Float32Array([1/0,1/0,-1/0,-1/0]);function Zge(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,a,s,i,l){e.transform(t,n,a,s,i,l),this.__originalTransform(t,n,a,s,i,l)},r.setTransform=function(t,n,a,s,i,l){e.setTransform(t,n,a,s,i,l),this.__originalSetTransform(t,n,a,s,i,l)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,a,s,i,l){e.bezierCurveTo(t,n,a,s,i,l),this.__originalBezierCurveTo(t,n,a,s,i,l)},r.rect=function(t,n,a,s){e.rect(t,n,a,s),this.__originalRect(t,n,a,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class epe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,n)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ev(r,e,t,n,a,s,i,l,c,u){const[d,f,g,p,x,y]=aa(r);if(f===0&&g===0){const N=i*d+x,j=Math.round(N),k=l*p+y,T=Math.round(k),I=(i+c)*d+x,M=Math.abs(Math.round(I)-j)||1,L=(l+u)*p+y,P=Math.abs(Math.round(L)-T)||1;return r.setTransform(Math.sign(d),0,0,Math.sign(p),j,T),r.drawImage(e,t,n,a,s,0,0,M,P),r.setTransform(d,f,g,p,x,y),[M,P]}if(d===0&&p===0){const N=l*g+x,j=Math.round(N),k=i*f+y,T=Math.round(k),I=(l+u)*g+x,M=Math.abs(Math.round(I)-j)||1,L=(i+c)*f+y,P=Math.abs(Math.round(L)-T)||1;return r.setTransform(0,Math.sign(f),Math.sign(g),0,j,T),r.drawImage(e,t,n,a,s,0,0,P,M),r.setTransform(d,f,g,p,x,y),[P,M]}r.drawImage(e,t,n,a,s,i,l,c,u);const b=Math.hypot(d,f),w=Math.hypot(g,p);return[b*c,w*u]}class FI{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=AS;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Us.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Um.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=zs.FILL,t=null){const n=this.minMax.slice();if(e===zs.STROKE){t||Nn("Stroke bounding box must include transform."),ut.singularValueDecompose2dScale(t,To);const a=To[0]*this.lineWidth/2,s=To[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}updateClipFromPath(){const e=ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Um,0)}getClippedPathBoundingBox(e=zs.FILL,t=null){return ut.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function PI(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,a=t%Ji,s=(t-a)/Ji,i=a===0?s:s+1,l=r.createImageData(n,Ji);let c=0,u;const d=e.data,f=l.data;let g,p,x,y;if(e.kind===A0.GRAYSCALE_1BPP){const b=d.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),N=w.length,j=n+7>>3,k=4294967295,T=Ns.isLittleEndian?4278190080:255;for(g=0;g<i;g++){for(x=g<s?Ji:a,u=0,p=0;p<x;p++){const I=b-c;let M=0;const L=I>j?n:I*8-7,P=L&-8;let q=0,F=0;for(;M<P;M+=8)F=d[c++],w[u++]=F&128?k:T,w[u++]=F&64?k:T,w[u++]=F&32?k:T,w[u++]=F&16?k:T,w[u++]=F&8?k:T,w[u++]=F&4?k:T,w[u++]=F&2?k:T,w[u++]=F&1?k:T;for(;M<L;M++)q===0&&(F=d[c++],q=128),w[u++]=F&q?k:T,q>>=1}for(;u<N;)w[u++]=0;r.putImageData(l,0,g*Ji)}}else if(e.kind===A0.RGBA_32BPP){for(p=0,y=n*Ji*4,g=0;g<s;g++)f.set(d.subarray(c,c+y)),c+=y,r.putImageData(l,0,p),p+=Ji;g<i&&(y=n*a*4,f.set(d.subarray(c,c+y)),r.putImageData(l,0,p))}else if(e.kind===A0.RGB_24BPP)for(x=Ji,y=n*x,g=0;g<i;g++){for(g>=s&&(x=a,y=n*x),u=0,p=y;p--;)f[u++]=d[c++],f[u++]=d[c++],f[u++]=d[c++],f[u++]=255;r.putImageData(l,0,g*Ji)}else throw new Error(`bad image kind: ${e.kind}`)}function OI(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,a=t%Ji,s=(t-a)/Ji,i=a===0?s:s+1,l=r.createImageData(n,Ji);let c=0;const u=e.data,d=l.data;for(let f=0;f<i;f++){const g=f<s?Ji:a;({srcPos:c}=Xge({src:u,srcPos:c,dest:d,width:n,height:g,nonBlackColor:0})),r.putImageData(l,0,f*Ji)}}function Mp(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function tv(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function II(r,e){if(e)return!0;ut.singularValueDecompose2dScale(r,To);const t=Math.fround(uc.pixelRatio*uf.PDF_TO_CSS_UNITS);return To[0]<=t&&To[1]<=t}const tpe=["butt","round","square"],rpe=["miter","round","bevel"],npe={},LI={};class $m{constructor(e,t,n,a,s,{optionalContentConfig:i,markedContentStack:l=null},c,u,d){this.ctx=e,this.current=new FI(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=a,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=i,this.cachedCanvases=new epe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:a=null}){const s=this.ctx.canvas.width,i=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,i),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,i);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...aa(this.compositeCtx))}this.ctx.save(),tv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=aa(this.ctx)}executeOperatorList(e,t,n,a,s){const i=e.argsArray,l=e.fnArray;let c=t||0;const u=i.length;if(u===c)return c;const d=u-c>TI&&typeof n=="function",f=d?Date.now()+Jge:0;let g=0;const p=this.commonObjs,x=this.objs;let y,b;for(;;){if(a!==void 0&&c===a.nextBreakPoint)return a.breakIt(c,n),c;if(!s||s(c))if(y=l[c],b=i[c]??null,y!==gg.dependency)b===null?this[y](c):this[y](c,...b);else for(const w of b){this.dependencyTracker?.recordNamedData(w,c);const N=w.startsWith("g_")?p:x;if(!N.has(w))return N.get(w,n),c}if(c++,c===u)return c;if(d&&++g>TI){if(Date.now()>f)return n(),c;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,a=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),i=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=a,u="prescale1",d,f;for(;s>2&&l>1||i>2&&c>1;){let g=l,p=c;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),i>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,i/=c/p),d=this.cachedCanvases.getCanvas(u,g,p),f=d.context,f.clearRect(0,0,g,p),f.drawImage(e,0,0,l,c,0,0,g,p),e=d.canvas,l=g,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){const n=this.ctx,{width:a,height:s}=t,i=this.current.fillColor,l=this.current.patternFill,c=aa(n);let u,d,f,g;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),i]),u=this._cachedBitmapsMap.get(q),u||(u=new Map,this._cachedBitmapsMap.set(q,u));const F=u.get(d);if(F&&!l){const R=Math.round(Math.min(c[0],c[2])+c[4]),H=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,cl.transformAndFill),{canvas:F,offsetX:R,offsetY:H}}f=F}f||(g=this.cachedCanvases.getCanvas("maskCanvas",a,s),OI(g.context,t));let p=ut.transform(c,[1/a,0,0,-1/s,0,0]);p=ut.transform(p,[1,0,0,1,0,-s]);const x=Um.slice();ut.axialAlignedBoundingBox([0,0,a,s],p,x);const[y,b,w,N]=x,j=Math.round(w-y)||1,k=Math.round(N-b)||1,T=this.cachedCanvases.getCanvas("fillCanvas",j,k),I=T.context,M=y,L=b;I.translate(-M,-L),I.transform(...p),f||(f=this._scaleImage(g.canvas,$c(I)),f=f.img,u&&l&&u.set(d,f)),I.imageSmoothingEnabled=II(aa(I),t.interpolate),ev(I,f,0,0,f.width,f.height,0,0,a,s),I.globalCompositeOperation="source-in";const P=ut.transform($c(I),[1,0,0,1,-M,-L]);return I.fillStyle=l?i.getPattern(n,this,P,zs.FILL,e):i,I.fillRect(0,0,a,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,T.canvas)),this.dependencyTracker?.recordDependencies(e,cl.transformAndFill),{canvas:T.canvas,offsetX:Math.round(M),offsetY:Math.round(L)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=tpe[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=rpe[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,a]of t)switch(n){case"LW":this.setLineWidth(e,a);break;case"LC":this.setLineCap(e,a);break;case"LJ":this.setLineJoin(e,a);break;case"ML":this.setMiterLimit(e,a);break;case"D":this.setDash(e,a[0],a[1]);break;case"RI":this.setRenderingIntent(e,a);break;case"FL":this.setFlatness(e,a);break;case"Font":this.setFont(e,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(a,t,n);this.suspendedCtx=this.ctx;const i=this.ctx=s.context;i.setTransform(this.suspendedCtx.getTransform()),Mp(this.suspendedCtx,i),Zge(i,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Mp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,a){const s=a[0],i=a[1],l=a[2]-s,c=a[3]-i;l===0||c===0||(this.genericComposeSMask(t.context,n,l,c,t.subtype,t.backdrop,t.transferMap,s,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,a,s,i,l,c,u,d,f){let g=e.canvas,p=c-d,x=u-f;if(i)if(p<0||x<0||p+n>g.width||x+a>g.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,a),w=b.context;w.drawImage(g,-p,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=i,w.fillRect(0,0,n,a),w.globalCompositeOperation="source-over",g=b.canvas,p=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,x,n,a),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=i,e.fillRect(p,x,n,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const y=new Path2D;y.rect(c,u,n,a),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(g,p,x,n,a,c,u,n,a),t.restore()}save(e){this.inSMaskMode&&Mp(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Mp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,a,s,i,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,a,s,i,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,a){let[s]=n;if(!a){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const i=t===gg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-i,a[2]+i,a[1]-i,a[3]+i).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const i=n[0]=new Path2D;for(let l=0,c=s.length;l<c;)switch(s[l++]){case Vx.moveTo:i.moveTo(s[l++],s[l++]);break;case Vx.lineTo:i.lineTo(s[l++],s[l++]);break;case Vx.curveTo:i.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case Vx.closePath:i.closePath();break;default:ir(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=i}ut.axialAlignedBoundingBox(a,aa(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const i=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,$c(a),zs.STROKE,e),i){const l=new Path2D;l.addPath(t,a.getTransform().invertSelf().multiplySelf(i)),t=l}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,cl.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(zs.STROKE,aa(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const a=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let l=!1;if(i){const u=s.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(e),a.save(),a.fillStyle=s.getPattern(a,this,$c(a),zs.FILL,e),u){const d=new Path2D;d.addPath(t,a.getTransform().invertSelf().multiplySelf(u)),t=d}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),this.dependencyTracker?.recordDependencies(e,cl.fill),l&&(a.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,cl.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=npe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=LI}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;t!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(t!==void 0){const a=new Path2D,s=n.getTransform().invertSelf();for(const{transform:i,x:l,y:c,fontSize:u,path:d}of t)d&&a.addPath(d,new DOMMatrix(i).preMultiplySelf(s).translate(l,c).scale(u,-u));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),s=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=a.fontMatrix||AS,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ir("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const i=a.loadedName||"sans-serif",l=a.systemFontInfo?.css||`"${i}", ${a.fallbackName}`;let c="normal";a.black?c="900":a.bold&&(c="bold");const u=a.italic?"italic":"normal";let d=n;n<_I?d=_I:n>kI&&(d=kI),this.current.fontSizeScale=n/d,this.ctx.font=`${u} ${c} ${d}px ${l}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,n){const a=new Path2D;return a.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),a}paintChar(e,t,n,a,s,i){const l=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,g=d&Us.FILL_STROKE_MASK,p=!!(d&Us.ADD_TO_PATH_FLAG),x=c.patternFill&&!u.missingFile,y=c.patternStroke&&!u.missingFile;let b;if((u.disableFontFace||p||x||y)&&!u.missingFile&&(b=u.getPathGenerator(this.commonObjs,t)),b&&(u.disableFontFace||x||y)){l.save(),l.translate(n,a),l.scale(f,-f),this.dependencyTracker?.recordCharacterBBox(e,l,u);let w;if(g===Us.FILL||g===Us.FILL_STROKE)if(s){w=l.getTransform(),l.setTransform(...s);const N=this.#n(b,w,s);l.fill(N)}else l.fill(b);if(g===Us.STROKE||g===Us.FILL_STROKE)if(i){w||=l.getTransform(),l.setTransform(...i);const{a:N,b:j,c:k,d:T}=w,I=ut.inverseTransform(i),M=ut.transform([N,j,k,T,0,0],I);ut.singularValueDecompose2dScale(M,To),l.lineWidth*=Math.max(To[0],To[1])/f,l.stroke(this.#n(b,w,i))}else l.lineWidth/=f,l.stroke(b);l.restore()}else(g===Us.FILL||g===Us.FILL_STROKE)&&(l.fillText(t,n,a),this.dependencyTracker?.recordCharacterBBox(e,l,u,f,n,a,()=>l.measureText(t))),(g===Us.STROKE||g===Us.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,u,f,n,a,()=>l.measureText(t)).recordDependencies(e,cl.stroke),l.strokeText(t,n,a));p&&((this.pendingTextPaths||=[]).push({transform:aa(l),x:n,y:a,fontSize:f,path:b}),this.dependencyTracker?.recordCharacterBBox(e,l,u,f,n,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){n=!0;break}return dr(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,cl.showText).resetBBox(e),this.current.textRenderingMode&Us.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const i=this.ctx,l=n.fontSizeScale,c=n.charSpacing,u=n.wordSpacing,d=n.fontDirection,f=n.textHScale*d,g=t.length,p=a.vertical,x=p?1:-1,y=a.defaultVMetrics,b=s*n.fontMatrix[0],w=n.textRenderingMode===Us.FILL&&!a.disableFontFace&&!n.patternFill;i.save(),n.textMatrix&&i.transform(...n.textMatrix),i.translate(n.x,n.y+n.textRise),d>0?i.scale(f,-1):i.scale(f,1);let N,j;if(n.patternFill){i.save();const L=n.fillColor.getPattern(i,this,$c(i),zs.FILL,e);N=aa(i),i.restore(),i.fillStyle=L}if(n.patternStroke){i.save();const L=n.strokeColor.getPattern(i,this,$c(i),zs.STROKE,e);j=aa(i),i.restore(),i.strokeStyle=L}let k=n.lineWidth;const T=n.textMatrixScale;if(T===0||k===0){const L=n.textRenderingMode&Us.FILL_STROKE_MASK;(L===Us.STROKE||L===Us.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=T;if(l!==1&&(i.scale(l,l),k/=l),i.lineWidth=k,a.isInvalidPDFjsFont){const L=[];let P=0;for(const F of t)L.push(F.unicode),P+=F.width;const q=L.join("");if(i.fillText(q,0,0),this.dependencyTracker!==null){const F=i.measureText(q);this.dependencyTracker.recordBBox(e,this.ctx,-F.actualBoundingBoxLeft,F.actualBoundingBoxRight,-F.actualBoundingBoxAscent,F.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=P*b*f,i.restore(),this.compose();return}let I=0,M;for(M=0;M<g;++M){const L=t[M];if(typeof L=="number"){I+=x*L*s/1e3;continue}let P=!1;const q=(L.isSpace?u:0)+c,F=L.fontChar,R=L.accent;let H,z,X=L.width;if(p){const ee=L.vmetric||y,fe=-(L.vmetric?ee[1]:X*.5)*b,_e=ee[2]*b;X=ee?-ee[0]:X,H=fe/l,z=(I+_e)/l}else H=I/l,z=0;let $;if(a.remeasure&&X>0){$=i.measureText(F);const ee=$.width*1e3/s*l;if(X<ee&&this.isFontSubpixelAAEnabled){const fe=X/ee;P=!0,i.save(),i.scale(fe,1),H/=fe}else X!==ee&&(H+=(X-ee)/2e3*s/l)}if(this.contentVisible&&(L.isInFont||a.missingFile)){if(w&&!R)i.fillText(F,H,z),this.dependencyTracker?.recordCharacterBBox(e,i,$?{bbox:null}:a,s/l,H,z,()=>$??i.measureText(F));else if(this.paintChar(e,F,H,z,N,j),R){const ee=H+s*R.offset.x/l,fe=z-s*R.offset.y/l;this.paintChar(e,R.fontChar,ee,fe,N,j)}}const te=p?X*b-q*d:X*b+q*d;I+=te,P&&i.restore()}p?n.y-=I:n.x+=I*f,i.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,a=this.current,s=a.font,i=a.fontSize,l=a.fontDirection,c=s.vertical?1:-1,u=a.charSpacing,d=a.wordSpacing,f=a.textHScale*l,g=a.fontMatrix||AS,p=t.length,x=a.textRenderingMode===Us.INVISIBLE;let y,b,w,N;if(x||i===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(f,l);const j=this.dependencyTracker;for(this.dependencyTracker=j?new rw(j,e):null,y=0;y<p;++y){if(b=t[y],typeof b=="number"){N=c*b*i/1e3,this.ctx.translate(N,0),a.x+=N*f;continue}const k=(b.isSpace?d:0)+u,T=s.charProcOperatorList[b.operatorListId];T?this.contentVisible&&(this.save(),n.scale(i,i),n.transform(...g),this.executeOperatorList(T),this.restore()):ir(`Type3 character "${b.operatorListId}" is not available.`);const I=[b.width,0];ut.applyTransform(I,g),w=I[0]*i+k,n.translate(w,0),a.x+=w*f}n.restore(),j&&(this.dependencyTracker=j)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,a,s,i,l){const c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,a,i,s,l).recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const a=this.baseTransform||aa(this.ctx),s={createCanvasGraphics:(i,l)=>new $m(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new rw(this.dependencyTracker,l,!0):null)};n=new _4(t,this.ctx,s,a)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=Yge(this.getObject(e,t)),this.cachedPatterns.set(t,a)),n&&(a.matrix=n),a}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const a=this._getPattern(e,t);n.fillStyle=a.getPattern(n,this,$c(n),zs.SHADING,e);const s=$c(n);if(s){const{width:i,height:l}=n.canvas,c=Um.slice();ut.axialAlignedBoundingBox([0,0,i,l],s,c);const[u,d,f,g]=c;this.ctx.fillRect(u,d,f-u,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,cl.transform).recordDependencies(e,cl.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Nn("Should not call beginInlineImage")}beginImageData(){Nn("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=aa(this.ctx),n)){ut.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,s,i,l]=n,c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||y1("TODO: Support non-isolated groups."),t.knockout&&ir("Knockout groups not supported.");const a=aa(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Um.slice();ut.axialAlignedBoundingBox(t.bbox,aa(n),s);const i=[0,0,n.canvas.width,n.canvas.height];s=ut.intersect(s,i)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,u,d),p=g.context;p.translate(-l,-c),p.transform(...a);let x=new Path2D;const[y,b,w,N]=t.bbox;if(x.rect(y,b,w-y,N-b),t.matrix){const j=new Path2D;j.addPath(x,new DOMMatrix(t.matrix)),x=j}p.clip(x),t.smask&&this.smaskStack.push({canvas:g.canvas,context:p,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,c),n.save()),Mp(n,p),this.ctx=p,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=aa(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const i=Um.slice();ut.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,a,s,i){if(this.#e(),tv(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],c=n[3]-n[1];if(i&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c,ut.singularValueDecompose2dScale(aa(this.ctx),To);const{viewportScale:u}=this,d=Math.ceil(l*this.outputScaleX*u),f=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:g,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(To[0],0,0,-To[1],0,c*To[1]),tv(this.ctx)}else{tv(this.ctx),this.endPath(e);const u=new Path2D;u.rect(n[0],n[1],l,c),this.ctx.clip(u)}}this.current=new FI(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const a=this.ctx,s=this._createMaskCanvas(e,t),i=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(i,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+i.width,s.offsetY,s.offsetY+i.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,a=0,s=0,i,l){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=aa(c);c.transform(n,a,s,i,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),this.dependencyTracker?.resetBBox(e);for(let f=0,g=l.length;f<g;f+=2){const p=ut.transform(u,[n,a,s,i,l[f],l[f+1]]);c.drawImage(d.canvas,p[4],p[5]),this.dependencyTracker?.recordBBox(e,this.ctx,p[4],p[4]+d.canvas.width,p[5],p[5]+d.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,cl.transformAndFill);for(const i of t){const{data:l,width:c,height:u,transform:d}=i,f=this.cachedCanvases.getCanvas("maskCanvas",c,u),g=f.context;g.save();const p=this.getObject(e,l,i);OI(g,p),g.globalCompositeOperation="source-in",g.fillStyle=s?a.getPattern(g,this,$c(n),zs.FILL,e):a,g.fillRect(0,0,c,u),g.restore(),n.save(),n.transform(...d),n.scale(1,-1),ev(n,f.canvas,0,0,c,u,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,c,0,u),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){ir("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,a,s){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){ir("Dependent image isn't ready yet");return}const l=i.width,c=i.height,u=[];for(let d=0,f=s.length;d<f;d+=2)u.push({transform:[n,0,0,a,s[d],s[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,i,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:a}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,a),i=s.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,a=t.height,s=this.ctx;this.save(e);const{filter:i}=s;i!=="none"&&i!==""&&(s.filter="none"),s.scale(1/n,-1/a);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,a).context;PI(d,t),l=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(l,$c(s));s.imageSmoothingEnabled=II(aa(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-a,0).recordDependencies(e,cl.imageXObject).recordOperation(e),ev(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,n,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const a=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const i=t.width,l=t.height,u=this.cachedCanvases.getCanvas("inlineImage",i,l).context;PI(u,t),s=this.applyTransferMapsToCanvas(u)}this.dependencyTracker?.resetBBox(e);for(const i of n)a.save(),a.transform(...i.transform),a.scale(1,-1),ev(a,s,i.x,i.y,i.w,i.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,cl.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(a||(this.pendingClip===LI?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=aa(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:a,d:s}=this.ctx.getTransform();let i,l;if(n===0&&a===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)i=l=1/c;else{const d=c*e;i=l=d<1?1/d:1}else if(e===0)i=1/c,l=1/u;else{const d=c*e,f=u*e;i=d<1?1/d:1,l=f<1?1/f:1}}else{const c=Math.abs(t*s-n*a),u=Math.hypot(t,n),d=Math.hypot(a,s);if(e===0)i=d/c,l=u/c;else{const f=e*c;i=d>f?d/f:1,l=u>f?u/f:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:a}}=this,[s,i]=this.getScaleForStroking();if(s===i){n.lineWidth=(a||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,i),ZB.a=1/s,ZB.d=1/i;const c=new Path2D;if(c.addPath(e,ZB),l.length>0){const u=Math.max(s,i);n.setLineDash(l.map(d=>d/u)),n.lineDashOffset/=u}n.lineWidth=a||1,n.stroke(c),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in gg)$m.prototype[r]!==void 0&&($m.prototype[gg[r]]=$m.prototype[r]);class Gm{#e;#t;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let a=0;for(const u of Gm.strings){const d=t.encode(e[u]);n[u]=d,a+=4+d.length}const s=new ArrayBuffer(a),i=new Uint8Array(s),l=new DataView(s);let c=0;for(const u of Gm.strings){const d=n[u],f=d.length;l.setUint32(c,f),i.set(d,c+4),c+=4+f}return Tr(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}#r(e){Tr(e<Gm.strings.length,"Invalid string index");let t=0;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#r(0)}get fontWeight(){return this.#r(1)}get italicAngle(){return this.#r(2)}}class Vm{#e;#t;#n;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let a=0;for(const g of Vm.strings){const p=t.encode(e[g]);n[g]=p,a+=4+p.length}a+=4;let s,i,l=1+a;e.style&&(s=t.encode(e.style.style),i=t.encode(e.style.weight),l+=4+s.length+4+i.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let f=0;d.setUint8(f++,e.guessFallback?1:0),d.setUint32(f,0),f+=4,a=0;for(const g of Vm.strings){const p=n[g],x=p.length;a+=4+x,d.setUint32(f,x),u.set(p,f+4),f+=4+x}return d.setUint32(f-a-4,a),e.style&&(d.setUint32(f,s.length),u.set(s,f+4),f+=4+s.length,d.setUint32(f,i.length),u.set(i,f+4),f+=4+i.length),Tr(f<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(f)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#r(e){Tr(e<Vm.strings.length,"Invalid string index");let t=5;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#r(0)}get loadedName(){return this.#r(1)}get baseFontName(){return this.#r(2)}get src(){return this.#r(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#n.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const a=this.#t.getUint32(e),s=this.#n.decode(new Uint8Array(this.#e,e+4,a));return{style:n,weight:s}}}class mn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#n=this.#t+1+8;static#r=this.#n+1+48;static#i=this.#r+1+6;#a;#s;#o;constructor({data:e,extra:t}){this.#a=e,this.#s=new TextDecoder,this.#o=new DataView(this.#a),t&&Object.assign(this,t)}#c(e){Tr(e<mn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,a=this.#o.getUint8(t)>>n&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Tr(e<mn.numbers.length,"Invalid number index"),this.#o.getFloat64(mn.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=mn.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<4;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=mn.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<6;a++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=mn.#r;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<3;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#d(e){Tr(e<mn.strings.length,"Invalid string index");let t=mn.#i+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,t+4,n)),this.#s.decode(a)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let e=mn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#a,e+4,s)}clearData(){let e=mn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=mn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);if(a===0)return null;const s=new Uint8Array(a);return s.set(new Uint8Array(this.#a,e+4,a)),new Gm(s.buffer)}get systemFontInfo(){let e=mn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,e+4,n)),new Vm(a.buffer)}static write(e){const t=e.systemFontInfo?Vm.write(e.systemFontInfo):null,n=e.cssFontInfo?Gm.write(e.cssFontInfo):null,a=new TextEncoder,s={};let i=0;for(const y of mn.strings)s[y]=a.encode(e[y]),i+=4+s[y].length;const l=mn.#i+4+i+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let f=0;const g=mn.bools.length;let p=0,x=0;for(let y=0;y<g;y++){const b=e[mn.bools[y]];p|=(b===void 0?0:b?2:1)<<x,x+=2,(x===8||y===g-1)&&(d.setUint8(f++,p),p=0,x=0)}Tr(f===mn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const y of mn.numbers)d.setFloat64(f,e[y]),f+=8;if(Tr(f===mn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(f++,4);for(const y of e.bbox)d.setInt16(f,y,!0),f+=2}else d.setUint8(f++,0),f+=8;if(Tr(f===mn.#n,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(f++,6);for(const y of e.fontMatrix)d.setFloat64(f,y,!0),f+=8}else d.setUint8(f++,0),f+=48;if(Tr(f===mn.#r,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(f++,1);for(const y of e.defaultVMetrics)d.setInt16(f,y,!0),f+=2}else d.setUint8(f++,0),f+=6;Tr(f===mn.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(mn.#i,0),f+=4;for(const y of mn.strings){const b=s[y],w=b.length;d.setUint32(f,w),u.set(b,f+4),f+=4+w}if(d.setUint32(mn.#i,f-mn.#i-4),!t)d.setUint32(f,0),f+=4;else{const y=t.byteLength;d.setUint32(f,y),Tr(f+4+y<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),f+4),f+=4+y}if(!n)d.setUint32(f,0),f+=4;else{const y=n.byteLength;d.setUint32(f,y),Tr(f+4+y<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(n),f+4),f+=4+y}return e.data===void 0?(d.setUint32(f,0),f+=4):(d.setUint32(f,e.data.length),u.set(e.data,f+4),f+=4+e.data.length),Tr(f<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(f)}}class _d{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class ape{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Fm=Symbol("INTERNAL");class spe{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:n,usage:a,rbGroups:s}){this.#e=!!(e&Eo.DISPLAY),this.#t=!!(e&Eo.PRINT),this.name=t,this.intent=n,this.usage=a,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==Fm&&Nn("Internal method `_setVisible` called."),this.#n=n,this.#r=t}}class ipe{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=Eo.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const n of e.groups)this.#t.set(n.id,new spe(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(Fm,!1);for(const n of e.on)this.#t.get(n)._setVisible(Fm,!0);for(const n of e.off)this.#t.get(n)._setVisible(Fm,!1);this.#n=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let a=1;a<t;a++){const s=e[a];let i;if(Array.isArray(s))i=this.#i(s);else if(this.#t.has(s))i=this.#t.get(s).visible;else return ir(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return y1("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(ir(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return ir(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return ir(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return ir(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return ir(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return ir(`Unknown optional content policy ${e.policy}.`),!0}return ir(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const a=this.#t.get(e);if(!a){ir(`Optional content group not found: ${e}`);return}if(n&&t&&a.rbGroups.length)for(const s of a.rbGroups)for(const i of s)i!==e&&this.#t.get(i)?._setVisible(Fm,!1,!0);a._setVisible(Fm,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const s=this.#t.get(a);if(s)switch(n){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new OH;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class ope{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Tr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:i,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=l,s?.length>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Tr(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Tr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new lpe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new cpe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class lpe{constructor(e,t,n=!1,a=null){this._stream=e,this._done=n||!1,this._filename=v1(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class cpe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ape(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),s(d)}if(t=i(r),t){const d=u(t);return s(d)}if(t=n("filename","i").exec(r),t){t=t[1];let d=l(t);return d=u(d),s(d)}function n(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function a(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const g=new TextDecoder(d,{fatal:!0}),p=xy(f);f=g.decode(p),e=!1}catch{}}return f}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=a("utf-8",d),e&&(d=a("iso-8859-1",d))),d}function i(d){const f=[];let g;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=p.exec(d))!==null;){let[,y,b,w]=g;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[b,w]}const x=[];for(let y=0;y<f.length&&y in f;++y){let[b,w]=f[y];w=l(w),b&&(w=unescape(w),y===0&&(w=c(w))),x.push(w)}return x.join("")}function l(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let g=0;g<f.length;++g){const p=f[g].indexOf('"');p!==-1&&(f[g]=f[g].slice(0,p),f.length=g+1),f[g]=f[g].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function c(d){const f=d.indexOf("'");if(f===-1)return d;const g=d.slice(0,f),x=d.slice(f+1).replace(/^[^']*'/,"");return a(g,x)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,g,p,x){if(p==="q"||p==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),a(g,x);try{x=atob(x)}catch{}return a(g,x)})}return""}function HH(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const a=e[n];a!==void 0&&t.append(n,a)}return t}function b1(r){return URL.parse(r)?.origin??null}function KH({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(a.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function zH(r){const e=r.get("Content-Disposition");if(e){let t=Ape(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(v1(t))return t}return null}function By(r,e){return new O0(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function qH(r){return r===200||r===206}function $H(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function GH(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(ir(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class upe{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=HH(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Tr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new dpe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new hpe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class dpe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),a=t.url;fetch(a,$H(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=b1(s.url),!qH(s.status))throw By(s.status,a);this._reader=s.body.getReader(),this._headersCapability.resolve();const i=s.headers,{allowRangeRequests:l,suggestedLength:c}=KH({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=zH(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:GH(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class hpe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const i=a.url;fetch(i,$H(s,this._withCredentials,this._abortController)).then(l=>{const c=b1(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!qH(l.status))throw By(l.status,i);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:GH(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const e5=200,t5=206;function fpe(r){const e=r.response;return typeof e!="string"?e:xy(e).buffer}class mpe{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=HH(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,i]of this.headers)t.setRequestHeader(s,i);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=t5):a.expectedStatus=e5,t.responseType="arraybuffer",Tr(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){n.onError(a.status);return}const s=a.status||e5;if(!(s===e5&&n.expectedStatus===t5)&&s!==n.expectedStatus){n.onError(a.status);return}const l=fpe(a);if(s===t5){const c=a.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?n.onDone({begin:parseInt(u[1],10),chunk:l}):(ir('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class gpe{constructor(e){this._source=e,this._manager=new mpe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Tr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ppe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new ype(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ppe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=b1(t.responseURL);const n=t.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:i}=KH({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=zH(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=By(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ype{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=b1(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=By(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const xpe=/^[a-z][a-z0-9\-+.]+:/i;function vpe(r){if(xpe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class bpe{constructor(e){this.source=e,this.url=vpe(e.url),Tr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Tr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new wpe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Cpe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class wpe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=By(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Cpe{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Up=Symbol("INITIAL_DATA");class VH{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Up}}get(e,t=null){if(t){const a=this.#t(e);return a.promise.then(()=>t(a.data)),null}const n=this.#e[e];if(!n||n.data===Up)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Up}delete(e){const t=this.#e[e];return!t||t.data===Up?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Up&&(yield[e,t])}}}const Bpe=1e5,DI=30;let L0=class ul{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#i=null;#a=null;#s=0;#o=0;#c=null;#l=null;#d=0;#u=0;#h=Object.create(null);#g=[];#f=null;#A=[];#m=new WeakMap;#p=null;static#x=new Map;static#y=new Map;static#N=new WeakMap;static#C=null;static#v=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#u=n.scale*uc.pixelRatio,this.#d=n.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:s,pageX:i,pageY:l}=n.rawDims;this.#p=[1,0,0,-1,-i,l+s],this.#o=a,this.#s=s,ul.#_(),Ld(t,n),this.#e.promise.finally(()=>{ul.#v.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ns.platform;return dr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#h,t.styles),this.#j(t.items),e()},this.#e.reject)};return this.#c=this.#f.getReader(),ul.#v.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*uc.pixelRatio,a=e.rotation;if(a!==this.#d&&(t?.(),this.#d=a,Ld(this.#l,{rotation:a})),n!==this.#u){t?.(),this.#u=n;const s={div:null,properties:null,ctx:ul.#k(this.#i)};for(const i of this.#A)s.properties=this.#m.get(i),s.div=i,this.#B(s)}}cancel(){const e=new yu("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#A}get textContentItemsStr(){return this.#g}#j(e){if(this.#n)return;this.#a.ctx??=ul.#k(this.#i);const t=this.#A,n=this.#g;for(const a of e){if(t.length>Bpe){ir("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id&&this.#t.setAttribute("id",`${a.id}`),s.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(a.str),this.#w(a)}}#w(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#A.push(t);const a=ut.transform(this.#p,e.transform);let s=Math.atan2(a[1],a[0]);const i=this.#h[e.fontName];i.vertical&&(s+=Math.PI/2);let l=this.#r&&i.fontSubstitution||i.fontFamily;l=ul.fontFamilyMap.get(l)||l;const c=Math.hypot(a[2],a[3]),u=c*ul.#D(l,i,this.#i);let d,f;s===0?(d=a[4],f=a[5]-u):(d=a[4]+u*Math.sin(s),f=a[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",p=t.style;this.#t===this.#l?(p.left=`${(100*d/this.#o).toFixed(2)}%`,p.top=`${(100*f/this.#s).toFixed(2)}%`):(p.left=`${g}${d.toFixed(2)}px)`,p.top=`${g}${f.toFixed(2)}px)`),p.fontSize=`${g}${(ul.#C*c).toFixed(2)}px)`,p.fontFamily=l,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(x=!0)}if(x&&(n.canvasWidth=i.vertical?e.height:e.width),this.#m.set(t,n),this.#a.div=t,this.#a.properties=n,this.#B(this.#a),n.hasText&&this.#t.append(t),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#B(e){const{div:t,properties:n,ctx:a}=e,{style:s}=t;let i="";if(ul.#C>1&&(i=`scale(${1/ul.#C})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=n;ul.#E(a,u*this.#u,l);const{width:d}=a.measureText(t.textContent);d>0&&(i=`scaleX(${c*this.#u/d}) ${i}`)}n.angle!==0&&(i=`rotate(${n.angle}deg) ${i}`),i.length>0&&(s.transform=i)}static cleanup(){if(!(this.#v.size>0)){this.#x.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#k(e=null){let t=this.#y.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#N.set(t,{size:0,family:""})}return t}static#E(e,t,n){const a=this.#N.get(e);t===a.size&&n===a.family||(e.font=`${t}px ${n}`,a.size=t,a.family=n)}static#_(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#D(e,t,n){const a=this.#x.get(e);if(a)return a;const s=this.#k(n);s.canvas.width=s.canvas.height=DI,this.#E(s,DI,e);const i=s.measureText(""),l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return l?u=l/(l+c):(Ns.platform.isFirefox&&ir("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),this.#x.set(e,u),u}};const Npe=100;function k4(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new T4,{docId:t}=e,n=r.url?Pge(r.url):null,a=r.data?Oge(r.data):null,s=r.httpHeaders||null,i=r.withCredentials===!0,l=r.password??null,c=r.range instanceof F4?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let d=r.worker instanceof pg?r.worker:null;const f=r.verbosity,g=typeof r.docBaseUrl=="string"&&!by(r.docBaseUrl)?r.docBaseUrl:null,p=Yx(r.cMapUrl),x=r.cMapPacked!==!1,y=r.CMapReaderFactory||(Bi?Qge:CI),b=Yx(r.iccUrl),w=Yx(r.standardFontDataUrl),N=r.StandardFontDataFactory||(Bi?Hge:BI),j=Yx(r.wasmUrl),k=r.WasmFactory||(Bi?Kge:NI),T=r.stopAtErrors!==!0,I=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,M=r.isEvalSupported!==!1,L=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Bi,P=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Bi&&(Ns.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,F=typeof r.disableFontFace=="boolean"?r.disableFontFace:Bi,R=r.fontExtraProperties===!0,H=r.enableXfa===!0,z=r.ownerDocument||globalThis.document,X=r.disableRange===!0,$=r.disableStream===!0,te=r.disableAutoFetch===!0,ee=r.pdfBug===!0,fe=r.CanvasFactory||(Bi?Rge:Dge),_e=r.FilterFactory||(Bi?Uge:Mge),re=r.enableHWA===!0,U=r.useWasm!==!1,Y=c?c.length:r.length??NaN,ne=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Bi&&!F,oe=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(y===CI&&N===BI&&k===NI&&p&&w&&j&&Jp(p,document.baseURI)&&Jp(w,document.baseURI)&&Jp(j,document.baseURI)),de=null;fge(f);const he={canvasFactory:new fe({ownerDocument:z,enableHWA:re}),filterFactory:new _e({docId:t,ownerDocument:z}),cMapReaderFactory:oe?null:new y({baseUrl:p,isCompressed:x}),standardFontDataFactory:oe?null:new N({baseUrl:w}),wasmFactory:oe?null:new k({baseUrl:j})};d||(d=pg.create({verbosity:f,port:_d.workerPort}),e._worker=d);const Se={docId:t,apiVersion:"5.4.296",data:a,password:l,disableAutoFetch:te,rangeChunkSize:u,length:Y,docBaseUrl:g,enableXfa:H,evaluatorOptions:{maxImageSize:I,disableFontFace:F,ignoreErrors:T,isEvalSupported:M,isOffscreenCanvasSupported:L,isImageDecoderSupported:P,canvasMaxAreaInBytes:q,fontExtraProperties:R,useSystemFonts:ne,useWasm:U,useWorkerFetch:oe,cMapUrl:p,iccUrl:b,standardFontDataUrl:w,wasmUrl:j}},me={ownerDocument:z,pdfBug:ee,styleElement:de,loadingParams:{disableAutoFetch:te,enableXfa:H}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const be=d.messageHandler.sendWithPromise("GetDocRequest",Se,a?[a.buffer]:null);let ge;if(c)ge=new ope(c,{disableRange:X,disableStream:$});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const le=Jp(n)?upe:Bi?bpe:gpe;ge=new le({url:n,length:Y,httpHeaders:s,withCredentials:i,rangeChunkSize:u,disableRange:X,disableStream:$})}return be.then(le=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const je=new Zp(t,le,d.port),Qe=new Epe(je,e,ge,me,he,re);e._transport=Qe,je.send("Ready",null)})}).catch(e._capability.reject),e}class T4{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${T4.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let F4=class{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#i=[];constructor(e,t,n=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#i)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#r)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Nn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Spe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return dr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class jpe{#e=!1;constructor(e,t,n,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=a?new gI:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new VH,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:s=!1}={}){return new vy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return dr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:a="display",annotationMode:s=eA.ENABLE,transform:i=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:g=!1,recordOperations:p=!1,operationsFilter:x=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(a,s,f,g),{renderingIntent:b,cacheKey:w}=y;this.#e=!1,c||=this._transport.getOptionalContentConfig(b);let N=this._intentStates.get(w);N||(N=Object.create(null),this._intentStates.set(w,N)),N.streamReaderCancelTimeout&&(clearTimeout(N.streamReaderCancelTimeout),N.streamReaderCancelTimeout=null);const j=!!(b&Eo.PRINT);N.displayReadyCapability||(N.displayReadyCapability=Promise.withResolvers(),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const k=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(p||k),I=P=>{if(N.renderTasks.delete(M),T){const q=M.gfx?.dependencyTracker.take();q&&(M.stepper&&M.stepper.setOperatorBBoxes(q,M.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=q))}j&&(this.#e=!0),this.#t(),P?(M.capability.reject(P),this._abortOperatorList({intentState:N,reason:P instanceof Error?P:new Error(P)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new Rm({callback:I,params:{canvas:t,canvasContext:e,dependencyTracker:T?new qge(t,N.operatorList.length,k):null,viewport:n,transform:i,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:N.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!j,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:x});(N.renderTasks||=new Set).add(M);const L=M.task;return Promise.all([N.displayReadyCapability.promise,c]).then(([P,q])=>{if(this.destroyed){I();return}if(this._stats?.time("Rendering"),!(q.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:P,optionalContentConfig:q}),M.operatorListChanged()}).catch(I),L}getOperatorList({intent:e="display",annotationMode:t=eA.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const i=this._transport.getRenderingIntent(e,t,n,a,!0);let l=this._intentStates.get(i.cacheKey);l||(l=Object.create(null),this._intentStates.set(i.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>I0.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,a){function s(){i.read().then(function({value:c,done:u}){if(u){n(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},a)}const i=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new gI),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,a=e.length;n<a;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:a}){const{map:s,transfer:i}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:a},i).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:f,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,u),d())},f=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();this.#t()}if(u.displayReadyCapability)u.displayReadyCapability.reject(f);else if(u.opListReadCapability)u.opListReadCapability.reject(f);else throw f}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof x1){let a=Npe;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new yu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,s]of this._intentStates)if(s===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var wd,oc,eu,zh,xw,qh,$h,ji,Gv,WH,YH,e0,rg,Vv;const $n=class $n{constructor({name:e=null,port:t=null,verbosity:n=mge()}={}){Hc(this,ji);Hc(this,wd,Promise.withResolvers());Hc(this,oc,null);Hc(this,eu,null);Hc(this,zh,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Hn($n,$h).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Hn($n,$h).set(t,this),Kc(this,ji,WH).call(this,t)}else Kc(this,ji,YH).call(this)}get promise(){return Hn(this,wd).promise}get port(){return Hn(this,eu)}get messageHandler(){return Hn(this,oc)}destroy(){this.destroyed=!0,Hn(this,zh)?.terminate(),Vi(this,zh,null),Hn($n,$h).delete(Hn(this,eu)),Vi(this,eu,null),Hn(this,oc)?.destroy(),Vi(this,oc,null)}static create(e){const t=Hn(this,$h).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new $n(e)}static get workerSrc(){if(_d.workerSrc)return _d.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return dr(this,"_setupFakeWorkerGlobal",(async()=>Hn(this,rg,Vv)?Hn(this,rg,Vv):(await import(this.workerSrc)).WorkerMessageHandler)())}};wd=new WeakMap,oc=new WeakMap,eu=new WeakMap,zh=new WeakMap,xw=new WeakMap,qh=new WeakMap,$h=new WeakMap,ji=new WeakSet,Gv=function(){Hn(this,wd).resolve(),Hn(this,oc).send("configure",{verbosity:this.verbosity})},WH=function(e){Vi(this,eu,e),Vi(this,oc,new Zp("main","worker",e)),Hn(this,oc).on("ready",()=>{}),Kc(this,ji,Gv).call(this)},YH=function(){if(Hn($n,qh)||Hn($n,rg,Vv)){Kc(this,ji,e0).call(this);return}let{workerSrc:e}=$n;try{$n._isSameOrigin(window.location,e)||(e=$n._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Zp("main","worker",t),a=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?Hn(this,wd).reject(new Error("Worker was destroyed")):Kc(this,ji,e0).call(this)},s=new AbortController;t.addEventListener("error",()=>{Hn(this,zh)||a()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){a();return}Vi(this,oc,n),Vi(this,eu,t),Vi(this,zh,t),Kc(this,ji,Gv).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){a();return}try{i()}catch{Kc(this,ji,e0).call(this)}});const i=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};i();return}catch{y1("The worker has been disabled.")}Kc(this,ji,e0).call(this)},e0=function(){Hn($n,qh)||(ir("Setting up fake worker."),Vi($n,qh,!0)),$n._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Hn(this,wd).reject(new Error("Worker was destroyed"));return}const t=new Lge;Vi(this,eu,t);const n=`fake${pk($n,xw)._++}`,a=new Zp(n+"_worker",n,t);e.setup(a,t),Vi(this,oc,new Zp(n,n+"_worker",t)),Kc(this,ji,Gv).call(this)}).catch(e=>{Hn(this,wd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},rg=new WeakSet,Vv=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Hc($n,rg),Hc($n,xw,0),Hc($n,qh,!1),Hc($n,$h,new WeakMap),Bi&&(Vi($n,qh,!0),_d.workerSrc||="./pdf.worker.mjs"),$n._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const a=new URL(t,n);return n.origin===a.origin},$n._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},$n.fromPort=e=>{if(Bge("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return $n.create(e)};let pg=$n;class Epe{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#i=null;constructor(e,t,n,a,s,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new VH,this.fontLoader=new Tge({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=i,this.setupMessageHandler()}#a(e,t=null){const n=this.#e.get(e);if(n)return n;const a=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,a),a}get annotationStorage(){return dr(this,"annotationStorage",new S4)}getRenderingIntent(e,t=eA.ENABLE,n=null,a=!1,s=!1){let i=Eo.DISPLAY,l=dS;switch(e){case"any":i=Eo.ANY;break;case"display":break;case"print":i=Eo.PRINT;break;default:ir(`getRenderingIntent - invalid intent: ${e}`)}const c=i&Eo.PRINT&&n instanceof IH?n:this.annotationStorage;switch(t){case eA.DISABLE:i+=Eo.ANNOTATIONS_DISABLE;break;case eA.ENABLE:break;case eA.ENABLE_FORMS:i+=Eo.ANNOTATIONS_FORMS;break;case eA.ENABLE_STORAGE:i+=Eo.ANNOTATIONS_STORAGE,l=c.serializable;break;default:ir(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(i+=Eo.IS_EDITING),s&&(i+=Eo.OPLIST);const{ids:u,hash:d}=c.modifiedIds,f=[i,l.hash,d];return{renderingIntent:i,cacheKey:f.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),L0.cleanup(),this._networkStream?.cancelAllRequests(new yu("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,a)=>{Tr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},a.onPull=()=>{this._fullReader.read().then(function({value:s,done:i}){if(i){a.close();return}Tr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{this._fullReader.cancel(s),a.ready.catch(i=>{if(!this.destroyed)throw i})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:s,contentLength:i}=this._fullReader;return(!a||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:a,isRangeSupported:s,contentLength:i}}),e.on("GetRangeReader",(n,a)=>{Tr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){a.close();return}a.onPull=()=>{s.read().then(function({value:i,done:l}){if(l){a.close();return}Tr(i instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{a.error(i)})},a.onCancel=i=>{s.cancel(i),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Spe(n,this))}),e.on("DocException",n=>{t._capability.reject(Yi(n))}),e.on("PasswordRequest",n=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw Yi(n);const a=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};t.onPassword(a,n.code)}catch(a){this.#i.reject(a)}return this.#i.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,a,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in s){const d=s.error;ir(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const i=new mn(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,c=new Fge(i,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Tr(u,"The imageRef must be defined.");for(const d of this.#t.values())for(const[,f]of d.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([n,a,s,i])=>{if(this.destroyed)return;const l=this.#t.get(a);if(!l.objs.has(n)){if(l._intentStates.size===0){i?.bitmap?.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,i);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&ir("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const i=new jpe(t,s,this,this._params.pdfBug);return this.#t.set(t,i),i});return this.#n.set(t,a),a}getPageIndex(e){return hS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(t=>new ipe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new ape(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),L0.cleanup()}}cachedPageNumber(e){if(!hS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class _pe{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Rm{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:a,annotationCanvasMap:s,operatorList:i,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:g=null,enableHWA:p=!1,operationsFilter:x=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=f,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _pe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Rm.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Rm.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:s,dependencyTracker:i}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new $m(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,i),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Rm.#t.delete(this._canvas),e||=new x1(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Rm.#t.delete(this._canvas),this.callback())))}}const P4="5.4.296",XH="f56dc8601";class _o{#e=null;#t=null;#n;#r=null;#i=!1;#a=!1;#s=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return dr(this,"_keyboardManager",new wy([[["Escape","mac+Escape"],_o.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],_o.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],_o.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],_o.prototype._moveToPrevious],[["Home","mac+Home"],_o.prototype._moveToBeginning],[["End","mac+End"],_o.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#a=!1,this.#s=e):this.#a=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",_o.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#s&&(e.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#f.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#r=this.#u();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#u(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Mo,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(e.id=`${this.#s.id}_colorpicker_dropdown`);for(const[n,a]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",a),s.title=n,s.setAttribute("data-l10n-id",_o.#d[n]);const i=document.createElement("span");s.append(i),i.className="swatch",i.style.backgroundColor=a,s.ariaSelected=a===this.#n,s.addEventListener("click",this.#h.bind(this,a),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Nr.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#f(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#m){this.#f(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#f(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#f(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#f(e);return}this.#r.lastChild?.focus()}#g(e){_o._keyboardManager.exec(this,e)}#f(e){if(this.#m){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#A.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#u();this.#e.append(t)}#A(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#s?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class D0{#e=null;#t=null;#n=null;static#r=null;constructor(e){this.#t=e,this.#n=e._uiManager,D0.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:n}=this.#t,a=this.#e=document.createElement("input");return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",D0.#r[e]),a.addEventListener("input",()=>{this.#n.updateParams(t,a.value)},{signal:this.#n._signal}),a}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function MI(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Rp(r){return Math.max(0,Math.min(255,255*r))}class UI{static CMYK_G([e,t,n,a]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Rp(e),[e,e,e]}static G_HTML([e]){const t=MI(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Rp)}static RGB_HTML(e){return`#${e.map(MI).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,n+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,n,a]){return[Rp(1-Math.min(1,e+a)),Rp(1-Math.min(1,n+a)),Rp(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const a=1-e,s=1-t,i=1-n,l=Math.min(a,s,i);return["CMYK",a,s,i,l]}}class kpe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Nn("Abstract method `_createSVG` called.")}}class M0 extends kpe{_createSVG(e){return document.createElementNS(JA,e)}}const Tpe=9,df=new WeakSet,Fpe=new Date().getTimezoneOffset()*60*1e3;class RI{static create(e){switch(e.data.annotationType){case Sa.LINK:return new O4(e);case Sa.TEXT:return new Ope(e);case Sa.WIDGET:switch(e.data.fieldType){case"Tx":return new Ipe(e);case"Btn":return e.data.radioButton?new JH(e):e.data.checkBox?new Dpe(e):new Mpe(e);case"Ch":return new Upe(e);case"Sig":return new Lpe(e)}return new Cf(e);case Sa.POPUP:return new gS(e);case Sa.FREETEXT:return new ZH(e);case Sa.LINE:return new Qpe(e);case Sa.SQUARE:return new Hpe(e);case Sa.CIRCLE:return new Kpe(e);case Sa.POLYLINE:return new e7(e);case Sa.CARET:return new qpe(e);case Sa.INK:return new I4(e);case Sa.POLYGON:return new zpe(e);case Sa.HIGHLIGHT:return new t7(e);case Sa.UNDERLINE:return new $pe(e);case Sa.SQUIGGLY:return new Gpe(e);case Sa.STRIKEOUT:return new Vpe(e);case Sa.STAMP:return new r7(e);case Sa.FILEATTACHMENT:return new Wpe(e);default:return new oa(e)}}}class oa{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return oa._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:a}=this.data;let s=-1/0,i=-1/0;if(t?.length>=8){for(let l=0;l<t.length;l+=8)t[l+1]>i?(i=t[l+1],s=t[l+2]):t[l+1]===i&&(s=Math.max(s,t[l+2]));return[s,i]}if(n?.length>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>i?(i=l[c+1],s=l[c]):l[c+1]===i&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,i]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-i)/a,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${P0}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${P0}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#r(t);let a=this.#n?.popup||this.popup;!a&&n?.text&&(this._createPopup(n),a=this.#n.popup),a&&(a.updateEdited(e),n?.deleted&&(a.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:l,pageY:c}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(i-e[3]+c)/i}%`,a===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/i}%`):this.setRotation(a)}_createContainer(e){const{data:t,parent:{page:n,viewport:a}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Cf)&&!(this instanceof O4)&&(s.tabIndex=0);const{style:i}=s;if(i.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof gS){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(y>0||b>0){const N=`calc(${y}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;i.borderRadius=N}else if(this instanceof JH){const N=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;i.borderRadius=N}switch(t.borderStyle.style){case Tm.SOLID:i.borderStyle="solid";break;case Tm.DASHED:i.borderStyle="dashed";break;case Tm.BEVELED:ir("Unimplemented border style: beveled");break;case Tm.INSET:ir("Unimplemented border style: inset");break;case Tm.UNDERLINE:i.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(this.#t=!0,i.borderColor=ut.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):i.borderWidth=0}const u=ut.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:f,pageX:g,pageY:p}=a.rawDims;i.left=`${100*(u[0]-g)/d}%`,i.top=`${100*(u[1]-p)/f}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(i.width=`${100*l/d}%`,i.height=`${100*c/f}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:s,height:i}=this;e%180!==0&&([s,i]=[i,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*i/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,a)=>{const s=a.detail[t],i=s[0],l=s.slice(1);a.target.style[n]=UI[`${i}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:UI[`${i}_rgb`](l)})};return dr(this,"_commonActions",{display:t=>{const{display:n}=t.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const a of Object.keys(t.detail))(e[a]||n[a])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[a,s]of Object.entries(t)){const i=n[a];if(i){const l={detail:{[a]:s},target:e};i(l),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,a,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,w,N]=e.subarray(2,6);if(a===y&&s===b&&t===w&&n===N)return}const{style:i}=this.container;let l;if(this.#t){const{borderColor:y,borderWidth:b}=i;i.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=a-t,u=s-n,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const g=d.createElement("defs");f.append(g);const p=d.createElement("clipPath"),x=`clippath_${this.data.id}`;p.setAttribute("id",x),p.setAttribute("clipPathUnits","objectBoundingBox"),g.append(p);for(let y=2,b=e.length;y<b;y+=8){const w=e[y],N=e[y+1],j=e[y+2],k=e[y+3],T=d.createElement("rect"),I=(j-t)/c,M=(s-N)/u,L=(w-j)/c,P=(N-k)/u;T.setAttribute("x",I),T.setAttribute("y",M),T.setAttribute("width",L),T.setAttribute("height",P),p.append(T),l?.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${M}" width="${L}" height="${P}"/>`)}this.#t&&(l.push("</g></svg>')"),i.backgroundImage=l.join("")),this.container.append(f),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:t}=this;let n,a;e?(n={str:e.text},a=e.date):(n=t.contentsObj,a=t.modificationDate);const s=this.#n=new gS({data:{color:t.color,titleObj:t.titleObj,modificationDate:a,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){Nn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:s,id:i,exportValues:l}of a){if(s===-1||i===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${i}"]`);if(u&&!df.has(u)){ir(`_getElementsByName - element not allowed: ${i}`);continue}n.push({id:i,exportValue:c,domElement:u})}return n}for(const a of document.getElementsByName(e)){const{exportValue:s}=a,i=a.getAttribute("data-element-id");i!==t&&df.has(a)&&n.push({id:i,exportValue:s,domElement:a})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Ppe extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class O4 extends oa{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),a=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(this.#n(n,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),a=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(n,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",a=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,a),!1),this.#e()}#n(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const s=n.get(a);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){ir('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:a,refs:s,include:i}=t,l=[];if(a.length!==0||s.length!==0){const d=new Set(s);for(const f of a){const g=this._fieldObjects[f]||[];for(const{id:p}of g)d.add(p)}for(const f of Object.values(this._fieldObjects))for(const g of f)d.has(g.id)===i&&l.push(g)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:f}=d;switch(u.push(f),d.type){case"text":{const p=d.defaultValue||"";c.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=d.defaultValue===d.exportValues;c.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=d.defaultValue||"";c.setValue(f,{value:p});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!df.has(g)){ir(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}}}class Ope extends oa{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Cf extends oa{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ns.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,a,s){n.includes("mouse")?e.addEventListener(n,i=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i),shift:i.shiftKey,modifier:this._getKeyModifier(i)}})}):e.addEventListener(n,i=>{if(n==="blur"){if(!t.focused||!i.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i)}})})}_setEventListeners(e,t,n,a){for(const[s,i]of n)(i==="Action"||this.data.actions?.[i])&&((i==="Focus"||i==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,i,a),i==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):i==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ut.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||Tpe,s=e.style;let i;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(VB*a))||1,f=u/d;i=Math.min(a,c(f/VB))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);i=Math.min(a,c(u/VB))}s.fontSize=`calc(${i}px * var(--total-scale-factor))`,s.color=ut.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ipe extends Cf{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,a){const s=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=n),s.setValue(i.id,{[a]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let s=a.value||"";const i=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;i&&s.length>i&&(s=s.slice(0,i));let l=a.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),df.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:d,timeStep:f}=this.data,g=!!d&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(n,"value",x.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",x=>{const y=this.data.defaultFieldValue??"";n.value=c.userValue=y,c.formattedValue=null});let p=x=>{const{formattedValue:y}=c;y!=null&&(x.target.value=y),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{if(c.focused)return;const{target:b}=y;if(g&&(b.type=d,f&&(b.step=f)),c.userValue){const w=c.userValue;if(g)if(d==="time"){const N=new Date(w),j=[N.getHours(),N.getMinutes(),N.getSeconds()];b.value=j.map(k=>k.toString().padStart(2,"0")).join(":")}else b.value=new Date(w-Fpe).toISOString().split(d==="date"?"T":".",1)[0];else b.value=w}c.lastCommittedValue=b.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){c.userValue=w.detail.value??"",g||e.setValue(t,{value:c.userValue.toString()}),w.target.value=c.userValue},formattedValue(w){const{formattedValue:N}=w.detail;c.formattedValue=N,N!=null&&w.target!==document.activeElement&&(w.target.value=N);const j={formattedValue:N};g&&(j.value=N),e.setValue(t,j)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:N}=w.detail,{target:j}=w;if(N===0){j.removeAttribute("maxLength");return}j.setAttribute("maxLength",N);let k=c.userValue;!k||k.length<=N||(k=k.slice(0,N),j.value=c.userValue=k,e.setValue(t,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:j.selectionStart,selEnd:j.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),n.addEventListener("keydown",y=>{c.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(c.commitKey=3),b===-1)return;const{value:w}=y.target;c.lastCommittedValue!==w&&(c.lastCommittedValue=w,c.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const x=p;p=null,n.addEventListener("blur",y=>{if(!c.focused||!y.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:b}=y;let{value:w}=b;if(g){if(w&&d==="time"){const N=w.split(":").map(j=>parseInt(j,10));w=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),b.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();b.type="text"}c.userValue=w,c.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:c.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),x(y)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",y=>{c.lastCommittedValue=null;const{data:b,target:w}=y,{value:N,selectionStart:j,selectionEnd:k}=w;let T=j,I=k;switch(y.inputType){case"deleteWordBackward":{const M=N.substring(0,j).match(/\w*[^\w]*$/);M&&(T-=M[0].length);break}case"deleteWordForward":{const M=N.substring(j).match(/^[^\w]*\w*/);M&&(I+=M[0].length);break}case"deleteContentBackward":j===k&&(T-=1);break;case"deleteContentForward":j===k&&(I+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,change:b||"",willCommit:!1,selStart:T,selEnd:I}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Lpe extends Cf{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Dpe extends Cf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return df.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue||"Off";i.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",i=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,i)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],i=>i.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class JH extends Cf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(n,{value:a})),a)for(const i of this._getElementsByName(t.fieldName,n))e.setValue(i.id,{value:!1});const s=document.createElement("input");if(df.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue;i.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=i===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const g=d&&f.id===n;f.domElement&&(f.domElement.checked=g),e.setValue(f.id,{value:g})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Mpe extends O4{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Upe extends Cf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");df.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const g of a.options)g.selected=g.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,n.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),s=!1),a.append(f)}let i=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),a.prepend(d),i=()=>{d.remove(),a.removeEventListener("input",i),i=null},a.addEventListener("input",i)}const l=d=>{const f=d?"value":"textContent",{options:g,multiple:p}=a;return p?Array.prototype.filter.call(g,x=>x.selected).map(x=>x[f]):g.selectedIndex===-1?null:g[g.selectedIndex][f]};let c=l(!1);const u=d=>{const f=d.target.options;return Array.prototype.map.call(f,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",d=>{const f={value(g){i?.();const p=g.detail.value,x=new Set(Array.isArray(p)?p:[p]);for(const y of a.options)y.selected=x.has(y.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(g){a.multiple=!0},remove(g){const p=a.options,x=g.detail.remove;p[x].selected=!1,a.remove(x),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:l(!0),items:u(g)}),c=l(!1)},clear(g){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(g){const{index:p,displayValue:x,exportValue:y}=g.detail.insert,b=a.children[p],w=document.createElement("option");w.textContent=x,w.value=y,b?b.before(w):a.append(w),e.setValue(t,{value:l(!0),items:u(g)}),c=l(!1)},items(g){const{items:p}=g.detail;for(;a.length!==0;)a.remove(0);for(const x of p){const{displayValue:y,exportValue:b}=x,w=document.createElement("option");w.textContent=y,w.value=b,a.append(w)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(g)}),c=l(!1)},indices(g){const p=new Set(g.detail.indices);for(const x of g.target.options)x.selected=p.has(x.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(f,d)}),a.addEventListener("input",d=>{const f=l(!0),g=l(!1);e.setValue(t,{value:f}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:g,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):a.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class gS extends oa{constructor(e){const{data:t,elements:n,parent:a}=e,s=!!a._commentManager;if(super(e,{isRenderable:!s&&oa._hasPopupData(t)}),this.elements=n,s&&oa._hasPopupData(t)){const i=this.popup=this.#e();for(const l of n)l.popup=i}else this.popup=null}#e(){return new Rpe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${b4}${a}`).join(",")),this.container}}class Rpe{#e=null;#t=this.#z.bind(this);#n=this.#U.bind(this);#r=this.#P.bind(this);#i=this.#b.bind(this);#a=null;#s=null;#o=null;#c=null;#l=null;#d=null;#u=null;#h=!1;#g=null;#f=null;#A=null;#m=null;#p=null;#x=null;#y=null;#N=null;#C=null;#v=null;#j=!1;#w=null;#B=null;constructor({container:e,color:t,elements:n,titleObj:a,modificationDate:s,contentsObj:i,richText:l,parent:c,rect:u,parentRect:d,open:f,commentManager:g=null}){this.#s=e,this.#C=a,this.#o=i,this.#N=l,this.#d=c,this.#a=t,this.#y=u,this.#u=d,this.#l=n,this.#e=g,this.#w=n[0],this.#c=ew.toDateObject(s),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup()),g?this.renderCommentButton():(this.#k(),this.#s.hidden=!0,f&&this.#b())}#k(){if(this.#f)return;this.#f=new AbortController;const{signal:e}=this.#f;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("pointerenter",this.#r,{signal:e}),t.addEventListener("pointerleave",this.#n,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#E(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#p=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#p||this.#E(),!this.#p))return;const{signal:e}=this.#f=new AbortController,t=!!this.#w.extraPopupElement,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#w.container;for(const i of this.trigger)i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),i.classList.add("popupTriggerArea")}else{const i=this.#m=document.createElement("button");i.className="annotationCommentButton";const l=this.#w.container;i.style.zIndex=l.style.zIndex+1,i.tabIndex=0,i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#D(),this.#_(),i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),l.after(i)}}#_(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[e,t]=this.#p,{style:n}=this.#m;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#D(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#w.commentData;return e?this.#d._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}}get elementBeforePopup(){return this.#m}get comment(){return this.#B||=this.#w.commentText,this.#B}set comment(e){e!==this.comment&&(this.#w.commentText=this.#B=e)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#x)return this.#x;const{x:e,y:t,height:n}=this.#m.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#w.layer.getBoundingClientRect();return[(e-a)/i,(t+n-s)/l]}set commentPopupPosition(e){this.#x=e}hasDefaultPopupPosition(){return this.#x===null}get commentButtonPosition(){return this.#p}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#x||this.commentButtonPosition.map(u=>u/100),a=this.parentBoundingClientRect,{x:s,y:i,width:l,height:c}=a;this.#e.showDialog(null,this,s+t*l,i+n*c,{...e,parentDimensions:a})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const n=e.style.outlineColor=ut.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#C?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#C}if(e.append(t),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),t.append(n)}C4({html:this.#F||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#s.append(e)}get#F(){const e=this.#N,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#N.html||null}get#O(){return this.#F?.attributes?.style?.fontSize||0}get#M(){return this.#F?.attributes?.style?.color||null}#I(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:this.#M,fontSize:this.#O?`calc(${this.#O}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:a});return n}#z(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#b()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#B=null):t&&(t.deleted?this.remove():(this.#D(),this.#B=t.text)),e&&(this.#p=null,this.#E(),this.#_());return}if(n||t?.deleted){this.remove();return}this.#k(),this.#v||={contentsObj:this.#o,richText:this.#N},e&&(this.#A=null),t&&t.text&&(this.#N=this.#I(t.text),this.#c=ew.toDateObject(t.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#N}=this.#v,this.#v=null,this.#g?.remove(),this.#g=null,this.#A=null)}remove(){if(this.#f?.abort(),this.#f=null,this.#g?.remove(),this.#g=null,this.#j=!1,this.#h=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#S(){if(this.#A!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:a,pageY:s}}}=this.#d;let i=!!this.#u,l=i?this.#u:this.#y;for(const x of this.#l)if(!l||ut.intersect(x.data.rect,l)!==null){l=x.data.rect,i=!0;break}const c=ut.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=i?l[2]-l[0]+5:0,f=c[0]+d,g=c[1];this.#A=[100*(f-a)/t,100*(g-s)/n];const{style:p}=this.#s;p.left=`${this.#A[0]}%`,p.top=`${this.#A[1]}%`}#b(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#P(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#U(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#P(){this.#g||this.render(),this.isVisible?this.#h&&this.#s.classList.add("focused"):(this.#S(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#U(){this.#s.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#j=this.isVisible,this.#j&&(this.#s.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#j&&(this.#g||this.#P(),this.#j=!1,this.#s.hidden=!1))}get isVisible(){return this.#e?!1:this.#s.hidden===!1}}class ZH extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=sr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Qpe extends oa{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Hpe extends oa{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",s/2),i.setAttribute("y",s/2),i.setAttribute("width",t-s),i.setAttribute("height",n-s),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kpe extends oa{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-s/2),i.setAttribute("ry",n/2-s/2),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class e7 extends oa{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:a},width:s,height:i}=this;if(!t)return this.container;const l=this.svgFactory.create(s,i,!0);let c=[];for(let d=0,f=t.length;d<f;d+=2){const g=t[d]-e[0],p=e[3]-t[d+1];c.push(`${g},${p}`)}c=c.join(" ");const u=this.#e=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",c),u.setAttribute("stroke-width",n.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class zpe extends e7{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qpe extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class I4 extends oa{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?sr.HIGHLIGHT:sr.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:a,popupRef:s}}=this,{transform:i,width:l,height:c}=this.#n(t,e),u=this.svgFactory.create(l,c,!0),d=this.#e=this.svgFactory.createElement("svg:g");u.append(d),d.setAttribute("stroke-width",a.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",i);for(let f=0,g=n.length;f<g;f++){const p=this.svgFactory.createElement(this.svgElementName);this.#t.push(p),p.setAttribute("points",n[f].join(",")),d.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:a}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let i=0,l=this.#t.length;i<l;i++)this.#t[i].setAttribute("points",n[i].join(","));if(a){const{transform:i,width:l,height:c}=this.#n(this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),s.setAttribute("transform",i)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class t7 extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=sr.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class $pe extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Gpe extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Vpe extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class r7 extends oa{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=sr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Wpe extends oa{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:a}=Ns.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let L4=class n7{#e=null;#t=null;#n=null;#r=new Map;#i=null;#a=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:a,page:s,viewport:i,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:d}){this.div=e,this.#e=t,this.#t=n,this.#i=l||null,this.#a=u||null,this.#n=d||new S4,this.page=s,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=c||null}hasEditableAnnotations(){return this.#r.size>0}async#s(e,t,n){const a=e.firstChild||e,s=a.id=`${b4}${t}`,i=await this.#i?.getAriaAttributes(s);if(i)for(const[l,c]of i)a.setAttribute(l,c);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:t}=e,n=this.div;Ld(n,this.viewport);const a=new Map,s={data:null,layer:n,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new M0,annotationStorage:this.#n,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const l=i.annotationType===Sa.POPUP;if(l){const d=a.get(i.id);if(!d)continue;s.elements=d}else if(i.rect[2]===i.rect[0]||i.rect[3]===i.rect[1])continue;s.data=i;const c=RI.create(s);if(!c.isRenderable)continue;if(!l&&i.popupRef){const d=a.get(i.popupRef);d?d.push(c):a.set(i.popupRef,[c])}const u=c.render();i.hidden&&(u.style.visibility="hidden"),await this.#s(u,i.id,s.elements),c.extraPopupElement?.popup?.renderCommentButton(),c._isEditable&&(this.#r.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#a,svgFactory:new M0,parent:this};for(const n of e){n.borderStyle||=n7._defaultBorderStyle,t.data=n;const a=RI.create(t);if(!a.isRenderable)continue;const s=a.render();await this.#s(s,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Ld(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):a.append(n);const i=this.#r.get(t);i&&(i._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,a.id,n),i._hasNoCanvas=!1):i.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(e){return this.#r.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:a}=e,s=new Ppe({data:{id:n,rect:e.getPDFRect(),rotation:a},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#n}),i=s.render();return t.append(i),this.#e?.moveElementInDOM(t,i,i,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return dr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Tm.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const rv=/\r\n?|\n/g;class vs extends Lt{#e="";#t=`${this.id}-editor`;#n=null;#r;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=vs.prototype,t=s=>s.isEmpty(),n=xu.TRANSLATE_SMALL,a=xu.TRANSLATE_BIG;return dr(this,"_keyboardManager",new wy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=sr.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||vs._defaultColor||Lt._defaultLineColor,this.#r=e.fontSize||vs._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Lt.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Nr.FREETEXT_SIZE:vs._defaultFontSize=t;break;case Nr.FREETEXT_COLOR:vs._defaultColor=t;break}}updateParams(e,t){switch(e){case Nr.FREETEXT_SIZE:this.#i(t);break;case Nr.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[Nr.FREETEXT_SIZE,vs._defaultFontSize],[Nr.FREETEXT_COLOR,vs._defaultColor||Lt._defaultLineColor]]}get propertiesToUpdate(){return[[Nr.FREETEXT_SIZE,this.#r],[Nr.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new D0(this),[["colorPicker",this._colorPicker]]}get colorType(){return Nr.FREETEXT_COLOR}#i(e){const t=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#o()},n=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const t=a=>{this.color=a,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-vs._internalPadding*e,-(vs._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(vs.#c(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,i=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=i,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#s().trimEnd();if(e===t)return;const n=a=>{if(this.#e=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){vs._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,g]=this.pageTranslation;let p,x;switch(this.rotation){case 0:p=e+(i[0]-f)/u,x=t+this.height-(i[1]-g)/d;break;case 90:p=e+(i[0]-f)/u,x=t-(i[1]-g)/d,[l,c]=[c,-l];break;case 180:p=e-this.width+(i[0]-f)/u,x=t-(i[1]-g)/d,[l,c]=[-l,-c];break;case 270:p=e+(i[0]-f-this.height*d)/u,x=t+(i[1]-g-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(p*a,x*s,l,c)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(rv,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const a=vs.#u(t.getData("text")||"").replaceAll(rv,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const i=s.getRangeAt(0);if(!a.includes(`
`)){i.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=i,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const p=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(rv,"")),p!==this.editorDiv){let x=u;for(const y of this.editorDiv.childNodes){if(y===p){x=d;continue}x.push(vs.#c(y))}}u.push(l.nodeValue.slice(0,c).replaceAll(rv,""))}else if(l===this.editorDiv){let p=u,x=0;for(const y of this.editorDiv.childNodes)x++===c&&(p=d),p.push(vs.#c(y))}this.#e=`${u.join(`
`)}${a}${d.join(`
`)}`,this.#l();const f=new Range;let g=Math.sumPrecise(u.map(p=>p.length));for(const{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){const x=p.nodeValue.length;if(g<=x){f.setStart(p,g),f.setEnd(p,g);break}g-=x}s.removeAllRanges(),s.addRange(f)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#d(){return this.#e.replaceAll(""," ")}static#u(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=vs._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let a=null;if(e instanceof ZH){const{data:{defaultAppearanceData:{fontSize:i,fontColor:l},rect:c,rotation:u,id:d,popupRef:f,richText:g,contentsObj:p,creationDate:x,modificationDate:y},textContent:b,textPosition:w,parent:{page:{pageNumber:N}}}=e;if(!b||b.length===0)return null;a=e={annotationType:sr.FREETEXT,color:Array.from(l),fontSize:i,value:b.join(`
`),position:w,pageIndex:N-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:f,comment:p?.str||null,richText:g,creationDate:x,modificationDate:y}}const s=await super.deserialize(e,t,n);return s.#r=e.fontSize,s.color=ut.makeHexColor(...e.color),s.#e=vs.#u(e.value),s._initialData=a,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Lt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#r,value:this.#d()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#h(n)?null:(n.id=this.annotationElementId,n)}#h(e){const{value:t,fontSize:n,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((i,l)=>i!==a[l])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const a of this.#e.split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class At{static PRECISION=1e-4;toSVGPath(){Nn("Abstract method `toSVGPath` must be implemented.")}get box(){Nn("Abstract getter `box` must be implemented.")}serialize(e,t){Nn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l]*a,i[l+1]=n+e[l+1]*s;return i}static _rescaleAndSwap(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l+1]*a,i[l+1]=n+e[l]*s;return i}static _translate(e,t,n,a){a||=new Float32Array(e.length);for(let s=0,i=e.length;s<i;s+=2)a[s]=t+e[s],a[s+1]=n+e[s+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,a,s){switch(s){case 90:return[1-t/n,e/a];case 180:return[1-e/n,1-t/a];case 270:return[t/n,1-e/a];default:return[e/n,t/a]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,a,s,i){return[(e+5*n)/6,(t+5*a)/6,(5*n+s)/6,(5*a+i)/6,(n+s)/2,(a+i)/2]}}class Hh{#e;#t=[];#n;#r;#i=[];#a=new Float32Array(18);#s;#o;#c;#l;#d;#u;#h=[];static#g=8;static#f=2;static#A=Hh.#g+Hh.#f;constructor({x:e,y:t},n,a,s,i,l=0){this.#e=n,this.#u=s*a,this.#r=i,this.#a.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=l,this.#l=Hh.#g*a,this.#c=Hh.#A*a,this.#d=a,this.#h.push(e,t)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),t=this.#a.subarray(16,18),[n,a,s,i]=this.#e;return[(this.#s+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-a)/i,(this.#s+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-a)/i]}add({x:e,y:t}){this.#s=e,this.#o=t;const[n,a,s,i]=this.#e;let[l,c,u,d]=this.#a.subarray(8,12);const f=e-u,g=t-d,p=Math.hypot(f,g);if(p<this.#c)return!1;const x=p-this.#l,y=x/p,b=y*f,w=y*g;let N=l,j=c;l=u,c=d,u+=b,d+=w,this.#h?.push(e,t);const k=-w/x,T=b/x,I=k*this.#u,M=T*this.#u;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([u+I,d+M],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([u-I,d-M],16),isNaN(this.#a[6])?(this.#i.length===0&&(this.#a.set([l+I,c+M],2),this.#i.push(NaN,NaN,NaN,NaN,(l+I-n)/s,(c+M-a)/i),this.#a.set([l-I,c-M],14),this.#t.push(NaN,NaN,NaN,NaN,(l-I-n)/s,(c-M-a)/i)),this.#a.set([N,j,l,c,u,d],6),!this.isEmpty()):(this.#a.set([N,j,l,c,u,d],6),Math.abs(Math.atan2(j-c,N-l)-Math.atan2(w,b))<Math.PI/2?([l,c,u,d]=this.#a.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((l+u)/2-n)/s,((c+d)/2-a)/i),[l,c,N,j]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((N+l)/2-n)/s,((j+c)/2-a)/i),!0):([N,j,l,c,u,d]=this.#a.subarray(0,6),this.#i.push(((N+5*l)/6-n)/s,((j+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+d)/6-a)/i,((l+u)/2-n)/s,((c+d)/2-a)/i),[u,d,l,c,N,j]=this.#a.subarray(12,18),this.#t.push(((N+5*l)/6-n)/s,((j+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+d)/6-a)/i,((l+u)/2-n)/s,((c+d)/2-a)/i),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#p();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#y(n);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return this.#x(n),n.join(" ")}#p(){const[e,t,n,a]=this.#e,[s,i,l,c]=this.#m();return`M${(this.#a[2]-e)/n} ${(this.#a[3]-t)/a} L${(this.#a[4]-e)/n} ${(this.#a[5]-t)/a} L${s} ${i} L${l} ${c} L${(this.#a[16]-e)/n} ${(this.#a[17]-t)/a} L${(this.#a[14]-e)/n} ${(this.#a[15]-t)/a} Z`}#x(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){const[t,n,a,s]=this.#e,i=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,u,d,f]=this.#m();e.push(`L${(i[0]-t)/a} ${(i[1]-n)/s} L${c} ${u} L${d} ${f} L${(l[0]-t)/a} ${(l[1]-n)/s}`)}newFreeDrawOutline(e,t,n,a,s,i){return new a7(e,t,n,a,s,i)}getOutlines(){const e=this.#i,t=this.#t,n=this.#a,[a,s,i,l]=this.#e,c=new Float32Array((this.#h?.length??0)+2);for(let f=0,g=c.length-2;f<g;f+=2)c[f]=(this.#h[f]-a)/i,c[f+1]=(this.#h[f+1]-s)/l;if(c[c.length-2]=(this.#s-a)/i,c[c.length-1]=(this.#o-s)/l,isNaN(n[6])&&!this.isEmpty())return this.#N(c);const u=new Float32Array(this.#i.length+24+this.#t.length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=this.#v(u,d);for(let f=t.length-6;f>=6;f-=6)for(let g=0;g<6;g+=2){if(isNaN(t[f+g])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+g],u[d+1]=t[f+g+1],d+=2}return this.#C(u,d),this.newFreeDrawOutline(u,c,this.#e,this.#d,this.#n,this.#r)}#N(e){const t=this.#a,[n,a,s,i]=this.#e,[l,c,u,d]=this.#m(),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-a)/i,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-a)/i,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-a)/i,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-a)/i],0),this.newFreeDrawOutline(f,e,this.#e,this.#d,this.#n,this.#r)}#C(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#v(e,t){const n=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[s,i,l,c]=this.#e,[u,d,f,g]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-i)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(a[0]-s)/l,(a[1]-i)/c],t),t+=24}}class a7 extends At{#e;#t=new Float32Array(4);#n;#r;#i;#a;#s;constructor(e,t,n,a,s,i){super(),this.#s=e,this.#i=t,this.#e=n,this.#a=a,this.#n=s,this.#r=i,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(i);const[l,c,u,d]=this.#t;for(let f=0,g=e.length;f<g;f+=2)e[f]=(e[f]-l)/u,e[f+1]=(e[f+1]-c)/d;for(let f=0,g=t.length;f<g;f+=2)t[f]=(t[f]-l)/u,t[f+1]=(t[f+1]-c)/d}toSVGPath(){const e=[`M${this.#s[4]} ${this.#s[5]}`];for(let t=6,n=this.#s.length;t<n;t+=6){if(isNaN(this.#s[t])){e.push(`L${this.#s[t+4]} ${this.#s[t+5]}`);continue}e.push(`C${this.#s[t]} ${this.#s[t+1]} ${this.#s[t+2]} ${this.#s[t+3]} ${this.#s[t+4]} ${this.#s[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,a],s){const i=n-e,l=a-t;let c,u;switch(s){case 0:c=At._rescale(this.#s,e,a,i,-l),u=At._rescale(this.#i,e,a,i,-l);break;case 90:c=At._rescaleAndSwap(this.#s,e,t,i,l),u=At._rescaleAndSwap(this.#i,e,t,i,l);break;case 180:c=At._rescale(this.#s,n,t,-i,l),u=At._rescale(this.#i,n,t,-i,l);break;case 270:c=At._rescaleAndSwap(this.#s,n,a,-i,-l),u=At._rescaleAndSwap(this.#i,n,a,-i,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}#o(e){const t=this.#s;let n=t[4],a=t[5];const s=[n,a,n,a];let i=n,l=a,c=n,u=a;const d=e?Math.max:Math.min,f=new Float32Array(4);for(let p=6,x=t.length;p<x;p+=6){const y=t[p+4],b=t[p+5];isNaN(t[p])?(ut.pointBoundingBox(y,b,s),l>b?(i=y,l=b):l===b&&(i=d(i,y)),u<b?(c=y,u=b):u===b&&(c=d(c,y))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,ut.bezierBoundingBox(n,a,...t.slice(p,p+6),f),ut.rectBoundingBox(f[0],f[1],f[2],f[3],s),l>f[1]?(i=f[0],l=f[1]):l===f[1]&&(i=d(i,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=d(c,f[2]))),n=y,a=b}const g=this.#t;g[0]=s[0]-this.#n,g[1]=s[1]-this.#n,g[2]=s[2]-s[0]+2*this.#n,g[3]=s[3]-s[1]+2*this.#n,this.firstPoint=[i,l],this.lastPoint=[c,u]}get box(){return this.#t}newOutliner(e,t,n,a,s,i=0){return new Hh(e,t,n,a,s,i)}getNewOutline(e,t){const[n,a,s,i]=this.#t,[l,c,u,d]=this.#e,f=s*u,g=i*d,p=n*u+l,x=a*d+c,y=this.newOutliner({x:this.#i[0]*f+p,y:this.#i[1]*g+x},this.#e,this.#a,e,this.#r,t??this.#n);for(let b=2;b<this.#i.length;b+=2)y.add({x:this.#i[b]*f+p,y:this.#i[b+1]*g+x});return y.getOutlines()}}class pS{#e;#t;#n;#r=[];#i=[];constructor(e,t=0,n=0,a=!0){const s=[1/0,1/0,-1/0,-1/0],i=10**-4;for(const{x:y,y:b,width:w,height:N}of e){const j=Math.floor((y-t)/i)*i,k=Math.ceil((y+w+t)/i)*i,T=Math.floor((b-t)/i)*i,I=Math.ceil((b+N+t)/i)*i,M=[j,T,I,!0],L=[k,T,I,!1];this.#r.push(M,L),ut.rectBoundingBox(j,T,k,I,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,u=s[0]-n,d=s[1]-n;let f=a?-1/0:1/0,g=1/0;const p=this.#r.at(a?-1:-2),x=[p[0],p[2]];for(const y of this.#r){const[b,w,N,j]=y;!j&&a?w<g?(g=w,f=b):w===g&&(f=Math.max(f,b)):j&&!a&&(w<g?(g=w,f=b):w===g&&(f=Math.min(f,b))),y[0]=(b-u)/l,y[1]=(w-d)/c,y[2]=(N-d)/c}this.#e=new Float32Array([u,d,l,c]),this.#t=[f,g],this.#n=x}getOutlines(){this.#r.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#r)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#a(e)}#a(e){const t=[],n=new Set;for(const i of e){const[l,c,u]=i;t.push([l,c,i],[l,u,i])}t.sort((i,l)=>i[1]-l[1]||i[0]-l[0]);for(let i=0,l=t.length;i<l;i+=2){const c=t[i][2],u=t[i+1][2];c.push(u),u.push(c),n.add(c),n.add(u)}const a=[];let s;for(;n.size>0;){const i=n.values().next().value;let[l,c,u,d,f]=i;n.delete(i);let g=l,p=c;for(s=[l,u],a.push(s);;){let x;if(n.has(d))x=d;else if(n.has(f))x=f;else break;n.delete(x),[l,c,u,d,f]=x,g!==l&&(s.push(g,p,l,p===c?c:u),g=l),p=p===c?u:c}s.push(g,p)}return new Ype(a,this.#e,this.#t,this.#n)}#s(e){const t=this.#i;let n=0,a=t.length-1;for(;n<=a;){const s=n+a>>1,i=t[s][0];if(i===e)return s;i<e?n=s+1:a=s-1}return a+1}#o([,e,t]){const n=this.#s(e);this.#i.splice(n,0,[e,t])}#c([,e,t]){const n=this.#s(e);for(let a=n;a<this.#i.length;a++){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}for(let a=n-1;a>=0;a--){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}}#l(e){const[t,n,a]=e,s=[[t,n,a]],i=this.#s(a);for(let l=0;l<i;l++){const[c,u]=this.#i[l];for(let d=0,f=s.length;d<f;d++){const[,g,p]=s[d];if(!(u<=g||p<=c)){if(g>=c){if(p>u)s[d][1]=u;else{if(f===1)return[];s.splice(d,1),d--,f--}continue}s[d][2]=c,p>u&&s.push([t,u,p])}}}return s}}class Ype extends At{#e;#t;constructor(e,t,n,a){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=a}toSVGPath(){const e=[];for(const t of this.#t){let[n,a]=t;e.push(`M${n} ${a}`);for(let s=2;s<t.length;s+=2){const i=t[s],l=t[s+1];i===n?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${i}`),n=i)}e.push("Z")}return e.join(" ")}serialize([e,t,n,a],s){const i=[],l=n-e,c=a-t;for(const u of this.#t){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*l,d[f+1]=a-u[f+1]*c;i.push(d)}return i}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class yS extends Hh{newFreeDrawOutline(e,t,n,a,s,i){return new Xpe(e,t,n,a,s,i)}}class Xpe extends a7{newOutliner(e,t,n,a,s,i=0){return new yS(e,t,n,a,s,i)}}class ja extends Lt{#e=null;#t=0;#n;#r=null;#i=null;#a=null;#s=null;#o=0;#c=null;#l=null;#d=null;#u=!1;#h=null;#g=null;#f=null;#A="";#m;#p="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=sr.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=ja.prototype;return dr(this,"_keyboardManager",new wy([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||ja._defaultColor,this.#m=e.thickness||ja._defaultThickness,this.opacity=e.opacity||ja._defaultOpacity,this.#n=e.boxes||null,this.#p=e.methodOfCreation||"",this.#A=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#y(e),this.#w()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#o=e.focusOffset,this.#x(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#p}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#x(){const e=new pS(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new pS(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=t.getOutlines();const{firstPoint:n}=this.#l;this.#h=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:a}=this.#a;this.#g=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const a=1.5;if(this.#a=e.getNewOutline(this.#m/2+a,.0025),t>=0)this.#d=t,this.#r=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#f=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:ja.#B(this.#l.box,(f-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f,{bbox:ja.#B(this.#a.box,f),path:{d:this.#a.toSVGPath()}})}const[s,i,l,c]=e.box;switch(this.rotation){case 0:this.x=s,this.y=i,this.width=l,this.height=c;break;case 90:{const[f,g]=this.parentDimensions;this.x=i,this.y=1-s,this.width=l*g/f,this.height=c*f/g;break}case 180:this.x=1-s,this.y=1-i,this.width=l,this.height=c;break;case 270:{const[f,g]=this.parentDimensions;this.x=1-i,this.y=s,this.width=l*g/f,this.height=c*f/g;break}}const{firstPoint:u}=e;this.#h=[(u[0]-s)/l,(u[1]-i)/c];const{lastPoint:d}=this.#a;this.#g=[(d[0]-s)/l,(d[1]-i)/c]}static initialize(e,t){Lt.initialize(e,t),ja._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Nr.HIGHLIGHT_COLOR:ja._defaultColor=t;break;case Nr.HIGHLIGHT_THICKNESS:ja._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case Nr.HIGHLIGHT_COLOR:this.#N(t);break;case Nr.HIGHLIGHT_THICKNESS:this.#C(t);break}}static get defaultPropertiesToUpdate(){return[[Nr.HIGHLIGHT_COLOR,ja._defaultColor],[Nr.HIGHLIGHT_THICKNESS,ja._defaultThickness]]}get propertiesToUpdate(){return[[Nr.HIGHLIGHT_COLOR,this.color||ja._defaultColor],[Nr.HIGHLIGHT_THICKNESS,this.#m||ja._defaultThickness],[Nr.HIGHLIGHT_FREE,this.#u]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#N(e){const t=(s,i)=>{this.color=s,this.opacity=i,this.onUpdatedColor()},n=this.color,a=this.opacity;this.addCommands({cmd:t.bind(this,e,ja._defaultOpacity),undo:t.bind(this,n,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const t=this.#m,n=a=>{this.#m=a,this.#v(a)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new _o({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#j(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#j():e&&(this.#w(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#v(e){this.#u&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#j(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#w(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#f=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#u),this.#c&&(this.#c.style.clipPath=this.#r))}static#B([e,t,n,a],s){switch(s){case 90:return[1-t-a,e,a,n];case 180:return[1-e-n,1-t-a,n,a];case 270:return[t,1-e-n,a,n]}return[e,t,n,a]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#u?(e=(e-this.rotation+360)%360,n=ja.#B(this.#l.box,e)):n=ja.#B([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#f,{bbox:ja.#B(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#A&&(e.setAttribute("aria-label",this.#A),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r,this.setDims(this.width,this.height),PH(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1}})}#k(e){ja._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#E(!0);break;case 1:case 3:this.#E(!1);break}}#E(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#s,this.#o)}select(){super.select(),this.#f&&this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{selected:!1}}),this.#u||this.#E(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}))}#_(){return this.#u?this.rotation:0}#D(){if(this.#u)return null;const[e,t]=this.pageDimensions,[n,a]=this.pageTranslation,s=this.#n,i=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of s){const g=c*e+n,p=(1-u)*t+a;i[l]=i[l+4]=g,i[l+1]=i[l+3]=p,i[l+2]=i[l+6]=g+d*e,i[l+5]=i[l+7]=p-f*t,l+=8}return i}#F(e){return this.#l.serialize(e,this.#_())}static startHighlighting(e,t,{target:n,x:a,y:s}){const{x:i,y:l,width:c,height:u}=n.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),g=p=>{d.abort(),this.#M(e,p)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",sa,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Mo,{signal:f}),n.addEventListener("pointermove",this.#O.bind(this,e),{signal:f}),this._freeHighlight=new yS({x:a,y:s},[i,l,c,u],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#O(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#M(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let a=null;if(e instanceof t7){const{data:{quadPoints:x,rect:y,rotation:b,id:w,color:N,opacity:j,popupRef:k,richText:T,contentsObj:I,creationDate:M,modificationDate:L},parent:{page:{pageNumber:P}}}=e;a=e={annotationType:sr.HIGHLIGHT,color:Array.from(N),opacity:j,quadPoints:x,boxes:null,pageIndex:P-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:k,richText:T,comment:I?.str||null,creationDate:M,modificationDate:L}}else if(e instanceof I4){const{data:{inkLists:x,rect:y,rotation:b,id:w,color:N,borderStyle:{rawWidth:j},popupRef:k,richText:T,contentsObj:I,creationDate:M,modificationDate:L},parent:{page:{pageNumber:P}}}=e;a=e={annotationType:sr.HIGHLIGHT,color:Array.from(N),thickness:j,inkLists:x,boxes:null,pageIndex:P-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:k,richText:T,comment:I?.str||null,creationDate:M,modificationDate:L}}const{color:s,quadPoints:i,inkLists:l,opacity:c}=e,u=await super.deserialize(e,t,n);u.color=ut.makeHexColor(...s),u.opacity=c||1,l&&(u.#m=e.thickness),u._initialData=a,e.comment&&u.setCommentData(e);const[d,f]=u.pageDimensions,[g,p]=u.pageTranslation;if(i){const x=u.#n=[];for(let y=0;y<i.length;y+=8)x.push({x:(i[y]-g)/d,y:1-(i[y+1]-p)/f,width:(i[y+2]-i[y])/d,height:(i[y+1]-i[y+5])/f});u.#x(),u.#w(),u.rotate(u.rotation)}else if(l){u.#u=!0;const x=l[0],y={x:x[0]-g,y:f-(x[1]-p)},b=new yS(y,[0,0,d,f],1,u.#m/2,!0,.001);for(let j=0,k=x.length;j<k;j+=2)y.x=x[j]-g,y.y=f-(x[j+1]-p),b.add(y);const{id:w,clipPathId:N}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:b.toSVGPath()}},!0,!0);u.#y({highlightOutlines:b.getOutlines(),highlightId:w,clipPathId:N}),u.#w(),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#D(),outlines:this.#F(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#I(n)?null:(n.id=this.annotationElementId,n)}#I(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,a)=>n!==t[a])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class s7{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Nn("Not implemented")}}class Vt extends Lt{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#i=null;static#a=NaN;static#s=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#h())}#l({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#d(e,this.parent),this.#A(e.box)}#d(e,t){const{id:n}=t.drawLayer.draw(Vt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[a,s]of Object.entries(t))n.has(a)?Object.assign(e[a],s):e[a]=s;return e}static getDefaultDrawingOptions(e){Nn("Not implemented")}static get typesMap(){Nn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Vt.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,a]of this.typesMap)e.push([n,t[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,a]of this.constructor.typesMap)e.push([n,t[a]]);return e}_updateProperty(e,t,n){const a=this._drawingOptions,s=a[t],i=l=>{a.updateProperty(t,l);const c=this.#e.updateProperty(t,l);c&&this.#A(c),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#h(),this.#A(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#h(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#h(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#e,e)}}#g([e,t,n,a]){const{parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[t,1-e,n*(i/s),a*(s/i)];case 180:return[1-e,1-t,n,a];case 270:return[1-t,e,n*(i/s),a*(s/i)];default:return[e,t,n,a]}}#f(){const{x:e,y:t,width:n,height:a,parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[1-t,e,n*(s/i),a*(i/s)];case 180:return[1-e,1-t,n,a];case 270:return[t,1-e,n*(s/i),a*(i/s)];default:return[e,t,n,a]}}#A(e){[this.x,this.y,this.width,this.height]=this.#g(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:n,height:a,rotation:s,parentRotation:i,parentDimensions:[l,c]}=this;switch((s*4+i)/90){case 1:return[1-t-a,e,a,n];case 2:return[1-e-n,1-t-a,n,a];case 3:return[t,1-e-n,a,n];case 4:return[e,t-n*(l/c),a*(c/l),n*(l/c)];case 5:return[1-t,e,n*(l/c),a*(c/l)];case 6:return[1-e-a*(c/l),1-t,a*(c/l),n*(l/c)];case 7:return[t-n*(l/c),1-e-a*(c/l),n*(l/c),a*(c/l)];case 8:return[e-n,t-a,n,a];case 9:return[1-t,e-n,a,n];case 10:return[1-e,1-t,n,a];case 11:return[t-a,1-e,a,n];case 12:return[e-a*(c/l),t,a*(c/l),n*(l/c)];case 13:return[1-t-n*(l/c),e-a*(c/l),n*(l/c),a*(c/l)];case 14:return[1-e,1-t-n*(l/c),a*(c/l),n*(l/c)];case 15:return[t,1-e,n*(l/c),a*(c/l)];default:return[e,t,n,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#A(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const a=document.createElement("div");return n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,a,s){Nn("Not implemented")}static startDrawing(e,t,n,a){const{target:s,offsetX:i,offsetY:l,pointerId:c,pointerType:u}=a;if(Vt.#s&&Vt.#s!==u)return;const{viewport:{rotation:d}}=e,{width:f,height:g}=s.getBoundingClientRect(),p=Vt.#r=new AbortController,x=e.combinedSignal(p);if(Vt.#a||=c,Vt.#s??=u,window.addEventListener("pointerup",y=>{Vt.#a===y.pointerId?this._endDraw(y):Vt.#o?.delete(y.pointerId)},{signal:x}),window.addEventListener("pointercancel",y=>{Vt.#a===y.pointerId?this._currentParent.endDrawingSession():Vt.#o?.delete(y.pointerId)},{signal:x}),window.addEventListener("pointerdown",y=>{Vt.#s===y.pointerType&&((Vt.#o||=new Set).add(y.pointerId),Vt.#n.isCancellable()&&(Vt.#n.removeLastElement(),Vt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Mo,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",y=>{y.timeStamp===Vt.#c&&sa(y)},{signal:x}),e.toggleDrawing(),t._editorUndoBar?.hide(),Vt.#n){e.drawLayer.updateProperties(this._currentDrawId,Vt.#n.startNew(i,l,f,g,d));return}t.updateUIForDefaultProperties(this),Vt.#n=this.createDrawerInstance(i,l,f,g,d),Vt.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Vt.#i.toSVGProperties(),Vt.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Vt.#c=-1,!Vt.#n)return;const{offsetX:t,offsetY:n,pointerId:a}=e;if(Vt.#a===a){if(Vt.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Vt.#n.add(t,n)),Vt.#c=e.timeStamp,sa(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Vt.#n=null,Vt.#i=null,Vt.#s=null,Vt.#c=NaN),Vt.#r&&(Vt.#r.abort(),Vt.#r=null,Vt.#a=NaN,Vt.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Vt.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Vt.#n,a=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(a,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(a,n.removeLastElement())},mustExec:!1,type:Nr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Nr.DRAW_STEP),!Vt.#n.isEmpty()){const{pageDimensions:[n,a],scale:s}=t,i=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Vt.#n.getOutlines(n*s,a*s,s,this._INNER_MARGIN),drawingOptions:Vt.#i,mustBeCommitted:!e});return this._cleanup(!0),i}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,a,s,i){Nn("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:a,pageHeight:s,pageX:i,pageY:l}}=t.viewport,c=this.deserializeDraw(i,l,a,s,this._INNER_MARGIN,e),u=await super.deserialize(e,t,n);return u.createDrawingOptions(e),u.#l({drawOutlines:c}),u.#h(),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[t,n]=this.pageTranslation,[a,s]=this.pageDimensions;return this.#e.serialize([t,n,a,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Jpe{#e=new Float64Array(6);#t;#n;#r;#i;#a;#s="";#o=0;#c=new Ny;#l;#d;constructor(e,t,n,a,s,i){this.#l=n,this.#d=a,this.#r=s,this.#i=i,[e,t]=this.#u(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t],this.#n=[{line:l,points:this.#a}],this.#e.set(l,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#u(e,t){return At._normalizePoint(e,t,this.#l,this.#d,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(e,t){[e,t]=this.#u(e,t);const[n,a,s,i]=this.#e.subarray(2,6),l=e-s,c=t-i;return Math.hypot(this.#l*l,this.#d*c)<=2?null:(this.#a.push(e,t),isNaN(n)?(this.#e.set([s,i,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,a,s,i,e,t],0),this.#t.push(...At.createBezierPoints(n,a,s,i,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,a,s){this.#l=n,this.#d=a,this.#r=s,[e,t]=this.#u(e,t);const i=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t];const l=this.#n.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#n.push({line:i,points:this.#a}),this.#e.set(i,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#s="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:a}=this.#n[e];this.#t=n,this.#a=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const e=At.svgRound(this.#t[4]),t=At.svgRound(this.#t[5]);if(this.#a.length===2)return this.#s=`${this.#s} M ${e} ${t} Z`,this.#s;if(this.#a.length<=6){const a=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,a)} M ${e} ${t}`,this.#o=6}if(this.#a.length===4){const a=At.svgRound(this.#t[10]),s=At.svgRound(this.#t[11]);return this.#s=`${this.#s} L ${a} ${s}`,this.#o=12,this.#s}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let a=this.#o,s=this.#t.length;a<s;a+=6){const[i,l,c,u,d,f]=this.#t.slice(a,a+6).map(At.svgRound);n.push(`C${i} ${l} ${c} ${u} ${d} ${f}`)}return this.#s+=n.join(" "),this.#o=this.#t.length,this.#s}getOutlines(e,t,n,a){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,e,t,n,this.#r,this.#i,a),this.#e=null,this.#t=null,this.#n=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ny extends At{#e;#t=0;#n;#r;#i;#a;#s;#o;#c;build(e,t,n,a,s,i,l){this.#i=t,this.#a=n,this.#s=a,this.#o=s,this.#c=i,this.#n=l??0,this.#r=e,this.#u()}get thickness(){return this.#c}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${At.svgRound(t[4])} ${At.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${At.svgRound(t[10])} ${At.svgRound(t[11])}`);continue}for(let n=6,a=t.length;n<a;n+=6){const[s,i,l,c,u,d]=t.subarray(n,n+6).map(At.svgRound);e.push(`C${s} ${i} ${l} ${c} ${u} ${d}`)}}return e.join("")}serialize([e,t,n,a],s){const i=[],l=[],[c,u,d,f]=this.#d();let g,p,x,y,b,w,N,j,k;switch(this.#o){case 0:k=At._rescale,g=e,p=t+a,x=n,y=-a,b=e+c*n,w=t+(1-u-f)*a,N=e+(c+d)*n,j=t+(1-u)*a;break;case 90:k=At._rescaleAndSwap,g=e,p=t,x=n,y=a,b=e+u*n,w=t+c*a,N=e+(u+f)*n,j=t+(c+d)*a;break;case 180:k=At._rescale,g=e+n,p=t,x=-n,y=a,b=e+(1-c-d)*n,w=t+u*a,N=e+(1-c)*n,j=t+(u+f)*a;break;case 270:k=At._rescaleAndSwap,g=e+n,p=t+a,x=-n,y=-a,b=e+(1-u-f)*n,w=t+(1-c-d)*a,N=e+(1-u)*n,j=t+(1-c)*a;break}for(const{line:T,points:I}of this.#r)i.push(k(T,g,p,x,y,s?new Array(T.length):null)),l.push(k(I,g,p,x,y,s?new Array(I.length):null));return{lines:i,points:l,rect:[b,w,N,j]}}static deserialize(e,t,n,a,s,{paths:{lines:i,points:l},rotation:c,thickness:u}){const d=[];let f,g,p,x,y;switch(c){case 0:y=At._rescale,f=-e/n,g=t/a+1,p=1/n,x=-1/a;break;case 90:y=At._rescaleAndSwap,f=-t/a,g=-e/n,p=1/a,x=1/n;break;case 180:y=At._rescale,f=e/n+1,g=-t/a,p=-1/n,x=1/a;break;case 270:y=At._rescaleAndSwap,f=t/a+1,g=e/n+1,p=-1/a,x=-1/n;break}if(!i){i=[];for(const w of l){const N=w.length;if(N===2){i.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(N===4){i.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const j=new Float32Array(3*(N-2));i.push(j);let[k,T,I,M]=w.subarray(0,4);j.set([NaN,NaN,NaN,NaN,k,T],0);for(let L=4;L<N;L+=2){const P=w[L],q=w[L+1];j.set(At.createBezierPoints(k,T,I,M,P,q),(L-2)*3),[k,T,I,M]=[I,M,P,q]}}}for(let w=0,N=i.length;w<N;w++)d.push({line:y(i[w].map(j=>j??NaN),f,g,p,x),points:y(l[w].map(j=>j??NaN),f,g,p,x)});const b=new this.prototype.constructor;return b.build(d,n,a,1,c,u,s),b}#l(e=this.#c){const t=this.#n+e/2*this.#s;return this.#o%180===0?[t/this.#i,t/this.#a]:[t/this.#a,t/this.#i]}#d(){const[e,t,n,a]=this.#e,[s,i]=this.#l(0);return[e+s,t+i,n-2*s,a-2*i]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#r){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)ut.pointBoundingBox(a[l],a[l+1],e);continue}let s=a[4],i=a[5];for(let l=6,c=a.length;l<c;l+=6){const[u,d,f,g,p,x]=a.subarray(l,l+6);ut.bezierBoundingBox(s,i,u,d,f,g,p,x,e),s=p,i=x}}const[t,n]=this.#l();e[0]=si(e[0]-t,0,1),e[1]=si(e[1]-n,0,1),e[2]=si(e[2]+t,0,1),e[3]=si(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,n]=this.#l();this.#c=e;const[a,s]=this.#l(),[i,l]=[a-t,s-n],c=this.#e;return c[0]-=i,c[1]-=l,c[2]+=2*i,c[3]+=2*l,c}updateParentDimensions([e,t],n){const[a,s]=this.#l();this.#i=e,this.#a=t,this.#s=n;const[i,l]=this.#l(),c=i-a,u=l-s,d=this.#e;return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(At.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,a=0,s=0,i=0,l=0,c=0;switch(this.#t){case 90:a=t/e,s=-e/t,l=e;break;case 180:n=-1,i=-1,l=e,c=t;break;case 270:a=-t/e,s=e/t,c=t;break;default:return""}return`matrix(${n} ${a} ${s} ${i} ${At.svgRound(l)} ${At.svgRound(c)})`}getPathResizingSVGProperties([e,t,n,a]){const[s,i]=this.#l(),[l,c,u,d]=this.#e;if(Math.abs(u-s)<=At.PRECISION||Math.abs(d-i)<=At.PRECISION){const y=e+n/2-(l+u/2),b=t+a/2-(c+d/2);return{path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(t)}`,transform:`${this.rotationTransform} translate(${y} ${b})`}}}const f=(n-2*s)/(u-2*s),g=(a-2*i)/(d-2*i),p=u/n,x=d/a;return{path:{"transform-origin":`${At.svgRound(l)} ${At.svgRound(c)}`,transform:`${this.rotationTransform} scale(${p} ${x}) translate(${At.svgRound(s)} ${At.svgRound(i)}) scale(${f} ${g}) translate(${At.svgRound(-s)} ${At.svgRound(-i)})`}}}getPathResizedSVGProperties([e,t,n,a]){const[s,i]=this.#l(),l=this.#e,[c,u,d,f]=l;if(l[0]=e,l[1]=t,l[2]=n,l[3]=a,Math.abs(d-s)<=At.PRECISION||Math.abs(f-i)<=At.PRECISION){const b=e+n/2-(c+d/2),w=t+a/2-(u+f/2);for(const{line:N,points:j}of this.#r)At._translate(N,b,w,N),At._translate(j,b,w,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*s)/(d-2*s),p=(a-2*i)/(f-2*i),x=-g*(c+s)+e+s,y=-p*(u+i)+t+i;if(g!==1||p!==1||x!==0||y!==0)for(const{line:b,points:w}of this.#r)At._rescale(b,x,y,g,p,b),At._rescale(w,x,y,g,p,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[a,s]=n,i=this.#e,l=e-i[0],c=t-i[1];if(this.#i===a&&this.#a===s)for(const{line:u,points:d}of this.#r)At._translate(u,l,c,u),At._translate(d,l,c,d);else{const u=this.#i/a,d=this.#a/s;this.#i=a,this.#a=s;for(const{line:f,points:g}of this.#r)At._rescale(f,l,c,u,d,f),At._rescale(g,l,c,u,d,g);i[2]*=u,i[3]*=d}return i[0]=e,i[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${At.svgRound(e)} ${At.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${At.svgRound(e[0])} ${At.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class w1 extends s7{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Lt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new w1(this._viewParameters);return e.updateAll(this),e}}class D4 extends Vt{static _type="ink";static _editorType=sr.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Lt.initialize(e,t),this._defaultDrawingOptions=new w1(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return dr(this,"typesMap",new Map([[Nr.INK_THICKNESS,"stroke-width"],[Nr.INK_COLOR,"stroke"],[Nr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,a,s){return new Jpe(e,t,n,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,a,s,i){return Ny.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){let a=null;if(e instanceof I4){const{data:{inkLists:i,rect:l,rotation:c,id:u,color:d,opacity:f,borderStyle:{rawWidth:g},popupRef:p,richText:x,contentsObj:y,creationDate:b,modificationDate:w},parent:{page:{pageNumber:N}}}=e;a=e={annotationType:sr.INK,color:Array.from(d),thickness:g,opacity:f,paths:{points:i},boxes:null,pageIndex:N-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:p,richText:x,comment:y?.str||null,creationDate:b,modificationDate:w}}const s=await super.deserialize(e,t,n);return s._initialData=a,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new D0(this),[["colorPicker",this._colorPicker]]}get colorType(){return Nr.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=D4.getDefaultDrawingOptions({stroke:ut.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":i}}=this,l=Object.assign(super.serialize(e),{color:Lt._colorManager.convert(a),opacity:s,thickness:i,paths:{lines:t,points:n}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((i,l)=>i!==t[l])||e.thickness!==n||e.opacity!==a||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class xS extends Ny{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const nv=8,Qp=3;class Oh{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,a){return n-=e,a-=t,n===0?a>0?0:4:n===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const d=(-u+c-l+16)%8,f=this.#n[2*d],g=this.#n[2*d+1];if(e[(n+f)*t+(a+g)]!==0)return d}return-1}static#i(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const d=(u+c+l+16)%8,f=this.#n[2*d],g=this.#n[2*d+1];if(e[(n+f)*t+(a+g)]!==0)return d}return-1}static#a(e,t,n,a){const s=e.length,i=new Int32Array(s);for(let d=0;d<s;d++)i[d]=e[d]<=a?1:0;for(let d=1;d<n-1;d++)i[d*t]=i[d*t+t-1]=0;for(let d=0;d<t;d++)i[d]=i[t*n-1-d]=0;let l=1,c;const u=[];for(let d=1;d<n-1;d++){c=1;for(let f=1;f<t-1;f++){const g=d*t+f,p=i[g];if(p===0)continue;let x=d,y=f;if(p===1&&i[g-1]===0)l+=1,y-=1;else if(p>=1&&i[g+1]===0)l+=1,y+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[f,d],w=y===f+1,N={isHole:w,points:b,id:l,parent:0};u.push(N);let j;for(const F of u)if(F.id===c){j=F;break}j?j.isHole?N.parent=w?j.parent:c:N.parent=w?c:j.parent:N.parent=w?c:0;const k=this.#r(i,t,d,f,x,y,0);if(k===-1){i[g]=-l,i[g]!==1&&(c=Math.abs(i[g]));continue}let T=this.#n[2*k],I=this.#n[2*k+1];const M=d+T,L=f+I;x=M,y=L;let P=d,q=f;for(;;){const F=this.#i(i,t,P,q,x,y,1);T=this.#n[2*F],I=this.#n[2*F+1];const R=P+T,H=q+I;b.push(H,R);const z=P*t+q;if(i[z+1]===0?i[z]=-l:i[z]===1&&(i[z]=l),R===d&&H===f&&P===M&&q===L){i[g]!==1&&(c=Math.abs(i[g]));break}else x=P,y=q,P=R,q=H}}}return u}static#s(e,t,n,a){if(n-t<=4){for(let M=t;M<n-2;M+=2)a.push(e[M],e[M+1]);return}const s=e[t],i=e[t+1],l=e[n-4]-s,c=e[n-3]-i,u=Math.hypot(l,c),d=l/u,f=c/u,g=d*i-f*s,p=c/l,x=1/u,y=Math.atan(p),b=Math.cos(y),w=Math.sin(y),N=x*(Math.abs(b)+Math.abs(w)),j=x*(1-N+N**2),k=Math.max(Math.atan(Math.abs(w+b)*j),Math.atan(Math.abs(w-b)*j));let T=0,I=t;for(let M=t+2;M<n-2;M+=2){const L=Math.abs(g-d*e[M+1]+f*e[M]);L>T&&(I=M,T=L)}T>(u*k)**2?(this.#s(e,t,I+2,a),this.#s(e,I,n,a)):a.push(s,i)}static#o(e){const t=[],n=e.length;return this.#s(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#c(e,t,n,a,s,i){const l=new Float32Array(i**2),c=-2*a**2,u=i>>1;for(let y=0;y<i;y++){const b=(y-u)**2;for(let w=0;w<i;w++)l[y*i+w]=Math.exp((b+(w-u)**2)/c)}const d=new Float32Array(256),f=-2*s**2;for(let y=0;y<256;y++)d[y]=Math.exp(y**2/f);const g=e.length,p=new Uint8Array(g),x=new Uint32Array(256);for(let y=0;y<n;y++)for(let b=0;b<t;b++){const w=y*t+b,N=e[w];let j=0,k=0;for(let I=0;I<i;I++){const M=y+I-u;if(!(M<0||M>=n))for(let L=0;L<i;L++){const P=b+L-u;if(P<0||P>=t)continue;const q=e[M*t+P],F=l[I*i+L]*d[Math.abs(q-N)];j+=q*F,k+=F}}const T=p[w]=Math.round(j/k);x[T]++}return[p,x]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#d(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let a=-1/0,s=1/0;for(let l=0,c=n.length;l<c;l++){const u=n[l]=e[l<<2];a=Math.max(a,u),s=Math.min(s,u)}const i=255/(a-s);for(let l=0,c=n.length;l<c;l++)n[l]=(n[l]-s)*i;return n}static#u(e){let t,n=-1/0,a=-1/0;const s=e.findIndex(c=>c!==0);let i=s,l=s;for(t=s;t<256;t++){const c=e[t];c>n&&(t-i>a&&(a=t-i,l=t-1),n=c,i=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:n,height:a}=e,{maxDim:s}=this.#e;let i=n,l=a;if(n>s||a>s){let g=n,p=a,x=Math.log2(Math.max(n,a)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let w=0;w<x;w++){i=Math.ceil(g/2),l=Math.ceil(p/2);const N=new OffscreenCanvas(i,l);N.getContext("2d").drawImage(e,0,0,g,p,0,0,i,l),g=i,p=l,e!==t&&e.close(),e=N.transferToImageBitmap()}const b=Math.min(s/i,s/l);i=Math.round(i*b),l=Math.round(l*b)}const u=new OffscreenCanvas(i,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,i,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,i,l);const d=u.getImageData(0,0,i,l).data;return[this.#d(d),i,l]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:a},s,i,l,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const f=200,g=d.font=`${n} ${a} ${f}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:b,fontBoundingBoxAscent:w,fontBoundingBoxDescent:N,width:j}=d.measureText(e),k=1.5,T=Math.ceil(Math.max(Math.abs(p)+Math.abs(x)||0,j)*k),I=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||f,Math.abs(w)+Math.abs(N)||f)*k);u=new OffscreenCanvas(T,I),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,T,I),d.fillStyle="black",d.fillText(e,T*(k-1)/2,I*(3-k)/2);const M=this.#d(d.getImageData(0,0,T,I).data),L=this.#l(M),P=this.#u(L),q=this.#a(M,T,I,P);return this.processDrawnLines({lines:{curves:q,width:T,height:I},pageWidth:s,pageHeight:i,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,n,a,s){const[i,l,c]=this.#h(e),[u,d]=this.#c(i,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),f=this.#u(d),g=this.#a(u,l,c,f);return this.processDrawnLines({lines:{curves:g,width:l,height:c},pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:i,areContours:l}){a%180!==0&&([t,n]=[n,t]);const{curves:c,width:u,height:d}=e,f=e.thickness??0,g=[],p=Math.min(t/u,n/d),x=p/t,y=p/n,b=[];for(const{points:N}of c){const j=i?this.#o(N):N;if(!j)continue;b.push(j);const k=j.length,T=new Float32Array(k),I=new Float32Array(3*(k===2?2:k-2));if(g.push({line:I,points:T}),k===2){T[0]=j[0]*x,T[1]=j[1]*y,I.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[M,L,P,q]=j;M*=x,L*=y,P*=x,q*=y,T.set([M,L,P,q],0),I.set([NaN,NaN,NaN,NaN,M,L],0);for(let F=4;F<k;F+=2){const R=T[F]=j[F]*x,H=T[F+1]=j[F+1]*y;I.set(At.createBezierPoints(M,L,P,q,R,H),(F-2)*3),[M,L,P,q]=[P,q,R,H]}}if(g.length===0)return null;const w=l?new xS:new Ny;return w.build(g,t,n,1,a,l?0:f,s),{outline:w,newCurves:b,areContours:l,thickness:f,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:a,height:s}){let i=1/0,l=-1/0,c=0;for(const j of e){c+=j.length;for(let k=2,T=j.length;k<T;k++){const I=j[k]-j[k-2];i=Math.min(i,I),l=Math.max(l,I)}}let u;i>=-128&&l<=127?u=Int8Array:i>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const d=e.length,f=nv+Qp*d,g=new Uint32Array(f);let p=0;g[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,g[p++]=0,g[p++]=a,g[p++]=s,g[p++]=t?0:1,g[p++]=Math.max(0,Math.floor(n??0)),g[p++]=d,g[p++]=u.BYTES_PER_ELEMENT;for(const j of e)g[p++]=j.length-2,g[p++]=j[0],g[p++]=j[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(g);const b=u.prototype.constructor;for(const j of e){const k=new b(j.length-2);for(let T=2,I=j.length;T<I;T++)k[T-2]=j[T]-j[T-2];y.write(k)}y.close();const w=await new Response(x.readable).arrayBuffer(),N=new Uint8Array(w);return SH(N)}static async decompressSignature(e){try{const t=Cge(e),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),s=a.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let i=null,l=0;for await(const j of n)i||=new Uint8Array(new Uint32Array(j.buffer,0,4)[0]),i.set(j,l),l+=j.length;const c=new Uint32Array(i.buffer,0,i.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],f=c[3],g=c[4]===0,p=c[5],x=c[6],y=c[7],b=[],w=(nv+Qp*x)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(y){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(i.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(i.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(i.buffer,w);break}l=0;for(let j=0;j<x;j++){const k=c[Qp*j+nv],T=new Float32Array(k+2);b.push(T);for(let I=0;I<Qp-1;I++)T[I]=c[Qp*j+nv+I+1];for(let I=0;I<k;I++)T[I+2]=T[I]+N[l++]}return{areContours:g,thickness:p,outlines:b,width:d,height:f}}catch(t){return ir(`decompressSignature: ${t}`),null}}}class M4 extends s7{constructor(){super(),super.updateProperties({fill:Lt._defaultLineColor,"stroke-width":0})}clone(){const e=new M4;return e.updateAll(this),e}}class U4 extends w1{constructor(e){super(e),super.updateProperties({stroke:Lt._defaultLineColor,"stroke-width":1})}clone(){const e=new U4(this._viewParameters);return e.updateAll(this),e}}class Xc extends Vt{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=sr.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Lt.initialize(e,t),this._defaultDrawingOptions=new M4,this._defaultDrawnSignatureOptions=new U4(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return dr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:s,areContours:i,description:l,uuid:c,heightInPage:u}=this.#n,{rawDims:{pageWidth:d,pageHeight:f},rotation:g}=this.parent.viewport,p=Oh.processDrawnLines({lines:a,pageWidth:d,pageHeight:f,rotation:g,innerMargin:Xc._INNER_MARGIN,mustSmooth:s,areContours:i});this.addSignature(p,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:a,height:s}=this.#n,i=Math.max(a,s),l=Oh.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:n,width:a,height:s},pageWidth:i,pageHeight:i,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,a){const{x:s,y:i}=this,{outline:l}=this.#n=e;this.#e=l instanceof xS,this.description=n;let c;this.#e?c=Xc.getDefaultDrawingOptions():(c=Xc._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=t/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=s,this.y=i,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return Oh.process(e,t,n,a,Xc._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:a},rotation:s}=this.parent.viewport;return Oh.extractContoursFromText(e,t,n,a,s,Xc._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return Oh.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:Xc._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Xc.getDefaultDrawingOptions():(this._drawingOptions=Xc._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#r,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,a,s,i){return i.areContours?xS.deserialize(e,t,n,a,s,i):Ny.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){const a=await super.deserialize(e,t,n);return a.#e=e.areContours,a.description=e.accessibilityData?.alt||"",a.#r=e.uuid,a}}class Zpe extends Lt{#e=null;#t=null;#n=null;#r=null;#i=null;#a="";#s=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=sr.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Lt.initialize(e,t)}static isHandlingMimeForPasting(e){return tw.includes(e)}static paste(e,t){t.pasteEditor({mode:sr.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#f()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:i}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:a,width:s,height:i,channels:a.length/(s*i)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#u(n,!0)).finally(()=>this.#h());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#u(a)).finally(()=>this.#h());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(a=>this.#u(a)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=tw.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#f():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,a&&(this.#e=a),this.#o=!1,this.#f())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#f(){const{div:e}=this;let{width:t,height:n}=this.#e;const[a,s]=this.pageDimensions,i=.75;if(this.width)t=this.width*a,n=this.height*s;else if(t>i*a||n>i*s){const c=Math.min(i*a/t,i*s/n);t*=c,n*=c}this._uiManager.enableWaiting(!1);const l=this.#s=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=t/a,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:a,height:s}=this.#e,i=new uc;let l=this.#e,c=a,u=s,d=null;if(t){if(a>t||s>t){const I=Math.min(t/a,t/s);c=Math.floor(a*I),u=Math.floor(s*I)}d=document.createElement("canvas");const g=d.width=Math.ceil(c*i.sx),p=d.height=Math.ceil(u*i.sy);this.#l||(l=this.#A(g,p));const x=d.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":Sge.isDarkMode&&(y="#8f8f9d",b="#42414d");const w=15,N=w*i.sx,j=w*i.sy,k=new OffscreenCanvas(N*2,j*2),T=k.getContext("2d");T.fillStyle=y,T.fillRect(0,0,N*2,j*2),T.fillStyle=b,T.fillRect(0,0,N,j),T.fillRect(N,j,N,j),x.fillStyle=x.createPattern(k,"repeat"),x.fillRect(0,0,g,p),x.drawImage(l,0,0,l.width,l.height,0,0,g,p)}let f=null;if(n){let g,p;if(i.symmetric&&l.width<e&&l.height<e)g=l.width,p=l.height;else if(l=this.#e,a>e||s>e){const b=Math.min(e/a,e/s);g=Math.floor(a*b),p=Math.floor(s*b),this.#l||(l=this.#A(g,p))}const y=new OffscreenCanvas(g,p).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,g,p),f={width:g,height:p,data:y.getImageData(0,0,g,p).data}}return{canvas:d,width:c,height:u,imageData:f}}#A(e,t){const{width:n,height:a}=this.#e;let s=n,i=a,l=this.#e;for(;s>2*e||i>2*t;){const c=s,u=i;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));const d=new OffscreenCanvas(s,i);d.getContext("2d").drawImage(l,0,0,c,u,0,0,s,i),l=d.transferToImageBitmap()}return l}#m(){const[e,t]=this.parentDimensions,{width:n,height:a}=this,s=new uc,i=Math.ceil(n*e*s.sx),l=Math.ceil(a*t*s.sy),c=this.#s;if(!c||c.width===i&&c.height===l)return;c.width=i,c.height=l;const u=this.#l?this.#e:this.#A(i,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,i,l)}#p(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,a=Math.round(this.width*t*uf.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*uf.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(a,s);return i.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,s),i.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let a=null,s=!1;if(e instanceof r7){const{data:{rect:y,rotation:b,id:w,structParent:N,popupRef:j,richText:k,contentsObj:T,creationDate:I,modificationDate:M},container:L,parent:{page:{pageNumber:P}},canvas:q}=e;let F,R;q?(delete e.canvas,{id:F,bitmap:R}=n.imageManager.getFromCanvas(L.id,q),q.remove()):(s=!0,e._hasNoCanvas=!0);const H=(await t._structTree.getAriaAttributes(`${b4}${w}`))?.get("aria-label")||"";a=e={annotationType:sr.STAMP,bitmapId:F,bitmap:R,pageIndex:P-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:N,popupRef:j,richText:k,comment:T?.str||null,creationDate:I,modificationDate:M}}const i=await super.deserialize(e,t,n),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:g}=e;s?(n.addMissingCanvas(e.id,i),i.#o=!0):d&&n.imageManager.isValidId(d)?(i.#t=d,c&&(i.#e=c)):i.#r=u,i.#l=f;const[p,x]=i.pageDimensions;return i.width=(l[2]-l[0])/p,i.height=(l[3]-l[1])/x,g&&(i.altTextData=g),i._initialData=a,e.comment&&i.setCommentData(e),i.#d=!!a,i}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(n),e)return n.bitmapUrl=this.#p(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=this.#x(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const i=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:i,serialized:n}),n.bitmap=this.#p(!1);else if(this.#l){const l=t.stamps.get(this.#t);i>l.area&&(l.area=i,l.serialized.bitmap.close(),l.serialized.bitmap=this.#p(!1))}return n}#x(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,a=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Zc{#e;#t=!1;#n=null;#r=null;#i=null;#a=new Map;#s=!1;#o=!1;#c=!1;#l=null;#d=null;#u=null;#h=null;#g=null;#f=-1;#A;static _initialized=!1;static#m=new Map([vs,D4,Zpe,ja,Xc].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:a,accessibilityManager:s,annotationLayer:i,drawLayer:l,textLayer:c,viewport:u,l10n:d}){const f=[...Zc.#m.values()];if(!Zc._initialized){Zc._initialized=!0;for(const g of f)g.initialize(d,e)}e.registerEditorTypes(f),this.#A=e,this.pageIndex=t,this.div=n,this.#e=s,this.#n=i,this.viewport=u,this.#u=c,this.drawLayer=l,this._structTree=a,this.#A.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#A.getMode()===sr.NONE}updateToolbar(e){this.#A.updateToolbar(e)}updateMode(e=this.#A.getMode()){switch(this.#v(),e){case sr.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case sr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case sr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===sr.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of Zc.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#A.setEditingState(e)}addCommands(e){this.#A.addCommands(e)}cleanUndoStack(e){this.#A.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}get#p(){return this.#a.size!==0?this.#a.values():this.#A.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const n of this.#p)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#A.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#n;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#A.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#A._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#u&&!this.#g){this.#g=new AbortController;const n=this.#A.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",a=>{const{clientX:i,clientY:l,timeStamp:c}=a,u=this.#f;if(c-u>500){this.#f=c;return}this.#f=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const f=document.elementsFromPoint(i,l);if(d.toggle("getElements",!1),!this.div.contains(f[0]))return;let g;const p=new RegExp(`^${P0}[0-9]+$`);for(const y of f)if(p.test(y.id)){g=y.id;break}if(!g)return;const x=this.#a.get(g);x?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick(a))},{signal:n,capture:!0})}const e=this.#n;if(e){const n=new Map,a=new Map;for(const i of this.#p){if(i.disableEditing(),!i.annotationElementId){i.updateFakeAnnotationElement(e);continue}if(i.serialize()!==null){n.set(i.annotationElementId,i);continue}else a.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}const s=e.getEditableAnnotations();for(const i of s){const{id:l}=i.data;if(this.#A.isDeletedAnnotationElement(l)){i.updateEdited({deleted:!0});continue}let c=a.get(l);if(c){c.resetAnnotationElement(i),c.show(!1),i.show();continue}c=n.get(l),c&&(this.#A.addChangedExistingAnnotation(c),c.renderAnnotationElement(i)&&c.show(!1)),i.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const n of Zc.#m.values())t.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#A.getActive()!==e&&this.#A.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#h){this.#h=new AbortController;const e=this.#A.combinedSignal(this.#h);this.#u.div.addEventListener("pointerdown",this.#x.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#u.div.classList.remove("highlighting"))}#x(e){this.#A.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:n}=Ns.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#A.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ja.startHighlighting(this,this.#A.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#A._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#A.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:t}=e;t&&this.#A.isDeletedAnnotationElement(t)&&this.#A.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#A.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#A.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#A.addDeletedAnnotationElement(e.annotationElementId),Lt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#A.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#A.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#A._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#a.values())if(t.uid===e)return t;return null}getNextId(){return this.#A.getId()}get#y(){return Zc.#m.get(this.#A.getMode())}combinedSignal(e){return this.#A.combinedSignal(e)}#N(e){const t=this.#y;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#A.updateMode(e.mode);const{offsetX:n,offsetY:a}=this.#C(),s=this.getNextId(),i=this.#N({parent:this,id:s,x:n,y:a,uiManager:this.#A,isCentered:!0,...t});i&&this.add(i)}async deserialize(e){return await Zc.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#A)||null}createAndAddNewEditor(e,t,n={}){const a=this.getNextId(),s=this.#N({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#A,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:t,width:n,height:a}=this.boundingClientRect,s=Math.max(0,e),i=Math.max(0,t),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+a),u=(s+l)/2-e,d=(i+c)/2-t,[f,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:f,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#A.setSelected(e)}toggleSelected(e){this.#A.toggleSelected(e)}unselect(e){this.#A.unselect(e)}pointerup(e){const{isMac:t}=Ns.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#s||(this.#s=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#A.getMode();if(n===sr.STAMP||n===sr.SIGNATURE){this.#A.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#A.getMode()===sr.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:t}=Ns.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#s=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const n=this.#A.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#A,!1,e);return}this.#A.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#A.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#y.startDrawing(this,this.#A,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#l?(this.#A.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#y.endDrawing(e)):null}findNewParent(e,t,n){const a=this.#A.findParent(t,n);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#A.getActive()?.parent===this&&(this.#A.commitOrRemove(),this.#A.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#A.removeLayer(this)}#v(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Ld(this.div,e);for(const t of this.#A.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#A.commitOrRemove(),this.#v();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Ld(this.div,{rotation:n}),t!==n)for(const a of this.#a.values())a.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#A.viewParameters.realScale}}class bs{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return dr(this,"_svgFactory",new M0)}static#i(e,[t,n,a,s]){const{style:i}=e;i.top=`${100*n}%`,i.left=`${100*t}%`,i.width=`${100*a}%`,i.height=`${100*s}%`}#a(){const e=bs._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#s(e,t){const n=bs._svgFactory.createElement("clipPath");e.append(n);const a=`clip_${t}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const s=bs._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),a}#o(e,t){for(const[n,a]of Object.entries(t))a===null?e.removeAttribute(n):e.setAttribute(n,a)}draw(e,t=!1,n=!1){const a=bs.#r++,s=this.#a(),i=bs._svgFactory.createElement("defs");s.append(i);const l=bs._svgFactory.createElement("path");i.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(a,l);const u=n?this.#s(i,c):null,d=bs._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(s,e),this.#t.set(a,s),{id:a,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=bs.#r++,a=this.#a(),s=bs._svgFactory.createElement("defs");a.append(s);const i=bs._svgFactory.createElement("path");s.append(i);const l=`path_p${this.pageIndex}_${n}`;i.setAttribute("id",l),i.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const f=bs._svgFactory.createElement("mask");s.append(f),c=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",c),f.setAttribute("maskUnits","objectBoundingBox");const g=bs._svgFactory.createElement("rect");f.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const p=bs._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${l}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=bs._svgFactory.createElement("use");a.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return a.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(n,a),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:a,rootClass:s,path:i}=t,l=typeof e=="number"?this.#t.get(e):e;if(l){if(n&&this.#o(l,n),a&&bs.#i(l,a),s){const{classList:c}=l;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(i){const u=l.firstChild.firstChild;this.#o(u,i)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:pS};globalThis.pdfjsLib={AbortException:yu,AnnotationEditorLayer:Zc,AnnotationEditorParamsType:Nr,AnnotationEditorType:sr,AnnotationEditorUIManager:xu,AnnotationLayer:L4,AnnotationMode:eA,AnnotationType:Sa,applyOpacity:TH,build:XH,ColorPicker:_o,createValidAbsoluteUrl:y4,CSSConstants:kH,DOMSVGFactory:M0,DrawLayer:bs,FeatureTest:Ns,fetchData:Ug,findContrastColor:FH,getDocument:k4,getFilenameFromUrl:jH,getPdfFilenameFromUrl:EH,getRGB:Rg,getUuid:v4,getXfaPageViewport:_H,GlobalWorkerOptions:_d,ImageKind:A0,InvalidPDFException:Zb,isDataScheme:by,isPdfFile:v1,isValidExplicitDest:LH,MathClamp:si,noContextMenu:Mo,normalizeUnicode:NH,OPS:gg,OutputScale:uc,PasswordResponses:CH,PDFDataRangeTransport:F4,PDFDateString:ew,PDFWorker:pg,PermissionFlag:wH,PixelsPerInch:uf,RenderingCancelledException:x1,renderRichText:C4,ResponseException:O0,setLayerDimensions:Ld,shadow:dr,SignatureExtractor:Oh,stopEvent:sa,SupportedImageMimeTypes:tw,TextLayer:L0,TouchManager:Cy,updateUrlHash:x4,Util:ut,VerbosityLevel:yy,version:P4,XfaLayer:w4};const e0e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:yu,AnnotationEditorLayer:Zc,AnnotationEditorParamsType:Nr,AnnotationEditorType:sr,AnnotationEditorUIManager:xu,AnnotationLayer:L4,AnnotationMode:eA,AnnotationType:Sa,CSSConstants:kH,ColorPicker:_o,DOMSVGFactory:M0,DrawLayer:bs,FeatureTest:Ns,GlobalWorkerOptions:_d,ImageKind:A0,InvalidPDFException:Zb,MathClamp:si,OPS:gg,OutputScale:uc,PDFDataRangeTransport:F4,PDFDateString:ew,PDFWorker:pg,PasswordResponses:CH,PermissionFlag:wH,PixelsPerInch:uf,RenderingCancelledException:x1,ResponseException:O0,SignatureExtractor:Oh,SupportedImageMimeTypes:tw,TextLayer:L0,TouchManager:Cy,Util:ut,VerbosityLevel:yy,XfaLayer:w4,applyOpacity:TH,build:XH,createValidAbsoluteUrl:y4,fetchData:Ug,findContrastColor:FH,getDocument:k4,getFilenameFromUrl:jH,getPdfFilenameFromUrl:EH,getRGB:Rg,getUuid:v4,getXfaPageViewport:_H,isDataScheme:by,isPdfFile:v1,isValidExplicitDest:LH,noContextMenu:Mo,normalizeUnicode:NH,renderRichText:C4,setLayerDimensions:Ld,shadow:dr,stopEvent:sa,updateUrlHash:x4,version:P4},Symbol.toStringTag,{value:"Module"}));var QI=Object.prototype.hasOwnProperty;function HI(r,e,t){for(t of r.keys())if(Wm(t,e))return t}function Wm(r,e){var t,n,a;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Wm(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(a=n,a&&typeof a=="object"&&(a=HI(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(a=n[0],a&&typeof a=="object"&&(a=HI(e,a),!a)||!Wm(n[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(QI.call(r,t)&&++n&&!QI.call(e,t)||!(t in e)||!Wm(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function Sy(r){let e=!1;return{promise:new Promise((n,a)=>{r.then(s=>!e&&n(s)).catch(s=>!e&&a(s))}),cancel(){e=!0}}}const t0e=["onCopy","onCut","onPaste"],r0e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],n0e=["onFocus","onBlur"],a0e=["onInput","onInvalid","onReset","onSubmit"],s0e=["onLoad","onError"],i0e=["onKeyDown","onKeyPress","onKeyUp"],o0e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],l0e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],c0e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],A0e=["onSelect"],u0e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],d0e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],h0e=["onScroll"],f0e=["onWheel"],m0e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],g0e=["onTransitionEnd"],p0e=["onToggle"],y0e=["onChange"],x0e=[...t0e,...r0e,...n0e,...a0e,...s0e,...i0e,...o0e,...l0e,...c0e,...A0e,...u0e,...d0e,...h0e,...f0e,...m0e,...g0e,...y0e,...p0e];function i7(r,e){const t={};for(const n of x0e){const a=r[n];a&&(e?t[n]=(s=>a(s,e(n))):t[n]=a)}return t}var r5,KI;function v0e(){if(KI)return r5;KI=1;var r=function(){};return r5=r,r5}var b0e=v0e();const ci=Bl(b0e),o7=S.createContext(null),w0e="noopener noreferrer nofollow";class C0e{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return gn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){gn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||w0e,e.target=n?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{gn(this.pdfDocument),gn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{gn(Array.isArray(t));const n=t[0];new Promise(a=>{gn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{a(s)}).catch(()=>{gn(!1)}):typeof n=="number"?a(n):gn(!1)}).then(a=>{const s=a+1;gn(this.pdfViewer),gn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:a,pageNumber:s})})})}goToPage(e){const t=e-1;gn(this.pdfViewer),gn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Ym({children:r,type:e}){return o.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const zI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function B0e(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function yg(){return S.useReducer(B0e,{value:void 0,error:void 0})}const C1=typeof window<"u",l7=C1&&window.location.protocol==="file:";function N0e(r){return typeof r<"u"}function Sh(r){return N0e(r)&&r!==null}function S0e(r){return typeof r=="string"}function j0e(r){return r instanceof ArrayBuffer}function E0e(r){return gn(C1),r instanceof Blob}function vS(r){return S0e(r)&&/^data:/.test(r)}function qI(r){gn(vS(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function _0e(){return C1&&window.devicePixelRatio||1}const c7="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function $I(){ci(!l7,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${c7}`)}function k0e(){ci(!l7,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${c7}`)}function hf(r){r?.cancel&&r.cancel()}function bS(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function T0e(r){return r.name==="RenderingCancelledException"}function F0e(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=a=>{if(!a.target)return t(new Error("Error while reading a file."));const{error:s}=a.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:P0e}=e0e,O0e=(r,e)=>{switch(e){case zI.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case zI.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function GI(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const I0e=S.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:s,file:i,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:f,onLoadError:g,onLoadProgress:p,onLoadSuccess:x,onPassword:y=O0e,onSourceError:b,onSourceSuccess:w,options:N,renderMode:j,rotate:k,scale:T,...I},M){const[L,P]=yg(),{value:q,error:F}=L,[R,H]=yg(),{value:z,error:X}=R,$=S.useRef(new C0e),te=S.useRef([]),ee=S.useRef(void 0),fe=S.useRef(void 0);i&&i!==ee.current&&GI(i)&&(ci(!Wm(i,ee.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ee.current=i),N&&N!==fe.current&&(ci(!Wm(N,fe.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),fe.current=N);const _e=S.useRef({scrollPageIntoView:je=>{const{dest:Qe,pageNumber:G,pageIndex:Fe=G-1}=je;if(f){f({dest:Qe,pageIndex:Fe,pageNumber:G});return}const Je=te.current[Fe];if(Je){Je.scrollIntoView();return}ci(!1,`An internal link leading to page ${G} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});S.useImperativeHandle(M,()=>({linkService:$,pages:te,viewer:_e}),[]);function re(){w&&w()}function U(){F&&(ci(!1,F.toString()),b&&b(F))}function Y(){P({type:"RESET"})}S.useEffect(Y,[i,P]);const ne=S.useCallback(async()=>{if(!i)return null;if(typeof i=="string")return vS(i)?{data:qI(i)}:($I(),{url:i});if(i instanceof P0e)return{range:i};if(j0e(i))return{data:i};if(C1&&E0e(i))return{data:await F0e(i)};if(gn(typeof i=="object"),gn(GI(i)),"url"in i&&typeof i.url=="string"){if(vS(i.url)){const{url:je,...Qe}=i;return{data:qI(je),...Qe}}$I()}return i},[i]);S.useEffect(()=>{const je=Sy(ne());return je.promise.then(Qe=>{P({type:"RESOLVE",value:Qe})}).catch(Qe=>{P({type:"REJECT",error:Qe})}),()=>{hf(je)}},[ne,P]),S.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){U();return}re()}},[q]);function oe(){z&&(x&&x(z),te.current=new Array(z.numPages),$.current.setDocument(z))}function de(){X&&(ci(!1,X.toString()),g&&g(X))}S.useEffect(function(){H({type:"RESET"})},[H,q]),S.useEffect(function(){if(!q)return;const Qe=N?{...q,...N}:q,G=k4(Qe);p&&(G.onProgress=p),y&&(G.onPassword=y);const Fe=G,Je=Fe.promise.then(et=>{H({type:"RESOLVE",value:et})}).catch(et=>{Fe.destroyed||H({type:"REJECT",error:et})});return()=>{Je.finally(()=>Fe.destroy())}},[N,H,q]),S.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){de();return}oe()}},[z]),S.useEffect(function(){$.current.setViewer(_e.current),$.current.setExternalLinkRel(a),$.current.setExternalLinkTarget(s)},[a,s]);const he=S.useCallback((je,Qe)=>{te.current[je]=Qe},[]),Se=S.useCallback(je=>{delete te.current[je]},[]),me=S.useMemo(()=>({imageResourcesPath:c,linkService:$.current,onItemClick:f,pdf:z,registerPage:he,renderMode:j,rotate:k,scale:T,unregisterPage:Se}),[c,f,z,he,j,k,T,Se]),be=S.useMemo(()=>i7(I,()=>z),[I,z]);function ge(){function je(G){return!!G?.pdf}if(!je(me))throw new Error("pdf is undefined");const Qe=typeof e=="function"?e(me):e;return o.jsx(o7.Provider,{value:me,children:Qe})}function le(){return i?z==null?o.jsx(Ym,{type:"loading",children:typeof u=="function"?u():u}):z===!1?o.jsx(Ym,{type:"error",children:typeof n=="function"?n():n}):ge():o.jsx(Ym,{type:"no-data",children:typeof d=="function"?d():d})}return o.jsx("div",{className:Mr("react-pdf__Document",t),ref:l,...be,children:le()})});function A7(){return S.useContext(o7)}function u7(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){for(var i=0,l=t;i<l.length;i++){var c=l[i];typeof c=="function"?c(s):c&&(c.current=s)}}}const d7=S.createContext(null);function B1(){return S.useContext(d7)}function L0e(){const r=A7(),e=B1();gn(e);const t={...r,...e},{imageResourcesPath:n,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:i,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:f,rotate:g,scale:p=1}=t;gn(d),gn(u),gn(a);const[x,y]=yg(),{value:b,error:w}=x,N=S.useRef(null);ci(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function j(){b&&i&&i(b)}function k(){w&&(ci(!1,w.toString()),s&&s(w))}S.useEffect(function(){y({type:"RESET"})},[y,u]),S.useEffect(function(){if(!u)return;const P=Sy(u.getAnnotations()),q=P;return P.promise.then(F=>{y({type:"RESOLVE",value:F})}).catch(F=>{y({type:"REJECT",error:F})}),()=>{hf(q)}},[y,u]),S.useEffect(()=>{if(b!==void 0){if(b===!1){k();return}j()}},[b]);function T(){c&&c()}function I(L){ci(!1,`${L}`),l&&l(L)}const M=S.useMemo(()=>u.getViewport({scale:p,rotation:g}),[u,g,p]);return S.useEffect(function(){if(!d||!u||!a||!b)return;const{current:P}=N;if(!P)return;const q=M.clone({dontFlip:!0}),F={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:P,l10n:null,linkService:a,page:u,structTreeLayer:null,viewport:q},R={annotations:b,annotationStorage:d.annotationStorage,div:P,imageResourcesPath:n,linkService:a,page:u,renderForms:f,viewport:q};P.innerHTML="";try{new L4(F).render(R),T()}catch(H){I(H)}return()=>{}},[b,n,a,u,d,f,M]),o.jsx("div",{className:Mr("react-pdf__Page__annotations","annotationLayer"),ref:N})}const h7={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},D0e=/^H(\d+)$/;function M0e(r){return r in h7}function N1(r){return"children"in r}function f7(r){return N1(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function U0e(r){const e={};if(N1(r)){const{role:t}=r,n=t.match(D0e);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(M0e(t)){const a=h7[t];a&&(e.role=a)}}return e}function m7(r){const e={};if(N1(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),f7(r)){const[t]=r.children;if(t){const n=m7(t);return{...e,...n}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function R0e(r){return r?{...U0e(r),...m7(r)}:null}function g7({className:r,node:e}){const t=S.useMemo(()=>R0e(e),[e]),n=S.useMemo(()=>!N1(e)||f7(e)?null:e.children.map((a,s)=>o.jsx(g7,{node:a},s)),[e]);return o.jsx("span",{className:r,...t,children:n})}function Q0e(){const r=B1();gn(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,a]=yg(),{value:s,error:i}=n,{customTextRenderer:l,page:c}=r;function u(){s&&t&&t(s)}function d(){i&&(ci(!1,i.toString()),e&&e(i))}return S.useEffect(function(){a({type:"RESET"})},[a,c]),S.useEffect(function(){if(l||!c)return;const g=Sy(c.getStructTree()),p=g;return g.promise.then(x=>{a({type:"RESOLVE",value:x})}).catch(x=>{a({type:"REJECT",error:x})}),()=>hf(p)},[l,c,a]),S.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?o.jsx(g7,{className:"react-pdf__Page__structTree structTree",node:s}):null}const VI=eA;function H0e(r){const e=B1();gn(e);const t={...e,...r},{_className:n,canvasBackground:a,devicePixelRatio:s=_0e(),onRenderError:i,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:f,scale:g}=t,{canvasRef:p}=r;gn(c);const x=S.useRef(null);function y(){c&&l&&l(bS(c,g))}function b(k){T0e(k)||(ci(!1,k.toString()),i&&i(k))}const w=S.useMemo(()=>c.getViewport({scale:g*s,rotation:f}),[s,c,f,g]),N=S.useMemo(()=>c.getViewport({scale:g,rotation:f}),[c,f,g]);S.useEffect(function(){if(!c)return;c.cleanup();const{current:T}=x;if(!T)return;T.width=w.width,T.height=w.height,T.style.width=`${Math.floor(N.width)}px`,T.style.height=`${Math.floor(N.height)}px`,T.style.visibility="hidden";const I={annotationMode:u?VI.ENABLE_FORMS:VI.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:w};a&&(I.background=a);const M=c.render(I),L=M;return M.promise.then(()=>{T.style.visibility="",y()}).catch(b),()=>hf(L)},[a,c,u,w,N]);const j=S.useCallback(()=>{const{current:k}=x;k&&(k.width=0,k.height=0)},[]);return S.useEffect(()=>j,[j]),o.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:u7(p,x),style:{display:"block",userSelect:"none"},children:d?o.jsx(Q0e,{}):null})}function K0e(r){return"str"in r}function z0e(){const r=B1();gn(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:i,pageIndex:l,pageNumber:c,rotate:u,scale:d}=r;gn(i);const[f,g]=yg(),{value:p,error:x}=f,y=S.useRef(null);ci(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){p&&n&&n(p)}function w(){x&&(ci(!1,x.toString()),t&&t(x))}S.useEffect(function(){g({type:"RESET"})},[i,g]),S.useEffect(function(){if(!i)return;const L=Sy(i.getTextContent()),P=L;return L.promise.then(q=>{g({type:"RESOLVE",value:q})}).catch(q=>{g({type:"REJECT",error:q})}),()=>hf(P)},[i,g]),S.useEffect(()=>{if(p!==void 0){if(p===!1){w();return}b()}},[p]);const N=S.useCallback(()=>{s&&s()},[s]),j=S.useCallback(M=>{ci(!1,M.toString()),a&&a(M)},[a]);function k(){const M=y.current;M&&M.classList.add("selecting")}function T(){const M=y.current;M&&M.classList.remove("selecting")}const I=S.useMemo(()=>i.getViewport({scale:d,rotation:u}),[i,u,d]);return S.useLayoutEffect(function(){if(!i||!p)return;const{current:L}=y;if(!L)return;L.innerHTML="";const P=i.streamTextContent({includeMarkedContent:!0}),q={container:L,textContentSource:P,viewport:I},F=new L0(q),R=F;return F.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",L.append(H);const z=L.querySelectorAll('[role="presentation"]');if(e){let X=0;p.items.forEach(($,te)=>{if(!K0e($))return;const ee=z[X];if(!ee)return;const fe=e({pageIndex:l,pageNumber:c,itemIndex:te,...$});ee.innerHTML=fe,X+=$.str&&$.hasEOL?2:1})}N()}).catch(j),()=>hf(R)},[e,j,N,i,l,c,p,I]),o.jsx("div",{className:Mr("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:k,ref:y})}const WI=1;function q0e(r){const t={...A7(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:i,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:f,error:g="Failed to load the page.",height:p,inputRef:x,loading:y="Loading page",noData:b="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:N,onGetStructTreeError:j,onGetStructTreeSuccess:k,onGetTextError:T,onGetTextSuccess:I,onLoadError:M,onLoadSuccess:L,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:q,onRenderError:F,onRenderSuccess:R,onRenderTextLayerError:H,onRenderTextLayerSuccess:z,pageIndex:X,pageNumber:$,pdf:te,registerPage:ee,renderAnnotationLayer:fe=!0,renderForms:_e=!1,renderMode:re="canvas",renderTextLayer:U=!0,rotate:Y,scale:ne=WI,unregisterPage:oe,width:de,...he}=t,[Se,me]=yg(),{value:be,error:ge}=Se,le=S.useRef(null);gn(te);const je=Sh($)?$-1:X??null,Qe=$??(Sh(X)?X+1:null),G=Y??(be?be.rotate:null),Fe=S.useMemo(()=>{if(!be)return null;let $t=1;const Kt=ne??WI;if(de||p){const at=be.getViewport({scale:1,rotation:G});de?$t=de/at.width:p&&($t=p/at.height)}return Kt*$t},[p,be,G,ne,de]);S.useEffect(function(){return()=>{Sh(je)&&a&&oe&&oe(je)}},[a,te,je,oe]);function Je(){if(L){if(!be||!Fe)return;L(bS(be,Fe))}if(a&&ee){if(!Sh(je)||!le.current)return;ee(je,le.current)}}function et(){ge&&(ci(!1,ge.toString()),M&&M(ge))}S.useEffect(function(){me({type:"RESET"})},[me,te,je]),S.useEffect(function(){if(!te||!Qe)return;const Kt=Sy(te.getPage(Qe)),at=Kt;return Kt.promise.then(Mt=>{me({type:"RESOLVE",value:Mt})}).catch(Mt=>{me({type:"REJECT",error:Mt})}),()=>hf(at)},[me,te,Qe]),S.useEffect(()=>{if(be!==void 0){if(be===!1){et();return}Je()}},[be,Fe]);const $e=S.useMemo(()=>Sh(je)&&Qe&&Sh(G)&&Sh(Fe)?{_className:n,canvasBackground:s,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:w,onGetAnnotationsSuccess:N,onGetStructTreeError:j,onGetStructTreeSuccess:k,onGetTextError:T,onGetTextSuccess:I,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:q,onRenderError:F,onRenderSuccess:R,onRenderTextLayerError:H,onRenderTextLayerSuccess:z,page:be,pageIndex:je,pageNumber:Qe,renderForms:_e,renderTextLayer:U,rotate:G,scale:Fe}:null,[n,s,d,f,w,N,j,k,T,I,P,q,F,R,H,z,be,je,Qe,_e,U,G,Fe]),bt=S.useMemo(()=>i7(he,()=>be&&(Fe?bS(be,Fe):void 0)),[he,be,Fe]),tt=`${je}@${Fe}/${G}`;function mt(){switch(re){case"custom":return gn(u),o.jsx(u,{},`${tt}_custom`);case"none":return null;case"canvas":default:return o.jsx(H0e,{canvasRef:i},`${tt}_canvas`)}}function Nt(){return U?o.jsx(z0e,{},`${tt}_text`):null}function vt(){return fe?o.jsx(L0e,{},`${tt}_annotations`):null}function or(){function $t(at){return!!at?.page}if(!$t($e))throw new Error("page is undefined");const Kt=typeof l=="function"?l($e):l;return o.jsxs(d7.Provider,{value:$e,children:[mt(),Nt(),vt(),Kt]})}function Ht(){return Qe?te===null||be===void 0||be===null?o.jsx(Ym,{type:"loading",children:typeof y=="function"?y():y}):te===!1||be===!1?o.jsx(Ym,{type:"error",children:typeof g=="function"?g():g}):or():o.jsx(Ym,{type:"no-data",children:typeof b=="function"?b():b})}return o.jsx("div",{className:Mr(n,c),"data-page-number":Qe,ref:u7(x,le),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Fe}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...bt,children:Ht()})}k0e();_d.workerSrc="pdf.worker.mjs";const p7=({isOpen:r,onClose:e,pdfSource:t,fileName:n,title:a})=>{const[s,i]=S.useState(0),[l,c]=S.useState(1),[u,d]=S.useState(1),[f,g]=S.useState(""),[p,x]=S.useState(!0),[y,b]=S.useState(null);S.useEffect(()=>{if(!r)return;let q;return t instanceof Blob?q=URL.createObjectURL(t):q=t,g(q),x(!0),b(null),c(1),()=>{t instanceof Blob&&URL.revokeObjectURL(q)}},[t,r]),S.useEffect(()=>{if(!r)return;const q=F=>{F.key==="Escape"&&e(),F.key==="ArrowLeft"&&j(),F.key==="ArrowRight"&&k(),(F.key==="+"||F.key==="=")&&T(),(F.key==="-"||F.key==="_")&&I()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[r,l,s,u]);const w=({numPages:q})=>{i(q),x(!1),b(null)},N=q=>{er.error("PDF load error:",q),b("Failed to load PDF. Please try downloading it instead."),x(!1)},j=()=>{c(q=>Math.max(q-1,1))},k=()=>{c(q=>Math.min(q+1,s))},T=()=>{d(q=>Math.min(q+.25,3))},I=()=>{d(q=>Math.max(q-.25,.5))},M=()=>{d(1)},L=()=>{if(t instanceof Blob){const q=URL.createObjectURL(t),F=document.createElement("a");F.href=q,F.download=n,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(q)}else{const q=document.createElement("a");q.href=t,q.download=n,q.click()}Ce.success("PDF downloaded successfully")},P=q=>{const F=parseInt(q.target.value);F>=1&&F<=s&&c(F)};return r?o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:a||n}),a&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:n})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors ml-4","aria-label":"Close PDF viewer",children:o.jsx(br,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:I,disabled:u<=.5,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom Out (-)",children:o.jsx(DV,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-medium min-w-[60px] text-center text-gray-900 dark:text-white",children:[Math.round(u*100),"%"]}),o.jsx("button",{onClick:T,disabled:u>=3,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom In (+)",children:o.jsx(IV,{className:"w-4 h-4"})}),o.jsx("button",{onClick:M,className:"px-3 py-1 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-900 dark:text-white",title:"Reset Zoom",children:"Reset"})]}),!p&&s>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:j,disabled:l<=1,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Previous Page ()",children:o.jsx(mG,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",min:1,max:s,value:l,onChange:P,className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded text-center text-sm"}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["/ ",s]})]}),o.jsx("button",{onClick:k,disabled:l>=s,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Next Page ()",children:o.jsx(Km,{className:"w-4 h-4"})})]}),o.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(wu,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 p-4",children:[p&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4 mx-auto"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."})]})}),y&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:y}),o.jsx("button",{onClick:L,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Download PDF Instead"})]})}),!p&&!y&&f&&o.jsx("div",{className:"flex justify-center",children:o.jsx(I0e,{file:f,onLoadSuccess:w,onLoadError:N,loading:null,children:o.jsx(q0e,{pageNumber:l,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})})]})]})}):null},$0e=({attachments:r,onFilesAdded:e,onFileRemoved:t,maxFiles:n=$B.maxFiles,maxFileSize:a=$B.maxFileSize,allowMultiple:s=!0})=>{const[i,l]=S.useState(!1),[c,u]=S.useState(!1),[d,f]=S.useState(null),g=xa(),p=S.useCallback(T=>{T.preventDefault(),T.stopPropagation()},[]),x=S.useCallback(T=>{T.preventDefault(),T.stopPropagation(),T.dataTransfer.items&&T.dataTransfer.items.length>0&&l(!0)},[]),y=S.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1)},[]),b=async T=>{const I=Array.from(T);if(r.length+I.length>n){Ce.error(`Maximum ${n} files allowed`);return}const M=[];for(const L of I){if(L.size>a){Ce.error(`${L.name} exceeds maximum size of ${GB(a)}`);continue}if(!$B.allowedTypes.includes(L.type)){Ce.error(`${L.name} - File type not supported`);continue}const P=new FileReader;P.onload=()=>{const q={id:`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fileName:L.name,fileType:L.type,fileSize:L.size,fileExtension:hge(L.name),uploadedDate:new Date().toISOString(),uploadedBy:g?.id||"",uploadedByName:g?.name||"",fileData:P.result};M.push(q),M.length===I.length&&(e(M),Ce.success(`${M.length} file(s) uploaded successfully`))},P.onerror=()=>{Ce.error(`Error reading ${L.name}`)},P.readAsDataURL(L)}},w=S.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1);const I=T.dataTransfer.files;I&&I.length>0&&b(I)},[r.length,n,a,e]),N=T=>{T.target.files&&T.target.files.length>0&&b(T.target.files)},j=T=>T.startsWith("image/")?o.jsx(lb,{className:"w-5 h-5"}):T==="application/pdf"?o.jsx(za,{className:"w-5 h-5"}):T.includes("sheet")||T.includes("excel")?o.jsx(mV,{className:"w-5 h-5"}):o.jsx(IG,{className:"w-5 h-5"}),k=T=>{const I=document.createElement("a");I.href=T.fileData,I.download=T.fileName,I.click()};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{onDragEnter:x,onDragLeave:y,onDragOver:p,onDrop:w,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-primary-500 bg-indigo-50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,children:[o.jsx(vl,{className:`w-12 h-12 mx-auto mb-4 ${i?"text-primary-600":"text-gray-400"}`}),o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Drag & drop files here, or click to browse"}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["PDF, Images, Excel, Word (max ",GB(a),")"]}),o.jsx("input",{type:"file",multiple:s,accept:".pdf,.jpg,.jpeg,.png,.xlsx,.xls,.docx,.doc",onChange:N,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 cursor-pointer transition-colors",children:[o.jsx(vl,{className:"w-4 h-4"}),"Choose Files"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.length," / ",n," files uploaded"]})]}),r.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Attached Files (",r.length,")"]}),o.jsx("div",{className:"space-y-2",children:r.map(T=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:j(T.fileType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:T.fileName}),o.jsxs("p",{className:"text-xs text-gray-500",children:[GB(T.fileSize),"  ",new Date(T.uploadedDate).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[T.fileType==="application/pdf"&&o.jsxs("button",{onClick:()=>{f(T),u(!0)},className:"px-3 py-1 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(sA,{className:"w-3 h-3"}),"Preview"]}),o.jsxs("button",{onClick:()=>k(T),className:"px-3 py-1 text-xs font-medium text-primary-600 hover:bg-indigo-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(wu,{className:"w-3 h-3"}),"Download"]}),o.jsx("button",{onClick:()=>t(T.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove file",children:o.jsx(br,{className:"w-4 h-4"})})]})]},T.id))})]}),c&&d&&o.jsx(p7,{isOpen:c,onClose:()=>{u(!1),f(null)},pdfSource:d.fileData,fileName:d.fileName,title:`Preview: ${d.fileName}`})]})},G0e=({value:r,onChange:e,disabled:t,className:n})=>{const a=[{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"THB",name:"Thai Baht",symbol:""},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"PHP",name:"Philippine Peso",symbol:""},{code:"VND",name:"Vietnamese Dong",symbol:""},{code:"BND",name:"Brunei Dollar",symbol:"B$"},{code:"INR",name:"Indian Rupee",symbol:""},{code:"CNY",name:"Chinese Yuan",symbol:""},{code:"JPY",name:"Japanese Yen",symbol:""},{code:"KRW",name:"South Korean Won",symbol:""},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"}];return o.jsx("select",{value:r,onChange:s=>e(s.target.value),disabled:t,className:n||"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",children:a.map(s=>o.jsxs("option",{value:s.code,children:[s.code," - ",s.name," (",s.symbol,")"]},s.code))})},V0e=({isOpen:r,onClose:e})=>{const[t,n]=S.useState({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""}),[a,s]=S.useState(!1),[i,l]=S.useState(1),[c,u]=S.useState(0),{projects:d,fetchProjects:f}=Fa(),{clients:g,fetchClients:p}=gc();if(S.useEffect(()=>{r&&(p(),f())},[r,p,f]),S.useEffect(()=>{(async()=>{if(t.currency!=="MYR"&&t.amount)try{const w=await _t.convertCurrency(parseFloat(t.amount),t.currency);l(w.rate),u(w.amountMYR)}catch(w){er.error("Failed to fetch exchange rate:",w),l(1),u(parseFloat(t.amount)||0)}else l(1),u(parseFloat(t.amount)||0)})()},[t.currency,t.amount]),S.useEffect(()=>{if(t.projectId&&d.length>0&&g.length>0){const b=d.find(w=>w.id===t.projectId);if(b&&b.clientId){const w=g.find(N=>N.id===b.clientId);w&&t.clientId!==b.clientId&&n(N=>({...N,clientId:b.clientId,clientName:w.name||""}))}}},[t.projectId,d,g]),!r)return null;const x=async b=>{if(b.preventDefault(),!t.poNumber||!t.clientId||!t.amount||!t.receivedDate){Ce.error("Please fill in all required fields");return}s(!0);try{const w=await _t.createPurchaseOrder({poNumber:t.poNumber,clientName:t.clientName,projectCode:t.projectCode||"",amount:parseFloat(t.amount),currency:t.currency,receivedDate:t.receivedDate,dueDate:t.dueDate||void 0,description:t.description||void 0});er.debug("PO created successfully:",w),w.projectStatusUpdated?Ce.success(`PO ${t.poNumber} created successfully! Project ${t.projectCode} status updated to 'ongoing'.`,{duration:5e3}):Ce.success(`PO ${t.poNumber} created successfully!`),await f(),e(),n({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""})}catch(w){er.error("Failed to create PO:",w);const N=w?.response?.data?.error||"Failed to create purchase order";Ce.error(N)}finally{s(!1)}},y=b=>{n({...t,[b.target.name]:b.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Received PO"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:x,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:t.poNumber,onChange:y,required:!0,placeholder:"e.g., PO-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:t.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,name:"projectId",value:t.projectId,onChange:b=>{const w=d.find(N=>N.id===b.target.value);b.target.value===""?n({...t,projectId:"",projectCode:"",clientId:"",clientName:""}):n({...t,projectId:b.target.value,projectCode:w?.projectCode||""})},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),d.filter(b=>b.status==="pre-lim").map(b=>o.jsxs("option",{value:b.id,children:[b.projectCode," - ",b.title]},b.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:y,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),o.jsx(G0e,{value:t.currency,onChange:b=>n({...t,currency:b})})]}),t.currency!=="MYR"&&t.amount&&o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[" RM ",c.toFixed(2)," (Rate: ",i.toFixed(6),")"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:t.receivedDate,onChange:y,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:t.dueDate,onChange:y,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:t.description,onChange:y,rows:3,placeholder:"Brief description of the PO items/services...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(vl,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Add Received PO"})]})]})]})})},W0e=({isOpen:r,onClose:e})=>{const{projects:t,fetchProjects:n}=Fa(),{clients:a,fetchClients:s}=gc(),[i,l]=S.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",clientId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),[c,u]=S.useState(null),[d,f]=S.useState(!1),[g,p]=S.useState(!1);S.useEffect(()=>{r&&(s(),n())},[r,s,n]),S.useEffect(()=>{r&&!i.invoiceNumber&&x()},[r]),S.useEffect(()=>{i.projectCode&&i.projectCode.trim()?y(i.projectCode.trim()):u(null)},[i.projectCode]),S.useEffect(()=>{if(i.projectId&&t.length>0&&a.length>0){const N=t.find(j=>j.id===i.projectId);if(N&&N.clientId){const j=a.find(k=>k.id===N.clientId);j&&i.clientId!==N.clientId&&l(k=>({...k,clientId:N.clientId,clientName:j.name||""}))}}},[i.projectId,t,a]);const x=async()=>{try{const N=await Zt.getNextInvoiceNumber();l(j=>({...j,invoiceNumber:N}))}catch(N){er.error("Error loading next invoice number:",N)}},y=async N=>{f(!0);try{const j=await Zt.getInvoiceProjectContext(N);u(j)}catch(j){er.error("Error loading project context:",j),u(null)}finally{f(!1)}};if(!r)return null;const b=async N=>{N.preventDefault(),p(!0);try{const j={invoice_number:i.invoiceNumber,project_id:i.projectId,project_name:i.projectName,project_code:i.projectCode,client_id:i.clientId,client_name:i.clientName,amount:parseFloat(i.amount),percentage_of_total:parseFloat(i.percentageOfTotal),issue_date:i.issueDate,due_date:i.dueDate,description:i.description,remark:i.remark};await Zt.createInvoice(j),Ce.success(`Invoice ${i.invoiceNumber} created successfully!`),l({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",clientId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),u(null),e()}catch(j){er.error("Error creating invoice:",j),Ce.error(j.message||"Failed to create invoice")}finally{p(!1)}},w=N=>{l({...i,[N.target.name]:N.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Invoice"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:b,className:"p-6 space-y-5",children:[c&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(hj,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Project Invoice History"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:c.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[c.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[c.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:c.nextSequence||1})]})]}),c.totalInvoiced>=100&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-700",children:[o.jsx(Aj,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Project already at 100%"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:i.invoiceNumber,onChange:w,required:!0,placeholder:"e.g., MCE1548",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:i.projectId,onChange:N=>{const j=t.find(k=>k.id===N.target.value);N.target.value===""?l({...i,projectId:"",projectCode:"",projectName:"",clientId:"",clientName:""}):l({...i,projectId:N.target.value,projectCode:j?.projectCode||"",projectName:j?.title||""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),t.filter(N=>N.status==="ongoing").map(N=>o.jsxs("option",{value:N.id,children:[N.projectCode," - ",N.title]},N.id))]}),d&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading project context..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"projectName",value:i.projectName,onChange:w,required:!0,placeholder:"Project title",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:i.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:w,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:i.percentageOfTotal,onChange:w,required:!0,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",c.remainingPercentage,"% remaining"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:i.issueDate,onChange:w,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Due Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"dueDate",value:i.dueDate,onChange:w,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:i.description,onChange:w,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:i.remark,onChange:w,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(vl,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach Invoice Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the invoice, you can upload the PDF document in the invoice details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Creating...":"Create Invoice"})]})]})]})})},Y0e=({isOpen:r,onClose:e,onSuccess:t})=>{const{projects:n,fetchProjects:a}=Fa(),{clients:s,fetchClients:i}=gc(),[l,c]=S.useState(!1),[u,d]=S.useState(null),[f,g]=S.useState({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""});if(S.useEffect(()=>{r&&(i(),a())},[r,i,a]),!r)return null;const p=async y=>{y.preventDefault(),c(!0),d(null);try{const b={poNumber:f.poNumber,vendor:f.vendorName,items:f.description,amount:parseFloat(f.amount),currency:"MYR",projectCode:f.projectCode||null,status:"issued"};await _t.createIssuedPO(b),Ce.success(`Issued PO ${f.poNumber} created successfully!`),g({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""}),t&&t(),e()}catch(b){d(b.response?.data?.error||b.message||"Failed to create Issued PO"),Ce.error("Failed to create Issued PO")}finally{c(!1)}},x=y=>{g({...f,[y.target.name]:y.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Issue PO to Vendor"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(br,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:f.poNumber,onChange:x,required:!0,placeholder:"e.g., PO-OUT-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"vendorId",value:f.vendorId,onChange:y=>{const b=s.find(w=>w.id===y.target.value);g({...f,vendorId:y.target.value,vendorName:b?.name||""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a vendor"}),s.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code (Optional)"}),o.jsxs("select",{name:"projectId",value:f.projectId,onChange:y=>{const b=n.find(w=>w.id===y.target.value);g({...f,projectId:y.target.value,projectCode:b?.projectCode||""})},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"None (Non-project purchase)"}),n.filter(y=>y.status==="pre-lim").map(y=>o.jsxs("option",{value:y.id,children:[y.projectCode," - ",y.title]},y.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for non-project purchases (e.g., stationery, appliances)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:f.amount,onChange:x,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:f.issueDate,onChange:x,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"deliveryDate",value:f.deliveryDate,onChange:x,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Items / Description"}),o.jsx("textarea",{name:"description",value:f.description,onChange:x,rows:3,placeholder:"List of items/services being purchased...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:u})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(vl,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Issue PO"})]})]})]})})},X0e=({isOpen:r,po:e,onClose:t,onSave:n})=>{const{projects:a,fetchProjects:s}=Fa(),{clients:i,fetchClients:l}=gc(),[c,u]=S.useState({poNumber:e?.po_number||"",projectId:"",projectCode:e?.project_code||"",clientId:"",clientName:e?.client_name||"",amount:e?.amount?.toString()||"",receivedDate:e?.received_date||"",dueDate:e?.due_date||"",description:e?.description||"",status:e?.status||"received",fileUrl:e?.file_url||""}),[d,f]=S.useState(null),[g,p]=S.useState(!1);if(S.useEffect(()=>{r&&(l(),s())},[r,l,s]),!r)return null;const x=async y=>{y.preventDefault(),p(!0);try{let b=c.fileUrl;d&&(b=(await Rs.uploadProjectPO(e.id,d)).fileUrl);const w={po_number:c.poNumber,project_id:c.projectId,project_code:c.projectCode,client_id:c.clientId,client_name:c.clientName,amount:parseFloat(c.amount),received_date:c.receivedDate,due_date:c.dueDate,description:c.description,status:c.status,file_url:b};await n(w),t()}catch(b){er.error("Error updating PO:",b)}finally{p(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Purchase Order"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),o.jsx("input",{type:"text",value:c.poNumber,onChange:y=>u(b=>({...b,poNumber:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Code"}),o.jsx("input",{type:"text",value:c.projectCode,onChange:y=>u(b=>({...b,projectCode:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),o.jsxs("select",{value:c.clientId,onChange:y=>{const b=y.target.value,w=i.find(N=>N.id===b);u(N=>({...N,clientId:b,clientName:w?.name||""}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Client"}),i.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),o.jsx("input",{type:"number",step:"0.01",value:c.amount,onChange:y=>u(b=>({...b,amount:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),o.jsx("input",{type:"date",value:c.receivedDate,onChange:y=>u(b=>({...b,receivedDate:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",value:c.dueDate,onChange:y=>u(b=>({...b,dueDate:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:c.status,onChange:y=>u(b=>({...b,status:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:y=>u(b=>({...b,description:y.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Replace File (Optional)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:y=>f(y.target.files?.[0]||null),className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[o.jsx(vl,{className:"w-4 h-4"}),o.jsx("span",{children:d?d.name:"Choose File"})]}),c.fileUrl&&!d&&o.jsx("span",{className:"text-sm text-gray-500",children:"Current file uploaded"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[o.jsx($D,{className:"w-4 h-4"}),g?"Saving...":"Update PO"]})]})]})]})})},J0e=({isOpen:r,po:e,onClose:t})=>!r||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Purchase Order Details"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.po_number||e.poNumber})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(br,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[(e.project_code||e.projectCode)&&o.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Project"}),o.jsxs("p",{className:"text-lg font-semibold text-primary-600",children:[e.project_code||e.projectCode," - ",e.project?.title||"No project"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Client"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.client_name||e.clientName||e.vendor})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),o.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:[e.currency," ",e.amount?.toLocaleString()||"0.00"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:e.received_date?"Received Date":"Issue Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.received_date?new Date(e.received_date).toLocaleDateString():e.issueDate?new Date(e.issueDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Due Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.due_date||e.dueDate?new Date(e.due_date||e.dueDate).toLocaleDateString():"N/A"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.status})]}),e.description&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.description})]}),e.category&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.category})]}),e.file_url&&o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Attached Document"}),o.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[o.jsx(za,{className:"w-4 h-4"}),"View Document"]})]})]}),o.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})}),YI={received:{label:"Received",color:"bg-blue-100 text-blue-800",icon:za},"in-progress":{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:as},invoiced:{label:"Invoiced",color:"bg-purple-100 text-purple-800",icon:za},paid:{label:"Paid",color:"bg-green-100 text-green-800",icon:is},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:Uv},draft:{label:"Draft",color:"bg-gray-100 text-gray-800",icon:za},sent:{label:"Sent",color:"bg-blue-100 text-blue-800",icon:is},viewed:{label:"Viewed",color:"bg-primary-100 text-indigo-800",icon:is},overdue:{label:"Overdue",color:"bg-red-100 text-red-800",icon:Uv},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:as},approved:{label:"Approved",color:"bg-green-100 text-green-800",icon:is},rejected:{label:"Rejected",color:"bg-red-100 text-red-800",icon:Uv}};function R4(r){return YI[r]||YI.pending}function nw(r){if(!r)return"N/A";try{return new Date(r).toLocaleDateString()}catch{return"Invalid Date"}}const Z0e=S.memo(({receivedPOs:r,searchQuery:e,canUpload:t,onViewDocument:n,onAttachDocument:a,onEditPO:s,onViewDetails:i})=>{const l=r.filter(c=>{const u=e.toLowerCase();return u?c.po_number?.toLowerCase().includes(u)||c.client_name?.toLowerCase().includes(u)||c.project_code?.toLowerCase().includes(u)||c.project?.title?.toLowerCase().includes(u):!0});return!Array.isArray(r)||r.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No purchase orders found"})}):o.jsx("div",{className:"space-y-4",children:l.map(c=>{const u=R4(c.status),d=u.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.po_number}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${u.color}`,children:[o.jsx(d,{className:"w-3 h-3"}),u.label]}),c.file_url&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx(za,{className:"w-3 h-3"}),"Document"]}),c.attachments?.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(Lk,{className:"w-3 h-3"}),c.attachments.length]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c.currency," ",c.amount.toLocaleString()]})]}),c.project_code?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[c.project_code," - ",c.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:c.client_name}),c.description&&o.jsx("p",{className:"text-sm text-gray-500",children:c.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:nw(c.received_date)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:nw(c.due_date)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Amount"}),o.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["RM ",c.amount?.toLocaleString()||"0.00"]})]})]}),c.file_url&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("button",{onClick:()=>n(c),className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-800 font-medium",children:[o.jsx(sA,{className:"w-4 h-4"}),"View Document"]})}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[o.jsxs("button",{onClick:()=>a(c.id),className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[o.jsx(Lk,{className:"w-4 h-4"}),"Attach Document"]}),o.jsxs("div",{className:"flex gap-2",children:[t&&o.jsxs("button",{onClick:()=>s(c),className:"px-3 py-1.5 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 flex items-center gap-1.5",children:[o.jsx(cA,{className:"w-4 h-4"}),"Edit PO"]}),c.status==="in-progress"&&o.jsx("button",{onClick:()=>Ce.success("Create Invoice - Coming Soon"),className:"px-3 py-1.5 bg-primary-600 text-white text-sm rounded-lg hover:bg-primary-700",disabled:!0,children:"Create Invoice"}),o.jsx("button",{onClick:()=>i(c),className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200",children:"View Details"})]})]})]},c.id)})})}),eye=({invoices:r,searchQuery:e,onViewPDF:t})=>{const n=r.filter(a=>{const s=e.toLowerCase();return s?a.invoiceNumber?.toLowerCase().includes(s)||a.clientName?.toLowerCase().includes(s)||a.projectCode?.toLowerCase().includes(s)||a.project?.title?.toLowerCase().includes(s):!0});return!Array.isArray(r)||r.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No invoices found"})}):o.jsx("div",{className:"space-y-4",children:n.map(a=>{const s=R4(a.status),i=s.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color}`,children:[o.jsx(i,{className:"w-3 h-3"}),s.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.currency||"MYR"," ",(a.amount||0).toLocaleString()]})]}),a.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[a.projectCode," - ",a.projectName||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Progress: ",a.percentageOfTotal,"% (Invoice #",a.invoiceSequence,")"]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Cumulative: ",a.cumulativePercentage,"%"]}),a.remark&&o.jsxs("span",{children:[" ",a.remark]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:nw(a.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:a.status||"draft"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Project"}),o.jsx("p",{className:"text-sm font-medium text-primary-600",children:a.projectCode})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 pt-4 border-t border-gray-100",children:[o.jsxs("button",{onClick:()=>t(a.id,a.invoiceNumber),className:"px-3 py-1.5 bg-primary-100 text-primary-700 text-sm rounded-lg hover:bg-primary-200 flex items-center gap-1.5",children:[o.jsx(sA,{className:"w-4 h-4"}),"View PDF"]}),a.status==="sent"&&o.jsx("button",{onClick:()=>Ce.success("Marked as Paid - Coming Soon"),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",disabled:!0,children:"Mark as Paid"})]})]},a.id)})})},tye=({issuedPOs:r,searchQuery:e,canApprove:t,onViewPDF:n})=>{const a=r.filter(s=>{const i=e.toLowerCase();return i?s.poNumber?.toLowerCase().includes(i)||s.vendor?.toLowerCase().includes(i)||s.projectCode?.toLowerCase().includes(i)||s.project?.title?.toLowerCase().includes(i):!0});return!Array.isArray(r)||r.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No issued POs found"})}):o.jsx("div",{className:"space-y-4",children:a.map(s=>{const i=R4(s.status),l=i.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.poNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${i.color}`,children:[o.jsx(l,{className:"w-3 h-3"}),i.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.currency," ",s.amount.toLocaleString()]})]}),s.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[s.projectCode," - ",s.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s.vendor}),o.jsxs("div",{className:"flex items-center gap-4",children:[s.description&&o.jsx("p",{className:"text-sm text-gray-500",children:s.description}),s.category&&o.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:[" ",s.category]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",nw(s.issueDate)]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>n(s.id,s.poNumber),className:"px-3 py-1.5 bg-primary-100 text-primary-700 text-sm rounded-lg hover:bg-primary-200 flex items-center gap-1.5",children:[o.jsx(sA,{className:"w-4 h-4"}),"View PDF"]}),s.status==="pending"&&t&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Ce.success(`PO ${s.poNumber} - Coming Soon`),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",disabled:!0,children:"Approve"}),o.jsx("button",{onClick:()=>Ce.error(`PO ${s.poNumber} - Coming Soon`),className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700",disabled:!0,children:"Reject"})]})]})]})]},s.id)})})},rye=()=>{const r=xa(),e=r&&Ac(r.role,"canAccessFinance"),t=r&&Ac(r.role,"canUploadPO"),n=r&&Ac(r.role,"canApproveInvoices"),{updatePurchaseOrder:a}=bH(),[s,i]=S.useState("received-pos"),[l,c]=S.useState(""),[u,d]=S.useState(!1),[f,g]=S.useState(null),[p,x]=S.useState(!1),[y,b]=S.useState(!1),[w,N]=S.useState(!1),[j,k]=S.useState(!1),[T,I]=S.useState(null),[M,L]=S.useState(!1),[P,q]=S.useState(!1),[F,R]=S.useState(""),[H,z]=S.useState(""),[X,$]=S.useState(""),[te,ee]=S.useState([]),[fe,_e]=S.useState([]),[re,U]=S.useState([]),[Y,ne]=S.useState(!1);S.useEffect(()=>{oe()},[s]);const oe=async()=>{ne(!0);try{if(s==="received-pos"){const G=await Zt.getAllPurchaseOrders(),Fe=Array.isArray(G)?G:G.data||[];ee(Fe)}else if(s==="invoices"){const G=await Zt.getAllInvoices();_e(G||[])}else if(s==="issued-pos"){const G=await Zt.getAllIssuedPOs();U(G||[])}}catch(G){er.error("Error loading data:",G),Ce.error(G.message||"Failed to load data")}finally{ne(!1)}};if(!e)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Uv,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:oA("access finance","senior")})]})});const de=()=>{if(!t){Ce.error(oA("upload PO","senior"));return}switch(s){case"received-pos":x(!0);break;case"invoices":b(!0);break;case"issued-pos":N(!0);break}},he=(G,Fe)=>{Ce.success(`${Fe.length} file(s) uploaded successfully!`),d(!1),g(null)},Se=(G,Fe)=>{Ce.success("File removed successfully")},me=async(G,Fe)=>{try{const Je=await Zt.downloadInvoicePDF(G);R(Je),z(`invoice-${Fe}.pdf`),$(`Invoice - ${Fe}`),q(!0)}catch(Je){er.error("Error loading invoice PDF:",Je),Ce.error("Failed to load invoice PDF")}},be=async(G,Fe)=>{try{const Je=await Zt.downloadIssuedPOPDF(G);R(Je),z(`po-${Fe}.pdf`),$(`Issued PO - ${Fe}`),q(!0)}catch(Je){er.error("Error loading PO PDF:",Je),Ce.error("Failed to load PO PDF")}},ge=G=>{G.file_url?(R(G.file_url),z(`PO-${G.po_number}.pdf`),$(`Purchase Order - ${G.po_number}`),q(!0)):Ce.error("No document available")},le=G=>{g(G),d(!0)},je=G=>{I(G),k(!0)},Qe=G=>{I(G),L(!0)};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx(za,{className:"w-8 h-8 text-primary-600"}),"Finance Documents"]}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage POs, invoices, and financial documents"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>Ce.success("Export - Coming Soon"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:!0,children:[o.jsx(wu,{className:"w-4 h-4"}),"Export"]}),o.jsxs("button",{onClick:de,disabled:!t,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${t?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx(Vs,{className:"w-4 h-4"}),"Create New"]})]})]})}),o.jsx(dge,{activeTab:s,onTabChange:i,receivedPOCount:te.length,invoiceCount:fe.length,issuedPOCount:re.length}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(AA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search PO number, client, or project...",value:l,onChange:G=>c(G.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),l&&o.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(br,{className:"w-4 h-4"})})]})})}),Y?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs(o.Fragment,{children:[s==="received-pos"&&o.jsx(Z0e,{receivedPOs:te,searchQuery:l,canUpload:t,onViewDocument:ge,onAttachDocument:le,onEditPO:je,onViewDetails:Qe}),s==="invoices"&&o.jsx(eye,{invoices:fe,searchQuery:l,onViewPDF:me}),s==="issued-pos"&&o.jsx(tye,{issuedPOs:re,searchQuery:l,canApprove:n,onViewPDF:be})]}),u&&f&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Documents"})}),o.jsx("div",{className:"p-6",children:o.jsx($0e,{attachments:[],onFilesAdded:G=>he(f,G),onFileRemoved:G=>Se()})}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{d(!1),g(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"}),o.jsx("button",{onClick:()=>{d(!1),g(null)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})]})]})}),o.jsx(V0e,{isOpen:p,onClose:()=>{x(!1),oe()}}),o.jsx(W0e,{isOpen:y,onClose:()=>{b(!1),oe()}}),o.jsx(Y0e,{isOpen:w,onClose:()=>{N(!1),oe()}}),j&&T&&o.jsx(X0e,{isOpen:j,po:T,onClose:()=>k(!1),onSave:async G=>{try{await Zt.updatePurchaseOrder(T.id,G),await oe(),k(!1),Ce.success("PO updated successfully!")}catch(Fe){er.error("Error updating PO:",Fe),Ce.error(Fe.response?.data?.message||"Failed to update PO"),k(!1)}}}),M&&T&&o.jsx(J0e,{isOpen:M,po:T,onClose:()=>{L(!1),I(null)}}),o.jsx(p7,{isOpen:P,onClose:()=>{q(!1),R(""),z(""),$("")},pdfSource:F,fileName:H,title:X})]})})},nye={USD:"US Dollar",EUR:"Euro",GBP:"British Pound",JPY:"Japanese Yen",AUD:"Australian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc",NZD:"New Zealand Dollar",SGD:"Singapore Dollar",THB:"Thai Baht",IDR:"Indonesian Rupiah",PHP:"Philippine Peso",VND:"Vietnamese Dong",MMK:"Myanmar Kyat",BND:"Brunei Dollar",KHR:"Cambodian Riel",LAK:"Lao Kip",INR:"Indian Rupee",HKD:"Hong Kong Dollar",KRW:"South Korean Won",TWD:"Taiwan Dollar",CNY:"Chinese Yuan",SEK:"Swedish Krona",NOK:"Norwegian Krone",DKK:"Danish Krone"},aye=["USD","EUR","GBP","JPY","AUD","CAD","CHF","SGD","THB","IDR","PHP","VND","MMK","BND","KHR","LAK","INR","HKD","KRW","TWD","CNY"],sye=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!1),[a,s]=S.useState(null),[i,l]=S.useState(null),c=S.useCallback(async()=>{n(!0),s(null);try{const u=new AbortController,d=setTimeout(()=>u.abort(),15e3),f=await fetch(`https://api.frankfurter.app/latest?from=MYR&to=${aye.join(",")}`,{signal:u.signal});if(clearTimeout(d),!f.ok)throw new Error(`API error: ${f.status}`);const g=await f.json();if(!g.rates)throw new Error("Invalid response from API");const p=Object.entries(g.rates).map(([x,y])=>({currency:x,rate:1/y,name:nye[x]||x}));p.sort((x,y)=>x.currency.localeCompare(y.currency)),e(p),l(g.date),Ce.success("Exchange rates updated")}catch(u){u.name==="AbortError"?s("Request timed out. Please try again."):s(u.message||"Failed to fetch exchange rates"),console.error("Error fetching exchange rates:",u)}finally{n(!1)}},[]);return S.useEffect(()=>{c()},[c]),o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Exchange Rates"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Live currency conversion rates to MYR (Malaysian Ringgit)"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-2 text-emerald-600",children:[o.jsx(V0,{className:"w-8 h-8"}),o.jsx(eN,{className:"w-8 h-8"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(RG,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Frankfurter API"}),o.jsx("p",{className:"text-xs text-gray-500",children:"European Central Bank data"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(ns,{className:"w-4 h-4"}),o.jsxs("span",{children:["Date: ",i]})]}),o.jsxs("button",{onClick:c,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[o.jsx(Sw,{className:`w-4 h-4 ${t?"animate-spin":""}`}),t?"Loading...":"Refresh"]})]})]})}),a&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[o.jsx(Ss,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:a}),o.jsx("button",{onClick:c,className:"ml-auto text-sm underline hover:no-underline",children:"Retry"})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Exchange Rates to MYR"}),t&&r.length===0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((u,d)=>o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 animate-pulse",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-28"})]},d))}):r.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(eN,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No exchange rates available"}),o.jsx("button",{onClick:c,className:"mt-3 text-emerald-600 hover:underline",children:"Click to fetch rates"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map(u=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:u.currency}),o.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:u.name})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["1 ",u.currency," ="]}),o.jsxs("div",{className:"text-xl font-semibold text-emerald-600",children:["MYR ",u.rate.toFixed(4)]})]},u.currency))})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Exchange rates are from the"," ",o.jsx("a",{href:"https://www.frankfurter.app/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"Frankfurter API"})," ","(European Central Bank data). Rates are updated daily on business days."]})})]})},iye=()=>{const{user:r}=Qd(),{projects:e,timesheets:t,fetchProjects:n,fetchTimesheets:a}=Fa(),{clients:s,fetchClients:i}=gc(),[l,c]=S.useState(new Date().getFullYear()),[u,d]=S.useState(null),[f,g]=S.useState(!1);S.useEffect(()=>{n(),a(),i()},[]);const p=S.useMemo(()=>r?(Array.isArray(t)?t:[]).filter(L=>L.engineerId===r.id):[],[t,r?.id]),x=S.useMemo(()=>r?e.filter(L=>L.engineerId===r.id):[],[e,r?.id]),y=S.useMemo(()=>l==="all"?p:p.filter(L=>new Date(L.date).getFullYear()===l),[p,l]),b=S.useMemo(()=>{const L=y.reduce((F,R)=>F+parseFloat(R.hours.toString()||"0"),0),P=new Set(y.map(F=>F.projectId.toString())).size,q=P>0?L/P:0;return{totalHours:L,projectsWorkedOn:P,avgHoursPerProject:q}},[y]),w=S.useMemo(()=>{const L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],P={};return L.forEach(q=>{P[q]={}}),y.forEach(q=>{const F=new Date(q.date),R=L[F.getMonth()],z=e.find(X=>X.id===q.projectId.toString())?.projectCode||"Unknown";P[R][z]||(P[R][z]=0),P[R][z]+=parseFloat(q.hours.toString()||"0")}),L.map(q=>({name:q,...P[q]}))},[y,e]),N=S.useMemo(()=>{const L=new Set;return y.forEach(P=>{const q=e.find(F=>F.id===P.projectId.toString());q&&L.add(q.projectCode)}),Array.from(L)},[y,e]),j=S.useMemo(()=>{const L=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0","#34a853","#ff6d00","#ab47bc"],P={};return N.forEach((q,F)=>{P[q]=L[F%L.length]}),P},[N]);S.useMemo(()=>{const L={},P=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0"];return y.forEach(q=>{const F=e.find(R=>R.id===q.projectId.toString());F&&(L[F.id]||(L[F.id]={name:F.projectCode,hours:0,color:P[Object.keys(L).length%P.length]}),L[F.id].hours+=parseFloat(q.hours.toString()||"0"))}),Object.values(L).sort((q,F)=>F.hours-q.hours).slice(0,5)},[y,e]);const k=S.useMemo(()=>{const L={engineering:0,"project-management":0,"measurement-site":0,"measurement-office":0};y.forEach(F=>{L[F.workCategory]+=parseFloat(F.hours.toString()||"0")});const P=Object.values(L).reduce((F,R)=>F+R,0),q={engineering:"#00bfb3","project-management":"#4285f4","measurement-site":"#fbbc04","measurement-office":"#ea4335"};return[{name:"Engineering",value:L.engineering,percentage:P>0?L.engineering/P*100:0,color:q.engineering},{name:"Project Mgmt",value:L["project-management"],percentage:P>0?L["project-management"]/P*100:0,color:q["project-management"]},{name:"Measurement (Site)",value:L["measurement-site"],percentage:P>0?L["measurement-site"]/P*100:0,color:q["measurement-site"]},{name:"Measurement (Office)",value:L["measurement-office"],percentage:P>0?L["measurement-office"]/P*100:0,color:q["measurement-office"]}].filter(F=>F.value>0)},[y]),T=S.useMemo(()=>x.map(L=>{const P=y.filter(q=>q.projectId===L.id).reduce((q,F)=>q+F.hours,0);return{...L,hoursWorked:P}}),[x,y]),I=L=>{d(L),g(!0)},M=[new Date().getFullYear()-2,new Date().getFullYear()-1,new Date().getFullYear()];return o.jsxs("div",{className:"min-h-full bg-gray-50 p-4 md:p-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Your personal work progress and statistics"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[o.jsx(ns,{className:"w-4 h-4 text-gray-600 ml-2"}),o.jsxs("select",{value:l,onChange:L=>c(L.target.value==="all"?"all":parseInt(L.target.value)),className:"px-3 py-2 bg-transparent border-0 rounded font-medium text-gray-900 focus:ring-2 focus:ring-primary-500",children:[M.map(L=>o.jsx("option",{value:L,children:L},L)),o.jsx("option",{value:"all",children:"All Time"})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-cyan-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Hours"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.totalHours.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours tracked"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(as,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-blue-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.projectsWorkedOn}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"projects worked on"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(iA,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-green-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Hours/Project"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.avgHoursPerProject.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours per project"})]}),o.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:o.jsx(V0,{className:"w-6 h-6 text-green-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Hours"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours tracked each month by project"})]}),o.jsx(Hb,{width:"100%",height:300,children:o.jsxs(Ufe,{data:w,margin:{top:5,right:20,left:-20,bottom:5},children:[o.jsx(G8,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),o.jsx(V8,{dataKey:"name",tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(W8,{tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(Qb,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},formatter:(L,P)=>[`${L} hrs`,P]}),o.jsx(Yw,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"rect"}),N.map(L=>o.jsx(R8,{dataKey:L,stackId:"hours",fill:j[L],radius:[0,0,0,0]},L))]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Work by Category"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time spent on different work types"})]}),o.jsx(Hb,{width:"100%",height:300,children:o.jsxs(iS,{children:[o.jsx($b,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:k.map((L,P)=>o.jsx(cf,{fill:L.color},`cell-${P}`))}),o.jsx(Qb,{formatter:L=>`${L} hrs`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:k.map((L,P)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:L.color}}),o.jsx("span",{className:"text-gray-700",children:L.name})]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[L.percentage.toFixed(0),"%"]})]},P))})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects you're assigned to"})]})}),T.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(iA,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned yet"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"My Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map(L=>{const P=s.find(F=>F.id===L.clientId),q=L.plannedHours>0?(L.actualHours||0)/L.plannedHours*100:0;return o.jsxs("tr",{onClick:()=>I(L),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:L.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:L.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:P?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min(q,100)}%`}})}),o.jsxs("span",{className:"font-semibold text-gray-900 w-8 text-right text-xs",children:[q.toFixed(0),"%"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-medium text-primary-600",children:[L.hoursWorked," hrs"]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${L.status==="ongoing"?"bg-blue-50 text-blue-700":L.status==="completed"?"bg-emerald-50 text-emerald-700":L.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:L.status==="pre-lim"?"Preliminary":L.status.charAt(0).toUpperCase()+L.status.slice(1)})})]},L.id)})})]})})]})]}),f&&u&&o.jsx(yj,{project:u,isOpen:f,onClose:()=>{g(!1),d(null)}})]})},oye=()=>o.jsx(iye,{}),lye=r=>{const[e,t]=S.useState([]),[n,a]=S.useState(!1),[s,i]=S.useState(null),{projects:l}=Fa();return S.useEffect(()=>{(async()=>{a(!0),i(null);try{const u=[];l.forEach(d=>{if(!(r?.projectIds&&!r.projectIds.includes(d.id))&&!(r?.statuses&&!r.statuses.includes(d.status))){if(d.leadEngineerId){const f=d.leadEngineer?.name||d.leadEngineerName||"Unknown Engineer";u.push({engineerId:d.leadEngineerId,engineerName:f,projectId:d.id,projectCode:d.projectCode,projectTitle:d.title,role:"lead-engineer",status:d.status,startDate:d.startDate?new Date(d.startDate).toLocaleDateString():void 0,endDate:d.completionDate?new Date(d.completionDate).toLocaleDateString():void 0})}if(d.managerId&&d.managerId!==d.leadEngineerId){const f=d.manager?.name||d.managerName||"Unknown Manager";u.push({engineerId:d.managerId,engineerName:f,projectId:d.id,projectCode:d.projectCode,projectTitle:d.title,role:"manager",status:d.status,startDate:d.startDate?new Date(d.startDate).toLocaleDateString():void 0,endDate:d.completionDate?new Date(d.completionDate).toLocaleDateString():void 0})}if(d.engineerId&&d.engineerId!==d.leadEngineerId){const f=d.engineer?.name||d.engineerName||"Unknown Engineer";u.push({engineerId:d.engineerId,engineerName:f,projectId:d.id,projectCode:d.projectCode,projectTitle:d.title,role:"engineer",status:d.status,startDate:d.startDate?new Date(d.startDate).toLocaleDateString():void 0,endDate:d.completionDate?new Date(d.completionDate).toLocaleDateString():void 0})}}}),t(u)}catch(u){i(u instanceof Error?u.message:"Failed to load engineer assignments")}finally{a(!1)}})()},[l,r?.projectIds,r?.statuses]),{assignments:e,loading:n,error:s}},cye=r=>{switch(r){case"lead-engineer":return"bg-purple-100 text-purple-800";case"manager":return"bg-blue-100 text-blue-800";case"engineer":return"bg-green-100 text-green-800";case"team-member":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Aye=r=>{switch(r){case"pre-lim":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-emerald-100 text-emerald-800";case"completed":return"bg-gray-100 text-gray-800";case"on-hold":return"bg-amber-100 text-amber-800";case"closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},uye=r=>{switch(r){case"lead-engineer":return"Lead Engineer";case"manager":return"Manager";case"engineer":return"Engineer";case"team-member":return"Team Member";default:return r}},dye=({filter:r={}})=>{const{assignments:e,loading:t,error:n}=lye(r),[a,s]=S.useState(new Set),[i,l]=S.useState(!1),c=S.useMemo(()=>{let f=e;return f=f.filter(g=>g.status==="ongoing"),i&&(f=f.filter(g=>g.role==="lead-engineer")),f},[e,i]),u=S.useMemo(()=>{const f={};return c.forEach(g=>{f[g.engineerId]||(f[g.engineerId]={name:g.engineerName,assignments:[]}),f[g.engineerId].assignments.push(g)}),Object.entries(f).map(([g,p])=>({id:g,...p})).sort((g,p)=>g.name.localeCompare(p.name))},[c]),d=f=>{const g=new Set(a);g.has(f)?g.delete(f):g.add(f),s(g)};return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-500",children:"Loading engineer assignments..."})}):n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-red-500",children:["Error: ",n]})}):e.length===0||u.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-500",children:"No engineer assignments found"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(Fd,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Engineers"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(KD,{className:"w-6 h-6 text-green-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Assignments"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:o.jsx(V0,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Avg Projects/Engineer"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length>0?(c.length/u.length).toFixed(1):"0"})]})]}),o.jsx("div",{className:"flex items-center justify-end",children:o.jsxs("button",{onClick:()=>l(!i),className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-colors ${i?"bg-purple-100 text-purple-700 border border-purple-200":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Fd,{className:"w-4 h-4"}),"Lead Engineers Only"]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-28",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-40",children:"Dates"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(f=>{const g=a.has(f.id),p=f.assignments.length;return o.jsxs($s.Fragment,{children:[o.jsx("tr",{className:"bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>d(f.id),children:o.jsx("td",{colSpan:6,className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3 w-full text-left",children:[o.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:g?o.jsx(ob,{className:"w-4 h-4 text-gray-500"}):o.jsx(Km,{className:"w-4 h-4 text-gray-500"})}),o.jsx("span",{className:"font-semibold text-gray-900 flex-1",children:f.name}),o.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-gray-500 font-normal",children:[o.jsx(uu,{className:"w-3 h-3"}),p," project",p!==1?"s":""]})]})})}),g&&f.assignments.map((x,y)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-gray-500 text-xs",children:y===0?f.name:""}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"font-mono text-xs font-semibold text-gray-900",children:x.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-gray-700",children:x.projectTitle})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${cye(x.role)}`,children:uye(x.role)})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${Aye(x.status)}`,children:x.status==="pre-lim"?"Pre-lim":x.status==="on-hold"?"On Hold":x.status.charAt(0).toUpperCase()+x.status.slice(1)})}),o.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:x.startDate||x.endDate?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ns,{className:"w-3 h-3"}),o.jsxs("span",{children:[x.startDate," ",x.endDate?`to ${x.endDate}`:""]})]}):o.jsx("span",{className:"text-gray-400",children:"-"})})]},`${f.id}-${y}`))]},f.id)})})]})})})]})},y7=6048e5,hye=864e5,XI=Symbol.for("constructDateFrom");function Dd(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&XI in r?r[XI](e):r instanceof Date?new r.constructor(e):new Date(e)}function yc(r,e){return Dd(e||r,r)}let fye={};function S1(){return fye}function U0(r,e){const t=S1(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=yc(r,e?.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function aw(r,e){return U0(r,{...e,weekStartsOn:1})}function x7(r,e){const t=yc(r,e?.in),n=t.getFullYear(),a=Dd(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=aw(a),i=Dd(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=aw(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function JI(r){const e=yc(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function mye(r,...e){const t=Dd.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function ZI(r,e){const t=yc(r,e?.in);return t.setHours(0,0,0,0),t}function gye(r,e,t){const[n,a]=mye(t?.in,r,e),s=ZI(n),i=ZI(a),l=+s-JI(s),c=+i-JI(i);return Math.round((l-c)/hye)}function pye(r,e){const t=x7(r,e),n=Dd(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),aw(n)}function yye(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function xye(r){return!(!yye(r)&&typeof r!="number"||isNaN(+yc(r)))}function vye(r,e){const t=yc(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const bye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wye=(r,e,t)=>{let n;const a=bye[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function n5(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Cye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sye={date:n5({formats:Cye,defaultWidth:"full"}),time:n5({formats:Bye,defaultWidth:"full"}),dateTime:n5({formats:Nye,defaultWidth:"full"})},jye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eye=(r,e,t,n)=>jye[r];function Hp(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,l=t?.width?String(t.width):i;a=r.formattingValues[l]||r.formattingValues[i]}else{const i=r.defaultWidth,l=t?.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const _ye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Oye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Iye=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Lye={ordinalNumber:Iye,era:Hp({values:_ye,defaultWidth:"wide"}),quarter:Hp({values:kye,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Hp({values:Tye,defaultWidth:"wide"}),day:Hp({values:Fye,defaultWidth:"wide"}),dayPeriod:Hp({values:Pye,defaultWidth:"wide",formattingValues:Oye,defaultFormattingWidth:"wide"})};function Kp(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?Mye(l,f=>f.test(i)):Dye(l,f=>f.test(i));let u;u=r.valueCallback?r.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Dye(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Mye(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Uye(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const Rye=/^(\d+)(th|st|nd|rd)?/i,Qye=/\d+/i,Hye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kye={any:[/^b/i,/^(a|c)/i]},zye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qye={any:[/1/i,/2/i,/3/i,/4/i]},$ye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jye={ordinalNumber:Uye({matchPattern:Rye,parsePattern:Qye,valueCallback:r=>parseInt(r,10)}),era:Kp({matchPatterns:Hye,defaultMatchWidth:"wide",parsePatterns:Kye,defaultParseWidth:"any"}),quarter:Kp({matchPatterns:zye,defaultMatchWidth:"wide",parsePatterns:qye,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Kp({matchPatterns:$ye,defaultMatchWidth:"wide",parsePatterns:Gye,defaultParseWidth:"any"}),day:Kp({matchPatterns:Vye,defaultMatchWidth:"wide",parsePatterns:Wye,defaultParseWidth:"any"}),dayPeriod:Kp({matchPatterns:Yye,defaultMatchWidth:"any",parsePatterns:Xye,defaultParseWidth:"any"})},Zye={code:"en-US",formatDistance:wye,formatLong:Sye,formatRelative:Eye,localize:Lye,match:Jye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function exe(r,e){const t=yc(r,e?.in);return gye(t,vye(t))+1}function txe(r,e){const t=yc(r,e?.in),n=+aw(t)-+pye(t);return Math.round(n/y7)+1}function v7(r,e){const t=yc(r,e?.in),n=t.getFullYear(),a=S1(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=Dd(e?.in||r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=U0(i,e),c=Dd(e?.in||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=U0(c,e);return+t>=+l?n+1:+t>=+u?n:n-1}function rxe(r,e){const t=S1(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=v7(r,e),s=Dd(e?.in||r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),U0(s,e)}function nxe(r,e){const t=yc(r,e?.in),n=+U0(t,e)-+rxe(t,e);return Math.round(n/y7)+1}function nn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const ud={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return nn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):nn(t+1,2)},d(r,e){return nn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return nn(r.getHours()%12||12,e.length)},H(r,e){return nn(r.getHours(),e.length)},m(r,e){return nn(r.getMinutes(),e.length)},s(r,e){return nn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return nn(a,e.length)}},vm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e6={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return ud.y(r,e)},Y:function(r,e,t,n){const a=v7(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return nn(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):nn(s,e.length)},R:function(r,e){const t=x7(r);return nn(t,e.length)},u:function(r,e){const t=r.getFullYear();return nn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return ud.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return nn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=nxe(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):nn(a,e.length)},I:function(r,e,t){const n=txe(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):nn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):ud.d(r,e)},D:function(r,e,t){const n=exe(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):nn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return nn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return nn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return nn(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=vm.noon:n===0?a=vm.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=vm.evening:n>=12?a=vm.afternoon:n>=4?a=vm.morning:a=vm.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ud.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):ud.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):nn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):nn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):ud.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):ud.s(r,e)},S:function(r,e){return ud.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return r6(n);case"XXXX":case"XX":return Fh(n);case"XXXXX":case"XXX":default:return Fh(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return r6(n);case"xxxx":case"xx":return Fh(n);case"xxxxx":case"xxx":default:return Fh(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+t6(n,":");case"OOOO":default:return"GMT"+Fh(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+t6(n,":");case"zzzz":default:return"GMT"+Fh(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return nn(n,e.length)},T:function(r,e,t){return nn(+r,e.length)}};function t6(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+nn(s,2)}function r6(r,e){return r%60===0?(r>0?"-":"+")+nn(Math.abs(r)/60,2):Fh(r,e)}function Fh(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=nn(Math.trunc(n/60),2),s=nn(n%60,2);return t+a+e+s}const n6=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},b7=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},axe=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return n6(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",n6(n,e)).replace("{{time}}",b7(a,e))},sxe={p:b7,P:axe},ixe=/^D+$/,oxe=/^Y+$/,lxe=["D","DD","YY","YYYY"];function cxe(r){return ixe.test(r)}function Axe(r){return oxe.test(r)}function uxe(r,e,t){const n=dxe(r,e,t);if(console.warn(n),lxe.includes(r))throw new RangeError(n)}function dxe(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mxe=/^'([^]*?)'?$/,gxe=/''/g,pxe=/[a-zA-Z]/;function Q4(r,e,t){const n=S1(),a=n.locale??Zye,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=yc(r,t?.in);if(!xye(l))throw new RangeError("Invalid time value");let c=e.match(fxe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const g=sxe[f];return g(d,a.formatLong)}return d}).join("").match(hxe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:yxe(d)};if(e6[f])return{isToken:!0,value:d};if(f.match(pxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(Axe(f)||cxe(f))&&uxe(f,e,String(r));const g=e6[f[0]];return g(l,f,a.localize,u)}).join("")}function yxe(r){const e=r.match(mxe);return e?e[1].replace(gxe,"'"):r}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wS=function(r,e){return wS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},wS(r,e)};function xc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wS(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var CS=function(){return CS=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},CS.apply(this,arguments)};function Ci(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(r,[])).next())})}function ni(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function av(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var vu=(function(){function r(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return r.prototype.add=function(e,t,n,a){return new r(this.left+e,this.top+t,this.width+n,this.height+a)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),j1=function(r,e){return vu.fromClientRect(r,e.getBoundingClientRect())},xxe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new vu(0,0,n,a)},E1=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},Ea=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},a6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vxe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sv=0;sv<a6.length;sv++)vxe[a6.charCodeAt(sv)]=sv;var s6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iv=0;iv<s6.length;iv++)t0[s6.charCodeAt(iv)]=iv;var bxe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=t0[r.charCodeAt(n)],i=t0[r.charCodeAt(n+1)],l=t0[r.charCodeAt(n+2)],c=t0[r.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},wxe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},Cxe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Zh=5,H4=11,a5=2,Bxe=H4-Zh,w7=65536>>Zh,Nxe=1<<Zh,s5=Nxe-1,Sxe=1024>>Zh,jxe=w7+Sxe,Exe=jxe,_xe=32,kxe=Exe+_xe,Txe=65536>>H4,Fxe=1<<Bxe,Pxe=Fxe-1,i6=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},Oxe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},Ixe=function(r,e){var t=bxe(r),n=Array.isArray(t)?Cxe(t):new Uint32Array(t),a=Array.isArray(t)?wxe(t):new Uint16Array(t),s=24,i=i6(a,s/2,n[4]/2),l=n[5]===2?i6(a,(s+n[4])/2):Oxe(n,Math.ceil((s+n[4])/4));return new Lxe(n[0],n[1],n[2],n[3],i,l)},Lxe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Zh],t=(t<<a5)+(e&s5),this.data[t];if(e<=65535)return t=this.index[w7+(e-55296>>Zh)],t=(t<<a5)+(e&s5),this.data[t];if(e<this.highStart)return t=kxe-Txe+(e>>H4),t=this.index[t],t+=e>>Zh&Pxe,t=this.index[t],t=(t<<a5)+(e&s5),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),o6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dxe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ov=0;ov<o6.length;ov++)Dxe[o6.charCodeAt(ov)]=ov;var Mxe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",l6=50,Uxe=1,C7=2,B7=3,Rxe=4,Qxe=5,c6=7,N7=8,A6=9,Bd=10,BS=11,u6=12,NS=13,Hxe=14,r0=15,SS=16,lv=17,zp=18,Kxe=19,d6=20,jS=21,qp=22,i5=23,bm=24,No=25,n0=26,a0=27,wm=28,zxe=29,Ih=30,qxe=31,cv=32,Av=33,ES=34,_S=35,kS=36,R0=37,TS=38,Wv=39,Yv=40,o5=41,S7=42,$xe=43,Gxe=[9001,65288],j7="!",Br="",uv="",FS=Ixe(Mxe),VA=[Ih,kS],PS=[Uxe,C7,B7,Qxe],E7=[Bd,N7],h6=[a0,n0],Vxe=PS.concat(E7),f6=[TS,Wv,Yv,ES,_S],Wxe=[r0,NS],Yxe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return r.forEach(function(s,i){var l=FS.get(s);if(l>l6?(a.push(!0),l-=l6):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),t.push(SS);if(l===Rxe||l===BS){if(i===0)return n.push(i),t.push(Ih);var c=t[i-1];return Vxe.indexOf(c)===-1?(n.push(n[i-1]),t.push(c)):(n.push(i),t.push(Ih))}if(n.push(i),l===qxe)return t.push(e==="strict"?jS:R0);if(l===S7||l===zxe)return t.push(Ih);if(l===$xe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(R0):t.push(Ih);t.push(l)}),[n,t,a]},l5=function(r,e,t,n){var a=n[t];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var s=t;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==Bd)break}if(a===Bd)for(var s=t;s>0;){s--;var l=n[s];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var c=t;c<=n.length;){c++;var i=n[c];if(i===e)return!0;if(i!==Bd)break}if(l!==Bd)break}return!1},m6=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===Bd)t--;else return n}return 0},Xxe=function(r,e,t,n,a){if(t[n]===0)return Br;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return Br;var i=s-1,l=s+1,c=e[s],u=i>=0?e[i]:0,d=e[l];if(c===C7&&d===B7)return Br;if(PS.indexOf(c)!==-1)return j7;if(PS.indexOf(d)!==-1||E7.indexOf(d)!==-1)return Br;if(m6(s,e)===N7)return uv;if(FS.get(r[s])===BS||(c===cv||c===Av)&&FS.get(r[l])===BS||c===c6||d===c6||c===A6||[Bd,NS,r0].indexOf(c)===-1&&d===A6||[lv,zp,Kxe,bm,wm].indexOf(d)!==-1||m6(s,e)===qp||l5(i5,qp,s,e)||l5([lv,zp],jS,s,e)||l5(u6,u6,s,e))return Br;if(c===Bd)return uv;if(c===i5||d===i5)return Br;if(d===SS||c===SS)return uv;if([NS,r0,jS].indexOf(d)!==-1||c===Hxe||u===kS&&Wxe.indexOf(c)!==-1||c===wm&&d===kS||d===d6||VA.indexOf(d)!==-1&&c===No||VA.indexOf(c)!==-1&&d===No||c===a0&&[R0,cv,Av].indexOf(d)!==-1||[R0,cv,Av].indexOf(c)!==-1&&d===n0||VA.indexOf(c)!==-1&&h6.indexOf(d)!==-1||h6.indexOf(c)!==-1&&VA.indexOf(d)!==-1||[a0,n0].indexOf(c)!==-1&&(d===No||[qp,r0].indexOf(d)!==-1&&e[l+1]===No)||[qp,r0].indexOf(c)!==-1&&d===No||c===No&&[No,wm,bm].indexOf(d)!==-1)return Br;if([No,wm,bm,lv,zp].indexOf(d)!==-1)for(var f=s;f>=0;){var g=e[f];if(g===No)return Br;if([wm,bm].indexOf(g)!==-1)f--;else break}if([a0,n0].indexOf(d)!==-1)for(var f=[lv,zp].indexOf(c)!==-1?i:s;f>=0;){var g=e[f];if(g===No)return Br;if([wm,bm].indexOf(g)!==-1)f--;else break}if(TS===c&&[TS,Wv,ES,_S].indexOf(d)!==-1||[Wv,ES].indexOf(c)!==-1&&[Wv,Yv].indexOf(d)!==-1||[Yv,_S].indexOf(c)!==-1&&d===Yv||f6.indexOf(c)!==-1&&[d6,n0].indexOf(d)!==-1||f6.indexOf(d)!==-1&&c===a0||VA.indexOf(c)!==-1&&VA.indexOf(d)!==-1||c===bm&&VA.indexOf(d)!==-1||VA.concat(No).indexOf(c)!==-1&&d===qp&&Gxe.indexOf(r[l])===-1||VA.concat(No).indexOf(d)!==-1&&c===zp)return Br;if(c===o5&&d===o5){for(var p=t[s],x=1;p>0&&(p--,e[p]===o5);)x++;if(x%2!==0)return Br}return c===cv&&d===Av?Br:uv},Jxe=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Yxe(r,e.lineBreak),n=t[0],a=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[No,Ih,S7].indexOf(l)!==-1?R0:l}));var i=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,a,i]},Zxe=(function(){function r(e,t,n,a){this.codePoints=e,this.required=t===j7,this.start=n,this.end=a}return r.prototype.slice=function(){return Ea.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),eve=function(r,e){var t=E1(r),n=Jxe(t,e),a=n[0],s=n[1],i=n[2],l=t.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var d=Br;u<l&&(d=Xxe(t,s,a,++u,i))===Br;);if(d!==Br||u===l){var f=new Zxe(t,d,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},tve=1,rve=2,jy=4,g6=8,sw=10,p6=47,d0=92,nve=9,ave=32,dv=34,$p=61,sve=35,ive=36,ove=37,hv=39,fv=40,Gp=41,lve=95,Zi=45,cve=33,Ave=60,uve=62,dve=64,hve=91,fve=93,mve=61,gve=123,mv=63,pve=125,y6=124,yve=126,xve=128,x6=65533,c5=42,Kh=43,vve=44,bve=58,wve=59,Q0=46,Cve=0,Bve=8,Nve=11,Sve=14,jve=31,Eve=127,Vc=-1,_7=48,k7=97,T7=101,_ve=102,kve=117,Tve=122,F7=65,P7=69,O7=70,Fve=85,Pve=90,ii=function(r){return r>=_7&&r<=57},Ove=function(r){return r>=55296&&r<=57343},Cm=function(r){return ii(r)||r>=F7&&r<=O7||r>=k7&&r<=_ve},Ive=function(r){return r>=k7&&r<=Tve},Lve=function(r){return r>=F7&&r<=Pve},Dve=function(r){return Ive(r)||Lve(r)},Mve=function(r){return r>=xve},gv=function(r){return r===sw||r===nve||r===ave},iw=function(r){return Dve(r)||Mve(r)||r===lve},v6=function(r){return iw(r)||ii(r)||r===Zi},Uve=function(r){return r>=Cve&&r<=Bve||r===Nve||r>=Sve&&r<=jve||r===Eve},xd=function(r,e){return r!==d0?!1:e!==sw},pv=function(r,e,t){return r===Zi?iw(e)||xd(e,t):iw(r)?!0:!!(r===d0&&xd(r,e))},A5=function(r,e,t){return r===Kh||r===Zi?ii(e)?!0:e===Q0&&ii(t):ii(r===Q0?e:r)},Rve=function(r){var e=0,t=1;(r[e]===Kh||r[e]===Zi)&&(r[e]===Zi&&(t=-1),e++);for(var n=[];ii(r[e]);)n.push(r[e++]);var a=n.length?parseInt(Ea.apply(void 0,n),10):0;r[e]===Q0&&e++;for(var s=[];ii(r[e]);)s.push(r[e++]);var i=s.length,l=i?parseInt(Ea.apply(void 0,s),10):0;(r[e]===P7||r[e]===T7)&&e++;var c=1;(r[e]===Kh||r[e]===Zi)&&(r[e]===Zi&&(c=-1),e++);for(var u=[];ii(r[e]);)u.push(r[e++]);var d=u.length?parseInt(Ea.apply(void 0,u),10):0;return t*(a+l*Math.pow(10,-i))*Math.pow(10,c*d)},Qve={type:2},Hve={type:3},Kve={type:4},zve={type:13},qve={type:8},$ve={type:21},Gve={type:9},Vve={type:10},Wve={type:11},Yve={type:12},Xve={type:14},yv={type:23},Jve={type:1},Zve={type:25},ebe={type:24},tbe={type:26},rbe={type:27},nbe={type:28},abe={type:29},sbe={type:31},OS={type:32},I7=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(E1(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==OS;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case dv:return this.consumeStringToken(dv);case sve:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(v6(t)||xd(n,a)){var s=pv(t,n,a)?rve:tve,i=this.consumeName();return{type:5,value:i,flags:s}}break;case ive:if(this.peekCodePoint(0)===$p)return this.consumeCodePoint(),zve;break;case hv:return this.consumeStringToken(hv);case fv:return Qve;case Gp:return Hve;case c5:if(this.peekCodePoint(0)===$p)return this.consumeCodePoint(),Xve;break;case Kh:if(A5(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vve:return Kve;case Zi:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(A5(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(pv(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Zi&&u===uve)return this.consumeCodePoint(),this.consumeCodePoint(),ebe;break;case Q0:if(A5(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case p6:if(this.peekCodePoint(0)===c5)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===c5&&(d=this.consumeCodePoint(),d===p6))return this.consumeToken();if(d===Vc)return this.consumeToken()}break;case bve:return tbe;case wve:return rbe;case Ave:if(this.peekCodePoint(0)===cve&&this.peekCodePoint(1)===Zi&&this.peekCodePoint(2)===Zi)return this.consumeCodePoint(),this.consumeCodePoint(),Zve;break;case dve:var f=this.peekCodePoint(0),g=this.peekCodePoint(1),p=this.peekCodePoint(2);if(pv(f,g,p)){var i=this.consumeName();return{type:7,value:i}}break;case hve:return nbe;case d0:if(xd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case fve:return abe;case mve:if(this.peekCodePoint(0)===$p)return this.consumeCodePoint(),qve;break;case gve:return Wve;case pve:return Yve;case kve:case Fve:var x=this.peekCodePoint(0),y=this.peekCodePoint(1);return x===Kh&&(Cm(y)||y===mv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case y6:if(this.peekCodePoint(0)===$p)return this.consumeCodePoint(),Gve;if(this.peekCodePoint(0)===y6)return this.consumeCodePoint(),$ve;break;case yve:if(this.peekCodePoint(0)===$p)return this.consumeCodePoint(),Vve;break;case Vc:return OS}return gv(e)?(this.consumeWhiteSpace(),sbe):ii(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):iw(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ea(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Cm(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===mv&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Ea.apply(void 0,e.map(function(c){return c===mv?_7:c})),16),s=parseInt(Ea.apply(void 0,e.map(function(c){return c===mv?O7:c})),16);return{type:30,start:a,end:s}}var i=parseInt(Ea.apply(void 0,e),16);if(this.peekCodePoint(0)===Zi&&Cm(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];Cm(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var s=parseInt(Ea.apply(void 0,l),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===fv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===fv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vc)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===hv||t===dv){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vc||this.peekCodePoint(0)===Gp)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yv)}for(;;){var a=this.consumeCodePoint();if(a===Vc||a===Gp)return{type:22,value:Ea.apply(void 0,e)};if(gv(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vc||this.peekCodePoint(0)===Gp?(this.consumeCodePoint(),{type:22,value:Ea.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yv);if(a===dv||a===hv||a===fv||Uve(a))return this.consumeBadUrlRemnants(),yv;if(a===d0)if(xd(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),yv;else e.push(a)}},r.prototype.consumeWhiteSpace=function(){for(;gv(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Gp||e===Vc)return;xd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=Ea.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===Vc||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===sw)return this._value.splice(0,n),Jve;if(a===d0){var s=this._value[n+1];s!==Vc&&s!==void 0&&(s===sw?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):xd(a,s)&&(t+=this.consumeStringSlice(n),t+=Ea(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=jy,n=this.peekCodePoint(0);for((n===Kh||n===Zi)&&e.push(this.consumeCodePoint());ii(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Q0&&ii(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=g6;ii(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===P7||n===T7)&&((a===Kh||a===Zi)&&ii(s)||ii(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=g6;ii(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Rve(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(pv(a,s,i)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return a===ove?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Cm(e)){for(var t=Ea(e);Cm(this.peekCodePoint(0))&&t.length<6;)t+=Ea(this.consumeCodePoint());gv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||Ove(n)||n>1114111?x6:n}return e===Vc?x6:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(v6(t))e+=Ea(t);else if(xd(t,this.peekCodePoint(0)))e+=Ea(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),L7=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new I7;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||obe(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?OS:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),Ey=function(r){return r.type===15},Qg=function(r){return r.type===17},pn=function(r){return r.type===20},ibe=function(r){return r.type===0},IS=function(r,e){return pn(r)&&r.value===e},D7=function(r){return r.type!==31},xg=function(r){return r.type!==31&&r.type!==4},hA=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},obe=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Md=function(r){return r.type===17||r.type===15},Ha=function(r){return r.type===16||Md(r)},M7=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Gs={type:17,number:0,flags:jy},K4={type:16,number:50,flags:jy},Nd={type:16,number:100,flags:jy},s0=function(r,e,t){var n=r[0],a=r[1];return[En(n,e),En(typeof a<"u"?a:n,t)]},En=function(r,e){if(r.type===16)return r.number/100*e;if(Ey(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},U7="deg",R7="grad",Q7="rad",H7="turn",_1={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case U7:return Math.PI*e.number/180;case R7:return Math.PI/200*e.number;case Q7:return e.number;case H7:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},K7=function(r){return r.type===15&&(r.unit===U7||r.unit===R7||r.unit===Q7||r.unit===H7)},z7=function(r){var e=r.filter(pn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gs,Gs];case"to top":case"bottom":return gl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gs,Nd];case"to right":case"left":return gl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Nd,Nd];case"to bottom":case"top":return gl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Nd,Gs];case"to left":case"right":return gl(270)}return 0},gl=function(r){return Math.PI*r/180},kd={name:"color",parse:function(r,e){if(e.type===18){var t=lbe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return Sd(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return Sd(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return Sd(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return Sd(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var l=lu[e.value.toUpperCase()];if(typeof l<"u")return l}return lu.TRANSPARENT}},Td=function(r){return(255&r)===0},xs=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,a=255&r>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},Sd=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},b6=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},w6=function(r,e){var t=e.filter(xg);if(t.length===3){var n=t.map(b6),a=n[0],s=n[1],i=n[2];return Sd(a,s,i,1)}if(t.length===4){var l=t.map(b6),a=l[0],s=l[1],i=l[2],c=l[3];return Sd(a,s,i,c)}return 0};function u5(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var C6=function(r,e){var t=e.filter(xg),n=t[0],a=t[1],s=t[2],i=t[3],l=(n.type===17?gl(n.number):_1.parse(r,n))/(Math.PI*2),c=Ha(a)?a.number/100:0,u=Ha(s)?s.number/100:0,d=typeof i<"u"&&Ha(i)?En(i,1):1;if(c===0)return Sd(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,g=u*2-f,p=u5(g,f,l+1/3),x=u5(g,f,l),y=u5(g,f,l-1/3);return Sd(p*255,x*255,y*255,d)},lbe={hsl:C6,hsla:C6,rgb:w6,rgba:w6},h0=function(r,e){return kd.parse(r,L7.create(e).parseComponentValue())},lu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cbe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(pn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Abe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},k1=function(r,e){var t=kd.parse(r,e[0]),n=e[1];return n&&Ha(n)?{color:t,stop:n}:{color:t,stop:null}},B6=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Gs),n.stop===null&&(n.stop=Nd);for(var a=[],s=0,i=0;i<r.length;i++){var l=r[i].stop;if(l!==null){var c=En(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var d=a[i];if(d===null)u===null&&(u=i);else if(u!==null){for(var f=i-u,g=a[u-1],p=(d-g)/(f+1),x=1;x<=f;x++)a[u+x-1]=p*x;u=null}}return r.map(function(y,b){var w=y.color;return{color:w,stop:Math.max(Math.min(1,a[b]/e),0)}})},ube=function(r,e,t){var n=e/2,a=t/2,s=En(r[0],e)-n,i=a-En(r[1],t);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},dbe=function(r,e,t){var n=typeof r=="number"?r:ube(r,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,i=t/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,i-c,i+c]},ic=function(r,e){return Math.sqrt(r*r+e*e)},N6=function(r,e,t,n,a){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(i,l){var c=l[0],u=l[1],d=ic(t-c,n-u);return(a?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:l,optimumDistance:d}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},hbe=function(r,e,t,n,a){var s=0,i=0;switch(r.size){case 0:r.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(r.shape===0)s=i=Math.min(ic(e,t),ic(e,t-a),ic(e-n,t),ic(e-n,t-a));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=N6(n,a,e,t,!0),u=c[0],d=c[1];s=ic(u-e,(d-t)/l),i=l*s}break;case 1:r.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(r.shape===0)s=i=Math.max(ic(e,t),ic(e,t-a),ic(e-n,t),ic(e-n,t-a));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),f=N6(n,a,e,t,!1),u=f[0],d=f[1];s=ic(u-e,(d-t)/l),i=l*s}break}return Array.isArray(r.size)&&(s=En(r.size[0],n),i=r.size.length===2?En(r.size[1],a):s),[s,i]},fbe=function(r,e){var t=gl(180),n=[];return hA(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){t=z7(a);return}else if(K7(i)){t=_1.parse(r,i);return}}var l=k1(r,a);n.push(l)}),{angle:t,stops:n,type:1}},xv=function(r,e){var t=gl(180),n=[];return hA(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){t=z7(a);return}else if(K7(i)){t=(_1.parse(r,i)+gl(270))%gl(360);return}}var l=k1(r,a);n.push(l)}),{angle:t,stops:n,type:1}},mbe=function(r,e){var t=gl(180),n=[],a=1,s=0,i=3,l=[];return hA(e).forEach(function(c,u){var d=c[0];if(u===0){if(pn(d)&&d.value==="linear"){a=1;return}else if(pn(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var f=kd.parse(r,d.values[0]);n.push({stop:Gs,color:f})}else if(d.name==="to"){var f=kd.parse(r,d.values[0]);n.push({stop:Nd,color:f})}else if(d.name==="color-stop"){var g=d.values.filter(xg);if(g.length===2){var f=kd.parse(r,g[1]),p=g[0];Qg(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),a===1?{angle:(t+gl(180))%gl(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:l,type:a}},q7="closest-side",$7="farthest-side",G7="closest-corner",V7="farthest-corner",W7="circle",Y7="ellipse",X7="cover",J7="contain",gbe=function(r,e){var t=0,n=3,a=[],s=[];return hA(e).forEach(function(i,l){var c=!0;if(l===0){var u=!1;c=i.reduce(function(f,g){if(u)if(pn(g))switch(g.value){case"center":return s.push(K4),f;case"top":case"left":return s.push(Gs),f;case"right":case"bottom":return s.push(Nd),f}else(Ha(g)||Md(g))&&s.push(g);else if(pn(g))switch(g.value){case W7:return t=0,!1;case Y7:return t=1,!1;case"at":return u=!0,!1;case q7:return n=0,!1;case X7:case $7:return n=1,!1;case J7:case G7:return n=2,!1;case V7:return n=3,!1}else if(Md(g)||Ha(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return f},c)}if(c){var d=k1(r,i);a.push(d)}}),{size:n,shape:t,stops:a,position:s,type:2}},vv=function(r,e){var t=0,n=3,a=[],s=[];return hA(e).forEach(function(i,l){var c=!0;if(l===0?c=i.reduce(function(d,f){if(pn(f))switch(f.value){case"center":return s.push(K4),!1;case"top":case"left":return s.push(Gs),!1;case"right":case"bottom":return s.push(Nd),!1}else if(Ha(f)||Md(f))return s.push(f),!1;return d},c):l===1&&(c=i.reduce(function(d,f){if(pn(f))switch(f.value){case W7:return t=0,!1;case Y7:return t=1,!1;case J7:case q7:return n=0,!1;case $7:return n=1,!1;case G7:return n=2,!1;case X7:case V7:return n=3,!1}else if(Md(f)||Ha(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},c)),c){var u=k1(r,i);a.push(u)}}),{size:n,shape:t,stops:a,position:s,type:2}},pbe=function(r){return r.type===1},ybe=function(r){return r.type===2},z4={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=Z7[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function xbe(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!Z7[r.name])}var Z7={"linear-gradient":fbe,"-moz-linear-gradient":xv,"-ms-linear-gradient":xv,"-o-linear-gradient":xv,"-webkit-linear-gradient":xv,"radial-gradient":gbe,"-moz-radial-gradient":vv,"-ms-radial-gradient":vv,"-o-radial-gradient":vv,"-webkit-radial-gradient":vv,"-webkit-gradient":mbe},vbe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return xg(n)&&xbe(n)}).map(function(n){return z4.parse(r,n)})}},bbe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(pn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wbe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return hA(e).map(function(t){return t.filter(Ha)}).map(M7)}},Cbe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return hA(e).map(function(t){return t.filter(pn).map(function(n){return n.value}).join(" ")}).map(Bbe)}},Bbe=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Xm;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Xm||(Xm={}));var Nbe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return hA(e).map(function(t){return t.filter(Sbe)})}},Sbe=function(r){return pn(r)||Ha(r)},T1=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jbe=T1("top"),Ebe=T1("right"),_be=T1("bottom"),kbe=T1("left"),F1=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return M7(t.filter(Ha))}}},Tbe=F1("top-left"),Fbe=F1("top-right"),Pbe=F1("bottom-right"),Obe=F1("bottom-left"),P1=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ibe=P1("top"),Lbe=P1("right"),Dbe=P1("bottom"),Mbe=P1("left"),O1=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ey(t)?t.number:0}}},Ube=O1("top"),Rbe=O1("right"),Qbe=O1("bottom"),Hbe=O1("left"),Kbe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zbe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},qbe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(pn).reduce(function(t,n){return t|$be(n.value)},0)}},$be=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Gbe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vbe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},ow;(function(r){r.NORMAL="normal",r.STRICT="strict"})(ow||(ow={}));var Wbe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return ow.STRICT;case"normal":default:return ow.NORMAL}}},Ybe={name:"line-height",initialValue:"normal",prefix:!1,type:4},S6=function(r,e){return pn(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ha(r)?En(r,e):e},Xbe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:z4.parse(r,e)}},Jbe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},LS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},I1=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},Zbe=I1("top"),ewe=I1("right"),twe=I1("bottom"),rwe=I1("left"),nwe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(pn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},awe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},L1=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},swe=L1("top"),iwe=L1("right"),owe=L1("bottom"),lwe=L1("left"),cwe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Awe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},uwe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&IS(e[0],"none")?[]:hA(e).map(function(t){for(var n={color:lu.TRANSPARENT,offsetX:Gs,offsetY:Gs,blur:Gs},a=0,s=0;s<t.length;s++){var i=t[s];Md(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=kd.parse(r,i)}return n})}},dwe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},hwe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=gwe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},fwe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},mwe=function(r){var e=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,a,s,i,l]:null},gwe={matrix:fwe,matrix3d:mwe},j6={type:16,number:50,flags:jy},pwe=[j6,j6],ywe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ha);return t.length!==2?pwe:[t[0],t[1]]}},xwe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},f0;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(f0||(f0={}));var vwe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return f0.BREAK_ALL;case"keep-all":return f0.KEEP_ALL;case"normal":default:return f0.NORMAL}}},bwe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Qg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},e9={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},wwe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Qg(e)?e.number:1}},Cwe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bwe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(pn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Nwe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Swe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jwe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Qg(e))return e.number;if(pn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ewe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(pn).map(function(t){return t.value})}},_we={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ss=function(r,e){return(r&e)!==0},kwe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Twe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(D7),s=0;s<a.length;s++){var i=a[s],l=a[s+1];if(i.type===20){var c=l&&Qg(l)?l.number:1;n.push({counter:i.value,increment:c})}}return n}},Fwe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(D7),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(pn(s)&&s.value!=="none"){var l=i&&Qg(i)?i.number:0;t.push({counter:s.value,reset:l})}}return t}},Pwe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Ey).map(function(t){return e9.parse(r,t)})}},Owe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(ibe);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,l=a[s+1].value;n.push({open:i,close:l})}return n}},E6=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},Iwe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&IS(e[0],"none")?[]:hA(e).map(function(t){for(var n={color:255,offsetX:Gs,offsetY:Gs,blur:Gs,spread:Gs,inset:!1},a=0,s=0;s<t.length;s++){var i=t[s];IS(i,"inset")?n.inset=!0:Md(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=kd.parse(r,i)}return n})}},Lwe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(pn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Dwe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Mwe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Ey(e)?e.number:0}},Uwe=(function(){function r(e,t){var n,a;this.animationDuration=lt(e,Pwe,t.animationDuration),this.backgroundClip=lt(e,cbe,t.backgroundClip),this.backgroundColor=lt(e,Abe,t.backgroundColor),this.backgroundImage=lt(e,vbe,t.backgroundImage),this.backgroundOrigin=lt(e,bbe,t.backgroundOrigin),this.backgroundPosition=lt(e,wbe,t.backgroundPosition),this.backgroundRepeat=lt(e,Cbe,t.backgroundRepeat),this.backgroundSize=lt(e,Nbe,t.backgroundSize),this.borderTopColor=lt(e,jbe,t.borderTopColor),this.borderRightColor=lt(e,Ebe,t.borderRightColor),this.borderBottomColor=lt(e,_be,t.borderBottomColor),this.borderLeftColor=lt(e,kbe,t.borderLeftColor),this.borderTopLeftRadius=lt(e,Tbe,t.borderTopLeftRadius),this.borderTopRightRadius=lt(e,Fbe,t.borderTopRightRadius),this.borderBottomRightRadius=lt(e,Pbe,t.borderBottomRightRadius),this.borderBottomLeftRadius=lt(e,Obe,t.borderBottomLeftRadius),this.borderTopStyle=lt(e,Ibe,t.borderTopStyle),this.borderRightStyle=lt(e,Lbe,t.borderRightStyle),this.borderBottomStyle=lt(e,Dbe,t.borderBottomStyle),this.borderLeftStyle=lt(e,Mbe,t.borderLeftStyle),this.borderTopWidth=lt(e,Ube,t.borderTopWidth),this.borderRightWidth=lt(e,Rbe,t.borderRightWidth),this.borderBottomWidth=lt(e,Qbe,t.borderBottomWidth),this.borderLeftWidth=lt(e,Hbe,t.borderLeftWidth),this.boxShadow=lt(e,Iwe,t.boxShadow),this.color=lt(e,Kbe,t.color),this.direction=lt(e,zbe,t.direction),this.display=lt(e,qbe,t.display),this.float=lt(e,Gbe,t.cssFloat),this.fontFamily=lt(e,Nwe,t.fontFamily),this.fontSize=lt(e,Swe,t.fontSize),this.fontStyle=lt(e,_we,t.fontStyle),this.fontVariant=lt(e,Ewe,t.fontVariant),this.fontWeight=lt(e,jwe,t.fontWeight),this.letterSpacing=lt(e,Vbe,t.letterSpacing),this.lineBreak=lt(e,Wbe,t.lineBreak),this.lineHeight=lt(e,Ybe,t.lineHeight),this.listStyleImage=lt(e,Xbe,t.listStyleImage),this.listStylePosition=lt(e,Jbe,t.listStylePosition),this.listStyleType=lt(e,LS,t.listStyleType),this.marginTop=lt(e,Zbe,t.marginTop),this.marginRight=lt(e,ewe,t.marginRight),this.marginBottom=lt(e,twe,t.marginBottom),this.marginLeft=lt(e,rwe,t.marginLeft),this.opacity=lt(e,wwe,t.opacity);var s=lt(e,nwe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=lt(e,awe,t.overflowWrap),this.paddingTop=lt(e,swe,t.paddingTop),this.paddingRight=lt(e,iwe,t.paddingRight),this.paddingBottom=lt(e,owe,t.paddingBottom),this.paddingLeft=lt(e,lwe,t.paddingLeft),this.paintOrder=lt(e,Lwe,t.paintOrder),this.position=lt(e,Awe,t.position),this.textAlign=lt(e,cwe,t.textAlign),this.textDecorationColor=lt(e,Cwe,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=lt(e,Bwe,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=lt(e,uwe,t.textShadow),this.textTransform=lt(e,dwe,t.textTransform),this.transform=lt(e,hwe,t.transform),this.transformOrigin=lt(e,ywe,t.transformOrigin),this.visibility=lt(e,xwe,t.visibility),this.webkitTextStrokeColor=lt(e,Dwe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=lt(e,Mwe,t.webkitTextStrokeWidth),this.wordBreak=lt(e,vwe,t.wordBreak),this.zIndex=lt(e,bwe,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Td(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return ss(this.display,4)||ss(this.display,33554432)||ss(this.display,268435456)||ss(this.display,536870912)||ss(this.display,67108864)||ss(this.display,134217728)},r})(),Rwe=(function(){function r(e,t){this.content=lt(e,kwe,t.content),this.quotes=lt(e,Owe,t.quotes)}return r})(),_6=(function(){function r(e,t){this.counterIncrement=lt(e,Twe,t.counterIncrement),this.counterReset=lt(e,Fwe,t.counterReset)}return r})(),lt=function(r,e,t){var n=new I7,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var s=new L7(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(r,pn(i)?i.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return _1.parse(r,s.parseComponentValue());case"color":return kd.parse(r,s.parseComponentValue());case"image":return z4.parse(r,s.parseComponentValue());case"length":var l=s.parseComponentValue();return Md(l)?l:Gs;case"length-percentage":var c=s.parseComponentValue();return Ha(c)?c:Gs;case"time":return e9.parse(r,s.parseComponentValue())}break}},Qwe="data-html2canvas-debug",Hwe=function(r){var e=r.getAttribute(Qwe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},DS=function(r,e){var t=Hwe(r);return t===1||e===t},fA=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,DS(t,3))debugger;this.styles=new Uwe(e,window.getComputedStyle(t,null)),RS(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=j1(this.context,t),DS(t,4)&&(this.flags|=16)}return r})(),Kwe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",k6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bv=0;bv<k6.length;bv++)i0[k6.charCodeAt(bv)]=bv;var zwe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=i0[r.charCodeAt(n)],i=i0[r.charCodeAt(n+1)],l=i0[r.charCodeAt(n+2)],c=i0[r.charCodeAt(n+3)],d[a++]=s<<2|i>>4,d[a++]=(i&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},qwe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},$we=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},ef=5,q4=11,d5=2,Gwe=q4-ef,t9=65536>>ef,Vwe=1<<ef,h5=Vwe-1,Wwe=1024>>ef,Ywe=t9+Wwe,Xwe=Ywe,Jwe=32,Zwe=Xwe+Jwe,e1e=65536>>q4,t1e=1<<Gwe,r1e=t1e-1,T6=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},n1e=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},a1e=function(r,e){var t=zwe(r),n=Array.isArray(t)?$we(t):new Uint32Array(t),a=Array.isArray(t)?qwe(t):new Uint16Array(t),s=24,i=T6(a,s/2,n[4]/2),l=n[5]===2?T6(a,(s+n[4])/2):n1e(n,Math.ceil((s+n[4])/4));return new s1e(n[0],n[1],n[2],n[3],i,l)},s1e=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>ef],t=(t<<d5)+(e&h5),this.data[t];if(e<=65535)return t=this.index[t9+(e-55296>>ef)],t=(t<<d5)+(e&h5),this.data[t];if(e<this.highStart)return t=Zwe-e1e+(e>>q4),t=this.index[t],t+=e>>ef&r1e,t=this.index[t],t=(t<<d5)+(e&h5),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),F6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wv=0;wv<F6.length;wv++)i1e[F6.charCodeAt(wv)]=wv;var o1e=1,f5=2,m5=3,P6=4,O6=5,l1e=7,I6=8,g5=9,p5=10,L6=11,D6=12,M6=13,U6=14,y5=15,c1e=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},A1e=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},u1e=a1e(Kwe),dl="",x5="",d1e=function(r){return u1e.get(r)},h1e=function(r,e,t){var n=t-2,a=e[n],s=e[t-1],i=e[t];if(s===f5&&i===m5)return dl;if(s===f5||s===m5||s===P6||i===f5||i===m5||i===P6)return x5;if(s===I6&&[I6,g5,L6,D6].indexOf(i)!==-1||(s===L6||s===g5)&&(i===g5||i===p5)||(s===D6||s===p5)&&i===p5||i===M6||i===O6||i===l1e||s===o1e)return dl;if(s===M6&&i===U6){for(;a===O6;)a=e[--n];if(a===U6)return dl}if(s===y5&&i===y5){for(var l=0;a===y5;)l++,a=e[--n];if(l%2===0)return dl}return x5},f1e=function(r){var e=c1e(r),t=e.length,n=0,a=0,s=e.map(d1e);return{next:function(){if(n>=t)return{done:!0,value:null};for(var i=dl;n<t&&(i=h1e(e,s,++n))===dl;);if(i!==dl||n===t){var l=A1e.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},m1e=function(r){for(var e=f1e(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},g1e=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),s=Math.round(a.height);if(r.body.removeChild(n),s===e)return!0}}return!1},p1e=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=E1(n.data).map(function(c){return Ea(c)}),s=0,i={},l=a.every(function(c,u){t.setStart(n,s),t.setEnd(n,s+c.length);var d=t.getBoundingClientRect();s+=c.length;var f=d.x>i.x||d.y>i.y;return i=d,u===0?!0:f});return r.body.removeChild(e),l},y1e=function(){return typeof new Image().crossOrigin<"u"},x1e=function(){return typeof new XMLHttpRequest().responseType=="string"},v1e=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},R6=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},b1e=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,s=e.toDataURL();a.src=s;var i=MS(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),Q6(i).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",R6(c)?Q6(MS(t,t,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),R6(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},MS=function(r,e,t,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(l),l.appendChild(a),i},Q6=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Hs={get SUPPORT_RANGE_BOUNDS(){var r=g1e(document);return Object.defineProperty(Hs,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Hs.SUPPORT_RANGE_BOUNDS&&p1e(document);return Object.defineProperty(Hs,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=v1e(document);return Object.defineProperty(Hs,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?b1e(document):Promise.resolve(!1);return Object.defineProperty(Hs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=y1e();return Object.defineProperty(Hs,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=x1e();return Object.defineProperty(Hs,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hs,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},m0=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),w1e=function(r,e,t,n){var a=N1e(e,t),s=[],i=0;return a.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Hs.SUPPORT_RANGE_BOUNDS){var c=H6(n,i,l.length).getClientRects();if(c.length>1){var u=$4(l),d=0;u.forEach(function(g){s.push(new m0(g,vu.fromDOMRectList(r,H6(n,d+i,g.length).getClientRects()))),d+=g.length})}else s.push(new m0(l,vu.fromDOMRectList(r,c)))}else{var f=n.splitText(l.length);s.push(new m0(l,C1e(r,n))),n=f}else Hs.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));i+=l.length}),s},C1e=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=j1(r,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return vu.EMPTY},H6=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(r,e),a.setEnd(r,e+t),a},$4=function(r){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return m1e(r)},B1e=function(r,e){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return j1e(r,e)},N1e=function(r,e){return e.letterSpacing!==0?$4(r):B1e(r,e)},S1e=[32,160,4961,65792,65793,4153,4241],j1e=function(r,e){for(var t=eve(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),l=E1(i),c="";l.forEach(function(u){S1e.indexOf(u)===-1?c+=Ea(u):(c.length&&n.push(c),n.push(Ea(u)),c="")}),c.length&&n.push(c)}};!(a=t.next()).done;)s();return n},E1e=(function(){function r(e,t,n){this.text=_1e(t.data,n.textTransform),this.textBounds=w1e(e,this.text,n,t)}return r})(),_1e=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(k1e,T1e);case 2:return r.toUpperCase();default:return r}},k1e=/(^|\s|:|-|\(|\))([a-z])/g,T1e=function(r,e,t){return r.length>0?e+t.toUpperCase():r},r9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(fA),n9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(fA),a9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=new XMLSerializer,i=j1(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(fA),s9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(fA),US=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(fA),F1e=[{type:15,flags:0,unit:"px",number:3}],P1e=[{type:16,flags:0,number:50}],O1e=function(r){return r.width>r.height?new vu(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new vu(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},I1e=function(r){var e=r.type===L1e?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},lw="checkbox",cw="radio",L1e="password",K6=707406591,G4=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=I1e(n),(a.type===lw||a.type===cw)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=O1e(a.bounds)),a.type){case lw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=F1e;break;case cw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=P1e;break}return a}return e})(fA),i9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e})(fA),o9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(fA),l9=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=A9(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?h0(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):lu.TRANSPARENT,i=n.contentWindow.document.body?h0(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):lu.TRANSPARENT;a.backgroundColor=Td(s)?Td(i)?a.styles.backgroundColor:i:s}}catch{}return a}return e})(fA),D1e=["OL","UL","MENU"],Xv=function(r,e,t,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,u9(a)&&a.data.trim().length>0)t.textNodes.push(new E1e(r,a,t.styles));else if(Qm(a))if(m9(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return Xv(r,l,t,n)});else{var i=c9(r,a);i.styles.isVisible()&&(M1e(a,i,n)?i.flags|=4:U1e(i.styles)&&(i.flags|=2),D1e.indexOf(a.tagName)!==-1&&(i.flags|=8),t.elements.push(i),a.slot,a.shadowRoot?Xv(r,a.shadowRoot,i,n):!Aw(a)&&!d9(a)&&!uw(a)&&Xv(r,a,i,n))}},c9=function(r,e){return QS(e)?new r9(r,e):h9(e)?new n9(r,e):d9(e)?new a9(r,e):R1e(e)?new s9(r,e):Q1e(e)?new US(r,e):H1e(e)?new G4(r,e):uw(e)?new i9(r,e):Aw(e)?new o9(r,e):f9(e)?new l9(r,e):new fA(r,e)},A9=function(r,e){var t=c9(r,e);return t.flags|=4,Xv(r,e,t,t),t},M1e=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||V4(r)&&t.styles.isTransparent()},U1e=function(r){return r.isPositioned()||r.isFloating()},u9=function(r){return r.nodeType===Node.TEXT_NODE},Qm=function(r){return r.nodeType===Node.ELEMENT_NODE},RS=function(r){return Qm(r)&&typeof r.style<"u"&&!Jv(r)},Jv=function(r){return typeof r.className=="object"},R1e=function(r){return r.tagName==="LI"},Q1e=function(r){return r.tagName==="OL"},H1e=function(r){return r.tagName==="INPUT"},K1e=function(r){return r.tagName==="HTML"},d9=function(r){return r.tagName==="svg"},V4=function(r){return r.tagName==="BODY"},h9=function(r){return r.tagName==="CANVAS"},z6=function(r){return r.tagName==="VIDEO"},QS=function(r){return r.tagName==="IMG"},f9=function(r){return r.tagName==="IFRAME"},q6=function(r){return r.tagName==="STYLE"},z1e=function(r){return r.tagName==="SCRIPT"},Aw=function(r){return r.tagName==="TEXTAREA"},uw=function(r){return r.tagName==="SELECT"},m9=function(r){return r.tagName==="SLOT"},$6=function(r){return r.tagName.indexOf("-")>0},q1e=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=t.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var i=[];return s&&a.forEach(function(l){var c=t.counters[l.counter];i.push(l.counter),c||(c=t.counters[l.counter]=[]),c.push(l.reset)}),i},r})(),G6={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},V6={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$1e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},G1e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bm=function(r,e,t,n,a,s){return r<e||r>t?H0(r,a,s.length>0):n.integers.reduce(function(i,l,c){for(;r>=l;)r-=l,i+=n.values[c];return i},"")+s},g9=function(r,e,t,n){var a="";do t||r--,a=n(r)+a,r/=e;while(r*e>=e);return a},Ba=function(r,e,t,n,a){var s=t-e+1;return(r<0?"-":"")+(g9(Math.abs(r),s,n,function(i){return Ea(Math.floor(i%s)+e)})+a)},jh=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return g9(Math.abs(r),n,!1,function(a){return e[Math.floor(a%n)]})+t},Pm=1,fd=2,md=4,o0=8,WA=function(r,e,t,n,a,s){if(r<-9999||r>9999)return H0(r,4,a.length>0);var i=Math.abs(r),l=a;if(i===0)return e[0]+l;for(var c=0;i>0&&c<=4;c++){var u=i%10;u===0&&ss(s,Pm)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&ss(s,fd)||u===1&&c===1&&ss(s,md)&&r>100||u===1&&c>1&&ss(s,o0)?l=e[u]+(c>0?t[c-1]:"")+l:u===1&&c>0&&(l=t[c-1]+l),i=Math.floor(i/10)}return(r<0?n:"")+l},W6="",Y6="",X6="",v5="",H0=function(r,e,t){var n=t?". ":"",a=t?"":"",s=t?", ":"",i=t?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var l=Ba(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return jh(r,"",a);case 6:return Bm(r,1,3999,G6,3,n).toLowerCase();case 7:return Bm(r,1,3999,G6,3,n);case 8:return Ba(r,945,969,!1,n);case 9:return Ba(r,97,122,!1,n);case 10:return Ba(r,65,90,!1,n);case 11:return Ba(r,1632,1641,!0,n);case 12:case 49:return Bm(r,1,9999,V6,3,n);case 35:return Bm(r,1,9999,V6,3,n).toLowerCase();case 13:return Ba(r,2534,2543,!0,n);case 14:case 30:return Ba(r,6112,6121,!0,n);case 15:return jh(r,"",a);case 16:return jh(r,"",a);case 17:case 48:return WA(r,"",W6,"",a,fd|md|o0);case 47:return WA(r,"",Y6,"",a,Pm|fd|md|o0);case 42:return WA(r,"",W6,"",a,fd|md|o0);case 41:return WA(r,"",Y6,"",a,Pm|fd|md|o0);case 26:return WA(r,"","",X6,a,0);case 25:return WA(r,"","",X6,a,Pm|fd|md);case 31:return WA(r,"","",v5,s,Pm|fd|md);case 33:return WA(r,"","",v5,s,0);case 32:return WA(r,"","",v5,s,Pm|fd|md);case 18:return Ba(r,2406,2415,!0,n);case 20:return Bm(r,1,19999,G1e,3,n);case 21:return Ba(r,2790,2799,!0,n);case 22:return Ba(r,2662,2671,!0,n);case 22:return Bm(r,1,10999,$1e,3,n);case 23:return jh(r,"");case 24:return jh(r,"");case 27:return Ba(r,3302,3311,!0,n);case 28:return jh(r,"",a);case 29:return jh(r,"",a);case 34:return Ba(r,3792,3801,!0,n);case 37:return Ba(r,6160,6169,!0,n);case 38:return Ba(r,4160,4169,!0,n);case 39:return Ba(r,2918,2927,!0,n);case 40:return Ba(r,1776,1785,!0,n);case 43:return Ba(r,3046,3055,!0,n);case 44:return Ba(r,3174,3183,!0,n);case 45:return Ba(r,3664,3673,!0,n);case 46:return Ba(r,3872,3881,!0,n);case 3:default:return Ba(r,48,57,!0,n)}},p9="data-html2canvas-ignore",J6=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new q1e,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,a=V1e(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=X1e(a).then(function(){return Ci(n,void 0,void 0,function(){var d,f;return ni(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(t2e),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Y1e(c)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,f)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Z1e(document.doctype)+"<html></html>"),e2e(this.referenceElement.ownerDocument,s,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},r.prototype.createElementClone=function(e){if(DS(e,2))debugger;if(h9(e))return this.createCanvasClone(e);if(z6(e))return this.createVideoClone(e);if(q6(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return QS(t)&&(QS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),$6(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return b5(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},r.prototype.appendChildNode=function(e,t,n){(!Qm(t)||!z1e(t)&&!t.hasAttribute(p9)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Qm(t)||!q6(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Qm(s)&&m9(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(l){return a.appendChildNode(t,l,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(u9(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Qm(e)&&(RS(e)||Jv(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&RS(a)&&(this.clonedReferenceElement=a),V4(a)&&a2e(a);var c=this.counters.parse(new _6(this.context,s)),u=this.resolvePseudoContent(e,a,i,g0.BEFORE);$6(e)&&(t=!0),z6(e)||this.cloneChildNodes(e,a,t),u&&a.insertBefore(u,a.firstChild);var d=this.resolvePseudoContent(e,a,l,g0.AFTER);return d&&a.appendChild(d),this.counters.pop(c),(s&&(this.options.copyStyles||Jv(e))&&!f9(e)||t)&&b5(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Aw(e)||uw(e))&&(Aw(a)||uw(a))&&(a.value=e.value),a}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,a){var s=this;if(n){var i=n.content,l=t.ownerDocument;if(!(!l||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new _6(this.context,n));var c=new Rwe(this.context,n),u=l.createElement("html2canvaspseudoelement");b5(n,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(l.createTextNode(f.value));else if(f.type===22){var g=l.createElement("img");g.src=f.value,g.style.opacity="1",u.appendChild(g)}else if(f.type===18){if(f.name==="attr"){var p=f.values.filter(pn);p.length&&u.appendChild(l.createTextNode(e.getAttribute(p[0].value)||""))}else if(f.name==="counter"){var x=f.values.filter(xg),y=x[0],b=x[1];if(y&&pn(y)){var w=s.counters.getCounterValue(y.value),N=b&&pn(b)?LS.parse(s.context,b.value):3;u.appendChild(l.createTextNode(H0(w,N,!1)))}}else if(f.name==="counters"){var j=f.values.filter(xg),y=j[0],k=j[1],b=j[2];if(y&&pn(y)){var T=s.counters.getCounterValues(y.value),I=b&&pn(b)?LS.parse(s.context,b.value):3,M=k&&k.type===0?k.value:"",L=T.map(function(F){return H0(F,I,!1)}).join(M);u.appendChild(l.createTextNode(L))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(l.createTextNode(E6(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(E6(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(f.value))}}),u.className=HS+" "+KS;var d=a===g0.BEFORE?" "+HS:" "+KS;return Jv(t)?t.className.baseValue+=d:t.className+=d,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),g0;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(g0||(g0={}));var V1e=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(p9,"true"),r.body.appendChild(t),t},W1e=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},Y1e=function(r){return Promise.all([].slice.call(r.images,0).map(W1e))},X1e=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},J1e=["all","d","content"],b5=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);J1e.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},Z1e=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},e2e=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},t2e=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},r2e=":before",n2e=":after",HS="___html2canvas___pseudoelement_before",KS="___html2canvas___pseudoelement_after",Z6=`{
    content: "" !important;
    display: none !important;
}`,a2e=function(r){s2e(r,"."+HS+r2e+Z6+`
         .`+KS+n2e+Z6)},s2e=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},y9=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),i2e=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(C5(e)||A2e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return Ci(this,void 0,void 0,function(){var t,n,a,s,i=this;return ni(this,function(l){switch(l.label){case 0:return t=y9.isSameOrigin(e),n=!w5(e)&&this._options.useCORS===!0&&Hs.SUPPORT_CORS_IMAGES&&!t,a=!w5(e)&&!t&&!C5(e)&&typeof this._options.proxy=="string"&&Hs.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!w5(e)&&!C5(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(u2e(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return c(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,i){var l=Hs.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(g){return i(g)},!1),f.readAsDataURL(c.response)}else i("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),t._options.imageTimeout){var d=t._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+a)}}c.send()})},r})(),o2e=/^data:image\/svg\+xml/i,l2e=/^data:image\/.*;base64,/i,c2e=/^data:image\/.*/i,A2e=function(r){return Hs.SUPPORT_SVG_DRAWING||!d2e(r)},w5=function(r){return c2e.test(r)},u2e=function(r){return l2e.test(r)},C5=function(r){return r.substr(0,4)==="blob"},d2e=function(r){return r.substr(-3).toLowerCase()==="svg"||o2e.test(r)},st=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),Nm=function(r,e,t){return new st(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},Cv=(function(){function r(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return r.prototype.subdivide=function(e,t){var n=Nm(this.start,this.startControl,e),a=Nm(this.startControl,this.endControl,e),s=Nm(this.endControl,this.end,e),i=Nm(n,a,e),l=Nm(a,s,e),c=Nm(i,l,e);return t?new r(this.start,n,i,c):new r(c,l,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),fl=function(r){return r.type===1},h2e=(function(){function r(e){var t=e.styles,n=e.bounds,a=s0(t.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],l=s0(t.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],d=s0(t.borderBottomRightRadius,n.width,n.height),f=d[0],g=d[1],p=s0(t.borderBottomLeftRadius,n.width,n.height),x=p[0],y=p[1],b=[];b.push((s+c)/n.width),b.push((x+f)/n.width),b.push((i+y)/n.height),b.push((u+g)/n.height);var w=Math.max.apply(Math,b);w>1&&(s/=w,i/=w,c/=w,u/=w,f/=w,g/=w,x/=w,y/=w);var N=n.width-c,j=n.height-g,k=n.width-f,T=n.height-y,I=t.borderTopWidth,M=t.borderRightWidth,L=t.borderBottomWidth,P=t.borderLeftWidth,q=En(t.paddingTop,e.bounds.width),F=En(t.paddingRight,e.bounds.width),R=En(t.paddingBottom,e.bounds.width),H=En(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Kn(n.left+P/3,n.top+I/3,s-P/3,i-I/3,Yr.TOP_LEFT):new st(n.left+P/3,n.top+I/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Kn(n.left+N,n.top+I/3,c-M/3,u-I/3,Yr.TOP_RIGHT):new st(n.left+n.width-M/3,n.top+I/3),this.bottomRightBorderDoubleOuterBox=f>0||g>0?Kn(n.left+k,n.top+j,f-M/3,g-L/3,Yr.BOTTOM_RIGHT):new st(n.left+n.width-M/3,n.top+n.height-L/3),this.bottomLeftBorderDoubleOuterBox=x>0||y>0?Kn(n.left+P/3,n.top+T,x-P/3,y-L/3,Yr.BOTTOM_LEFT):new st(n.left+P/3,n.top+n.height-L/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Kn(n.left+P*2/3,n.top+I*2/3,s-P*2/3,i-I*2/3,Yr.TOP_LEFT):new st(n.left+P*2/3,n.top+I*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Kn(n.left+N,n.top+I*2/3,c-M*2/3,u-I*2/3,Yr.TOP_RIGHT):new st(n.left+n.width-M*2/3,n.top+I*2/3),this.bottomRightBorderDoubleInnerBox=f>0||g>0?Kn(n.left+k,n.top+j,f-M*2/3,g-L*2/3,Yr.BOTTOM_RIGHT):new st(n.left+n.width-M*2/3,n.top+n.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||y>0?Kn(n.left+P*2/3,n.top+T,x-P*2/3,y-L*2/3,Yr.BOTTOM_LEFT):new st(n.left+P*2/3,n.top+n.height-L*2/3),this.topLeftBorderStroke=s>0||i>0?Kn(n.left+P/2,n.top+I/2,s-P/2,i-I/2,Yr.TOP_LEFT):new st(n.left+P/2,n.top+I/2),this.topRightBorderStroke=s>0||i>0?Kn(n.left+N,n.top+I/2,c-M/2,u-I/2,Yr.TOP_RIGHT):new st(n.left+n.width-M/2,n.top+I/2),this.bottomRightBorderStroke=f>0||g>0?Kn(n.left+k,n.top+j,f-M/2,g-L/2,Yr.BOTTOM_RIGHT):new st(n.left+n.width-M/2,n.top+n.height-L/2),this.bottomLeftBorderStroke=x>0||y>0?Kn(n.left+P/2,n.top+T,x-P/2,y-L/2,Yr.BOTTOM_LEFT):new st(n.left+P/2,n.top+n.height-L/2),this.topLeftBorderBox=s>0||i>0?Kn(n.left,n.top,s,i,Yr.TOP_LEFT):new st(n.left,n.top),this.topRightBorderBox=c>0||u>0?Kn(n.left+N,n.top,c,u,Yr.TOP_RIGHT):new st(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||g>0?Kn(n.left+k,n.top+j,f,g,Yr.BOTTOM_RIGHT):new st(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||y>0?Kn(n.left,n.top+T,x,y,Yr.BOTTOM_LEFT):new st(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Kn(n.left+P,n.top+I,Math.max(0,s-P),Math.max(0,i-I),Yr.TOP_LEFT):new st(n.left+P,n.top+I),this.topRightPaddingBox=c>0||u>0?Kn(n.left+Math.min(N,n.width-M),n.top+I,N>n.width+M?0:Math.max(0,c-M),Math.max(0,u-I),Yr.TOP_RIGHT):new st(n.left+n.width-M,n.top+I),this.bottomRightPaddingBox=f>0||g>0?Kn(n.left+Math.min(k,n.width-P),n.top+Math.min(j,n.height-L),Math.max(0,f-M),Math.max(0,g-L),Yr.BOTTOM_RIGHT):new st(n.left+n.width-M,n.top+n.height-L),this.bottomLeftPaddingBox=x>0||y>0?Kn(n.left+P,n.top+Math.min(T,n.height-L),Math.max(0,x-P),Math.max(0,y-L),Yr.BOTTOM_LEFT):new st(n.left+P,n.top+n.height-L),this.topLeftContentBox=s>0||i>0?Kn(n.left+P+H,n.top+I+q,Math.max(0,s-(P+H)),Math.max(0,i-(I+q)),Yr.TOP_LEFT):new st(n.left+P+H,n.top+I+q),this.topRightContentBox=c>0||u>0?Kn(n.left+Math.min(N,n.width+P+H),n.top+I+q,N>n.width+P+H?0:c-P+H,u-(I+q),Yr.TOP_RIGHT):new st(n.left+n.width-(M+F),n.top+I+q),this.bottomRightContentBox=f>0||g>0?Kn(n.left+Math.min(k,n.width-(P+H)),n.top+Math.min(j,n.height+I+q),Math.max(0,f-(M+F)),g-(L+R),Yr.BOTTOM_RIGHT):new st(n.left+n.width-(M+F),n.top+n.height-(L+R)),this.bottomLeftContentBox=x>0||y>0?Kn(n.left+P+H,n.top+T,Math.max(0,x-(P+H)),y-(L+R),Yr.BOTTOM_LEFT):new st(n.left+P+H,n.top+n.height-(L+R))}return r})(),Yr;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Yr||(Yr={}));var Kn=function(r,e,t,n,a){var s=4*((Math.sqrt(2)-1)/3),i=t*s,l=n*s,c=r+t,u=e+n;switch(a){case Yr.TOP_LEFT:return new Cv(new st(r,u),new st(r,u-l),new st(c-i,e),new st(c,e));case Yr.TOP_RIGHT:return new Cv(new st(r,e),new st(r+i,e),new st(c,u-l),new st(c,u));case Yr.BOTTOM_RIGHT:return new Cv(new st(c,e),new st(c,e+l),new st(r+i,u),new st(r,u));case Yr.BOTTOM_LEFT:default:return new Cv(new st(c,u),new st(c-i,u),new st(r,e+l),new st(r,e))}},dw=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},f2e=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},hw=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},m2e=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),Bv=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),g2e=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),p2e=function(r){return r.type===0},x9=function(r){return r.type===1},y2e=function(r){return r.type===2},eL=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},x2e=function(r,e,t,n,a){return r.map(function(s,i){switch(i){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+a);case 3:return s.add(e,t+a)}return s})},v9=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),b9=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new h2e(this.container),this.container.styles.opacity<1&&this.effects.push(new g2e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new m2e(n,a,s))}if(this.container.styles.overflowX!==0){var i=dw(this.curves),l=hw(this.curves);eL(i,l)?this.effects.push(new Bv(i,6)):(this.effects.push(new Bv(i,2)),this.effects.push(new Bv(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!x9(c)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=dw(n.curves),l=hw(n.curves);eL(i,l)||a.unshift(new Bv(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return ss(c.target,e)})},r})(),zS=function(r,e,t,n){r.container.elements.forEach(function(a){var s=ss(a.flags,4),i=ss(a.flags,2),l=new b9(a,r);ss(a.styles.display,2048)&&n.push(l);var c=ss(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?t:e,d=new v9(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var g=0;u.negativeZIndex.some(function(x,y){return f>x.element.container.styles.zIndex.order?(g=y,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(f>0){var p=0;u.positiveZIndex.some(function(x,y){return f>=x.element.container.styles.zIndex.order?(p=y+1,!1):p>0}),u.positiveZIndex.splice(p,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);zS(l,d,s?d:t,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),zS(l,e,t,c);ss(a.flags,8)&&w9(a,c)})},w9=function(r,e){for(var t=r instanceof US?r.start:1,n=r instanceof US?r.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof s9&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=H0(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},v2e=function(r){var e=new b9(r,null),t=new v9(e),n=[];return zS(e,t,t,n),w9(e.container,n),t},tL=function(r,e){switch(e){case 0:return pl(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return pl(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return pl(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return pl(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},b2e=function(r,e){switch(e){case 0:return pl(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return pl(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return pl(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return pl(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},w2e=function(r,e){switch(e){case 0:return pl(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return pl(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return pl(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return pl(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},C2e=function(r,e){switch(e){case 0:return Nv(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Nv(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Nv(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Nv(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Nv=function(r,e){var t=[];return fl(r)?t.push(r.subdivide(.5,!1)):t.push(r),fl(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},pl=function(r,e,t,n){var a=[];return fl(r)?a.push(r.subdivide(.5,!1)):a.push(r),fl(t)?a.push(t.subdivide(.5,!0)):a.push(t),fl(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),fl(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},C9=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},fw=function(r){var e=r.styles,t=r.bounds,n=En(e.paddingLeft,t.width),a=En(e.paddingRight,t.width),s=En(e.paddingTop,t.width),i=En(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+i))},B2e=function(r,e){return r===0?e.bounds:r===2?fw(e):C9(e)},N2e=function(r,e){return r===0?e.bounds:r===2?fw(e):C9(e)},B5=function(r,e,t){var n=B2e(Om(r.styles.backgroundOrigin,e),r),a=N2e(Om(r.styles.backgroundClip,e),r),s=S2e(Om(r.styles.backgroundSize,e),t,n),i=s[0],l=s[1],c=s0(Om(r.styles.backgroundPosition,e),n.width-i,n.height-l),u=j2e(Om(r.styles.backgroundRepeat,e),c,s,n,a),d=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[u,d,f,i,l]},Sm=function(r){return pn(r)&&r.value===Xm.AUTO},Sv=function(r){return typeof r=="number"},S2e=function(r,e,t){var n=e[0],a=e[1],s=e[2],i=r[0],l=r[1];if(!i)return[0,0];if(Ha(i)&&l&&Ha(l))return[En(i,t.width),En(l,t.height)];var c=Sv(s);if(pn(i)&&(i.value===Xm.CONTAIN||i.value===Xm.COVER)){if(Sv(s)){var u=t.width/t.height;return u<s!=(i.value===Xm.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=Sv(n),f=Sv(a),g=d||f;if(Sm(i)&&(!l||Sm(l))){if(d&&f)return[n,a];if(!c&&!g)return[t.width,t.height];if(g&&c){var p=d?n:a*s,x=f?a:n/s;return[p,x]}var y=d?n:t.width,b=f?a:t.height;return[y,b]}if(c){var w=0,N=0;return Ha(i)?w=En(i,t.width):Ha(l)&&(N=En(l,t.height)),Sm(i)?w=N*s:(!l||Sm(l))&&(N=w/s),[w,N]}var j=null,k=null;if(Ha(i)?j=En(i,t.width):l&&Ha(l)&&(k=En(l,t.height)),j!==null&&(!l||Sm(l))&&(k=d&&f?j/n*a:t.height),k!==null&&Sm(i)&&(j=d&&f?k/a*n:t.width),j!==null&&k!==null)return[j,k];throw new Error("Unable to calculate background-size for element")},Om=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},j2e=function(r,e,t,n,a){var s=e[0],i=e[1],l=t[0],c=t[1];switch(r){case 2:return[new st(Math.round(n.left),Math.round(n.top+i)),new st(Math.round(n.left+n.width),Math.round(n.top+i)),new st(Math.round(n.left+n.width),Math.round(c+n.top+i)),new st(Math.round(n.left),Math.round(c+n.top+i))];case 3:return[new st(Math.round(n.left+s),Math.round(n.top)),new st(Math.round(n.left+s+l),Math.round(n.top)),new st(Math.round(n.left+s+l),Math.round(n.height+n.top)),new st(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new st(Math.round(n.left+s),Math.round(n.top+i)),new st(Math.round(n.left+s+l),Math.round(n.top+i)),new st(Math.round(n.left+s+l),Math.round(n.top+i+c)),new st(Math.round(n.left+s),Math.round(n.top+i+c))];default:return[new st(Math.round(a.left),Math.round(a.top)),new st(Math.round(a.left+a.width),Math.round(a.top)),new st(Math.round(a.left+a.width),Math.round(a.height+a.top)),new st(Math.round(a.left),Math.round(a.height+a.top))]}},E2e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rL="Hidden Text",_2e=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=E2e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(rL)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(rL)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:l,middle:c}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),B9=(function(){function r(e,t){this.context=e,this.options=t}return r})(),k2e=1e4,T2e=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new _2e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),y2e(t)&&(this.ctx.globalAlpha=t.opacity),p2e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),x9(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Ci(this,void 0,void 0,function(){var n;return ni(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Ci(this,void 0,void 0,function(){return ni(this,function(n){switch(n.label){case 0:if(ss(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var i=$4(t.text);i.reduce(function(l,c){return s.ctx.fillText(c,l,t.bounds.top+a),l+s.ctx.measureText(c).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=L2e(t.fontFamily).join(", "),s=Ey(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(t,n){return Ci(this,void 0,void 0,function(){var a,s,i,l,c,u,d,f,g=this;return ni(this,function(p){return a=this.createFontStyle(n),s=a[0],i=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(i,l),u=c.baseline,d=c.middle,f=n.paintOrder,t.textBounds.forEach(function(x){f.forEach(function(y){switch(y){case 0:g.ctx.fillStyle=xs(n.color),g.renderTextWithLetterSpacing(x,n.letterSpacing,u);var b=n.textShadow;b.length&&x.text.trim().length&&(b.slice(0).reverse().forEach(function(w){g.ctx.shadowColor=xs(w.color),g.ctx.shadowOffsetX=w.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=w.offsetY.number*g.options.scale,g.ctx.shadowBlur=w.blur.number,g.renderTextWithLetterSpacing(x,n.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),n.textDecorationLine.length&&(g.ctx.fillStyle=xs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:g.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+u),x.bounds.width,1);break;case 2:g.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:g.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+d),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(g.ctx.strokeStyle=xs(n.webkitTextStrokeColor),g.ctx.lineWidth=n.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=fw(t),i=hw(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Ci(this,void 0,void 0,function(){var n,a,s,i,l,c,N,N,u,d,f,g,k,p,x,T,y,b,w,N,j,k,T;return ni(this,function(I){switch(I.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,s=n.styles,i=0,l=n.textNodes,I.label=1;case 1:return i<l.length?(c=l[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:I.sent(),I.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof r9))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return N=I.sent(),this.renderReplacedElement(n,a,N),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof n9&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof a9))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return N=I.sent(),this.renderReplacedElement(n,a,N),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof l9&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=I.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),I.label=14;case 14:if(n instanceof G4&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===lw?n.checked&&(this.ctx.save(),this.path([new st(n.bounds.left+f*.39363,n.bounds.top+f*.79),new st(n.bounds.left+f*.16,n.bounds.top+f*.5549),new st(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new st(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new st(n.bounds.left+f*.72983,n.bounds.top+f*.23),new st(n.bounds.left+f*.84,n.bounds.top+f*.34085),new st(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=xs(K6),this.ctx.fill(),this.ctx.restore()):n.type===cw&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=xs(K6),this.ctx.fill(),this.ctx.restore())),F2e(n)&&n.value.length){switch(g=this.createFontStyle(s),k=g[0],p=g[1],x=this.fontMetrics.getMetrics(k,p).baseline,this.ctx.font=k,this.ctx.fillStyle=xs(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=O2e(n.styles.textAlign),T=fw(n),y=0,n.styles.textAlign){case 1:y+=T.width/2;break;case 2:y+=T.width;break}b=T.add(y,0,0,-T.height/2+1),this.ctx.save(),this.path([new st(T.left,T.top),new st(T.left+T.width,T.top),new st(T.left+T.width,T.top+T.height),new st(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new m0(n.value,b),s.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ss(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];N=void 0,j=w.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return N=I.sent(),this.ctx.drawImage(N,n.bounds.left-(N.width+10),n.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(s)[0],this.ctx.font=k,this.ctx.fillStyle=xs(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new vu(n.bounds.left,n.bounds.top+En(n.styles.paddingTop,n.bounds.width),n.bounds.width,S6(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new m0(t.listValue,T),s.letterSpacing,S6(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Ci(this,void 0,void 0,function(){var n,a,w,s,i,w,l,c,w,u,d,w,f,g,w,p,x,w,y,b,w;return ni(this,function(N){switch(N.label){case 0:if(ss(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:N.sent(),n=0,a=t.negativeZIndex,N.label=2;case 2:return n<a.length?(w=a[n],[4,this.renderStack(w)]):[3,5];case 3:N.sent(),N.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:N.sent(),s=0,i=t.nonInlineLevel,N.label=7;case 7:return s<i.length?(w=i[s],[4,this.renderNode(w)]):[3,10];case 8:N.sent(),N.label=9;case 9:return s++,[3,7];case 10:l=0,c=t.nonPositionedFloats,N.label=11;case 11:return l<c.length?(w=c[l],[4,this.renderStack(w)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,N.label=15;case 15:return u<d.length?(w=d[u],[4,this.renderStack(w)]):[3,18];case 16:N.sent(),N.label=17;case 17:return u++,[3,15];case 18:f=0,g=t.inlineLevel,N.label=19;case 19:return f<g.length?(w=g[f],[4,this.renderNode(w)]):[3,22];case 20:N.sent(),N.label=21;case 21:return f++,[3,19];case 22:p=0,x=t.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return p<x.length?(w=x[p],[4,this.renderStack(w)]):[3,26];case 24:N.sent(),N.label=25;case 25:return p++,[3,23];case 26:y=0,b=t.positiveZIndex,N.label=27;case 27:return y<b.length?(w=b[y],[4,this.renderStack(w)]):[3,30];case 28:N.sent(),N.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,s){var i=fl(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),fl(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(t,n,a){var s;if(t.width===n&&t.height===a)return t;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=i.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(t,0,0,t.width,t.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(t){return Ci(this,void 0,void 0,function(){var n,a,s,i,l,c;return ni(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,a=function(d){var f,g,p,q,$,te,H,z,L,x,q,$,te,H,z,y,b,w,N,j,k,T,I,M,L,P,q,F,R,H,z,X,$,te,ee,fe,_e,re,U,Y,ne,oe;return ni(this,function(de){switch(de.label){case 0:if(d.type!==0)return[3,5];f=void 0,g=d.url,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return f=de.sent(),[3,4];case 3:return de.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return f&&(p=B5(t,n,[f.width,f.height,f.width/f.height]),q=p[0],$=p[1],te=p[2],H=p[3],z=p[4],L=s.ctx.createPattern(s.resizeImage(f,H,z),"repeat"),s.renderRepeat(q,L,$,te)),[3,6];case 5:pbe(d)?(x=B5(t,n,[null,null,null]),q=x[0],$=x[1],te=x[2],H=x[3],z=x[4],y=dbe(d.angle,H,z),b=y[0],w=y[1],N=y[2],j=y[3],k=y[4],T=document.createElement("canvas"),T.width=H,T.height=z,I=T.getContext("2d"),M=I.createLinearGradient(w,j,N,k),B6(d.stops,b).forEach(function(he){return M.addColorStop(he.stop,xs(he.color))}),I.fillStyle=M,I.fillRect(0,0,H,z),H>0&&z>0&&(L=s.ctx.createPattern(T,"repeat"),s.renderRepeat(q,L,$,te))):ybe(d)&&(P=B5(t,n,[null,null,null]),q=P[0],F=P[1],R=P[2],H=P[3],z=P[4],X=d.position.length===0?[K4]:d.position,$=En(X[0],H),te=En(X[X.length-1],z),ee=hbe(d,$,te,H,z),fe=ee[0],_e=ee[1],fe>0&&_e>0&&(re=s.ctx.createRadialGradient(F+$,R+te,0,F+$,R+te,fe),B6(d.stops,fe*2).forEach(function(he){return re.addColorStop(he.stop,xs(he.color))}),s.path(q),s.ctx.fillStyle=re,fe!==_e?(U=t.bounds.left+.5*t.bounds.width,Y=t.bounds.top+.5*t.bounds.height,ne=_e/fe,oe=1/ne,s.ctx.save(),s.ctx.translate(U,Y),s.ctx.transform(1,0,0,ne,0,0),s.ctx.translate(-U,-Y),s.ctx.fillRect(F,oe*(R-Y)+Y,H,z*oe),s.ctx.restore()):s.ctx.fill())),de.label=6;case 6:return n--,[2]}})},s=this,i=0,l=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<l.length?(c=l[i],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return Ci(this,void 0,void 0,function(){return ni(this,function(s){return this.path(tL(a,n)),this.ctx.fillStyle=xs(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,s){return Ci(this,void 0,void 0,function(){var i,l;return ni(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return i=b2e(s,a),this.path(i),this.ctx.fillStyle=xs(t),this.ctx.fill(),l=w2e(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Ci(this,void 0,void 0,function(){var n,a,s,i,l,c,u,d,f=this;return ni(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!Td(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=P2e(Om(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Td(n.backgroundColor)||(this.ctx.fillStyle=xs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var x=dw(t.curves),y=p.inset?0:k2e,b=x2e(x,-y+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(x),f.ctx.clip(),f.mask(b)):(f.mask(x),f.ctx.clip(),f.path(b)),f.ctx.shadowOffsetX=p.offsetX.number+y,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=xs(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?xs(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),g.label=2;case 2:l=0,c=0,u=s,g.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!Td(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,t.curves)];case 10:g.sent(),g.label=11;case 11:l++,g.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,s,i){return Ci(this,void 0,void 0,function(){var l,c,u,d,f,g,p,x,y,b,w,N,j,k,T,I,T,I;return ni(this,function(M){return this.ctx.save(),l=C2e(s,a),c=tL(s,a),i===2&&(this.path(c),this.ctx.clip()),fl(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),fl(c[1])?(f=c[1].end.x,g=c[1].end.y):(f=c[1].x,g=c[1].y),a===0||a===2?p=Math.abs(u-f):p=Math.abs(d-g),this.ctx.beginPath(),i===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,y=n<3?n*2:n,i===3&&(x=n,y=n),b=!0,p<=x*2?b=!1:p<=x*2+y?(w=p/(2*x+y),x*=w,y*=w):(N=Math.floor((p+y)/(x+y)),j=(p-N*x)/(N-1),k=(p-(N+1)*x)/N,y=k<=0||Math.abs(y-j)<Math.abs(y-k)?j:k),b&&(i===3?this.ctx.setLineDash([0,x+y]):this.ctx.setLineDash([x,y])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=xs(t),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(fl(c[0])&&(T=c[3],I=c[0],this.ctx.beginPath(),this.formatPath([new st(T.end.x,T.end.y),new st(I.start.x,I.start.y)]),this.ctx.stroke()),fl(c[1])&&(T=c[1],I=c[2],this.ctx.beginPath(),this.formatPath([new st(T.end.x,T.end.y),new st(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Ci(this,void 0,void 0,function(){var n;return ni(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=v2e(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(B9),F2e=function(r){return r instanceof o9||r instanceof i9?!0:r instanceof G4&&r.type!==cw&&r.type!==lw},P2e=function(r,e){switch(r){case 0:return dw(e);case 2:return f2e(e);case 1:default:return hw(e)}},O2e=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},I2e=["-apple-system","system-ui"],L2e=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return I2e.indexOf(e)===-1}):r},D2e=(function(r){xc(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return Ci(this,void 0,void 0,function(){var n,a;return ni(this,function(s){switch(s.label){case 0:return n=MS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,M2e(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(B9),M2e=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},U2e=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,av([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,av([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,av([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,av([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),R2e=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new U2e({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new i2e(this,e)}return r.instanceCount=1,r})(),W4=function(r,e){return e===void 0&&(e={}),Q2e(r,e)};typeof window<"u"&&y9.setContext(window);var Q2e=function(r,e){return Ci(void 0,void 0,void 0,function(){var t,n,a,s,i,l,c,u,d,f,g,p,x,y,b,w,N,j,k,T,M,I,M,L,P,q,F,R,H,z,X,$,te,ee,fe,_e,re,U,Y,ne;return ni(this,function(oe){switch(oe.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(P=e.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:e.proxy,useCORS:(q=e.useCORS)!==null&&q!==void 0?q:!1},s=CS({logging:(F=e.logging)!==null&&F!==void 0?F:!0,cache:e.cache},a),i={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(H=e.windowHeight)!==null&&H!==void 0?H:n.innerHeight,scrollX:(z=e.scrollX)!==null&&z!==void 0?z:n.pageXOffset,scrollY:(X=e.scrollY)!==null&&X!==void 0?X:n.pageYOffset},l=new vu(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),c=new R2e(s,l),u=($=e.foreignObjectRendering)!==null&&$!==void 0?$:!1,d={allowTaint:(te=e.allowTaint)!==null&&te!==void 0?te:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),f=new J6(c,r,d),g=f.clonedReferenceElement,g?[4,f.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=oe.sent(),x=V4(g)||K1e(g)?xxe(g.ownerDocument):j1(c,g),y=x.width,b=x.height,w=x.left,N=x.top,j=H2e(c,g,e.backgroundColor),k={canvas:e.canvas,backgroundColor:j,scale:(fe=(ee=e.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&fe!==void 0?fe:1,x:((_e=e.x)!==null&&_e!==void 0?_e:0)+w,y:((re=e.y)!==null&&re!==void 0?re:0)+N,width:(U=e.width)!==null&&U!==void 0?U:Math.ceil(y),height:(Y=e.height)!==null&&Y!==void 0?Y:Math.ceil(b)},u?(c.logger.debug("Document cloned, using foreign object rendering"),M=new D2e(c,k),[4,M.render(g)]):[3,3];case 2:return T=oe.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+w+","+N+" with size "+y+"x"+b+" using computed rendering"),c.logger.debug("Starting DOM parsing"),I=A9(c,g),j===I.styles.backgroundColor&&(I.styles.backgroundColor=lu.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),M=new T2e(c,k),[4,M.render(I)];case 4:T=oe.sent(),oe.label=5;case 5:return(!((ne=e.removeContainer)!==null&&ne!==void 0)||ne)&&(J6.destroy(p)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,T]}})})},H2e=function(r,e,t){var n=e.ownerDocument,a=n.documentElement?h0(r,getComputedStyle(n.documentElement).backgroundColor):lu.TRANSPARENT,s=n.body?h0(r,getComputedStyle(n.body).backgroundColor):lu.TRANSPARENT,i=typeof t=="string"?h0(r,t):t===null?lu.TRANSPARENT:4294967295;return e===n.documentElement?Td(a)?Td(s)?i:s:a:i};const K2e=Object.freeze(Object.defineProperty({__proto__:null,default:W4},Symbol.toStringTag,{value:"Module"}));function sn(r){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(r)}var dc=Uint8Array,Po=Uint16Array,Y4=Int32Array,X4=new dc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J4=new dc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nL=new dc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N9=function(r,e){for(var t=new Po(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new Y4(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},S9=N9(X4,2),z2e=S9.b,qS=S9.r;z2e[28]=258,qS[258]=28;var q2e=N9(J4,0),aL=q2e.r,$S=new Po(32768);for(var Dn=0;Dn<32768;++Dn){var dd=(Dn&43690)>>1|(Dn&21845)<<1;dd=(dd&52428)>>2|(dd&13107)<<2,dd=(dd&61680)>>4|(dd&3855)<<4,$S[Dn]=((dd&65280)>>8|(dd&255)<<8)>>1}var p0=(function(r,e,t){for(var n=r.length,a=0,s=new Po(e);a<n;++a)r[a]&&++s[r[a]-1];var i=new Po(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(t){l=new Po(1<<e);var c=15-e;for(a=0;a<n;++a)if(r[a])for(var u=a<<4|r[a],d=e-r[a],f=i[r[a]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)l[$S[f]>>c]=u}else for(l=new Po(n),a=0;a<n;++a)r[a]&&(l[a]=$S[i[r[a]-1]++]>>15-r[a]);return l}),ff=new dc(288);for(var Dn=0;Dn<144;++Dn)ff[Dn]=8;for(var Dn=144;Dn<256;++Dn)ff[Dn]=9;for(var Dn=256;Dn<280;++Dn)ff[Dn]=7;for(var Dn=280;Dn<288;++Dn)ff[Dn]=8;var mw=new dc(32);for(var Dn=0;Dn<32;++Dn)mw[Dn]=5;var $2e=p0(ff,9,0),G2e=p0(mw,5,0),j9=function(r){return(r+7)/8|0},V2e=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new dc(r.subarray(e,t))},YA=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Vp=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},N5=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,s=t.slice();if(!a)return{t:_9,l:0};if(a==1){var i=new dc(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(T,I){return T.f-I.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],u=0,d=1,f=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=t[t[u].f<t[f].f?u++:f++],c=t[u!=d&&t[u].f<t[f].f?u++:f++],t[d++]={s:-1,f:l.f+c.f,l,r:c};for(var g=s[0].s,n=1;n<a;++n)s[n].s>g&&(g=s[n].s);var p=new Po(g+1),x=GS(t[d-1],p,0);if(x>e){var n=0,y=0,b=x-e,w=1<<b;for(s.sort(function(I,M){return p[M.s]-p[I.s]||I.f-M.f});n<a;++n){var N=s[n].s;if(p[N]>e)y+=w-(1<<x-p[N]),p[N]=e;else break}for(y>>=b;y>0;){var j=s[n].s;p[j]<e?y-=1<<e-p[j]++-1:++n}for(;n>=0&&y;--n){var k=s[n].s;p[k]==e&&(--p[k],++y)}x=e}return{t:new dc(p),l:x}},GS=function(r,e,t){return r.s==-1?Math.max(GS(r.l,e,t+1),GS(r.r,e,t+1)):e[r.s]=t},sL=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Po(++e),n=0,a=r[0],s=1,i=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=r[l]}return{c:t.subarray(0,n),n:e}},Wp=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},E9=function(r,e,t){var n=t.length,a=j9(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<n;++s)r[a+s+4]=t[s];return(a+4+n)*8},iL=function(r,e,t,n,a,s,i,l,c,u,d){YA(e,d++,t),++a[256];for(var f=N5(a,15),g=f.t,p=f.l,x=N5(s,15),y=x.t,b=x.l,w=sL(g),N=w.c,j=w.n,k=sL(y),T=k.c,I=k.n,M=new Po(19),L=0;L<N.length;++L)++M[N[L]&31];for(var L=0;L<T.length;++L)++M[T[L]&31];for(var P=N5(M,7),q=P.t,F=P.l,R=19;R>4&&!q[nL[R-1]];--R);var H=u+5<<3,z=Wp(a,ff)+Wp(s,mw)+i,X=Wp(a,g)+Wp(s,y)+i+14+3*R+Wp(M,q)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&H<=z&&H<=X)return E9(e,d,r.subarray(c,c+u));var $,te,ee,fe;if(YA(e,d,1+(X<z)),d+=2,X<z){$=p0(g,p,0),te=g,ee=p0(y,b,0),fe=y;var _e=p0(q,F,0);YA(e,d,j-257),YA(e,d+5,I-1),YA(e,d+10,R-4),d+=14;for(var L=0;L<R;++L)YA(e,d+3*L,q[nL[L]]);d+=3*R;for(var re=[N,T],U=0;U<2;++U)for(var Y=re[U],L=0;L<Y.length;++L){var ne=Y[L]&31;YA(e,d,_e[ne]),d+=q[ne],ne>15&&(YA(e,d,Y[L]>>5&127),d+=Y[L]>>12)}}else $=$2e,te=ff,ee=G2e,fe=mw;for(var L=0;L<l;++L){var oe=n[L];if(oe>255){var ne=oe>>18&31;Vp(e,d,$[ne+257]),d+=te[ne+257],ne>7&&(YA(e,d,oe>>23&31),d+=X4[ne]);var de=oe&31;Vp(e,d,ee[de]),d+=fe[de],de>3&&(Vp(e,d,oe>>5&8191),d+=J4[de])}else Vp(e,d,$[oe]),d+=te[oe]}return Vp(e,d,$[256]),d+te[256]},W2e=new Y4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_9=new dc(0),Y2e=function(r,e,t,n,a,s){var i=s.z||r.length,l=new dc(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var f=W2e[e-1],g=f>>13,p=f&8191,x=(1<<t)-1,y=s.p||new Po(32768),b=s.h||new Po(x+1),w=Math.ceil(t/3),N=2*w,j=function(Qe){return(r[Qe]^r[Qe+1]<<w^r[Qe+2]<<N)&x},k=new Y4(25e3),T=new Po(288),I=new Po(32),M=0,L=0,P=s.i||0,q=0,F=s.w||0,R=0;P+2<i;++P){var H=j(P),z=P&32767,X=b[H];if(y[z]=X,b[H]=z,F<=P){var $=i-P;if((M>7e3||q>24576)&&($>423||!u)){d=iL(r,c,0,k,T,I,L,q,R,P-R,d),q=M=L=0,R=P;for(var te=0;te<286;++te)T[te]=0;for(var te=0;te<30;++te)I[te]=0}var ee=2,fe=0,_e=p,re=z-X&32767;if($>2&&H==j(P-re))for(var U=Math.min(g,$)-1,Y=Math.min(32767,P),ne=Math.min(258,$);re<=Y&&--_e&&z!=X;){if(r[P+ee]==r[P+ee-re]){for(var oe=0;oe<ne&&r[P+oe]==r[P+oe-re];++oe);if(oe>ee){if(ee=oe,fe=re,oe>U)break;for(var de=Math.min(re,oe-2),he=0,te=0;te<de;++te){var Se=P-re+te&32767,me=y[Se],be=Se-me&32767;be>he&&(he=be,X=Se)}}}z=X,X=y[z],re+=z-X&32767}if(fe){k[q++]=268435456|qS[ee]<<18|aL[fe];var ge=qS[ee]&31,le=aL[fe]&31;L+=X4[ge]+J4[le],++T[257+ge],++I[le],F=P+ee,++M}else k[q++]=r[P],++T[r[P]]}}for(P=Math.max(P,F);P<i;++P)k[q++]=r[P],++T[r[P]];d=iL(r,c,u,k,T,I,L,q,R,P-R,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=b,s.p=y,s.i=P,s.w=F)}else{for(var P=s.w||0;P<i+u;P+=65535){var je=P+65535;je>=i&&(c[d/8|0]=u,je=i),d=E9(c,d+1,r.subarray(P,je))}s.i=i}return V2e(l,0,n+j9(d)+a)},k9=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,s=t.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},X2e=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new dc(s.length+r.length);i.set(s),i.set(r,s.length),r=i,a.w=s.length}return Y2e(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},T9=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},J2e=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=k9();a.p(e.dictionary),T9(r,2,a.d())}};function VS(r,e){e||(e={});var t=k9();t.p(r);var n=X2e(r,e,e.dictionary?6:2,4);return J2e(n,e),T9(n,n.length-4,t.d()),n}var Z2e=typeof TextDecoder<"u"&&new TextDecoder,eCe=0;try{Z2e.decode(_9,{stream:!0}),eCe=1}catch{}function tCe(r){if(Array.isArray(r))return r}function rCe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function oL(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function nCe(r,e){if(r){if(typeof r=="string")return oL(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oL(r,e):void 0}}function aCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(r,e){return tCe(r)||rCe(r,e)||nCe(r,e)||aCe()}function cL(r,e="utf8"){return new TextDecoder(e).decode(r)}const sCe=new TextEncoder;function iCe(r){return sCe.encode(r)}const oCe=1024*8,lCe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),S5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Z4{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=oCe,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,s=e.byteLength-a;let i=a;(ArrayBuffer.isView(e)||e instanceof Z4)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=S5[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===lCe&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new S5[t](l.buffer);return this.offset+=n,c.reverse(),c}const i=new S5[t](s);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return cL(this.readBytes(e))}decodeText(e=1,t="utf8"){return cL(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(iCe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hg(r){let e=r.length;for(;--e>=0;)r[e]=0}const cCe=3,ACe=258,F9=29,uCe=256,dCe=uCe+1+F9,P9=30,hCe=512,fCe=new Array((dCe+2)*2);Hg(fCe);const mCe=new Array(P9*2);Hg(mCe);const gCe=new Array(hCe);Hg(gCe);const pCe=new Array(ACe-cCe+1);Hg(pCe);const yCe=new Array(F9);Hg(yCe);const xCe=new Array(P9);Hg(xCe);const vCe=(r,e,t,n)=>{let a=r&65535|0,s=r>>>16&65535|0,i=0;for(;t!==0;){i=t>2e3?2e3:t,t-=i;do a=a+e[n++]|0,s=s+a|0;while(--i);a%=65521,s%=65521}return a|s<<16|0};var WS=vCe;const bCe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},wCe=new Uint32Array(bCe()),CCe=(r,e,t,n)=>{const a=wCe,s=n+t;r^=-1;for(let i=n;i<s;i++)r=r>>>8^a[(r^e[i])&255];return r^-1};var Wc=CCe,YS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},O9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const BCe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var NCe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)BCe(t,n)&&(r[n]=t[n])}}return r},SCe=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,a=0,s=r.length;n<s;n++){let i=r[n];t.set(i,a),a+=i.length}return t},I9={assign:NCe,flattenChunks:SCe};let L9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L9=!1}const K0=new Uint8Array(256);for(let r=0;r<256;r++)K0[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;K0[254]=K0[254]=1;var jCe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,s,i=r.length,l=0;for(a=0;a<i;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const ECe=(r,e)=>{if(e<65534&&r.subarray&&L9)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var _Ce=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a;const s=new Array(t*2);for(a=0,n=0;n<t;){let i=r[n++];if(i<128){s[a++]=i;continue}let l=K0[i];if(l>4){s[a++]=65533,n+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&n<t;)i=i<<6|r[n++]&63,l--;if(l>1){s[a++]=65533;continue}i<65536?s[a++]=i:(i-=65536,s[a++]=55296|i>>10&1023,s[a++]=56320|i&1023)}return ECe(s,a)},kCe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+K0[r[t]]>e?t:e},XS={string2buf:jCe,buf2string:_Ce,utf8border:kCe};function TCe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FCe=TCe;const jv=16209,PCe=16191;var OCe=function(e,t){let n,a,s,i,l,c,u,d,f,g,p,x,y,b,w,N,j,k,T,I,M,L,P,q;const F=e.state;n=e.next_in,P=e.input,a=n+(e.avail_in-5),s=e.next_out,q=e.output,i=s-(t-e.avail_out),l=s+(e.avail_out-257),c=F.dmax,u=F.wsize,d=F.whave,f=F.wnext,g=F.window,p=F.hold,x=F.bits,y=F.lencode,b=F.distcode,w=(1<<F.lenbits)-1,N=(1<<F.distbits)-1;e:do{x<15&&(p+=P[n++]<<x,x+=8,p+=P[n++]<<x,x+=8),j=y[p&w];t:for(;;){if(k=j>>>24,p>>>=k,x-=k,k=j>>>16&255,k===0)q[s++]=j&65535;else if(k&16){T=j&65535,k&=15,k&&(x<k&&(p+=P[n++]<<x,x+=8),T+=p&(1<<k)-1,p>>>=k,x-=k),x<15&&(p+=P[n++]<<x,x+=8,p+=P[n++]<<x,x+=8),j=b[p&N];r:for(;;){if(k=j>>>24,p>>>=k,x-=k,k=j>>>16&255,k&16){if(I=j&65535,k&=15,x<k&&(p+=P[n++]<<x,x+=8,x<k&&(p+=P[n++]<<x,x+=8)),I+=p&(1<<k)-1,I>c){e.msg="invalid distance too far back",F.mode=jv;break e}if(p>>>=k,x-=k,k=s-i,I>k){if(k=I-k,k>d&&F.sane){e.msg="invalid distance too far back",F.mode=jv;break e}if(M=0,L=g,f===0){if(M+=u-k,k<T){T-=k;do q[s++]=g[M++];while(--k);M=s-I,L=q}}else if(f<k){if(M+=u+f-k,k-=f,k<T){T-=k;do q[s++]=g[M++];while(--k);if(M=0,f<T){k=f,T-=k;do q[s++]=g[M++];while(--k);M=s-I,L=q}}}else if(M+=f-k,k<T){T-=k;do q[s++]=g[M++];while(--k);M=s-I,L=q}for(;T>2;)q[s++]=L[M++],q[s++]=L[M++],q[s++]=L[M++],T-=3;T&&(q[s++]=L[M++],T>1&&(q[s++]=L[M++]))}else{M=s-I;do q[s++]=q[M++],q[s++]=q[M++],q[s++]=q[M++],T-=3;while(T>2);T&&(q[s++]=q[M++],T>1&&(q[s++]=q[M++]))}}else if((k&64)===0){j=b[(j&65535)+(p&(1<<k)-1)];continue r}else{e.msg="invalid distance code",F.mode=jv;break e}break}}else if((k&64)===0){j=y[(j&65535)+(p&(1<<k)-1)];continue t}else if(k&32){F.mode=PCe;break e}else{e.msg="invalid literal/length code",F.mode=jv;break e}break}}while(n<a&&s<l);T=x>>3,n-=T,x-=T<<3,p&=(1<<x)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<l?257+(l-s):257-(s-l),F.hold=p,F.bits=x};const jm=15,AL=852,uL=592,dL=0,j5=1,hL=2,ICe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),LCe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DCe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MCe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UCe=(r,e,t,n,a,s,i,l)=>{const c=l.bits;let u=0,d=0,f=0,g=0,p=0,x=0,y=0,b=0,w=0,N=0,j,k,T,I,M,L=null,P;const q=new Uint16Array(jm+1),F=new Uint16Array(jm+1);let R=null,H,z,X;for(u=0;u<=jm;u++)q[u]=0;for(d=0;d<n;d++)q[e[t+d]]++;for(p=c,g=jm;g>=1&&q[g]===0;g--);if(p>g&&(p=g),g===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<g&&q[f]===0;f++);for(p<f&&(p=f),b=1,u=1;u<=jm;u++)if(b<<=1,b-=q[u],b<0)return-1;if(b>0&&(r===dL||g!==1))return-1;for(F[1]=0,u=1;u<jm;u++)F[u+1]=F[u]+q[u];for(d=0;d<n;d++)e[t+d]!==0&&(i[F[e[t+d]]++]=d);if(r===dL?(L=R=i,P=20):r===j5?(L=ICe,R=LCe,P=257):(L=DCe,R=MCe,P=0),N=0,d=0,u=f,M=s,x=p,y=0,T=-1,w=1<<p,I=w-1,r===j5&&w>AL||r===hL&&w>uL)return 1;for(;;){H=u-y,i[d]+1<P?(z=0,X=i[d]):i[d]>=P?(z=R[i[d]-P],X=L[i[d]-P]):(z=96,X=0),j=1<<u-y,k=1<<x,f=k;do k-=j,a[M+(N>>y)+k]=H<<24|z<<16|X|0;while(k!==0);for(j=1<<u-1;N&j;)j>>=1;if(j!==0?(N&=j-1,N+=j):N=0,d++,--q[u]===0){if(u===g)break;u=e[t+i[d]]}if(u>p&&(N&I)!==T){for(y===0&&(y=p),M+=f,x=u-y,b=1<<x;x+y<g&&(b-=q[x+y],!(b<=0));)x++,b<<=1;if(w+=1<<x,r===j5&&w>AL||r===hL&&w>uL)return 1;T=N&I,a[T]=p<<24|x<<16|M-s|0}}return N!==0&&(a[M+N]=u-y<<24|64<<16|0),l.bits=p,0};var y0=UCe;const RCe=0,D9=1,M9=2,{Z_FINISH:fL,Z_BLOCK:QCe,Z_TREES:Ev,Z_OK:mf,Z_STREAM_END:HCe,Z_NEED_DICT:KCe,Z_STREAM_ERROR:Cl,Z_DATA_ERROR:U9,Z_MEM_ERROR:R9,Z_BUF_ERROR:zCe,Z_DEFLATED:mL}=O9,D1=16180,gL=16181,pL=16182,yL=16183,xL=16184,vL=16185,bL=16186,wL=16187,CL=16188,BL=16189,gw=16190,XA=16191,E5=16192,NL=16193,_5=16194,SL=16195,jL=16196,EL=16197,_L=16198,_v=16199,kv=16200,kL=16201,TL=16202,FL=16203,PL=16204,OL=16205,k5=16206,IL=16207,LL=16208,zn=16209,Q9=16210,H9=16211,qCe=852,$Ce=592,GCe=15,VCe=GCe,DL=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function WCe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bf=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<D1||e.mode>H9?1:0},K9=r=>{if(Bf(r))return Cl;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=D1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(qCe),e.distcode=e.distdyn=new Int32Array($Ce),e.sane=1,e.back=-1,mf},z9=r=>{if(Bf(r))return Cl;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,K9(r)},q9=(r,e)=>{let t;if(Bf(r))return Cl;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Cl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,z9(r))},$9=(r,e)=>{if(!r)return Cl;const t=new WCe;r.state=t,t.strm=r,t.window=null,t.mode=D1;const n=q9(r,e);return n!==mf&&(r.state=null),n},YCe=r=>$9(r,VCe);let ML=!0,T5,F5;const XCe=r=>{if(ML){T5=new Int32Array(512),F5=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(y0(D9,r.lens,0,288,T5,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;y0(M9,r.lens,0,32,F5,0,r.work,{bits:5}),ML=!1}r.lencode=T5,r.lenbits=9,r.distcode=F5,r.distbits=5},G9=(r,e,t,n)=>{let a;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(t-n,t-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},JCe=(r,e)=>{let t,n,a,s,i,l,c,u,d,f,g,p,x,y,b=0,w,N,j,k,T,I,M,L;const P=new Uint8Array(4);let q,F;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bf(r)||!r.output||!r.input&&r.avail_in!==0)return Cl;t=r.state,t.mode===XA&&(t.mode=E5),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,d=t.bits,f=l,g=c,L=mf;e:for(;;)switch(t.mode){case D1:if(t.wrap===0){t.mode=E5;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=u&255,P[1]=u>>>8&255,t.check=Wc(t.check,P,2,0),u=0,d=0,t.mode=gL;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=zn;break}if((u&15)!==mL){r.msg="unknown compression method",t.mode=zn;break}if(u>>>=4,d-=4,M=(u&15)+8,t.wbits===0&&(t.wbits=M),M>15||M>t.wbits){r.msg="invalid window size",t.mode=zn;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?BL:XA,u=0,d=0;break;case gL:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.flags=u,(t.flags&255)!==mL){r.msg="unknown compression method",t.mode=zn;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=zn;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,t.check=Wc(t.check,P,2,0)),u=0,d=0,t.mode=pL;case pL:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,t.check=Wc(t.check,P,4,0)),u=0,d=0,t.mode=yL;case yL:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,t.check=Wc(t.check,P,2,0)),u=0,d=0,t.mode=xL;case xL:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,t.check=Wc(t.check,P,2,0)),u=0,d=0}else t.head&&(t.head.extra=null);t.mode=vL;case vL:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(M=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+p),M)),t.flags&512&&t.wrap&4&&(t.check=Wc(t.check,n,p,s)),l-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=bL;case bL:if(t.flags&2048){if(l===0)break e;p=0;do M=n[s+p++],t.head&&M&&t.length<65536&&(t.head.name+=String.fromCharCode(M));while(M&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Wc(t.check,n,p,s)),l-=p,s+=p,M)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=wL;case wL:if(t.flags&4096){if(l===0)break e;p=0;do M=n[s+p++],t.head&&M&&t.length<65536&&(t.head.comment+=String.fromCharCode(M));while(M&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Wc(t.check,n,p,s)),l-=p,s+=p,M)break e}else t.head&&(t.head.comment=null);t.mode=CL;case CL:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=zn;break}u=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=XA;break;case BL:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.adler=t.check=DL(u),u=0,d=0,t.mode=gw;case gw:if(t.havedict===0)return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=d,KCe;r.adler=t.check=1,t.mode=XA;case XA:if(e===QCe||e===Ev)break e;case E5:if(t.last){u>>>=d&7,d-=d&7,t.mode=k5;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(t.last=u&1,u>>>=1,d-=1,u&3){case 0:t.mode=NL;break;case 1:if(XCe(t),t.mode=_v,e===Ev){u>>>=2,d-=2;break e}break;case 2:t.mode=jL;break;case 3:r.msg="invalid block type",t.mode=zn}u>>>=2,d-=2;break;case NL:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=zn;break}if(t.length=u&65535,u=0,d=0,t.mode=_5,e===Ev)break e;case _5:t.mode=SL;case SL:if(p=t.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;a.set(n.subarray(s,s+p),i),l-=p,s+=p,c-=p,i+=p,t.length-=p;break}t.mode=XA;break;case jL:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.nlen=(u&31)+257,u>>>=5,d-=5,t.ndist=(u&31)+1,u>>>=5,d-=5,t.ncode=(u&15)+4,u>>>=4,d-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=zn;break}t.have=0,t.mode=EL;case EL:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.lens[R[t.have++]]=u&7,u>>>=3,d-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},L=y0(RCe,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,L){r.msg="invalid code lengths set",t.mode=zn;break}t.have=0,t.mode=_L;case _L:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[u&(1<<t.lenbits)-1],w=b>>>24,N=b>>>16&255,j=b&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(j<16)u>>>=w,d-=w,t.lens[t.have++]=j;else{if(j===16){for(F=w+2;d<F;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=w,d-=w,t.have===0){r.msg="invalid bit length repeat",t.mode=zn;break}M=t.lens[t.have-1],p=3+(u&3),u>>>=2,d-=2}else if(j===17){for(F=w+3;d<F;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,M=0,p=3+(u&7),u>>>=3,d-=3}else{for(F=w+7;d<F;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,M=0,p=11+(u&127),u>>>=7,d-=7}if(t.have+p>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=zn;break}for(;p--;)t.lens[t.have++]=M}}if(t.mode===zn)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=zn;break}if(t.lenbits=9,q={bits:t.lenbits},L=y0(D9,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,L){r.msg="invalid literal/lengths set",t.mode=zn;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},L=y0(M9,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,L){r.msg="invalid distances set",t.mode=zn;break}if(t.mode=_v,e===Ev)break e;case _v:t.mode=kv;case kv:if(l>=6&&c>=258){r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=d,OCe(r,g),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,d=t.bits,t.mode===XA&&(t.back=-1);break}for(t.back=0;b=t.lencode[u&(1<<t.lenbits)-1],w=b>>>24,N=b>>>16&255,j=b&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(N&&(N&240)===0){for(k=w,T=N,I=j;b=t.lencode[I+((u&(1<<k+T)-1)>>k)],w=b>>>24,N=b>>>16&255,j=b&65535,!(k+w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=k,d-=k,t.back+=k}if(u>>>=w,d-=w,t.back+=w,t.length=j,N===0){t.mode=OL;break}if(N&32){t.back=-1,t.mode=XA;break}if(N&64){r.msg="invalid literal/length code",t.mode=zn;break}t.extra=N&15,t.mode=kL;case kL:if(t.extra){for(F=t.extra;d<F;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=TL;case TL:for(;b=t.distcode[u&(1<<t.distbits)-1],w=b>>>24,N=b>>>16&255,j=b&65535,!(w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((N&240)===0){for(k=w,T=N,I=j;b=t.distcode[I+((u&(1<<k+T)-1)>>k)],w=b>>>24,N=b>>>16&255,j=b&65535,!(k+w<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=k,d-=k,t.back+=k}if(u>>>=w,d-=w,t.back+=w,N&64){r.msg="invalid distance code",t.mode=zn;break}t.offset=j,t.extra=N&15,t.mode=FL;case FL:if(t.extra){for(F=t.extra;d<F;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=zn;break}t.mode=PL;case PL:if(c===0)break e;if(p=g-c,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=zn;break}p>t.wnext?(p-=t.wnext,x=t.wsize-p):x=t.wnext-p,p>t.length&&(p=t.length),y=t.window}else y=a,x=i-t.offset,p=t.length;p>c&&(p=c),c-=p,t.length-=p;do a[i++]=y[x++];while(--p);t.length===0&&(t.mode=kv);break;case OL:if(c===0)break e;a[i++]=t.length,c--,t.mode=kv;break;case k5:if(t.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(g-=c,r.total_out+=g,t.total+=g,t.wrap&4&&g&&(r.adler=t.check=t.flags?Wc(t.check,a,g,i-g):WS(t.check,a,g,i-g)),g=c,t.wrap&4&&(t.flags?u:DL(u))!==t.check){r.msg="incorrect data check",t.mode=zn;break}u=0,d=0}t.mode=IL;case IL:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=zn;break}u=0,d=0}t.mode=LL;case LL:L=HCe;break e;case zn:L=U9;break e;case Q9:return R9;case H9:default:return Cl}return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=d,(t.wsize||g!==r.avail_out&&t.mode<zn&&(t.mode<k5||e!==fL))&&G9(r,r.output,r.next_out,g-r.avail_out),f-=r.avail_in,g-=r.avail_out,r.total_in+=f,r.total_out+=g,t.total+=g,t.wrap&4&&g&&(r.adler=t.check=t.flags?Wc(t.check,a,g,r.next_out-g):WS(t.check,a,g,r.next_out-g)),r.data_type=t.bits+(t.last?64:0)+(t.mode===XA?128:0)+(t.mode===_v||t.mode===_5?256:0),(f===0&&g===0||e===fL)&&L===mf&&(L=zCe),L},ZCe=r=>{if(Bf(r))return Cl;let e=r.state;return e.window&&(e.window=null),r.state=null,mf},eBe=(r,e)=>{if(Bf(r))return Cl;const t=r.state;return(t.wrap&2)===0?Cl:(t.head=e,e.done=!1,mf)},tBe=(r,e)=>{const t=e.length;let n,a,s;return Bf(r)||(n=r.state,n.wrap!==0&&n.mode!==gw)?Cl:n.mode===gw&&(a=1,a=WS(a,e,t,0),a!==n.check)?U9:(s=G9(r,e,t,t),s?(n.mode=Q9,R9):(n.havedict=1,mf))};var rBe=z9,nBe=q9,aBe=K9,sBe=YCe,iBe=$9,oBe=JCe,lBe=ZCe,cBe=eBe,ABe=tBe,uBe="pako inflate (from Nodeca project)",ZA={inflateReset:rBe,inflateReset2:nBe,inflateResetKeep:aBe,inflateInit:sBe,inflateInit2:iBe,inflate:oBe,inflateEnd:lBe,inflateGetHeader:cBe,inflateSetDictionary:ABe,inflateInfo:uBe};function dBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hBe=dBe;const V9=Object.prototype.toString,{Z_NO_FLUSH:fBe,Z_FINISH:mBe,Z_OK:z0,Z_STREAM_END:P5,Z_NEED_DICT:O5,Z_STREAM_ERROR:gBe,Z_DATA_ERROR:UL,Z_MEM_ERROR:pBe}=O9;function _y(r){this.options=I9.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FCe,this.strm.avail_out=0;let t=ZA.inflateInit2(this.strm,e.windowBits);if(t!==z0)throw new Error(YS[t]);if(this.header=new hBe,ZA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=XS.string2buf(e.dictionary):V9.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ZA.inflateSetDictionary(this.strm,e.dictionary),t!==z0)))throw new Error(YS[t])}_y.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,i,l;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?mBe:fBe,V9.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=ZA.inflate(t,i),s===O5&&a&&(s=ZA.inflateSetDictionary(t,a),s===z0?s=ZA.inflate(t,i):s===UL&&(s=O5));t.avail_in>0&&s===P5&&t.state.wrap>0&&r[t.next_in]!==0;)ZA.inflateReset(t),s=ZA.inflate(t,i);switch(s){case gBe:case UL:case O5:case pBe:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===P5))if(this.options.to==="string"){let c=XS.utf8border(t.output,t.next_out),u=t.next_out-c,d=XS.buf2string(t.output,c);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===z0&&l===0)){if(s===P5)return s=ZA.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};_y.prototype.onData=function(r){this.chunks.push(r)};_y.prototype.onEnd=function(r){r===z0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=I9.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function yBe(r,e){const t=new _y(e);if(t.push(r),t.err)throw t.msg||YS[t.err];return t.result}var xBe=_y,vBe=yBe,bBe={Inflate:xBe,inflate:vBe};const{Inflate:wBe,inflate:CBe}=bBe;var RL=wBe,BBe=CBe;const W9=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;W9[r]=e}const QL=4294967295;function NBe(r,e,t){let n=r;for(let a=0;a<t;a++)n=W9[(n^e[a])&255]^n>>>8;return n}function SBe(r,e){return(NBe(QL,r,e)^QL)>>>0}function HL(r,e,t){const n=r.readUint32(),a=SBe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function Y9(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function X9(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function J9(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function Z9(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-a]+t[s]>>1)&255}}function eK(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+jBe(e[s-a],t[s],t[s-a])&255}}function jBe(r,e,t){const n=r+e-t,a=Math.abs(n-r),s=Math.abs(n-e),i=Math.abs(n-t);return a<=s&&a<=i?r:s<=i?e:t}function EBe(r,e,t,n,a,s){switch(r){case 0:Y9(e,t,a);break;case 1:X9(e,t,a,s);break;case 2:J9(e,t,n,a);break;case 3:Z9(e,t,n,a,s);break;case 4:eK(e,t,n,a,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const _Be=new Uint16Array([255]),kBe=new Uint8Array(_Be.buffer),TBe=kBe[0]===255;function FBe(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*t*l);let u=0;for(let d=0;d<7;d++){const f=i[d],g=Math.ceil((t-f.x)/f.xStep),p=Math.ceil((n-f.y)/f.yStep);if(g<=0||p<=0)continue;const x=g*l,y=new Uint8Array(x);for(let b=0;b<p;b++){const w=e[u++],N=e.subarray(u,u+x);u+=x;const j=new Uint8Array(x);EBe(w,N,j,y,x,l),y.set(j);for(let k=0;k<g;k++){const T=f.x+k*f.xStep,I=f.y+b*f.yStep;if(!(T>=t||I>=n))for(let M=0;M<l;M++)c[(I*t+T)*l+M]=j[k*l+M]}}}if(s===16){const d=new Uint16Array(c.buffer);if(TBe)for(let f=0;f<d.length;f++)d[f]=PBe(d[f]);return d}else return c}function PBe(r){return(r&255)<<8|r>>8&255}const OBe=new Uint16Array([255]),IBe=new Uint8Array(OBe.buffer),LBe=IBe[0]===255,DBe=new Uint8Array(0);function KL(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*t),c=new Uint8Array(n*l);let u=DBe,d=0,f,g;for(let p=0;p<n;p++){switch(f=e.subarray(d+1,d+1+l),g=c.subarray(p*l,(p+1)*l),e[d]){case 0:Y9(f,g,l);break;case 1:X9(f,g,l,i);break;case 2:J9(f,g,u,l);break;case 3:Z9(f,g,u,l,i);break;case 4:eK(f,g,u,l,i);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=g,d+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(LBe)for(let x=0;x<p.length;x++)p[x]=MBe(p[x]);return p}else return c}function MBe(r){return(r&255)<<8|r>>8&255}const Zv=Uint8Array.of(137,80,78,71,13,10,26,10);function zL(r){if(!UBe(r.readBytes(Zv.length)))throw new Error("wrong PNG signature")}function UBe(r){if(r.length<Zv.length)return!1;for(let e=0;e<Zv.length;e++)if(r[e]!==Zv[e])return!1;return!0}const RBe="tEXt",QBe=0,tK=new TextDecoder("latin1");function HBe(r){if(zBe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const KBe=/^[\u0000-\u00FF]*$/;function zBe(r){if(!KBe.test(r))throw new Error("invalid latin1 text")}function qBe(r,e,t){const n=rK(e);r[n]=$Be(e,t-n.length-1)}function rK(r){for(r.mark();r.readByte()!==QBe;);const e=r.offset;r.reset();const t=tK.decode(r.readBytes(e-r.offset-1));return r.skip(1),HBe(t),t}function $Be(r,e){return tK.decode(r.readBytes(e))}const Bo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},I5={UNKNOWN:-1,DEFLATE:0},qL={UNKNOWN:-1,ADAPTIVE:0},L5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Tv={NONE:0,BACKGROUND:1,PREVIOUS:2},D5={SOURCE:0,OVER:1};class GBe extends Z4{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new RL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=I5.UNKNOWN,this._filterMethod=qL.UNKNOWN,this._interlaceMethod=L5.UNKNOWN,this._colorType=Bo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zL(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(zL(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case RBe:qBe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?HL(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?HL(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=VBe(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case Bo.GREYSCALE:n=1;break;case Bo.TRUECOLOUR:n=3;break;case Bo.INDEXED_COLOUR:n=1;break;case Bo.GREYSCALE_ALPHA:n=2;break;case Bo.TRUECOLOUR_ALPHA:n=4;break;case Bo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==I5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<t;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Bo.GREYSCALE:case Bo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Bo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Bo.UNKNOWN:case Bo.GREYSCALE_ALPHA:case Bo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=rK(this),n=this.readUint8();if(n!==I5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:BBe(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=KL({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case Tv.NONE:break;case Tv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const i=(a*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[i+l]=0}break;case Tv.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,a=(s,i)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+i)*this._png.channels,c=(s*t.width+i)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case D5.SOURCE:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++)e.data[l+u]=t.data[c+u]}break;case D5.OVER:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++){const d=t.data[c+this._png.channels-1]/n,f=u%(this._png.channels-1)===0?1:t.data[c+u],g=Math.floor(d*f+(1-d)*e.data[l+u]);e.data[l+u]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==qL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===L5.NO_INTERLACE)this._png.data=KL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===L5.ADAM7)this._png.data=FBe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Tv.NONE,blendOp:D5.SOURCE,data:e}),this._inflator=new RL,this._writingDataChunks=!1}}function VBe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var $L;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})($L||($L={}));function WBe(r,e){return new GBe(r,e).decode()}var Jt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function M5(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var bn={log:M5,warn:function(r){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):M5.call(null,arguments))},error:function(r){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):M5(r))}};function U5(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Ph(n.response,e,t)},n.onerror=function(){bn.error("could not download file")},n.send()}function GL(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fv(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Ph=Jt.saveAs||((typeof window>"u"?"undefined":sn(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Jt.URL||Jt.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?GL(a.href)?U5(r,e,t):Fv(a,a.target="_blank"):Fv(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Fv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(GL(r))U5(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Fv(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:sn(s)!=="object"&&(bn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return U5(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(Jt.HTMLElement)||Jt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":sn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(r)}else{var c=Jt.URL||Jt.webkitURL,u=c.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nK(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,s=t[n].process,i=a.exec(r);i&&(e=s(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var eb=Jt.atob.bind(Jt),VL=Jt.btoa.bind(Jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function R5(r,e){var t=r[0],n=r[1],a=r[2],s=r[3];t=Zs(t,n,a,s,e[0],7,-680876936),s=Zs(s,t,n,a,e[1],12,-389564586),a=Zs(a,s,t,n,e[2],17,606105819),n=Zs(n,a,s,t,e[3],22,-1044525330),t=Zs(t,n,a,s,e[4],7,-176418897),s=Zs(s,t,n,a,e[5],12,1200080426),a=Zs(a,s,t,n,e[6],17,-1473231341),n=Zs(n,a,s,t,e[7],22,-45705983),t=Zs(t,n,a,s,e[8],7,1770035416),s=Zs(s,t,n,a,e[9],12,-1958414417),a=Zs(a,s,t,n,e[10],17,-42063),n=Zs(n,a,s,t,e[11],22,-1990404162),t=Zs(t,n,a,s,e[12],7,1804603682),s=Zs(s,t,n,a,e[13],12,-40341101),a=Zs(a,s,t,n,e[14],17,-1502002290),t=ei(t,n=Zs(n,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=ei(s,t,n,a,e[6],9,-1069501632),a=ei(a,s,t,n,e[11],14,643717713),n=ei(n,a,s,t,e[0],20,-373897302),t=ei(t,n,a,s,e[5],5,-701558691),s=ei(s,t,n,a,e[10],9,38016083),a=ei(a,s,t,n,e[15],14,-660478335),n=ei(n,a,s,t,e[4],20,-405537848),t=ei(t,n,a,s,e[9],5,568446438),s=ei(s,t,n,a,e[14],9,-1019803690),a=ei(a,s,t,n,e[3],14,-187363961),n=ei(n,a,s,t,e[8],20,1163531501),t=ei(t,n,a,s,e[13],5,-1444681467),s=ei(s,t,n,a,e[2],9,-51403784),a=ei(a,s,t,n,e[7],14,1735328473),t=ti(t,n=ei(n,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=ti(s,t,n,a,e[8],11,-2022574463),a=ti(a,s,t,n,e[11],16,1839030562),n=ti(n,a,s,t,e[14],23,-35309556),t=ti(t,n,a,s,e[1],4,-1530992060),s=ti(s,t,n,a,e[4],11,1272893353),a=ti(a,s,t,n,e[7],16,-155497632),n=ti(n,a,s,t,e[10],23,-1094730640),t=ti(t,n,a,s,e[13],4,681279174),s=ti(s,t,n,a,e[0],11,-358537222),a=ti(a,s,t,n,e[3],16,-722521979),n=ti(n,a,s,t,e[6],23,76029189),t=ti(t,n,a,s,e[9],4,-640364487),s=ti(s,t,n,a,e[12],11,-421815835),a=ti(a,s,t,n,e[15],16,530742520),t=ri(t,n=ti(n,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=ri(s,t,n,a,e[7],10,1126891415),a=ri(a,s,t,n,e[14],15,-1416354905),n=ri(n,a,s,t,e[5],21,-57434055),t=ri(t,n,a,s,e[12],6,1700485571),s=ri(s,t,n,a,e[3],10,-1894986606),a=ri(a,s,t,n,e[10],15,-1051523),n=ri(n,a,s,t,e[1],21,-2054922799),t=ri(t,n,a,s,e[8],6,1873313359),s=ri(s,t,n,a,e[15],10,-30611744),a=ri(a,s,t,n,e[6],15,-1560198380),n=ri(n,a,s,t,e[13],21,1309151649),t=ri(t,n,a,s,e[4],6,-145523070),s=ri(s,t,n,a,e[11],10,-1120210379),a=ri(a,s,t,n,e[2],15,718787259),n=ri(n,a,s,t,e[9],21,-343485551),r[0]=jd(t,r[0]),r[1]=jd(n,r[1]),r[2]=jd(a,r[2]),r[3]=jd(s,r[3])}function M1(r,e,t,n,a,s){return e=jd(jd(e,r),jd(n,s)),jd(e<<a|e>>>32-a,t)}function Zs(r,e,t,n,a,s,i){return M1(e&t|~e&n,r,e,a,s,i)}function ei(r,e,t,n,a,s,i){return M1(e&n|t&~n,r,e,a,s,i)}function ti(r,e,t,n,a,s,i){return M1(e^t^n,r,e,a,s,i)}function ri(r,e,t,n,a,s,i){return M1(t^(e|~n),r,e,a,s,i)}function aK(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)R5(n,YBe(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(R5(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,R5(n,a),n}function YBe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var WL="0123456789abcdef".split("");function XBe(r){for(var e="",t=0;t<4;t++)e+=WL[r>>8*t+4&15]+WL[r>>8*t&15];return e}function JBe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function JS(r){return aK(r).map(JBe).join("")}var ZBe=(function(r){for(var e=0;e<r.length;e++)r[e]=XBe(r[e]);return r.join("")})(aK("hello"))!="5d41402abc4b2a76b9719d911017c592";function jd(r,e){if(ZBe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ZS(r,e){var t,n,a,s;if(r!==t){for(var i=(a=r,s=1+(256/r.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+i.charCodeAt(c))%256,l[c]=l[u],l[u]=d}t=r,n=l}else l=n;var f=e.length,g=0,p=0,x="";for(c=0;c<f;c++)p=(p+(d=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=d,i=l[(l[g]+l[p])%256],x+=String.fromCharCode(e.charCodeAt(c)^i);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var YL={print:4,modify:8,copy:16,"annot-forms":32};function Im(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(YL.perm!==void 0)throw new Error("Invalid permission: "+l);a+=YL[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=JS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ZS(this.encryptionKey,this.padding)}function Lm(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function XL(r){if(sn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!a],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var i=e[t][s];try{i[0].apply(r,n)}catch(l){Jt.console&&bn.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pw(r){if(!(this instanceof pw))return new pw(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function sK(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Lh(r,e,t,n,a){if(!(this instanceof Lh))return new Lh(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,sK.call(this,n,a)}function Hm(r,e,t,n,a){if(!(this instanceof Hm))return new Hm(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,sK.call(this,n,a)}function Et(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,u="S",d=null;sn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,s=r.compress||r.compressPdf||s,(d=r.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),i=r.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=XL;var x="1.3",y=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(O){x=O};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var w=p.__private__.getPageFormat=function(O){return b[O]};a=a||"a4";var N="compat",j="advanced",k=N;function T(){this.saveGraphicsState(),G(new kt(Mt,0,0,-Mt,0,Ml()*Mt).toString()+" cm"),this.setFontSize(this.getFontSize()/Mt),u="n",k=j}function I(){this.restoreGraphicsState(),u="S",k=N}var M=p.__private__.combineFontStyleAndFontWeight=function(O,V){if(O=="bold"&&V=="normal"||O=="bold"&&V==400||O=="normal"&&V=="italic"||O=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(O=V==400||V==="normal"?O==="italic"?"italic":"normal":V!=700&&V!=="bold"||O!=="normal"?(V==700?"bold":V)+""+O:"bold"),O};p.advancedAPI=function(O){var V=k===N;return V&&T.call(this),typeof O!="function"||(O(this),V&&I.call(this)),this},p.compatAPI=function(O){var V=k===j;return V&&I.call(this),typeof O!="function"||(O(this),V&&T.call(this)),this},p.isAdvancedAPI=function(){return k===j};var L,P=function(O){if(k!==j)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(O,V){var ue=e||V;if(isNaN(O)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(ue).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof c=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,c)}:c==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,16)};var F=p.f2=p.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return q(O,2)},R=p.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return q(O,3)},H=p.scale=p.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return k===N?O*Mt:k===j?O:void 0},z=function(O){return H((function(V){return k===N?Ml()-V:k===j?V:void 0})(O))};p.__private__.setPrecision=p.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var X,$="00000000000000000000000000000000",te=p.__private__.getFileId=function(){return $},ee=p.__private__.setFileId=function(O){return $=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(va=new Im(d.userPermissions,d.userPassword,d.ownerPassword,$)),$};p.setFileId=function(O){return ee(O),this},p.getFileId=function(){return te()};var fe=p.__private__.convertDateToPDFDate=function(O){var V=O.getTimezoneOffset(),ue=V<0?"+":"-",ye=Math.floor(Math.abs(V/60)),Be=Math.abs(V%60),Ke=[ue,ne(ye),"'",ne(Be),"'"].join("");return["D:",O.getFullYear(),ne(O.getMonth()+1),ne(O.getDate()),ne(O.getHours()),ne(O.getMinutes()),ne(O.getSeconds()),Ke].join("")},_e=p.__private__.convertPDFDateToDate=function(O){var V=parseInt(O.substr(2,4),10),ue=parseInt(O.substr(6,2),10)-1,ye=parseInt(O.substr(8,2),10),Be=parseInt(O.substr(10,2),10),Ke=parseInt(O.substr(12,2),10),Ye=parseInt(O.substr(14,2),10);return new Date(V,ue,ye,Be,Ke,Ye,0)},re=p.__private__.setCreationDate=function(O){var V;if(O===void 0&&(O=new Date),O instanceof Date)V=fe(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=O}return X=V},U=p.__private__.getCreationDate=function(O){var V=X;return O==="jsDate"&&(V=_e(X)),V};p.setCreationDate=function(O){return re(O),this},p.getCreationDate=function(O){return U(O)};var Y,ne=p.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},oe=p.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},de=0,he=[],Se=[],me=0,be=[],ge=[],le=!1,je=Se;p.__private__.setCustomOutputDestination=function(O){le=!0,je=O};var Qe=function(O){le||(je=O)};p.__private__.resetCustomOutputDestination=function(){le=!1,je=Se};var G=p.__private__.out=function(O){return O=O.toString(),me+=O.length+1,je.push(O),je},Fe=p.__private__.write=function(O){return G(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Je=p.__private__.getArrayBuffer=function(O){for(var V=O.length,ue=new ArrayBuffer(V),ye=new Uint8Array(ue);V--;)ye[V]=O.charCodeAt(V);return ue},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return et};var $e=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(O){return $e=k===j?O/Mt:O,this};var bt,tt=p.__private__.getFontSize=p.getFontSize=function(){return k===N?$e:$e*Mt},mt=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(O){return mt=O,this},p.__private__.getR2L=p.getR2L=function(){return mt};var Nt,vt=p.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))bt=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');bt=O}else bt=parseInt(O,10)};p.__private__.getZoomMode=function(){return bt};var or,Ht=p.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Nt=O};p.__private__.getPageMode=function(){return Nt};var $t=p.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');or=O};p.__private__.getLayoutMode=function(){return or},p.__private__.setDisplayMode=p.setDisplayMode=function(O,V,ue){return vt(O),$t(V),Ht(ue),this};var Kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(O){if(Object.keys(Kt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Kt[O]},p.__private__.getDocumentProperties=function(){return Kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(O){for(var V in Kt)Kt.hasOwnProperty(V)&&O[V]&&(Kt[V]=O[V]);return this},p.__private__.setDocumentProperty=function(O,V){if(Object.keys(Kt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Kt[O]=V};var at,Mt,wt,Xn,fr,Ut={},Wt={},gr=[],Pt={},on={},zt={},Yt={},Jr=null,lr=0,jt=[],jr=new XL(p),so=r.hotfixes||[],us={},Ro={},_i=[],kt=function O(V,ue,ye,Be,Ke,Ye){if(!(this instanceof O))return new O(V,ue,ye,Be,Ke,Ye);isNaN(V)&&(V=1),isNaN(ue)&&(ue=0),isNaN(ye)&&(ye=0),isNaN(Be)&&(Be=1),isNaN(Ke)&&(Ke=0),isNaN(Ye)&&(Ye=0),this._matrix=[V,ue,ye,Be,Ke,Ye]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(O)},kt.prototype.multiply=function(O){var V=O.sx*this.sx+O.shy*this.shx,ue=O.sx*this.shy+O.shy*this.sy,ye=O.shx*this.sx+O.sy*this.shx,Be=O.shx*this.shy+O.sy*this.sy,Ke=O.tx*this.sx+O.ty*this.shx+this.tx,Ye=O.tx*this.shy+O.ty*this.sy+this.ty;return new kt(V,ue,ye,Be,Ke,Ye)},kt.prototype.decompose=function(){var O=this.sx,V=this.shy,ue=this.shx,ye=this.sy,Be=this.tx,Ke=this.ty,Ye=Math.sqrt(O*O+V*V),ht=(O/=Ye)*ue+(V/=Ye)*ye;ue-=O*ht,ye-=V*ht;var Ct=Math.sqrt(ue*ue+ye*ye);return ht/=Ct,O*(ye/=Ct)<V*(ue/=Ct)&&(O=-O,V=-V,ht=-ht,Ye=-Ye),{scale:new kt(Ye,0,0,Ct,0,0),translate:new kt(1,0,0,1,Be,Ke),rotate:new kt(O,V,-V,O,0,0),skew:new kt(1,0,ht,1,0,0)}},kt.prototype.toString=function(O){return this.join(" ")},kt.prototype.inversed=function(){var O=this.sx,V=this.shy,ue=this.shx,ye=this.sy,Be=this.tx,Ke=this.ty,Ye=1/(O*ye-V*ue),ht=ye*Ye,Ct=-V*Ye,Gt=-ue*Ye,tr=O*Ye;return new kt(ht,Ct,Gt,tr,-ht*Be-Gt*Ke,-Ct*Be-tr*Ke)},kt.prototype.applyToPoint=function(O){var V=O.x*this.sx+O.y*this.shx+this.tx,ue=O.x*this.shy+O.y*this.sy+this.ty;return new Fi(V,ue)},kt.prototype.applyToRectangle=function(O){var V=this.applyToPoint(O),ue=this.applyToPoint(new Fi(O.x+O.w,O.y+O.h));return new Pl(V.x,V.y,ue.x-V.x,ue.y-V.y)},kt.prototype.clone=function(){var O=this.sx,V=this.shy,ue=this.shx,ye=this.sy,Be=this.tx,Ke=this.ty;return new kt(O,V,ue,ye,Be,Ke)},p.Matrix=kt;var _l=p.matrixMult=function(O,V){return V.multiply(O)},Qo=new kt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Qo;var di=function(O,V){if(!on[O]){var ue=(V instanceof Lh?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);V.id=ue,on[O]=ue,Pt[ue]=V,jr.publish("addPattern",V)}};p.ShadingPattern=Lh,p.TilingPattern=Hm,p.addShadingPattern=function(O,V){return P("addShadingPattern()"),di(O,V),this},p.beginTilingPattern=function(O){P("beginTilingPattern()"),wA(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},p.endTilingPattern=function(O,V){P("endTilingPattern()"),V.stream=ge[Y].join(`
`),di(O,V),jr.publish("endTilingPattern",V),_i.pop().restore()};var hi,Sn=p.__private__.newObject=function(){var O=ca();return Ia(O,!0),O},ca=p.__private__.newObjectDeferred=function(){return de++,he[de]=function(){return me},de},Ia=function(O,V){return V=typeof V=="boolean"&&V,he[O]=me,V&&G(O+" 0 obj"),O},wc=p.__private__.newAdditionalObject=function(){var O={objId:ca(),content:""};return be.push(O),O},ks=ca(),Zr=ca(),_n=p.__private__.decodeColorString=function(O){var V=O.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ue=parseFloat(V[0]);V=[ue,ue,ue,"r"]}for(var ye="#",Be=0;Be<3;Be++)ye+=("0"+Math.floor(255*parseFloat(V[Be])).toString(16)).slice(-2);return ye},ds=p.__private__.encodeColorString=function(O){var V;typeof O=="string"&&(O={ch1:O});var ue=O.ch1,ye=O.ch2,Be=O.ch3,Ke=O.ch4,Ye=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var ht=new nK(ue);if(ht.ok)ue=ht.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Ct=parseInt(ue.substr(1),16);ue=Ct>>16&255,ye=Ct>>8&255,Be=255&Ct}if(ye===void 0||Ke===void 0&&ue===ye&&ye===Be)V=typeof ue=="string"?ue+" "+Ye[0]:O.precision===2?F(ue/255)+" "+Ye[0]:R(ue/255)+" "+Ye[0];else if(Ke===void 0||sn(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",Ye[1]].join(" ");V=typeof ue=="string"?[ue,ye,Be,Ye[1]].join(" "):O.precision===2?[F(ue/255),F(ye/255),F(Be/255),Ye[1]].join(" "):[R(ue/255),R(ye/255),R(Be/255),Ye[1]].join(" ")}else V=typeof ue=="string"?[ue,ye,Be,Ke,Ye[2]].join(" "):O.precision===2?[F(ue),F(ye),F(Be),F(Ke),Ye[2]].join(" "):[R(ue),R(ye),R(Be),R(Ke),Ye[2]].join(" ");return V},fi=p.__private__.getFilters=function(){return i},ki=p.__private__.putStream=function(O){var V=(O=O||{}).data||"",ue=O.filters||fi(),ye=O.alreadyAppliedFilters||[],Be=O.addLength1||!1,Ke=V.length,Ye=O.objectId,ht=function(ba){return ba};if(d!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ht=va.encryptor(Ye,0));var Ct={};ue===!0&&(ue=["FlateEncode"]);var Gt=O.additionalKeyValues||[],tr=(Ct=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(V,ue):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(Ct.data.length!==0&&(Gt.push({key:"Length",value:Ct.data.length}),Be===!0&&Gt.push({key:"Length1",value:Ke})),tr.length!=0)if(tr.split("/").length-1==1)Gt.push({key:"Filter",value:tr});else{Gt.push({key:"Filter",value:"["+tr+"]"});for(var Er=0;Er<Gt.length;Er+=1)if(Gt[Er].key==="DecodeParms"){for(var kn=[],Zn=0;Zn<Ct.reverseChain.split("/").length-1;Zn+=1)kn.push("null");kn.push(Gt[Er].value),Gt[Er].value="["+kn.join(" ")+"]"}}G("<<");for(var ln=0;ln<Gt.length;ln++)G("/"+Gt[ln].key+" "+Gt[ln].value);G(">>"),Ct.data.length!==0&&(G("stream"),G(ht(Ct.data)),G("endstream"))},gA=p.__private__.putPage=function(O){var V=O.number,ue=O.data,ye=O.objId,Be=O.contentsObjId;Ia(ye,!0),G("<</Type /Page"),G("/Parent "+O.rootDictionaryObjId+" 0 R"),G("/Resources "+O.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(L(O.mediaBox.bottomLeftX))+" "+parseFloat(L(O.mediaBox.bottomLeftY))+" "+L(O.mediaBox.topRightX)+" "+L(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&G("/CropBox ["+L(O.cropBox.bottomLeftX)+" "+L(O.cropBox.bottomLeftY)+" "+L(O.cropBox.topRightX)+" "+L(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&G("/BleedBox ["+L(O.bleedBox.bottomLeftX)+" "+L(O.bleedBox.bottomLeftY)+" "+L(O.bleedBox.topRightX)+" "+L(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&G("/TrimBox ["+L(O.trimBox.bottomLeftX)+" "+L(O.trimBox.bottomLeftY)+" "+L(O.trimBox.topRightX)+" "+L(O.trimBox.topRightY)+"]"),O.artBox!==null&&G("/ArtBox ["+L(O.artBox.bottomLeftX)+" "+L(O.artBox.bottomLeftY)+" "+L(O.artBox.topRightX)+" "+L(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&G("/UserUnit "+O.userUnit),jr.publish("putPage",{objId:ye,pageContext:jt[V],pageNumber:V,page:ue}),G("/Contents "+Be+" 0 R"),G(">>"),G("endobj");var Ke=ue.join(`
`);return k===j&&(Ke+=`
Q`),Ia(Be,!0),ki({data:Ke,filters:fi(),objectId:Be}),G("endobj"),ye},io=p.__private__.putPages=function(){var O,V,ue=[];for(O=1;O<=lr;O++)jt[O].objId=ca(),jt[O].contentsObjId=ca();for(O=1;O<=lr;O++)ue.push(gA({number:O,data:ge[O],objId:jt[O].objId,contentsObjId:jt[O].contentsObjId,mediaBox:jt[O].mediaBox,cropBox:jt[O].cropBox,bleedBox:jt[O].bleedBox,trimBox:jt[O].trimBox,artBox:jt[O].artBox,userUnit:jt[O].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:Zr}));Ia(ks,!0),G("<</Type /Pages");var ye="/Kids [";for(V=0;V<lr;V++)ye+=ue[V]+" 0 R ";G(ye+"]"),G("/Count "+lr),G(">>"),G("endobj"),jr.publish("postPutPages")},oo=function(O){jr.publish("putFont",{font:O,out:G,newObject:Sn,putStream:ki}),O.isAlreadyPutted!==!0&&(O.objectNumber=Sn(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Lm(O.postScriptName)),G("/Subtype /Type1"),typeof O.encoding=="string"&&G("/Encoding /"+O.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Cc=function(O){O.objectNumber=Sn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[L(O.x),L(O.y),L(O.x+O.width),L(O.y+O.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var ue=O.pages[1].join(`
`);ki({data:ue,additionalKeyValues:V,objectId:O.objectNumber}),G("endobj")},lo=function(O,V){V||(V=21);var ue=Sn(),ye=(function(Ye,ht){var Ct,Gt=[],tr=1/(ht-1);for(Ct=0;Ct<1;Ct+=tr)Gt.push(Ct);if(Gt.push(1),Ye[0].offset!=0){var Er={offset:0,color:Ye[0].color};Ye.unshift(Er)}if(Ye[Ye.length-1].offset!=1){var kn={offset:1,color:Ye[Ye.length-1].color};Ye.push(kn)}for(var Zn="",ln=0,ba=0;ba<Gt.length;ba++){for(Ct=Gt[ba];Ct>Ye[ln+1].offset;)ln++;var ua=Ye[ln].offset,Ga=(Ct-ua)/(Ye[ln+1].offset-ua),Ul=Ye[ln].color,mo=Ye[ln+1].color;Zn+=oe(Math.round((1-Ga)*Ul[0]+Ga*mo[0]).toString(16))+oe(Math.round((1-Ga)*Ul[1]+Ga*mo[1]).toString(16))+oe(Math.round((1-Ga)*Ul[2]+Ga*mo[2]).toString(16))}return Zn.trim()})(O.colors,V),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+V+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ki({data:ye,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),G("endobj"),O.objectNumber=Sn(),G("<< /ShadingType "+O.type),G("/ColorSpace /DeviceRGB");var Ke="/Coords ["+L(parseFloat(O.coords[0]))+" "+L(parseFloat(O.coords[1]))+" ";O.type===2?Ke+=L(parseFloat(O.coords[2]))+" "+L(parseFloat(O.coords[3])):Ke+=L(parseFloat(O.coords[2]))+" "+L(parseFloat(O.coords[3]))+" "+L(parseFloat(O.coords[4]))+" "+L(parseFloat(O.coords[5])),G(Ke+="]"),O.matrix&&G("/Matrix ["+O.matrix.toString()+"]"),G("/Function "+ue+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},co=function(O,V){var ue=ca(),ye=Sn();V.push({resourcesOid:ue,objectOid:ye}),O.objectNumber=ye;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+O.boundingBox.map(L).join(" ")+"]"}),Be.push({key:"XStep",value:L(O.xStep)}),Be.push({key:"YStep",value:L(O.yStep)}),Be.push({key:"Resources",value:ue+" 0 R"}),O.matrix&&Be.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),ki({data:O.stream,additionalKeyValues:Be,objectId:O.objectNumber}),G("endobj")},pA=function(O){for(var V in O.objectNumber=Sn(),G("<<"),O)switch(V){case"opacity":G("/ca "+F(O[V]));break;case"stroke-opacity":G("/CA "+F(O[V]))}G(">>"),G("endobj")},Ho=function(O){Ia(O.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in G("/Font <<"),Ut)Ut.hasOwnProperty(V)&&(f===!1||f===!0&&g.hasOwnProperty(V))&&G("/"+V+" "+Ut[V].objectNumber+" 0 R");G(">>")})(),(function(){if(Object.keys(Pt).length>0){for(var V in G("/Shading <<"),Pt)Pt.hasOwnProperty(V)&&Pt[V]instanceof Lh&&Pt[V].objectNumber>=0&&G("/"+V+" "+Pt[V].objectNumber+" 0 R");jr.publish("putShadingPatternDict"),G(">>")}})(),(function(V){if(Object.keys(Pt).length>0){for(var ue in G("/Pattern <<"),Pt)Pt.hasOwnProperty(ue)&&Pt[ue]instanceof p.TilingPattern&&Pt[ue].objectNumber>=0&&Pt[ue].objectNumber<V&&G("/"+ue+" "+Pt[ue].objectNumber+" 0 R");jr.publish("putTilingPatternDict"),G(">>")}})(O.objectOid),(function(){if(Object.keys(zt).length>0){var V;for(V in G("/ExtGState <<"),zt)zt.hasOwnProperty(V)&&zt[V].objectNumber>=0&&G("/"+V+" "+zt[V].objectNumber+" 0 R");jr.publish("putGStateDict"),G(">>")}})(),(function(){for(var V in G("/XObject <<"),us)us.hasOwnProperty(V)&&us[V].objectNumber>=0&&G("/"+V+" "+us[V].objectNumber+" 0 R");jr.publish("putXobjectDict"),G(">>")})(),G(">>"),G("endobj")},Jn=function(O){Wt[O.fontName]=Wt[O.fontName]||{},Wt[O.fontName][O.fontStyle]=O.id},$d=function(O,V,ue,ye,Be){var Ke={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:O,fontName:V,fontStyle:ue,encoding:ye,isStandardFont:Be||!1,metadata:{}};return jr.publish("addFont",{font:Ke,instance:this}),Ut[Ke.id]=Ke,Jn(Ke),Ke.id},mi=p.__private__.pdfEscape=p.pdfEscape=function(O,V){return(function(ue,ye){var Be,Ke,Ye,ht,Ct,Gt,tr,Er,kn;if(Ye=(ye=ye||{}).sourceEncoding||"Unicode",Ct=ye.outputEncoding,(ye.autoencode||Ct)&&Ut[at].metadata&&Ut[at].metadata[Ye]&&Ut[at].metadata[Ye].encoding&&(ht=Ut[at].metadata[Ye].encoding,!Ct&&Ut[at].encoding&&(Ct=Ut[at].encoding),!Ct&&ht.codePages&&(Ct=ht.codePages[0]),typeof Ct=="string"&&(Ct=ht[Ct]),Ct)){for(tr=!1,Gt=[],Be=0,Ke=ue.length;Be<Ke;Be++)(Er=Ct[ue.charCodeAt(Be)])?Gt.push(String.fromCharCode(Er)):Gt.push(ue[Be]),Gt[Be].charCodeAt(0)>>8&&(tr=!0);ue=Gt.join("")}for(Be=ue.length;tr===void 0&&Be!==0;)ue.charCodeAt(Be-1)>>8&&(tr=!0),Be--;if(!tr)return ue;for(Gt=ye.noBOM?[]:[254,255],Be=0,Ke=ue.length;Be<Ke;Be++){if((kn=(Er=ue.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gt.push(kn),Gt.push(Er-(kn<<8))}return String.fromCharCode.apply(void 0,Gt)})(O,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ao=p.__private__.beginPage=function(O){ge[++lr]=[],jt[lr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Vd(lr),Qe(ge[Y])},kl=function(O,V){var ue,ye,Be;switch(t=V||t,typeof O=="string"&&(ue=w(O.toLowerCase()),Array.isArray(ue)&&(ye=ue[0],Be=ue[1])),Array.isArray(O)&&(ye=O[0]*Mt,Be=O[1]*Mt),isNaN(ye)&&(ye=a[0],Be=a[1]),(ye>14400||Be>14400)&&(bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Be=Math.min(14400,Be)),a=[ye,Be],t.substr(0,1)){case"l":Be>ye&&(a=[Be,ye]);break;case"p":ye>Be&&(a=[Be,ye])}Ao(a),Rt(xA),G(yi),Tu!==0&&G(Tu+" J"),La!==0&&G(La+" j"),jr.publish("addPage",{pageNumber:lr})},Gd=function(O){O>0&&O<=lr&&(ge.splice(O,1),jt.splice(O,1),lr--,Y>lr&&(Y=lr),this.setPage(Y))},Vd=function(O){O>0&&O<=lr&&(Y=O)},Wd=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ge.length-1},Sf=function(O,V,ue){var ye,Be=void 0;return ue=ue||{},O=O!==void 0?O:Ut[at].fontName,V=V!==void 0?V:Ut[at].fontStyle,ye=O.toLowerCase(),Wt[ye]!==void 0&&Wt[ye][V]!==void 0?Be=Wt[ye][V]:Wt[O]!==void 0&&Wt[O][V]!==void 0?Be=Wt[O][V]:ue.disableWarning===!1&&bn.warn("Unable to look up font label for font '"+O+"', '"+V+"'. Refer to getFontList() for available fonts."),Be||ue.noFallback||(Be=Wt.times[V])==null&&(Be=Wt.times.normal),Be},gi=p.__private__.putInfo=function(){var O=Sn(),V=function(ye){return ye};for(var ue in d!==null&&(V=va.encryptor(O,0)),G("<<"),G("/Producer ("+mi(V("jsPDF "+Et.version))+")"),Kt)Kt.hasOwnProperty(ue)&&Kt[ue]&&G("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+mi(V(Kt[ue]))+")");G("/CreationDate ("+mi(V(X))+")"),G(">>"),G("endobj")},Tl=p.__private__.putCatalog=function(O){var V=(O=O||{}).rootDictionaryObjId||ks;switch(Sn(),G("<<"),G("/Type /Catalog"),G("/Pages "+V+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+bt;ue.substr(ue.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&G("/OpenAction [3 0 R /XYZ null null "+F(bt)+"]")}switch(or||(or="continuous"),or){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Nt&&G("/PageMode /"+Nt),jr.publish("putCatalog"),G(">>"),G("endobj")},uo=p.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(de+1)),G("/Root "+de+" 0 R"),G("/Info "+(de-1)+" 0 R"),d!==null&&G("/Encrypt "+va.oid+" 0 R"),G("/ID [ <"+$+"> <"+$+"> ]"),G(">>")},Ur=p.__private__.putHeader=function(){G("%PDF-"+x),G("%")},Yd=p.__private__.putXRef=function(){var O="0000000000";G("xref"),G("0 "+(de+1)),G("0000000000 65535 f ");for(var V=1;V<=de;V++)typeof he[V]=="function"?G((O+he[V]()).slice(-10)+" 00000 n "):he[V]!==void 0?G((O+he[V]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Ko=p.__private__.buildDocument=function(){var O;de=0,me=0,Se=[],he=[],be=[],ks=ca(),Zr=ca(),Qe(Se),jr.publish("buildDocument"),Ur(),io(),(function(){jr.publish("putAdditionalObjects");for(var ue=0;ue<be.length;ue++){var ye=be[ue];Ia(ye.objId,!0),G(ye.content),G("endobj")}jr.publish("postPutAdditionalObjects")})(),O=[],(function(){for(var ue in Ut)Ut.hasOwnProperty(ue)&&(f===!1||f===!0&&g.hasOwnProperty(ue))&&oo(Ut[ue])})(),(function(){var ue;for(ue in zt)zt.hasOwnProperty(ue)&&pA(zt[ue])})(),(function(){for(var ue in us)us.hasOwnProperty(ue)&&Cc(us[ue])})(),(function(ue){var ye;for(ye in Pt)Pt.hasOwnProperty(ye)&&(Pt[ye]instanceof Lh?lo(Pt[ye]):Pt[ye]instanceof Hm&&co(Pt[ye],ue))})(O),jr.publish("putResources"),O.forEach(Ho),Ho({resourcesOid:Zr,objectOid:Number.MAX_SAFE_INTEGER}),jr.publish("postPutResources"),d!==null&&(va.oid=Sn(),G("<<"),G("/Filter /Standard"),G("/V "+va.v),G("/R "+va.r),G("/U <"+va.toHexString(va.U)+">"),G("/O <"+va.toHexString(va.O)+">"),G("/P "+va.P),G(">>"),G("endobj")),gi(),Tl();var V=me;return Yd(),uo(),G("startxref"),G(""+V),G("%%EOF"),Qe(ge[Y]),Se.join(`
`)},Bc=p.__private__.getBlob=function(O){return new Blob([Je(O)],{type:"application/pdf"})},Xd=p.output=p.__private__.output=(hi=function(O,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",O){case void 0:return Ko();case"save":p.save(V.filename);break;case"arraybuffer":return Je(Ko());case"blob":return Bc(Ko());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(Bc(Ko()))||void 0;bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ye=Ko();try{ue=VL(ye)}catch{ue=VL(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+V.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Be=V.pdfObjectUrl,Ke="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ht=Jt.open();return ht!==null&&ht.document.write(Ye),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Gt=Jt.open();if(Gt!==null){Gt.document.write(Ct);var tr=this;Gt.document.documentElement.querySelector("#pdfViewer").onload=function(){Gt.document.title=V.filename,Gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',kn=Jt.open();if(kn!==null&&(kn.document.write(Er),kn.document.title=V.filename),kn||typeof safari>"u")return kn;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",V);default:return null}},hi.foo=function(){try{return hi.apply(this,arguments)}catch(ue){var O=ue.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var V="Error in function "+O.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Jt.console)throw new Error(V);Jt.console.error(V,ue),Jt.alert&&alert(V)}},hi.foo.bar=hi,hi.foo),Ts=function(O){return Array.isArray(so)===!0&&so.indexOf(O)>-1};switch(n){case"pt":Mt=1;break;case"mm":Mt=72/25.4;break;case"cm":Mt=72/2.54;break;case"in":Mt=72;break;case"px":Mt=Ts("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mt=12;break;case"ex":Mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Mt=n}var va=null;re(),ee();var Aa=p.__private__.getPageInfo=p.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[O].objId,pageNumber:O,pageContext:jt[O]}},_u=p.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in jt)if(jt[V].objId===O)break;return Aa(V)},jf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:jt[Y].objId,pageNumber:Y,pageContext:jt[Y]}};p.addPage=function(){return kl.apply(this,arguments),this},p.setPage=function(){return Vd.apply(this,arguments),Qe.call(this,ge[Y]),this},p.insertPage=function(O){return this.addPage(),this.movePage(Y,O),this},p.movePage=function(O,V){var ue,ye;if(O>V){ue=ge[O],ye=jt[O];for(var Be=O;Be>V;Be--)ge[Be]=ge[Be-1],jt[Be]=jt[Be-1];ge[V]=ue,jt[V]=ye,this.setPage(V)}else if(O<V){ue=ge[O],ye=jt[O];for(var Ke=O;Ke<V;Ke++)ge[Ke]=ge[Ke+1],jt[Ke]=jt[Ke+1];ge[V]=ue,jt[V]=ye,this.setPage(V)}return this},p.deletePage=function(){return Gd.apply(this,arguments),this},p.__private__.text=p.text=function(O,V,ue,ye,Be){var Ke,Ye,ht,Ct,Gt,tr,Er,kn,Zn,ln=(ye=ye||{}).scope||this;if(typeof O=="number"&&typeof V=="number"&&(typeof ue=="string"||Array.isArray(ue))){var ba=ue;ue=V,V=O,O=ba}if(arguments[3]instanceof kt==0?(ht=arguments[4],Ct=arguments[5],sn(Er=arguments[3])==="object"&&Er!==null||(typeof ht=="string"&&(Ct=ht,ht=null),typeof Er=="string"&&(Ct=Er,Er=null),typeof Er=="number"&&(ht=Er,Er=null),ye={flags:Er,angle:ht,align:Ct})):(P("The transform parameter of text() with a Matrix value"),Zn=Be),isNaN(V)||isNaN(ue)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return ln;var ua,Ga="",Ul=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:Fl,mo=ln.internal.scaleFactor;function Rl(Rr){return Rr=Rr.split("	").join(Array(ye.TabLen||9).join(" ")),mi(Rr,Er)}function ih(Rr){for(var _r,cn=Rr.concat(),ta=[],Zo=cn.length;Zo--;)typeof(_r=cn.shift())=="string"?ta.push(_r):Array.isArray(Rr)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?ta.push(_r[0]):ta.push([_r[0],_r[1],_r[2]]);return ta}function Pu(Rr,_r){var cn;if(typeof Rr=="string")cn=_r(Rr)[0];else if(Array.isArray(Rr)){for(var ta,Zo,xo=Rr.concat(),SA=[],ch=xo.length;ch--;)typeof(ta=xo.shift())=="string"?SA.push(_r(ta)[0]):Array.isArray(ta)&&typeof ta[0]=="string"&&(Zo=_r(ta[0],ta[1],ta[2]),SA.push([Zo[0],Zo[1],Zo[2]]));cn=SA}return cn}var $o=!1,go=!0;if(typeof O=="string")$o=!0;else if(Array.isArray(O)){var BA=O.concat();Ye=[];for(var Ql,Da=BA.length;Da--;)(typeof(Ql=BA.shift())!="string"||Array.isArray(Ql)&&typeof Ql[0]!="string")&&(go=!1);$o=go}if($o===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Sc=$e/ln.internal.scaleFactor,jc=Sc*(Ul-1);switch(ye.baseline){case"bottom":ue-=jc;break;case"top":ue+=Sc-jc;break;case"hanging":ue+=Sc-2*jc;break;case"middle":ue+=Sc/2-jc}if((tr=ye.maxWidth||0)>0&&(typeof O=="string"?O=ln.splitTextToSize(O,tr):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Rr,_r){return Rr.concat(ln.splitTextToSize(_r,tr))},[]))),Ke={text:O,x:V,y:ue,options:ye,mutex:{pdfEscape:mi,activeFontKey:at,fonts:Ut,activeFontSize:$e}},jr.publish("preProcessText",Ke),O=Ke.text,ht=(ye=Ke.options).angle,Zn instanceof kt==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,ye.rotationDirection===0&&(ht=-ht),k===j&&(ht=-ht);var Ou=Math.cos(ht),Go=Math.sin(ht);Zn=new kt(Ou,Go,-Go,Ou,0,0)}else ht&&ht instanceof kt&&(Zn=ht);k!==j||Zn||(Zn=Qo),(Gt=ye.charSpace||Ti)!==void 0&&(Ga+=L(H(Gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kn=ye.horizontalScale)!==void 0&&(Ga+=L(100*kn)+` Tz
`),ye.lang;var Ps=-1,Hl=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Iu=ln.internal.getCurrentPageInfo().pageContext;switch(Hl){case 0:case!1:case"fill":Ps=0;break;case 1:case!0:case"stroke":Ps=1;break;case 2:case"fillThenStroke":Ps=2;break;case 3:case"invisible":Ps=3;break;case 4:case"fillAndAddForClipping":Ps=4;break;case 5:case"strokeAndAddPathForClipping":Ps=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ps=6;break;case 7:case"addToPathForClipping":Ps=7}var oh=Iu.usedRenderingMode!==void 0?Iu.usedRenderingMode:-1;Ps!==-1?Ga+=Ps+` Tr
`:oh!==-1&&(Ga+=`0 Tr
`),Ps!==-1&&(Iu.usedRenderingMode=Ps),Ct=ye.align||"left";var xi,po=$e*Ul,Kl=ln.internal.pageSize.getWidth(),lh=Ut[at];Gt=ye.charSpace||Ti,tr=ye.maxWidth||0,Er=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var yo=[],Ec=function(Rr){return ln.getStringUnitWidth(Rr,{font:lh,charSpace:Gt,fontSize:$e,doKerning:!1})*$e/mo};if(Object.prototype.toString.call(O)==="[object Array]"){var Ys;Ye=ih(O),Ct!=="left"&&(xi=Ye.map(Ec));var Os,Vo=0;if(Ct==="right"){V-=xi[0],O=[],Da=Ye.length;for(var Wo=0;Wo<Da;Wo++)Wo===0?(Os=pi(V),Ys=$a(ue)):(Os=H(Vo-xi[Wo]),Ys=-po),O.push([Ye[Wo],Os,Ys]),Vo=xi[Wo]}else if(Ct==="center"){V-=xi[0]/2,O=[],Da=Ye.length;for(var zl=0;zl<Da;zl++)zl===0?(Os=pi(V),Ys=$a(ue)):(Os=H((Vo-xi[zl])/2),Ys=-po),O.push([Ye[zl],Os,Ys]),Vo=xi[zl]}else if(Ct==="left"){O=[],Da=Ye.length;for(var Lu=0;Lu<Da;Lu++)O.push(Ye[Lu])}else if(Ct==="justify"&&lh.encoding==="Identity-H"){O=[],Da=Ye.length,tr=tr!==0?tr:Kl;for(var Du=0,ea=0;ea<Da;ea++)if(Ys=ea===0?$a(ue):-po,Os=ea===0?pi(V):Du,ea<Da-1){var Lf=H((tr-xi[ea])/(Ye[ea].split(" ").length-1)),Yo=Ye[ea].split(" ");O.push([Yo[0]+" ",Os,Ys]),Du=0;for(var Xo=1;Xo<Yo.length;Xo++){var Va=(Ec(Yo[Xo-1]+" "+Yo[Xo])-Ec(Yo[Xo]))*mo+Lf;Xo==Yo.length-1?O.push([Yo[Xo],Va,0]):O.push([Yo[Xo]+" ",Va,0]),Du-=Va}}else O.push([Ye[ea],Os,Ys]);O.push(["",Du,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],Da=Ye.length,tr=tr!==0?tr:Kl,ea=0;ea<Da;ea++){Ys=ea===0?$a(ue):-po,Os=ea===0?pi(V):0;var ql=Ye[ea].split(" ").length-1,Mu=ql>0?(tr-xi[ea])/ql:0;ea<Da-1?yo.push(L(H(Mu))):yo.push(0),O.push([Ye[ea],Os,Ys])}}}(typeof ye.R2L=="boolean"?ye.R2L:mt)===!0&&(O=Pu(O,function(Rr,_r,cn){return[Rr.split("").reverse().join(""),_r,cn]})),Ke={text:O,x:V,y:ue,options:ye,mutex:{pdfEscape:mi,activeFontKey:at,fonts:Ut,activeFontSize:$e}},jr.publish("postProcessText",Ke),O=Ke.text,ua=Ke.mutex.isHex||!1;var Uu=Ut[at].encoding;Uu!=="WinAnsiEncoding"&&Uu!=="StandardEncoding"||(O=Pu(O,function(Rr,_r,cn){return[Rl(Rr),_r,cn]})),Ye=ih(O),O=[];for(var $l,Gl,Jo,NA=Array.isArray(Ye[0])?1:0,vi="",Vl=function(Rr,_r,cn){var ta="";return cn instanceof kt?(cn=typeof ye.angle=="number"?_l(cn,new kt(1,0,0,1,Rr,_r)):_l(new kt(1,0,0,1,Rr,_r),cn),k===j&&(cn=_l(new kt(1,0,0,-1,0,0),cn)),ta=cn.join(" ")+` Tm
`):ta=L(Rr)+" "+L(_r)+` Td
`,ta},hs=0;hs<Ye.length;hs++){switch(vi="",NA){case 1:Jo=(ua?"<":"(")+Ye[hs][0]+(ua?">":")"),$l=parseFloat(Ye[hs][1]),Gl=parseFloat(Ye[hs][2]);break;case 0:Jo=(ua?"<":"(")+Ye[hs]+(ua?">":")"),$l=pi(V),Gl=$a(ue)}yo!==void 0&&yo[hs]!==void 0&&(vi=yo[hs]+` Tw
`),hs===0?O.push(vi+Vl($l,Gl,Zn)+Jo):NA===0?O.push(vi+Jo):NA===1&&O.push(vi+Vl($l,Gl,Zn)+Jo)}O=NA===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Pi=`BT
/`;return Pi+=at+" "+$e+` Tf
`,Pi+=L($e*Ul)+` TL
`,Pi+=zo+`
`,Pi+=Ga,Pi+=O,G(Pi+="ET"),g[at]=!0,ln};var Jd=p.__private__.clip=p.clip=function(O){return G(O==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Jd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return G("n"),this};var Fs=p.__private__.isValidStyle=function(O){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(O){return Fs(O)&&(u=O),this};var Zd=p.__private__.getStyle=p.getStyle=function(O){var V=u;switch(O){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=O}return V},eh=p.close=function(){return G("h"),this};p.stroke=function(){return G("S"),this},p.fill=function(O){return ho("f",O),this},p.fillEvenOdd=function(O){return ho("f*",O),this},p.fillStroke=function(O){return ho("B",O),this},p.fillStrokeEvenOdd=function(O){return ho("B*",O),this};var ho=function(O,V){sn(V)==="object"?_f(V,O):G(O)},yA=function(O){O===null||k===j&&O===void 0||(O=Zd(O),G(O))};function Ef(O,V,ue,ye,Be){var Ke=new Hm(V||this.boundingBox,ue||this.xStep,ye||this.yStep,this.gState,Be||this.matrix);Ke.stream=this.stream;var Ye=O+"$$"+this.cloneIndex+++"$$";return di(Ye,Ke),Ke}var _f=function(O,V){var ue=on[O.key],ye=Pt[ue];if(ye instanceof Lh)G("q"),G(th(V)),ye.gState&&p.setGState(ye.gState),G(O.matrix.toString()+" cm"),G("/"+ue+" sh"),G("Q");else if(ye instanceof Hm){var Be=new kt(1,0,0,-1,0,Ml());O.matrix&&(Be=Be.multiply(O.matrix||Qo),ue=Ef.call(ye,O.key,O.boundingBox,O.xStep,O.yStep,Be).id),G("q"),G("/Pattern cs"),G("/"+ue+" scn"),ye.gState&&p.setGState(ye.gState),G(V),G("Q")}},th=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rh=p.moveTo=function(O,V){return G(L(H(O))+" "+L(z(V))+" m"),this},kf=p.lineTo=function(O,V){return G(L(H(O))+" "+L(z(V))+" l"),this},Ws=p.curveTo=function(O,V,ue,ye,Be,Ke){return G([L(H(O)),L(z(V)),L(H(ue)),L(z(ye)),L(H(Be)),L(z(Ke)),"c"].join(" ")),this};p.__private__.line=p.line=function(O,V,ue,ye,Be){if(isNaN(O)||isNaN(V)||isNaN(ue)||isNaN(ye)||!Fs(Be))throw new Error("Invalid arguments passed to jsPDF.line");return k===N?this.lines([[ue-O,ye-V]],O,V,[1,1],Be||"S"):this.lines([[ue-O,ye-V]],O,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(O,V,ue,ye,Be,Ke){var Ye,ht,Ct,Gt,tr,Er,kn,Zn,ln,ba,ua,Ga;if(typeof O=="number"&&(Ga=ue,ue=V,V=O,O=Ga),ye=ye||[1,1],Ke=Ke||!1,isNaN(V)||isNaN(ue)||!Array.isArray(O)||!Array.isArray(ye)||!Fs(Be)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rh(V,ue),Ye=ye[0],ht=ye[1],Gt=O.length,ba=V,ua=ue,Ct=0;Ct<Gt;Ct++)(tr=O[Ct]).length===2?(ba=tr[0]*Ye+ba,ua=tr[1]*ht+ua,kf(ba,ua)):(Er=tr[0]*Ye+ba,kn=tr[1]*ht+ua,Zn=tr[2]*Ye+ba,ln=tr[3]*ht+ua,ba=tr[4]*Ye+ba,ua=tr[5]*ht+ua,Ws(Er,kn,Zn,ln,ba,ua));return Ke&&eh(),yA(Be),this},p.path=function(O){for(var V=0;V<O.length;V++){var ue=O[V],ye=ue.c;switch(ue.op){case"m":rh(ye[0],ye[1]);break;case"l":kf(ye[0],ye[1]);break;case"c":Ws.apply(this,ye);break;case"h":eh()}}return this},p.__private__.rect=p.rect=function(O,V,ue,ye,Be){if(isNaN(O)||isNaN(V)||isNaN(ue)||isNaN(ye)||!Fs(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return k===N&&(ye=-ye),G([L(H(O)),L(z(V)),L(H(ue)),L(H(ye)),"re"].join(" ")),yA(Be),this},p.__private__.triangle=p.triangle=function(O,V,ue,ye,Be,Ke,Ye){if(isNaN(O)||isNaN(V)||isNaN(ue)||isNaN(ye)||isNaN(Be)||isNaN(Ke)||!Fs(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-O,ye-V],[Be-ue,Ke-ye],[O-Be,V-Ke]],O,V,[1,1],Ye,!0),this},p.__private__.roundedRect=p.roundedRect=function(O,V,ue,ye,Be,Ke,Ye){if(isNaN(O)||isNaN(V)||isNaN(ue)||isNaN(ye)||isNaN(Be)||isNaN(Ke)||!Fs(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*ue),Ke=Math.min(Ke,.5*ye),this.lines([[ue-2*Be,0],[Be*ht,0,Be,Ke-Ke*ht,Be,Ke],[0,ye-2*Ke],[0,Ke*ht,-Be*ht,Ke,-Be,Ke],[2*Be-ue,0],[-Be*ht,0,-Be,-Ke*ht,-Be,-Ke],[0,2*Ke-ye],[0,-Ke*ht,Be*ht,-Ke,Be,-Ke]],O+Be,V,[1,1],Ye,!0),this},p.__private__.ellipse=p.ellipse=function(O,V,ue,ye,Be){if(isNaN(O)||isNaN(V)||isNaN(ue)||isNaN(ye)||!Fs(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*ue,Ye=4/3*(Math.SQRT2-1)*ye;return rh(O+ue,V),Ws(O+ue,V-Ye,O+Ke,V-ye,O,V-ye),Ws(O-Ke,V-ye,O-ue,V-Ye,O-ue,V),Ws(O-ue,V+Ye,O-Ke,V+ye,O,V+ye),Ws(O+Ke,V+ye,O+ue,V+Ye,O+ue,V),yA(Be),this},p.__private__.circle=p.circle=function(O,V,ue,ye){if(isNaN(O)||isNaN(V)||isNaN(ue)||!Fs(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,V,ue,ue,ye)},p.setFont=function(O,V,ue){return ue&&(V=M(V,ue)),at=Sf(O,V,{disableWarning:!1}),this};var fo=p.__private__.getFont=p.getFont=function(){return Ut[Sf.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var O,V,ue={};for(O in Wt)if(Wt.hasOwnProperty(O))for(V in ue[O]=[],Wt[O])Wt[O].hasOwnProperty(V)&&ue[O].push(V);return ue},p.addFont=function(O,V,ue,ye,Be){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(ue=M(ue,ye)),$d.call(this,O,V,ue,Be=Be||"Identity-H")};var Fl,xA=r.lineWidth||.200025,Nc=p.__private__.getLineWidth=p.getLineWidth=function(){return xA},Rt=p.__private__.setLineWidth=p.setLineWidth=function(O){return xA=O,G(L(H(O))+" w"),this};p.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(O,V){if(O=O||[],V=V||0,isNaN(V)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(ue){return L(H(ue))}).join(" "),V=L(H(V)),G("["+O+"] "+V+" d"),this};var Tf=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*Fl};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*Fl};var nh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Fl=O),this},Ff=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Fl};nh(r.lineHeight);var pi=p.__private__.getHorizontalCoordinate=function(O){return H(O)},$a=p.__private__.getVerticalCoordinate=function(O){return k===j?O:jt[Y].mediaBox.topRightY-jt[Y].mediaBox.bottomLeftY-H(O)},ah=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(O){return L(pi(O))},vA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(O){return L($a(O))},yi=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _n(yi)},p.__private__.setStrokeColor=p.setDrawColor=function(O,V,ue,ye){return yi=ds({ch1:O,ch2:V,ch3:ue,ch4:ye,pdfColorType:"draw",precision:2}),G(yi),this};var bA=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _n(bA)},p.__private__.setFillColor=p.setFillColor=function(O,V,ue,ye){return bA=ds({ch1:O,ch2:V,ch3:ue,ch4:ye,pdfColorType:"fill",precision:2}),G(bA),this};var zo=r.textColor||"0 g",Pf=p.__private__.getTextColor=p.getTextColor=function(){return _n(zo)};p.__private__.setTextColor=p.setTextColor=function(O,V,ue,ye){return zo=ds({ch1:O,ch2:V,ch3:ue,ch4:ye,pdfColorType:"text",precision:3}),this};var Ti=r.charSpace,ku=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ti||0)};p.__private__.setCharSpace=p.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ti=O,this};var Tu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(O){var V=p.CapJoinStyles[O];if(V===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tu=V,G(V+" J"),this};var La=0;p.__private__.setLineJoin=p.setLineJoin=function(O){var V=p.CapJoinStyles[O];if(V===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return La=V,G(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(L(H(O))+" M"),this},p.GState=pw,p.setGState=function(O){(O=typeof O=="string"?zt[Yt[O]]:qo(null,O)).equals(Jr)||(G("/"+O.id+" gs"),Jr=O)};var qo=function(O,V){if(!O||!Yt[O]){var ue=!1;for(var ye in zt)if(zt.hasOwnProperty(ye)&&zt[ye].equals(V)){ue=!0;break}if(ue)V=zt[ye];else{var Be="GS"+(Object.keys(zt).length+1).toString(10);zt[Be]=V,V.id=Be}return O&&(Yt[O]=V.id),jr.publish("addGState",V),V}};p.addGState=function(O,V){return qo(O,V),this},p.saveGraphicsState=function(){return G("q"),gr.push({key:at,size:$e,color:zo}),this},p.restoreGraphicsState=function(){G("Q");var O=gr.pop();return at=O.key,$e=O.size,zo=O.color,Jr=null,this},p.setCurrentTransformationMatrix=function(O){return G(O.toString()+" cm"),this},p.comment=function(O){return G("#"+O),this};var Fi=function(O,V){var ue=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ke){isNaN(Ke)||(ue=parseFloat(Ke))}});var ye=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Ke){isNaN(Ke)||(ye=parseFloat(Ke))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(Ke){Be=Ke.toString()}}),this},Pl=function(O,V,ue,ye){Fi.call(this,O,V),this.type="rect";var Be=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(Ye){isNaN(Ye)||(Be=parseFloat(Ye))}});var Ke=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(Ye){isNaN(Ye)||(Ke=parseFloat(Ye))}}),this},Fu=function(){this.page=lr,this.currentPage=Y,this.pages=ge.slice(0),this.pagesContext=jt.slice(0),this.x=wt,this.y=Xn,this.matrix=fr,this.width=Il(Y),this.height=sh(Y),this.outputDestination=je,this.id="",this.objectNumber=-1};Fu.prototype.restore=function(){lr=this.page,Y=this.currentPage,jt=this.pagesContext,ge=this.pages,wt=this.x,Xn=this.y,fr=this.matrix,CA(Y,this.width),Ll(Y,this.height),je=this.outputDestination};var wA=function(O,V,ue,ye,Be){_i.push(new Fu),lr=Y=0,ge=[],wt=O,Xn=V,fr=Be,Ao([ue,ye])};for(var Ol in p.beginFormObject=function(O,V,ue,ye,Be){return wA(O,V,ue,ye,Be),this},p.endFormObject=function(O){return(function(V){if(Ro[V])_i.pop().restore();else{var ue=new Fu,ye="Xo"+(Object.keys(us).length+1).toString(10);ue.id=ye,Ro[V]=ye,us[ye]=ue,jr.publish("addFormObject",ue),_i.pop().restore()}})(O),this},p.doFormObject=function(O,V){var ue=us[Ro[O]];return G("q"),G(V.toString()+" cm"),G("/"+ue.id+" Do"),G("Q"),this},p.getFormObject=function(O){var V=us[Ro[O]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(O,V){return O=O||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Ph(Bc(Ko()),O),typeof Ph.unload=="function"&&Jt.setTimeout&&setTimeout(Ph.unload,911),this):new Promise(function(ue,ye){try{var Be=Ph(Bc(Ko()),O);typeof Ph.unload=="function"&&Jt.setTimeout&&setTimeout(Ph.unload,911),ue(Be)}catch(Ke){ye(Ke.message)}})},Et.API)Et.API.hasOwnProperty(Ol)&&(Ol==="events"&&Et.API.events.length?(function(O,V){var ue,ye,Be;for(Be=V.length-1;Be!==-1;Be--)ue=V[Be][0],ye=V[Be][1],O.subscribe.apply(O,[ue].concat(typeof ye=="function"?[ye]:ye))})(jr,Et.API.events):p[Ol]=Et.API[Ol]);function Il(O){return jt[O].mediaBox.topRightX-jt[O].mediaBox.bottomLeftX}function CA(O,V){jt[O].mediaBox.topRightX=V+jt[O].mediaBox.bottomLeftX}function sh(O){return jt[O].mediaBox.topRightY-jt[O].mediaBox.bottomLeftY}function Ll(O,V){jt[O].mediaBox.topRightY=V+jt[O].mediaBox.bottomLeftY}var Dl=p.getPageWidth=function(O){return Il(O=O||Y)/Mt},Of=p.setPageWidth=function(O,V){CA(O,V*Mt)},Ml=p.getPageHeight=function(O){return sh(O=O||Y)/Mt},If=p.setPageHeight=function(O,V){Ll(O,V*Mt)};return p.internal={pdfEscape:mi,getStyle:Zd,getFont:fo,getFontSize:tt,getCharSpace:ku,getTextColor:Pf,getLineHeight:Tf,getLineHeightFactor:Ff,getLineWidth:Nc,write:Fe,getHorizontalCoordinate:pi,getVerticalCoordinate:$a,getCoordinateString:ah,getVerticalCoordinateString:vA,collections:{},newObject:Sn,newAdditionalObject:wc,newObjectDeferred:ca,newObjectDeferredBegin:Ia,getFilters:fi,putStream:ki,events:jr,scaleFactor:Mt,pageSize:{getWidth:function(){return Dl(Y)},setWidth:function(O){Of(Y,O)},getHeight:function(){return Ml(Y)},setHeight:function(O){If(Y,O)}},encryptionOptions:d,encryption:va,getEncryptor:function(O){return d!==null?va.encryptor(O,0):function(V){return V}},output:Xd,getNumberOfPages:Wd,get pages(){return ge},out:G,f2:F,f3:R,getPageInfo:Aa,getPageInfoByObjId:_u,getCurrentPageInfo:jf,getPDFVersion:y,Point:Fi,Rectangle:Pl,Matrix:kt,hasHotfix:Ts},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Dl(Y)},set:function(O){Of(Y,O)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ml(Y)},set:function(O){If(Y,O)},enumerable:!0,configurable:!0}),(function(O){for(var V=0,ue=et.length;V<ue;V++){var ye=$d.call(this,O[V][0],O[V][1],O[V][2],et[V][3],!0);f===!1&&(g[ye]=!0);var Be=O[V][0].split("-");Jn({id:ye,fontName:Be[0],fontStyle:Be[1]||""})}jr.publish("addFonts",{fonts:Ut,dictionary:Wt})}).call(p,et),at="F1",kl(a,t),jr.publish("initialized"),p}Im.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Im.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Im.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Im.prototype.processOwnerPassword=function(r,e){return ZS(JS(e).substr(0,5),r)},Im.prototype.encryptor=function(r,e){var t=JS(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return ZS(t,n)}},pw.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||sn(r)!==sn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Et.API={events:[]},Et.version="3.0.4";var ya=Et.API,e_=1,Nf=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Em=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(r){return r.toFixed(2)},hd=function(r){return r.toFixed(5)};ya.__acroform__={};var ao=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},JL=function(r){return r*e_},Yc=function(r){var e=new oK,t=xt.internal.getHeight(r)||0,n=xt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(ar(n)),Number(ar(t))],e},e5e=ya.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},t5e=ya.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},r5e=ya.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},_a=ya.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return r5e(r,e-1)},ka=ya.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return e5e(r,e-1)},Ta=ya.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return t5e(r,e-1)},n5e=ya.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],s=r[1],i=r[2],l=r[3],c={};return c.lowerLeft_X=t(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=t(a+i)||0,c.upperRight_Y=n(s)||0,[Number(ar(c.lowerLeft_X)),Number(ar(c.lowerLeft_Y)),Number(ar(c.upperRight_X)),Number(ar(c.upperRight_Y))]},a5e=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=ej(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+ar(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Yc(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},ej=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(F){return F.split(`
`)}):a.map(function(F){return[F]});var s=t,i=xt.internal.getHeight(r)||0;i=i<0?-i:i;var l=xt.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(F,R,H){if(F+1<a.length){var z=R+" "+a[F+1][0];return Pv(z,r,H).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,f=Pv("3",r,s).height,g=r.multiline?i-s:(i-f)/2,p=g+=2,x=0,y=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pv(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",N=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var k=!1;if(a[j].length!==1&&b!==a[j].length-1){if((f+2)*(N+2)+2>i)continue e;w+=a[j][b],k=!0,y=j,j--}else{w=(w+=a[j][b]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var T=parseInt(j),I=c(T,w,s),M=j>=a.length-1;if(I&&!M){w+=" ",b=0;continue}if(I||M){if(M)y=T;else if(r.multiline&&(f+2)*(N+2)+2>i)continue e}else{if(!r.multiline||(f+2)*(N+2)+2>i)continue e;y=T}}for(var L="",P=x;P<=y;P++){var q=a[P];if(r.multiline){if(P===y){L+=q[b]+" ",b=(b+1)%q.length;continue}if(P===x){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=Pv(L,r,s).width,r.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=ar(u)+" "+ar(p)+` Td
`,e+="("+Nf(L)+`) Tj
`,e+=-ar(u)+` 0 Td
`,p=-(s+2),d=0,x=k?y:y+1,N++,w=""}break}return n.text=e,n.fontSize=s,n},Pv=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},s5e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},i5e=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},o5e=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(vc.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(s5e)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");e_=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new lK,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&i5e(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],u=l.Rect;if(l.Rect&&(l.Rect=n5e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=xt.createDefaultAppearanceStream(l),sn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=a5e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var x=p[i];typeof x=="function"&&(x=x.call(a,l)),f+="/"+i+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(a,l)),f+="/"+i+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&(function(y,b){for(var w in y)if(y.hasOwnProperty(w)){var N=w,j=y[w];b.internal.newObjectDeferredBegin(j.objId,!0),sn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete y[N]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},iK=ya.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),sn(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+Nf(n(r[s].toString()))+")"):a+=r[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q5=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Nf(n(r))+")"},nA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nA.prototype.toString=function(){return this.objId+" 0 R"},nA.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},nA.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:iK(a,this.objId,this.scope)}):a instanceof nA?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var oK=function(){nA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ao(oK,nA);var lK=function(){nA.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Nf(t(r))+")"}},set:function(t){r=t}})};ao(lK,nA);var vc=function r(){nA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_a(e,3)},set:function(w){w?this.F=ka(e,3):this.F=Ta(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof yw)return;s="FieldObject"+r.FieldNum++}var w=function(N){return N};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Nf(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(w){i=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/e_:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof yw||this instanceof tf))return Q5(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Cs==0?Q5(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Cs==0?w.substr(0,1)==="("?Em(w.substr(1,w.length-2)):Em(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cs==1?Em(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Cs==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Cs==0?Q5(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Cs==0?w.substr(0,1)==="("?Em(w.substr(1,w.length-2)):Em(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cs==1?Em(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Cs==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,1)},set:function(w){w?this.Ff=ka(this.Ff,1):this.Ff=Ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,2)},set:function(w){w?this.Ff=ka(this.Ff,2):this.Ff=Ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,3)},set:function(w){w?this.Ff=ka(this.Ff,3):this.Ff=Ta(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');b=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(b){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};ao(vc,nA);var Jm=function(){vc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iK(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(s,i,l){l||(l=1);for(var c,u=[];c=i.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,18)},set:function(t){t?this.Ff=ka(this.Ff,18):this.Ff=Ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ka(this.Ff,19):this.Ff=Ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,20)},set:function(t){t?(this.Ff=ka(this.Ff,20),e.sort()):this.Ff=Ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,22)},set:function(t){t?this.Ff=ka(this.Ff,22):this.Ff=Ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,23)},set:function(t){t?this.Ff=ka(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,27)},set:function(t){t?this.Ff=ka(this.Ff,27):this.Ff=Ta(this.Ff,27)}}),this.hasAppearanceStream=!1};ao(Jm,vc);var Zm=function(){Jm.call(this),this.fontName="helvetica",this.combo=!1};ao(Zm,Jm);var eg=function(){Zm.call(this),this.combo=!0};ao(eg,Zm);var tb=function(){eg.call(this),this.edit=!0};ao(tb,eg);var Cs=function(){vc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,15)},set:function(t){t?this.Ff=ka(this.Ff,15):this.Ff=Ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,16)},set:function(t){t?this.Ff=ka(this.Ff,16):this.Ff=Ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,17)},set:function(t){t?this.Ff=ka(this.Ff,17):this.Ff=Ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,26)},set:function(t){t?this.Ff=ka(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Nf(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){sn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ao(Cs,vc);var rb=function(){Cs.call(this),this.pushButton=!0};ao(rb,Cs);var tg=function(){Cs.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ao(tg,Cs);var yw=function(){var r,e;vc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+Nf(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){sn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ao(yw,vc),tg.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},tg.prototype.createOption=function(r){var e=new yw;return e.Parent=this,e.optionName=r,this.Kids.push(e),l5e.call(this.scope,e),e};var nb=function(){Cs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};ao(nb,Cs);var tf=function(){vc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,13)},set:function(e){e?this.Ff=ka(this.Ff,13):this.Ff=Ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,21)},set:function(e){e?this.Ff=ka(this.Ff,21):this.Ff=Ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,23)},set:function(e){e?this.Ff=ka(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,24)},set:function(e){e?this.Ff=ka(this.Ff,24):this.Ff=Ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,25)},set:function(e){e?this.Ff=ka(this.Ff,25):this.Ff=Ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,26)},set:function(e){e?this.Ff=ka(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ao(tf,vc);var ab=function(){tf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,14)},set:function(r){r?this.Ff=ka(this.Ff,14):this.Ff=Ta(this.Ff,14)}}),this.password=!0};ao(ab,tf);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Yc(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=ej(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+ar(xt.internal.getWidth(r))+" "+ar(xt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+ar(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Yc(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],s=xt.internal.getHeight(r),i=xt.internal.getWidth(r),l=ej(r,r.caption);return a.push("1 g"),a.push("0 0 "+ar(i)+" "+ar(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ar(i-1)+" "+ar(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+ar(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Yc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ar(xt.internal.getWidth(r))+" "+ar(xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=xt.RadioButton.Circle.YesNormal,e.D[r]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Yc(r);e.scope=r.scope;var t=[],n=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=xt.internal.Bezier_C,s=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+hd(xt.internal.getWidth(r)/2)+" "+hd(xt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Yc(r);e.scope=r.scope;var t=[],n=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*xt.internal.Bezier_C).toFixed(5)),i=Number((n*xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+hd(xt.internal.getWidth(r)/2)+" "+hd(xt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+hd(xt.internal.getWidth(r)/2)+" "+hd(xt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Yc(r);e.scope=r.scope;var t=[],n=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+hd(xt.internal.getWidth(r)/2)+" "+hd(xt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=xt.RadioButton.Cross.YesNormal,e.D[r]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Yc(r);e.scope=r.scope;var t=[],n=xt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+ar(xt.internal.getWidth(r)-2)+" "+ar(xt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(ar(n.x1.x)+" "+ar(n.x1.y)+" m"),t.push(ar(n.x2.x)+" "+ar(n.x2.y)+" l"),t.push(ar(n.x4.x)+" "+ar(n.x4.y)+" m"),t.push(ar(n.x3.x)+" "+ar(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Yc(r);e.scope=r.scope;var t=xt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+ar(xt.internal.getWidth(r))+" "+ar(xt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ar(xt.internal.getWidth(r)-2)+" "+ar(xt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(ar(t.x1.x)+" "+ar(t.x1.y)+" m"),n.push(ar(t.x2.x)+" "+ar(t.x2.y)+" l"),n.push(ar(t.x4.x)+" "+ar(t.x4.y)+" m"),n.push(ar(t.x3.x)+" "+ar(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Yc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ar(xt.internal.getWidth(r))+" "+ar(xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};xt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=xt.internal.getWidth(r),t=xt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},xt.internal.getWidth=function(r){var e=0;return sn(r)==="object"&&(e=JL(r.Rect[2])),e},xt.internal.getHeight=function(r){var e=0;return sn(r)==="object"&&(e=JL(r.Rect[3])),e};var l5e=ya.addField=function(r){if(o5e(this,r),!(r instanceof vc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ya.AcroFormChoiceField=Jm,ya.AcroFormListBox=Zm,ya.AcroFormComboBox=eg,ya.AcroFormEditBox=tb,ya.AcroFormButton=Cs,ya.AcroFormPushButton=rb,ya.AcroFormRadioButton=tg,ya.AcroFormCheckBox=nb,ya.AcroFormTextField=tf,ya.AcroFormPasswordField=ab,ya.AcroFormAppearance=xt,ya.AcroForm={ChoiceField:Jm,ListBox:Zm,ComboBox:eg,EditBox:tb,Button:Cs,PushButton:rb,RadioButton:tg,CheckBox:nb,TextField:tf,PasswordField:ab,Appearance:xt},Et.AcroForm={ChoiceField:Jm,ListBox:Zm,ComboBox:eg,EditBox:tb,Button:Cs,PushButton:rb,RadioButton:tg,CheckBox:nb,TextField:tf,PasswordField:ab,Appearance:xt};Et.AcroForm;function cK(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(F,R){var H,z,X,$,te,ee=t;if((R=R||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(I(F))for(te in n)for(X=n[te],H=0;H<X.length;H+=1){for($=!0,z=0;z<X[H].length;z+=1)if(X[H][z]!==void 0&&X[H][z]!==F[z]){$=!1;break}if($===!0){ee=te;break}}else for(te in n)for(X=n[te],H=0;H<X.length;H+=1){for($=!0,z=0;z<X[H].length;z+=1)if(X[H][z]!==void 0&&X[H][z]!==F.charCodeAt(z)){$=!1;break}if($===!0){ee=te;break}}return ee===t&&R!==t&&(ee=R),ee},s=function F(R){for(var H=this.internal.write,z=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:R.width}),$.push({key:"Height",value:R.height}),R.colorSpace===w.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===w.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var te="",ee=0,fe=R.transparency.length;ee<fe;ee++)te+=R.transparency[ee]+" "+R.transparency[ee]+" ";$.push({key:"Mask",value:"["+te+"]"})}R.sMask!==void 0&&$.push({key:"SMask",value:R.objectId+1+" 0 R"});var _e=R.filter!==void 0?["/"+R.filter]:void 0;if(z({data:R.data,additionalKeyValues:$,alreadyAppliedFilters:_e,objectId:R.objectId}),H("endobj"),"sMask"in R&&R.sMask!==void 0){var re,U=(re=R.sMaskBitsPerComponent)!==null&&re!==void 0?re:R.bitsPerComponent,Y={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:R.sMask};"filter"in R&&(Y.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(R.width),Y.filter=R.filter),F.call(this,Y)}if(R.colorSpace===w.INDEXED){var ne=this.internal.newObject();z({data:L(new Uint8Array(R.palette)),objectId:ne}),H("endobj")}},i=function(){var F=this.internal.collections[e+"images"];for(var R in F)s.call(this,F[R])},l=function(){var F,R=this.internal.collections[e+"images"],H=this.internal.write;for(var z in R)H("/I"+(F=R[z]).index,F.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var F=this.internal.collections[e+"images"];return c.call(this),F},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(F){return typeof r["process"+F.toUpperCase()]=="function"},g=function(F){return sn(F)==="object"&&F.nodeType===1},p=function(F,R){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var H=""+F.getAttribute("src");if(H.indexOf("data:image/")===0)return eb(unescape(H).split("base64,").pop());var z=r.loadFile(H,!0);if(z!==void 0)return z}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var X;switch(R){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return eb(F.toDataURL(X,1).split("base64,").pop())}},x=function(F){var R=this.internal.collections[e+"images"];if(R){for(var H in R)if(F===R[H].alias)return R[H]}},y=function(F,R,H){return F||R||(F=-96,R=-96),F<0&&(F=-1*H.width*72/F/this.internal.scaleFactor),R<0&&(R=-1*H.height*72/R/this.internal.scaleFactor),F===0&&(F=R*H.width/H.height),R===0&&(R=F*H.height/H.width),[F,R]},b=function(F,R,H,z,X,$){var te=y.call(this,H,z,X),ee=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,_e=u.call(this);if(H=te[0],z=te[1],_e[X.index]=X,$){$*=Math.PI/180;var re=Math.cos($),U=Math.sin($),Y=function(oe){return oe.toFixed(4)},ne=[Y(re),Y(U),Y(-1*U),Y(re),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ee(F),fe(R+z),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([ee(H),"0","0",ee(z),"0","0","cm"].join(" "))):this.internal.write([ee(H),"0","0",ee(z),ee(F),fe(R+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=r.__addimage__.sHashCode=function(F){var R,H,z=0;if(typeof F=="string")for(H=F.length,R=0;R<H;R++)z=(z<<5)-z+F.charCodeAt(R),z|=0;else if(I(F))for(H=F.byteLength/2,R=0;R<H;R++)z=(z<<5)-z+F[R],z|=0;return z},k=r.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var R=!0;return F.length===0&&(R=!1),F.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(R=!1),R},T=r.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var R=F.indexOf(",");return R<0?null:F.substring(0,R).trim().endsWith("base64")?F.substring(R+1):null};r.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var I=r.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},M=r.__addimage__.binaryStringToUint8Array=function(F){for(var R=F.length,H=new Uint8Array(R),z=0;z<R;z++)H[z]=F.charCodeAt(z);return H},L=r.__addimage__.arrayBufferToBinaryString=function(F){for(var R="",H=I(F)?F:new Uint8Array(F),z=0;z<H.length;z+=8192)R+=String.fromCharCode.apply(null,H.subarray(z,z+8192));return R};r.addImage=function(){var F,R,H,z,X,$,te,ee,fe;if(typeof arguments[1]=="number"?(R=t,H=arguments[1],z=arguments[2],X=arguments[3],$=arguments[4],te=arguments[5],ee=arguments[6],fe=arguments[7]):(R=arguments[1],H=arguments[2],z=arguments[3],X=arguments[4],$=arguments[5],te=arguments[6],ee=arguments[7],fe=arguments[8]),sn(F=arguments[0])==="object"&&!g(F)&&"imageData"in F){var _e=F;F=_e.imageData,R=_e.format||R||t,H=_e.x||H||0,z=_e.y||z||0,X=_e.w||_e.width||X,$=_e.h||_e.height||$,te=_e.alias||te,ee=_e.compression||ee,fe=_e.rotation||_e.angle||fe}var re=this.internal.getFilters();if(ee===void 0&&re.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(H)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=P.call(this,F,R,te,ee);return b.call(this,H,z,X,$,U,fe),this};var P=function(F,R,H,z){var X,$,te;if(typeof F=="string"&&a(F)===t){F=unescape(F);var ee=q(F,!1);(ee!==""||(ee=r.loadFile(F,!0))!==void 0)&&(F=ee)}if(g(F)&&(F=p(F,R)),R=a(F,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((te=H)==null||te.length===0)&&(H=(function(fe){return typeof fe=="string"||I(fe)?j(fe):I(fe.data)?j(fe.data):null})(F)),(X=x.call(this,H))||(F instanceof Uint8Array||R==="RGBA"||($=F,F=M(F)),X=this["process"+R.toUpperCase()](F,d.call(this),H,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:N.NONE})(z),$)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},q=r.__addimage__.convertBase64ToBinaryString=function(F,R){R=typeof R!="boolean"||R;var H,z="";if(typeof F=="string"){var X;H=(X=T(F))!==null&&X!==void 0?X:F;try{z=eb(H)}catch($){if(R)throw k(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};r.getImageProperties=function(F){var R,H,z="";if(g(F)&&(F=p(F)),typeof F=="string"&&a(F)===t&&((z=q(F,!1))===""&&(z=r.loadFile(F)||""),F=z),H=a(F),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(F instanceof Uint8Array||(F=M(F)),!(R=this["process"+H.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=H,R}})(Et.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Et.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),N=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(w(N))+") >>",y.content=s;var j=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var I=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:u(n),w:c(t+a),h:u(n+s)},options:i,type:"link"})},r.textWithLink=function(t,n,a,s){var i,l,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(t,l).length;i=Math.ceil(u*d)}else l=c,i=u;return this.text(t,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,i,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Et.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=r.__arabicParser__.isArabicEndLetter=function(y){return i(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(y){return i(y)&&a.indexOf(y.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return i(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(y){return i(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(y){return i(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var d=r.__arabicParser__.arabicLetterHasMedialForm=function(y){return i(y)&&s(y)&&e[y.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(y){var b=0,w=t,N="",j=0;for(b=0;b<y.length;b+=1)w[y.charCodeAt(b)]!==void 0?(j++,typeof(w=w[y.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(w),w=t,j=0),b===y.length-1&&(w=t,N+=y.charAt(b-(j-1)),b-=j-1,j=0)):(w=t,N+=y.charAt(b-j),b-=j,j=0);return N};r.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=r.__arabicParser__.getCorrectForm=function(y,b,w){return i(y)?s(y)===!1?-1:!u(y)||!i(b)&&!i(w)||!i(w)&&l(b)||l(y)&&!i(b)||l(y)&&c(b)||l(y)&&l(b)?0:d(y)&&i(b)&&!l(b)&&i(w)&&u(w)?3:l(y)||!i(w)?1:2:-1},p=function(y){var b=0,w=0,N=0,j="",k="",T="",I=(y=y||"").split("\\s+"),M=[];for(b=0;b<I.length;b+=1){for(M.push(""),w=0;w<I[b].length;w+=1)j=I[b][w],k=I[b][w-1],T=I[b][w+1],i(j)?(N=g(j,k,T),M[b]+=N!==-1?String.fromCharCode(e[j.charCodeAt(0)][N]):j):M[b]+=j;M[b]=f(M[b])}return M.join(" ")},x=r.__arabicParser__.processArabic=r.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(b)){var N=0;for(w=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?w.push([p(b[N][0]),b[N][1],b[N][2]]):w.push([p(b[N])]);y=w}else y=p(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};r.events.push(["preProcessText",x])})(Et.API),Et.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Et.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,x=0,y=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,k){return j.concat(b.splitTextToSize(k,w))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)p<(y=this.getStringUnitWidth(c[N],{font:f})*d)&&(p=y);return p!==0&&(x=c.length),{w:p/=g,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,d,f,g){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,x,y,b,w=[],N=[],j=[],k={},T={},I=[],M=[],L=(g=g||{}).autoSize||!1,P=g.printHeaders!==!1,q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,F=g.margins||Object.assign({width:this.getPageWidth()},e),R=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",z=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=z,this.setFontSize(q),f==null)N=w=Object.keys(d[0]),j=w.map(function(){return"left"});else if(Array.isArray(f)&&sn(f[0])==="object")for(w=f.map(function(_e){return _e.name}),N=f.map(function(_e){return _e.prompt||_e.name||""}),j=f.map(function(_e){return _e.align||"left"}),p=0;p<f.length;p+=1)T[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(N=w=f,j=w.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(k[b=w[p]]=d.map(function(_e){return _e[b]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=k[b],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)I.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[b]=Math.max.apply(null,I)+R+R,I=[]}if(P){var X={};for(p=0;p<w.length;p+=1)X[w[p]]={},X[w[p]].text=N[p],X[w[p]].align=j[p];var $=l.call(this,X,T);M=w.map(function(_e){return new s(c,u,T[_e],$,X[_e].text,void 0,X[_e].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var te=f.reduce(function(_e,re){return _e[re.name]=re.align,_e},{});for(p=0;p<d.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:d[p]},this);var ee=l.call(this,d[p],T);for(y=0;y<w.length;y+=1){var fe=d[p][w[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:y,data:fe},this),i.call(this,new s(c,u,T[w[y]],ee,fe,p+2,te[w[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var x=c[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/g+d+d},this).reduce(function(p,x){return Math.max(p,x)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}})(Et.API);var AK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tj=cK(uK),dK=[100,200,300,400,500,600,700,800,900],c5e=cK(dK);function H5(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return AK[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),a=(function(s){return typeof tj[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function ZL(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var A5e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tD(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function rD(r){return r.trimLeft()}function u5e(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function d5e(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Ov,nD,aD,_m,Iv,sD,iD,oD,K5=["times"];function lD(r,e,t,n,a){var s=4,i=AD;switch(a){case Et.API.image_compression.FAST:s=1,i=cD;break;case Et.API.image_compression.MEDIUM:s=6,i=uD;break;case Et.API.image_compression.SLOW:s=9,i=dD}r=(function(c,u,d,f){for(var g,p=c.length/u,x=new Uint8Array(c.length+p),y=[h5e,cD,AD,uD,dD],b=0;b<p;b+=1){var w=b*u,N=c.subarray(w,w+u);if(f)x.set(f(N,d,g),w+b);else{for(var j=y.length,k=[],T=0;T<j;T+=1)k[T]=y[T](N,d,g);var I=m5e(k.concat());x.set(k[I],w+b)}g=N}return x})(r,e,Math.ceil(t*n/8),i);var l=VS(r,{level:s});return Et.API.__addimage__.arrayBufferToBinaryString(l)}function h5e(r){var e=Array.apply([],r);return e.unshift(0),e}function cD(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var s=r[a-e]||0;n[a+1]=r[a]-s+256&255}return n}function AD(r,e,t){var n=r.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var i=t&&t[s]||0;a[s+1]=r[s]-i+256&255}return a}function uD(r,e,t){var n=r.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var i=r[s-e]||0,l=t&&t[s]||0;a[s+1]=r[s]+256-(i+l>>>1)&255}return a}function dD(r,e,t){var n=r.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var i=f5e(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);a[s+1]=r[s]-i+256&255}return a}function f5e(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=a&&n<=s?r:a<=s?e:t}function m5e(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function z5(r,e,t){var n=e*t,a=Math.floor(n/8),s=16-(n-8*a+t),i=(1<<t)-1;return hK(r,a)>>s&i}function hD(r,e,t,n){var a=t*n,s=Math.floor(a/8),i=16-(a-8*s+n),l=(1<<n)-1,c=(e&l)<<i;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var g=f>>8&255;u.setUint8(d,g)}})(r,s,hK(r,s)&~(l<<i)&65535|c)}function hK(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function g5e(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,i=1<<1+(7&a);r[e++],r[e++];var l=null,c=null;s&&(l=e,c=i,e+=3*i);var u=!0,d=[],f=0,g=null,p=0,x=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,x=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=r[e++];f=r[e++]|r[e++]<<8,g=r[e++],1&y||(g=null),p=y>>2&7,e++;break;case 254:for(;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var b=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,j=r[e++]|r[e++]<<8,k=r[e++],T=k>>6&1,I=1<<1+(7&k),M=l,L=c,P=!1;k>>7&&(P=!0,M=e,L=I,e+=3*I);var q=e;for(e++;;){var F;if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}d.push({x:b,y:w,width:N,height:j,has_local_palette:P,palette_offset:M,palette_size:L,data_offset:q,data_length:e-q,transparent_index:g,interlaced:!!T,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(R){if(R<0||R>=d.length)throw new Error("Frame index out of range.");return d[R]},this.decodeAndBlitFrameBGRA=function(R,H){var z=this.frameInfo(R),X=z.width*z.height,$=new Uint8Array(X);fD(r,z.data_offset,$,X);var te=z.palette_offset,ee=z.transparent_index;ee===null&&(ee=256);var fe=z.width,_e=t-fe,re=fe,U=4*(z.y*t+z.x),Y=4*((z.y+z.height)*t+z.x),ne=U,oe=4*_e;z.interlaced===!0&&(oe+=4*t*7);for(var de=8,he=0,Se=$.length;he<Se;++he){var me=$[he];if(re===0&&(re=fe,(ne+=oe)>=Y&&(oe=4*_e+4*t*(de-1),ne=U+(fe+_e)*(de<<1),de>>=1)),me===ee)ne+=4;else{var be=r[te+3*me],ge=r[te+3*me+1],le=r[te+3*me+2];H[ne++]=le,H[ne++]=ge,H[ne++]=be,H[ne++]=255}--re}},this.decodeAndBlitFrameRGBA=function(R,H){var z=this.frameInfo(R),X=z.width*z.height,$=new Uint8Array(X);fD(r,z.data_offset,$,X);var te=z.palette_offset,ee=z.transparent_index;ee===null&&(ee=256);var fe=z.width,_e=t-fe,re=fe,U=4*(z.y*t+z.x),Y=4*((z.y+z.height)*t+z.x),ne=U,oe=4*_e;z.interlaced===!0&&(oe+=4*t*7);for(var de=8,he=0,Se=$.length;he<Se;++he){var me=$[he];if(re===0&&(re=fe,(ne+=oe)>=Y&&(oe=4*_e+4*t*(de-1),ne=U+(fe+_e)*(de<<1),de>>=1)),me===ee)ne+=4;else{var be=r[te+3*me],ge=r[te+3*me+1],le=r[te+3*me+2];H[ne++]=be,H[ne++]=ge,H[ne++]=le,H[ne++]=255}--re}}}function fD(r,e,t,n){for(var a=r[e++],s=1<<a,i=s+1,l=i+1,c=a+1,u=(1<<c)-1,d=0,f=0,g=0,p=r[e++],x=new Int32Array(4096),y=null;;){for(;d<16&&p!==0;)f|=r[e++]<<d,d+=8,p===1?p=r[e++]:--p;if(d<c)break;var b=f&u;if(f>>=c,d-=c,b!==s){if(b===i)break;for(var w=b<l?b:y,N=0,j=w;j>s;)j=x[j]>>8,++N;var k=j;if(g+N+(w!==b?1:0)>n)return void bn.log("Warning, gif stream longer than expected.");t[g++]=k;var T=g+=N;for(w!==b&&(t[g++]=k),j=w;N--;)j=x[j],t[--T]=255&j,j>>=8;y!==null&&l<4096&&(x[l++]=y<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=b}else l=i+1,u=(1<<(c=a+1))-1,y=null}return g!==n&&bn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function q5(r){var e,t,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),g=new Array(65535),p=new Array(64),x=new Array(64),y=[],b=0,w=7,N=new Array(64),j=new Array(64),k=new Array(64),T=new Array(256),I=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(U,Y){for(var ne=0,oe=0,de=new Array,he=1;he<=16;he++){for(var Se=1;Se<=U[he];Se++)de[Y[oe]]=[],de[Y[oe]][0]=ne,de[Y[oe]][1]=he,oe++,ne++;ne*=2}return de}function te(U){for(var Y=U[0],ne=U[1]-1;ne>=0;)Y&1<<ne&&(b|=1<<w),ne--,--w<0&&(b==255?(ee(255),ee(0)):ee(b),w=7,b=0)}function ee(U){y.push(U)}function fe(U){ee(U>>8&255),ee(255&U)}function _e(U,Y,ne,oe,de){for(var he,Se=de[0],me=de[240],be=(function($e,bt){var tt,mt,Nt,vt,or,Ht,$t,Kt,at,Mt,wt=0;for(at=0;at<8;++at){tt=$e[wt],mt=$e[wt+1],Nt=$e[wt+2],vt=$e[wt+3],or=$e[wt+4],Ht=$e[wt+5],$t=$e[wt+6];var Xn=tt+(Kt=$e[wt+7]),fr=tt-Kt,Ut=mt+$t,Wt=mt-$t,gr=Nt+Ht,Pt=Nt-Ht,on=vt+or,zt=vt-or,Yt=Xn+on,Jr=Xn-on,lr=Ut+gr,jt=Ut-gr;$e[wt]=Yt+lr,$e[wt+4]=Yt-lr;var jr=.707106781*(jt+Jr);$e[wt+2]=Jr+jr,$e[wt+6]=Jr-jr;var so=.382683433*((Yt=zt+Pt)-(jt=Wt+fr)),us=.5411961*Yt+so,Ro=1.306562965*jt+so,_i=.707106781*(lr=Pt+Wt),kt=fr+_i,_l=fr-_i;$e[wt+5]=_l+us,$e[wt+3]=_l-us,$e[wt+1]=kt+Ro,$e[wt+7]=kt-Ro,wt+=8}for(wt=0,at=0;at<8;++at){tt=$e[wt],mt=$e[wt+8],Nt=$e[wt+16],vt=$e[wt+24],or=$e[wt+32],Ht=$e[wt+40],$t=$e[wt+48];var Qo=tt+(Kt=$e[wt+56]),di=tt-Kt,hi=mt+$t,Sn=mt-$t,ca=Nt+Ht,Ia=Nt-Ht,wc=vt+or,ks=vt-or,Zr=Qo+wc,_n=Qo-wc,ds=hi+ca,fi=hi-ca;$e[wt]=Zr+ds,$e[wt+32]=Zr-ds;var ki=.707106781*(fi+_n);$e[wt+16]=_n+ki,$e[wt+48]=_n-ki;var gA=.382683433*((Zr=ks+Ia)-(fi=Sn+di)),io=.5411961*Zr+gA,oo=1.306562965*fi+gA,Cc=.707106781*(ds=Ia+Sn),lo=di+Cc,co=di-Cc;$e[wt+40]=co+io,$e[wt+24]=co-io,$e[wt+8]=lo+oo,$e[wt+56]=lo-oo,wt++}for(at=0;at<64;++at)Mt=$e[at]*bt[at],p[at]=Mt>0?Mt+.5|0:Mt-.5|0;return p})(U,Y),ge=0;ge<64;++ge)x[M[ge]]=be[ge];var le=x[0]-ne;ne=x[0],le==0?te(oe[0]):(te(oe[g[he=32767+le]]),te(f[he]));for(var je=63;je>0&&x[je]==0;)je--;if(je==0)return te(Se),ne;for(var Qe,G=1;G<=je;){for(var Fe=G;x[G]==0&&G<=je;)++G;var Je=G-Fe;if(Je>=16){Qe=Je>>4;for(var et=1;et<=Qe;++et)te(me);Je&=15}he=32767+x[G],te(de[(Je<<4)+g[he]]),te(f[he]),G++}return je!=63&&te(Se),ne}function re(U){U=Math.min(Math.max(U,1),100),s!=U&&((function(Y){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=i((ne[oe]*Y+50)/100);de=Math.min(Math.max(de,1),255),l[M[oe]]=de}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var me=i((he[Se]*Y+50)/100);me=Math.min(Math.max(me,1),255),c[M[Se]]=me}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,le=0;le<8;le++)for(var je=0;je<8;je++)u[ge]=1/(l[M[ge]]*be[le]*be[je]*8),d[ge]=1/(c[M[ge]]*be[le]*be[je]*8),ge++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,Y){Y&&re(Y),y=new Array,b=0,w=7,fe(65496),fe(65504),fe(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),fe(1),fe(1),ee(0),ee(0),(function(){fe(65499),fe(132),ee(0);for(var mt=0;mt<64;mt++)ee(l[mt]);ee(1);for(var Nt=0;Nt<64;Nt++)ee(c[Nt])})(),(function(mt,Nt){fe(65472),fe(17),ee(8),fe(Nt),fe(mt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(U.width,U.height),(function(){fe(65476),fe(418),ee(0);for(var mt=0;mt<16;mt++)ee(L[mt+1]);for(var Nt=0;Nt<=11;Nt++)ee(P[Nt]);ee(16);for(var vt=0;vt<16;vt++)ee(q[vt+1]);for(var or=0;or<=161;or++)ee(F[or]);ee(1);for(var Ht=0;Ht<16;Ht++)ee(R[Ht+1]);for(var $t=0;$t<=11;$t++)ee(H[$t]);ee(17);for(var Kt=0;Kt<16;Kt++)ee(z[Kt+1]);for(var at=0;at<=161;at++)ee(X[at])})(),fe(65498),fe(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var ne=0,oe=0,de=0;b=0,w=7,this.encode.displayName="_encode_";for(var he,Se,me,be,ge,le,je,Qe,G,Fe=U.data,Je=U.width,et=U.height,$e=4*Je,bt=0;bt<et;){for(he=0;he<$e;){for(ge=$e*bt+he,je=-1,Qe=0,G=0;G<64;G++)le=ge+(Qe=G>>3)*$e+(je=4*(7&G)),bt+Qe>=et&&(le-=$e*(bt+1+Qe-et)),he+je>=$e&&(le-=he+je-$e+4),Se=Fe[le++],me=Fe[le++],be=Fe[le++],N[G]=(I[Se]+I[me+256|0]+I[be+512|0]>>16)-128,j[G]=(I[Se+768|0]+I[me+1024|0]+I[be+1280|0]>>16)-128,k[G]=(I[Se+1280|0]+I[me+1536|0]+I[be+1792|0]>>16)-128;ne=_e(N,u,ne,e,n),oe=_e(j,d,oe,t,a),de=_e(k,d,de,t,a),he+=32}bt+=8}if(w>=0){var tt=[];tt[1]=w+1,tt[0]=(1<<w+1)-1,te(tt)}return fe(65497),new Uint8Array(y)},r=r||50,(function(){for(var U=String.fromCharCode,Y=0;Y<256;Y++)T[Y]=U(Y)})(),e=$(L,P),t=$(R,H),n=$(q,F),a=$(z,X),(function(){for(var U=1,Y=2,ne=1;ne<=15;ne++){for(var oe=U;oe<Y;oe++)g[32767+oe]=ne,f[32767+oe]=[],f[32767+oe][1]=ne,f[32767+oe][0]=oe;for(var de=-(Y-1);de<=-U;de++)g[32767+de]=ne,f[32767+de]=[],f[32767+de][1]=ne,f[32767+de][0]=Y-1+de;U<<=1,Y<<=1}})(),(function(){for(var U=0;U<256;U++)I[U]=19595*U,I[U+256|0]=38470*U,I[U+512|0]=7471*U+32768,I[U+768|0]=-11059*U,I[U+1024|0]=-21709*U,I[U+1280|0]=32768*U+8421375,I[U+1536|0]=-27439*U,I[U+1792|0]=-5329*U})(),re(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function sc(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mD(r){function e(P){if(!P)throw Error("assert :P")}function t(P,q,F){for(var R=0;4>R;R++)if(P[q+R]!=F.charCodeAt(R))return!0;return!1}function n(P,q,F,R,H){for(var z=0;z<H;z++)P[q+z]=F[R+z]}function a(P,q,F,R){for(var H=0;H<R;H++)P[q+H]=F}function s(P){return new Int32Array(P)}function i(P,q){for(var F=[],R=0;R<P;R++)F.push(new q);return F}function l(P,q){var F=[];return(function R(H,z,X){for(var $=X[z],te=0;te<$&&(H.push(X.length>z+1?[]:new q),!(X.length<z+1));te++)R(H[te],z+1,X)})(F,0,P),F}var c=function(){var P=this;function q(C,E){for(var D=1<<E-1>>>0;C&D;)D>>>=1;return D?(C&D-1)+D:C}function F(C,E,D,Q,W){e(!(Q%D));do C[E+(Q-=D)]=W;while(0<Q)}function R(C,E,D,Q,W){if(e(2328>=W),512>=W)var J=s(512);else if((J=s(W))==null)return 0;return(function(Z,se,ie,Ae,xe,Te){var ce,we,Ee=se,Re=1<<ie,ke=s(16),Ue=s(16);for(e(xe!=0),e(Ae!=null),e(Z!=null),e(0<ie),we=0;we<xe;++we){if(15<Ae[we])return 0;++ke[Ae[we]]}if(ke[0]==xe)return 0;for(Ue[1]=0,ce=1;15>ce;++ce){if(ke[ce]>1<<ce)return 0;Ue[ce+1]=Ue[ce]+ke[ce]}for(we=0;we<xe;++we)ce=Ae[we],0<Ae[we]&&(Te[Ue[ce]++]=we);if(Ue[15]==1)return(Ae=new H).g=0,Ae.value=Te[0],F(Z,Ee,1,Re,Ae),Re;var ze,Xe=-1,We=Re-1,gt=0,it=1,Xt=1,ct=1<<ie;for(we=0,ce=1,xe=2;ce<=ie;++ce,xe<<=1){if(it+=Xt<<=1,0>(Xt-=ke[ce]))return 0;for(;0<ke[ce];--ke[ce])(Ae=new H).g=ce,Ae.value=Te[we++],F(Z,Ee+gt,xe,ct,Ae),gt=q(gt,ce)}for(ce=ie+1,xe=2;15>=ce;++ce,xe<<=1){if(it+=Xt<<=1,0>(Xt-=ke[ce]))return 0;for(;0<ke[ce];--ke[ce]){if(Ae=new H,(gt&We)!=Xe){for(Ee+=ct,ze=1<<(Xe=ce)-ie;15>Xe&&!(0>=(ze-=ke[Xe]));)++Xe,ze<<=1;Re+=ct=1<<(ze=Xe-ie),Z[se+(Xe=gt&We)].g=ze+ie,Z[se+Xe].value=Ee-se-Xe}Ae.g=ce-ie,Ae.value=Te[we++],F(Z,Ee+(gt>>ie),xe,ct,Ae),gt=q(gt,ce)}}return it!=2*Ue[15]-1?0:Re})(C,E,D,Q,W,J)}function H(){this.value=this.g=0}function z(){this.value=this.g=0}function X(){this.G=i(5,H),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Ec,z)}function $(C,E,D,Q){e(C!=null),e(E!=null),e(2147483648>Q),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=E,C.pa=D,C.Jd=E,C.Yc=D+Q,C.Zc=4<=Q?D+Q-4+1:D,Se(C)}function te(C,E){for(var D=0;0<E--;)D|=be(C,128)<<E;return D}function ee(C,E){var D=te(C,E);return me(C)?-D:D}function fe(C,E,D,Q){var W,J=0;for(e(C!=null),e(E!=null),e(4294967288>Q),C.Sb=Q,C.Ra=0,C.u=0,C.h=0,4<Q&&(Q=4),W=0;W<Q;++W)J+=E[D+W]<<8*W;C.Ra=J,C.bb=Q,C.oa=E,C.pa=D}function _e(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Vo-8>>>0,++C.bb,C.u-=8;oe(C)&&(C.h=1,C.u=0)}function re(C,E){if(e(0<=E),!C.h&&E<=Os){var D=ne(C)&Ys[E];return C.u+=E,_e(C),D}return C.h=1,C.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(C){return C.Ra>>>(C.u&Vo-1)>>>0}function oe(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Vo}function de(C,E){C.u=E,C.h=oe(C)}function he(C){C.u>=Wo&&(e(C.u>=Wo),_e(C))}function Se(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function me(C){return te(C,1)}function be(C,E){var D=C.Ca;0>C.b&&Se(C);var Q=C.b,W=D*E>>>8,J=(C.I>>>Q>W)+0;for(J?(D-=W,C.I-=W+1<<Q>>>0):D=W+1,Q=D,W=0;256<=Q;)W+=8,Q>>=8;return Q=7^W+zl[Q],C.b-=Q,C.Ca=(D<<Q)-1,J}function ge(C,E,D){C[E+0]=D>>24&255,C[E+1]=D>>16&255,C[E+2]=D>>8&255,C[E+3]=255&D}function le(C,E){return C[E+0]|C[E+1]<<8}function je(C,E){return le(C,E)|C[E+2]<<16}function Qe(C,E){return le(C,E)|le(C,E+2)<<16}function G(C,E){var D=1<<E;return e(C!=null),e(0<E),C.X=s(D),C.X==null?0:(C.Mb=32-E,C.Xa=E,1)}function Fe(C,E){e(C!=null),e(E!=null),e(C.Xa==E.Xa),n(E.X,0,C.X,0,1<<E.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function et(C,E,D,Q){e(D!=null),e(Q!=null);var W=D[0],J=Q[0];return W==0&&(W=(C*J+E/2)/E),J==0&&(J=(E*W+C/2)/C),0>=W||0>=J?0:(D[0]=W,Q[0]=J,1)}function $e(C,E){return C+(1<<E)-1>>>E}function bt(C,E){return((4278255360&C)+(4278255360&E)>>>0&4278255360)+((16711935&C)+(16711935&E)>>>0&16711935)>>>0}function tt(C,E){P[E]=function(D,Q,W,J,Z,se,ie){var Ae;for(Ae=0;Ae<Z;++Ae){var xe=P[C](se[ie+Ae-1],W,J+Ae);se[ie+Ae]=bt(D[Q+Ae],xe)}}}function mt(){this.ud=this.hd=this.jd=0}function Nt(C,E){return((4278124286&(C^E))>>>1)+(C&E)>>>0}function vt(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function or(C,E){return vt(C+(C-E+.5>>1))}function Ht(C,E,D){return Math.abs(E-D)-Math.abs(C-D)}function $t(C,E,D,Q,W,J,Z){for(Q=J[Z-1],D=0;D<W;++D)J[Z+D]=Q=bt(C[E+D],Q)}function Kt(C,E,D,Q,W){var J;for(J=0;J<D;++J){var Z=C[E+J],se=Z>>8&255,ie=16711935&(ie=(ie=16711935&Z)+((se<<16)+se));Q[W+J]=(4278255360&Z)+ie>>>0}}function at(C,E){E.jd=255&C,E.hd=C>>8&255,E.ud=C>>16&255}function Mt(C,E,D,Q,W,J){var Z;for(Z=0;Z<Q;++Z){var se=E[D+Z],ie=se>>>8,Ae=se,xe=255&(xe=(xe=se>>>16)+((C.jd<<24>>24)*(ie<<24>>24)>>>5));Ae=255&(Ae=(Ae+=(C.hd<<24>>24)*(ie<<24>>24)>>>5)+((C.ud<<24>>24)*(xe<<24>>24)>>>5)),W[J+Z]=(4278255360&se)+(xe<<16)+Ae}}function wt(C,E,D,Q,W){P[E]=function(J,Z,se,ie,Ae,xe,Te,ce,we){for(ie=Te;ie<ce;++ie)for(Te=0;Te<we;++Te)Ae[xe++]=W(se[Q(J[Z++])])},P[C]=function(J,Z,se,ie,Ae,xe,Te){var ce=8>>J.b,we=J.Ea,Ee=J.K[0],Re=J.w;if(8>ce)for(J=(1<<J.b)-1,Re=(1<<ce)-1;Z<se;++Z){var ke,Ue=0;for(ke=0;ke<we;++ke)ke&J||(Ue=Q(ie[Ae++])),xe[Te++]=W(Ee[Ue&Re]),Ue>>=ce}else P["VP8LMapColor"+D](ie,Ae,Ee,Re,xe,Te,Z,se,we)}}function Xn(C,E,D,Q,W){for(D=E+D;E<D;){var J=C[E++];Q[W++]=J>>16&255,Q[W++]=J>>8&255,Q[W++]=255&J}}function fr(C,E,D,Q,W){for(D=E+D;E<D;){var J=C[E++];Q[W++]=J>>16&255,Q[W++]=J>>8&255,Q[W++]=255&J,Q[W++]=J>>24&255}}function Ut(C,E,D,Q,W){for(D=E+D;E<D;){var J=(Z=C[E++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;Q[W++]=J,Q[W++]=Z}}function Wt(C,E,D,Q,W){for(D=E+D;E<D;){var J=(Z=C[E++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;Q[W++]=J,Q[W++]=Z}}function gr(C,E,D,Q,W){for(D=E+D;E<D;){var J=C[E++];Q[W++]=255&J,Q[W++]=J>>8&255,Q[W++]=J>>16&255}}function Pt(C,E,D,Q,W,J){if(J==0)for(D=E+D;E<D;)ge(Q,((J=C[E++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),W+=32;else n(Q,W,C,E,D)}function on(C,E){P[E][0]=P[C+"0"],P[E][1]=P[C+"1"],P[E][2]=P[C+"2"],P[E][3]=P[C+"3"],P[E][4]=P[C+"4"],P[E][5]=P[C+"5"],P[E][6]=P[C+"6"],P[E][7]=P[C+"7"],P[E][8]=P[C+"8"],P[E][9]=P[C+"9"],P[E][10]=P[C+"10"],P[E][11]=P[C+"11"],P[E][12]=P[C+"12"],P[E][13]=P[C+"13"],P[E][14]=P[C+"0"],P[E][15]=P[C+"0"]}function zt(C){return C==mh||C==Qf||C==Qu||C==Hf}function Yt(){this.eb=[],this.size=this.A=this.fb=0}function Jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yt,this.f.kb=new Jr,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function so(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function us(C,E){var D=C.T,Q=E.ba.f.RGBA,W=Q.eb,J=Q.fb+C.ka*Q.A,Z=Xa[E.ba.S],se=C.y,ie=C.O,Ae=C.f,xe=C.N,Te=C.ea,ce=C.W,we=E.cc,Ee=E.dc,Re=E.Mc,ke=E.Nc,Ue=C.ka,ze=C.ka+C.T,Xe=C.U,We=Xe+1>>1;for(Ue==0?Z(se,ie,null,null,Ae,xe,Te,ce,Ae,xe,Te,ce,W,J,null,null,Xe):(Z(E.ec,E.fc,se,ie,we,Ee,Re,ke,Ae,xe,Te,ce,W,J-Q.A,W,J,Xe),++D);Ue+2<ze;Ue+=2)we=Ae,Ee=xe,Re=Te,ke=ce,xe+=C.Rc,ce+=C.Rc,J+=2*Q.A,Z(se,(ie+=2*C.fa)-C.fa,se,ie,we,Ee,Re,ke,Ae,xe,Te,ce,W,J-Q.A,W,J,Xe);return ie+=C.fa,C.j+ze<C.o?(n(E.ec,E.fc,se,ie,Xe),n(E.cc,E.dc,Ae,xe,We),n(E.Mc,E.Nc,Te,ce,We),D--):1&ze||Z(se,ie,null,null,Ae,xe,Te,ce,Ae,xe,Te,ce,W,J+Q.A,null,null,Xe),D}function Ro(C,E,D){var Q=C.F,W=[C.J];if(Q!=null){var J=C.U,Z=E.ba.S,se=Z==fh||Z==Qu;E=E.ba.f.RGBA;var ie=[0],Ae=C.ka;ie[0]=C.T,C.Kb&&(Ae==0?--ie[0]:(--Ae,W[0]-=C.width),C.j+C.ka+C.T==C.o&&(ie[0]=C.o-C.j-Ae));var xe=E.eb;Ae=E.fb+Ae*E.A,C=Ah(Q,W[0],C.width,J,ie,xe,Ae+(se?0:3),E.A),e(D==ie),C&&zt(Z)&&jA(xe,Ae,se,J,ie,E.A)}return 0}function _i(C){var E=C.ma,D=E.ba.S,Q=11>D,W=D==ms||D==Ii||D==fh||D==Ru||D==12||zt(D);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Kl(E.Oa,C,W?11:12))return 0;if(W&&zt(D)&&ih(),C.da)alert("todo:use_scaling");else{if(Q){if(E.Ib=so,C.Kb){if(D=C.U+1>>1,E.memory=s(C.U+2*D),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+C.U,E.Mc=E.cc,E.Nc=E.dc+D,E.Ib=us,ih()}}else alert("todo:EmitYUV");W&&(E.Jb=Ro,Q&&mo())}if(Q&&!Ic){for(C=0;256>C;++C)Ja[C]=89858*(C-128)+zu>>Qi,U1[C]=-22014*(C-128)+zu,Iy[C]=-45773*(C-128),Gf[C]=113618*(C-128)+zu>>Qi;for(C=TA;C<Oc;++C)E=76283*(C-16)+zu>>Qi,R1[C-TA]=gi(E,255),Q1[C-TA]=gi(E+8>>4,15);Ic=1}return 1}function kt(C){var E=C.ma,D=C.U,Q=C.T;return e(!(1&C.ka)),0>=D||0>=Q?0:(D=E.Ib(C,E),E.Jb!=null&&E.Jb(C,E,D),E.Dc+=D,1)}function _l(C){C.ma.memory=null}function Qo(C,E,D,Q){return re(C,8)!=47?0:(E[0]=re(C,14)+1,D[0]=re(C,14)+1,Q[0]=re(C,1),re(C,3)!=0?0:!C.h)}function di(C,E){if(4>C)return C+1;var D=C-2>>1;return(2+(1&C)<<D)+re(E,D)+1}function hi(C,E){return 120<E?E-120:1<=(D=((D=Di[E-1])>>4)*C+(8-(15&D)))?D:1;var D}function Sn(C,E,D){var Q=ne(D),W=C[E+=255&Q].g-8;return 0<W&&(de(D,D.u+8),Q=ne(D),E+=C[E].value,E+=Q&(1<<W)-1),de(D,D.u+C[E].g),C[E].value}function ca(C,E,D){return D.g+=C.g,D.value+=C.value<<E>>>0,e(8>=D.g),C.g}function Ia(C,E,D){var Q=C.xc;return e((E=Q==0?0:C.vc[C.md*(D>>Q)+(E>>Q)])<C.Wb),C.Ya[E]}function wc(C,E,D,Q){var W=C.ab,J=C.c*E,Z=C.C;E=Z+E;var se=D,ie=Q;for(Q=C.Ta,D=C.Ua;0<W--;){var Ae=C.gc[W],xe=Z,Te=E,ce=se,we=ie,Ee=(ie=Q,se=D,Ae.Ea);switch(e(xe<Te),e(Te<=Ae.nc),Ae.hc){case 2:ea(ce,we,(Te-xe)*Ee,ie,se);break;case 0:var Re=xe,ke=Te,Ue=ie,ze=se,Xe=(ct=Ae).Ea;Re==0&&(Lu(ce,we,null,null,1,Ue,ze),$t(ce,we+1,0,0,Xe-1,Ue,ze+1),we+=Xe,ze+=Xe,++Re);for(var We=1<<ct.b,gt=We-1,it=$e(Xe,ct.b),Xt=ct.K,ct=ct.w+(Re>>ct.b)*it;Re<ke;){var pr=Xt,xn=ct,rr=1;for(Du(ce,we,Ue,ze-Xe,1,Ue,ze);rr<Xe;){var ot=(rr&~gt)+We;ot>Xe&&(ot=Xe),(0,ql[pr[xn++]>>8&15])(ce,we+ +rr,Ue,ze+rr-Xe,ot-rr,Ue,ze+rr),rr=ot}we+=Xe,ze+=Xe,++Re&gt||(ct+=it)}Te!=Ae.nc&&n(ie,se-Ee,ie,se+(Te-xe-1)*Ee,Ee);break;case 1:for(Ee=ce,ke=we,Xe=(ce=Ae.Ea)-(ze=ce&~(Ue=(we=1<<Ae.b)-1)),Re=$e(ce,Ae.b),We=Ae.K,Ae=Ae.w+(xe>>Ae.b)*Re;xe<Te;){for(gt=We,it=Ae,Xt=new mt,ct=ke+ze,pr=ke+ce;ke<ct;)at(gt[it++],Xt),Mu(Xt,Ee,ke,we,ie,se),ke+=we,se+=we;ke<pr&&(at(gt[it++],Xt),Mu(Xt,Ee,ke,Xe,ie,se),ke+=Xe,se+=Xe),++xe&Ue||(Ae+=Re)}break;case 3:if(ce==ie&&we==se&&0<Ae.b){for(ke=ie,ce=Ee=se+(Te-xe)*Ee-(ze=(Te-xe)*$e(Ae.Ea,Ae.b)),we=ie,Ue=se,Re=[],ze=(Xe=ze)-1;0<=ze;--ze)Re[ze]=we[Ue+ze];for(ze=Xe-1;0<=ze;--ze)ke[ce+ze]=Re[ze];Lf(Ae,xe,Te,ie,Ee,ie,se)}else Lf(Ae,xe,Te,ce,we,ie,se)}se=Q,ie=D}ie!=D&&n(Q,D,se,ie,J)}function ks(C,E){var D=C.V,Q=C.Ba+C.c*C.C,W=E-C.C;if(e(E<=C.l.o),e(16>=W),0<W){var J=C.l,Z=C.Ta,se=C.Ua,ie=J.width;if(wc(C,W,D,Q),W=se=[se],e((D=C.C)<(Q=E)),e(J.v<J.va),Q>J.o&&(Q=J.o),D<J.j){var Ae=J.j-D;D=J.j,W[0]+=Ae*ie}if(D>=Q?D=0:(W[0]+=4*J.v,J.ka=D-J.j,J.U=J.va-J.v,J.T=Q-D,D=1),D){if(se=se[0],11>(D=C.ca).S){var xe=D.f.RGBA,Te=(Q=D.S,W=J.U,J=J.T,Ae=xe.eb,xe.A),ce=J;for(xe=xe.fb+C.Ma*xe.A;0<ce--;){var we=Z,Ee=se,Re=W,ke=Ae,Ue=xe;switch(Q){case Uf:Uu(we,Ee,Re,ke,Ue);break;case ms:$l(we,Ee,Re,ke,Ue);break;case mh:$l(we,Ee,Re,ke,Ue),jA(ke,Ue,0,Re,1,0);break;case Rf:NA(we,Ee,Re,ke,Ue);break;case Ii:Pt(we,Ee,Re,ke,Ue,1);break;case Qf:Pt(we,Ee,Re,ke,Ue,1),jA(ke,Ue,0,Re,1,0);break;case fh:Pt(we,Ee,Re,ke,Ue,0);break;case Qu:Pt(we,Ee,Re,ke,Ue,0),jA(ke,Ue,1,Re,1,0);break;case Ru:Gl(we,Ee,Re,ke,Ue);break;case Hf:Gl(we,Ee,Re,ke,Ue),Oi(ke,Ue,Re,1,0);break;case _c:Jo(we,Ee,Re,ke,Ue);break;default:e(0)}se+=ie,xe+=Te}C.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=D.height)}}C.C=E,e(C.C<=C.i)}function Zr(C){var E;if(0<C.ua)return 0;for(E=0;E<C.Wb;++E){var D=C.Ya[E].G,Q=C.Ya[E].H;if(0<D[1][Q[1]+0].g||0<D[2][Q[2]+0].g||0<D[3][Q[3]+0].g)return 0}return 1}function _n(C,E,D,Q,W,J){if(C.Z!=0){var Z=C.qd,se=C.rd;for(e(Yl[C.Z]!=null);E<D;++E)Yl[C.Z](Z,se,Q,W,Q,W,J),Z=Q,se=W,W+=J;C.qd=Z,C.rd=se}}function ds(C,E){var D=C.l.ma,Q=D.Z==0||D.Z==1?C.l.j:C.C;if(Q=C.C<Q?Q:C.C,e(E<=C.l.o),E>Q){var W=C.l.width,J=D.ca,Z=D.tb+W*Q,se=C.V,ie=C.Ba+C.c*Q,Ae=C.gc;e(C.ab==1),e(Ae[0].hc==3),Xo(Ae[0],Q,E,se,ie,J,Z),_n(D,Q,E,J,Z,W)}C.C=C.Ma=E}function fi(C,E,D,Q,W,J,Z){var se=C.$/Q,ie=C.$%Q,Ae=C.m,xe=C.s,Te=D+C.$,ce=Te;W=D+Q*W;var we=D+Q*J,Ee=280+xe.ua,Re=C.Pb?se:16777216,ke=0<xe.ua?xe.Wa:null,Ue=xe.wc,ze=Te<we?Ia(xe,ie,se):null;e(C.C<J),e(we<=W);var Xe=!1;e:for(;;){for(;Xe||Te<we;){var We=0;if(se>=Re){var gt=Te-D;e((Re=C).Pb),Re.wd=Re.m,Re.xd=gt,0<Re.s.ua&&Fe(Re.s.Wa,Re.s.vb),Re=se+kc}if(ie&Ue||(ze=Ia(xe,ie,se)),e(ze!=null),ze.Qb&&(E[Te]=ze.qb,Xe=!0),!Xe)if(he(Ae),ze.jc){We=Ae,gt=E;var it=Te,Xt=ze.pd[ne(We)&Ec-1];e(ze.jc),256>Xt.g?(de(We,We.u+Xt.g),gt[it]=Xt.value,We=0):(de(We,We.u+Xt.g-256),e(256<=Xt.value),We=Xt.value),We==0&&(Xe=!0)}else We=Sn(ze.G[0],ze.H[0],Ae);if(Ae.h)break;if(Xe||256>We){if(!Xe)if(ze.nd)E[Te]=(ze.qb|We<<8)>>>0;else{if(he(Ae),Xe=Sn(ze.G[1],ze.H[1],Ae),he(Ae),gt=Sn(ze.G[2],ze.H[2],Ae),it=Sn(ze.G[3],ze.H[3],Ae),Ae.h)break;E[Te]=(it<<24|Xe<<16|We<<8|gt)>>>0}if(Xe=!1,++Te,++ie>=Q&&(ie=0,++se,Z!=null&&se<=J&&!(se%16)&&Z(C,se),ke!=null))for(;ce<Te;)We=E[ce++],ke.X[(506832829*We&4294967295)>>>ke.Mb]=We}else if(280>We){if(We=di(We-256,Ae),gt=Sn(ze.G[4],ze.H[4],Ae),he(Ae),gt=hi(Q,gt=di(gt,Ae)),Ae.h)break;if(Te-D<gt||W-Te<We)break e;for(it=0;it<We;++it)E[Te+it]=E[Te+it-gt];for(Te+=We,ie+=We;ie>=Q;)ie-=Q,++se,Z!=null&&se<=J&&!(se%16)&&Z(C,se);if(e(Te<=W),ie&Ue&&(ze=Ia(xe,ie,se)),ke!=null)for(;ce<Te;)We=E[ce++],ke.X[(506832829*We&4294967295)>>>ke.Mb]=We}else{if(!(We<Ee))break e;for(Xe=We-280,e(ke!=null);ce<Te;)We=E[ce++],ke.X[(506832829*We&4294967295)>>>ke.Mb]=We;We=Te,e(!(Xe>>>(gt=ke).Xa)),E[We]=gt.X[Xe],Xe=!0}Xe||e(Ae.h==oe(Ae))}if(C.Pb&&Ae.h&&Te<W)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Fe(C.s.vb,C.s.Wa);else{if(Ae.h)break e;Z?.(C,se>J?J:se),C.a=0,C.$=Te-D}return 1}return C.a=3,0}function ki(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var E=C.Wa;E!=null&&(E.X=null),C.vb=null,e(C!=null)}function gA(){var C=new Gt;return C==null?null:(C.a=0,C.xb=Gg,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),ea=Kt,Mu=Mt,Uu=Xn,$l=fr,Gl=Ut,Jo=Wt,NA=gr,P.VP8LMapColor32b=Yo,P.VP8LMapColor8b=Va,C)}function io(C,E,D,Q,W){var J=1,Z=[C],se=[E],ie=Q.m,Ae=Q.s,xe=null,Te=0;e:for(;;){if(D)for(;J&&re(ie,1);){var ce=Z,we=se,Ee=Q,Re=1,ke=Ee.m,Ue=Ee.gc[Ee.ab],ze=re(ke,2);if(Ee.Oc&1<<ze)J=0;else{switch(Ee.Oc|=1<<ze,Ue.hc=ze,Ue.Ea=ce[0],Ue.nc=we[0],Ue.K=[null],++Ee.ab,e(4>=Ee.ab),ze){case 0:case 1:Ue.b=re(ke,3)+2,Re=io($e(Ue.Ea,Ue.b),$e(Ue.nc,Ue.b),0,Ee,Ue.K),Ue.K=Ue.K[0];break;case 3:var Xe,We=re(ke,8)+1,gt=16<We?0:4<We?1:2<We?2:3;if(ce[0]=$e(Ue.Ea,gt),Ue.b=gt,Xe=Re=io(We,1,0,Ee,Ue.K)){var it,Xt=We,ct=Ue,pr=1<<(8>>ct.b),xn=s(pr);if(xn==null)Xe=0;else{var rr=ct.K[0],ot=ct.w;for(xn[0]=ct.K[0][0],it=1;it<1*Xt;++it)xn[it]=bt(rr[ot+it],xn[it-1]);for(;it<4*pr;++it)xn[it]=0;ct.K[0]=null,ct.K[0]=xn,Xe=1}}Re=Xe;break;case 2:break;default:e(0)}J=Re}}if(Z=Z[0],se=se[0],J&&re(ie,1)&&!(J=1<=(Te=re(ie,4))&&11>=Te)){Q.a=3;break e}var Ze;if(Ze=J)t:{var Tn,Qt,cr,$r=Q,wa=Z,Za=se,An=Te,da=D,gs=$r.m,ha=$r.s,hr=[null],Pr=1,Fn=0,Qr=Mi[An];r:for(;;){if(da&&re(gs,1)){var Ca=re(gs,3)+2,Pn=$e(wa,Ca),Or=$e(Za,Ca),na=Pn*Or;if(!io(Pn,Or,0,$r,hr))break r;for(hr=hr[0],ha.xc=Ca,Tn=0;Tn<na;++Tn){var Gr=hr[Tn]>>8&65535;hr[Tn]=Gr,Gr>=Pr&&(Pr=Gr+1)}}if(gs.h)break r;for(Qt=0;5>Qt;++Qt){var fa=_A[Qt];!Qt&&0<An&&(fa+=1<<An),Fn<fa&&(Fn=fa)}var ma=i(Pr*Qr,H),en=Pr,kr=i(en,X);if(kr==null)var ps=null;else e(65536>=en),ps=kr;var Un=s(Fn);if(ps==null||Un==null||ma==null){$r.a=1;break r}var Tt=ma;for(Tn=cr=0;Tn<Pr;++Tn){var Ot=ps[Tn],Ir=Ot.G,Xs=Ot.H,Hi=0,Ls=1,ga=0;for(Qt=0;5>Qt;++Qt){fa=_A[Qt],Ir[Qt]=Tt,Xs[Qt]=cr,!Qt&&0<An&&(fa+=1<<An);a:{var Lc,Dc=fa,Wf=$r,un=Un,Wg=Tt,Yg=cr,Yf=0,Xl=Wf.m,H1=re(Xl,1);if(a(un,0,0,Dc),H1){var Xg=re(Xl,1)+1,Jg=re(Xl,1),Xf=re(Xl,Jg==0?1:8);un[Xf]=1,Xg==2&&(un[Xf=re(Xl,8)]=1);var Ma=1}else{var Rn=s(19),xh=re(Xl,4)+4;if(19<xh){Wf.a=3;var Mc=0;break a}for(Lc=0;Lc<xh;++Lc)Rn[gh[Lc]]=re(Xl,3);var $u=void 0,FA=void 0,tl=Wf,Jf=Rn,Gu=Dc,Zf=un,em=0,Jl=tl.m,Zg=8,ep=i(128,H);n:for(;R(ep,0,7,Jf,19);){if(re(Jl,1)){var Ly=2+2*re(Jl,3);if(($u=2+re(Jl,Ly))>Gu)break n}else $u=Gu;for(FA=0;FA<Gu&&$u--;){he(Jl);var tp=ep[0+(127&ne(Jl))];de(Jl,Jl.u+tp.g);var Uc=tp.value;if(16>Uc)Zf[FA++]=Uc,Uc!=0&&(Zg=Uc);else{var Dy=Uc==16,My=Uc-16,Uy=Hu[My],rp=re(Jl,Li[My])+Uy;if(FA+rp>Gu)break n;for(var Ry=Dy?Zg:0;0<rp--;)Zf[FA++]=Ry}}em=1;break n}em||(tl.a=3),Ma=em}(Ma=Ma&&!Xl.h)&&(Yf=R(Wg,Yg,8,un,Dc)),Ma&&Yf!=0?Mc=Yf:(Wf.a=3,Mc=0)}if(Mc==0)break r;if(Ls&&Kf[Qt]==1&&(Ls=Tt[cr].g==0),Hi+=Tt[cr].g,cr+=Mc,3>=Qt){var PA,tm=Un[0];for(PA=1;PA<fa;++PA)Un[PA]>tm&&(tm=Un[PA]);ga+=tm}}if(Ot.nd=Ls,Ot.Qb=0,Ls&&(Ot.qb=(Ir[3][Xs[3]+0].value<<24|Ir[1][Xs[1]+0].value<<16|Ir[2][Xs[2]+0].value)>>>0,Hi==0&&256>Ir[0][Xs[0]+0].value&&(Ot.Qb=1,Ot.qb+=Ir[0][Xs[0]+0].value<<8)),Ot.jc=!Ot.Qb&&6>ga,Ot.jc){var vh,rl=Ot;for(vh=0;vh<Ec;++vh){var Zl=vh,ec=rl.pd[Zl],rm=rl.G[0][rl.H[0]+Zl];256<=rm.value?(ec.g=rm.g+256,ec.value=rm.value):(ec.g=0,ec.value=0,Zl>>=ca(rm,8,ec),Zl>>=ca(rl.G[1][rl.H[1]+Zl],16,ec),Zl>>=ca(rl.G[2][rl.H[2]+Zl],0,ec),ca(rl.G[3][rl.H[3]+Zl],24,ec))}}}ha.vc=hr,ha.Wb=Pr,ha.Ya=ps,ha.yc=ma,Ze=1;break t}Ze=0}if(!(J=Ze)){Q.a=3;break e}if(0<Te){if(Ae.ua=1<<Te,!G(Ae.Wa,Te)){Q.a=1,J=0;break e}}else Ae.ua=0;var nm=Q,OA=Z,Qy=se,Vu=nm.s,Wu=Vu.xc;if(nm.c=OA,nm.i=Qy,Vu.md=$e(OA,Wu),Vu.wc=Wu==0?-1:(1<<Wu)-1,D){Q.xb=Tc;break e}if((xe=s(Z*se))==null){Q.a=1,J=0;break e}J=(J=fi(Q,xe,0,Z,se,se,null))&&!ie.h;break e}return J?(W!=null?W[0]=xe:(e(xe==null),e(D)),Q.$=0,D||ki(Ae)):ki(Ae),J}function oo(C,E){var D=C.c*C.i,Q=D+E+16*E;return e(C.c<=E),C.V=s(Q),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+D+E,1)}function Cc(C,E){var D=C.C,Q=E-D,W=C.V,J=C.Ba+C.c*D;for(e(E<=C.l.o);0<Q;){var Z=16<Q?16:Q,se=C.l.ma,ie=C.l.width,Ae=ie*Z,xe=se.ca,Te=se.tb+ie*D,ce=C.Ta,we=C.Ua;wc(C,Z,W,J),bi(ce,we,xe,Te,Ae),_n(se,D,D+Z,xe,Te,ie),Q-=Z,W+=Z*C.c,D+=Z}e(D==E),C.C=C.Ma=E}function lo(){this.ub=this.yd=this.td=this.Rb=0}function co(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pA(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ho(){this.Yb=(function(){var C=[];return(function E(D,Q,W){for(var J=W[Q],Z=0;Z<J&&(D.push(W.length>Q+1?[]:0),!(W.length<Q+1));Z++)E(D[Z],Q+1,W)})(C,0,[3,11]),C})()}function Jn(){this.jb=s(3),this.Wc=l([4,8],Ho),this.Xc=l([4,17],Ho)}function $d(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function mi(){this.ld=this.La=this.dd=this.tc=0}function Ao(){this.Na=this.la=0}function kl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gd(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vd(){this.uc=this.M=this.Nb=0,this.wa=Array(new mi),this.Y=0,this.ya=Array(new Gd),this.aa=0,this.l=new Tl}function Wd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Sf(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new lo,this.Kc=new co,this.ed=new $d,this.Qa=new pA,this.Ic=this.$c=this.Aa=0,this.D=new Vd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,U),this.ia=0,this.pb=i(4,kl),this.Pa=new Jn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wd),this.Hd=0,this.rb=Array(new Ao),this.sb=0,this.wa=Array(new mi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gd),this.L=this.aa=0,this.gd=l([4,2],mi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gi(C,E){return 0>C?0:C>E?E:C}function Tl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uo(){var C=new Sf;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,wi||(wi=Bc)),C}function Ur(C,E,D){return C.a==0&&(C.a=E,C.sc=D,C.cb=0),0}function Yd(C,E,D){return 3<=D&&C[E+0]==157&&C[E+1]==1&&C[E+2]==42}function Ko(C,E){if(C==null)return 0;if(C.a=0,C.sc="OK",E==null)return Ur(C,2,"null VP8Io passed to VP8GetHeaders()");var D=E.data,Q=E.w,W=E.ha;if(4>W)return Ur(C,7,"Truncated header.");var J=D[Q+0]|D[Q+1]<<8|D[Q+2]<<16,Z=C.Od;if(Z.Rb=!(1&J),Z.td=J>>1&7,Z.yd=J>>4&1,Z.ub=J>>5,3<Z.td)return Ur(C,3,"Incorrect keyframe parameters.");if(!Z.yd)return Ur(C,4,"Frame not displayable.");Q+=3,W-=3;var se=C.Kc;if(Z.Rb){if(7>W)return Ur(C,7,"cannot parse picture header");if(!Yd(D,Q,W))return Ur(C,3,"Bad code word");se.c=16383&(D[Q+4]<<8|D[Q+3]),se.Td=D[Q+4]>>6,se.i=16383&(D[Q+6]<<8|D[Q+5]),se.Ud=D[Q+6]>>6,Q+=7,W-=7,C.za=se.c+15>>4,C.Ub=se.i+15>>4,E.width=se.c,E.height=se.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((J=C.Pa).jb,0,255,J.jb.length),e((J=C.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,a(J.Zb,0,0,J.Zb.length),a(J.Lb,0,0,J.Lb)}if(Z.ub>W)return Ur(C,7,"bad partition length");$(J=C.m,D,Q,Z.ub),Q+=Z.ub,W-=Z.ub,Z.Rb&&(se.Ld=me(J),se.Kd=me(J)),se=C.Qa;var ie,Ae=C.Pa;if(e(J!=null),e(se!=null),se.Cb=me(J),se.Cb){if(se.Bb=me(J),me(J)){for(se.Fb=me(J),ie=0;4>ie;++ie)se.Zb[ie]=me(J)?ee(J,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=me(J)?ee(J,6):0}if(se.Bb)for(ie=0;3>ie;++ie)Ae.jb[ie]=me(J)?te(J,8):255}else se.Bb=0;if(J.Ka)return Ur(C,3,"cannot parse segment header");if((se=C.ed).zd=me(J),se.Tb=te(J,6),se.wb=te(J,3),se.Pc=me(J),se.Pc&&me(J)){for(Ae=0;4>Ae;++Ae)me(J)&&(se.vd[Ae]=ee(J,6));for(Ae=0;4>Ae;++Ae)me(J)&&(se.od[Ae]=ee(J,6))}if(C.L=se.Tb==0?0:se.zd?1:2,J.Ka)return Ur(C,3,"cannot parse filter header");var xe=W;if(W=ie=Q,Q=ie+xe,se=xe,C.Xb=(1<<te(C.m,2))-1,xe<3*(Ae=C.Xb))D=7;else{for(ie+=3*Ae,se-=3*Ae,xe=0;xe<Ae;++xe){var Te=D[W+0]|D[W+1]<<8|D[W+2]<<16;Te>se&&(Te=se),$(C.Jc[+xe],D,ie,Te),ie+=Te,se-=Te,W+=3}$(C.Jc[+Ae],D,ie,se),D=ie<Q?0:5}if(D!=0)return Ur(C,D,"cannot parse partitions");for(D=te(ie=C.m,7),W=me(ie)?ee(ie,4):0,Q=me(ie)?ee(ie,4):0,se=me(ie)?ee(ie,4):0,Ae=me(ie)?ee(ie,4):0,ie=me(ie)?ee(ie,4):0,xe=C.Qa,Te=0;4>Te;++Te){if(xe.Cb){var ce=xe.Zb[Te];xe.Fb||(ce+=D)}else{if(0<Te){C.pb[Te]=C.pb[0];continue}ce=D}var we=C.pb[Te];we.Sc[0]=Ui[gi(ce+W,127)],we.Sc[1]=Ri[gi(ce+0,127)],we.Eb[0]=2*Ui[gi(ce+Q,127)],we.Eb[1]=101581*Ri[gi(ce+se,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Ui[gi(ce+Ae,117)],we.Qc[1]=Ri[gi(ce+ie,127)],we.lc=ce+ie}if(!Z.Rb)return Ur(C,4,"Not a key frame.");for(me(J),Z=C.Pa,D=0;4>D;++D){for(W=0;8>W;++W)for(Q=0;3>Q;++Q)for(se=0;11>se;++se)Ae=be(J,yn[D][W][Q][se])?te(J,8):Oy[D][W][Q][se],Z.Wc[D][W].Yb[Q][se]=Ae;for(W=0;17>W;++W)Z.Xc[D][W]=Z.Wc[D][yr[W]]}return C.kc=me(J),C.kc&&(C.Bd=te(J,8)),C.cb=1}function Bc(C,E,D,Q,W,J,Z){var se=E[W].Yb[D];for(D=0;16>W;++W){if(!be(C,se[D+0]))return W;for(;!be(C,se[D+1]);)if(se=E[++W].Yb[0],D=0,W==16)return 16;var ie=E[W+1].Yb;if(be(C,se[D+2])){var Ae=C,xe=0;if(be(Ae,(ce=se)[(Te=D)+3]))if(be(Ae,ce[Te+6])){for(se=0,Te=2*(xe=be(Ae,ce[Te+8]))+(ce=be(Ae,ce[Te+9+xe])),xe=0,ce=Py[Te];ce[se];++se)xe+=xe+be(Ae,ce[se]);xe+=3+(8<<Te)}else be(Ae,ce[Te+7])?(xe=7+2*be(Ae,165),xe+=be(Ae,145)):xe=5+be(Ae,159);else xe=be(Ae,ce[Te+4])?3+be(Ae,ce[Te+5]):2;se=ie[2]}else xe=1,se=ie[1];ie=Z+$g[W],0>(Ae=C).b&&Se(Ae);var Te,ce=Ae.b,we=(Te=Ae.Ca>>1)-(Ae.I>>ce)>>31;--Ae.b,Ae.Ca+=we,Ae.Ca|=1,Ae.I-=(Te+1&we)<<ce,J[ie]=((xe^we)-we)*Q[(0<W)+0]}return 16}function Xd(C){var E=C.rb[C.sb-1];E.la=0,E.Na=0,a(C.zc,0,0,C.zc.length),C.ja=0}function Ts(C,E,D,Q,W){W=C[E+D+32*Q]+(W>>3),C[E+D+32*Q]=-256&W?0>W?0:255:W}function va(C,E,D,Q,W,J){Ts(C,E,0,D,Q+W),Ts(C,E,1,D,Q+J),Ts(C,E,2,D,Q-J),Ts(C,E,3,D,Q-W)}function Aa(C){return(20091*C>>16)+C}function _u(C,E,D,Q){var W,J=0,Z=s(16);for(W=0;4>W;++W){var se=C[E+0]+C[E+8],ie=C[E+0]-C[E+8],Ae=(35468*C[E+4]>>16)-Aa(C[E+12]),xe=Aa(C[E+4])+(35468*C[E+12]>>16);Z[J+0]=se+xe,Z[J+1]=ie+Ae,Z[J+2]=ie-Ae,Z[J+3]=se-xe,J+=4,E++}for(W=J=0;4>W;++W)se=(C=Z[J+0]+4)+Z[J+8],ie=C-Z[J+8],Ae=(35468*Z[J+4]>>16)-Aa(Z[J+12]),Ts(D,Q,0,0,se+(xe=Aa(Z[J+4])+(35468*Z[J+12]>>16))),Ts(D,Q,1,0,ie+Ae),Ts(D,Q,2,0,ie-Ae),Ts(D,Q,3,0,se-xe),J++,Q+=32}function jf(C,E,D,Q){var W=C[E+0]+4,J=35468*C[E+4]>>16,Z=Aa(C[E+4]),se=35468*C[E+1]>>16;va(D,Q,0,W+Z,C=Aa(C[E+1]),se),va(D,Q,1,W+J,C,se),va(D,Q,2,W-J,C,se),va(D,Q,3,W-Z,C,se)}function Jd(C,E,D,Q,W){_u(C,E,D,Q),W&&_u(C,E+16,D,Q+4)}function Fs(C,E,D,Q){Vl(C,E+0,D,Q,1),Vl(C,E+32,D,Q+128,1)}function Zd(C,E,D,Q){var W;for(C=C[E+0]+4,W=0;4>W;++W)for(E=0;4>E;++E)Ts(D,Q,E,W,C)}function eh(C,E,D,Q){C[E+0]&&Rr(C,E+0,D,Q),C[E+16]&&Rr(C,E+16,D,Q+4),C[E+32]&&Rr(C,E+32,D,Q+128),C[E+48]&&Rr(C,E+48,D,Q+128+4)}function ho(C,E,D,Q){var W,J=s(16);for(W=0;4>W;++W){var Z=C[E+0+W]+C[E+12+W],se=C[E+4+W]+C[E+8+W],ie=C[E+4+W]-C[E+8+W],Ae=C[E+0+W]-C[E+12+W];J[0+W]=Z+se,J[8+W]=Z-se,J[4+W]=Ae+ie,J[12+W]=Ae-ie}for(W=0;4>W;++W)Z=(C=J[0+4*W]+3)+J[3+4*W],se=J[1+4*W]+J[2+4*W],ie=J[1+4*W]-J[2+4*W],Ae=C-J[3+4*W],D[Q+0]=Z+se>>3,D[Q+16]=Ae+ie>>3,D[Q+32]=Z-se>>3,D[Q+48]=Ae-ie>>3,Q+=64}function yA(C,E,D){var Q,W=E-32,J=fs,Z=255-C[W-1];for(Q=0;Q<D;++Q){var se,ie=J,Ae=Z+C[E-1];for(se=0;se<D;++se)C[E+se]=ie[Ae+C[W+se]];E+=32}}function Ef(C,E){yA(C,E,4)}function _f(C,E){yA(C,E,8)}function th(C,E){yA(C,E,16)}function rh(C,E){var D;for(D=0;16>D;++D)n(C,E+32*D,C,E-32,16)}function kf(C,E){var D;for(D=16;0<D;--D)a(C,E,C[E-1],16),E+=32}function Ws(C,E,D){var Q;for(Q=0;16>Q;++Q)a(E,D+32*Q,C,16)}function fo(C,E){var D,Q=16;for(D=0;16>D;++D)Q+=C[E-1+32*D]+C[E+D-32];Ws(Q>>5,C,E)}function Fl(C,E){var D,Q=8;for(D=0;16>D;++D)Q+=C[E-1+32*D];Ws(Q>>4,C,E)}function xA(C,E){var D,Q=8;for(D=0;16>D;++D)Q+=C[E+D-32];Ws(Q>>4,C,E)}function Nc(C,E){Ws(128,C,E)}function Rt(C,E,D){return C+2*E+D+2>>2}function Tf(C,E){var D,Q=E-32;for(Q=new Uint8Array([Rt(C[Q-1],C[Q+0],C[Q+1]),Rt(C[Q+0],C[Q+1],C[Q+2]),Rt(C[Q+1],C[Q+2],C[Q+3]),Rt(C[Q+2],C[Q+3],C[Q+4])]),D=0;4>D;++D)n(C,E+32*D,Q,0,Q.length)}function nh(C,E){var D=C[E-1],Q=C[E-1+32],W=C[E-1+64],J=C[E-1+96];ge(C,E+0,16843009*Rt(C[E-1-32],D,Q)),ge(C,E+32,16843009*Rt(D,Q,W)),ge(C,E+64,16843009*Rt(Q,W,J)),ge(C,E+96,16843009*Rt(W,J,J))}function Ff(C,E){var D,Q=4;for(D=0;4>D;++D)Q+=C[E+D-32]+C[E-1+32*D];for(Q>>=3,D=0;4>D;++D)a(C,E+32*D,Q,4)}function pi(C,E){var D=C[E-1+0],Q=C[E-1+32],W=C[E-1+64],J=C[E-1-32],Z=C[E+0-32],se=C[E+1-32],ie=C[E+2-32],Ae=C[E+3-32];C[E+0+96]=Rt(Q,W,C[E-1+96]),C[E+1+96]=C[E+0+64]=Rt(D,Q,W),C[E+2+96]=C[E+1+64]=C[E+0+32]=Rt(J,D,Q),C[E+3+96]=C[E+2+64]=C[E+1+32]=C[E+0+0]=Rt(Z,J,D),C[E+3+64]=C[E+2+32]=C[E+1+0]=Rt(se,Z,J),C[E+3+32]=C[E+2+0]=Rt(ie,se,Z),C[E+3+0]=Rt(Ae,ie,se)}function $a(C,E){var D=C[E+1-32],Q=C[E+2-32],W=C[E+3-32],J=C[E+4-32],Z=C[E+5-32],se=C[E+6-32],ie=C[E+7-32];C[E+0+0]=Rt(C[E+0-32],D,Q),C[E+1+0]=C[E+0+32]=Rt(D,Q,W),C[E+2+0]=C[E+1+32]=C[E+0+64]=Rt(Q,W,J),C[E+3+0]=C[E+2+32]=C[E+1+64]=C[E+0+96]=Rt(W,J,Z),C[E+3+32]=C[E+2+64]=C[E+1+96]=Rt(J,Z,se),C[E+3+64]=C[E+2+96]=Rt(Z,se,ie),C[E+3+96]=Rt(se,ie,ie)}function ah(C,E){var D=C[E-1+0],Q=C[E-1+32],W=C[E-1+64],J=C[E-1-32],Z=C[E+0-32],se=C[E+1-32],ie=C[E+2-32],Ae=C[E+3-32];C[E+0+0]=C[E+1+64]=J+Z+1>>1,C[E+1+0]=C[E+2+64]=Z+se+1>>1,C[E+2+0]=C[E+3+64]=se+ie+1>>1,C[E+3+0]=ie+Ae+1>>1,C[E+0+96]=Rt(W,Q,D),C[E+0+64]=Rt(Q,D,J),C[E+0+32]=C[E+1+96]=Rt(D,J,Z),C[E+1+32]=C[E+2+96]=Rt(J,Z,se),C[E+2+32]=C[E+3+96]=Rt(Z,se,ie),C[E+3+32]=Rt(se,ie,Ae)}function vA(C,E){var D=C[E+0-32],Q=C[E+1-32],W=C[E+2-32],J=C[E+3-32],Z=C[E+4-32],se=C[E+5-32],ie=C[E+6-32],Ae=C[E+7-32];C[E+0+0]=D+Q+1>>1,C[E+1+0]=C[E+0+64]=Q+W+1>>1,C[E+2+0]=C[E+1+64]=W+J+1>>1,C[E+3+0]=C[E+2+64]=J+Z+1>>1,C[E+0+32]=Rt(D,Q,W),C[E+1+32]=C[E+0+96]=Rt(Q,W,J),C[E+2+32]=C[E+1+96]=Rt(W,J,Z),C[E+3+32]=C[E+2+96]=Rt(J,Z,se),C[E+3+64]=Rt(Z,se,ie),C[E+3+96]=Rt(se,ie,Ae)}function yi(C,E){var D=C[E-1+0],Q=C[E-1+32],W=C[E-1+64],J=C[E-1+96];C[E+0+0]=D+Q+1>>1,C[E+2+0]=C[E+0+32]=Q+W+1>>1,C[E+2+32]=C[E+0+64]=W+J+1>>1,C[E+1+0]=Rt(D,Q,W),C[E+3+0]=C[E+1+32]=Rt(Q,W,J),C[E+3+32]=C[E+1+64]=Rt(W,J,J),C[E+3+64]=C[E+2+64]=C[E+0+96]=C[E+1+96]=C[E+2+96]=C[E+3+96]=J}function bA(C,E){var D=C[E-1+0],Q=C[E-1+32],W=C[E-1+64],J=C[E-1+96],Z=C[E-1-32],se=C[E+0-32],ie=C[E+1-32],Ae=C[E+2-32];C[E+0+0]=C[E+2+32]=D+Z+1>>1,C[E+0+32]=C[E+2+64]=Q+D+1>>1,C[E+0+64]=C[E+2+96]=W+Q+1>>1,C[E+0+96]=J+W+1>>1,C[E+3+0]=Rt(se,ie,Ae),C[E+2+0]=Rt(Z,se,ie),C[E+1+0]=C[E+3+32]=Rt(D,Z,se),C[E+1+32]=C[E+3+64]=Rt(Q,D,Z),C[E+1+64]=C[E+3+96]=Rt(W,Q,D),C[E+1+96]=Rt(J,W,Q)}function zo(C,E){var D;for(D=0;8>D;++D)n(C,E+32*D,C,E-32,8)}function Pf(C,E){var D;for(D=0;8>D;++D)a(C,E,C[E-1],8),E+=32}function Ti(C,E,D){var Q;for(Q=0;8>Q;++Q)a(E,D+32*Q,C,8)}function ku(C,E){var D,Q=8;for(D=0;8>D;++D)Q+=C[E+D-32]+C[E-1+32*D];Ti(Q>>4,C,E)}function Tu(C,E){var D,Q=4;for(D=0;8>D;++D)Q+=C[E+D-32];Ti(Q>>3,C,E)}function La(C,E){var D,Q=4;for(D=0;8>D;++D)Q+=C[E-1+32*D];Ti(Q>>3,C,E)}function qo(C,E){Ti(128,C,E)}function Fi(C,E,D){var Q=C[E-D],W=C[E+0],J=3*(W-Q)+Wl[1020+C[E-2*D]-C[E+D]],Z=hh[112+(J+4>>3)];C[E-D]=fs[255+Q+hh[112+(J+3>>3)]],C[E+0]=fs[255+W-Z]}function Pl(C,E,D,Q){var W=C[E+0],J=C[E+D];return Wa[255+C[E-2*D]-C[E-D]]>Q||Wa[255+J-W]>Q}function Fu(C,E,D,Q){return 4*Wa[255+C[E-D]-C[E+0]]+Wa[255+C[E-2*D]-C[E+D]]<=Q}function wA(C,E,D,Q,W){var J=C[E-3*D],Z=C[E-2*D],se=C[E-D],ie=C[E+0],Ae=C[E+D],xe=C[E+2*D],Te=C[E+3*D];return 4*Wa[255+se-ie]+Wa[255+Z-Ae]>Q?0:Wa[255+C[E-4*D]-J]<=W&&Wa[255+J-Z]<=W&&Wa[255+Z-se]<=W&&Wa[255+Te-xe]<=W&&Wa[255+xe-Ae]<=W&&Wa[255+Ae-ie]<=W}function Ol(C,E,D,Q){var W=2*Q+1;for(Q=0;16>Q;++Q)Fu(C,E+Q,D,W)&&Fi(C,E+Q,D)}function Il(C,E,D,Q){var W=2*Q+1;for(Q=0;16>Q;++Q)Fu(C,E+Q*D,1,W)&&Fi(C,E+Q*D,1)}function CA(C,E,D,Q){var W;for(W=3;0<W;--W)Ol(C,E+=4*D,D,Q)}function sh(C,E,D,Q){var W;for(W=3;0<W;--W)Il(C,E+=4,D,Q)}function Ll(C,E,D,Q,W,J,Z,se){for(J=2*J+1;0<W--;){if(wA(C,E,D,J,Z))if(Pl(C,E,D,se))Fi(C,E,D);else{var ie=C,Ae=E,xe=D,Te=ie[Ae-2*xe],ce=ie[Ae-xe],we=ie[Ae+0],Ee=ie[Ae+xe],Re=ie[Ae+2*xe],ke=27*(ze=Wl[1020+3*(we-ce)+Wl[1020+Te-Ee]])+63>>7,Ue=18*ze+63>>7,ze=9*ze+63>>7;ie[Ae-3*xe]=fs[255+ie[Ae-3*xe]+ze],ie[Ae-2*xe]=fs[255+Te+Ue],ie[Ae-xe]=fs[255+ce+ke],ie[Ae+0]=fs[255+we-ke],ie[Ae+xe]=fs[255+Ee-Ue],ie[Ae+2*xe]=fs[255+Re-ze]}E+=Q}}function Dl(C,E,D,Q,W,J,Z,se){for(J=2*J+1;0<W--;){if(wA(C,E,D,J,Z))if(Pl(C,E,D,se))Fi(C,E,D);else{var ie=C,Ae=E,xe=D,Te=ie[Ae-xe],ce=ie[Ae+0],we=ie[Ae+xe],Ee=hh[112+(4+(Re=3*(ce-Te))>>3)],Re=hh[112+(Re+3>>3)],ke=Ee+1>>1;ie[Ae-2*xe]=fs[255+ie[Ae-2*xe]+ke],ie[Ae-xe]=fs[255+Te+Re],ie[Ae+0]=fs[255+ce-Ee],ie[Ae+xe]=fs[255+we-ke]}E+=Q}}function Of(C,E,D,Q,W,J){Ll(C,E,D,1,16,Q,W,J)}function Ml(C,E,D,Q,W,J){Ll(C,E,1,D,16,Q,W,J)}function If(C,E,D,Q,W,J){var Z;for(Z=3;0<Z;--Z)Dl(C,E+=4*D,D,1,16,Q,W,J)}function O(C,E,D,Q,W,J){var Z;for(Z=3;0<Z;--Z)Dl(C,E+=4,1,D,16,Q,W,J)}function V(C,E,D,Q,W,J,Z,se){Ll(C,E,W,1,8,J,Z,se),Ll(D,Q,W,1,8,J,Z,se)}function ue(C,E,D,Q,W,J,Z,se){Ll(C,E,1,W,8,J,Z,se),Ll(D,Q,1,W,8,J,Z,se)}function ye(C,E,D,Q,W,J,Z,se){Dl(C,E+4*W,W,1,8,J,Z,se),Dl(D,Q+4*W,W,1,8,J,Z,se)}function Be(C,E,D,Q,W,J,Z,se){Dl(C,E+4,1,W,8,J,Z,se),Dl(D,Q+4,1,W,8,J,Z,se)}function Ke(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ct(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new H}function Gt(){this.xb=this.a=0,this.l=new Tl,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ct,this.ab=0,this.gc=i(4,ht),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Er(C,E,D,Q,W,J,Z){for(C=C==null?0:C[E+0],E=0;E<Z;++E)W[J+E]=C+D[Q+E]&255,C=W[J+E]}function kn(C,E,D,Q,W,J,Z){var se;if(C==null)Er(null,null,D,Q,W,J,Z);else for(se=0;se<Z;++se)W[J+se]=C[E+se]+D[Q+se]&255}function Zn(C,E,D,Q,W,J,Z){if(C==null)Er(null,null,D,Q,W,J,Z);else{var se,ie=C[E+0],Ae=ie,xe=ie;for(se=0;se<Z;++se)Ae=xe+(ie=C[E+se])-Ae,xe=D[Q+se]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=ie,W[J+se]=xe}}function ln(C,E,D,Q){var W=E.width,J=E.o;if(e(C!=null&&E!=null),0>D||0>=Q||D+Q>J)return null;if(!C.Cc){if(C.ga==null){var Z;if(C.ga=new tr,(Z=C.ga==null)||(Z=E.width*E.o,e(C.Gb.length==0),C.Gb=s(Z),C.Uc=0,C.Gb==null?Z=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Z=1),Z=!Z),!Z){Z=C.ga;var se=C.Fa,ie=C.P,Ae=C.qc,xe=C.mb,Te=C.nb,ce=ie+1,we=Ae-1,Ee=Z.l;if(e(se!=null&&xe!=null&&E!=null),Yl[0]=null,Yl[1]=Er,Yl[2]=kn,Yl[3]=Zn,Z.ca=xe,Z.tb=Te,Z.c=E.width,Z.i=E.height,e(0<Z.c&&0<Z.i),1>=Ae)E=0;else if(Z.$a=3&se[ie+0],Z.Z=se[ie+0]>>2&3,Z.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ie)E=0;else if(Ee.put=kt,Ee.ac=_i,Ee.bc=_l,Ee.ma=Z,Ee.width=E.width,Ee.height=E.height,Ee.Da=E.Da,Ee.v=E.v,Ee.va=E.va,Ee.j=E.j,Ee.o=E.o,Z.$a)e:{e(Z.$a==1),E=gA();t:for(;;){if(E==null){E=0;break e}if(e(Z!=null),Z.mc=E,E.c=Z.c,E.i=Z.i,E.l=Z.l,E.l.ma=Z,E.l.width=Z.c,E.l.height=Z.i,E.a=0,fe(E.m,se,ce,we),!io(Z.c,Z.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Zr(E.s)?(Z.ic=1,se=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(se),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(Z.ic=0,E=oo(E,Z.c)),!E))break t;E=1;break e}Z.mc=null,E=0}else E=we>=Z.c*Z.i;Z=!E}if(Z)return null;C.ga.Lc!=1?C.Ga=0:Q=J-D}e(C.ga!=null),e(D+Q<=J);e:{if(E=(se=C.ga).c,J=se.l.o,se.$a==0){if(ce=C.rc,we=C.Vc,Ee=C.Fa,ie=C.P+1+D*E,Ae=C.mb,xe=C.nb+D*E,e(ie<=C.P+C.qc),se.Z!=0)for(e(Yl[se.Z]!=null),Z=0;Z<Q;++Z)Yl[se.Z](ce,we,Ee,ie,Ae,xe,E),ce=Ae,we=xe,xe+=E,ie+=E;else for(Z=0;Z<Q;++Z)n(Ae,xe,Ee,ie,E),ce=Ae,we=xe,xe+=E,ie+=E;C.rc=ce,C.Vc=we}else{if(e(se.mc!=null),E=D+Q,e((Z=se.mc)!=null),e(E<=Z.i),Z.C>=E)E=1;else if(se.ic||mo(),se.ic){se=Z.V,ce=Z.Ba,we=Z.c;var Re=Z.i,ke=(Ee=1,ie=Z.$/we,Ae=Z.$%we,xe=Z.m,Te=Z.s,Z.$),Ue=we*Re,ze=we*E,Xe=Te.wc,We=ke<ze?Ia(Te,Ae,ie):null;e(ke<=Ue),e(E<=Re),e(Zr(Te));t:for(;;){for(;!xe.h&&ke<ze;){if(Ae&Xe||(We=Ia(Te,Ae,ie)),e(We!=null),he(xe),256>(Re=Sn(We.G[0],We.H[0],xe)))se[ce+ke]=Re,++ke,++Ae>=we&&(Ae=0,++ie<=E&&!(ie%16)&&ds(Z,ie));else{if(!(280>Re)){Ee=0;break t}Re=di(Re-256,xe);var gt,it=Sn(We.G[4],We.H[4],xe);if(he(xe),!(ke>=(it=hi(we,it=di(it,xe)))&&Ue-ke>=Re)){Ee=0;break t}for(gt=0;gt<Re;++gt)se[ce+ke+gt]=se[ce+ke+gt-it];for(ke+=Re,Ae+=Re;Ae>=we;)Ae-=we,++ie<=E&&!(ie%16)&&ds(Z,ie);ke<ze&&Ae&Xe&&(We=Ia(Te,Ae,ie))}e(xe.h==oe(xe))}ds(Z,ie>E?E:ie);break t}!Ee||xe.h&&ke<Ue?(Ee=0,Z.a=xe.h?5:3):Z.$=ke,E=Ee}else E=fi(Z,Z.V,Z.Ba,Z.c,Z.i,E,Cc);if(!E){Q=0;break e}}D+Q>=J&&(C.Cc=1),Q=1}if(!Q)return null;if(C.Cc&&((Q=C.ga)!=null&&(Q.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+D*W}function ba(C,E,D,Q,W,J){for(;0<W--;){var Z,se=C,ie=E+(D?1:0),Ae=C,xe=E+(D?0:3);for(Z=0;Z<Q;++Z){var Te=Ae[xe+4*Z];Te!=255&&(Te*=32897,se[ie+4*Z+0]=se[ie+4*Z+0]*Te>>23,se[ie+4*Z+1]=se[ie+4*Z+1]*Te>>23,se[ie+4*Z+2]=se[ie+4*Z+2]*Te>>23)}E+=J}}function ua(C,E,D,Q,W){for(;0<Q--;){var J;for(J=0;J<D;++J){var Z=C[E+2*J+0],se=15&(Ae=C[E+2*J+1]),ie=4369*se,Ae=(240&Ae|Ae>>4)*ie>>16;C[E+2*J+0]=(240&Z|Z>>4)*ie>>16&240|(15&Z|Z<<4)*ie>>16>>4&15,C[E+2*J+1]=240&Ae|se}E+=W}}function Ga(C,E,D,Q,W,J,Z,se){var ie,Ae,xe=255;for(Ae=0;Ae<W;++Ae){for(ie=0;ie<Q;++ie){var Te=C[E+ie];J[Z+4*ie]=Te,xe&=Te}E+=D,Z+=se}return xe!=255}function Ul(C,E,D,Q,W){var J;for(J=0;J<W;++J)D[Q+J]=C[E+J]>>8}function mo(){jA=ba,Oi=ua,Ah=Ga,bi=Ul}function Rl(C,E,D){P[C]=function(Q,W,J,Z,se,ie,Ae,xe,Te,ce,we,Ee,Re,ke,Ue,ze,Xe){var We,gt=Xe-1>>1,it=se[ie+0]|Ae[xe+0]<<16,Xt=Te[ce+0]|we[Ee+0]<<16;e(Q!=null);var ct=3*it+Xt+131074>>2;for(E(Q[W+0],255&ct,ct>>16,Re,ke),J!=null&&(ct=3*Xt+it+131074>>2,E(J[Z+0],255&ct,ct>>16,Ue,ze)),We=1;We<=gt;++We){var pr=se[ie+We]|Ae[xe+We]<<16,xn=Te[ce+We]|we[Ee+We]<<16,rr=it+pr+Xt+xn+524296,ot=rr+2*(pr+Xt)>>3;ct=ot+it>>1,it=(rr=rr+2*(it+xn)>>3)+pr>>1,E(Q[W+2*We-1],255&ct,ct>>16,Re,ke+(2*We-1)*D),E(Q[W+2*We-0],255&it,it>>16,Re,ke+(2*We-0)*D),J!=null&&(ct=rr+Xt>>1,it=ot+xn>>1,E(J[Z+2*We-1],255&ct,ct>>16,Ue,ze+(2*We-1)*D),E(J[Z+2*We+0],255&it,it>>16,Ue,ze+(2*We+0)*D)),it=pr,Xt=xn}1&Xe||(ct=3*it+Xt+131074>>2,E(Q[W+Xe-1],255&ct,ct>>16,Re,ke+(Xe-1)*D),J!=null&&(ct=3*Xt+it+131074>>2,E(J[Z+Xe-1],255&ct,ct>>16,Ue,ze+(Xe-1)*D)))}}function ih(){Xa[Uf]=kA,Xa[ms]=Ku,Xa[Rf]=Vg,Xa[Ii]=qf,Xa[fh]=Fc,Xa[Ru]=el,Xa[_c]=Pc,Xa[mh]=Ku,Xa[Qf]=qf,Xa[Qu]=Fc,Xa[Hf]=el}function Pu(C){return C&-16384?0>C?0:255:C>>$f}function $o(C,E){return Pu((19077*C>>8)+(26149*E>>8)-14234)}function go(C,E,D){return Pu((19077*C>>8)-(6419*E>>8)-(13320*D>>8)+8708)}function BA(C,E){return Pu((19077*C>>8)+(33050*E>>8)-17685)}function Ql(C,E,D,Q,W){Q[W+0]=$o(C,D),Q[W+1]=go(C,E,D),Q[W+2]=BA(C,E)}function Da(C,E,D,Q,W){Q[W+0]=BA(C,E),Q[W+1]=go(C,E,D),Q[W+2]=$o(C,D)}function Sc(C,E,D,Q,W){var J=go(C,E,D);E=J<<3&224|BA(C,E)>>3,Q[W+0]=248&$o(C,D)|J>>5,Q[W+1]=E}function jc(C,E,D,Q,W){var J=240&BA(C,E)|15;Q[W+0]=240&$o(C,D)|go(C,E,D)>>4,Q[W+1]=J}function Ou(C,E,D,Q,W){Q[W+0]=255,Ql(C,E,D,Q,W+1)}function Go(C,E,D,Q,W){Da(C,E,D,Q,W),Q[W+3]=255}function Ps(C,E,D,Q,W){Ql(C,E,D,Q,W),Q[W+3]=255}function Hl(C,E,D){P[C]=function(Q,W,J,Z,se,ie,Ae,xe,Te){for(var ce=xe+(-2&Te)*D;xe!=ce;)E(Q[W+0],J[Z+0],se[ie+0],Ae,xe),E(Q[W+1],J[Z+0],se[ie+0],Ae,xe+D),W+=2,++Z,++ie,xe+=2*D;1&Te&&E(Q[W+0],J[Z+0],se[ie+0],Ae,xe)}}function Iu(C,E,D){return D==0?C==0?E==0?6:5:E==0?4:0:D}function oh(C,E,D,Q,W){switch(C>>>30){case 3:Vl(E,D,Q,W,0);break;case 2:hs(E,D,Q,W);break;case 1:Rr(E,D,Q,W)}}function xi(C,E){var D,Q,W=E.M,J=E.Nb,Z=C.oc,se=C.pc+40,ie=C.oc,Ae=C.pc+584,xe=C.oc,Te=C.pc+600;for(D=0;16>D;++D)Z[se+32*D-1]=129;for(D=0;8>D;++D)ie[Ae+32*D-1]=129,xe[Te+32*D-1]=129;for(0<W?Z[se-1-32]=ie[Ae-1-32]=xe[Te-1-32]=129:(a(Z,se-32-1,127,21),a(ie,Ae-32-1,127,9),a(xe,Te-32-1,127,9)),Q=0;Q<C.za;++Q){var ce=E.ya[E.aa+Q];if(0<Q){for(D=-1;16>D;++D)n(Z,se+32*D-4,Z,se+32*D+12,4);for(D=-1;8>D;++D)n(ie,Ae+32*D-4,ie,Ae+32*D+4,4),n(xe,Te+32*D-4,xe,Te+32*D+4,4)}var we=C.Gd,Ee=C.Hd+Q,Re=ce.ad,ke=ce.Hc;if(0<W&&(n(Z,se-32,we[Ee].y,0,16),n(ie,Ae-32,we[Ee].f,0,8),n(xe,Te-32,we[Ee].ea,0,8)),ce.Za){var Ue=Z,ze=se-32+16;for(0<W&&(Q>=C.za-1?a(Ue,ze,we[Ee].y[15],4):n(Ue,ze,we[Ee+1].y,0,4)),D=0;4>D;D++)Ue[ze+128+D]=Ue[ze+256+D]=Ue[ze+384+D]=Ue[ze+0+D];for(D=0;16>D;++D,ke<<=2)Ue=Z,ze=se+ra[D],Mn[ce.Ob[D]](Ue,ze),oh(ke,Re,16*+D,Ue,ze)}else if(Ue=Iu(Q,W,ce.Ob[0]),Is[Ue](Z,se),ke!=0)for(D=0;16>D;++D,ke<<=2)oh(ke,Re,16*+D,Z,se+ra[D]);for(D=ce.Gc,Ue=Iu(Q,W,ce.Dd),vo[Ue](ie,Ae),vo[Ue](xe,Te),ke=Re,Ue=ie,ze=Ae,255&(ce=0|D)&&(170&ce?Pi(ke,256,Ue,ze):_r(ke,256,Ue,ze)),ce=xe,ke=Te,255&(D>>=8)&&(170&D?Pi(Re,320,ce,ke):_r(Re,320,ce,ke)),W<C.Ub-1&&(n(we[Ee].y,0,Z,se+480,16),n(we[Ee].f,0,ie,Ae+224,8),n(we[Ee].ea,0,xe,Te+224,8)),D=8*J*C.B,we=C.sa,Ee=C.ta+16*Q+16*J*C.R,Re=C.qa,ce=C.ra+8*Q+D,ke=C.Ha,Ue=C.Ia+8*Q+D,D=0;16>D;++D)n(we,Ee+D*C.R,Z,se+32*D,16);for(D=0;8>D;++D)n(Re,ce+D*C.B,ie,Ae+32*D,8),n(ke,Ue+D*C.B,xe,Te+32*D,8)}}function po(C,E,D,Q,W,J,Z,se,ie){var Ae=[0],xe=[0],Te=0,ce=ie!=null?ie.kd:0,we=ie??new Ye;if(C==null||12>D)return 7;we.data=C,we.w=E,we.ha=D,E=[E],D=[D],we.gb=[we.gb];e:{var Ee=E,Re=D,ke=we.gb;if(e(C!=null),e(Re!=null),e(ke!=null),ke[0]=0,12<=Re[0]&&!t(C,Ee[0],"RIFF")){if(t(C,Ee[0]+8,"WEBP")){ke=3;break e}var Ue=Qe(C,Ee[0]+4);if(12>Ue||4294967286<Ue){ke=3;break e}if(ce&&Ue>Re[0]-8){ke=7;break e}ke[0]=Ue,Ee[0]+=12,Re[0]-=12}ke=0}if(ke!=0)return ke;for(Ue=0<we.gb[0],D=D[0];;){e:{var ze=C;Re=E,ke=D;var Xe=Ae,We=xe,gt=Ee=[0];if((ct=Te=[Te])[0]=0,8>ke[0])ke=7;else{if(!t(ze,Re[0],"VP8X")){if(Qe(ze,Re[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var it=Qe(ze,Re[0]+8),Xt=1+je(ze,Re[0]+12);if(2147483648<=Xt*(ze=1+je(ze,Re[0]+15))){ke=3;break e}gt!=null&&(gt[0]=it),Xe!=null&&(Xe[0]=Xt),We!=null&&(We[0]=ze),Re[0]+=18,ke[0]-=18,ct[0]=1}ke=0}}if(Te=Te[0],Ee=Ee[0],ke!=0)return ke;if(Re=!!(2&Ee),!Ue&&Te)return 3;if(J!=null&&(J[0]=!!(16&Ee)),Z!=null&&(Z[0]=Re),se!=null&&(se[0]=0),Z=Ae[0],Ee=xe[0],Te&&Re&&ie==null){ke=0;break}if(4>D){ke=7;break}if(Ue&&Te||!Ue&&!Te&&!t(C,E[0],"ALPH")){D=[D],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{it=C,ke=E,Ue=D;var ct=we.gb;Xe=we.na,We=we.P,gt=we.Sa,Xt=22,e(it!=null),e(Ue!=null),ze=ke[0];var pr=Ue[0];for(e(Xe!=null),e(gt!=null),Xe[0]=null,We[0]=null,gt[0]=0;;){if(ke[0]=ze,Ue[0]=pr,8>pr){ke=7;break e}var xn=Qe(it,ze+4);if(4294967286<xn){ke=3;break e}var rr=8+xn+1&-2;if(Xt+=rr,0<ct&&Xt>ct){ke=3;break e}if(!t(it,ze,"VP8 ")||!t(it,ze,"VP8L")){ke=0;break e}if(pr[0]<rr){ke=7;break e}t(it,ze,"ALPH")||(Xe[0]=it,We[0]=ze+8,gt[0]=xn),ze+=rr,pr-=rr}}if(D=D[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ke!=0)break}D=[D],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ct=C,ke=E,Ue=D,Xe=we.gb[0],We=we.Ja,gt=we.xa,it=ke[0],ze=!t(ct,it,"VP8 "),Xt=!t(ct,it,"VP8L"),e(ct!=null),e(Ue!=null),e(We!=null),e(gt!=null),8>Ue[0])ke=7;else{if(ze||Xt){if(ct=Qe(ct,it+4),12<=Xe&&ct>Xe-12){ke=3;break e}if(ce&&ct>Ue[0]-8){ke=7;break e}We[0]=ct,ke[0]+=8,Ue[0]-=8,gt[0]=Xt}else gt[0]=5<=Ue[0]&&ct[it+0]==47&&!(ct[it+4]>>5),We[0]=Ue[0];ke=0}if(D=D[0],we.Ja=we.Ja[0],we.xa=we.xa[0],E=E[0],ke!=0)break;if(4294967286<we.Ja)return 3;if(se==null||Re||(se[0]=we.xa?2:1),Z=[Z],Ee=[Ee],we.xa){if(5>D){ke=7;break}se=Z,ce=Ee,Re=J,C==null||5>D?C=0:5<=D&&C[E+0]==47&&!(C[E+4]>>5)?(Ue=[0],ct=[0],Xe=[0],fe(We=new Y,C,E,D),Qo(We,Ue,ct,Xe)?(se!=null&&(se[0]=Ue[0]),ce!=null&&(ce[0]=ct[0]),Re!=null&&(Re[0]=Xe[0]),C=1):C=0):C=0}else{if(10>D){ke=7;break}se=Ee,C==null||10>D||!Yd(C,E+3,D-3)?C=0:(ce=C[E+0]|C[E+1]<<8|C[E+2]<<16,Re=16383&(C[E+7]<<8|C[E+6]),C=16383&(C[E+9]<<8|C[E+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=we.Ja||!Re||!C?C=0:(Z&&(Z[0]=Re),se&&(se[0]=C),C=1))}if(!C||(Z=Z[0],Ee=Ee[0],Te&&(Ae[0]!=Z||xe[0]!=Ee)))return 3;ie!=null&&(ie[0]=we,ie.offset=E-ie.w,e(4294967286>E-ie.w),e(ie.offset==ie.ha-D));break}return ke==0||ke==7&&Te&&ie==null?(J!=null&&(J[0]|=we.na!=null&&0<we.na.length),Q!=null&&(Q[0]=Z),W!=null&&(W[0]=Ee),0):ke}function Kl(C,E,D){var Q=E.width,W=E.height,J=0,Z=0,se=Q,ie=W;if(E.Da=C!=null&&0<C.Da,E.Da&&(se=C.cd,ie=C.bd,J=C.v,Z=C.j,11>D||(J&=-2,Z&=-2),0>J||0>Z||0>=se||0>=ie||J+se>Q||Z+ie>W))return 0;if(E.v=J,E.j=Z,E.va=J+se,E.o=Z+ie,E.U=se,E.T=ie,E.da=C!=null&&0<C.da,E.da){if(!et(se,ie,D=[C.ib],J=[C.hb]))return 0;E.ib=D[0],E.hb=J[0]}return E.ob=C!=null&&C.ob,E.Kb=C==null||!C.Sd,E.da&&(E.ob=E.ib<3*Q/4&&E.hb<3*W/4,E.Kb=0),1}function lh(C){if(C==null)return 2;if(11>C.S){var E=C.f.RGBA;E.fb+=(C.height-1)*E.A,E.A=-E.A}else E=C.f.kb,C=C.height,E.O+=(C-1)*E.fa,E.fa=-E.fa,E.N+=(C-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(C-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(C-1)*E.lb,E.lb=-E.lb);return 0}function yo(C,E,D,Q){if(Q==null||0>=C||0>=E)return 2;if(D!=null){if(D.Da){var W=D.cd,J=D.bd,Z=-2&D.v,se=-2&D.j;if(0>Z||0>se||0>=W||0>=J||Z+W>C||se+J>E)return 2;C=W,E=J}if(D.da){if(!et(C,E,W=[D.ib],J=[D.hb]))return 2;C=W[0],E=J[0]}}Q.width=C,Q.height=E;e:{var ie=Q.width,Ae=Q.height;if(C=Q.S,0>=ie||0>=Ae||!(C>=Uf&&13>C))C=2;else{if(0>=Q.Rd&&Q.sd==null){Z=J=W=E=0;var xe=(se=ie*Vf[C])*Ae;if(11>C||(J=(Ae+1)/2*(E=(ie+1)/2),C==12&&(Z=(W=ie)*Ae)),(Ae=s(xe+2*J+Z))==null){C=1;break e}Q.sd=Ae,11>C?((ie=Q.f.RGBA).eb=Ae,ie.fb=0,ie.A=se,ie.size=xe):((ie=Q.f.kb).y=Ae,ie.O=0,ie.fa=se,ie.Fd=xe,ie.f=Ae,ie.N=0+xe,ie.Ab=E,ie.Cd=J,ie.ea=Ae,ie.W=0+xe+J,ie.Db=E,ie.Ed=J,C==12&&(ie.F=Ae,ie.J=0+xe+2*J),ie.Tc=Z,ie.lb=W)}if(E=1,W=Q.S,J=Q.width,Z=Q.height,W>=Uf&&13>W)if(11>W)C=Q.f.RGBA,E&=(se=Math.abs(C.A))*(Z-1)+J<=C.size,E&=se>=J*Vf[W],E&=C.eb!=null;else{C=Q.f.kb,se=(J+1)/2,xe=(Z+1)/2,ie=Math.abs(C.fa),Ae=Math.abs(C.Ab);var Te=Math.abs(C.Db),ce=Math.abs(C.lb),we=ce*(Z-1)+J;E&=ie*(Z-1)+J<=C.Fd,E&=Ae*(xe-1)+se<=C.Cd,E=(E&=Te*(xe-1)+se<=C.Ed)&ie>=J&Ae>=se&Te>=se,E&=C.y!=null,E&=C.f!=null,E&=C.ea!=null,W==12&&(E&=ce>=J,E&=we<=C.Tc,E&=C.F!=null)}else E=0;C=E?0:2}}return C!=0||D!=null&&D.fd&&(C=lh(Q)),C}var Ec=64,Ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Os=24,Vo=32,Wo=8,zl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(C){return C},P.Predictor2=function(C,E,D){return E[D+0]},P.Predictor3=function(C,E,D){return E[D+1]},P.Predictor4=function(C,E,D){return E[D-1]},P.Predictor5=function(C,E,D){return Nt(Nt(C,E[D+1]),E[D+0])},P.Predictor6=function(C,E,D){return Nt(C,E[D-1])},P.Predictor7=function(C,E,D){return Nt(C,E[D+0])},P.Predictor8=function(C,E,D){return Nt(E[D-1],E[D+0])},P.Predictor9=function(C,E,D){return Nt(E[D+0],E[D+1])},P.Predictor10=function(C,E,D){return Nt(Nt(C,E[D-1]),Nt(E[D+0],E[D+1]))},P.Predictor11=function(C,E,D){var Q=E[D+0];return 0>=Ht(Q>>24&255,C>>24&255,(E=E[D-1])>>24&255)+Ht(Q>>16&255,C>>16&255,E>>16&255)+Ht(Q>>8&255,C>>8&255,E>>8&255)+Ht(255&Q,255&C,255&E)?Q:C},P.Predictor12=function(C,E,D){var Q=E[D+0];return(vt((C>>24&255)+(Q>>24&255)-((E=E[D-1])>>24&255))<<24|vt((C>>16&255)+(Q>>16&255)-(E>>16&255))<<16|vt((C>>8&255)+(Q>>8&255)-(E>>8&255))<<8|vt((255&C)+(255&Q)-(255&E)))>>>0},P.Predictor13=function(C,E,D){var Q=E[D-1];return(or((C=Nt(C,E[D+0]))>>24&255,Q>>24&255)<<24|or(C>>16&255,Q>>16&255)<<16|or(C>>8&255,Q>>8&255)<<8|or(255&C,255&Q))>>>0};var Lu=P.PredictorAdd0;P.PredictorAdd1=$t,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var Du=P.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var ea,Lf=P.ColorIndexInverseTransform,Yo=P.MapARGB,Xo=P.VP8LColorIndexInverseTransformAlpha,Va=P.MapAlpha,ql=P.VP8LPredictorsAdd=[];ql.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Mu,Uu,$l,Gl,Jo,NA,vi,Vl,hs,Pi,Rr,_r,cn,ta,Zo,xo,SA,ch,Kg,ky,Ty,Fy,zg,qg,jA,Oi,Ah,bi,EA=s(511),Df=s(2041),uh=s(225),dh=s(767),Mf=0,Wl=Df,hh=uh,fs=dh,Wa=EA,Uf=0,ms=1,Rf=2,Ii=3,fh=4,Ru=5,_c=6,mh=7,Qf=8,Qu=9,Hf=10,Li=[2,3,7],Hu=[3,3,11],_A=[280,256,256,256,40],Kf=[0,1,1,1,0],gh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Di=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kc=8,Ui=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ri=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wi=null,Py=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$g=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Oy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ya=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Is=[],Mn=[],vo=[],Tc=1,Gg=2,Yl=[],Xa=[];Rl("UpsampleRgbLinePair",Ql,3),Rl("UpsampleBgrLinePair",Da,3),Rl("UpsampleRgbaLinePair",Ps,4),Rl("UpsampleBgraLinePair",Go,4),Rl("UpsampleArgbLinePair",Ou,4),Rl("UpsampleRgba4444LinePair",jc,2),Rl("UpsampleRgb565LinePair",Sc,2);var kA=P.UpsampleRgbLinePair,Vg=P.UpsampleBgrLinePair,Ku=P.UpsampleRgbaLinePair,qf=P.UpsampleBgraLinePair,Fc=P.UpsampleArgbLinePair,el=P.UpsampleRgba4444LinePair,Pc=P.UpsampleRgb565LinePair,Qi=16,zu=1<<Qi-1,TA=-227,Oc=482,$f=6,Ic=0,Ja=s(256),Gf=s(256),Iy=s(256),U1=s(256),R1=s(Oc-TA),Q1=s(Oc-TA);Hl("YuvToRgbRow",Ql,3),Hl("YuvToBgrRow",Da,3),Hl("YuvToRgbaRow",Ps,4),Hl("YuvToBgraRow",Go,4),Hl("YuvToArgbRow",Ou,4),Hl("YuvToRgba4444Row",jc,2),Hl("YuvToRgb565Row",Sc,2);var ra=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qu=[0,2,8],ph=[8,7,6,4,4,2,2,2,1,1,1,1],yh=1;this.WebPDecodeRGBA=function(C,E,D,Q,W){var J=ms,Z=new Ke,se=new lr;Z.ba=se,se.S=J,se.width=[se.width],se.height=[se.height];var ie=se.width,Ae=se.height,xe=new jt;if(xe==null||C==null)var Te=2;else e(xe!=null),Te=po(C,E,D,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Te!=0?ie=0:(ie!=null&&(ie[0]=xe.width[0]),Ae!=null&&(Ae[0]=xe.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],Q!=null&&(Q[0]=se.width),W!=null&&(W[0]=se.height);e:{if(Q=new Tl,(W=new Ye).data=C,W.w=E,W.ha=D,W.kd=1,E=[0],e(W!=null),((C=po(W.data,W.w,W.ha,null,null,null,E,null,W))==0||C==7)&&E[0]&&(C=4),(E=C)==0){if(e(Z!=null),Q.data=W.data,Q.w=W.w+W.offset,Q.ha=W.ha-W.offset,Q.put=kt,Q.ac=_i,Q.bc=_l,Q.ma=Z,W.xa){if((C=gA())==null){Z=1;break e}if((function(ce,we){var Ee=[0],Re=[0],ke=[0];t:for(;;){if(ce==null)return 0;if(we==null)return ce.a=2,0;if(ce.l=we,ce.a=0,fe(ce.m,we.data,we.w,we.ha),!Qo(ce.m,Ee,Re,ke)){ce.a=3;break t}if(ce.xb=Gg,we.width=Ee[0],we.height=Re[0],!io(Ee[0],Re[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(C,Q)){if(Q=(E=yo(Q.width,Q.height,Z.Oa,Z.ba))==0){t:{Q=C;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((D=Q.l)!=null),e((W=D.ma)!=null),Q.xb!=0){if(Q.ca=W.ba,Q.tb=W.tb,e(Q.ca!=null),!Kl(W.Oa,D,Ii)){Q.a=2;break r}if(!oo(Q,D.width)||D.da)break r;if((D.da||zt(Q.ca.S))&&mo(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&mo()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!G(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!fi(Q,Q.V,Q.Ba,Q.c,Q.i,D.o,ks))break r;W.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(E=C.a)}else E=C.a}else{if((C=new uo)==null){Z=1;break e}if(C.Fa=W.na,C.P=W.P,C.qc=W.Sa,Ko(C,Q)){if((E=yo(Q.width,Q.height,Z.Oa,Z.ba))==0){if(C.Aa=0,D=Z.Oa,e((W=C)!=null),D!=null){if(0<(ie=0>(ie=D.Md)?0:100<ie?255:255*ie/100)){for(Ae=xe=0;4>Ae;++Ae)12>(Te=W.pb[Ae]).lc&&(Te.ia=ie*ph[0>Te.lc?0:Te.lc]>>3),xe|=Te.ia;xe&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=D.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(ce,we){if(ce==null)return 0;if(we==null)return Ur(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Ko(ce,we))return 0;if(e(ce.cb),we.ac==null||we.ac(we)){we.ob&&(ce.L=0);var Ee=qu[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=we.v-Ee>>4,ce.zb=we.j-Ee>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=we.o+15+Ee>>4,ce.Hb=we.va+15+Ee>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var Re=ce.ed;for(Ee=0;4>Ee;++Ee){var ke;if(ce.Qa.Cb){var Ue=ce.Qa.Lb[Ee];ce.Qa.Fb||(Ue+=Re.Tb)}else Ue=Re.Tb;for(ke=0;1>=ke;++ke){var ze=ce.gd[Ee][ke],Xe=Ue;if(Re.Pc&&(Xe+=Re.vd[0],ke&&(Xe+=Re.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<Re.wb&&(We=4<Re.wb?We>>2:We>>1)>9-Re.wb&&(We=9-Re.wb),1>We&&(We=1),ze.dd=We,ze.tc=2*Xe+We,ze.ld=40<=Xe?2:15<=Xe?1:0}else ze.tc=0;ze.La=ke}}}Ee=0}else Ur(ce,6,"Frame setup failed"),Ee=ce.a;if(Ee=Ee==0){if(Ee){ce.$c=0,0<ce.Aa||(ce.Ic=yh);t:{Ee=ce.Ic,Re=4*(We=ce.za);var gt=32*We,it=We+1,Xt=0<ce.L?We*(0<ce.Aa?2:1):0,ct=(ce.Aa==2?2:1)*We;if((ze=Re+832+(ke=3*(16*Ee+qu[ce.L])/2*gt)+(Ue=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=ze)Ee=0;else{if(ze>ce.Vb){if(ce.Vb=0,ce.Ec=s(ze),ce.Fc=0,ce.Ec==null){Ee=Ur(ce,1,"no memory during frame initialization.");break t}ce.Vb=ze}ze=ce.Ec,Xe=ce.Fc,ce.Ac=ze,ce.Bc=Xe,Xe+=Re,ce.Gd=i(gt,Wd),ce.Hd=0,ce.rb=i(it+1,Ao),ce.sb=1,ce.wa=Xt?i(Xt,mi):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=We),e(!0),ce.oc=ze,ce.pc=Xe,Xe+=832,ce.ya=i(ct,Gd),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=We),ce.R=16*We,ce.B=8*We,We=(gt=qu[ce.L])*ce.R,gt=gt/2*ce.B,ce.sa=ze,ce.ta=Xe+We,ce.qa=ce.sa,ce.ra=ce.ta+16*Ee*ce.R+gt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*Ee*ce.B+gt,ce.$c=0,Xe+=ke,ce.mb=Ue?ze:null,ce.nb=Ue?Xe:null,e(Xe+Ue<=ce.Fc+ce.Vb),Xd(ce),a(ce.Ac,ce.Bc,0,Re),Ee=1}}if(Ee){if(we.ka=0,we.y=ce.sa,we.O=ce.ta,we.f=ce.qa,we.N=ce.ra,we.ea=ce.Ha,we.Vd=ce.Ia,we.fa=ce.R,we.Rc=ce.B,we.F=null,we.J=0,!Mf){for(Ee=-255;255>=Ee;++Ee)EA[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Df[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)uh[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)dh[255+Ee]=0>Ee?0:255<Ee?255:Ee;Mf=1}vi=ho,Vl=Jd,Pi=Fs,Rr=Zd,_r=eh,hs=jf,cn=Of,ta=Ml,Zo=V,xo=ue,SA=If,ch=O,Kg=ye,ky=Be,Ty=Ol,Fy=Il,zg=CA,qg=sh,Mn[0]=Ff,Mn[1]=Ef,Mn[2]=Tf,Mn[3]=nh,Mn[4]=pi,Mn[5]=ah,Mn[6]=$a,Mn[7]=vA,Mn[8]=bA,Mn[9]=yi,Is[0]=fo,Is[1]=th,Is[2]=rh,Is[3]=kf,Is[4]=Fl,Is[5]=xA,Is[6]=Nc,vo[0]=ku,vo[1]=_f,vo[2]=zo,vo[3]=Pf,vo[4]=La,vo[5]=Tu,vo[6]=qo,Ee=1}else Ee=0}Ee&&(Ee=(function(pr,xn){for(pr.M=0;pr.M<pr.Va;++pr.M){var rr,ot=pr.Jc[pr.M&pr.Xb],Ze=pr.m,Tn=pr;for(rr=0;rr<Tn.za;++rr){var Qt=Ze,cr=Tn,$r=cr.Ac,wa=cr.Bc+4*rr,Za=cr.zc,An=cr.ya[cr.aa+rr];if(cr.Qa.Bb?An.$b=be(Qt,cr.Pa.jb[0])?2+be(Qt,cr.Pa.jb[2]):be(Qt,cr.Pa.jb[1]):An.$b=0,cr.kc&&(An.Ad=be(Qt,cr.Bd)),An.Za=!be(Qt,145)+0,An.Za){var da=An.Ob,gs=0;for(cr=0;4>cr;++cr){var ha,hr=Za[0+cr];for(ha=0;4>ha;++ha){hr=Ya[$r[wa+ha]][hr];for(var Pr=zf[be(Qt,hr[0])];0<Pr;)Pr=zf[2*Pr+be(Qt,hr[Pr])];hr=-Pr,$r[wa+ha]=hr}n(da,gs,$r,wa,4),gs+=4,Za[0+cr]=hr}}else hr=be(Qt,156)?be(Qt,128)?1:3:be(Qt,163)?2:0,An.Ob[0]=hr,a($r,wa,hr,4),a(Za,0,hr,4);An.Dd=be(Qt,142)?be(Qt,114)?be(Qt,183)?1:3:2:0}if(Tn.m.Ka)return Ur(pr,7,"Premature end-of-partition0 encountered.");for(;pr.ja<pr.za;++pr.ja){if(Tn=ot,Qt=(Ze=pr).rb[Ze.sb-1],$r=Ze.rb[Ze.sb+Ze.ja],rr=Ze.ya[Ze.aa+Ze.ja],wa=Ze.kc?rr.Ad:0)Qt.la=$r.la=0,rr.Za||(Qt.Na=$r.Na=0),rr.Hc=0,rr.Gc=0,rr.ia=0;else{var Fn,Qr;if(Qt=$r,$r=Tn,wa=Ze.Pa.Xc,Za=Ze.ya[Ze.aa+Ze.ja],An=Ze.pb[Za.$b],cr=Za.ad,da=0,gs=Ze.rb[Ze.sb-1],hr=ha=0,a(cr,da,0,384),Za.Za)var Ca=0,Pn=wa[3];else{Pr=s(16);var Or=Qt.Na+gs.Na;if(Or=wi($r,wa[1],Or,An.Eb,0,Pr,0),Qt.Na=gs.Na=(0<Or)+0,1<Or)vi(Pr,0,cr,da);else{var na=Pr[0]+3>>3;for(Pr=0;256>Pr;Pr+=16)cr[da+Pr]=na}Ca=1,Pn=wa[0]}var Gr=15&Qt.la,fa=15&gs.la;for(Pr=0;4>Pr;++Pr){var ma=1&fa;for(na=Qr=0;4>na;++na)Gr=Gr>>1|(ma=(Or=wi($r,Pn,Or=ma+(1&Gr),An.Sc,Ca,cr,da))>Ca)<<7,Qr=Qr<<2|(3<Or?3:1<Or?2:cr[da+0]!=0),da+=16;Gr>>=4,fa=fa>>1|ma<<7,ha=(ha<<8|Qr)>>>0}for(Pn=Gr,Ca=fa>>4,Fn=0;4>Fn;Fn+=2){for(Qr=0,Gr=Qt.la>>4+Fn,fa=gs.la>>4+Fn,Pr=0;2>Pr;++Pr){for(ma=1&fa,na=0;2>na;++na)Or=ma+(1&Gr),Gr=Gr>>1|(ma=0<(Or=wi($r,wa[2],Or,An.Qc,0,cr,da)))<<3,Qr=Qr<<2|(3<Or?3:1<Or?2:cr[da+0]!=0),da+=16;Gr>>=2,fa=fa>>1|ma<<5}hr|=Qr<<4*Fn,Pn|=Gr<<4<<Fn,Ca|=(240&fa)<<Fn}Qt.la=Pn,gs.la=Ca,Za.Hc=ha,Za.Gc=hr,Za.ia=43690&hr?0:An.ia,wa=!(ha|hr)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[rr.$b][rr.Za],Ze.wa[Ze.Y+Ze.ja].La|=!wa),Tn.Ka)return Ur(pr,7,"Premature end-of-file encountered.")}if(Xd(pr),Ze=xn,Tn=1,rr=(ot=pr).D,Qt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(rr.M=ot.M,rr.uc=Qt,xi(ot,rr),Tn=1,rr=(Qr=ot.D).Nb,Qt=(hr=qu[ot.L])*ot.R,$r=hr/2*ot.B,Pr=16*rr*ot.R,na=8*rr*ot.B,wa=ot.sa,Za=ot.ta-Qt+Pr,An=ot.qa,cr=ot.ra-$r+na,da=ot.Ha,gs=ot.Ia-$r+na,fa=(Gr=Qr.M)==0,ha=Gr>=ot.Va-1,ot.Aa==2&&xi(ot,Qr),Qr.uc)for(ma=(Or=ot).D.M,e(Or.D.uc),Qr=Or.yb;Qr<Or.Hb;++Qr){Ca=Qr,Pn=ma;var en=(kr=(ga=Or).D).Nb;Fn=ga.R;var kr=kr.wa[kr.Y+Ca],ps=ga.sa,Un=ga.ta+16*en*Fn+16*Ca,Tt=kr.dd,Ot=kr.tc;if(Ot!=0)if(e(3<=Ot),ga.L==1)0<Ca&&Fy(ps,Un,Fn,Ot+4),kr.La&&qg(ps,Un,Fn,Ot),0<Pn&&Ty(ps,Un,Fn,Ot+4),kr.La&&zg(ps,Un,Fn,Ot);else{var Ir=ga.B,Xs=ga.qa,Hi=ga.ra+8*en*Ir+8*Ca,Ls=ga.Ha,ga=ga.Ia+8*en*Ir+8*Ca;en=kr.ld,0<Ca&&(ta(ps,Un,Fn,Ot+4,Tt,en),xo(Xs,Hi,Ls,ga,Ir,Ot+4,Tt,en)),kr.La&&(ch(ps,Un,Fn,Ot,Tt,en),ky(Xs,Hi,Ls,ga,Ir,Ot,Tt,en)),0<Pn&&(cn(ps,Un,Fn,Ot+4,Tt,en),Zo(Xs,Hi,Ls,ga,Ir,Ot+4,Tt,en)),kr.La&&(SA(ps,Un,Fn,Ot,Tt,en),Kg(Xs,Hi,Ls,ga,Ir,Ot,Tt,en))}}if(ot.ia&&alert("todo:DitherRow"),Ze.put!=null){if(Qr=16*Gr,Gr=16*(Gr+1),fa?(Ze.y=ot.sa,Ze.O=ot.ta+Pr,Ze.f=ot.qa,Ze.N=ot.ra+na,Ze.ea=ot.Ha,Ze.W=ot.Ia+na):(Qr-=hr,Ze.y=wa,Ze.O=Za,Ze.f=An,Ze.N=cr,Ze.ea=da,Ze.W=gs),ha||(Gr-=hr),Gr>Ze.o&&(Gr=Ze.o),Ze.F=null,Ze.J=null,ot.Fa!=null&&0<ot.Fa.length&&Qr<Gr&&(Ze.J=ln(ot,Ze,Qr,Gr-Qr),Ze.F=ot.mb,Ze.F==null&&Ze.F.length==0)){Tn=Ur(ot,3,"Could not decode alpha data.");break t}Qr<Ze.j&&(hr=Ze.j-Qr,Qr=Ze.j,e(!(1&hr)),Ze.O+=ot.R*hr,Ze.N+=ot.B*(hr>>1),Ze.W+=ot.B*(hr>>1),Ze.F!=null&&(Ze.J+=Ze.width*hr)),Qr<Gr&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,Ze.F!=null&&(Ze.J+=Ze.v),Ze.ka=Qr-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=Gr-Qr,Tn=Ze.put(Ze))}rr+1!=ot.Ic||ha||(n(ot.sa,ot.ta-Qt,wa,Za+16*ot.R,Qt),n(ot.qa,ot.ra-$r,An,cr+8*ot.B,$r),n(ot.Ha,ot.Ia-$r,da,gs+8*ot.B,$r))}if(!Tn)return Ur(pr,6,"Output aborted.")}return 1})(ce,we)),we.bc!=null&&we.bc(we),Ee&=1}return Ee?(ce.cb=0,Ee):0})(C,Q)||(E=C.a)}}else E=C.a}E==0&&Z.Oa!=null&&Z.Oa.fd&&(E=lh(Z.ba))}Z=E}J=Z!=0?null:11>J?se.f.RGBA.eb:se.f.kb.y}else J=null;return J};var Vf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,q){for(var F="",R=0;R<4;R++)F+=String.fromCharCode(P[q++]);return F}function d(P,q){return P[q+0]|P[q+1]<<8}function f(P,q){return(P[q+0]|P[q+1]<<8|P[q+2]<<16)>>>0}function g(P,q){return(P[q+0]|P[q+1]<<8|P[q+2]<<16|P[q+3]<<24)>>>0}new c;var p=[0],x=[0],y=[],b=new c,w=r,N=(function(P,q){var F={},R=0,H=!1,z=0,X=0;if(F.frames=[],!(function(U,Y){for(var ne=0;ne<4;ne++)if(U[Y+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(P,q)){for(g(P,q+=4),q+=8;q<P.length;){var $=u(P,q),te=g(P,q+=4);q+=4;var ee=te+(1&te);switch($){case"VP8 ":case"VP8L":F.frames[R]===void 0&&(F.frames[R]={}),(re=F.frames[R]).src_off=H?X:q-8,re.src_size=z+te+8,R++,H&&(H=!1,z=0,X=0);break;case"VP8X":(re=F.header={}).feature_flags=P[q];var fe=q+4;re.canvas_width=1+f(P,fe),fe+=3,re.canvas_height=1+f(P,fe),fe+=3;break;case"ALPH":H=!0,z=ee+8,X=q-8;break;case"ANIM":(re=F.header).bgcolor=g(P,q),fe=q+4,re.loop_count=d(P,fe),fe+=2;break;case"ANMF":var _e,re;(re=F.frames[R]={}).offset_x=2*f(P,q),q+=3,re.offset_y=2*f(P,q),q+=3,re.width=1+f(P,q),q+=3,re.height=1+f(P,q),q+=3,re.duration=f(P,q),q+=3,_e=P[q++],re.dispose=1&_e,re.blend=_e>>1&1}$!="ANMF"&&(q+=ee)}return F}})(w,0);N.response=w,N.rgbaoutput=!0,N.dataurl=!1;var j=N.header?N.header:null,k=N.frames?N.frames:null;if(j){j.loop_counter=j.loop_count,p=[j.canvas_height],x=[j.canvas_width];for(var T=0;T<k.length&&k[T].blend!=0;T++);}var I=k[0],M=b.WebPDecodeRGBA(w,I.src_off,I.src_size,x,p);I.rgba=M,I.imgwidth=x[0],I.imgheight=p[0];for(var L=0;L<x[0]*p[0]*4;L++)y[L]=M[L];return this.width=x,this.height=p,this.data=y,this}(function(r){var e,t,n,a,s,i,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new i,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new i,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=U;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(G){ne=!!G}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(G){oe=!!G}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(G){isNaN(G)||(de=G)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(G){isNaN(G)||(he=G)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(G){var Fe;typeof G=="number"?Fe=[G,G,G,G]:((Fe=new Array(4))[0]=G[0],Fe[1]=G.length>=2?G[1]:Fe[0],Fe[2]=G.length>=3?G[2]:Fe[0],Fe[3]=G.length>=4?G[3]:Fe[1]),u.margin=Fe}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(G){Se=G}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(G){me=G}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(G){be=G}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(G){G instanceof d&&(u=G)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(G){u.path=G}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(G){ge=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var Fe;Fe=g(G),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var Fe=g(G);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var le=null,je=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(G){le=null,je=null,Qe=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var Fe;if(this.ctx.font=G,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var Je=Fe[1];Fe[2];var et=Fe[3],$e=Fe[4];Fe[5];var bt=Fe[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(tt==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var mt=(function(wt){var Xn,fr,Ut=[],Wt=wt.trim();if(Wt==="")return K5;if(Wt in eD)return[eD[Wt]];for(;Wt!=="";){switch(fr=null,Xn=(Wt=rD(Wt)).charAt(0)){case'"':case"'":fr=u5e(Wt.substring(1),Xn);break;default:fr=d5e(Wt)}if(fr===null||(Ut.push(fr[0]),(Wt=rD(fr[1]))!==""&&Wt.charAt(0)!==","))return K5;Wt=Wt.replace(/^,/,"")}return Ut})(bt);if(this.fontFaces){var Nt=(function(wt,Xn){var fr=wt.getFontList(),Ut=JSON.stringify(fr);if(le===null||je!==Ut){var Wt=(function(gr){var Pt=[];return Object.keys(gr).forEach(function(on){gr[on].forEach(function(zt){var Yt=null;switch(zt){case"bold":Yt={family:on,weight:"bold"};break;case"italic":Yt={family:on,style:"italic"};break;case"bolditalic":Yt={family:on,weight:"bold",style:"italic"};break;case"":case"normal":Yt={family:on}}Yt!==null&&(Yt.ref={name:on,style:zt},Pt.push(Yt))})}),Pt})(fr);le=(function(gr){for(var Pt={},on=0;on<gr.length;++on){var zt=H5(gr[on]),Yt=zt.family,Jr=zt.stretch,lr=zt.style,jt=zt.weight;Pt[Yt]=Pt[Yt]||{},Pt[Yt][Jr]=Pt[Yt][Jr]||{},Pt[Yt][Jr][lr]=Pt[Yt][Jr][lr]||{},Pt[Yt][Jr][lr][jt]=zt}return Pt})(Wt.concat(Xn)),je=Ut}return le})(this.pdf,this.fontFaces),vt=mt.map(function(wt){return{family:wt,stretch:"normal",weight:et,style:Je}}),or=(function(wt,Xn,fr){for(var Ut=(fr=fr||{}).defaultFontFamily||"times",Wt=Object.assign({},A5e,fr.genericFontFamilies||{}),gr=null,Pt=null,on=0;on<Xn.length;++on)if(Wt[(gr=H5(Xn[on])).family]&&(gr.family=Wt[gr.family]),wt.hasOwnProperty(gr.family)){Pt=wt[gr.family];break}if(!(Pt=Pt||wt[Ut]))throw new Error("Could not find a font-family for the rule '"+tD(gr)+"' and default family '"+Ut+"'.");if(Pt=(function(zt,Yt){if(Yt[zt])return Yt[zt];var Jr=tj[zt],lr=Jr<=tj.normal?-1:1,jt=ZL(Yt,uK,Jr,lr);if(!jt)throw new Error("Could not find a matching font-stretch value for "+zt);return jt})(gr.stretch,Pt),Pt=(function(zt,Yt){if(Yt[zt])return Yt[zt];for(var Jr=AK[zt],lr=0;lr<Jr.length;++lr)if(Yt[Jr[lr]])return Yt[Jr[lr]];throw new Error("Could not find a matching font-style for "+zt)})(gr.style,Pt),!(Pt=(function(zt,Yt){if(Yt[zt])return Yt[zt];if(zt===400&&Yt[500])return Yt[500];if(zt===500&&Yt[400])return Yt[400];var Jr=c5e[zt],lr=ZL(Yt,dK,Jr,zt<400?-1:1);if(!lr)throw new Error("Could not find a matching font-weight for value "+zt);return lr})(gr.weight,Pt)))throw new Error("Failed to resolve a font for the rule '"+tD(gr)+"'.");return Pt})(Nt,vt);this.pdf.setFont(or.ref.name,or.ref.style)}else{var Ht="";(et==="bold"||parseInt(et,10)>=700||Je==="bold")&&(Ht="bold"),Je==="italic"&&(Ht+="italic"),Ht.length===0&&(Ht="normal");for(var $t="",Kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<mt.length;at++){if(this.pdf.internal.getFont(mt[at],Ht,{noFallback:!0,disableWarning:!0})!==void 0){$t=mt[at];break}if(Ht==="bolditalic"&&this.pdf.internal.getFont(mt[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=mt[at],Ht="bold";else if(this.pdf.internal.getFont(mt[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=mt[at],Ht="normal";break}}if($t===""){for(var Mt=0;Mt<mt.length;Mt++)if(Kt[mt[Mt]]){$t=Kt[mt[Mt]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,Ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};f.prototype.setLineDash=function(U){this.lineDash=U},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new i(U,Y));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(U,Y)},f.prototype.closePath=function(){var U=new i(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&sn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){U=new i(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(U.x,U.y)},f.prototype.lineTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new i(U,Y));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(ne.x,ne.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(U,Y,ne,oe){if(isNaN(ne)||isNaN(oe)||isNaN(U)||isNaN(Y))throw bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new i(ne,oe)),he=this.ctx.transform.applyToPoint(new i(U,Y));this.path.push({type:"qct",x1:he.x,y1:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new i(de.x,de.y)},f.prototype.bezierCurveTo=function(U,Y,ne,oe,de,he){if(isNaN(de)||isNaN(he)||isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new i(de,he)),me=this.ctx.transform.applyToPoint(new i(U,Y)),be=this.ctx.transform.applyToPoint(new i(ne,oe));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:be.x,y2:be.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new i(Se.x,Se.y)},f.prototype.arc=function(U,Y,ne,oe,de,he){if(isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe)||isNaN(de))throw bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new i(U,Y));U=Se.x,Y=Se.y;var me=this.ctx.transform.applyToPoint(new i(0,ne)),be=this.ctx.transform.applyToPoint(new i(0,0));ne=Math.sqrt(Math.pow(me.x-be.x,2)+Math.pow(me.y-be.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:U,y:Y,radius:ne,startAngle:oe,endAngle:de,counterclockwise:he})},f.prototype.arcTo=function(U,Y,ne,oe,de){throw new Error("arcTo not implemented.")},f.prototype.rect=function(U,Y,ne,oe){if(isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Y),this.lineTo(U+ne,Y),this.lineTo(U+ne,Y+oe),this.lineTo(U,Y+oe),this.lineTo(U,Y),this.lineTo(U+ne,Y),this.lineTo(U,Y)},f.prototype.fillRect=function(U,Y,ne,oe){if(isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Y,ne,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},f.prototype.strokeRect=function(U,Y,ne,oe){if(isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,Y,ne,oe),this.stroke())},f.prototype.clearRect=function(U,Y,ne,oe){if(isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Y,ne,oe))},f.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},f.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(U){var Y,ne,oe,de;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Y=0,ne=0,oe=0,de=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(he!==null)Y=parseInt(he[1]),ne=parseInt(he[2]),oe=parseInt(he[3]),de=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Y=parseInt(he[1]),ne=parseInt(he[2]),oe=parseInt(he[3]),de=parseFloat(he[4]);else{if(de=1,typeof U=="string"&&U.charAt(0)!=="#"){var Se=new nK(U);U=Se.ok?Se.toHex():"#000000"}U.length===4?(Y=U.substring(1,2),Y+=Y,ne=U.substring(2,3),ne+=ne,oe=U.substring(3,4),oe+=oe):(Y=U.substring(1,3),ne=U.substring(3,5),oe=U.substring(5,7)),Y=parseInt(Y,16),ne=parseInt(ne,16),oe=parseInt(oe,16)}}return{r:Y,g:ne,b:oe,a:de,style:U}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(U,Y,ne,oe){if(isNaN(Y)||isNaN(ne)||typeof U!="string")throw bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!p.call(this)){var de=ee(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;R.call(this,{text:U,x:Y,y:ne,scale:he,angle:de,align:this.textAlign,maxWidth:oe})}},f.prototype.strokeText=function(U,Y,ne,oe){if(isNaN(Y)||isNaN(ne)||typeof U!="string")throw bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){oe=isNaN(oe)?void 0:oe;var de=ee(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;R.call(this,{text:U,x:Y,y:ne,scale:he,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},f.prototype.measureText=function(U){if(typeof U!="string")throw bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ne=this.pdf.internal.scaleFactor,oe=Y.internal.getFontSize(),de=Y.getStringUnitWidth(U)*oe/Y.internal.scaleFactor;return new function(he){var Se=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:de*=Math.round(96*ne/72*1e4)/1e4})},f.prototype.scale=function(U,Y){if(isNaN(U)||isNaN(Y))throw bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new c(U,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.rotate=function(U){if(isNaN(U))throw bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(U,Y){if(isNaN(U)||isNaN(Y))throw bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new c(1,0,0,1,U,Y);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.transform=function(U,Y,ne,oe,de,he){if(isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(oe)||isNaN(de)||isNaN(he))throw bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new c(U,Y,ne,oe,de,he);this.ctx.transform=this.ctx.transform.multiply(Se)},f.prototype.setTransform=function(U,Y,ne,oe,de,he){U=isNaN(U)?1:U,Y=isNaN(Y)?0:Y,ne=isNaN(ne)?0:ne,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,he=isNaN(he)?0:he,this.ctx.transform=new c(U,Y,ne,oe,de,he)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(U,Y,ne,oe,de,he,Se,me,be){var ge=this.pdf.getImageProperties(U),le=1,je=1,Qe=1,G=1;oe!==void 0&&me!==void 0&&(Qe=me/oe,G=be/de,le=ge.width/oe*me/oe,je=ge.height/de*be/de),he===void 0&&(he=Y,Se=ne,Y=0,ne=0),oe!==void 0&&me===void 0&&(me=oe,be=de),oe===void 0&&me===void 0&&(me=ge.width,be=ge.height);var Fe=this.ctx.transform.decompose(),Je=ee(Fe.rotate.shx),et=new c,$e=(et=(et=(et=et.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new l(he-Y*Qe,Se-ne*G,oe*le,de*je));if(this.autoPaging){for(var bt,tt=b.call(this,$e),mt=[],Nt=0;Nt<tt.length;Nt+=1)mt.indexOf(tt[Nt])===-1&&mt.push(tt[Nt]);j(mt);for(var vt=mt[0],or=mt[mt.length-1],Ht=vt;Ht<or+1;Ht++){this.pdf.setPage(Ht);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=Ht===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Ht===1?0:at+(Ht-2)*Mt;if(this.ctx.clip_path.length!==0){var Xn=this.path;bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(bt,this.posX+this.margin[3],-wt+Kt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Xn}var fr=JSON.parse(JSON.stringify($e));fr=N([fr],this.posX+this.margin[3],-wt+Kt+this.ctx.prevPageLastElemOffset)[0];var Ut=(Ht>vt||Ht<or)&&y.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Mt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",fr.x,fr.y,fr.w,fr.h,null,null,Je),Ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Je)};var b=function(U,Y,ne){var oe=[];Y=Y||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":oe.push(Math.floor((U.y+de)/ne)+1);break;case"arc":oe.push(Math.floor((U.y+de-U.radius)/ne)+1),oe.push(Math.floor((U.y+de+U.radius)/ne)+1);break;case"qct":var he=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);oe.push(Math.floor((he.y+de)/ne)+1),oe.push(Math.floor((he.y+he.h+de)/ne)+1);break;case"bct":var Se=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);oe.push(Math.floor((Se.y+de)/ne)+1),oe.push(Math.floor((Se.y+Se.h+de)/ne)+1);break;case"rect":oe.push(Math.floor((U.y+de)/ne)+1),oe.push(Math.floor((U.y+U.h+de)/ne)+1)}for(var me=0;me<oe.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<oe[me];)w.call(this);return oe},w=function(){var U=this.fillStyle,Y=this.strokeStyle,ne=this.font,oe=this.lineCap,de=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Y,this.font=ne,this.lineCap=oe,this.lineWidth=de,this.lineJoin=he},N=function(U,Y,ne){for(var oe=0;oe<U.length;oe++)switch(U[oe].type){case"bct":U[oe].x2+=Y,U[oe].y2+=ne;case"qct":U[oe].x1+=Y,U[oe].y1+=ne;default:U[oe].x+=Y,U[oe].y+=ne}return U},j=function(U){return U.sort(function(Y,ne){return Y-ne})},k=function(U,Y){var ne=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,he=this.lineWidth,Se=Math.abs(he*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var be,ge,le=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Qe=[],G=0;G<je.length;G++)if(je[G].x!==void 0)for(var Fe=b.call(this,je[G]),Je=0;Je<Fe.length;Je+=1)Qe.indexOf(Fe[Je])===-1&&Qe.push(Fe[Je]);for(var et=0;et<Qe.length;et++)for(;this.pdf.internal.getNumberOfPages()<Qe[et];)w.call(this);j(Qe);for(var $e=Qe[0],bt=Qe[Qe.length-1],tt=$e;tt<bt+1;tt++){this.pdf.setPage(tt),this.fillStyle=ne,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=Se,this.lineJoin=me;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=tt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],or=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=tt===1?0:vt+(tt-2)*or;if(this.ctx.clip_path.length!==0){var $t=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(be,this.posX+this.margin[3],-Ht+Nt+this.ctx.prevPageLastElemOffset),T.call(this,U,!0),this.path=$t}if(ge=JSON.parse(JSON.stringify(le)),this.path=N(ge,this.posX+this.margin[3],-Ht+Nt+this.ctx.prevPageLastElemOffset),Y===!1||tt===0){var Kt=(tt>$e||tt<bt)&&y.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,or,null).clip().discardPath()),T.call(this,U,Y),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=le}else this.lineWidth=Se,T.call(this,U,Y),this.lineWidth=he},T=function(U,Y){if((U!=="stroke"||Y||!x.call(this))&&(U==="stroke"||Y||!p.call(this))){for(var ne,oe,de=[],he=this.path,Se=0;Se<he.length;Se++){var me=he[Se];switch(me.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:me,deltas:[],abs:[]});break;case"lt":var be=de.length;if(he[Se-1]&&!isNaN(he[Se-1].x)&&(ne=[me.x-he[Se-1].x,me.y-he[Se-1].y],be>0)){for(;be>=0;be--)if(de[be-1].close!==!0&&de[be-1].begin!==!0){de[be-1].deltas.push(ne),de[be-1].abs.push(me);break}}break;case"bct":ne=[me.x1-he[Se-1].x,me.y1-he[Se-1].y,me.x2-he[Se-1].x,me.y2-he[Se-1].y,me.x-he[Se-1].x,me.y-he[Se-1].y],de[de.length-1].deltas.push(ne);break;case"qct":var ge=he[Se-1].x+2/3*(me.x1-he[Se-1].x),le=he[Se-1].y+2/3*(me.y1-he[Se-1].y),je=me.x+2/3*(me.x1-me.x),Qe=me.y+2/3*(me.y1-me.y),G=me.x,Fe=me.y;ne=[ge-he[Se-1].x,le-he[Se-1].y,je-he[Se-1].x,Qe-he[Se-1].y,G-he[Se-1].x,Fe-he[Se-1].y],de[de.length-1].deltas.push(ne);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(me)}}oe=Y?null:U==="stroke"?"stroke":"fill";for(var Je=!1,et=0;et<de.length;et++)if(de[et].arc)for(var $e=de[et].abs,bt=0;bt<$e.length;bt++){var tt=$e[bt];tt.type==="arc"?L.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,Y,!Je):H.call(this,tt.x,tt.y),Je=!0}else if(de[et].close===!0)this.pdf.internal.out("h"),Je=!1;else if(de[et].begin!==!0){var mt=de[et].start.x,Nt=de[et].start.y;z.call(this,de[et].deltas,mt,Nt),Je=!0}oe&&P.call(this,oe),Y&&q.call(this)}},I=function(U){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ne;case"top":return U+Y-ne;case"hanging":return U+Y-2*ne;case"middle":return U+Y/2-ne;default:return U}},M=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Y,ne){this.colorStops.push([Y,ne])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,Y,ne,oe,de,he,Se,me,be){for(var ge=$.call(this,ne,oe,de,he),le=0;le<ge.length;le++){var je=ge[le];le===0&&(be?F.call(this,je.x1+U,je.y1+Y):H.call(this,je.x1+U,je.y1+Y)),X.call(this,U,Y,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}me?q.call(this):P.call(this,Se)},P=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(U,Y){this.pdf.internal.out(t(U)+" "+n(Y)+" m")},R=function(U){var Y;switch(U.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ne,oe,de,he=this.pdf.getTextDimensions(U.text),Se=I.call(this,U.y),me=M.call(this,Se)-he.h,be=this.ctx.transform.applyToPoint(new i(U.x,Se));if(this.autoPaging){var ge=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var je=this.ctx.transform.applyToRectangle(new l(U.x,Se,he.w,he.h)),Qe=le.applyToRectangle(new l(U.x,me,he.w,he.h)),G=b.call(this,Qe),Fe=[],Je=0;Je<G.length;Je+=1)Fe.indexOf(G[Je])===-1&&Fe.push(G[Je]);j(Fe);for(var et=Fe[0],$e=Fe[Fe.length-1],bt=et;bt<$e+1;bt++){this.pdf.setPage(bt);var tt=bt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[2],vt=Nt-this.margin[0],or=this.pdf.internal.pageSize.width-this.margin[1],Ht=or-this.margin[3],$t=bt===1?0:mt+(bt-2)*vt;if(this.ctx.clip_path.length!==0){var Kt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ne,this.posX+this.margin[3],-1*$t+tt),T.call(this,"fill",!0),this.path=Kt}var at=N([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-$t+tt+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*U.scale),de=this.lineWidth,this.lineWidth=de*U.scale);var Mt=this.autoPaging!=="text";if(Mt||at.y+at.h<=Nt){if(Mt||at.y>=tt&&at.x<=or){var wt=Mt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||or-at.x)[0],Xn=N([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-$t+tt+this.ctx.prevPageLastElemOffset)[0],fr=Mt&&(bt>et||bt<$e)&&y.call(this);fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,vt,null).clip().discardPath()),this.pdf.text(wt,Xn.x,Xn.y,{angle:U.angle,align:Y,renderingMode:U.renderingMode}),fr&&this.pdf.restoreGraphicsState()}}else at.y<Nt&&(this.ctx.prevPageLastElemOffset+=Nt-at.y);U.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)}}else U.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*U.scale),de=this.lineWidth,this.lineWidth=de*U.scale),this.pdf.text(U.text,be.x+this.posX,be.y+this.posY,{angle:U.angle,align:Y,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)},H=function(U,Y,ne,oe){ne=ne||0,oe=oe||0,this.pdf.internal.out(t(U+ne)+" "+n(Y+oe)+" l")},z=function(U,Y,ne){return this.pdf.lines(U,Y,ne,null,null)},X=function(U,Y,ne,oe,de,he,Se,me){this.pdf.internal.out([e(a(ne+U)),e(s(oe+Y)),e(a(de+U)),e(s(he+Y)),e(a(Se+U)),e(s(me+Y)),"c"].join(" "))},$=function(U,Y,ne,oe){for(var de=2*Math.PI,he=Math.PI/2;Y>ne;)Y-=de;var Se=Math.abs(ne-Y);Se<de&&oe&&(Se=de-Se);for(var me=[],be=oe?-1:1,ge=Y;Se>1e-5;){var le=ge+be*Math.min(Se,he);me.push(te.call(this,U,ge,le)),Se-=Math.abs(le-ge),ge=le}return me},te=function(U,Y,ne){var oe=(ne-Y)/2,de=U*Math.cos(oe),he=U*Math.sin(oe),Se=de,me=-he,be=Se*Se+me*me,ge=be+Se*de+me*he,le=4/3*(Math.sqrt(2*be*ge)-ge)/(Se*he-me*de),je=Se-le*me,Qe=me+le*Se,G=je,Fe=-Qe,Je=oe+Y,et=Math.cos(Je),$e=Math.sin(Je);return{x1:U*Math.cos(Y),y1:U*Math.sin(Y),x2:je*et-Qe*$e,y2:je*$e+Qe*et,x3:G*et-Fe*$e,y3:G*$e+Fe*et,x4:U*Math.cos(ne),y4:U*Math.sin(ne)}},ee=function(U){return 180*U/Math.PI},fe=function(U,Y,ne,oe,de,he){var Se=U+.5*(ne-U),me=Y+.5*(oe-Y),be=de+.5*(ne-de),ge=he+.5*(oe-he),le=Math.min(U,de,Se,be),je=Math.max(U,de,Se,be),Qe=Math.min(Y,he,me,ge),G=Math.max(Y,he,me,ge);return new l(le,Qe,je-le,G-Qe)},_e=function(U,Y,ne,oe,de,he,Se,me){var be,ge,le,je,Qe,G,Fe,Je,et,$e,bt,tt,mt,Nt,vt=ne-U,or=oe-Y,Ht=de-ne,$t=he-oe,Kt=Se-de,at=me-he;for(ge=0;ge<41;ge++)et=(Fe=(le=U+(be=ge/40)*vt)+be*((Qe=ne+be*Ht)-le))+be*(Qe+be*(de+be*Kt-Qe)-Fe),$e=(Je=(je=Y+be*or)+be*((G=oe+be*$t)-je))+be*(G+be*(he+be*at-G)-Je),ge==0?(bt=et,tt=$e,mt=et,Nt=$e):(bt=Math.min(bt,et),tt=Math.min(tt,$e),mt=Math.max(mt,et),Nt=Math.max(Nt,$e));return new l(Math.round(bt),Math.round(tt),Math.round(mt-bt),Math.round(Nt-tt))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Y,ne=(U=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Y}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Et.API),(function(r){var e=function(i){var l,c,u,d,f,g,p,x,y,b;for(c=[],u=0,d=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;d>u;u+=4)(f=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(g=(f=((f=((f=((f=(f-(b=f%85))/85)-(y=f%85))/85)-(x=f%85))/85)-(p=f%85))/85)%85,c.push(g+33,p+33,x+33,y+33,b+33)):c.push(122);return(function(w,N){for(var j=N;j>0;j--)w.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(i){var l,c,u,d,f,g=String,p="length",x=255,y="charCodeAt",b="slice",w="replace";for(i[b](-2),i=i[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],d=0,f=(i+=l="uuuuu"[b](i[p]%5||5))[p];f>d;d+=5)c=52200625*(i[y](d)-33)+614125*(i[y](d+1)-33)+7225*(i[y](d+2)-33)+85*(i[y](d+3)-33)+(i[y](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(N,j){for(var k=j;k>0;k--)N.pop()})(u,l[p]),g.fromCharCode.apply(g,u)},n=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var c="",u=0;u<i.length;u+=2)c+=String.fromCharCode("0x"+(i[u]+i[u+1]));return c},s=function(i){for(var l=new Uint8Array(i.length),c=i.length;c--;)l[c]=i.charCodeAt(c);return(l=VS(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};r.processDataByFilters=function(i,l){var c=0,u=i||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(Et.API),(function(r){r.loadFile=function(e,t,n){return(function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,g=0,p=function(x){var y=x.length,b=[],w=String.fromCharCode;for(g=0;g<y;g+=1)b.push(w(255&x.charCodeAt(g)));return b.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)})(a,s,i)}catch{}return l})(e,t,n)},r.loadImageFile=r.loadFile})(Et.API),(function(r){function e(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):qv(()=>Promise.resolve().then(()=>K2e),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):qv(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=sn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},i=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,c){return l.__proto__=c||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var x=d[p],y=x.src.find(function(b){return b.format==="truetype"});y&&u.addFont(y.url,x.ref.name,x.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},i.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(l,c){return this.then(function(){var u=l in i.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},i.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,f).then(function(g){return u.updateProgress(1),g})})},i.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:i.convert(Object.assign({},d),Promise.prototype),g=u.call(f,l,c);return i.convert(g,d.__proto__)},i.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},i.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},i.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return i.convert(c,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Et.getPageSize=function(l,c,u){if(sn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var x,y=0,b=0;if(p.hasOwnProperty(g))y=p[g][1]/f,b=p[g][0]/f;else try{y=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",b>y&&(x=b,b=y,y=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>b&&(x=b,b=y,y=x)}return{width:b,height:y,unit:c,k:f,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(H5):null;var u=new i(c);return c.worker?u:u.from(l).doCallback()}})(Et.API),Et.API.addJS=function(r){return aD=r,this.internal.events.subscribe("postPutResources",function(){Ov=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ov+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+aD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ov!==void 0&&nD!==void 0&&this.internal.out("/Names <</JavaScript "+Ov+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=t.internal.newObject();d.push(f);var g=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(Et.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,s,i,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(f){for(var g,p=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,y={width:0,height:0,numcomponents:1},b=4;b<x;b+=2){if(b+=p,e.indexOf(f.charCodeAt(b+1))!==-1){g=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),y={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:g,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return y})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(Et.API),Et.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,s=WBe(r,{checkCrc:!0}),i=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;a=u&&c===1?(function(L){for(var P=L.width,q=L.height,F=L.data,R=L.palette,H=L.depth,z=!1,X=[],$=[],te=void 0,ee=!1,fe=0,_e=0;_e<R.length;_e++){var re=lL(R[_e],4),U=re[0],Y=re[1],ne=re[2],oe=re[3];X.push(U,Y,ne),oe!=null&&(oe===0?(fe++,$.length<1&&$.push(_e)):oe<255&&(ee=!0))}if(ee||fe>1){z=!0,$=void 0;var de=P*q;te=new Uint8Array(de);for(var he=new DataView(F.buffer),Se=0;Se<de;Se++){var me=z5(he,Se,H),be=lL(R[me],4)[3];te[Se]=be}}else fe===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:F,alphaBytes:te,needSMask:z,palette:X,mask:$}})(s):c===2||c===4?(function(L){for(var P=L.data,q=L.width,F=L.height,R=L.channels,H=L.depth,z=R===2?"DeviceGray":"DeviceRGB",X=R-1,$=q*F,te=X,ee=$*te,fe=1*$,_e=Math.ceil(ee*H/8),re=Math.ceil(fe*H/8),U=new Uint8Array(_e),Y=new Uint8Array(re),ne=new DataView(P.buffer),oe=new DataView(U.buffer),de=new DataView(Y.buffer),he=!1,Se=0;Se<$;Se++){for(var me=Se*R,be=0;be<te;be++)hD(oe,z5(ne,me+be,H),Se*te+be,H);var ge=z5(ne,me+te,H);ge<(1<<H)-1&&(he=!0),hD(de,ge,1*Se,H)}return{colorSpace:z,colorsPerPixel:X,sMaskBitsPerComponent:he?H:void 0,colorBytes:U,alphaBytes:Y,needSMask:he}})(s):(function(L){var P=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(F){for(var R=F.length,H=new Uint8Array(2*R),z=new DataView(H.buffer,H.byteOffset,H.byteLength),X=0;X<R;X++)z.setUint16(2*X,F[X],!1);return H})(P):P,needSMask:!1}})(s);var f,g,p,x=a,y=x.colorSpace,b=x.colorsPerPixel,w=x.sMaskBitsPerComponent,N=x.colorBytes,j=x.alphaBytes,k=x.needSMask,T=x.palette,I=x.mask,M=null;return n!==Et.API.image_compression.NONE&&typeof VS=="function"?(M=(function(L){var P;switch(L){case Et.API.image_compression.FAST:P=11;break;case Et.API.image_compression.MEDIUM:P=13;break;case Et.API.image_compression.SLOW:P=14;break;default:P=12}return P})(n),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," /Colors ").concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(i),r=lD(N,Math.ceil(i*b*d/8),b,d,n),k&&(p=lD(j,Math.ceil(i*w/8),1,w,n))):(f=void 0,g=void 0,r=N,k&&(p=j)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:r,index:e,filter:f,decodeParameters:g,transparency:I,palette:T,sMask:p,predictor:M,width:i,height:l,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:y}}},(function(r){r.processGIF89A=function(e,t,n,a){var s=new g5e(e),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:l},d=new q5(100).encode(u,100);return r.processJPEG.call(this,d,t,n,a)},r.processGIF87A=r.processGIF89A})(Et.API),sc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sc.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){bn.log("bit decode error:"+t)}},sc.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}t!==0&&(this.pos+=4-t)}},sc.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},sc.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},sc.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=i,this.data[d+3]=u}this.pos+=r}},sc.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&t)/t*255|0,u=(i>>11)/e*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=r}},sc.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},sc.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},sc.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var s=new sc(e,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new q5(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(Et.API),mD.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var s=new mD(e),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new q5(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(Et.API),Et.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],g=n[u+2],p=n[u+3];s[l++]=d,s[l++]=f,s[l++]=g,i[c++]=p}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Et.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_m=Et.API,Iv=_m.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,g=0,p=r.length,x=0,y=l[0]||c,b=[];for(t=0;t<p;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(g=f&&sn(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,b.push((l[n]||y)/c+g)),x=n;return b},sD=_m.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return _m.processArabic&&(r=_m.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:Iv.apply(this,arguments).reduce(function(s,i){return s+i},0)},iD=function(r,e,t,n){for(var a=[],s=0,i=r.length,l=0;s!==i&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var c=s;for(l=0;s!==i;)l+e[s]>n&&(a.push(r.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(r.slice(c,s)),a},oD=function(r,e,t){t||(t={});var n,a,s,i,l,c,u,d=[],f=[d],g=t.textIndent||0,p=0,x=0,y=r.split(" "),b=Iv.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),N=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?N=N.concat(k.map(function(T,I){return(I&&T.length?`
`:"")+T})):N.push(k[0])}),y=N,c=sD.apply(this,[w,t])}for(s=0,i=y.length;s<i;s++){var j=0;if(n=y[s],c&&n[0]==`
`&&(n=n.substr(1),j=1),g+p+(x=(a=Iv.apply(this,[n,t])).reduce(function(k,T){return k+T},0))>e||j){if(x>e){for(l=iD.apply(this,[n,a,e-(g+p),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);x=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(k,T){return k+T},0)}else d=[n];f.push(d),g=x+c,p=b}else d.push(n),g+=p+x,p=b}return u=c?function(k,T){return(T?w:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},_m.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(oD.apply(this,[n[l],i,s]));return u},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[t[s]]=e[s],a[e[s]]=t[s];var i=function(g){return"0x"+parseInt(g,10).toString(16)},l=r.__fontmetrics__.compress=function(g){var p,x,y,b,w=["{"];for(var N in g){if(p=g[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=i(N).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof p=="number")p<0?(y=i(p).slice(3),b="-"):(y=i(p).slice(2),b=""),y=b+y.slice(0,-1)+a[y.slice(-1)];else{if(sn(p)!=="object")throw new Error("Don't know what to do with value type "+sn(p)+".");y=l(p)}w.push(x+y)}return w.push("}"),w.join("")},c=r.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,x,y,b,w={},N=1,j=w,k=[],T="",I="",M=g.length-1,L=1;L<M;L+=1)(b=g[L])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(k.push([j,y]),j={},y=void 0):b=="}"?((x=k.pop())[0][x[1]]=j,y=void 0,j=x[0]):b=="-"?N=-1:y===void 0?n.hasOwnProperty(b)?(T+=n[b],y=parseInt(T,16)*N,N=1,T=""):T+=b:n.hasOwnProperty(b)?(I+=n[b],j[y]=parseInt(I,16)*N,N=1,y=void 0,I=""):I+=b;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(g){var p=g.font,x=f.Unicode[p.postScriptName];x&&(p.metadata.Unicode={},p.metadata.Unicode.widths=x.widths,p.metadata.Unicode.kerning=x.kerning);var y=d.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])})(Et.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(eb(l)),i.metadata=r.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])})(Et),Et.API.addSvgAsImage=function(r,e,t,n,a,s,i,l){if(isNaN(e)||isNaN(t))throw bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Jt.canvg?Promise.resolve(Jt.canvg):qv(()=>import("./index.es-BM0mLGn7.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,t,n,a,i,l)})},Et.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},Et.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],u=0,d=0,f=0;function g(x,y){var b,w=!1;for(b=0;b<x.length;b+=1)x[b]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=l.length;for(f=0;f<p;f+=1)t[l[f]].value=t[l[f]].defaultValue,t[l[f]].explicitSet=!1}if(sn(r)==="object"){for(a in r)if(s=r[a],g(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&g(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}t[a].value="["+c.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Et.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,g=s.length;f<g;++f){if(l=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var i,l,c,u,d,f,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,g=(l=Object.keys(s).sort(function(p,x){return p-x})).length;f<g;f++)i=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,d=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",x=0;x<g.length;x++)p+=String.fromCharCode(g[x]);var y=u();d({data:p,addLength1:!0,objectId:y}),c("endobj");var b=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Lm(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Lm(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+r.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Lm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,d=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,g="",p=0;p<f.length;p++)g+=String.fromCharCode(f[p]);var x=u();d({data:g,addLength1:!0,objectId:x}),c("endobj");var y=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Lm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Lm(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},g=f.pdfEscape,p=f.activeFontKey,x=f.fonts,y=p,b="",w=0,N="",j=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(N=l,y=p,Array.isArray(l)&&(N=l[0]),w=0;w<N.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(i=x[y].metadata.cmap.unicode.codeMap[N[w].charCodeAt(0)]),i||N[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?b+=N[w]:b+="";var k="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?k=g(b,y).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(k=t(b,x[y])),f.isHex=!0,{text:k,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?l.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):l.push(a(Object.assign({},c,{text:i[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])})(Et),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Et.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,s,i,l,c,u,d,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,j=0;this.__bidiEngine__={};var k=function(F){var R=F.charCodeAt(),H=R>>8,z=y[H];return z!==void 0?f[256*z+(255&R)]:H===252||H===253?"AL":w.test(H)?"L":H===8?"R":"N"},T=function(F){for(var R,H=0;H<F.length;H++){if((R=k(F.charAt(H)))==="L")return!1;if(R==="R")return!0}return!1},I=function(F,R,H,z){var X,$,te,ee,fe=R[z];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(fe="AN");break;case"AL":N=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":z<1||z+1>=R.length||(X=H[z-1])!=="EN"&&X!=="AN"||($=R[z+1])!=="EN"&&$!=="AN"?fe="N":N&&($="AN"),fe=$===X?$:"N";break;case"ES":fe=(X=z>0?H[z-1]:"B")==="EN"&&z+1<R.length&&R[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&H[z-1]==="EN"){fe="EN";break}if(N){fe="N";break}for(te=z+1,ee=R.length;te<ee&&R[te]==="ET";)te++;fe=te<ee&&R[te]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(ee=R.length,te=z+1;te<ee&&R[te]==="NSM";)te++;if(te<ee){var _e=F[z],re=_e>=1425&&_e<=2303||_e===64286;if(X=R[te],re&&(X==="R"||X==="AL")){fe="R";break}}}fe=z<1||(X=R[z-1])==="B"?"N":H[z-1];break;case"B":N=!1,a=!0,fe=j;break;case"S":s=!0,fe="N"}return fe},M=function(F,R,H){var z=F.split("");return H&&L(z,H,{hiLevel:j}),z.reverse(),R&&R.reverse(),z.join("")},L=function(F,R,H){var z,X,$,te,ee,fe=-1,_e=F.length,re=0,U=[],Y=j?p:g,ne=[];for(N=!1,a=!1,s=!1,X=0;X<_e;X++)ne[X]=k(F[X]);for($=0;$<_e;$++){if(ee=re,U[$]=I(F,ne,U,$),z=240&(re=Y[ee][x[U[$]]]),re&=15,R[$]=te=Y[re][5],z>0)if(z===16){for(X=fe;X<$;X++)R[X]=1;fe=-1}else fe=-1;if(Y[re][6])fe===-1&&(fe=$);else if(fe>-1){for(X=fe;X<$;X++)R[X]=te;fe=-1}ne[$]==="B"&&(R[$]=0),H.hiLevel|=te}s&&(function(oe,de,he){for(var Se=0;Se<he;Se++)if(oe[Se]==="S"){de[Se]=j;for(var me=Se-1;me>=0&&oe[me]==="WS";me--)de[me]=j}})(ne,R,_e)},P=function(F,R,H,z,X){if(!(X.hiLevel<F)){if(F===1&&j===1&&!a)return R.reverse(),void(H&&H.reverse());for(var $,te,ee,fe,_e=R.length,re=0;re<_e;){if(z[re]>=F){for(ee=re+1;ee<_e&&z[ee]>=F;)ee++;for(fe=re,te=ee-1;fe<te;fe++,te--)$=R[fe],R[fe]=R[te],R[te]=$,H&&($=H[fe],H[fe]=H[te],H[te]=$);re=ee}re++}}},q=function(F,R,H){var z=F.split(""),X={hiLevel:j};return H||(H=[]),L(z,H,X),(function($,te,ee){if(ee.hiLevel!==0&&d)for(var fe,_e=0;_e<$.length;_e++)te[_e]===1&&(fe=b.indexOf($[_e]))>=0&&($[_e]=b[fe+1])})(z,H,X),P(2,z,R,H,X),P(1,z,R,H,X),z.join("")};return this.__bidiEngine__.doBidiReorder=function(F,R,H){if((function(X,$){if($)for(var te=0;te<X.length;te++)$[te]=te;l===void 0&&(l=T(X)),u===void 0&&(u=T(X))})(F,R),i||!c||u)if(i&&c&&l^u)j=l?1:0,F=M(F,R,H);else if(!i&&c&&u)j=l?1:0,F=q(F,R,H),F=M(F,R);else if(!i||l||c||u){if(i&&!c&&l^u)F=M(F,R),l?(j=0,F=q(F,R,H)):(j=1,F=q(F,R,H),F=M(F,R));else if(i&&l&&!c&&u)j=1,F=q(F,R,H),F=M(F,R);else if(!i&&!c&&l^u){var z=d;l?(j=1,F=q(F,R,H),j=0,d=!1,F=q(F,R,H),d=z):(j=0,F=q(F,R,H),F=M(F,R),j=1,d=!1,F=q(F,R,H),d=z,F=M(F,R))}}else j=0,F=q(F,R,H);else j=l?1:0,F=q(F,R,H);return F},this.__bidiEngine__.setOptions=function(F){F&&(i=F.isInputVisual,c=F.isOutputVisual,l=F.isInputRtl,u=F.isOutputRtl,d=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var i=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([t.doBidiReorder(a[l])]);n.text=i}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Et),Et.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ud(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new T5e(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new p5e(this.contents),this.head=new x5e(this),this.name=new B5e(this),this.cmap=new fK(this),this.toUnicode={},this.hhea=new v5e(this),this.maxp=new N5e(this),this.hmtx=new S5e(this),this.post=new w5e(this),this.os2=new b5e(this),this.loca=new k5e(this),this.glyf=new j5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,u;for(u=[],i=0,l=(c=this.bbox).length;i<l;i++)e=c[i],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,s,i,l;for(i=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var bc,Ud=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,s,i,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),p5e=(function(){var r;function e(t){var n,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,s,i,l,c,u,d,f,g,p,x,y;for(y in p=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),i=Math.floor(f/c),d=16*p-f,(a=new Ud).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*p,u=a.pos+s,l=null,x=[],t)for(g=t[y],a.writeString(y),a.writeInt(r(g)),a.writeInt(u),a.writeInt(g.length),x=x.concat(g),y==="head"&&(l=u),u+=g.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(n),a.data},r=function(t){var n,a,s,i;for(t=mK.call(t);t.length%4;)t.push(0);for(s=new Ud(t),a=0,n=0,i=t.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),y5e={}.hasOwnProperty,mA=function(r,e){for(var t in e)y5e.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};bc=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var x5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Ud).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),gD=(function(){function r(e,t){var n,a,s,i,l,c,u,d,f,g,p,x,y,b,w,N,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=(function(){var k,T;for(T=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)T.push(e.readUInt16());return T})(),e.pos+=2,y=(function(){var k,T;for(T=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)T.push(e.readUInt16());return T})(),u=(function(){var k,T;for(T=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)T.push(e.readUInt16());return T})(),d=(function(){var k,T;for(T=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)T.push(e.readUInt16());return T})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var k,T;for(T=[],c=k=0;0<=a?k<a:k>a;c=0<=a?++k:--k)T.push(e.readUInt16());return T})(),c=w=0,j=s.length;w<j;c=++w)for(b=s[c],n=N=x=y[c];x<=b?N<=b:N>=b;n=x<=b?++N:--N)d[c]===0?i=n+u[c]:(i=l[d[c]/2+(n-x)-(g-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}e.pos=f}return r.encode=function(e,t){var n,a,s,i,l,c,u,d,f,g,p,x,y,b,w,N,j,k,T,I,M,L,P,q,F,R,H,z,X,$,te,ee,fe,_e,re,U,Y,ne,oe,de,he,Se,me,be,ge,le;switch(z=new Ud,i=Object.keys(e).sort(function(je,Qe){return je-Qe}),t){case"macroman":for(y=0,b=(function(){var je=[];for(x=0;x<256;++x)je.push(0);return je})(),N={0:0},s={},X=0,fe=i.length;X<fe;X++)N[me=e[a=i[X]]]==null&&(N[me]=++y),s[a]={old:e[a],new:N[e[a]]},b[a]=N[e[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(b),{charMap:s,subtable:z.data,maxGlyphID:y+1};case"unicode":for(R=[],f=[],j=0,N={},n={},w=u=null,$=0,_e=i.length;$<_e;$++)N[T=e[a=i[$]]]==null&&(N[T]=++j),n[a]={old:T,new:N[T]},l=N[T]-a,w!=null&&l===u||(w&&f.push(w),R.push(a),u=l),w=a;for(w&&f.push(w),f.push(65535),R.push(65535),q=2*(P=R.length),L=2*Math.pow(Math.log(P)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,M=2*P-L,c=[],I=[],p=[],x=te=0,re=R.length;te<re;x=++te){if(F=R[x],d=f[x],F===65535){c.push(0),I.push(0);break}if(F-(H=n[F].new)>=32768)for(c.push(0),I.push(2*(p.length+P-x)),a=ee=F;F<=d?ee<=d:ee>=d;a=F<=d?++ee:--ee)p.push(n[a].new);else c.push(H-F),I.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*P+2*p.length),z.writeUInt16(0),z.writeUInt16(q),z.writeUInt16(L),z.writeUInt16(g),z.writeUInt16(M),he=0,U=f.length;he<U;he++)a=f[he],z.writeUInt16(a);for(z.writeUInt16(0),Se=0,Y=R.length;Se<Y;Se++)a=R[Se],z.writeUInt16(a);for(be=0,ne=c.length;be<ne;be++)l=c[be],z.writeUInt16(l);for(ge=0,oe=I.length;ge<oe;ge++)k=I[ge],z.writeUInt16(k);for(le=0,de=p.length;le<de;le++)y=p[le],z.writeUInt16(y);return{charMap:n,subtable:z.data,maxGlyphID:j+1}}},r})(),fK=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new gD(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=gD.encode(e,t),(a=new Ud).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),v5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),b5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),w5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var i,l,c;for(c=[],s=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;s=0<=l?++i:--i)c.push(e.readUInt32());return c}).call(this)}},r})(),C5e=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},B5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,s,i,l,c,u,d,f,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)a=n[s],e.pos=a.offset,u=e.readString(a.length),i=new C5e(u,a),c[g=a.nameID]==null&&(c[g]=[]),c[a.nameID].push(i);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),N5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),S5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,s,i,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,g;for(g=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],t=i=0;0<=a?i<a:i>a;t=0<=a?++i:--i)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),mK=[].slice,j5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,s,i,l,c,u,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,i=(l=new Ud(t.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=i===-1?new _5e(l,u,f,c,d):new E5e(l,i,u,f,c,d),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,s,i,l,c;for(i=[],s=[],l=0,c=t.length;l<c;l++)a=e[t[l]],s.push(i.length),a&&(i=i.concat(a.encode(n)));return s.push(i.length),{table:i,offsets:s}},r})(),E5e=(function(){function r(e,t,n,a,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),_5e=(function(){function r(e,t,n,a,s){var i,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Ud(mK.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),k5e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return mA(r,bc),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,i=0;i<n.length;++i)if(n[i]=a,s<t.length&&t[s]==i){++s,n[i]=a;var l=this.offsets[i],c=this.offsets[i+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},r})(),T5e=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,s,i,l,c;for(a={},i=0,l=e.length;i<l;i++)a[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(n=a[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],a[s]=n;return a},r.prototype.encode=function(e,t){var n,a,s,i,l,c,u,d,f,g,p,x,y,b,w;for(a in n=fK.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),p={0:0},w=n.charMap)p[(c=w[a]).old]=c.new;for(x in g=n.maxGlyphID,i)x in p||(p[x]=g++);return d=(function(N){var j,k;for(j in k={},N)k[N[j]]=j;return k})(p),f=Object.keys(d).sort(function(N,j){return N-j}),y=(function(){var N,j,k;for(k=[],N=0,j=f.length;N<j;N++)l=f[N],k.push(d[l]);return k})(),s=this.font.glyf.encode(i,y,p),u=this.font.loca.encode(s.offsets,y),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},r})();Et.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,s,i;if(Array.isArray(t))return"["+(function(){var l,c,u;for(u=[],l=0,c=t.length;l<c;l++)n=t[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)i=t[a],s.push("/"+a+" "+e.convert(i));return s.push(">>"),s.join(`
`)}return""+t},e})();const F5e=async(r,e="chart")=>{const t=document.getElementById(r);if(!t){console.error(`Element with id "${r}" not found`);return}try{const n=await W4(t,{backgroundColor:"#ffffff",scale:2,logging:!1}),a=document.createElement("a");a.href=n.toDataURL("image/png"),a.download=`${e}-${Q4(new Date,"yyyy-MM-dd")}.png`,a.click()}catch(n){console.error("Error exporting chart as PNG:",n)}},P5e=async(r,e="Chart",t="chart")=>{const n=document.getElementById(r);if(!n){console.error(`Element with id "${r}" not found`);return}try{const a=await W4(n,{backgroundColor:"#ffffff",scale:2,logging:!1}),s=a.toDataURL("image/png"),i=new Et({orientation:"landscape",unit:"mm",format:"a4"}),l=280,c=a.height*l/a.width;i.text(e,15,15),i.addImage(s,"PNG",15,25,l,c),i.save(`${t}-${Q4(new Date,"yyyy-MM-dd")}.pdf`)}catch(a){console.error("Error exporting chart as PDF:",a)}},O5e=(r,e="data")=>{if(!r||r.length===0){console.error("No data to export");return}const t=Object.keys(r[0]),n=[t.join(","),...r.map(s=>t.map(i=>JSON.stringify(s[i])).join(","))].join(`
`),a=document.createElement("a");a.href=`data:text/csv;charset=utf-8,${encodeURIComponent(n)}`,a.download=`${e}-${Q4(new Date,"yyyy-MM-dd")}.csv`,a.click()},I5e=({chartId:r,chartTitle:e,data:t,formats:n=["png","pdf"]})=>{const[a,s]=S.useState(!1),[i,l]=S.useState(!1),c=async()=>{l(!0);try{await F5e(r,e),Ce.success("Chart exported as PNG")}catch{Ce.error("Failed to export chart as PNG")}finally{l(!1),s(!1)}},u=async()=>{l(!0);try{await P5e(r,e,e),Ce.success("Chart exported as PDF")}catch{Ce.error("Failed to export chart as PDF")}finally{l(!1),s(!1)}},d=()=>{if(!t||t.length===0){Ce.error("No data to export");return}try{O5e(t,e),Ce.success("Data exported as CSV")}catch{Ce.error("Failed to export data as CSV")}finally{s(!1)}};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!a),disabled:i,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(wu,{className:"w-4 h-4"}),i?"Exporting...":"Export"]}),a&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:o.jsxs("div",{className:"p-2",children:[n.includes("png")&&o.jsxs("button",{onClick:c,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx(lb,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PNG"})]}),n.includes("pdf")&&o.jsxs("button",{onClick:u,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx(za,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PDF"})]}),n.includes("csv")&&t&&t.length>0&&o.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors",children:[o.jsx(FG,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as CSV"})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},L5e=()=>o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Team Workload"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Engineer assignments and project allocations"})]}),o.jsx(I5e,{chartId:"team-workload",chartTitle:"Engineer Assignments",formats:["png","pdf"]})]})}),o.jsx("div",{id:"team-workload",children:o.jsx(dye,{})})]})});function D5e(){return o.jsxs(Wq,{children:[o.jsxs(Nq,{children:[o.jsx(qn,{path:"/login",element:o.jsx(MX,{})}),o.jsx(qn,{path:"/reset-password",element:o.jsx(QX,{})}),o.jsx(qn,{element:o.jsx(iX,{}),children:o.jsxs(qn,{path:"/",element:o.jsx(oX,{children:o.jsx(sX,{})}),children:[o.jsx(qn,{index:!0,element:o.jsx(Yfe,{})}),o.jsx(qn,{path:"my-dashboard",element:o.jsx(oye,{})}),o.jsx(qn,{path:"projects",element:o.jsx(tme,{})}),o.jsx(qn,{path:"clients",element:o.jsx(G5,{to:"/companies",replace:!0})}),o.jsx(qn,{path:"companies",element:o.jsx(ime,{})}),o.jsx(qn,{path:"research",element:o.jsx(Ame,{})}),o.jsx(qn,{path:"team",element:o.jsx(gme,{})}),o.jsx(qn,{path:"team-workload",element:o.jsx(L5e,{})}),o.jsx(qn,{path:"timesheets",element:o.jsx(xme,{})}),o.jsx(qn,{path:"inventory",element:o.jsx(Tme,{})}),o.jsx(qn,{path:"maintenance",element:o.jsx(Lme,{})}),o.jsx(qn,{path:"equipment",element:o.jsx(qme,{})}),o.jsx(qn,{path:"pcs",element:o.jsx(Yme,{})}),o.jsx(qn,{path:"finance",element:o.jsx(cge,{})}),o.jsx(qn,{path:"finance/documents",element:o.jsx(rye,{})}),o.jsx(qn,{path:"purchase-orders",element:o.jsx(Age,{})}),o.jsx(qn,{path:"finance/exchange-rates",element:o.jsx(sye,{})}),o.jsx(qn,{path:"settings",element:o.jsx(zme,{})})]})}),o.jsx(qn,{path:"*",element:o.jsx(G5,{to:"/login",replace:!0})})]}),o.jsx($$,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#333"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}class M5e extends $s.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,showStack:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),er.error("Error caught by ErrorBoundary:",e),er.error("Component stack:",t.componentStack),this.props.onError&&this.props.onError(e,t)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,showStack:!1})};handleReload=()=>{window.location.reload()};toggleStack=()=>{this.setState(e=>({showStack:!e.showStack}))};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const e=!1,{error:t,errorInfo:n,showStack:a}=this.state;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:o.jsxs("div",{className:"max-w-lg w-full",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-red-200 dark:border-red-800/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6 text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx(W0,{className:"w-7 h-7"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Something went wrong"}),o.jsx("p",{className:"text-red-100 text-sm mt-0.5",children:"An unexpected error has occurred"})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. You can try refreshing the page or return to the dashboard. If the problem persists, please contact support."}),e,o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(Dt,{variant:"primary",size:"md",fullWidth:!0,onClick:this.handleReset,icon:o.jsx(Sw,{className:"w-4 h-4"}),children:"Try Again"}),o.jsx(Dt,{variant:"outline",size:"md",fullWidth:!0,onClick:()=>{window.location.href="/"},icon:o.jsx(dj,{className:"w-4 h-4"}),children:"Go to Dashboard"})]}),o.jsx("button",{onClick:this.handleReload,className:"mt-4 w-full text-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"Or reload the entire page"})]})]}),o.jsxs("p",{className:"mt-4 text-center text-xs text-gray-400 dark:text-gray-500",children:["Error ID: ",Date.now().toString(36).toUpperCase()]})]})})}return this.props.children}}_d.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${P4}/pdf.worker.min.js`;Pz.createRoot(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(M5e,{children:o.jsx(Mme,{children:o.jsx(XY,{children:o.jsx(D5e,{})})})})}));export{sn as _,R5e as c,Bl as g};
