var zO=r=>{throw TypeError(r)};var HN=(r,e,t)=>e.has(r)||zO("Cannot "+t);var Ea=(r,e,t)=>(HN(r,e,"read from private field"),t?t.call(r):e.get(r)),ed=(r,e,t)=>e.has(r)?zO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Jo=(r,e,t,n)=>(HN(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),td=(r,e,t)=>(HN(r,e,"access private method"),t);var KO=(r,e,t,n)=>({set _(a){Jo(r,e,a,t)},get _(){return Ea(r,e,n)}});function yY(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var DIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zN={exports:{}},vx={};var $O;function vY(){if($O)return vx;$O=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:r,type:n,key:i,ref:a!==void 0?a:null,props:s}}return vx.Fragment=e,vx.jsx=t,vx.jsxs=t,vx}var VO;function bY(){return VO||(VO=1,zN.exports=vY()),zN.exports}var o=bY(),KN={exports:{}},Pr={};var qO;function wY(){if(qO)return Pr;qO=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;function m(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function w(Z,O,H){this.props=Z,this.context=O,this.refs=v,this.updater=H||y}w.prototype.isReactComponent={},w.prototype.setState=function(Z,O){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,O,"setState")},w.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(Z,O,H){this.props=Z,this.context=O,this.refs=v,this.updater=H||y}var E=C.prototype=new S;E.constructor=C,g(E,w.prototype),E.isPureReactComponent=!0;var _=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k(Z,O,H){var V=H.ref;return{$$typeof:r,type:Z,key:O,ref:V!==void 0?V:null,props:H}}function z(Z,O){return k(Z.type,O,Z.props)}function I(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function Q(Z){var O={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(H){return O[H]})}var R=/\/+/g;function K(Z,O){return typeof Z=="object"&&Z!==null&&Z.key!=null?Q(""+Z.key):O.toString(36)}function ee(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(L,L):(Z.status="pending",Z.then(function(O){Z.status==="pending"&&(Z.status="fulfilled",Z.value=O)},function(O){Z.status==="pending"&&(Z.status="rejected",Z.reason=O)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function Y(Z,O,H,V,G){var ae=typeof Z;(ae==="undefined"||ae==="boolean")&&(Z=null);var ue=!1;if(Z===null)ue=!0;else switch(ae){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(Z.$$typeof){case r:case e:ue=!0;break;case A:return ue=Z._init,Y(ue(Z._payload),O,H,V,G)}}if(ue)return G=G(Z),ue=V===""?"."+K(Z,0):V,_(G)?(H="",ue!=null&&(H=ue.replace(R,"$&/")+"/"),Y(G,O,H,"",function(pe){return pe})):G!=null&&(I(G)&&(G=z(G,H+(G.key==null||Z&&Z.key===G.key?"":(""+G.key).replace(R,"$&/")+"/")+ue)),O.push(G)),1;ue=0;var Se=V===""?".":V+":";if(_(Z))for(var te=0;te<Z.length;te++)V=Z[te],ae=Se+K(V,te),ue+=Y(V,O,H,ae,G);else if(te=m(Z),typeof te=="function")for(Z=te.call(Z),te=0;!(V=Z.next()).done;)V=V.value,ae=Se+K(V,te++),ue+=Y(V,O,H,ae,G);else if(ae==="object"){if(typeof Z.then=="function")return Y(ee(Z),O,H,V,G);throw O=String(Z),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ue}function se(Z,O,H){if(Z==null)return Z;var V=[],G=0;return Y(Z,V,"","",function(ae){return O.call(H,ae,G++)}),V}function X(Z){if(Z._status===-1){var O=Z._result;O=O(),O.then(function(H){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=H)},function(H){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=H)}),Z._status===-1&&(Z._status=0,Z._result=O)}if(Z._status===1)return Z._result.default;throw Z._result}var Ae=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},ge={map:se,forEach:function(Z,O,H){se(Z,function(){O.apply(this,arguments)},H)},count:function(Z){var O=0;return se(Z,function(){O++}),O},toArray:function(Z){return se(Z,function(O){return O})||[]},only:function(Z){if(!I(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Pr.Activity=h,Pr.Children=ge,Pr.Component=w,Pr.Fragment=t,Pr.Profiler=a,Pr.PureComponent=C,Pr.StrictMode=n,Pr.Suspense=c,Pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pr.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return D.H.useMemoCache(Z)}},Pr.cache=function(Z){return function(){return Z.apply(null,arguments)}},Pr.cacheSignal=function(){return null},Pr.cloneElement=function(Z,O,H){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var V=g({},Z.props),G=Z.key;if(O!=null)for(ae in O.key!==void 0&&(G=""+O.key),O)!P.call(O,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&O.ref===void 0||(V[ae]=O[ae]);var ae=arguments.length-2;if(ae===1)V.children=H;else if(1<ae){for(var ue=Array(ae),Se=0;Se<ae;Se++)ue[Se]=arguments[Se+2];V.children=ue}return k(Z.type,G,V)},Pr.createContext=function(Z){return Z={$$typeof:i,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},Pr.createElement=function(Z,O,H){var V,G={},ae=null;if(O!=null)for(V in O.key!==void 0&&(ae=""+O.key),O)P.call(O,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(G[V]=O[V]);var ue=arguments.length-2;if(ue===1)G.children=H;else if(1<ue){for(var Se=Array(ue),te=0;te<ue;te++)Se[te]=arguments[te+2];G.children=Se}if(Z&&Z.defaultProps)for(V in ue=Z.defaultProps,ue)G[V]===void 0&&(G[V]=ue[V]);return k(Z,ae,G)},Pr.createRef=function(){return{current:null}},Pr.forwardRef=function(Z){return{$$typeof:l,render:Z}},Pr.isValidElement=I,Pr.lazy=function(Z){return{$$typeof:A,_payload:{_status:-1,_result:Z},_init:X}},Pr.memo=function(Z,O){return{$$typeof:u,type:Z,compare:O===void 0?null:O}},Pr.startTransition=function(Z){var O=D.T,H={};D.T=H;try{var V=Z(),G=D.S;G!==null&&G(H,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(L,Ae)}catch(ae){Ae(ae)}finally{O!==null&&H.types!==null&&(O.types=H.types),D.T=O}},Pr.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pr.use=function(Z){return D.H.use(Z)},Pr.useActionState=function(Z,O,H){return D.H.useActionState(Z,O,H)},Pr.useCallback=function(Z,O){return D.H.useCallback(Z,O)},Pr.useContext=function(Z){return D.H.useContext(Z)},Pr.useDebugValue=function(){},Pr.useDeferredValue=function(Z,O){return D.H.useDeferredValue(Z,O)},Pr.useEffect=function(Z,O){return D.H.useEffect(Z,O)},Pr.useEffectEvent=function(Z){return D.H.useEffectEvent(Z)},Pr.useId=function(){return D.H.useId()},Pr.useImperativeHandle=function(Z,O,H){return D.H.useImperativeHandle(Z,O,H)},Pr.useInsertionEffect=function(Z,O){return D.H.useInsertionEffect(Z,O)},Pr.useLayoutEffect=function(Z,O){return D.H.useLayoutEffect(Z,O)},Pr.useMemo=function(Z,O){return D.H.useMemo(Z,O)},Pr.useOptimistic=function(Z,O){return D.H.useOptimistic(Z,O)},Pr.useReducer=function(Z,O,H){return D.H.useReducer(Z,O,H)},Pr.useRef=function(Z){return D.H.useRef(Z)},Pr.useState=function(Z){return D.H.useState(Z)},Pr.useSyncExternalStore=function(Z,O,H){return D.H.useSyncExternalStore(Z,O,H)},Pr.useTransition=function(){return D.H.useTransition()},Pr.version="19.2.0",Pr}var GO;function dg(){return GO||(GO=1,KN.exports=wY()),KN.exports}var B=dg();const bs=Pc(B),CY=yY({__proto__:null,default:bs},[B]);var $N={exports:{}},bx={},VN={exports:{}},qN={};var WO;function NY(){return WO||(WO=1,(function(r){function e(Y,se){var X=Y.length;Y.push(se);e:for(;0<X;){var Ae=X-1>>>1,ge=Y[Ae];if(0<a(ge,se))Y[Ae]=se,Y[X]=ge,X=Ae;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var se=Y[0],X=Y.pop();if(X!==se){Y[0]=X;e:for(var Ae=0,ge=Y.length,Z=ge>>>1;Ae<Z;){var O=2*(Ae+1)-1,H=Y[O],V=O+1,G=Y[V];if(0>a(H,X))V<ge&&0>a(G,H)?(Y[Ae]=G,Y[V]=X,Ae=V):(Y[Ae]=H,Y[O]=X,Ae=O);else if(V<ge&&0>a(G,X))Y[Ae]=G,Y[V]=X,Ae=V;else break e}}return se}function a(Y,se){var X=Y.sortIndex-se.sortIndex;return X!==0?X:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();r.unstable_now=function(){return i.now()-l}}var c=[],u=[],A=1,h=null,p=3,m=!1,y=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(Y){for(var se=t(u);se!==null;){if(se.callback===null)n(u);else if(se.startTime<=Y)n(u),se.sortIndex=se.expirationTime,e(c,se);else break;se=t(u)}}function _(Y){if(g=!1,E(Y),!y)if(t(c)!==null)y=!0,L||(L=!0,Q());else{var se=t(u);se!==null&&ee(_,se.startTime-Y)}}var L=!1,D=-1,P=5,k=-1;function z(){return v?!0:!(r.unstable_now()-k<P)}function I(){if(v=!1,L){var Y=r.unstable_now();k=Y;var se=!0;try{e:{y=!1,g&&(g=!1,S(D),D=-1),m=!0;var X=p;try{t:{for(E(Y),h=t(c);h!==null&&!(h.expirationTime>Y&&z());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,p=h.priorityLevel;var ge=Ae(h.expirationTime<=Y);if(Y=r.unstable_now(),typeof ge=="function"){h.callback=ge,E(Y),se=!0;break t}h===t(c)&&n(c),E(Y)}else n(c);h=t(c)}if(h!==null)se=!0;else{var Z=t(u);Z!==null&&ee(_,Z.startTime-Y),se=!1}}break e}finally{h=null,p=X,m=!1}se=void 0}}finally{se?Q():L=!1}}}var Q;if(typeof C=="function")Q=function(){C(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,K=R.port2;R.port1.onmessage=I,Q=function(){K.postMessage(null)}}else Q=function(){w(I,0)};function ee(Y,se){D=w(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var X=p;p=se;try{return Y()}finally{p=X}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=p;p=Y;try{return se()}finally{p=X}},r.unstable_scheduleCallback=function(Y,se,X){var Ae=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ae+X:Ae):X=Ae,Y){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=X+ge,Y={id:A++,callback:se,priorityLevel:Y,startTime:X,expirationTime:ge,sortIndex:-1},X>Ae?(Y.sortIndex=X,e(u,Y),t(c)===null&&Y===t(u)&&(g?(S(D),D=-1):g=!0,ee(_,X-Ae))):(Y.sortIndex=ge,e(c,Y),y||m||(y=!0,L||(L=!0,Q()))),Y},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(Y){var se=p;return function(){var X=p;p=se;try{return Y.apply(this,arguments)}finally{p=X}}}})(qN)),qN}var YO;function SY(){return YO||(YO=1,VN.exports=NY()),VN.exports}var GN={exports:{}},Yi={};var XO;function BY(){if(XO)return Yi;XO=1;var r=dg();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)u+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,A){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:c,containerInfo:u,implementation:A}}var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yi.createPortal=function(c,u){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,A)},Yi.flushSync=function(c){var u=i.T,A=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=u,n.p=A,n.d.f()}},Yi.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Yi.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Yi.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var A=u.as,h=l(A,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;A==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):A==="script"&&n.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Yi.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var A=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:A,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Yi.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var A=u.as,h=l(A,u.crossOrigin);n.d.L(c,A,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Yi.preloadModule=function(c,u){if(typeof c=="string")if(u){var A=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:A,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Yi.requestFormReset=function(c){n.d.r(c)},Yi.unstable_batchedUpdates=function(c,u){return c(u)},Yi.useFormState=function(c,u,A){return i.H.useFormState(c,u,A)},Yi.useFormStatus=function(){return i.H.useHostTransitionStatus()},Yi.version="19.2.0",Yi}var JO;function j8(){if(JO)return GN.exports;JO=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),GN.exports=BY(),GN.exports}var ZO;function EY(){if(ZO)return bx;ZO=1;var r=SY(),e=dg(),t=j8();function n(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var f=d,x=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(x=f.return),d=f.return;while(d)}return f.tag===3?x:null}function i(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function l(d){if(d.tag===31){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function c(d){if(s(d)!==d)throw Error(n(188))}function u(d){var f=d.alternate;if(!f){if(f=s(d),f===null)throw Error(n(188));return f!==d?null:d}for(var x=d,b=f;;){var j=x.return;if(j===null)break;var F=j.alternate;if(F===null){if(b=j.return,b!==null){x=b;continue}break}if(j.child===F.child){for(F=j.child;F;){if(F===x)return c(j),d;if(F===b)return c(j),f;F=F.sibling}throw Error(n(188))}if(x.return!==b.return)x=j,b=F;else{for(var W=!1,ce=j.child;ce;){if(ce===x){W=!0,x=j,b=F;break}if(ce===b){W=!0,b=j,x=F;break}ce=ce.sibling}if(!W){for(ce=F.child;ce;){if(ce===x){W=!0,x=F,b=j;break}if(ce===b){W=!0,b=F,x=j;break}ce=ce.sibling}if(!W)throw Error(n(189))}}if(x.alternate!==b)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:f}function A(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d;for(d=d.child;d!==null;){if(f=A(d),f!==null)return f;d=d.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function Q(d){return d===null||typeof d!="object"?null:(d=I&&d[I]||d["@@iterator"],typeof d=="function"?d:null)}var R=Symbol.for("react.client.reference");function K(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===R?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case g:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case y:return"Portal";case C:return d.displayName||"Context";case S:return(d._context.displayName||"Context")+".Consumer";case E:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case D:return f=d.displayName||null,f!==null?f:K(d.type)||"Memo";case P:f=d._payload,d=d._init;try{return K(d(f))}catch{}}return null}var ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Ae=[],ge=-1;function Z(d){return{current:d}}function O(d){0>ge||(d.current=Ae[ge],Ae[ge]=null,ge--)}function H(d,f){ge++,Ae[ge]=d.current,d.current=f}var V=Z(null),G=Z(null),ae=Z(null),ue=Z(null);function Se(d,f){switch(H(ae,f),H(G,d),H(V,null),f.nodeType){case 9:case 11:d=(d=f.documentElement)&&(d=d.namespaceURI)?AO(d):0;break;default:if(d=f.tagName,f=f.namespaceURI)f=AO(f),d=hO(f,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}O(V),H(V,d)}function te(){O(V),O(G),O(ae)}function pe(d){d.memoizedState!==null&&H(ue,d);var f=V.current,x=hO(f,d.type);f!==x&&(H(G,d),H(V,x))}function ke(d){G.current===d&&(O(V),O(G)),ue.current===d&&(O(ue),px._currentValue=X)}var Ee,Ue;function je(d){if(Ee===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);Ee=f&&f[1]||"",Ue=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+d+Ue}var J=!1;function Ie(d,f){if(!d||J)return"";J=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(tt){var Je=tt}Reflect.construct(d,[],gt)}else{try{gt.call()}catch(tt){Je=tt}d.call(gt.prototype)}}else{try{throw Error()}catch(tt){Je=tt}(gt=d())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(tt){if(tt&&Je&&typeof tt.stack=="string")return[tt.stack,Je.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=b.DetermineComponentFrameRoot(),W=F[0],ce=F[1];if(W&&ce){var _e=W.split(`
`),We=ce.split(`
`);for(j=b=0;b<_e.length&&!_e[b].includes("DetermineComponentFrameRoot");)b++;for(;j<We.length&&!We[j].includes("DetermineComponentFrameRoot");)j++;if(b===_e.length||j===We.length)for(b=_e.length-1,j=We.length-1;1<=b&&0<=j&&_e[b]!==We[j];)j--;for(;1<=b&&0<=j;b--,j--)if(_e[b]!==We[j]){if(b!==1||j!==1)do if(b--,j--,0>j||_e[b]!==We[j]){var dt=`
`+_e[b].replace(" at new "," at ");return d.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",d.displayName)),dt}while(1<=b&&0<=j);break}}}finally{J=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?je(x):""}function Ye(d,f){switch(d.tag){case 26:case 27:case 5:return je(d.type);case 16:return je("Lazy");case 13:return d.child!==f&&f!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Ie(d.type,!1);case 11:return Ie(d.type.render,!1);case 1:return Ie(d.type,!0);case 31:return je("Activity");default:return""}}function Bt(d){try{var f="",x=null;do f+=Ye(d,x),x=d,d=d.return;while(d);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var it=Object.prototype.hasOwnProperty,Xe=r.unstable_scheduleCallback,ft=r.unstable_cancelCallback,Et=r.unstable_shouldYield,Le=r.unstable_requestPaint,yt=r.unstable_now,Oe=r.unstable_getCurrentPriorityLevel,at=r.unstable_ImmediatePriority,bt=r.unstable_UserBlockingPriority,St=r.unstable_NormalPriority,Be=r.unstable_LowPriority,st=r.unstable_IdlePriority,lt=r.log,Zt=r.unstable_setDisableYieldValue,It=null,Tt=null;function cr(d){if(typeof lt=="function"&&Zt(d),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(It,d)}catch{}}var Br=Math.clz32?Math.clz32:nr,zt=Math.log,Yr=Math.LN2;function nr(d){return d>>>=0,d===0?32:31-(zt(d)/Yr|0)|0}var mr=256,mt=262144,Ct=4194304;function Ut(d){var f=d&42;if(f!==0)return f;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Kt(d,f,x){var b=d.pendingLanes;if(b===0)return 0;var j=0,F=d.suspendedLanes,W=d.pingedLanes;d=d.warmLanes;var ce=b&134217727;return ce!==0?(b=ce&~F,b!==0?j=Ut(b):(W&=ce,W!==0?j=Ut(W):x||(x=ce&~d,x!==0&&(j=Ut(x))))):(ce=b&~F,ce!==0?j=Ut(ce):W!==0?j=Ut(W):x||(x=b&~d,x!==0&&(j=Ut(x)))),j===0?0:f!==0&&f!==j&&(f&F)===0&&(F=j&-j,x=f&-f,F>=x||F===32&&(x&4194048)!==0)?f:j}function jn(d,f){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&f)===0}function Fr(d,f){switch(d){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var d=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),d}function Ga(d){for(var f=[],x=0;31>x;x++)f.push(d);return f}function Ar(d,f){d.pendingLanes|=f,f!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function ba(d,f,x,b,j,F){var W=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var ce=d.entanglements,_e=d.expirationTimes,We=d.hiddenUpdates;for(x=W&~x;0<x;){var dt=31-Br(x),gt=1<<dt;ce[dt]=0,_e[dt]=-1;var Je=We[dt];if(Je!==null)for(We[dt]=null,dt=0;dt<Je.length;dt++){var tt=Je[dt];tt!==null&&(tt.lane&=-536870913)}x&=~gt}b!==0&&Wa(d,b,0),F!==0&&j===0&&d.tag!==0&&(d.suspendedLanes|=F&~(W&~f))}function Wa(d,f,x){d.pendingLanes|=f,d.suspendedLanes&=~f;var b=31-Br(f);d.entangledLanes|=f,d.entanglements[b]=d.entanglements[b]|1073741824|x&261930}function ca(d,f){var x=d.entangledLanes|=f;for(d=d.entanglements;x;){var b=31-Br(x),j=1<<b;j&f|d[b]&f&&(d[b]|=f),x&=~j}}function Ss(d,f){var x=f&-f;return x=(x&42)!==0?1:_n(x),(x&(d.suspendedLanes|f))!==0?0:x}function _n(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function wa(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function ie(){var d=se.p;return d!==0?d:(d=window.event,d===void 0?32:IO(d.type))}function we(d,f){var x=se.p;try{return se.p=d,f()}finally{se.p=x}}var he=Math.random().toString(36).slice(2),fe="__reactFiber$"+he,xe="__reactProps$"+he,Ne="__reactContainer$"+he,He="__reactEvents$"+he,nt="__reactListeners$"+he,Ke="__reactHandles$"+he,$e="__reactResources$"+he,qe="__reactMarker$"+he;function Nt(d){delete d[fe],delete d[xe],delete d[He],delete d[nt],delete d[Ke]}function kt(d){var f=d[fe];if(f)return f;for(var x=d.parentNode;x;){if(f=x[Ne]||x[fe]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(d=vO(d);d!==null;){if(x=d[fe])return x;d=vO(d)}return f}d=x,x=d.parentNode}return null}function Mt(d){if(d=d[fe]||d[Ne]){var f=d.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return d}return null}function _t(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d.stateNode;throw Error(n(33))}function Dt(d){var f=d[$e];return f||(f=d[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Gt(d){d[qe]=!0}var Cn=new Set,qr={};function Tn(d,f){Si(d,f),Si(d+"Capture",f)}function Si(d,f){for(qr[d]=f,d=0;d<f.length;d++)Cn.add(f[d])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},ho={};function Pu(d){return it.call(ho,d)?!0:it.call(ml,d)?!1:fl.test(d)?ho[d]=!0:(ml[d]=!0,!1)}function Aa(d,f,x){if(Pu(f))if(x===null)d.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){d.removeAttribute(f);return}}d.setAttribute(f,""+x)}}function Uc(d,f,x){if(x===null)d.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(f);return}d.setAttribute(f,""+x)}}function pl(d,f,x,b){if(b===null)d.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(f,x,""+b)}}function hn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function vf(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Zl(d,f,x){var b=Object.getOwnPropertyDescriptor(d.constructor.prototype,f);if(!d.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var j=b.get,F=b.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return j.call(this)},set:function(W){x=""+W,F.call(this,W)}}),Object.defineProperty(d,f,{enumerable:b.enumerable}),{getValue:function(){return x},setValue:function(W){x=""+W},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function Iu(d){if(!d._valueTracker){var f=vf(d)?"checked":"value";d._valueTracker=Zl(d,f,""+d[f])}}function bf(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var x=f.getValue(),b="";return d&&(b=vf(d)?d.checked?"true":"false":d.value),d=b,d!==x?(f.setValue(d),!0):!1}function Bi(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var cs=/[\n"\\]/g;function Ya(d){return d.replace(cs,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function $A(d,f,x,b,j,F,W,ce){d.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.type=W:d.removeAttribute("type"),f!=null?W==="number"?(f===0&&d.value===""||d.value!=f)&&(d.value=""+hn(f)):d.value!==""+hn(f)&&(d.value=""+hn(f)):W!=="submit"&&W!=="reset"||d.removeAttribute("value"),f!=null?wf(d,W,hn(f)):x!=null?wf(d,W,hn(x)):b!=null&&d.removeAttribute("value"),j==null&&F!=null&&(d.defaultChecked=!!F),j!=null&&(d.checked=j&&typeof j!="function"&&typeof j!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?d.name=""+hn(ce):d.removeAttribute("name")}function im(d,f,x,b,j,F,W,ce){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(d.type=F),f!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||f!=null)){Iu(d);return}x=x!=null?""+hn(x):"",f=f!=null?""+hn(f):x,ce||f===d.value||(d.value=f),d.defaultValue=f}b=b??j,b=typeof b!="function"&&typeof b!="symbol"&&!!b,d.checked=ce?d.checked:!!b,d.defaultChecked=!!b,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(d.name=W),Iu(d)}function wf(d,f,x){f==="number"&&Bi(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function Ei(d,f,x,b){if(d=d.options,f){f={};for(var j=0;j<x.length;j++)f["$"+x[j]]=!0;for(x=0;x<d.length;x++)j=f.hasOwnProperty("$"+d[x].value),d[x].selected!==j&&(d[x].selected=j),j&&b&&(d[x].defaultSelected=!0)}else{for(x=""+hn(x),f=null,j=0;j<d.length;j++){if(d[j].value===x){d[j].selected=!0,b&&(d[j].defaultSelected=!0);return}f!==null||d[j].disabled||(f=d[j])}f!==null&&(f.selected=!0)}}function Cf(d,f,x){if(f!=null&&(f=""+hn(f),f!==d.value&&(d.value=f),x==null)){d.defaultValue!==f&&(d.defaultValue=f);return}d.defaultValue=x!=null?""+hn(x):""}function Nf(d,f,x,b){if(f==null){if(b!=null){if(x!=null)throw Error(n(92));if(ee(b)){if(1<b.length)throw Error(n(93));b=b[0]}x=b}x==null&&(x=""),f=x}x=hn(f),d.defaultValue=x,b=d.textContent,b===x&&b!==""&&b!==null&&(d.value=b),Iu(d)}function gl(d,f){if(f){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=f;return}}d.textContent=f}var _d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(d,f,x){var b=f.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?d.setProperty(f,""):f==="float"?d.cssFloat="":d[f]="":b?d.setProperty(f,x):typeof x!="number"||x===0||_d.has(f)?f==="float"?d.cssFloat=x:d[f]=(""+x).trim():d[f]=x+"px"}function lm(d,f,x){if(f!=null&&typeof f!="object")throw Error(n(62));if(d=d.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?d.setProperty(b,""):b==="float"?d.cssFloat="":d[b]="");for(var j in f)b=f[j],f.hasOwnProperty(j)&&x[j]!==b&&om(d,j,b)}else for(var F in f)f.hasOwnProperty(F)&&om(d,F,f[F])}function Sf(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(d){return cm.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function xl(){}var Qc=null;function Td(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Lu=null,Nr=null;function um(d){var f=Mt(d);if(f&&(d=f.stateNode)){var x=d[xe]||null;e:switch(d=f.stateNode,f.type){case"input":if($A(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),f=x.name,x.type==="radio"&&f!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Ya(""+f)+'"][type="radio"]'),f=0;f<x.length;f++){var b=x[f];if(b!==d&&b.form===d.form){var j=b[xe]||null;if(!j)throw Error(n(90));$A(b,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(f=0;f<x.length;f++)b=x[f],b.form===d.form&&bf(b)}break e;case"textarea":Cf(d,x.value,x.defaultValue);break e;case"select":f=x.value,f!=null&&Ei(d,!!x.multiple,f,!1)}}}var Ef=!1;function dm(d,f,x){if(Ef)return d(f,x);Ef=!0;try{var b=d(f);return b}finally{if(Ef=!1,(Lu!==null||Nr!==null)&&(g1(),Lu&&(f=Lu,d=Nr,Nr=Lu=null,um(f),d)))for(f=0;f<d.length;f++)um(d[f])}}function fo(d,f){var x=d.stateNode;if(x===null)return null;var b=x[xe]||null;if(b===null)return null;x=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(d=d.type,b=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!b;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,f,typeof x));return x}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=!1;if(Us)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){jf=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{jf=!1}var mo=null,Fd=null,ec=null;function Am(){if(ec)return ec;var d,f=Fd,x=f.length,b,j="value"in mo?mo.value:mo.textContent,F=j.length;for(d=0;d<x&&f[d]===j[d];d++);var W=x-d;for(b=1;b<=W&&f[x-b]===j[F-b];b++);return ec=j.slice(d,1<b?1-b:void 0)}function Po(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function VA(){return!0}function qA(){return!1}function Bs(d){function f(x,b,j,F,W){this._reactName=x,this._targetInst=j,this.type=b,this.nativeEvent=F,this.target=W,this.currentTarget=null;for(var ce in d)d.hasOwnProperty(ce)&&(x=d[ce],this[ce]=x?x(F):F[ce]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?VA:qA,this.isPropagationStopped=qA,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=VA)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=VA)},persist:function(){},isPersistent:VA}),f}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=Bs(tc),Hc=h({},tc,{view:0,detail:0}),GA=Bs(Hc),Od,zc,Kc,Dd=h({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Kc&&(Kc&&d.type==="mousemove"?(Od=d.screenX-Kc.screenX,zc=d.screenY-Kc.screenY):zc=Od=0,Kc=d),Od)},movementY:function(d){return"movementY"in d?d.movementY:zc}}),_f=Bs(Dd),$c=h({},Dd,{dataTransfer:0}),Vc=Bs($c),hm=h({},Hc,{relatedTarget:0}),qc=Bs(hm),fm=h({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),M=Bs(fm),re=h({},tc,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ce=Bs(re),Te=h({},tc,{data:0}),Me=Bs(Te),At={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ur(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=er[d])?!!f[d]:!1}function jr(){return ur}var Or=h({},Hc,{key:function(d){if(d.key){var f=At[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=Po(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?vt[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(d){return d.type==="keypress"?Po(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Po(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),an=Bs(Or),ha=h({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=Bs(ha),Vn=h({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),us=Bs(Vn),Xa=h({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qs=Bs(Xa),Gc=h({},Dd,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=Bs(Gc),Wc=h({},tc,{newState:0,oldState:0}),Tf=Bs(Wc),WA=[9,13,27,32],rc=Us&&"CompositionEvent"in window,vl=null;Us&&"documentMode"in document&&(vl=document.documentMode);var Pd=Us&&"TextEvent"in window&&!vl,Yc=Us&&(!rc||vl&&8<vl&&11>=vl),Es=" ",Mu=!1;function Ru(d,f){switch(d){case"keyup":return WA.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YA(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var nc=!1;function ji(d,f){switch(d){case"compositionend":return YA(f);case"keypress":return f.which!==32?null:(Mu=!0,Es);case"textInput":return d=f.data,d===Es&&Mu?null:d;default:return null}}function Xc(d,f){if(nc)return d==="compositionend"||!rc&&Ru(d,f)?(d=Am(),ec=Fd=mo=null,nc=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Yc&&f.locale!=="ko"?null:f.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!XA[d.type]:f==="textarea"}function po(d,f,x,b){Lu?Nr?Nr.push(b):Nr=[b]:Lu=b,f=N1(f,"onChange"),0<f.length&&(x=new Io("onChange","change",null,x,b),d.push({event:x,listeners:f}))}var bl=null,Jc=null;function Ff(d){iO(d,0)}function wl(d){var f=_t(d);if(bf(f))return d}function Uu(d,f){if(d==="change")return f}var Gi=!1;if(Us){var _i;if(Us){var ac="oninput"in document;if(!ac){var sc=document.createElement("div");sc.setAttribute("oninput","return;"),ac=typeof sc.oninput=="function"}_i=ac}else _i=!1;Gi=_i&&(!document.documentMode||9<document.documentMode)}function Zc(){bl&&(bl.detachEvent("onpropertychange",JA),Jc=bl=null)}function JA(d){if(d.propertyName==="value"&&wl(Jc)){var f=[];po(f,Jc,d,Td(d)),dm(Ff,f)}}function ZA(d,f,x){d==="focusin"?(Zc(),bl=f,Jc=x,bl.attachEvent("onpropertychange",JA)):d==="focusout"&&Zc()}function La(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return wl(Jc)}function mm(d,f){if(d==="click")return wl(f)}function ic(d,f){if(d==="input"||d==="change")return wl(f)}function oc(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var Hs=typeof Object.is=="function"?Object.is:oc;function eu(d,f){if(Hs(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var x=Object.keys(d),b=Object.keys(f);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var j=x[b];if(!it.call(f,j)||!Hs(d[j],f[j]))return!1}return!0}function eh(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function th(d,f){var x=eh(d);d=0;for(var b;x;){if(x.nodeType===3){if(b=d+x.textContent.length,d<=f&&b>=f)return{node:x,offset:f-d};d=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=eh(x)}}function tu(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?tu(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function ru(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var f=Bi(d.document);f instanceof d.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)d=f.contentWindow;else break;f=Bi(d.document)}return f}function lc(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}var Id=Us&&"documentMode"in document&&11>=document.documentMode,go=null,nu=null,si=null,Lo=!1;function fn(d,f,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Lo||go==null||go!==Bi(b)||(b=go,"selectionStart"in b&&lc(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),si&&eu(si,b)||(si=b,b=N1(nu,"onSelect"),0<b.length&&(f=new Io("onSelect","select",null,f,x),d.push({event:f,listeners:b}),f.target=go)))}function sn(d,f){var x={};return x[d.toLowerCase()]=f.toLowerCase(),x["Webkit"+d]="webkit"+f,x["Moz"+d]="moz"+f,x}var qn={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Ma={},cc={};Us&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Cl(d){if(Ma[d])return Ma[d];if(!qn[d])return d;var f=qn[d],x;for(x in f)if(f.hasOwnProperty(x)&&x in cc)return Ma[d]=f[x];return d}var Ld=Cl("animationend"),Of=Cl("animationiteration"),Rg=Cl("animationstart"),qv=Cl("transitionrun"),Gv=Cl("transitionstart"),Wv=Cl("transitioncancel"),Ug=Cl("transitionend"),Qg=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function Mo(d,f){Qg.set(d,f),Tn(f,[d])}var Df=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},xo=[],Rd=0,pm=0;function Pf(){for(var d=Rd,f=pm=Rd=0;f<d;){var x=xo[f];xo[f++]=null;var b=xo[f];xo[f++]=null;var j=xo[f];xo[f++]=null;var F=xo[f];if(xo[f++]=null,b!==null&&j!==null){var W=b.pending;W===null?j.next=j:(j.next=W.next,W.next=j),b.pending=j}F!==0&&Lf(x,j,F)}}function If(d,f,x,b){xo[Rd++]=d,xo[Rd++]=f,xo[Rd++]=x,xo[Rd++]=b,pm|=b,d.lanes|=b,d=d.alternate,d!==null&&(d.lanes|=b)}function gm(d,f,x,b){return If(d,f,x,b),ii(d)}function au(d,f){return If(d,null,null,f),ii(d)}function Lf(d,f,x){d.lanes|=x;var b=d.alternate;b!==null&&(b.lanes|=x);for(var j=!1,F=d.return;F!==null;)F.childLanes|=x,b=F.alternate,b!==null&&(b.childLanes|=x),F.tag===22&&(d=F.stateNode,d===null||d._visibility&1||(j=!0)),d=F,F=F.return;return d.tag===3?(F=d.stateNode,j&&f!==null&&(j=31-Br(x),d=F.hiddenUpdates,b=d[j],b===null?d[j]=[f]:b.push(f),f.lane=x|536870912),F):null}function ii(d){if(50<cx)throw cx=0,AN=null,Error(n(185));for(var f=d.return;f!==null;)d=f,f=d.return;return d.tag===3?d.stateNode:null}var zs={};function xm(d,f,x,b){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(d,f,x,b){return new xm(d,f,x,b)}function ym(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ro(d,f){var x=d.alternate;return x===null?(x=oi(d.tag,f,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=f,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,f=d.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function Mf(d,f){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=f,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,f=x.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),d}function rh(d,f,x,b,j,F){var W=0;if(b=d,typeof d=="function")ym(d)&&(W=1);else if(typeof d=="string")W=oY(d,x,V.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case k:return d=oi(31,x,f,j),d.elementType=k,d.lanes=F,d;case g:return Qu(x.children,j,F,f);case v:W=8,j|=24;break;case w:return d=oi(12,x,f,j|2),d.elementType=w,d.lanes=F,d;case _:return d=oi(13,x,f,j),d.elementType=_,d.lanes=F,d;case L:return d=oi(19,x,f,j),d.elementType=L,d.lanes=F,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case C:W=10;break e;case S:W=9;break e;case E:W=11;break e;case D:W=14;break e;case P:W=16,b=null;break e}W=29,x=Error(n(130,d===null?"null":typeof d,"")),b=null}return f=oi(W,x,f,j),f.elementType=d,f.type=b,f.lanes=F,f}function Qu(d,f,x,b){return d=oi(7,d,b,f),d.lanes=x,d}function Rf(d,f,x){return d=oi(6,d,null,f),d.lanes=x,d}function vm(d){var f=oi(18,null,null,0);return f.stateNode=d,f}function nh(d,f,x){return f=oi(4,d.children!==null?d.children:[],d.key,f),f.lanes=x,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}var bm=new WeakMap;function Uo(d,f){if(typeof d=="object"&&d!==null){var x=bm.get(d);return x!==void 0?x:(f={value:d,source:f,stack:Bt(f)},bm.set(d,f),f)}return{value:d,source:f,stack:Bt(f)}}var ah=[],Ud=0,wm=null,Uf=0,Qo=[],Ho=0,Hu=null,zo=1,Ko="";function yo(d,f){ah[Ud++]=Uf,ah[Ud++]=wm,wm=d,Uf=f}function Yv(d,f,x){Qo[Ho++]=zo,Qo[Ho++]=Ko,Qo[Ho++]=Hu,Hu=d;var b=zo;d=Ko;var j=32-Br(b)-1;b&=~(1<<j),x+=1;var F=32-Br(f)+j;if(30<F){var W=j-j%5;F=(b&(1<<W)-1).toString(32),b>>=W,j-=W,zo=1<<32-Br(f)+j|x<<j|b,Ko=F+d}else zo=1<<F|x<<j|b,Ko=d}function Hg(d){d.return!==null&&(yo(d,1),Yv(d,1,0))}function Cm(d){for(;d===wm;)wm=ah[--Ud],ah[Ud]=null,Uf=ah[--Ud],ah[Ud]=null;for(;d===Hu;)Hu=Qo[--Ho],Qo[Ho]=null,Ko=Qo[--Ho],Qo[Ho]=null,zo=Qo[--Ho],Qo[Ho]=null}function Xv(d,f){Qo[Ho++]=zo,Qo[Ho++]=Ko,Qo[Ho++]=Hu,zo=f.id,Ko=f.overflow,Hu=d}var Ks=null,na=null,Xr=!1,Ti=null,Ca=!1,Nl=Error(n(519));function zu(d){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sh(Uo(f,d)),Nl}function zg(d){var f=d.stateNode,x=d.type,b=d.memoizedProps;switch(f[fe]=d,f[xe]=b,x){case"dialog":Zr("cancel",f),Zr("close",f);break;case"iframe":case"object":case"embed":Zr("load",f);break;case"video":case"audio":for(x=0;x<dx.length;x++)Zr(dx[x],f);break;case"source":Zr("error",f);break;case"img":case"image":case"link":Zr("error",f),Zr("load",f);break;case"details":Zr("toggle",f);break;case"input":Zr("invalid",f),im(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Zr("invalid",f);break;case"textarea":Zr("invalid",f),Nf(f,b.value,b.defaultValue,b.children)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||f.textContent===""+x||b.suppressHydrationWarning===!0||uO(f.textContent,x)?(b.popover!=null&&(Zr("beforetoggle",f),Zr("toggle",f)),b.onScroll!=null&&Zr("scroll",f),b.onScrollEnd!=null&&Zr("scrollend",f),b.onClick!=null&&(f.onclick=xl),f=!0):f=!1,f||zu(d,!0)}function su(d){for(Ks=d.return;Ks;)switch(Ks.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Ks=Ks.return}}function $s(d){if(d!==Ks)return!1;if(!Xr)return su(d),Xr=!0,!1;var f=d.tag,x;if((x=f!==3&&f!==27)&&((x=f===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||EN(d.type,d.memoizedProps)),x=!x),x&&na&&zu(d),su(d),f===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));na=yO(d)}else if(f===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));na=yO(d)}else f===27?(f=na,yh(d.type)?(d=FN,FN=null,na=d):na=f):na=Ks?hc(d.stateNode.nextSibling):null;return!0}function Qd(){na=Ks=null,Xr=!1}function Kg(){var d=Ti;return d!==null&&(Yo===null?Yo=d:Yo.push.apply(Yo,d),Ti=null),d}function sh(d){Ti===null?Ti=[d]:Ti.push(d)}var Nm=Z(null),Ku=null,uc=null;function $u(d,f,x){H(Nm,f._currentValue),f._currentValue=x}function $o(d){d._currentValue=Nm.current,O(Nm)}function ih(d,f,x){for(;d!==null;){var b=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),d===x)break;d=d.return}}function Hd(d,f,x,b){var j=d.child;for(j!==null&&(j.return=d);j!==null;){var F=j.dependencies;if(F!==null){var W=j.child;F=F.firstContext;e:for(;F!==null;){var ce=F;F=j;for(var _e=0;_e<f.length;_e++)if(ce.context===f[_e]){F.lanes|=x,ce=F.alternate,ce!==null&&(ce.lanes|=x),ih(F.return,x,d),b||(W=null);break e}F=ce.next}}else if(j.tag===18){if(W=j.return,W===null)throw Error(n(341));W.lanes|=x,F=W.alternate,F!==null&&(F.lanes|=x),ih(W,x,d),W=null}else W=j.child;if(W!==null)W.return=j;else for(W=j;W!==null;){if(W===d){W=null;break}if(j=W.sibling,j!==null){j.return=W.return,W=j;break}W=W.return}j=W}}function Vu(d,f,x,b){d=null;for(var j=f,F=!1;j!==null;){if(!F){if((j.flags&524288)!==0)F=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var W=j.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var ce=j.type;Hs(j.pendingProps.value,W.value)||(d!==null?d.push(ce):d=[ce])}}else if(j===ue.current){if(W=j.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(d!==null?d.push(px):d=[px])}j=j.return}d!==null&&Hd(f,d,x,b),f.flags|=262144}function Sm(d){for(d=d.firstContext;d!==null;){if(!Hs(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function qu(d){Ku=d,uc=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Vs(d){return Jv(Ku,d)}function Bm(d,f){return Ku===null&&qu(d),Jv(d,f)}function Jv(d,f){var x=f._currentValue;if(f={context:f,memoizedValue:x,next:null},uc===null){if(d===null)throw Error(n(308));uc=f,d.dependencies={lanes:0,firstContext:f},d.flags|=524288}else uc=uc.next=f;return x}var k5=typeof AbortController<"u"?AbortController:function(){var d=[],f=this.signal={aborted:!1,addEventListener:function(x,b){d.push(b)}};this.abort=function(){f.aborted=!0,d.forEach(function(x){return x()})}},F5=r.unstable_scheduleCallback,O5=r.unstable_NormalPriority,Ra={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new k5,data:new Map,refCount:0}}function Qf(d){d.refCount--,d.refCount===0&&F5(O5,function(){d.controller.abort()})}var Hf=null,Em=0,N=0,T=null;function U(d,f){if(Hf===null){var x=Hf=[];Em=0,N=xN(),T={status:"pending",value:void 0,then:function(b){x.push(b)}}}return Em++,f.then(q,q),f}function q(){if(--Em===0&&Hf!==null){T!==null&&(T.status="fulfilled");var d=Hf;Hf=null,N=0,T=null;for(var f=0;f<d.length;f++)(0,d[f])()}}function ne(d,f){var x=[],b={status:"pending",value:null,reason:null,then:function(j){x.push(j)}};return d.then(function(){b.status="fulfilled",b.value=f;for(var j=0;j<x.length;j++)(0,x[j])(f)},function(j){for(b.status="rejected",b.reason=j,j=0;j<x.length;j++)(0,x[j])(void 0)}),b}var oe=Y.S;Y.S=function(d,f){DF=yt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&U(d,f),oe!==null&&oe(d,f)};var le=Z(null);function de(){var d=le.current;return d!==null?d:sa.pooledCache}function me(d,f){f===null?H(le,le.current):H(le,f.pool)}function be(){var d=de();return d===null?null:{parent:Ra._currentValue,pool:d}}var Fe=Error(n(460)),Ve=Error(n(474)),ve=Error(n(542)),Pe={then:function(){}};function Qe(d){return d=d.status,d==="fulfilled"||d==="rejected"}function ct(d,f,x){switch(x=d[x],x===void 0?d.push(f):x!==f&&(f.then(xl,xl),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,jt(d),d;default:if(typeof f.status=="string")f.then(xl,xl);else{if(d=sa,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=f,d.status="pending",d.then(function(b){if(f.status==="pending"){var j=f;j.status="fulfilled",j.value=b}},function(b){if(f.status==="pending"){var j=f;j.status="rejected",j.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,jt(d),d}throw ot=f,Fe}}function ze(d){try{var f=d._init;return f(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(ot=x,Fe):x}}var ot=null;function ht(){if(ot===null)throw Error(n(459));var d=ot;return ot=null,d}function jt(d){if(d===Fe||d===ve)throw Error(n(483))}var xt=null,ar=0;function $t(d){var f=ar;return ar+=1,xt===null&&(xt=[]),ct(xt,d,f)}function Tr(d,f){f=f.props.ref,d.ref=f!==void 0?f:null}function Wt(d,f){throw f.$$typeof===p?Error(n(525)):(d=Object.prototype.toString.call(f),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d)))}function Wr(d){function f(Re,De){if(d){var Ge=Re.deletions;Ge===null?(Re.deletions=[De],Re.flags|=16):Ge.push(De)}}function x(Re,De){if(!d)return null;for(;De!==null;)f(Re,De),De=De.sibling;return null}function b(Re){for(var De=new Map;Re!==null;)Re.key!==null?De.set(Re.key,Re):De.set(Re.index,Re),Re=Re.sibling;return De}function j(Re,De){return Re=Ro(Re,De),Re.index=0,Re.sibling=null,Re}function F(Re,De,Ge){return Re.index=Ge,d?(Ge=Re.alternate,Ge!==null?(Ge=Ge.index,Ge<De?(Re.flags|=67108866,De):Ge):(Re.flags|=67108866,De)):(Re.flags|=1048576,De)}function W(Re){return d&&Re.alternate===null&&(Re.flags|=67108866),Re}function ce(Re,De,Ge,pt){return De===null||De.tag!==6?(De=Rf(Ge,Re.mode,pt),De.return=Re,De):(De=j(De,Ge),De.return=Re,De)}function _e(Re,De,Ge,pt){var vr=Ge.type;return vr===g?dt(Re,De,Ge.props.children,pt,Ge.key):De!==null&&(De.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===P&&ze(vr)===De.type)?(De=j(De,Ge.props),Tr(De,Ge),De.return=Re,De):(De=rh(Ge.type,Ge.key,Ge.props,null,Re.mode,pt),Tr(De,Ge),De.return=Re,De)}function We(Re,De,Ge,pt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ge.containerInfo||De.stateNode.implementation!==Ge.implementation?(De=nh(Ge,Re.mode,pt),De.return=Re,De):(De=j(De,Ge.children||[]),De.return=Re,De)}function dt(Re,De,Ge,pt,vr){return De===null||De.tag!==7?(De=Qu(Ge,Re.mode,pt,vr),De.return=Re,De):(De=j(De,Ge),De.return=Re,De)}function gt(Re,De,Ge){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Rf(""+De,Re.mode,Ge),De.return=Re,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case m:return Ge=rh(De.type,De.key,De.props,null,Re.mode,Ge),Tr(Ge,De),Ge.return=Re,Ge;case y:return De=nh(De,Re.mode,Ge),De.return=Re,De;case P:return De=ze(De),gt(Re,De,Ge)}if(ee(De)||Q(De))return De=Qu(De,Re.mode,Ge,null),De.return=Re,De;if(typeof De.then=="function")return gt(Re,$t(De),Ge);if(De.$$typeof===C)return gt(Re,Bm(Re,De),Ge);Wt(Re,De)}return null}function Je(Re,De,Ge,pt){var vr=De!==null?De.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return vr!==null?null:ce(Re,De,""+Ge,pt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:return Ge.key===vr?_e(Re,De,Ge,pt):null;case y:return Ge.key===vr?We(Re,De,Ge,pt):null;case P:return Ge=ze(Ge),Je(Re,De,Ge,pt)}if(ee(Ge)||Q(Ge))return vr!==null?null:dt(Re,De,Ge,pt,null);if(typeof Ge.then=="function")return Je(Re,De,$t(Ge),pt);if(Ge.$$typeof===C)return Je(Re,De,Bm(Re,Ge),pt);Wt(Re,Ge)}return null}function tt(Re,De,Ge,pt,vr){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Re=Re.get(Ge)||null,ce(De,Re,""+pt,vr);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case m:return Re=Re.get(pt.key===null?Ge:pt.key)||null,_e(De,Re,pt,vr);case y:return Re=Re.get(pt.key===null?Ge:pt.key)||null,We(De,Re,pt,vr);case P:return pt=ze(pt),tt(Re,De,Ge,pt,vr)}if(ee(pt)||Q(pt))return Re=Re.get(Ge)||null,dt(De,Re,pt,vr,null);if(typeof pt.then=="function")return tt(Re,De,Ge,$t(pt),vr);if(pt.$$typeof===C)return tt(Re,De,Ge,Bm(De,pt),vr);Wt(De,pt)}return null}function tr(Re,De,Ge,pt){for(var vr=null,gn=null,dr=De,Hr=De=0,tn=null;dr!==null&&Hr<Ge.length;Hr++){dr.index>Hr?(tn=dr,dr=null):tn=dr.sibling;var xn=Je(Re,dr,Ge[Hr],pt);if(xn===null){dr===null&&(dr=tn);break}d&&dr&&xn.alternate===null&&f(Re,dr),De=F(xn,De,Hr),gn===null?vr=xn:gn.sibling=xn,gn=xn,dr=tn}if(Hr===Ge.length)return x(Re,dr),Xr&&yo(Re,Hr),vr;if(dr===null){for(;Hr<Ge.length;Hr++)dr=gt(Re,Ge[Hr],pt),dr!==null&&(De=F(dr,De,Hr),gn===null?vr=dr:gn.sibling=dr,gn=dr);return Xr&&yo(Re,Hr),vr}for(dr=b(dr);Hr<Ge.length;Hr++)tn=tt(dr,Re,Hr,Ge[Hr],pt),tn!==null&&(d&&tn.alternate!==null&&dr.delete(tn.key===null?Hr:tn.key),De=F(tn,De,Hr),gn===null?vr=tn:gn.sibling=tn,gn=tn);return d&&dr.forEach(function(Nh){return f(Re,Nh)}),Xr&&yo(Re,Hr),vr}function Er(Re,De,Ge,pt){if(Ge==null)throw Error(n(151));for(var vr=null,gn=null,dr=De,Hr=De=0,tn=null,xn=Ge.next();dr!==null&&!xn.done;Hr++,xn=Ge.next()){dr.index>Hr?(tn=dr,dr=null):tn=dr.sibling;var Nh=Je(Re,dr,xn.value,pt);if(Nh===null){dr===null&&(dr=tn);break}d&&dr&&Nh.alternate===null&&f(Re,dr),De=F(Nh,De,Hr),gn===null?vr=Nh:gn.sibling=Nh,gn=Nh,dr=tn}if(xn.done)return x(Re,dr),Xr&&yo(Re,Hr),vr;if(dr===null){for(;!xn.done;Hr++,xn=Ge.next())xn=gt(Re,xn.value,pt),xn!==null&&(De=F(xn,De,Hr),gn===null?vr=xn:gn.sibling=xn,gn=xn);return Xr&&yo(Re,Hr),vr}for(dr=b(dr);!xn.done;Hr++,xn=Ge.next())xn=tt(dr,Re,Hr,xn.value,pt),xn!==null&&(d&&xn.alternate!==null&&dr.delete(xn.key===null?Hr:xn.key),De=F(xn,De,Hr),gn===null?vr=xn:gn.sibling=xn,gn=xn);return d&&dr.forEach(function(xY){return f(Re,xY)}),Xr&&yo(Re,Hr),vr}function Xn(Re,De,Ge,pt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===g&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:e:{for(var vr=Ge.key;De!==null;){if(De.key===vr){if(vr=Ge.type,vr===g){if(De.tag===7){x(Re,De.sibling),pt=j(De,Ge.props.children),pt.return=Re,Re=pt;break e}}else if(De.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===P&&ze(vr)===De.type){x(Re,De.sibling),pt=j(De,Ge.props),Tr(pt,Ge),pt.return=Re,Re=pt;break e}x(Re,De);break}else f(Re,De);De=De.sibling}Ge.type===g?(pt=Qu(Ge.props.children,Re.mode,pt,Ge.key),pt.return=Re,Re=pt):(pt=rh(Ge.type,Ge.key,Ge.props,null,Re.mode,pt),Tr(pt,Ge),pt.return=Re,Re=pt)}return W(Re);case y:e:{for(vr=Ge.key;De!==null;){if(De.key===vr)if(De.tag===4&&De.stateNode.containerInfo===Ge.containerInfo&&De.stateNode.implementation===Ge.implementation){x(Re,De.sibling),pt=j(De,Ge.children||[]),pt.return=Re,Re=pt;break e}else{x(Re,De);break}else f(Re,De);De=De.sibling}pt=nh(Ge,Re.mode,pt),pt.return=Re,Re=pt}return W(Re);case P:return Ge=ze(Ge),Xn(Re,De,Ge,pt)}if(ee(Ge))return tr(Re,De,Ge,pt);if(Q(Ge)){if(vr=Q(Ge),typeof vr!="function")throw Error(n(150));return Ge=vr.call(Ge),Er(Re,De,Ge,pt)}if(typeof Ge.then=="function")return Xn(Re,De,$t(Ge),pt);if(Ge.$$typeof===C)return Xn(Re,De,Bm(Re,Ge),pt);Wt(Re,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,De!==null&&De.tag===6?(x(Re,De.sibling),pt=j(De,Ge),pt.return=Re,Re=pt):(x(Re,De),pt=Rf(Ge,Re.mode,pt),pt.return=Re,Re=pt),W(Re)):x(Re,De)}return function(Re,De,Ge,pt){try{ar=0;var vr=Xn(Re,De,Ge,pt);return xt=null,vr}catch(dr){if(dr===Fe||dr===ve)throw dr;var gn=oi(29,dr,null,Re.mode);return gn.lanes=pt,gn.return=Re,gn}}}var aa=Wr(!0),Dr=Wr(!1),Vt=!1;function Lt(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fa(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Sr(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Ur(d,f,x){var b=d.updateQueue;if(b===null)return null;if(b=b.shared,(Bn&2)!==0){var j=b.pending;return j===null?f.next=f:(f.next=j.next,j.next=f),b.pending=f,f=ii(d),Lf(d,null,x),f}return If(d,b,f,x),ii(d)}function Nn(d,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194048)!==0)){var b=f.lanes;b&=d.pendingLanes,x|=b,f.lanes=x,ca(d,x)}}function ds(d,f){var x=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var j=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var W={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?j=F=W:F=F.next=W,x=x.next}while(x!==null);F===null?j=F=f:F=F.next=f}else j=F=f;x={baseState:b.baseState,firstBaseUpdate:j,lastBaseUpdate:F,shared:b.shared,callbacks:b.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=f:d.next=f,x.lastBaseUpdate=f}var qs=!1;function Gn(){if(qs){var d=T;if(d!==null)throw d}}function Ja(d,f,x,b){qs=!1;var j=d.updateQueue;Vt=!1;var F=j.firstBaseUpdate,W=j.lastBaseUpdate,ce=j.shared.pending;if(ce!==null){j.shared.pending=null;var _e=ce,We=_e.next;_e.next=null,W===null?F=We:W.next=We,W=_e;var dt=d.alternate;dt!==null&&(dt=dt.updateQueue,ce=dt.lastBaseUpdate,ce!==W&&(ce===null?dt.firstBaseUpdate=We:ce.next=We,dt.lastBaseUpdate=_e))}if(F!==null){var gt=j.baseState;W=0,dt=We=_e=null,ce=F;do{var Je=ce.lane&-536870913,tt=Je!==ce.lane;if(tt?(en&Je)===Je:(b&Je)===Je){Je!==0&&Je===N&&(qs=!0),dt!==null&&(dt=dt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var tr=d,Er=ce;Je=f;var Xn=x;switch(Er.tag){case 1:if(tr=Er.payload,typeof tr=="function"){gt=tr.call(Xn,gt,Je);break e}gt=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=Er.payload,Je=typeof tr=="function"?tr.call(Xn,gt,Je):tr,Je==null)break e;gt=h({},gt,Je);break e;case 2:Vt=!0}}Je=ce.callback,Je!==null&&(d.flags|=64,tt&&(d.flags|=8192),tt=j.callbacks,tt===null?j.callbacks=[Je]:tt.push(Je))}else tt={lane:Je,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},dt===null?(We=dt=tt,_e=gt):dt=dt.next=tt,W|=Je;if(ce=ce.next,ce===null){if(ce=j.shared.pending,ce===null)break;tt=ce,ce=tt.next,tt.next=null,j.lastBaseUpdate=tt,j.shared.pending=null}}while(!0);dt===null&&(_e=gt),j.baseState=_e,j.firstBaseUpdate=We,j.lastBaseUpdate=dt,F===null&&(j.shared.lanes=0),fh|=W,d.lanes=W,d.memoizedState=gt}}function li(d,f){if(typeof d!="function")throw Error(n(191,d));d.call(f)}function Za(d,f){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)li(x[d],f)}var Kr=Z(null),cn=Z(0);function ma(d,f){d=Jd,H(cn,d),H(Kr,f),Jd=d|f.baseLanes}function mn(){H(cn,Jd),H(Kr,Kr.current)}function As(){Jd=cn.current,O(Kr),O(cn)}var pa=Z(null),un=null;function Ua(d){var f=d.alternate;H(on,on.current&1),H(pa,d),un===null&&(f===null||Kr.current!==null||f.memoizedState!==null)&&(un=d)}function Sn(d){H(on,on.current),H(pa,d),un===null&&(un=d)}function es(d){d.tag===22?(H(on,on.current),H(pa,d),un===null&&(un=d)):ts()}function ts(){H(on,on.current),H(pa,pa.current)}function Dn(d){O(pa),un===d&&(un=null),O(on)}var on=Z(0);function ci(d){for(var f=d;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||TN(x)||kN(x)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Na=0,gr=null,yr=null,dn=null,Wi=!1,Vo=!1,ki=!1,rs=0,Gu=0,Wu=null,jm=0;function Wn(){throw Error(n(321))}function $g(d,f){if(f===null)return!1;for(var x=0;x<f.length&&x<d.length;x++)if(!Hs(d[x],f[x]))return!1;return!0}function Vg(d,f,x,b,j,F){return Na=F,gr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Y.H=d===null||d.memoizedState===null?$k:Q5,ki=!1,F=x(b,j),ki=!1,Vo&&(F=iu(f,x,b,j)),_m(d),F}function _m(d){Y.H=ex;var f=yr!==null&&yr.next!==null;if(Na=0,dn=yr=gr=null,Wi=!1,Gu=0,Wu=null,f)throw Error(n(300));d===null||_s||(d=d.dependencies,d!==null&&Sm(d)&&(_s=!0))}function iu(d,f,x,b){gr=d;var j=0;do{if(Vo&&(Wu=null),Gu=0,Vo=!1,25<=j)throw Error(n(301));if(j+=1,dn=yr=null,d.updateQueue!=null){var F=d.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Y.H=Vk,F=f(x,b)}while(Vo);return F}function D5(){var d=Y.H,f=d.useState()[0];return f=typeof f.then=="function"?Yu(f):f,d=d.useState()[0],(yr!==null?yr.memoizedState:null)!==d&&(gr.flags|=1024),f}function qg(){var d=rs!==0;return rs=0,d}function Gg(d,f,x){f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~x}function Tm(d){if(Wi){for(d=d.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Wi=!1}Na=0,dn=yr=gr=null,Vo=!1,Gu=rs=0,Wu=null}function js(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?gr.memoizedState=dn=d:dn=dn.next=d,dn}function Sa(){if(yr===null){var d=gr.alternate;d=d!==null?d.memoizedState:null}else d=yr.next;var f=dn===null?gr.memoizedState:dn.next;if(f!==null)dn=f,yr=d;else{if(d===null)throw gr.alternate===null?Error(n(467)):Error(n(310));yr=d,d={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},dn===null?gr.memoizedState=dn=d:dn=dn.next=d}return dn}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yu(d){var f=Gu;return Gu+=1,Wu===null&&(Wu=[]),d=ct(Wu,d,f),f=gr,(dn===null?f.memoizedState:dn.next)===null&&(f=f.alternate,Y.H=f===null||f.memoizedState===null?$k:Q5),d}function lh(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Yu(d);if(d.$$typeof===C)return Vs(d)}throw Error(n(438,String(d)))}function zd(d){var f=null,x=gr.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var b=gr.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(j){return j.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=zf(),gr.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(d),b=0;b<d;b++)x[b]=z;return f.index++,x}function dc(d,f){return typeof f=="function"?f(d):f}function km(d){var f=Sa();return ch(f,yr,d)}function ch(d,f,x){var b=d.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=x;var j=d.baseQueue,F=b.pending;if(F!==null){if(j!==null){var W=j.next;j.next=F.next,F.next=W}f.baseQueue=j=F,b.pending=null}if(F=d.baseState,j===null)d.memoizedState=F;else{f=j.next;var ce=W=null,_e=null,We=f,dt=!1;do{var gt=We.lane&-536870913;if(gt!==We.lane?(en&gt)===gt:(Na&gt)===gt){var Je=We.revertLane;if(Je===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),gt===N&&(dt=!0);else if((Na&Je)===Je){We=We.next,Je===N&&(dt=!0);continue}else gt={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},_e===null?(ce=_e=gt,W=F):_e=_e.next=gt,gr.lanes|=Je,fh|=Je;gt=We.action,ki&&x(F,gt),F=We.hasEagerState?We.eagerState:x(F,gt)}else Je={lane:gt,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},_e===null?(ce=_e=Je,W=F):_e=_e.next=Je,gr.lanes|=gt,fh|=gt;We=We.next}while(We!==null&&We!==f);if(_e===null?W=F:_e.next=ce,!Hs(F,d.memoizedState)&&(_s=!0,dt&&(x=T,x!==null)))throw x;d.memoizedState=F,d.baseState=W,d.baseQueue=_e,b.lastRenderedState=F}return j===null&&(b.lanes=0),[d.memoizedState,b.dispatch]}function Fm(d){var f=Sa(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var b=x.dispatch,j=x.pending,F=f.memoizedState;if(j!==null){x.pending=null;var W=j=j.next;do F=d(F,W.action),W=W.next;while(W!==j);Hs(F,f.memoizedState)||(_s=!0),f.memoizedState=F,f.baseQueue===null&&(f.baseState=F),x.lastRenderedState=F}return[F,b]}function Om(d,f,x){var b=gr,j=Sa(),F=Xr;if(F){if(x===void 0)throw Error(n(407));x=x()}else x=f();var W=!Hs((yr||j).memoizedState,x);if(W&&(j.memoizedState=x,_s=!0),j=j.queue,P5(Yg.bind(null,b,j,d),[d]),j.getSnapshot!==f||W||dn!==null&&dn.memoizedState.tag&1){if(b.flags|=2048,$d(9,{destroy:void 0},Wg.bind(null,b,j,x,f),null),sa===null)throw Error(n(349));F||(Na&127)!==0||ou(b,f,x)}return x}function ou(d,f,x){d.flags|=16384,d={getSnapshot:f,value:x},f=gr.updateQueue,f===null?(f=zf(),gr.updateQueue=f,f.stores=[d]):(x=f.stores,x===null?f.stores=[d]:x.push(d))}function Wg(d,f,x,b){f.value=x,f.getSnapshot=b,Zv(f)&&Xg(d)}function Yg(d,f,x){return x(function(){Zv(f)&&Xg(d)})}function Zv(d){var f=d.getSnapshot;d=d.value;try{var x=f();return!Hs(d,x)}catch{return!0}}function Xg(d){var f=au(d,2);f!==null&&Xo(f,d,2)}function Xu(d){var f=js();if(typeof d=="function"){var x=d;if(d=x(),ki){cr(!0);try{x()}finally{cr(!1)}}}return f.memoizedState=f.baseState=d,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:d},f}function e1(d,f,x,b){return d.baseState=x,ch(d,yr,typeof b=="function"?b:dc)}function t1(d,f,x,b,j){if(s1(d))throw Error(n(485));if(d=f.action,d!==null){var F={payload:j,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){F.listeners.push(W)}};Y.T!==null?x(!0):F.isTransition=!1,b(F),x=f.pending,x===null?(F.next=f.pending=F,r1(f,F)):(F.next=x.next,f.pending=x.next=F)}}function r1(d,f){var x=f.action,b=f.payload,j=d.state;if(f.isTransition){var F=Y.T,W={};Y.T=W;try{var ce=x(j,b),_e=Y.S;_e!==null&&_e(W,ce),Jg(d,f,ce)}catch(We){Kd(d,f,We)}finally{F!==null&&W.types!==null&&(F.types=W.types),Y.T=F}}else try{F=x(j,b),Jg(d,f,F)}catch(We){Kd(d,f,We)}}function Jg(d,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){n1(d,f,b)},function(b){return Kd(d,f,b)}):n1(d,f,x)}function n1(d,f,x){f.status="fulfilled",f.value=x,Dm(f),d.state=x,f=d.pending,f!==null&&(x=f.next,x===f?d.pending=null:(x=x.next,f.next=x,r1(d,x)))}function Kd(d,f,x){var b=d.pending;if(d.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=x,Dm(f),f=f.next;while(f!==b)}d.action=null}function Dm(d){d=d.listeners;for(var f=0;f<d.length;f++)(0,d[f])()}function Kf(d,f){return f}function Ac(d,f){if(Xr){var x=sa.formState;if(x!==null){e:{var b=gr;if(Xr){if(na){t:{for(var j=na,F=Ca;j.nodeType!==8;){if(!F){j=null;break t}if(j=hc(j.nextSibling),j===null){j=null;break t}}F=j.data,j=F==="F!"||F==="F"?j:null}if(j){na=hc(j.nextSibling),b=j.data==="F!";break e}}zu(b)}b=!1}b&&(f=x[0])}}return x=js(),x.memoizedState=x.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:f},x.queue=b,x=Hk.bind(null,gr,b),b.dispatch=x,b=Xu(!1),F=U5.bind(null,gr,!1,b.queue),b=js(),j={state:f,dispatch:null,action:d,pending:null},b.queue=j,x=t1.bind(null,gr,j,F,x),j.dispatch=x,b.memoizedState=d,[f,x,!1]}function lu(d){var f=Sa();return cu(f,yr,d)}function cu(d,f,x){if(f=ch(d,f,Kf)[0],d=km(dc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=Yu(f)}catch(W){throw W===Fe?ve:W}else b=f;f=Sa();var j=f.queue,F=j.dispatch;return x!==f.memoizedState&&(gr.flags|=2048,$d(9,{destroy:void 0},Pm.bind(null,j,x),null)),[b,F,d]}function Pm(d,f){d.action=f}function Im(d){var f=Sa(),x=yr;if(x!==null)return cu(f,x,d);Sa(),f=f.memoizedState,x=Sa();var b=x.queue.dispatch;return x.memoizedState=d,[f,b,!1]}function $d(d,f,x,b){return d={tag:d,create:x,deps:b,inst:f,next:null},f=gr.updateQueue,f===null&&(f=zf(),gr.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=d.next=d:(b=x.next,x.next=d,d.next=b,f.lastEffect=d),d}function a1(){return Sa().memoizedState}function uh(d,f,x,b){var j=js();gr.flags|=d,j.memoizedState=$d(1|f,{destroy:void 0},x,b===void 0?null:b)}function dh(d,f,x,b){var j=Sa();b=b===void 0?null:b;var F=j.memoizedState.inst;yr!==null&&b!==null&&$g(b,yr.memoizedState.deps)?j.memoizedState=$d(f,F,x,b):(gr.flags|=d,j.memoizedState=$d(1|f,F,x,b))}function jk(d,f){uh(8390656,8,d,f)}function P5(d,f){dh(2048,8,d,f)}function AW(d){gr.flags|=4;var f=gr.updateQueue;if(f===null)f=zf(),gr.updateQueue=f,f.events=[d];else{var x=f.events;x===null?f.events=[d]:x.push(d)}}function _k(d){var f=Sa().memoizedState;return AW({ref:f,nextImpl:d}),function(){if((Bn&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function Tk(d,f){return dh(4,2,d,f)}function kk(d,f){return dh(4,4,d,f)}function Fk(d,f){if(typeof f=="function"){d=d();var x=f(d);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function Ok(d,f,x){x=x!=null?x.concat([d]):null,dh(4,4,Fk.bind(null,f,d),x)}function I5(){}function Dk(d,f){var x=Sa();f=f===void 0?null:f;var b=x.memoizedState;return f!==null&&$g(f,b[1])?b[0]:(x.memoizedState=[d,f],d)}function Pk(d,f){var x=Sa();f=f===void 0?null:f;var b=x.memoizedState;if(f!==null&&$g(f,b[1]))return b[0];if(b=d(),ki){cr(!0);try{d()}finally{cr(!1)}}return x.memoizedState=[b,f],b}function L5(d,f,x){return x===void 0||(Na&1073741824)!==0&&(en&261930)===0?d.memoizedState=f:(d.memoizedState=x,d=IF(),gr.lanes|=d,fh|=d,x)}function Ik(d,f,x,b){return Hs(x,f)?x:Kr.current!==null?(d=L5(d,x,b),Hs(d,f)||(_s=!0),d):(Na&42)===0||(Na&1073741824)!==0&&(en&261930)===0?(_s=!0,d.memoizedState=x):(d=IF(),gr.lanes|=d,fh|=d,f)}function Lk(d,f,x,b,j){var F=se.p;se.p=F!==0&&8>F?F:8;var W=Y.T,ce={};Y.T=ce,U5(d,!1,f,x);try{var _e=j(),We=Y.S;if(We!==null&&We(ce,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var dt=ne(_e,b);Zg(d,f,dt,El(d))}else Zg(d,f,b,El(d))}catch(gt){Zg(d,f,{then:function(){},status:"rejected",reason:gt},El())}finally{se.p=F,W!==null&&ce.types!==null&&(W.types=ce.types),Y.T=W}}function hW(){}function M5(d,f,x,b){if(d.tag!==5)throw Error(n(476));var j=Mk(d).queue;Lk(d,j,f,X,x===null?hW:function(){return Rk(d),x(b)})}function Mk(d){var f=d.memoizedState;if(f!==null)return f;f={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:X},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:x},next:null},d.memoizedState=f,d=d.alternate,d!==null&&(d.memoizedState=f),f}function Rk(d){var f=Mk(d);f.next===null&&(f=d.alternate.memoizedState),Zg(d,f.next.queue,{},El())}function R5(){return Vs(px)}function Uk(){return Sa().memoizedState}function Qk(){return Sa().memoizedState}function fW(d){for(var f=d.return;f!==null;){switch(f.tag){case 24:case 3:var x=El();d=Sr(x);var b=Ur(f,d,x);b!==null&&(Xo(b,f,x),Nn(b,f,x)),f={cache:oh()},d.payload=f;return}f=f.return}}function mW(d,f,x){var b=El();x={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},s1(d)?zk(f,x):(x=gm(d,f,x,b),x!==null&&(Xo(x,d,b),Kk(x,f,b)))}function Hk(d,f,x){var b=El();Zg(d,f,x,b)}function Zg(d,f,x,b){var j={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(s1(d))zk(f,j);else{var F=d.alternate;if(d.lanes===0&&(F===null||F.lanes===0)&&(F=f.lastRenderedReducer,F!==null))try{var W=f.lastRenderedState,ce=F(W,x);if(j.hasEagerState=!0,j.eagerState=ce,Hs(ce,W))return If(d,f,j,0),sa===null&&Pf(),!1}catch{}if(x=gm(d,f,j,b),x!==null)return Xo(x,d,b),Kk(x,f,b),!0}return!1}function U5(d,f,x,b){if(b={lane:2,revertLane:xN(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},s1(d)){if(f)throw Error(n(479))}else f=gm(d,x,b,2),f!==null&&Xo(f,d,2)}function s1(d){var f=d.alternate;return d===gr||f!==null&&f===gr}function zk(d,f){Vo=Wi=!0;var x=d.pending;x===null?f.next=f:(f.next=x.next,x.next=f),d.pending=f}function Kk(d,f,x){if((x&4194048)!==0){var b=f.lanes;b&=d.pendingLanes,x|=b,f.lanes=x,ca(d,x)}}var ex={readContext:Vs,use:lh,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn};ex.useEffectEvent=Wn;var $k={readContext:Vs,use:lh,useCallback:function(d,f){return js().memoizedState=[d,f===void 0?null:f],d},useContext:Vs,useEffect:jk,useImperativeHandle:function(d,f,x){x=x!=null?x.concat([d]):null,uh(4194308,4,Fk.bind(null,f,d),x)},useLayoutEffect:function(d,f){return uh(4194308,4,d,f)},useInsertionEffect:function(d,f){uh(4,2,d,f)},useMemo:function(d,f){var x=js();f=f===void 0?null:f;var b=d();if(ki){cr(!0);try{d()}finally{cr(!1)}}return x.memoizedState=[b,f],b},useReducer:function(d,f,x){var b=js();if(x!==void 0){var j=x(f);if(ki){cr(!0);try{x(f)}finally{cr(!1)}}}else j=f;return b.memoizedState=b.baseState=j,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:j},b.queue=d,d=d.dispatch=mW.bind(null,gr,d),[b.memoizedState,d]},useRef:function(d){var f=js();return d={current:d},f.memoizedState=d},useState:function(d){d=Xu(d);var f=d.queue,x=Hk.bind(null,gr,f);return f.dispatch=x,[d.memoizedState,x]},useDebugValue:I5,useDeferredValue:function(d,f){var x=js();return L5(x,d,f)},useTransition:function(){var d=Xu(!1);return d=Lk.bind(null,gr,d.queue,!0,!1),js().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,f,x){var b=gr,j=js();if(Xr){if(x===void 0)throw Error(n(407));x=x()}else{if(x=f(),sa===null)throw Error(n(349));(en&127)!==0||ou(b,f,x)}j.memoizedState=x;var F={value:x,getSnapshot:f};return j.queue=F,jk(Yg.bind(null,b,F,d),[d]),b.flags|=2048,$d(9,{destroy:void 0},Wg.bind(null,b,F,x,f),null),x},useId:function(){var d=js(),f=sa.identifierPrefix;if(Xr){var x=Ko,b=zo;x=(b&~(1<<32-Br(b)-1)).toString(32)+x,f="_"+f+"R_"+x,x=rs++,0<x&&(f+="H"+x.toString(32)),f+="_"}else x=jm++,f="_"+f+"r_"+x.toString(32)+"_";return d.memoizedState=f},useHostTransitionStatus:R5,useFormState:Ac,useActionState:Ac,useOptimistic:function(d){var f=js();f.memoizedState=f.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=U5.bind(null,gr,!0,x),x.dispatch=f,[d,f]},useMemoCache:zd,useCacheRefresh:function(){return js().memoizedState=fW.bind(null,gr)},useEffectEvent:function(d){var f=js(),x={impl:d};return f.memoizedState=x,function(){if((Bn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},Q5={readContext:Vs,use:lh,useCallback:Dk,useContext:Vs,useEffect:P5,useImperativeHandle:Ok,useInsertionEffect:Tk,useLayoutEffect:kk,useMemo:Pk,useReducer:km,useRef:a1,useState:function(){return km(dc)},useDebugValue:I5,useDeferredValue:function(d,f){var x=Sa();return Ik(x,yr.memoizedState,d,f)},useTransition:function(){var d=km(dc)[0],f=Sa().memoizedState;return[typeof d=="boolean"?d:Yu(d),f]},useSyncExternalStore:Om,useId:Uk,useHostTransitionStatus:R5,useFormState:lu,useActionState:lu,useOptimistic:function(d,f){var x=Sa();return e1(x,yr,d,f)},useMemoCache:zd,useCacheRefresh:Qk};Q5.useEffectEvent=_k;var Vk={readContext:Vs,use:lh,useCallback:Dk,useContext:Vs,useEffect:P5,useImperativeHandle:Ok,useInsertionEffect:Tk,useLayoutEffect:kk,useMemo:Pk,useReducer:Fm,useRef:a1,useState:function(){return Fm(dc)},useDebugValue:I5,useDeferredValue:function(d,f){var x=Sa();return yr===null?L5(x,d,f):Ik(x,yr.memoizedState,d,f)},useTransition:function(){var d=Fm(dc)[0],f=Sa().memoizedState;return[typeof d=="boolean"?d:Yu(d),f]},useSyncExternalStore:Om,useId:Uk,useHostTransitionStatus:R5,useFormState:Im,useActionState:Im,useOptimistic:function(d,f){var x=Sa();return yr!==null?e1(x,yr,d,f):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:zd,useCacheRefresh:Qk};Vk.useEffectEvent=_k;function H5(d,f,x,b){f=d.memoizedState,x=x(b,f),x=x==null?f:h({},f,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var z5={enqueueSetState:function(d,f,x){d=d._reactInternals;var b=El(),j=Sr(b);j.payload=f,x!=null&&(j.callback=x),f=Ur(d,j,b),f!==null&&(Xo(f,d,b),Nn(f,d,b))},enqueueReplaceState:function(d,f,x){d=d._reactInternals;var b=El(),j=Sr(b);j.tag=1,j.payload=f,x!=null&&(j.callback=x),f=Ur(d,j,b),f!==null&&(Xo(f,d,b),Nn(f,d,b))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var x=El(),b=Sr(x);b.tag=2,f!=null&&(b.callback=f),f=Ur(d,b,x),f!==null&&(Xo(f,d,x),Nn(f,d,x))}};function qk(d,f,x,b,j,F,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,F,W):f.prototype&&f.prototype.isPureReactComponent?!eu(x,b)||!eu(j,F):!0}function Gk(d,f,x,b){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,b),f.state!==d&&z5.enqueueReplaceState(f,f.state,null)}function $f(d,f){var x=f;if("ref"in f){x={};for(var b in f)b!=="ref"&&(x[b]=f[b])}if(d=d.defaultProps){x===f&&(x=h({},x));for(var j in d)x[j]===void 0&&(x[j]=d[j])}return x}function Wk(d){Df(d)}function Yk(d){console.error(d)}function Xk(d){Df(d)}function i1(d,f){try{var x=d.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function Jk(d,f,x){try{var b=d.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function K5(d,f,x){return x=Sr(x),x.tag=3,x.payload={element:null},x.callback=function(){i1(d,f)},x}function Zk(d){return d=Sr(d),d.tag=3,d}function eF(d,f,x,b){var j=x.type.getDerivedStateFromError;if(typeof j=="function"){var F=b.value;d.payload=function(){return j(F)},d.callback=function(){Jk(f,x,b)}}var W=x.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(d.callback=function(){Jk(f,x,b),typeof j!="function"&&(mh===null?mh=new Set([this]):mh.add(this));var ce=b.stack;this.componentDidCatch(b.value,{componentStack:ce!==null?ce:""})})}function pW(d,f,x,b,j){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=x.alternate,f!==null&&Vu(f,x,j,!0),x=pa.current,x!==null){switch(x.tag){case 31:case 13:return un===null?x1():x.alternate===null&&ns===0&&(ns=3),x.flags&=-257,x.flags|=65536,x.lanes=j,b===Pe?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([b]):f.add(b),mN(d,b,j)),!1;case 22:return x.flags|=65536,b===Pe?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([b]):x.add(b)),mN(d,b,j)),!1}throw Error(n(435,x.tag))}return mN(d,b,j),x1(),!1}if(Xr)return f=pa.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=j,b!==Nl&&(d=Error(n(422),{cause:b}),sh(Uo(d,x)))):(b!==Nl&&(f=Error(n(423),{cause:b}),sh(Uo(f,x))),d=d.current.alternate,d.flags|=65536,j&=-j,d.lanes|=j,b=Uo(b,x),j=K5(d.stateNode,b,j),ds(d,j),ns!==4&&(ns=2)),!1;var F=Error(n(520),{cause:b});if(F=Uo(F,x),lx===null?lx=[F]:lx.push(F),ns!==4&&(ns=2),f===null)return!0;b=Uo(b,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,d=j&-j,x.lanes|=d,d=K5(x.stateNode,b,d),ds(x,d),!1;case 1:if(f=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(mh===null||!mh.has(F))))return x.flags|=65536,j&=-j,x.lanes|=j,j=Zk(j),eF(j,d,x,b),ds(x,j),!1}x=x.return}while(x!==null);return!1}var $5=Error(n(461)),_s=!1;function Fi(d,f,x,b){f.child=d===null?Dr(f,null,x,b):aa(f,d.child,x,b)}function tF(d,f,x,b,j){x=x.render;var F=f.ref;if("ref"in b){var W={};for(var ce in b)ce!=="ref"&&(W[ce]=b[ce])}else W=b;return qu(f),b=Vg(d,f,x,W,F,j),ce=qg(),d!==null&&!_s?(Gg(d,f,j),Vd(d,f,j)):(Xr&&ce&&Hg(f),f.flags|=1,Fi(d,f,b,j),f.child)}function rF(d,f,x,b,j){if(d===null){var F=x.type;return typeof F=="function"&&!ym(F)&&F.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=F,nF(d,f,F,b,j)):(d=rh(x.type,null,b,f,f.mode,j),d.ref=f.ref,d.return=f,f.child=d)}if(F=d.child,!Z5(d,j)){var W=F.memoizedProps;if(x=x.compare,x=x!==null?x:eu,x(W,b)&&d.ref===f.ref)return Vd(d,f,j)}return f.flags|=1,d=Ro(F,b),d.ref=f.ref,d.return=f,f.child=d}function nF(d,f,x,b,j){if(d!==null){var F=d.memoizedProps;if(eu(F,b)&&d.ref===f.ref)if(_s=!1,f.pendingProps=b=F,Z5(d,j))(d.flags&131072)!==0&&(_s=!0);else return f.lanes=d.lanes,Vd(d,f,j)}return V5(d,f,x,b,j)}function aF(d,f,x,b){var j=b.children,F=d!==null?d.memoizedState:null;if(d===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(F=F!==null?F.baseLanes|x:x,d!==null){for(b=f.child=d.child,j=0;b!==null;)j=j|b.lanes|b.childLanes,b=b.sibling;b=j&~F}else b=0,f.child=null;return sF(d,f,F,x,b)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},d!==null&&me(f,F!==null?F.cachePool:null),F!==null?ma(f,F):mn(),es(f);else return b=f.lanes=536870912,sF(d,f,F!==null?F.baseLanes|x:x,x,b)}else F!==null?(me(f,F.cachePool),ma(f,F),ts(),f.memoizedState=null):(d!==null&&me(f,null),mn(),ts());return Fi(d,f,j,x),f.child}function tx(d,f){return d!==null&&d.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function sF(d,f,x,b,j){var F=de();return F=F===null?null:{parent:Ra._currentValue,pool:F},f.memoizedState={baseLanes:x,cachePool:F},d!==null&&me(f,null),mn(),es(f),d!==null&&Vu(d,f,b,!0),f.childLanes=j,null}function o1(d,f){return f=c1({mode:f.mode,children:f.children},d.mode),f.ref=d.ref,d.child=f,f.return=d,f}function iF(d,f,x){return aa(f,d.child,null,x),d=o1(f,f.pendingProps),d.flags|=2,Dn(f),f.memoizedState=null,d}function gW(d,f,x){var b=f.pendingProps,j=(f.flags&128)!==0;if(f.flags&=-129,d===null){if(Xr){if(b.mode==="hidden")return d=o1(f,b),f.lanes=536870912,tx(null,d);if(Sn(f),(d=na)?(d=xO(d,Ca),d=d!==null&&d.data==="&"?d:null,d!==null&&(f.memoizedState={dehydrated:d,treeContext:Hu!==null?{id:zo,overflow:Ko}:null,retryLane:536870912,hydrationErrors:null},x=vm(d),x.return=f,f.child=x,Ks=f,na=null)):d=null,d===null)throw zu(f);return f.lanes=536870912,null}return o1(f,b)}var F=d.memoizedState;if(F!==null){var W=F.dehydrated;if(Sn(f),j)if(f.flags&256)f.flags&=-257,f=iF(d,f,x);else if(f.memoizedState!==null)f.child=d.child,f.flags|=128,f=null;else throw Error(n(558));else if(_s||Vu(d,f,x,!1),j=(x&d.childLanes)!==0,_s||j){if(b=sa,b!==null&&(W=Ss(b,x),W!==0&&W!==F.retryLane))throw F.retryLane=W,au(d,W),Xo(b,d,W),$5;x1(),f=iF(d,f,x)}else d=F.treeContext,na=hc(W.nextSibling),Ks=f,Xr=!0,Ti=null,Ca=!1,d!==null&&Xv(f,d),f=o1(f,b),f.flags|=4096;return f}return d=Ro(d.child,{mode:b.mode,children:b.children}),d.ref=f.ref,f.child=d,d.return=f,d}function l1(d,f){var x=f.ref;if(x===null)d!==null&&d.ref!==null&&(f.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(d===null||d.ref!==x)&&(f.flags|=4194816)}}function V5(d,f,x,b,j){return qu(f),x=Vg(d,f,x,b,void 0,j),b=qg(),d!==null&&!_s?(Gg(d,f,j),Vd(d,f,j)):(Xr&&b&&Hg(f),f.flags|=1,Fi(d,f,x,j),f.child)}function oF(d,f,x,b,j,F){return qu(f),f.updateQueue=null,x=iu(f,b,x,j),_m(d),b=qg(),d!==null&&!_s?(Gg(d,f,F),Vd(d,f,F)):(Xr&&b&&Hg(f),f.flags|=1,Fi(d,f,x,F),f.child)}function lF(d,f,x,b,j){if(qu(f),f.stateNode===null){var F=zs,W=x.contextType;typeof W=="object"&&W!==null&&(F=Vs(W)),F=new x(b,F),f.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=z5,f.stateNode=F,F._reactInternals=f,F=f.stateNode,F.props=b,F.state=f.memoizedState,F.refs={},Lt(f),W=x.contextType,F.context=typeof W=="object"&&W!==null?Vs(W):zs,F.state=f.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(H5(f,x,W,b),F.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(W=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),W!==F.state&&z5.enqueueReplaceState(F,F.state,null),Ja(f,b,F,j),Gn(),F.state=f.memoizedState),typeof F.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(d===null){F=f.stateNode;var ce=f.memoizedProps,_e=$f(x,ce);F.props=_e;var We=F.context,dt=x.contextType;W=zs,typeof dt=="object"&&dt!==null&&(W=Vs(dt));var gt=x.getDerivedStateFromProps;dt=typeof gt=="function"||typeof F.getSnapshotBeforeUpdate=="function",ce=f.pendingProps!==ce,dt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ce||We!==W)&&Gk(f,F,b,W),Vt=!1;var Je=f.memoizedState;F.state=Je,Ja(f,b,F,j),Gn(),We=f.memoizedState,ce||Je!==We||Vt?(typeof gt=="function"&&(H5(f,x,gt,b),We=f.memoizedState),(_e=Vt||qk(f,x,_e,b,Je,We,W))?(dt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(f.flags|=4194308)):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=We),F.props=b,F.state=We,F.context=W,b=_e):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{F=f.stateNode,fa(d,f),W=f.memoizedProps,dt=$f(x,W),F.props=dt,gt=f.pendingProps,Je=F.context,We=x.contextType,_e=zs,typeof We=="object"&&We!==null&&(_e=Vs(We)),ce=x.getDerivedStateFromProps,(We=typeof ce=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(W!==gt||Je!==_e)&&Gk(f,F,b,_e),Vt=!1,Je=f.memoizedState,F.state=Je,Ja(f,b,F,j),Gn();var tt=f.memoizedState;W!==gt||Je!==tt||Vt||d!==null&&d.dependencies!==null&&Sm(d.dependencies)?(typeof ce=="function"&&(H5(f,x,ce,b),tt=f.memoizedState),(dt=Vt||qk(f,x,dt,b,Je,tt,_e)||d!==null&&d.dependencies!==null&&Sm(d.dependencies))?(We||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(b,tt,_e),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(b,tt,_e)),typeof F.componentDidUpdate=="function"&&(f.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof F.componentDidUpdate!="function"||W===d.memoizedProps&&Je===d.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&Je===d.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=tt),F.props=b,F.state=tt,F.context=_e,b=dt):(typeof F.componentDidUpdate!="function"||W===d.memoizedProps&&Je===d.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&Je===d.memoizedState||(f.flags|=1024),b=!1)}return F=b,l1(d,f),b=(f.flags&128)!==0,F||b?(F=f.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:F.render(),f.flags|=1,d!==null&&b?(f.child=aa(f,d.child,null,j),f.child=aa(f,null,x,j)):Fi(d,f,x,j),f.memoizedState=F.state,d=f.child):d=Vd(d,f,j),d}function cF(d,f,x,b){return Qd(),f.flags|=256,Fi(d,f,x,b),f.child}var q5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G5(d){return{baseLanes:d,cachePool:be()}}function W5(d,f,x){return d=d!==null?d.childLanes&~x:0,f&&(d|=Bl),d}function uF(d,f,x){var b=f.pendingProps,j=!1,F=(f.flags&128)!==0,W;if((W=F)||(W=d!==null&&d.memoizedState===null?!1:(on.current&2)!==0),W&&(j=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,d===null){if(Xr){if(j?Ua(f):ts(),(d=na)?(d=xO(d,Ca),d=d!==null&&d.data!=="&"?d:null,d!==null&&(f.memoizedState={dehydrated:d,treeContext:Hu!==null?{id:zo,overflow:Ko}:null,retryLane:536870912,hydrationErrors:null},x=vm(d),x.return=f,f.child=x,Ks=f,na=null)):d=null,d===null)throw zu(f);return kN(d)?f.lanes=32:f.lanes=536870912,null}var ce=b.children;return b=b.fallback,j?(ts(),j=f.mode,ce=c1({mode:"hidden",children:ce},j),b=Qu(b,j,x,null),ce.return=f,b.return=f,ce.sibling=b,f.child=ce,b=f.child,b.memoizedState=G5(x),b.childLanes=W5(d,W,x),f.memoizedState=q5,tx(null,b)):(Ua(f),Y5(f,ce))}var _e=d.memoizedState;if(_e!==null&&(ce=_e.dehydrated,ce!==null)){if(F)f.flags&256?(Ua(f),f.flags&=-257,f=X5(d,f,x)):f.memoizedState!==null?(ts(),f.child=d.child,f.flags|=128,f=null):(ts(),ce=b.fallback,j=f.mode,b=c1({mode:"visible",children:b.children},j),ce=Qu(ce,j,x,null),ce.flags|=2,b.return=f,ce.return=f,b.sibling=ce,f.child=b,aa(f,d.child,null,x),b=f.child,b.memoizedState=G5(x),b.childLanes=W5(d,W,x),f.memoizedState=q5,f=tx(null,b));else if(Ua(f),kN(ce)){if(W=ce.nextSibling&&ce.nextSibling.dataset,W)var We=W.dgst;W=We,b=Error(n(419)),b.stack="",b.digest=W,sh({value:b,source:null,stack:null}),f=X5(d,f,x)}else if(_s||Vu(d,f,x,!1),W=(x&d.childLanes)!==0,_s||W){if(W=sa,W!==null&&(b=Ss(W,x),b!==0&&b!==_e.retryLane))throw _e.retryLane=b,au(d,b),Xo(W,d,b),$5;TN(ce)||x1(),f=X5(d,f,x)}else TN(ce)?(f.flags|=192,f.child=d.child,f=null):(d=_e.treeContext,na=hc(ce.nextSibling),Ks=f,Xr=!0,Ti=null,Ca=!1,d!==null&&Xv(f,d),f=Y5(f,b.children),f.flags|=4096);return f}return j?(ts(),ce=b.fallback,j=f.mode,_e=d.child,We=_e.sibling,b=Ro(_e,{mode:"hidden",children:b.children}),b.subtreeFlags=_e.subtreeFlags&65011712,We!==null?ce=Ro(We,ce):(ce=Qu(ce,j,x,null),ce.flags|=2),ce.return=f,b.return=f,b.sibling=ce,f.child=b,tx(null,b),b=f.child,ce=d.child.memoizedState,ce===null?ce=G5(x):(j=ce.cachePool,j!==null?(_e=Ra._currentValue,j=j.parent!==_e?{parent:_e,pool:_e}:j):j=be(),ce={baseLanes:ce.baseLanes|x,cachePool:j}),b.memoizedState=ce,b.childLanes=W5(d,W,x),f.memoizedState=q5,tx(d.child,b)):(Ua(f),x=d.child,d=x.sibling,x=Ro(x,{mode:"visible",children:b.children}),x.return=f,x.sibling=null,d!==null&&(W=f.deletions,W===null?(f.deletions=[d],f.flags|=16):W.push(d)),f.child=x,f.memoizedState=null,x)}function Y5(d,f){return f=c1({mode:"visible",children:f},d.mode),f.return=d,d.child=f}function c1(d,f){return d=oi(22,d,null,f),d.lanes=0,d}function X5(d,f,x){return aa(f,d.child,null,x),d=Y5(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function dF(d,f,x){d.lanes|=f;var b=d.alternate;b!==null&&(b.lanes|=f),ih(d.return,f,x)}function J5(d,f,x,b,j,F){var W=d.memoizedState;W===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:j,treeForkCount:F}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=b,W.tail=x,W.tailMode=j,W.treeForkCount=F)}function AF(d,f,x){var b=f.pendingProps,j=b.revealOrder,F=b.tail;b=b.children;var W=on.current,ce=(W&2)!==0;if(ce?(W=W&1|2,f.flags|=128):W&=1,H(on,W),Fi(d,f,b,x),b=Xr?Uf:0,!ce&&d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&dF(d,x,f);else if(d.tag===19)dF(d,x,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(j){case"forwards":for(x=f.child,j=null;x!==null;)d=x.alternate,d!==null&&ci(d)===null&&(j=x),x=x.sibling;x=j,x===null?(j=f.child,f.child=null):(j=x.sibling,x.sibling=null),J5(f,!1,j,x,F,b);break;case"backwards":case"unstable_legacy-backwards":for(x=null,j=f.child,f.child=null;j!==null;){if(d=j.alternate,d!==null&&ci(d)===null){f.child=j;break}d=j.sibling,j.sibling=x,x=j,j=d}J5(f,!0,x,null,F,b);break;case"together":J5(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function Vd(d,f,x){if(d!==null&&(f.dependencies=d.dependencies),fh|=f.lanes,(x&f.childLanes)===0)if(d!==null){if(Vu(d,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(d!==null&&f.child!==d.child)throw Error(n(153));if(f.child!==null){for(d=f.child,x=Ro(d,d.pendingProps),f.child=x,x.return=f;d.sibling!==null;)d=d.sibling,x=x.sibling=Ro(d,d.pendingProps),x.return=f;x.sibling=null}return f.child}function Z5(d,f){return(d.lanes&f)!==0?!0:(d=d.dependencies,!!(d!==null&&Sm(d)))}function xW(d,f,x){switch(f.tag){case 3:Se(f,f.stateNode.containerInfo),$u(f,Ra,d.memoizedState.cache),Qd();break;case 27:case 5:pe(f);break;case 4:Se(f,f.stateNode.containerInfo);break;case 10:$u(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Sn(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Ua(f),f.flags|=128,null):(x&f.child.childLanes)!==0?uF(d,f,x):(Ua(f),d=Vd(d,f,x),d!==null?d.sibling:null);Ua(f);break;case 19:var j=(d.flags&128)!==0;if(b=(x&f.childLanes)!==0,b||(Vu(d,f,x,!1),b=(x&f.childLanes)!==0),j){if(b)return AF(d,f,x);f.flags|=128}if(j=f.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),H(on,on.current),b)break;return null;case 22:return f.lanes=0,aF(d,f,x,f.pendingProps);case 24:$u(f,Ra,d.memoizedState.cache)}return Vd(d,f,x)}function hF(d,f,x){if(d!==null)if(d.memoizedProps!==f.pendingProps)_s=!0;else{if(!Z5(d,x)&&(f.flags&128)===0)return _s=!1,xW(d,f,x);_s=(d.flags&131072)!==0}else _s=!1,Xr&&(f.flags&1048576)!==0&&Yv(f,Uf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(d=ze(f.elementType),f.type=d,typeof d=="function")ym(d)?(b=$f(d,b),f.tag=1,f=lF(null,f,d,b,x)):(f.tag=0,f=V5(null,f,d,b,x));else{if(d!=null){var j=d.$$typeof;if(j===E){f.tag=11,f=tF(null,f,d,b,x);break e}else if(j===D){f.tag=14,f=rF(null,f,d,b,x);break e}}throw f=K(d)||d,Error(n(306,f,""))}}return f;case 0:return V5(d,f,f.type,f.pendingProps,x);case 1:return b=f.type,j=$f(b,f.pendingProps),lF(d,f,b,j,x);case 3:e:{if(Se(f,f.stateNode.containerInfo),d===null)throw Error(n(387));b=f.pendingProps;var F=f.memoizedState;j=F.element,fa(d,f),Ja(f,b,null,x);var W=f.memoizedState;if(b=W.cache,$u(f,Ra,b),b!==F.cache&&Hd(f,[Ra],x,!0),Gn(),b=W.element,F.isDehydrated)if(F={element:b,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=F,f.memoizedState=F,f.flags&256){f=cF(d,f,b,x);break e}else if(b!==j){j=Uo(Error(n(424)),f),sh(j),f=cF(d,f,b,x);break e}else for(d=f.stateNode.containerInfo,d.nodeType===9?d=d.body:d=d.nodeName==="HTML"?d.ownerDocument.body:d,na=hc(d.firstChild),Ks=f,Xr=!0,Ti=null,Ca=!0,x=Dr(f,null,b,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Qd(),b===j){f=Vd(d,f,x);break e}Fi(d,f,b,x)}f=f.child}return f;case 26:return l1(d,f),d===null?(x=NO(f.type,null,f.pendingProps,null))?f.memoizedState=x:Xr||(x=f.type,d=f.pendingProps,b=S1(ae.current).createElement(x),b[fe]=f,b[xe]=d,Oi(b,x,d),Gt(b),f.stateNode=b):f.memoizedState=NO(f.type,d.memoizedProps,f.pendingProps,d.memoizedState),null;case 27:return pe(f),d===null&&Xr&&(b=f.stateNode=bO(f.type,f.pendingProps,ae.current),Ks=f,Ca=!0,j=na,yh(f.type)?(FN=j,na=hc(b.firstChild)):na=j),Fi(d,f,f.pendingProps.children,x),l1(d,f),d===null&&(f.flags|=4194304),f.child;case 5:return d===null&&Xr&&((j=b=na)&&(b=GW(b,f.type,f.pendingProps,Ca),b!==null?(f.stateNode=b,Ks=f,na=hc(b.firstChild),Ca=!1,j=!0):j=!1),j||zu(f)),pe(f),j=f.type,F=f.pendingProps,W=d!==null?d.memoizedProps:null,b=F.children,EN(j,F)?b=null:W!==null&&EN(j,W)&&(f.flags|=32),f.memoizedState!==null&&(j=Vg(d,f,D5,null,null,x),px._currentValue=j),l1(d,f),Fi(d,f,b,x),f.child;case 6:return d===null&&Xr&&((d=x=na)&&(x=WW(x,f.pendingProps,Ca),x!==null?(f.stateNode=x,Ks=f,na=null,d=!0):d=!1),d||zu(f)),null;case 13:return uF(d,f,x);case 4:return Se(f,f.stateNode.containerInfo),b=f.pendingProps,d===null?f.child=aa(f,null,b,x):Fi(d,f,b,x),f.child;case 11:return tF(d,f,f.type,f.pendingProps,x);case 7:return Fi(d,f,f.pendingProps,x),f.child;case 8:return Fi(d,f,f.pendingProps.children,x),f.child;case 12:return Fi(d,f,f.pendingProps.children,x),f.child;case 10:return b=f.pendingProps,$u(f,f.type,b.value),Fi(d,f,b.children,x),f.child;case 9:return j=f.type._context,b=f.pendingProps.children,qu(f),j=Vs(j),b=b(j),f.flags|=1,Fi(d,f,b,x),f.child;case 14:return rF(d,f,f.type,f.pendingProps,x);case 15:return nF(d,f,f.type,f.pendingProps,x);case 19:return AF(d,f,x);case 31:return gW(d,f,x);case 22:return aF(d,f,x,f.pendingProps);case 24:return qu(f),b=Vs(Ra),d===null?(j=de(),j===null&&(j=sa,F=oh(),j.pooledCache=F,F.refCount++,F!==null&&(j.pooledCacheLanes|=x),j=F),f.memoizedState={parent:b,cache:j},Lt(f),$u(f,Ra,j)):((d.lanes&x)!==0&&(fa(d,f),Ja(f,null,null,x),Gn()),j=d.memoizedState,F=f.memoizedState,j.parent!==b?(j={parent:b,cache:b},f.memoizedState=j,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=j),$u(f,Ra,b)):(b=F.cache,$u(f,Ra,b),b!==j.cache&&Hd(f,[Ra],x,!0))),Fi(d,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function qd(d){d.flags|=4}function eN(d,f,x,b,j){if((f=(d.mode&32)!==0)&&(f=!1),f){if(d.flags|=16777216,(j&335544128)===j)if(d.stateNode.complete)d.flags|=8192;else if(UF())d.flags|=8192;else throw ot=Pe,Ve}else d.flags&=-16777217}function fF(d,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!_O(f))if(UF())d.flags|=8192;else throw ot=Pe,Ve}function u1(d,f){f!==null&&(d.flags|=4),d.flags&16384&&(f=d.tag!==22?Rs():536870912,d.lanes|=f,Um|=f)}function rx(d,f){if(!Xr)switch(d.tailMode){case"hidden":f=d.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function ga(d){var f=d.alternate!==null&&d.alternate.child===d.child,x=0,b=0;if(f)for(var j=d.child;j!==null;)x|=j.lanes|j.childLanes,b|=j.subtreeFlags&65011712,b|=j.flags&65011712,j.return=d,j=j.sibling;else for(j=d.child;j!==null;)x|=j.lanes|j.childLanes,b|=j.subtreeFlags,b|=j.flags,j.return=d,j=j.sibling;return d.subtreeFlags|=b,d.childLanes=x,f}function yW(d,f,x){var b=f.pendingProps;switch(Cm(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(f),null;case 1:return ga(f),null;case 3:return x=f.stateNode,b=null,d!==null&&(b=d.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),$o(Ra),te(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&($s(f)?qd(f):d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Kg())),ga(f),null;case 26:var j=f.type,F=f.memoizedState;return d===null?(qd(f),F!==null?(ga(f),fF(f,F)):(ga(f),eN(f,j,null,b,x))):F?F!==d.memoizedState?(qd(f),ga(f),fF(f,F)):(ga(f),f.flags&=-16777217):(d=d.memoizedProps,d!==b&&qd(f),ga(f),eN(f,j,d,b,x)),null;case 27:if(ke(f),x=ae.current,j=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==b&&qd(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return ga(f),null}d=V.current,$s(f)?zg(f):(d=bO(j,b,x),f.stateNode=d,qd(f))}return ga(f),null;case 5:if(ke(f),j=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==b&&qd(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return ga(f),null}if(F=V.current,$s(f))zg(f);else{var W=S1(ae.current);switch(F){case 1:F=W.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:F=W.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":F=W.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":F=W.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":F=W.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof b.is=="string"?W.createElement("select",{is:b.is}):W.createElement("select"),b.multiple?F.multiple=!0:b.size&&(F.size=b.size);break;default:F=typeof b.is=="string"?W.createElement(j,{is:b.is}):W.createElement(j)}}F[fe]=f,F[xe]=b;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)F.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=F;e:switch(Oi(F,j,b),j){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&qd(f)}}return ga(f),eN(f,f.type,d===null?null:d.memoizedProps,f.pendingProps,x),null;case 6:if(d&&f.stateNode!=null)d.memoizedProps!==b&&qd(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(n(166));if(d=ae.current,$s(f)){if(d=f.stateNode,x=f.memoizedProps,b=null,j=Ks,j!==null)switch(j.tag){case 27:case 5:b=j.memoizedProps}d[fe]=f,d=!!(d.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||uO(d.nodeValue,x)),d||zu(f,!0)}else d=S1(d).createTextNode(b),d[fe]=f,f.stateNode=d}return ga(f),null;case 31:if(x=f.memoizedState,d===null||d.memoizedState!==null){if(b=$s(f),x!==null){if(d===null){if(!b)throw Error(n(318));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[fe]=f}else Qd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ga(f),d=!1}else x=Kg(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return f.flags&256?(Dn(f),f):(Dn(f),null);if((f.flags&128)!==0)throw Error(n(558))}return ga(f),null;case 13:if(b=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(j=$s(f),b!==null&&b.dehydrated!==null){if(d===null){if(!j)throw Error(n(318));if(j=f.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[fe]=f}else Qd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ga(f),j=!1}else j=Kg(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=j),j=!0;if(!j)return f.flags&256?(Dn(f),f):(Dn(f),null)}return Dn(f),(f.flags&128)!==0?(f.lanes=x,f):(x=b!==null,d=d!==null&&d.memoizedState!==null,x&&(b=f.child,j=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(j=b.alternate.memoizedState.cachePool.pool),F=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(F=b.memoizedState.cachePool.pool),F!==j&&(b.flags|=2048)),x!==d&&x&&(f.child.flags|=8192),u1(f,f.updateQueue),ga(f),null);case 4:return te(),d===null&&wN(f.stateNode.containerInfo),ga(f),null;case 10:return $o(f.type),ga(f),null;case 19:if(O(on),b=f.memoizedState,b===null)return ga(f),null;if(j=(f.flags&128)!==0,F=b.rendering,F===null)if(j)rx(b,!1);else{if(ns!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(F=ci(d),F!==null){for(f.flags|=128,rx(b,!1),d=F.updateQueue,f.updateQueue=d,u1(f,d),f.subtreeFlags=0,d=x,x=f.child;x!==null;)Mf(x,d),x=x.sibling;return H(on,on.current&1|2),Xr&&yo(f,b.treeForkCount),f.child}d=d.sibling}b.tail!==null&&yt()>m1&&(f.flags|=128,j=!0,rx(b,!1),f.lanes=4194304)}else{if(!j)if(d=ci(F),d!==null){if(f.flags|=128,j=!0,d=d.updateQueue,f.updateQueue=d,u1(f,d),rx(b,!0),b.tail===null&&b.tailMode==="hidden"&&!F.alternate&&!Xr)return ga(f),null}else 2*yt()-b.renderingStartTime>m1&&x!==536870912&&(f.flags|=128,j=!0,rx(b,!1),f.lanes=4194304);b.isBackwards?(F.sibling=f.child,f.child=F):(d=b.last,d!==null?d.sibling=F:f.child=F,b.last=F)}return b.tail!==null?(d=b.tail,b.rendering=d,b.tail=d.sibling,b.renderingStartTime=yt(),d.sibling=null,x=on.current,H(on,j?x&1|2:x&1),Xr&&yo(f,b.treeForkCount),d):(ga(f),null);case 22:case 23:return Dn(f),As(),b=f.memoizedState!==null,d!==null?d.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(x&536870912)!==0&&(f.flags&128)===0&&(ga(f),f.subtreeFlags&6&&(f.flags|=8192)):ga(f),x=f.updateQueue,x!==null&&u1(f,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==x&&(f.flags|=2048),d!==null&&O(le),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),$o(Ra),ga(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function vW(d,f){switch(Cm(f),f.tag){case 1:return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return $o(Ra),te(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 26:case 27:case 5:return ke(f),null;case 31:if(f.memoizedState!==null){if(Dn(f),f.alternate===null)throw Error(n(340));Qd()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 13:if(Dn(f),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Qd()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return O(on),null;case 4:return te(),null;case 10:return $o(f.type),null;case 22:case 23:return Dn(f),As(),d!==null&&O(le),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 24:return $o(Ra),null;case 25:return null;default:return null}}function mF(d,f){switch(Cm(f),f.tag){case 3:$o(Ra),te();break;case 26:case 27:case 5:ke(f);break;case 4:te();break;case 31:f.memoizedState!==null&&Dn(f);break;case 13:Dn(f);break;case 19:O(on);break;case 10:$o(f.type);break;case 22:case 23:Dn(f),As(),d!==null&&O(le);break;case 24:$o(Ra)}}function nx(d,f){try{var x=f.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var j=b.next;x=j;do{if((x.tag&d)===d){b=void 0;var F=x.create,W=x.inst;b=F(),W.destroy=b}x=x.next}while(x!==j)}}catch(ce){In(f,f.return,ce)}}function Ah(d,f,x){try{var b=f.updateQueue,j=b!==null?b.lastEffect:null;if(j!==null){var F=j.next;b=F;do{if((b.tag&d)===d){var W=b.inst,ce=W.destroy;if(ce!==void 0){W.destroy=void 0,j=f;var _e=x,We=ce;try{We()}catch(dt){In(j,_e,dt)}}}b=b.next}while(b!==F)}}catch(dt){In(f,f.return,dt)}}function pF(d){var f=d.updateQueue;if(f!==null){var x=d.stateNode;try{Za(f,x)}catch(b){In(d,d.return,b)}}}function gF(d,f,x){x.props=$f(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(b){In(d,f,b)}}function ax(d,f){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var b=d.stateNode;break;case 30:b=d.stateNode;break;default:b=d.stateNode}typeof x=="function"?d.refCleanup=x(b):x.current=b}}catch(j){In(d,f,j)}}function Ju(d,f){var x=d.ref,b=d.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(j){In(d,f,j)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(j){In(d,f,j)}else x.current=null}function xF(d){var f=d.type,x=d.memoizedProps,b=d.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(j){In(d,d.return,j)}}function tN(d,f,x){try{var b=d.stateNode;HW(b,d.type,x,f),b[xe]=f}catch(j){In(d,d.return,j)}}function yF(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&yh(d.type)||d.tag===4}function rN(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||yF(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&yh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function nN(d,f,x){var b=d.tag;if(b===5||b===6)d=d.stateNode,f?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,f):(f=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,f.appendChild(d),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=xl));else if(b!==4&&(b===27&&yh(d.type)&&(x=d.stateNode,f=null),d=d.child,d!==null))for(nN(d,f,x),d=d.sibling;d!==null;)nN(d,f,x),d=d.sibling}function d1(d,f,x){var b=d.tag;if(b===5||b===6)d=d.stateNode,f?x.insertBefore(d,f):x.appendChild(d);else if(b!==4&&(b===27&&yh(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(d1(d,f,x),d=d.sibling;d!==null;)d1(d,f,x),d=d.sibling}function vF(d){var f=d.stateNode,x=d.memoizedProps;try{for(var b=d.type,j=f.attributes;j.length;)f.removeAttributeNode(j[0]);Oi(f,b,x),f[fe]=d,f[xe]=x}catch(F){In(d,d.return,F)}}var Gd=!1,Ts=!1,aN=!1,bF=typeof WeakSet=="function"?WeakSet:Set,ui=null;function bW(d,f){if(d=d.containerInfo,SN=F1,d=ru(d),lc(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var j=b.anchorOffset,F=b.focusNode;b=b.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var W=0,ce=-1,_e=-1,We=0,dt=0,gt=d,Je=null;t:for(;;){for(var tt;gt!==x||j!==0&&gt.nodeType!==3||(ce=W+j),gt!==F||b!==0&&gt.nodeType!==3||(_e=W+b),gt.nodeType===3&&(W+=gt.nodeValue.length),(tt=gt.firstChild)!==null;)Je=gt,gt=tt;for(;;){if(gt===d)break t;if(Je===x&&++We===j&&(ce=W),Je===F&&++dt===b&&(_e=W),(tt=gt.nextSibling)!==null)break;gt=Je,Je=gt.parentNode}gt=tt}x=ce===-1||_e===-1?null:{start:ce,end:_e}}else x=null}x=x||{start:0,end:0}}else x=null;for(BN={focusedElem:d,selectionRange:x},F1=!1,ui=f;ui!==null;)if(f=ui,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,ui=d;else for(;ui!==null;){switch(f=ui,F=f.alternate,d=f.flags,f.tag){case 0:if((d&4)!==0&&(d=f.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)j=d[x],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&F!==null){d=void 0,x=f,j=F.memoizedProps,F=F.memoizedState,b=x.stateNode;try{var tr=$f(x.type,j);d=b.getSnapshotBeforeUpdate(tr,F),b.__reactInternalSnapshotBeforeUpdate=d}catch(Er){In(x,x.return,Er)}}break;case 3:if((d&1024)!==0){if(d=f.stateNode.containerInfo,x=d.nodeType,x===9)_N(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":_N(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=f.sibling,d!==null){d.return=f.return,ui=d;break}ui=f.return}}function wF(d,f,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:Yd(d,x),b&4&&nx(5,x);break;case 1:if(Yd(d,x),b&4)if(d=x.stateNode,f===null)try{d.componentDidMount()}catch(W){In(x,x.return,W)}else{var j=$f(x.type,f.memoizedProps);f=f.memoizedState;try{d.componentDidUpdate(j,f,d.__reactInternalSnapshotBeforeUpdate)}catch(W){In(x,x.return,W)}}b&64&&pF(x),b&512&&ax(x,x.return);break;case 3:if(Yd(d,x),b&64&&(d=x.updateQueue,d!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=x.child.stateNode;break;case 1:f=x.child.stateNode}try{Za(d,f)}catch(W){In(x,x.return,W)}}break;case 27:f===null&&b&4&&vF(x);case 26:case 5:Yd(d,x),f===null&&b&4&&xF(x),b&512&&ax(x,x.return);break;case 12:Yd(d,x);break;case 31:Yd(d,x),b&4&&SF(d,x);break;case 13:Yd(d,x),b&4&&BF(d,x),b&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=TW.bind(null,x),YW(d,x))));break;case 22:if(b=x.memoizedState!==null||Gd,!b){f=f!==null&&f.memoizedState!==null||Ts,j=Gd;var F=Ts;Gd=b,(Ts=f)&&!F?Xd(d,x,(x.subtreeFlags&8772)!==0):Yd(d,x),Gd=j,Ts=F}break;case 30:break;default:Yd(d,x)}}function CF(d){var f=d.alternate;f!==null&&(d.alternate=null,CF(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&Nt(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Ba=null,qo=!1;function Wd(d,f,x){for(x=x.child;x!==null;)NF(d,f,x),x=x.sibling}function NF(d,f,x){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(It,x)}catch{}switch(x.tag){case 26:Ts||Ju(x,f),Wd(d,f,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Ts||Ju(x,f);var b=Ba,j=qo;yh(x.type)&&(Ba=x.stateNode,qo=!1),Wd(d,f,x),hx(x.stateNode),Ba=b,qo=j;break;case 5:Ts||Ju(x,f);case 6:if(b=Ba,j=qo,Ba=null,Wd(d,f,x),Ba=b,qo=j,Ba!==null)if(qo)try{(Ba.nodeType===9?Ba.body:Ba.nodeName==="HTML"?Ba.ownerDocument.body:Ba).removeChild(x.stateNode)}catch(F){In(x,f,F)}else try{Ba.removeChild(x.stateNode)}catch(F){In(x,f,F)}break;case 18:Ba!==null&&(qo?(d=Ba,pO(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),Gm(d)):pO(Ba,x.stateNode));break;case 4:b=Ba,j=qo,Ba=x.stateNode.containerInfo,qo=!0,Wd(d,f,x),Ba=b,qo=j;break;case 0:case 11:case 14:case 15:Ah(2,x,f),Ts||Ah(4,x,f),Wd(d,f,x);break;case 1:Ts||(Ju(x,f),b=x.stateNode,typeof b.componentWillUnmount=="function"&&gF(x,f,b)),Wd(d,f,x);break;case 21:Wd(d,f,x);break;case 22:Ts=(b=Ts)||x.memoizedState!==null,Wd(d,f,x),Ts=b;break;default:Wd(d,f,x)}}function SF(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{Gm(d)}catch(x){In(f,f.return,x)}}}function BF(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Gm(d)}catch(x){In(f,f.return,x)}}function wW(d){switch(d.tag){case 31:case 13:case 19:var f=d.stateNode;return f===null&&(f=d.stateNode=new bF),f;case 22:return d=d.stateNode,f=d._retryCache,f===null&&(f=d._retryCache=new bF),f;default:throw Error(n(435,d.tag))}}function A1(d,f){var x=wW(d);f.forEach(function(b){if(!x.has(b)){x.add(b);var j=kW.bind(null,d,b);b.then(j,j)}})}function Go(d,f){var x=f.deletions;if(x!==null)for(var b=0;b<x.length;b++){var j=x[b],F=d,W=f,ce=W;e:for(;ce!==null;){switch(ce.tag){case 27:if(yh(ce.type)){Ba=ce.stateNode,qo=!1;break e}break;case 5:Ba=ce.stateNode,qo=!1;break e;case 3:case 4:Ba=ce.stateNode.containerInfo,qo=!0;break e}ce=ce.return}if(Ba===null)throw Error(n(160));NF(F,W,j),Ba=null,qo=!1,F=j.alternate,F!==null&&(F.return=null),j.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)EF(f,d),f=f.sibling}var uu=null;function EF(d,f){var x=d.alternate,b=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Go(f,d),Wo(d),b&4&&(Ah(3,d,d.return),nx(3,d),Ah(5,d,d.return));break;case 1:Go(f,d),Wo(d),b&512&&(Ts||x===null||Ju(x,x.return)),b&64&&Gd&&(d=d.updateQueue,d!==null&&(b=d.callbacks,b!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var j=uu;if(Go(f,d),Wo(d),b&512&&(Ts||x===null||Ju(x,x.return)),b&4){var F=x!==null?x.memoizedState:null;if(b=d.memoizedState,x===null)if(b===null)if(d.stateNode===null){e:{b=d.type,x=d.memoizedProps,j=j.ownerDocument||j;t:switch(b){case"title":F=j.getElementsByTagName("title")[0],(!F||F[qe]||F[fe]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=j.createElement(b),j.head.insertBefore(F,j.querySelector("head > title"))),Oi(F,b,x),F[fe]=d,Gt(F),b=F;break e;case"link":var W=EO("link","href",j).get(b+(x.href||""));if(W){for(var ce=0;ce<W.length;ce++)if(F=W[ce],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){W.splice(ce,1);break t}}F=j.createElement(b),Oi(F,b,x),j.head.appendChild(F);break;case"meta":if(W=EO("meta","content",j).get(b+(x.content||""))){for(ce=0;ce<W.length;ce++)if(F=W[ce],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){W.splice(ce,1);break t}}F=j.createElement(b),Oi(F,b,x),j.head.appendChild(F);break;default:throw Error(n(468,b))}F[fe]=d,Gt(F),b=F}d.stateNode=b}else jO(j,d.type,d.stateNode);else d.stateNode=BO(j,b,d.memoizedProps);else F!==b?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,b===null?jO(j,d.type,d.stateNode):BO(j,b,d.memoizedProps)):b===null&&d.stateNode!==null&&tN(d,d.memoizedProps,x.memoizedProps)}break;case 27:Go(f,d),Wo(d),b&512&&(Ts||x===null||Ju(x,x.return)),x!==null&&b&4&&tN(d,d.memoizedProps,x.memoizedProps);break;case 5:if(Go(f,d),Wo(d),b&512&&(Ts||x===null||Ju(x,x.return)),d.flags&32){j=d.stateNode;try{gl(j,"")}catch(tr){In(d,d.return,tr)}}b&4&&d.stateNode!=null&&(j=d.memoizedProps,tN(d,j,x!==null?x.memoizedProps:j)),b&1024&&(aN=!0);break;case 6:if(Go(f,d),Wo(d),b&4){if(d.stateNode===null)throw Error(n(162));b=d.memoizedProps,x=d.stateNode;try{x.nodeValue=b}catch(tr){In(d,d.return,tr)}}break;case 3:if(j1=null,j=uu,uu=B1(f.containerInfo),Go(f,d),uu=j,Wo(d),b&4&&x!==null&&x.memoizedState.isDehydrated)try{Gm(f.containerInfo)}catch(tr){In(d,d.return,tr)}aN&&(aN=!1,jF(d));break;case 4:b=uu,uu=B1(d.stateNode.containerInfo),Go(f,d),Wo(d),uu=b;break;case 12:Go(f,d),Wo(d);break;case 31:Go(f,d),Wo(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,A1(d,b)));break;case 13:Go(f,d),Wo(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(f1=yt()),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,A1(d,b)));break;case 22:j=d.memoizedState!==null;var _e=x!==null&&x.memoizedState!==null,We=Gd,dt=Ts;if(Gd=We||j,Ts=dt||_e,Go(f,d),Ts=dt,Gd=We,Wo(d),b&8192)e:for(f=d.stateNode,f._visibility=j?f._visibility&-2:f._visibility|1,j&&(x===null||_e||Gd||Ts||Vf(d)),x=null,f=d;;){if(f.tag===5||f.tag===26){if(x===null){_e=x=f;try{if(F=_e.stateNode,j)W=F.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ce=_e.stateNode;var gt=_e.memoizedProps.style,Je=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;ce.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(tr){In(_e,_e.return,tr)}}}else if(f.tag===6){if(x===null){_e=f;try{_e.stateNode.nodeValue=j?"":_e.memoizedProps}catch(tr){In(_e,_e.return,tr)}}}else if(f.tag===18){if(x===null){_e=f;try{var tt=_e.stateNode;j?gO(tt,!0):gO(_e.stateNode,!1)}catch(tr){In(_e,_e.return,tr)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=d.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,A1(d,x))));break;case 19:Go(f,d),Wo(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,A1(d,b)));break;case 30:break;case 21:break;default:Go(f,d),Wo(d)}}function Wo(d){var f=d.flags;if(f&2){try{for(var x,b=d.return;b!==null;){if(yF(b)){x=b;break}b=b.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var j=x.stateNode,F=rN(d);d1(d,F,j);break;case 5:var W=x.stateNode;x.flags&32&&(gl(W,""),x.flags&=-33);var ce=rN(d);d1(d,ce,W);break;case 3:case 4:var _e=x.stateNode.containerInfo,We=rN(d);nN(d,We,_e);break;default:throw Error(n(161))}}catch(dt){In(d,d.return,dt)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function jF(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var f=d;jF(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),d=d.sibling}}function Yd(d,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)wF(d,f.alternate,f),f=f.sibling}function Vf(d){for(d=d.child;d!==null;){var f=d;switch(f.tag){case 0:case 11:case 14:case 15:Ah(4,f,f.return),Vf(f);break;case 1:Ju(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&gF(f,f.return,x),Vf(f);break;case 27:hx(f.stateNode);case 26:case 5:Ju(f,f.return),Vf(f);break;case 22:f.memoizedState===null&&Vf(f);break;case 30:Vf(f);break;default:Vf(f)}d=d.sibling}}function Xd(d,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,j=d,F=f,W=F.flags;switch(F.tag){case 0:case 11:case 15:Xd(j,F,x),nx(4,F);break;case 1:if(Xd(j,F,x),b=F,j=b.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(We){In(b,b.return,We)}if(b=F,j=b.updateQueue,j!==null){var ce=b.stateNode;try{var _e=j.shared.hiddenCallbacks;if(_e!==null)for(j.shared.hiddenCallbacks=null,j=0;j<_e.length;j++)li(_e[j],ce)}catch(We){In(b,b.return,We)}}x&&W&64&&pF(F),ax(F,F.return);break;case 27:vF(F);case 26:case 5:Xd(j,F,x),x&&b===null&&W&4&&xF(F),ax(F,F.return);break;case 12:Xd(j,F,x);break;case 31:Xd(j,F,x),x&&W&4&&SF(j,F);break;case 13:Xd(j,F,x),x&&W&4&&BF(j,F);break;case 22:F.memoizedState===null&&Xd(j,F,x),ax(F,F.return);break;case 30:break;default:Xd(j,F,x)}f=f.sibling}}function sN(d,f){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(d=f.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Qf(x))}function iN(d,f){d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&Qf(d))}function du(d,f,x,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)_F(d,f,x,b),f=f.sibling}function _F(d,f,x,b){var j=f.flags;switch(f.tag){case 0:case 11:case 15:du(d,f,x,b),j&2048&&nx(9,f);break;case 1:du(d,f,x,b);break;case 3:du(d,f,x,b),j&2048&&(d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&Qf(d)));break;case 12:if(j&2048){du(d,f,x,b),d=f.stateNode;try{var F=f.memoizedProps,W=F.id,ce=F.onPostCommit;typeof ce=="function"&&ce(W,f.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(_e){In(f,f.return,_e)}}else du(d,f,x,b);break;case 31:du(d,f,x,b);break;case 13:du(d,f,x,b);break;case 23:break;case 22:F=f.stateNode,W=f.alternate,f.memoizedState!==null?F._visibility&2?du(d,f,x,b):sx(d,f):F._visibility&2?du(d,f,x,b):(F._visibility|=2,Lm(d,f,x,b,(f.subtreeFlags&10256)!==0||!1)),j&2048&&sN(W,f);break;case 24:du(d,f,x,b),j&2048&&iN(f.alternate,f);break;default:du(d,f,x,b)}}function Lm(d,f,x,b,j){for(j=j&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var F=d,W=f,ce=x,_e=b,We=W.flags;switch(W.tag){case 0:case 11:case 15:Lm(F,W,ce,_e,j),nx(8,W);break;case 23:break;case 22:var dt=W.stateNode;W.memoizedState!==null?dt._visibility&2?Lm(F,W,ce,_e,j):sx(F,W):(dt._visibility|=2,Lm(F,W,ce,_e,j)),j&&We&2048&&sN(W.alternate,W);break;case 24:Lm(F,W,ce,_e,j),j&&We&2048&&iN(W.alternate,W);break;default:Lm(F,W,ce,_e,j)}f=f.sibling}}function sx(d,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=d,b=f,j=b.flags;switch(b.tag){case 22:sx(x,b),j&2048&&sN(b.alternate,b);break;case 24:sx(x,b),j&2048&&iN(b.alternate,b);break;default:sx(x,b)}f=f.sibling}}var ix=8192;function Mm(d,f,x){if(d.subtreeFlags&ix)for(d=d.child;d!==null;)TF(d,f,x),d=d.sibling}function TF(d,f,x){switch(d.tag){case 26:Mm(d,f,x),d.flags&ix&&d.memoizedState!==null&&lY(x,uu,d.memoizedState,d.memoizedProps);break;case 5:Mm(d,f,x);break;case 3:case 4:var b=uu;uu=B1(d.stateNode.containerInfo),Mm(d,f,x),uu=b;break;case 22:d.memoizedState===null&&(b=d.alternate,b!==null&&b.memoizedState!==null?(b=ix,ix=16777216,Mm(d,f,x),ix=b):Mm(d,f,x));break;default:Mm(d,f,x)}}function kF(d){var f=d.alternate;if(f!==null&&(d=f.child,d!==null)){f.child=null;do f=d.sibling,d.sibling=null,d=f;while(d!==null)}}function ox(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];ui=b,OF(b,d)}kF(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)FF(d),d=d.sibling}function FF(d){switch(d.tag){case 0:case 11:case 15:ox(d),d.flags&2048&&Ah(9,d,d.return);break;case 3:ox(d);break;case 12:ox(d);break;case 22:var f=d.stateNode;d.memoizedState!==null&&f._visibility&2&&(d.return===null||d.return.tag!==13)?(f._visibility&=-3,h1(d)):ox(d);break;default:ox(d)}}function h1(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];ui=b,OF(b,d)}kF(d)}for(d=d.child;d!==null;){switch(f=d,f.tag){case 0:case 11:case 15:Ah(8,f,f.return),h1(f);break;case 22:x=f.stateNode,x._visibility&2&&(x._visibility&=-3,h1(f));break;default:h1(f)}d=d.sibling}}function OF(d,f){for(;ui!==null;){var x=ui;switch(x.tag){case 0:case 11:case 15:Ah(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Qf(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,ui=b;else e:for(x=d;ui!==null;){b=ui;var j=b.sibling,F=b.return;if(CF(b),b===x){ui=null;break e}if(j!==null){j.return=F,ui=j;break e}ui=F}}}var CW={getCacheForType:function(d){var f=Vs(Ra),x=f.data.get(d);return x===void 0&&(x=d(),f.data.set(d,x)),x},cacheSignal:function(){return Vs(Ra).controller.signal}},NW=typeof WeakMap=="function"?WeakMap:Map,Bn=0,sa=null,Jr=null,en=0,Pn=0,Sl=null,hh=!1,Rm=!1,oN=!1,Jd=0,ns=0,fh=0,qf=0,lN=0,Bl=0,Um=0,lx=null,Yo=null,cN=!1,f1=0,DF=0,m1=1/0,p1=null,mh=null,Gs=0,ph=null,Qm=null,Zd=0,uN=0,dN=null,PF=null,cx=0,AN=null;function El(){return(Bn&2)!==0&&en!==0?en&-en:Y.T!==null?xN():ie()}function IF(){if(Bl===0)if((en&536870912)===0||Xr){var d=mt;mt<<=1,(mt&3932160)===0&&(mt=262144),Bl=d}else Bl=536870912;return d=pa.current,d!==null&&(d.flags|=32),Bl}function Xo(d,f,x){(d===sa&&(Pn===2||Pn===9)||d.cancelPendingCommit!==null)&&(Hm(d,0),gh(d,en,Bl,!1)),Ar(d,x),((Bn&2)===0||d!==sa)&&(d===sa&&((Bn&2)===0&&(qf|=x),ns===4&&gh(d,en,Bl,!1)),Zu(d))}function LF(d,f,x){if((Bn&6)!==0)throw Error(n(327));var b=!x&&(f&127)===0&&(f&d.expiredLanes)===0||jn(d,f),j=b?EW(d,f):fN(d,f,!0),F=b;do{if(j===0){Rm&&!b&&gh(d,f,0,!1);break}else{if(x=d.current.alternate,F&&!SW(x)){j=fN(d,f,!1),F=!1;continue}if(j===2){if(F=f,d.errorRecoveryDisabledLanes&F)var W=0;else W=d.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var ce=d;j=lx;var _e=ce.current.memoizedState.isDehydrated;if(_e&&(Hm(ce,W).flags|=256),W=fN(ce,W,!1),W!==2){if(oN&&!_e){ce.errorRecoveryDisabledLanes|=F,qf|=F,j=4;break e}F=Yo,Yo=j,F!==null&&(Yo===null?Yo=F:Yo.push.apply(Yo,F))}j=W}if(F=!1,j!==2)continue}}if(j===1){Hm(d,0),gh(d,f,0,!0);break}e:{switch(b=d,F=j,F){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:gh(b,f,Bl,!hh);break e;case 2:Yo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(j=f1+300-yt(),10<j)){if(gh(b,f,Bl,!hh),Kt(b,0,!0)!==0)break e;Zd=f,b.timeoutHandle=fO(MF.bind(null,b,x,Yo,p1,cN,f,Bl,qf,Um,hh,F,"Throttled",-0,0),j);break e}MF(b,x,Yo,p1,cN,f,Bl,qf,Um,hh,F,null,-0,0)}}break}while(!0);Zu(d)}function MF(d,f,x,b,j,F,W,ce,_e,We,dt,gt,Je,tt){if(d.timeoutHandle=-1,gt=f.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xl},TF(f,F,gt);var tr=(F&62914560)===F?f1-yt():(F&4194048)===F?DF-yt():0;if(tr=cY(gt,tr),tr!==null){Zd=F,d.cancelPendingCommit=tr(VF.bind(null,d,f,F,x,b,j,W,ce,_e,dt,gt,null,Je,tt)),gh(d,F,W,!We);return}}VF(d,f,F,x,b,j,W,ce,_e)}function SW(d){for(var f=d;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var j=x[b],F=j.getSnapshot;j=j.value;try{if(!Hs(F(),j))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function gh(d,f,x,b){f&=~lN,f&=~qf,d.suspendedLanes|=f,d.pingedLanes&=~f,b&&(d.warmLanes|=f),b=d.expirationTimes;for(var j=f;0<j;){var F=31-Br(j),W=1<<F;b[F]=-1,j&=~W}x!==0&&Wa(d,x,f)}function g1(){return(Bn&6)===0?(ux(0),!1):!0}function hN(){if(Jr!==null){if(Pn===0)var d=Jr.return;else d=Jr,uc=Ku=null,Tm(d),xt=null,ar=0,d=Jr;for(;d!==null;)mF(d.alternate,d),d=d.return;Jr=null}}function Hm(d,f){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,$W(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Zd=0,hN(),sa=d,Jr=x=Ro(d.current,null),en=f,Pn=0,Sl=null,hh=!1,Rm=jn(d,f),oN=!1,Um=Bl=lN=qf=fh=ns=0,Yo=lx=null,cN=!1,(f&8)!==0&&(f|=f&32);var b=d.entangledLanes;if(b!==0)for(d=d.entanglements,b&=f;0<b;){var j=31-Br(b),F=1<<j;f|=d[j],b&=~F}return Jd=f,Pf(),x}function RF(d,f){gr=null,Y.H=ex,f===Fe||f===ve?(f=ht(),Pn=3):f===Ve?(f=ht(),Pn=4):Pn=f===$5?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Sl=f,Jr===null&&(ns=1,i1(d,Uo(f,d.current)))}function UF(){var d=pa.current;return d===null?!0:(en&4194048)===en?un===null:(en&62914560)===en||(en&536870912)!==0?d===un:!1}function QF(){var d=Y.H;return Y.H=ex,d===null?ex:d}function HF(){var d=Y.A;return Y.A=CW,d}function x1(){ns=4,hh||(en&4194048)!==en&&pa.current!==null||(Rm=!0),(fh&134217727)===0&&(qf&134217727)===0||sa===null||gh(sa,en,Bl,!1)}function fN(d,f,x){var b=Bn;Bn|=2;var j=QF(),F=HF();(sa!==d||en!==f)&&(p1=null,Hm(d,f)),f=!1;var W=ns;e:do try{if(Pn!==0&&Jr!==null){var ce=Jr,_e=Sl;switch(Pn){case 8:hN(),W=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(f=!0);var We=Pn;if(Pn=0,Sl=null,zm(d,ce,_e,We),x&&Rm){W=0;break e}break;default:We=Pn,Pn=0,Sl=null,zm(d,ce,_e,We)}}BW(),W=ns;break}catch(dt){RF(d,dt)}while(!0);return f&&d.shellSuspendCounter++,uc=Ku=null,Bn=b,Y.H=j,Y.A=F,Jr===null&&(sa=null,en=0,Pf()),W}function BW(){for(;Jr!==null;)zF(Jr)}function EW(d,f){var x=Bn;Bn|=2;var b=QF(),j=HF();sa!==d||en!==f?(p1=null,m1=yt()+500,Hm(d,f)):Rm=jn(d,f);e:do try{if(Pn!==0&&Jr!==null){f=Jr;var F=Sl;t:switch(Pn){case 1:Pn=0,Sl=null,zm(d,f,F,1);break;case 2:case 9:if(Qe(F)){Pn=0,Sl=null,KF(f);break}f=function(){Pn!==2&&Pn!==9||sa!==d||(Pn=7),Zu(d)},F.then(f,f);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:Qe(F)?(Pn=0,Sl=null,KF(f)):(Pn=0,Sl=null,zm(d,f,F,7));break;case 5:var W=null;switch(Jr.tag){case 26:W=Jr.memoizedState;case 5:case 27:var ce=Jr;if(W?_O(W):ce.stateNode.complete){Pn=0,Sl=null;var _e=ce.sibling;if(_e!==null)Jr=_e;else{var We=ce.return;We!==null?(Jr=We,y1(We)):Jr=null}break t}}Pn=0,Sl=null,zm(d,f,F,5);break;case 6:Pn=0,Sl=null,zm(d,f,F,6);break;case 8:hN(),ns=6;break e;default:throw Error(n(462))}}jW();break}catch(dt){RF(d,dt)}while(!0);return uc=Ku=null,Y.H=b,Y.A=j,Bn=x,Jr!==null?0:(sa=null,en=0,Pf(),ns)}function jW(){for(;Jr!==null&&!Et();)zF(Jr)}function zF(d){var f=hF(d.alternate,d,Jd);d.memoizedProps=d.pendingProps,f===null?y1(d):Jr=f}function KF(d){var f=d,x=f.alternate;switch(f.tag){case 15:case 0:f=oF(x,f,f.pendingProps,f.type,void 0,en);break;case 11:f=oF(x,f,f.pendingProps,f.type.render,f.ref,en);break;case 5:Tm(f);default:mF(x,f),f=Jr=Mf(f,Jd),f=hF(x,f,Jd)}d.memoizedProps=d.pendingProps,f===null?y1(d):Jr=f}function zm(d,f,x,b){uc=Ku=null,Tm(f),xt=null,ar=0;var j=f.return;try{if(pW(d,j,f,x,en)){ns=1,i1(d,Uo(x,d.current)),Jr=null;return}}catch(F){if(j!==null)throw Jr=j,F;ns=1,i1(d,Uo(x,d.current)),Jr=null;return}f.flags&32768?(Xr||b===1?d=!0:Rm||(en&536870912)!==0?d=!1:(hh=d=!0,(b===2||b===9||b===3||b===6)&&(b=pa.current,b!==null&&b.tag===13&&(b.flags|=16384))),$F(f,d)):y1(f)}function y1(d){var f=d;do{if((f.flags&32768)!==0){$F(f,hh);return}d=f.return;var x=yW(f.alternate,f,Jd);if(x!==null){Jr=x;return}if(f=f.sibling,f!==null){Jr=f;return}Jr=f=d}while(f!==null);ns===0&&(ns=5)}function $F(d,f){do{var x=vW(d.alternate,d);if(x!==null){x.flags&=32767,Jr=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(d=d.sibling,d!==null)){Jr=d;return}Jr=d=x}while(d!==null);ns=6,Jr=null}function VF(d,f,x,b,j,F,W,ce,_e){d.cancelPendingCommit=null;do v1();while(Gs!==0);if((Bn&6)!==0)throw Error(n(327));if(f!==null){if(f===d.current)throw Error(n(177));if(F=f.lanes|f.childLanes,F|=pm,ba(d,x,F,W,ce,_e),d===sa&&(Jr=sa=null,en=0),Qm=f,ph=d,Zd=x,uN=F,dN=j,PF=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,FW(St,function(){return XF(),null})):(d.callbackNode=null,d.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=Y.T,Y.T=null,j=se.p,se.p=2,W=Bn,Bn|=4;try{bW(d,f,x)}finally{Bn=W,se.p=j,Y.T=b}}Gs=1,qF(),GF(),WF()}}function qF(){if(Gs===1){Gs=0;var d=ph,f=Qm,x=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||x){x=Y.T,Y.T=null;var b=se.p;se.p=2;var j=Bn;Bn|=4;try{EF(f,d);var F=BN,W=ru(d.containerInfo),ce=F.focusedElem,_e=F.selectionRange;if(W!==ce&&ce&&ce.ownerDocument&&tu(ce.ownerDocument.documentElement,ce)){if(_e!==null&&lc(ce)){var We=_e.start,dt=_e.end;if(dt===void 0&&(dt=We),"selectionStart"in ce)ce.selectionStart=We,ce.selectionEnd=Math.min(dt,ce.value.length);else{var gt=ce.ownerDocument||document,Je=gt&&gt.defaultView||window;if(Je.getSelection){var tt=Je.getSelection(),tr=ce.textContent.length,Er=Math.min(_e.start,tr),Xn=_e.end===void 0?Er:Math.min(_e.end,tr);!tt.extend&&Er>Xn&&(W=Xn,Xn=Er,Er=W);var Re=th(ce,Er),De=th(ce,Xn);if(Re&&De&&(tt.rangeCount!==1||tt.anchorNode!==Re.node||tt.anchorOffset!==Re.offset||tt.focusNode!==De.node||tt.focusOffset!==De.offset)){var Ge=gt.createRange();Ge.setStart(Re.node,Re.offset),tt.removeAllRanges(),Er>Xn?(tt.addRange(Ge),tt.extend(De.node,De.offset)):(Ge.setEnd(De.node,De.offset),tt.addRange(Ge))}}}}for(gt=[],tt=ce;tt=tt.parentNode;)tt.nodeType===1&&gt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<gt.length;ce++){var pt=gt[ce];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}F1=!!SN,BN=SN=null}finally{Bn=j,se.p=b,Y.T=x}}d.current=f,Gs=2}}function GF(){if(Gs===2){Gs=0;var d=ph,f=Qm,x=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||x){x=Y.T,Y.T=null;var b=se.p;se.p=2;var j=Bn;Bn|=4;try{wF(d,f.alternate,f)}finally{Bn=j,se.p=b,Y.T=x}}Gs=3}}function WF(){if(Gs===4||Gs===3){Gs=0,Le();var d=ph,f=Qm,x=Zd,b=PF;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Gs=5:(Gs=0,Qm=ph=null,YF(d,d.pendingLanes));var j=d.pendingLanes;if(j===0&&(mh=null),wa(x),f=f.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(It,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=Y.T,j=se.p,se.p=2,Y.T=null;try{for(var F=d.onRecoverableError,W=0;W<b.length;W++){var ce=b[W];F(ce.value,{componentStack:ce.stack})}}finally{Y.T=f,se.p=j}}(Zd&3)!==0&&v1(),Zu(d),j=d.pendingLanes,(x&261930)!==0&&(j&42)!==0?d===AN?cx++:(cx=0,AN=d):cx=0,ux(0)}}function YF(d,f){(d.pooledCacheLanes&=f)===0&&(f=d.pooledCache,f!=null&&(d.pooledCache=null,Qf(f)))}function v1(){return qF(),GF(),WF(),XF()}function XF(){if(Gs!==5)return!1;var d=ph,f=uN;uN=0;var x=wa(Zd),b=Y.T,j=se.p;try{se.p=32>x?32:x,Y.T=null,x=dN,dN=null;var F=ph,W=Zd;if(Gs=0,Qm=ph=null,Zd=0,(Bn&6)!==0)throw Error(n(331));var ce=Bn;if(Bn|=4,FF(F.current),_F(F,F.current,W,x),Bn=ce,ux(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(It,F)}catch{}return!0}finally{se.p=j,Y.T=b,YF(d,f)}}function JF(d,f,x){f=Uo(x,f),f=K5(d.stateNode,f,2),d=Ur(d,f,2),d!==null&&(Ar(d,2),Zu(d))}function In(d,f,x){if(d.tag===3)JF(d,d,x);else for(;f!==null;){if(f.tag===3){JF(f,d,x);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(mh===null||!mh.has(b))){d=Uo(x,d),x=Zk(2),b=Ur(f,x,2),b!==null&&(eF(x,b,f,d),Ar(b,2),Zu(b));break}}f=f.return}}function mN(d,f,x){var b=d.pingCache;if(b===null){b=d.pingCache=new NW;var j=new Set;b.set(f,j)}else j=b.get(f),j===void 0&&(j=new Set,b.set(f,j));j.has(x)||(oN=!0,j.add(x),d=_W.bind(null,d,f,x),f.then(d,d))}function _W(d,f,x){var b=d.pingCache;b!==null&&b.delete(f),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,sa===d&&(en&x)===x&&(ns===4||ns===3&&(en&62914560)===en&&300>yt()-f1?(Bn&2)===0&&Hm(d,0):lN|=x,Um===en&&(Um=0)),Zu(d)}function ZF(d,f){f===0&&(f=Rs()),d=au(d,f),d!==null&&(Ar(d,f),Zu(d))}function TW(d){var f=d.memoizedState,x=0;f!==null&&(x=f.retryLane),ZF(d,x)}function kW(d,f){var x=0;switch(d.tag){case 31:case 13:var b=d.stateNode,j=d.memoizedState;j!==null&&(x=j.retryLane);break;case 19:b=d.stateNode;break;case 22:b=d.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(f),ZF(d,x)}function FW(d,f){return Xe(d,f)}var b1=null,Km=null,pN=!1,w1=!1,gN=!1,xh=0;function Zu(d){d!==Km&&d.next===null&&(Km===null?b1=Km=d:Km=Km.next=d),w1=!0,pN||(pN=!0,DW())}function ux(d,f){if(!gN&&w1){gN=!0;do for(var x=!1,b=b1;b!==null;){if(d!==0){var j=b.pendingLanes;if(j===0)var F=0;else{var W=b.suspendedLanes,ce=b.pingedLanes;F=(1<<31-Br(42|d)+1)-1,F&=j&~(W&~ce),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,nO(b,F))}else F=en,F=Kt(b,b===sa?F:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(F&3)===0||jn(b,F)||(x=!0,nO(b,F));b=b.next}while(x);gN=!1}}function OW(){eO()}function eO(){w1=pN=!1;var d=0;xh!==0&&KW()&&(d=xh);for(var f=yt(),x=null,b=b1;b!==null;){var j=b.next,F=tO(b,f);F===0?(b.next=null,x===null?b1=j:x.next=j,j===null&&(Km=x)):(x=b,(d!==0||(F&3)!==0)&&(w1=!0)),b=j}Gs!==0&&Gs!==5||ux(d),xh!==0&&(xh=0)}function tO(d,f){for(var x=d.suspendedLanes,b=d.pingedLanes,j=d.expirationTimes,F=d.pendingLanes&-62914561;0<F;){var W=31-Br(F),ce=1<<W,_e=j[W];_e===-1?((ce&x)===0||(ce&b)!==0)&&(j[W]=Fr(ce,f)):_e<=f&&(d.expiredLanes|=ce),F&=~ce}if(f=sa,x=en,x=Kt(d,d===f?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b=d.callbackNode,x===0||d===f&&(Pn===2||Pn===9)||d.cancelPendingCommit!==null)return b!==null&&b!==null&&ft(b),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||jn(d,x)){if(f=x&-x,f===d.callbackPriority)return f;switch(b!==null&&ft(b),wa(x)){case 2:case 8:x=bt;break;case 32:x=St;break;case 268435456:x=st;break;default:x=St}return b=rO.bind(null,d),x=Xe(x,b),d.callbackPriority=f,d.callbackNode=x,f}return b!==null&&b!==null&&ft(b),d.callbackPriority=2,d.callbackNode=null,2}function rO(d,f){if(Gs!==0&&Gs!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(v1()&&d.callbackNode!==x)return null;var b=en;return b=Kt(d,d===sa?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b===0?null:(LF(d,b,f),tO(d,yt()),d.callbackNode!=null&&d.callbackNode===x?rO.bind(null,d):null)}function nO(d,f){if(v1())return null;LF(d,f,!0)}function DW(){VW(function(){(Bn&6)!==0?Xe(at,OW):eO()})}function xN(){if(xh===0){var d=N;d===0&&(d=mr,mr<<=1,(mr&261888)===0&&(mr=256)),xh=d}return xh}function aO(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:qi(""+d)}function sO(d,f){var x=f.ownerDocument.createElement("input");return x.name=f.name,x.value=f.value,d.id&&x.setAttribute("form",d.id),f.parentNode.insertBefore(x,f),d=new FormData(d),x.parentNode.removeChild(x),d}function PW(d,f,x,b,j){if(f==="submit"&&x&&x.stateNode===j){var F=aO((j[xe]||null).action),W=b.submitter;W&&(f=(f=W[xe]||null)?aO(f.formAction):W.getAttribute("formAction"),f!==null&&(F=f,W=null));var ce=new Io("action","action",null,b,j);d.push({event:ce,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(xh!==0){var _e=W?sO(j,W):new FormData(j);M5(x,{pending:!0,data:_e,method:j.method,action:F},null,_e)}}else typeof F=="function"&&(ce.preventDefault(),_e=W?sO(j,W):new FormData(j),M5(x,{pending:!0,data:_e,method:j.method,action:F},F,_e))},currentTarget:j}]})}}for(var yN=0;yN<Md.length;yN++){var vN=Md[yN],IW=vN.toLowerCase(),LW=vN[0].toUpperCase()+vN.slice(1);Mo(IW,"on"+LW)}Mo(Ld,"onAnimationEnd"),Mo(Of,"onAnimationIteration"),Mo(Rg,"onAnimationStart"),Mo("dblclick","onDoubleClick"),Mo("focusin","onFocus"),Mo("focusout","onBlur"),Mo(qv,"onTransitionRun"),Mo(Gv,"onTransitionStart"),Mo(Wv,"onTransitionCancel"),Mo(Ug,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dx));function iO(d,f){f=(f&4)!==0;for(var x=0;x<d.length;x++){var b=d[x],j=b.event;b=b.listeners;e:{var F=void 0;if(f)for(var W=b.length-1;0<=W;W--){var ce=b[W],_e=ce.instance,We=ce.currentTarget;if(ce=ce.listener,_e!==F&&j.isPropagationStopped())break e;F=ce,j.currentTarget=We;try{F(j)}catch(dt){Df(dt)}j.currentTarget=null,F=_e}else for(W=0;W<b.length;W++){if(ce=b[W],_e=ce.instance,We=ce.currentTarget,ce=ce.listener,_e!==F&&j.isPropagationStopped())break e;F=ce,j.currentTarget=We;try{F(j)}catch(dt){Df(dt)}j.currentTarget=null,F=_e}}}}function Zr(d,f){var x=f[He];x===void 0&&(x=f[He]=new Set);var b=d+"__bubble";x.has(b)||(oO(f,d,2,!1),x.add(b))}function bN(d,f,x){var b=0;f&&(b|=4),oO(x,d,b,f)}var C1="_reactListening"+Math.random().toString(36).slice(2);function wN(d){if(!d[C1]){d[C1]=!0,Cn.forEach(function(x){x!=="selectionchange"&&(MW.has(x)||bN(x,!1,d),bN(x,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[C1]||(f[C1]=!0,bN("selectionchange",!1,f))}}function oO(d,f,x,b){switch(IO(f)){case 2:var j=AY;break;case 8:j=hY;break;default:j=LN}x=j.bind(null,f,x,d),j=void 0,!jf||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(j=!0),b?j!==void 0?d.addEventListener(f,x,{capture:!0,passive:j}):d.addEventListener(f,x,!0):j!==void 0?d.addEventListener(f,x,{passive:j}):d.addEventListener(f,x,!1)}function CN(d,f,x,b,j){var F=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var ce=b.stateNode.containerInfo;if(ce===j)break;if(W===4)for(W=b.return;W!==null;){var _e=W.tag;if((_e===3||_e===4)&&W.stateNode.containerInfo===j)return;W=W.return}for(;ce!==null;){if(W=kt(ce),W===null)return;if(_e=W.tag,_e===5||_e===6||_e===26||_e===27){b=F=W;continue e}ce=ce.parentNode}}b=b.return}dm(function(){var We=F,dt=Td(x),gt=[];e:{var Je=Qg.get(d);if(Je!==void 0){var tt=Io,tr=d;switch(d){case"keypress":if(Po(x)===0)break e;case"keydown":case"keyup":tt=an;break;case"focusin":tr="focus",tt=qc;break;case"focusout":tr="blur",tt=qc;break;case"beforeblur":case"afterblur":tt=qc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=us;break;case Ld:case Of:case Rg:tt=M;break;case Ug:tt=Qs;break;case"scroll":case"scrollend":tt=GA;break;case"wheel":tt=yl;break;case"copy":case"cut":case"paste":tt=Ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Ia;break;case"toggle":case"beforetoggle":tt=Tf}var Er=(f&4)!==0,Xn=!Er&&(d==="scroll"||d==="scrollend"),Re=Er?Je!==null?Je+"Capture":null:Je;Er=[];for(var De=We,Ge;De!==null;){var pt=De;if(Ge=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ge===null||Re===null||(pt=fo(De,Re),pt!=null&&Er.push(Ax(De,pt,Ge))),Xn)break;De=De.return}0<Er.length&&(Je=new tt(Je,tr,null,x,dt),gt.push({event:Je,listeners:Er}))}}if((f&7)===0){e:{if(Je=d==="mouseover"||d==="pointerover",tt=d==="mouseout"||d==="pointerout",Je&&x!==Qc&&(tr=x.relatedTarget||x.fromElement)&&(kt(tr)||tr[Ne]))break e;if((tt||Je)&&(Je=dt.window===dt?dt:(Je=dt.ownerDocument)?Je.defaultView||Je.parentWindow:window,tt?(tr=x.relatedTarget||x.toElement,tt=We,tr=tr?kt(tr):null,tr!==null&&(Xn=s(tr),Er=tr.tag,tr!==Xn||Er!==5&&Er!==27&&Er!==6)&&(tr=null)):(tt=null,tr=We),tt!==tr)){if(Er=_f,pt="onMouseLeave",Re="onMouseEnter",De="mouse",(d==="pointerout"||d==="pointerover")&&(Er=Ia,pt="onPointerLeave",Re="onPointerEnter",De="pointer"),Xn=tt==null?Je:_t(tt),Ge=tr==null?Je:_t(tr),Je=new Er(pt,De+"leave",tt,x,dt),Je.target=Xn,Je.relatedTarget=Ge,pt=null,kt(dt)===We&&(Er=new Er(Re,De+"enter",tr,x,dt),Er.target=Ge,Er.relatedTarget=Xn,pt=Er),Xn=pt,tt&&tr)t:{for(Er=RW,Re=tt,De=tr,Ge=0,pt=Re;pt;pt=Er(pt))Ge++;pt=0;for(var vr=De;vr;vr=Er(vr))pt++;for(;0<Ge-pt;)Re=Er(Re),Ge--;for(;0<pt-Ge;)De=Er(De),pt--;for(;Ge--;){if(Re===De||De!==null&&Re===De.alternate){Er=Re;break t}Re=Er(Re),De=Er(De)}Er=null}else Er=null;tt!==null&&lO(gt,Je,tt,Er,!1),tr!==null&&Xn!==null&&lO(gt,Xn,tr,Er,!0)}}e:{if(Je=We?_t(We):window,tt=Je.nodeName&&Je.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Je.type==="file")var gn=Uu;else if(kf(Je))if(Gi)gn=ic;else{gn=La;var dr=ZA}else tt=Je.nodeName,!tt||tt.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?We&&Sf(We.elementType)&&(gn=Uu):gn=mm;if(gn&&(gn=gn(d,We))){po(gt,gn,x,dt);break e}dr&&dr(d,Je,We),d==="focusout"&&We&&Je.type==="number"&&We.memoizedProps.value!=null&&wf(Je,"number",Je.value)}switch(dr=We?_t(We):window,d){case"focusin":(kf(dr)||dr.contentEditable==="true")&&(go=dr,nu=We,si=null);break;case"focusout":si=nu=go=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,fn(gt,x,dt);break;case"selectionchange":if(Id)break;case"keydown":case"keyup":fn(gt,x,dt)}var Hr;if(rc)e:{switch(d){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else nc?Ru(d,x)&&(tn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(tn="onCompositionStart");tn&&(Yc&&x.locale!=="ko"&&(nc||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&nc&&(Hr=Am()):(mo=dt,Fd="value"in mo?mo.value:mo.textContent,nc=!0)),dr=N1(We,tn),0<dr.length&&(tn=new Me(tn,d,null,x,dt),gt.push({event:tn,listeners:dr}),Hr?tn.data=Hr:(Hr=YA(x),Hr!==null&&(tn.data=Hr)))),(Hr=Pd?ji(d,x):Xc(d,x))&&(tn=N1(We,"onBeforeInput"),0<tn.length&&(dr=new Me("onBeforeInput","beforeinput",null,x,dt),gt.push({event:dr,listeners:tn}),dr.data=Hr)),PW(gt,d,We,x,dt)}iO(gt,f)})}function Ax(d,f,x){return{instance:d,listener:f,currentTarget:x}}function N1(d,f){for(var x=f+"Capture",b=[];d!==null;){var j=d,F=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||F===null||(j=fo(d,x),j!=null&&b.unshift(Ax(d,j,F)),j=fo(d,f),j!=null&&b.push(Ax(d,j,F))),d.tag===3)return b;d=d.return}return[]}function RW(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function lO(d,f,x,b,j){for(var F=f._reactName,W=[];x!==null&&x!==b;){var ce=x,_e=ce.alternate,We=ce.stateNode;if(ce=ce.tag,_e!==null&&_e===b)break;ce!==5&&ce!==26&&ce!==27||We===null||(_e=We,j?(We=fo(x,F),We!=null&&W.unshift(Ax(x,We,_e))):j||(We=fo(x,F),We!=null&&W.push(Ax(x,We,_e)))),x=x.return}W.length!==0&&d.push({event:f,listeners:W})}var UW=/\r\n?/g,QW=/\u0000|\uFFFD/g;function cO(d){return(typeof d=="string"?d:""+d).replace(UW,`
`).replace(QW,"")}function uO(d,f){return f=cO(f),cO(d)===f}function Yn(d,f,x,b,j,F){switch(x){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||gl(d,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&gl(d,""+b);break;case"className":Uc(d,"class",b);break;case"tabIndex":Uc(d,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Uc(d,x,b);break;case"style":lm(d,b,F);break;case"data":if(f!=="object"){Uc(d,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||x!=="href")){d.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(x);break}b=qi(""+b),d.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(f!=="input"&&Yn(d,f,"name",j.name,j,null),Yn(d,f,"formEncType",j.formEncType,j,null),Yn(d,f,"formMethod",j.formMethod,j,null),Yn(d,f,"formTarget",j.formTarget,j,null)):(Yn(d,f,"encType",j.encType,j,null),Yn(d,f,"method",j.method,j,null),Yn(d,f,"target",j.target,j,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(x);break}b=qi(""+b),d.setAttribute(x,b);break;case"onClick":b!=null&&(d.onclick=xl);break;case"onScroll":b!=null&&Zr("scroll",d);break;case"onScrollEnd":b!=null&&Zr("scrollend",d);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(x=b.__html,x!=null){if(j.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"multiple":d.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":d.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){d.removeAttribute("xlink:href");break}x=qi(""+b),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,""+b):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":b===!0?d.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(x,b):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?d.setAttribute(x,b):d.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?d.removeAttribute(x):d.setAttribute(x,b);break;case"popover":Zr("beforetoggle",d),Zr("toggle",d),Aa(d,"popover",b);break;case"xlinkActuate":pl(d,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":pl(d,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":pl(d,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":pl(d,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":pl(d,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":pl(d,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":pl(d,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":pl(d,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":pl(d,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Aa(d,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Bf.get(x)||x,Aa(d,x,b))}}function NN(d,f,x,b,j,F){switch(x){case"style":lm(d,b,F);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(x=b.__html,x!=null){if(j.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"children":typeof b=="string"?gl(d,b):(typeof b=="number"||typeof b=="bigint")&&gl(d,""+b);break;case"onScroll":b!=null&&Zr("scroll",d);break;case"onScrollEnd":b!=null&&Zr("scrollend",d);break;case"onClick":b!=null&&(d.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(j=x.endsWith("Capture"),f=x.slice(2,j?x.length-7:void 0),F=d[xe]||null,F=F!=null?F[x]:null,typeof F=="function"&&d.removeEventListener(f,F,j),typeof b=="function")){typeof F!="function"&&F!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(f,b,j);break e}x in d?d[x]=b:b===!0?d.setAttribute(x,""):Aa(d,x,b)}}}function Oi(d,f,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zr("error",d),Zr("load",d);var b=!1,j=!1,F;for(F in x)if(x.hasOwnProperty(F)){var W=x[F];if(W!=null)switch(F){case"src":b=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Yn(d,f,F,W,x,null)}}j&&Yn(d,f,"srcSet",x.srcSet,x,null),b&&Yn(d,f,"src",x.src,x,null);return;case"input":Zr("invalid",d);var ce=F=W=j=null,_e=null,We=null;for(b in x)if(x.hasOwnProperty(b)){var dt=x[b];if(dt!=null)switch(b){case"name":j=dt;break;case"type":W=dt;break;case"checked":_e=dt;break;case"defaultChecked":We=dt;break;case"value":F=dt;break;case"defaultValue":ce=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(n(137,f));break;default:Yn(d,f,b,dt,x,null)}}im(d,F,ce,_e,We,W,j,!1);return;case"select":Zr("invalid",d),b=W=F=null;for(j in x)if(x.hasOwnProperty(j)&&(ce=x[j],ce!=null))switch(j){case"value":F=ce;break;case"defaultValue":W=ce;break;case"multiple":b=ce;default:Yn(d,f,j,ce,x,null)}f=F,x=W,d.multiple=!!b,f!=null?Ei(d,!!b,f,!1):x!=null&&Ei(d,!!b,x,!0);return;case"textarea":Zr("invalid",d),F=j=b=null;for(W in x)if(x.hasOwnProperty(W)&&(ce=x[W],ce!=null))switch(W){case"value":b=ce;break;case"defaultValue":j=ce;break;case"children":F=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:Yn(d,f,W,ce,x,null)}Nf(d,b,j,F);return;case"option":for(_e in x)x.hasOwnProperty(_e)&&(b=x[_e],b!=null)&&(_e==="selected"?d.selected=b&&typeof b!="function"&&typeof b!="symbol":Yn(d,f,_e,b,x,null));return;case"dialog":Zr("beforetoggle",d),Zr("toggle",d),Zr("cancel",d),Zr("close",d);break;case"iframe":case"object":Zr("load",d);break;case"video":case"audio":for(b=0;b<dx.length;b++)Zr(dx[b],d);break;case"image":Zr("error",d),Zr("load",d);break;case"details":Zr("toggle",d);break;case"embed":case"source":case"link":Zr("error",d),Zr("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in x)if(x.hasOwnProperty(We)&&(b=x[We],b!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Yn(d,f,We,b,x,null)}return;default:if(Sf(f)){for(dt in x)x.hasOwnProperty(dt)&&(b=x[dt],b!==void 0&&NN(d,f,dt,b,x,void 0));return}}for(ce in x)x.hasOwnProperty(ce)&&(b=x[ce],b!=null&&Yn(d,f,ce,b,x,null))}function HW(d,f,x,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,F=null,W=null,ce=null,_e=null,We=null,dt=null;for(tt in x){var gt=x[tt];if(x.hasOwnProperty(tt)&&gt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":_e=gt;default:b.hasOwnProperty(tt)||Yn(d,f,tt,null,b,gt)}}for(var Je in b){var tt=b[Je];if(gt=x[Je],b.hasOwnProperty(Je)&&(tt!=null||gt!=null))switch(Je){case"type":F=tt;break;case"name":j=tt;break;case"checked":We=tt;break;case"defaultChecked":dt=tt;break;case"value":W=tt;break;case"defaultValue":ce=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,f));break;default:tt!==gt&&Yn(d,f,Je,tt,b,gt)}}$A(d,W,ce,_e,We,dt,F,j);return;case"select":tt=W=ce=Je=null;for(F in x)if(_e=x[F],x.hasOwnProperty(F)&&_e!=null)switch(F){case"value":break;case"multiple":tt=_e;default:b.hasOwnProperty(F)||Yn(d,f,F,null,b,_e)}for(j in b)if(F=b[j],_e=x[j],b.hasOwnProperty(j)&&(F!=null||_e!=null))switch(j){case"value":Je=F;break;case"defaultValue":ce=F;break;case"multiple":W=F;default:F!==_e&&Yn(d,f,j,F,b,_e)}f=ce,x=W,b=tt,Je!=null?Ei(d,!!x,Je,!1):!!b!=!!x&&(f!=null?Ei(d,!!x,f,!0):Ei(d,!!x,x?[]:"",!1));return;case"textarea":tt=Je=null;for(ce in x)if(j=x[ce],x.hasOwnProperty(ce)&&j!=null&&!b.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Yn(d,f,ce,null,b,j)}for(W in b)if(j=b[W],F=x[W],b.hasOwnProperty(W)&&(j!=null||F!=null))switch(W){case"value":Je=j;break;case"defaultValue":tt=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==F&&Yn(d,f,W,j,b,F)}Cf(d,Je,tt);return;case"option":for(var tr in x)Je=x[tr],x.hasOwnProperty(tr)&&Je!=null&&!b.hasOwnProperty(tr)&&(tr==="selected"?d.selected=!1:Yn(d,f,tr,null,b,Je));for(_e in b)Je=b[_e],tt=x[_e],b.hasOwnProperty(_e)&&Je!==tt&&(Je!=null||tt!=null)&&(_e==="selected"?d.selected=Je&&typeof Je!="function"&&typeof Je!="symbol":Yn(d,f,_e,Je,b,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Er in x)Je=x[Er],x.hasOwnProperty(Er)&&Je!=null&&!b.hasOwnProperty(Er)&&Yn(d,f,Er,null,b,Je);for(We in b)if(Je=b[We],tt=x[We],b.hasOwnProperty(We)&&Je!==tt&&(Je!=null||tt!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,f));break;default:Yn(d,f,We,Je,b,tt)}return;default:if(Sf(f)){for(var Xn in x)Je=x[Xn],x.hasOwnProperty(Xn)&&Je!==void 0&&!b.hasOwnProperty(Xn)&&NN(d,f,Xn,void 0,b,Je);for(dt in b)Je=b[dt],tt=x[dt],!b.hasOwnProperty(dt)||Je===tt||Je===void 0&&tt===void 0||NN(d,f,dt,Je,b,tt);return}}for(var Re in x)Je=x[Re],x.hasOwnProperty(Re)&&Je!=null&&!b.hasOwnProperty(Re)&&Yn(d,f,Re,null,b,Je);for(gt in b)Je=b[gt],tt=x[gt],!b.hasOwnProperty(gt)||Je===tt||Je==null&&tt==null||Yn(d,f,gt,Je,b,tt)}function dO(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zW(){if(typeof performance.getEntriesByType=="function"){for(var d=0,f=0,x=performance.getEntriesByType("resource"),b=0;b<x.length;b++){var j=x[b],F=j.transferSize,W=j.initiatorType,ce=j.duration;if(F&&ce&&dO(W)){for(W=0,ce=j.responseEnd,b+=1;b<x.length;b++){var _e=x[b],We=_e.startTime;if(We>ce)break;var dt=_e.transferSize,gt=_e.initiatorType;dt&&dO(gt)&&(_e=_e.responseEnd,W+=dt*(_e<ce?1:(ce-We)/(_e-We)))}if(--b,f+=8*(F+W)/(j.duration/1e3),d++,10<d)break}}if(0<d)return f/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var SN=null,BN=null;function S1(d){return d.nodeType===9?d:d.ownerDocument}function AO(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hO(d,f){if(d===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&f==="foreignObject"?0:d}function EN(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var jN=null;function KW(){var d=window.event;return d&&d.type==="popstate"?d===jN?!1:(jN=d,!0):(jN=null,!1)}var fO=typeof setTimeout=="function"?setTimeout:void 0,$W=typeof clearTimeout=="function"?clearTimeout:void 0,mO=typeof Promise=="function"?Promise:void 0,VW=typeof queueMicrotask=="function"?queueMicrotask:typeof mO<"u"?function(d){return mO.resolve(null).then(d).catch(qW)}:fO;function qW(d){setTimeout(function(){throw d})}function yh(d){return d==="head"}function pO(d,f){var x=f,b=0;do{var j=x.nextSibling;if(d.removeChild(x),j&&j.nodeType===8)if(x=j.data,x==="/$"||x==="/&"){if(b===0){d.removeChild(j),Gm(f);return}b--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")b++;else if(x==="html")hx(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,hx(x);for(var F=x.firstChild;F;){var W=F.nextSibling,ce=F.nodeName;F[qe]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&F.rel.toLowerCase()==="stylesheet"||x.removeChild(F),F=W}}else x==="body"&&hx(d.ownerDocument.body);x=j}while(x);Gm(f)}function gO(d,f){var x=d;d=0;do{var b=x.nextSibling;if(x.nodeType===1?f?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(f?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),b&&b.nodeType===8)if(x=b.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=b}while(x)}function _N(d){var f=d.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var x=f;switch(f=f.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":_N(x),Nt(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function GW(d,f,x,b){for(;d.nodeType===1;){var j=x;if(d.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(b){if(!d[qe])switch(f){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(F=d.getAttribute("rel"),F==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(F!==j.rel||d.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||d.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||d.getAttribute("title")!==(j.title==null?null:j.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(F=d.getAttribute("src"),(F!==(j.src==null?null:j.src)||d.getAttribute("type")!==(j.type==null?null:j.type)||d.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&F&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(f==="input"&&d.type==="hidden"){var F=j.name==null?null:""+j.name;if(j.type==="hidden"&&d.getAttribute("name")===F)return d}else return d;if(d=hc(d.nextSibling),d===null)break}return null}function WW(d,f,x){if(f==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=hc(d.nextSibling),d===null))return null;return d}function xO(d,f){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!f||(d=hc(d.nextSibling),d===null))return null;return d}function TN(d){return d.data==="$?"||d.data==="$~"}function kN(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function YW(d,f){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=f;else if(d.data!=="$?"||x.readyState!=="loading")f();else{var b=function(){f(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),d._reactRetry=b}}function hc(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return d}var FN=null;function yO(d){d=d.nextSibling;for(var f=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(f===0)return hc(d.nextSibling);f--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||f++}d=d.nextSibling}return null}function vO(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(f===0)return d;f--}else x!=="/$"&&x!=="/&"||f++}d=d.previousSibling}return null}function bO(d,f,x){switch(f=S1(x),d){case"html":if(d=f.documentElement,!d)throw Error(n(452));return d;case"head":if(d=f.head,!d)throw Error(n(453));return d;case"body":if(d=f.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function hx(d){for(var f=d.attributes;f.length;)d.removeAttributeNode(f[0]);Nt(d)}var fc=new Map,wO=new Set;function B1(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var eA=se.d;se.d={f:XW,r:JW,D:ZW,C:eY,L:tY,m:rY,X:aY,S:nY,M:sY};function XW(){var d=eA.f(),f=g1();return d||f}function JW(d){var f=Mt(d);f!==null&&f.tag===5&&f.type==="form"?Rk(f):eA.r(d)}var $m=typeof document>"u"?null:document;function CO(d,f,x){var b=$m;if(b&&typeof f=="string"&&f){var j=Ya(f);j='link[rel="'+d+'"][href="'+j+'"]',typeof x=="string"&&(j+='[crossorigin="'+x+'"]'),wO.has(j)||(wO.add(j),d={rel:d,crossOrigin:x,href:f},b.querySelector(j)===null&&(f=b.createElement("link"),Oi(f,"link",d),Gt(f),b.head.appendChild(f)))}}function ZW(d){eA.D(d),CO("dns-prefetch",d,null)}function eY(d,f){eA.C(d,f),CO("preconnect",d,f)}function tY(d,f,x){eA.L(d,f,x);var b=$m;if(b&&d&&f){var j='link[rel="preload"][as="'+Ya(f)+'"]';f==="image"&&x&&x.imageSrcSet?(j+='[imagesrcset="'+Ya(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(j+='[imagesizes="'+Ya(x.imageSizes)+'"]')):j+='[href="'+Ya(d)+'"]';var F=j;switch(f){case"style":F=Vm(d);break;case"script":F=qm(d)}fc.has(F)||(d=h({rel:"preload",href:f==="image"&&x&&x.imageSrcSet?void 0:d,as:f},x),fc.set(F,d),b.querySelector(j)!==null||f==="style"&&b.querySelector(fx(F))||f==="script"&&b.querySelector(mx(F))||(f=b.createElement("link"),Oi(f,"link",d),Gt(f),b.head.appendChild(f)))}}function rY(d,f){eA.m(d,f);var x=$m;if(x&&d){var b=f&&typeof f.as=="string"?f.as:"script",j='link[rel="modulepreload"][as="'+Ya(b)+'"][href="'+Ya(d)+'"]',F=j;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=qm(d)}if(!fc.has(F)&&(d=h({rel:"modulepreload",href:d},f),fc.set(F,d),x.querySelector(j)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(mx(F)))return}b=x.createElement("link"),Oi(b,"link",d),Gt(b),x.head.appendChild(b)}}}function nY(d,f,x){eA.S(d,f,x);var b=$m;if(b&&d){var j=Dt(b).hoistableStyles,F=Vm(d);f=f||"default";var W=j.get(F);if(!W){var ce={loading:0,preload:null};if(W=b.querySelector(fx(F)))ce.loading=5;else{d=h({rel:"stylesheet",href:d,"data-precedence":f},x),(x=fc.get(F))&&ON(d,x);var _e=W=b.createElement("link");Gt(_e),Oi(_e,"link",d),_e._p=new Promise(function(We,dt){_e.onload=We,_e.onerror=dt}),_e.addEventListener("load",function(){ce.loading|=1}),_e.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,E1(W,f,b)}W={type:"stylesheet",instance:W,count:1,state:ce},j.set(F,W)}}}function aY(d,f){eA.X(d,f);var x=$m;if(x&&d){var b=Dt(x).hoistableScripts,j=qm(d),F=b.get(j);F||(F=x.querySelector(mx(j)),F||(d=h({src:d,async:!0},f),(f=fc.get(j))&&DN(d,f),F=x.createElement("script"),Gt(F),Oi(F,"link",d),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},b.set(j,F))}}function sY(d,f){eA.M(d,f);var x=$m;if(x&&d){var b=Dt(x).hoistableScripts,j=qm(d),F=b.get(j);F||(F=x.querySelector(mx(j)),F||(d=h({src:d,async:!0,type:"module"},f),(f=fc.get(j))&&DN(d,f),F=x.createElement("script"),Gt(F),Oi(F,"link",d),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},b.set(j,F))}}function NO(d,f,x,b){var j=(j=ae.current)?B1(j):null;if(!j)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(f=Vm(x.href),x=Dt(j).hoistableStyles,b=x.get(f),b||(b={type:"style",instance:null,count:0,state:null},x.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=Vm(x.href);var F=Dt(j).hoistableStyles,W=F.get(d);if(W||(j=j.ownerDocument||j,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(d,W),(F=j.querySelector(fx(d)))&&!F._p&&(W.instance=F,W.state.loading=5),fc.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},fc.set(d,x),F||iY(j,d,x,W.state))),f&&b===null)throw Error(n(528,""));return W}if(f&&b!==null)throw Error(n(529,""));return null;case"script":return f=x.async,x=x.src,typeof x=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=qm(x),x=Dt(j).hoistableScripts,b=x.get(f),b||(b={type:"script",instance:null,count:0,state:null},x.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function Vm(d){return'href="'+Ya(d)+'"'}function fx(d){return'link[rel="stylesheet"]['+d+"]"}function SO(d){return h({},d,{"data-precedence":d.precedence,precedence:null})}function iY(d,f,x,b){d.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=d.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),Oi(f,"link",x),Gt(f),d.head.appendChild(f))}function qm(d){return'[src="'+Ya(d)+'"]'}function mx(d){return"script[async]"+d}function BO(d,f,x){if(f.count++,f.instance===null)switch(f.type){case"style":var b=d.querySelector('style[data-href~="'+Ya(x.href)+'"]');if(b)return f.instance=b,Gt(b),b;var j=h({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(d.ownerDocument||d).createElement("style"),Gt(b),Oi(b,"style",j),E1(b,x.precedence,d),f.instance=b;case"stylesheet":j=Vm(x.href);var F=d.querySelector(fx(j));if(F)return f.state.loading|=4,f.instance=F,Gt(F),F;b=SO(x),(j=fc.get(j))&&ON(b,j),F=(d.ownerDocument||d).createElement("link"),Gt(F);var W=F;return W._p=new Promise(function(ce,_e){W.onload=ce,W.onerror=_e}),Oi(F,"link",b),f.state.loading|=4,E1(F,x.precedence,d),f.instance=F;case"script":return F=qm(x.src),(j=d.querySelector(mx(F)))?(f.instance=j,Gt(j),j):(b=x,(j=fc.get(F))&&(b=h({},x),DN(b,j)),d=d.ownerDocument||d,j=d.createElement("script"),Gt(j),Oi(j,"link",b),d.head.appendChild(j),f.instance=j);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,E1(b,x.precedence,d));return f.instance}function E1(d,f,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=b.length?b[b.length-1]:null,F=j,W=0;W<b.length;W++){var ce=b[W];if(ce.dataset.precedence===f)F=ce;else if(F!==j)break}F?F.parentNode.insertBefore(d,F.nextSibling):(f=x.nodeType===9?x.head:x,f.insertBefore(d,f.firstChild))}function ON(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.title==null&&(d.title=f.title)}function DN(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.integrity==null&&(d.integrity=f.integrity)}var j1=null;function EO(d,f,x){if(j1===null){var b=new Map,j=j1=new Map;j.set(x,b)}else j=j1,b=j.get(x),b||(b=new Map,j.set(x,b));if(b.has(d))return b;for(b.set(d,null),x=x.getElementsByTagName(d),j=0;j<x.length;j++){var F=x[j];if(!(F[qe]||F[fe]||d==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var W=F.getAttribute(f)||"";W=d+W;var ce=b.get(W);ce?ce.push(F):b.set(W,[F])}}return b}function jO(d,f,x){d=d.ownerDocument||d,d.head.insertBefore(x,f==="title"?d.querySelector("head > title"):null)}function oY(d,f,x){if(x===1||f.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(d=f.disabled,typeof f.precedence=="string"&&d==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function _O(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function lY(d,f,x,b){if(x.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var j=Vm(b.href),F=f.querySelector(fx(j));if(F){f=F._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(d.count++,d=_1.bind(d),f.then(d,d)),x.state.loading|=4,x.instance=F,Gt(F);return}F=f.ownerDocument||f,b=SO(b),(j=fc.get(j))&&ON(b,j),F=F.createElement("link"),Gt(F);var W=F;W._p=new Promise(function(ce,_e){W.onload=ce,W.onerror=_e}),Oi(F,"link",b),x.instance=F}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,f),(f=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=_1.bind(d),f.addEventListener("load",x),f.addEventListener("error",x))}}var PN=0;function cY(d,f){return d.stylesheets&&d.count===0&&k1(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var b=setTimeout(function(){if(d.stylesheets&&k1(d,d.stylesheets),d.unsuspend){var F=d.unsuspend;d.unsuspend=null,F()}},6e4+f);0<d.imgBytes&&PN===0&&(PN=62500*zW());var j=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&k1(d,d.stylesheets),d.unsuspend)){var F=d.unsuspend;d.unsuspend=null,F()}},(d.imgBytes>PN?50:800)+f);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(b),clearTimeout(j)}}:null}function _1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)k1(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var T1=null;function k1(d,f){d.stylesheets=null,d.unsuspend!==null&&(d.count++,T1=new Map,f.forEach(uY,d),T1=null,_1.call(d))}function uY(d,f){if(!(f.state.loading&4)){var x=T1.get(d);if(x)var b=x.get(null);else{x=new Map,T1.set(d,x);for(var j=d.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<j.length;F++){var W=j[F];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(x.set(W.dataset.precedence,W),b=W)}b&&x.set(null,b)}j=f.instance,W=j.getAttribute("data-precedence"),F=x.get(W)||b,F===b&&x.set(null,j),x.set(W,j),this.count++,b=_1.bind(this),j.addEventListener("load",b),j.addEventListener("error",b),F?F.parentNode.insertBefore(j,F.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(j,d.firstChild)),f.state.loading|=4}}var px={$$typeof:C,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function dY(d,f,x,b,j,F,W,ce,_e){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=b,this.onUncaughtError=j,this.onCaughtError=F,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function TO(d,f,x,b,j,F,W,ce,_e,We,dt,gt){return d=new dY(d,f,x,W,_e,We,dt,gt,ce),f=1,F===!0&&(f|=24),F=oi(3,null,null,f),d.current=F,F.stateNode=d,f=oh(),f.refCount++,d.pooledCache=f,f.refCount++,F.memoizedState={element:b,isDehydrated:x,cache:f},Lt(F),d}function kO(d){return d?(d=zs,d):zs}function FO(d,f,x,b,j,F){j=kO(j),b.context===null?b.context=j:b.pendingContext=j,b=Sr(f),b.payload={element:x},F=F===void 0?null:F,F!==null&&(b.callback=F),x=Ur(d,b,f),x!==null&&(Xo(x,d,f),Nn(x,d,f))}function OO(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<f?x:f}}function IN(d,f){OO(d,f),(d=d.alternate)&&OO(d,f)}function DO(d){if(d.tag===13||d.tag===31){var f=au(d,67108864);f!==null&&Xo(f,d,67108864),IN(d,67108864)}}function PO(d){if(d.tag===13||d.tag===31){var f=El();f=_n(f);var x=au(d,f);x!==null&&Xo(x,d,f),IN(d,f)}}var F1=!0;function AY(d,f,x,b){var j=Y.T;Y.T=null;var F=se.p;try{se.p=2,LN(d,f,x,b)}finally{se.p=F,Y.T=j}}function hY(d,f,x,b){var j=Y.T;Y.T=null;var F=se.p;try{se.p=8,LN(d,f,x,b)}finally{se.p=F,Y.T=j}}function LN(d,f,x,b){if(F1){var j=MN(b);if(j===null)CN(d,f,b,O1,x),LO(d,b);else if(mY(j,d,f,x,b))b.stopPropagation();else if(LO(d,b),f&4&&-1<fY.indexOf(d)){for(;j!==null;){var F=Mt(j);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var W=Ut(F.pendingLanes);if(W!==0){var ce=F;for(ce.pendingLanes|=2,ce.entangledLanes|=2;W;){var _e=1<<31-Br(W);ce.entanglements[1]|=_e,W&=~_e}Zu(F),(Bn&6)===0&&(m1=yt()+500,ux(0))}}break;case 31:case 13:ce=au(F,2),ce!==null&&Xo(ce,F,2),g1(),IN(F,2)}if(F=MN(b),F===null&&CN(d,f,b,O1,x),F===j)break;j=F}j!==null&&b.stopPropagation()}else CN(d,f,b,null,x)}}function MN(d){return d=Td(d),RN(d)}var O1=null;function RN(d){if(O1=null,d=kt(d),d!==null){var f=s(d);if(f===null)d=null;else{var x=f.tag;if(x===13){if(d=i(f),d!==null)return d;d=null}else if(x===31){if(d=l(f),d!==null)return d;d=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null)}}return O1=d,null}function IO(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case at:return 2;case bt:return 8;case St:case Be:return 32;case st:return 268435456;default:return 32}default:return 32}}var UN=!1,vh=null,bh=null,wh=null,gx=new Map,xx=new Map,Ch=[],fY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LO(d,f){switch(d){case"focusin":case"focusout":vh=null;break;case"dragenter":case"dragleave":bh=null;break;case"mouseover":case"mouseout":wh=null;break;case"pointerover":case"pointerout":gx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":xx.delete(f.pointerId)}}function yx(d,f,x,b,j,F){return d===null||d.nativeEvent!==F?(d={blockedOn:f,domEventName:x,eventSystemFlags:b,nativeEvent:F,targetContainers:[j]},f!==null&&(f=Mt(f),f!==null&&DO(f)),d):(d.eventSystemFlags|=b,f=d.targetContainers,j!==null&&f.indexOf(j)===-1&&f.push(j),d)}function mY(d,f,x,b,j){switch(f){case"focusin":return vh=yx(vh,d,f,x,b,j),!0;case"dragenter":return bh=yx(bh,d,f,x,b,j),!0;case"mouseover":return wh=yx(wh,d,f,x,b,j),!0;case"pointerover":var F=j.pointerId;return gx.set(F,yx(gx.get(F)||null,d,f,x,b,j)),!0;case"gotpointercapture":return F=j.pointerId,xx.set(F,yx(xx.get(F)||null,d,f,x,b,j)),!0}return!1}function MO(d){var f=kt(d.target);if(f!==null){var x=s(f);if(x!==null){if(f=x.tag,f===13){if(f=i(x),f!==null){d.blockedOn=f,we(d.priority,function(){PO(x)});return}}else if(f===31){if(f=l(x),f!==null){d.blockedOn=f,we(d.priority,function(){PO(x)});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function D1(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var x=MN(d.nativeEvent);if(x===null){x=d.nativeEvent;var b=new x.constructor(x.type,x);Qc=b,x.target.dispatchEvent(b),Qc=null}else return f=Mt(x),f!==null&&DO(f),d.blockedOn=x,!1;f.shift()}return!0}function RO(d,f,x){D1(d)&&x.delete(f)}function pY(){UN=!1,vh!==null&&D1(vh)&&(vh=null),bh!==null&&D1(bh)&&(bh=null),wh!==null&&D1(wh)&&(wh=null),gx.forEach(RO),xx.forEach(RO)}function P1(d,f){d.blockedOn===f&&(d.blockedOn=null,UN||(UN=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pY)))}var I1=null;function UO(d){I1!==d&&(I1=d,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){I1===d&&(I1=null);for(var f=0;f<d.length;f+=3){var x=d[f],b=d[f+1],j=d[f+2];if(typeof b!="function"){if(RN(b||x)===null)continue;break}var F=Mt(x);F!==null&&(d.splice(f,3),f-=3,M5(F,{pending:!0,data:j,method:x.method,action:b},b,j))}}))}function Gm(d){function f(_e){return P1(_e,d)}vh!==null&&P1(vh,d),bh!==null&&P1(bh,d),wh!==null&&P1(wh,d),gx.forEach(f),xx.forEach(f);for(var x=0;x<Ch.length;x++){var b=Ch[x];b.blockedOn===d&&(b.blockedOn=null)}for(;0<Ch.length&&(x=Ch[0],x.blockedOn===null);)MO(x),x.blockedOn===null&&Ch.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var j=x[b],F=x[b+1],W=j[xe]||null;if(typeof F=="function")W||UO(x);else if(W){var ce=null;if(F&&F.hasAttribute("formAction")){if(j=F,W=F[xe]||null)ce=W.formAction;else if(RN(j)!==null)continue}else ce=W.action;typeof ce=="function"?x[b+1]=ce:(x.splice(b,3),b-=3),UO(x)}}}function QO(){function d(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(W){return j=W})},focusReset:"manual",scroll:"manual"})}function f(){j!==null&&(j(),j=null),b||setTimeout(x,20)}function x(){if(!b&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,j=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(x,100),function(){b=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),j!==null&&(j(),j=null)}}}function QN(d){this._internalRoot=d}L1.prototype.render=QN.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(n(409));var x=f.current,b=El();FO(x,b,d,f,null,null)},L1.prototype.unmount=QN.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;FO(d.current,2,null,d,null,null),g1(),f[Ne]=null}};function L1(d){this._internalRoot=d}L1.prototype.unstable_scheduleHydration=function(d){if(d){var f=ie();d={blockedOn:null,target:d,priority:f};for(var x=0;x<Ch.length&&f!==0&&f<Ch[x].priority;x++);Ch.splice(x,0,d),x===0&&MO(d)}};var HO=e.version;if(HO!=="19.2.0")throw Error(n(527,HO,"19.2.0"));se.findDOMNode=function(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(f),d=d!==null?A(d):null,d=d===null?null:d.stateNode,d};var gY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M1.isDisabled&&M1.supportsFiber)try{It=M1.inject(gY),Tt=M1}catch{}}return bx.createRoot=function(d,f){if(!a(d))throw Error(n(299));var x=!1,b="",j=Wk,F=Yk,W=Xk;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(j=f.onUncaughtError),f.onCaughtError!==void 0&&(F=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=TO(d,1,!1,null,null,x,b,null,j,F,W,QO),d[Ne]=f.current,wN(d),new QN(f)},bx.hydrateRoot=function(d,f,x){if(!a(d))throw Error(n(299));var b=!1,j="",F=Wk,W=Yk,ce=Xk,_e=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(j=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(W=x.onCaughtError),x.onRecoverableError!==void 0&&(ce=x.onRecoverableError),x.formState!==void 0&&(_e=x.formState)),f=TO(d,1,!0,f,x??null,b,j,_e,F,W,ce,QO),f.context=kO(null),x=f.current,b=El(),b=_n(b),j=Sr(b),j.callback=null,Ur(x,j,b),x=b,f.current.lanes=x,Ar(f,x),Zu(f),d[Ne]=f.current,wN(d),new L1(f)},bx.version="19.2.0",bx}var e6;function jY(){if(e6)return $N.exports;e6=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$N.exports=EY(),$N.exports}var _Y=jY();var t6="popstate";function TY(r={}){function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return VE("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Cy(a)}return FY(e,t,null,r)}function Da(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kY(){return Math.random().toString(36).substring(2,10)}function r6(r,e){return{usr:r.state,key:r.key,idx:e}}function VE(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ag(e):e,state:t,key:e&&e.key||n||kY()}}function Cy({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ag(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function FY(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=A();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function A(){return(i.state||{idx:null}).idx}function h(){l="POP";let v=A(),w=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:w})}function p(v,w){l="PUSH";let S=VE(g.location,v,w);u=A()+1;let C=r6(S,u),E=g.createHref(S);try{i.pushState(C,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(E)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,w){l="REPLACE";let S=VE(g.location,v,w);u=A();let C=r6(S,u),E=g.createHref(S);i.replaceState(C,"",E),s&&c&&c({action:l,location:g.location,delta:0})}function y(v){return OY(v)}let g={get action(){return l},get location(){return r(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(t6,h),c=v,()=>{a.removeEventListener(t6,h),c=null}},createHref(v){return e(a,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(v){return i.go(v)}};return g}function OY(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Da(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Cy(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function _8(r,e,t="/"){return DY(r,e,t,!1)}function DY(r,e,t,n){let a=typeof e=="string"?Ag(e):e,s=SA(a.pathname||"/",t);if(s==null)return null;let i=T8(r);PY(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=VY(s);l=KY(i[c],u,n)}return l}function T8(r,e=[],t=[],n="",a=!1){let s=(i,l,c=a,u)=>{let A={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(n)&&c)return;Da(A.relativePath.startsWith(n),`Absolute route path "${A.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(n.length)}let h=pA([n,A.relativePath]),p=t.concat(A);i.children&&i.children.length>0&&(Da(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),T8(i.children,e,p,h,c)),!(i.path==null&&!i.index)&&e.push({path:h,score:HY(h,i.index),routesMeta:p})};return r.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))s(i,l);else for(let c of k8(i.path))s(i,l,!0,c)}),e}function k8(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=k8(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function PY(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zY(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var IY=/^:[\w-]+$/,LY=3,MY=2,RY=1,UY=10,QY=-2,n6=r=>r==="*";function HY(r,e){let t=r.split("/"),n=t.length;return t.some(n6)&&(n+=QY),e&&(n+=MY),t.filter(a=>!n6(a)).reduce((a,s)=>a+(IY.test(s)?LY:s===""?RY:UY),n)}function zY(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function KY(r,e,t=!1){let{routesMeta:n}=r,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=s==="/"?e:e.slice(s.length)||"/",h=Fw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),p=c.route;if(!h&&u&&t&&!n[n.length-1].route.index&&(h=Fw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},A)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:pA([s,h.pathname]),pathnameBase:YY(pA([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=pA([s,h.pathnameBase]))}return i}function Fw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=$Y(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:A,isOptional:h},p)=>{if(A==="*"){let y=l[p]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[p];return h&&!m?u[A]=void 0:u[A]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:r}}function $Y(r,e=!1,t=!0){Kl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function VY(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function SA(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var F8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qY=r=>F8.test(r);function GY(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Ag(r):r,s;if(t)if(qY(t))s=t;else{if(t.includes("//")){let i=t;t=t.replace(/\/\/+/g,"/"),Kl(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${t}`)}t.startsWith("/")?s=a6(t.substring(1),"/"):s=a6(t,e)}else s=e;return{pathname:s,search:XY(n),hash:JY(a)}}function a6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function WN(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WY(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o_(r){let e=WY(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function l_(r,e,t,n=!1){let a;typeof r=="string"?a=Ag(r):(a={...r},Da(!a.pathname||!a.pathname.includes("?"),WN("?","pathname","search",a)),Da(!a.pathname||!a.pathname.includes("#"),WN("#","pathname","hash",a)),Da(!a.search||!a.search.includes("#"),WN("#","search","hash",a)));let s=r===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=t;else{let h=e.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=GY(a,l),u=i&&i!=="/"&&i.endsWith("/"),A=(s||i===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}var pA=r=>r.join("/").replace(/\/\/+/g,"/"),YY=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XY=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JY=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ZY=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function eX(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function tX(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var O8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function D8(r,e){let t=r;if(typeof t!="string"||!F8.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,a=!1;if(O8)try{let s=new URL(window.location.href),i=t.startsWith("//")?new URL(s.protocol+t):new URL(t),l=SA(i.pathname,e);i.origin===s.origin&&l!=null?t=l+i.search+i.hash:a=!0}catch{Kl(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var P8=["POST","PUT","PATCH","DELETE"];new Set(P8);var rX=["GET",...P8];new Set(rX);var hg=B.createContext(null);hg.displayName="DataRouter";var aC=B.createContext(null);aC.displayName="DataRouterState";var nX=B.createContext(!1),I8=B.createContext({isTransitioning:!1});I8.displayName="ViewTransition";var aX=B.createContext(new Map);aX.displayName="Fetchers";var sX=B.createContext(null);sX.displayName="Await";var Xl=B.createContext(null);Xl.displayName="Navigation";var nv=B.createContext(null);nv.displayName="Location";var ju=B.createContext({outlet:null,matches:[],isDataRoute:!1});ju.displayName="Route";var c_=B.createContext(null);c_.displayName="RouteError";var L8="REACT_ROUTER_ERROR",iX="REDIRECT",oX="ROUTE_ERROR_RESPONSE";function lX(r){if(r.startsWith(`${L8}:${iX}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function cX(r){if(r.startsWith(`${L8}:${oX}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ZY(e.status,e.statusText,e.data)}catch{}}function uX(r,{relative:e}={}){Da(fg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=B.useContext(Xl),{hash:a,pathname:s,search:i}=av(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:pA([t,s])),n.createHref({pathname:l,search:i,hash:a})}function fg(){return B.useContext(nv)!=null}function IA(){return Da(fg(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(nv).location}var M8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R8(r){B.useContext(Xl).static||B.useLayoutEffect(r)}function mg(){let{isDataRoute:r}=B.useContext(ju);return r?SX():dX()}function dX(){Da(fg(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(hg),{basename:e,navigator:t}=B.useContext(Xl),{matches:n}=B.useContext(ju),{pathname:a}=IA(),s=JSON.stringify(o_(n)),i=B.useRef(!1);return R8(()=>{i.current=!0}),B.useCallback((c,u={})=>{if(Kl(i.current,M8),!i.current)return;if(typeof c=="number"){t.go(c);return}let A=l_(c,JSON.parse(s),a,u.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:pA([e,A.pathname])),(u.replace?t.replace:t.push)(A,u.state,u)},[e,t,s,a,r])}var AX=B.createContext(null);function hX(r){let e=B.useContext(ju).outlet;return B.useMemo(()=>e&&B.createElement(AX.Provider,{value:r},e),[e,r])}function av(r,{relative:e}={}){let{matches:t}=B.useContext(ju),{pathname:n}=IA(),a=JSON.stringify(o_(t));return B.useMemo(()=>l_(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function fX(r,e){return U8(r,e)}function U8(r,e,t,n,a){Da(fg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(Xl),{matches:i}=B.useContext(ju),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",A=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";H8(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=IA(),m;if(e){let S=typeof e=="string"?Ag(e):e;Da(A==="/"||S.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let y=m.pathname||"/",g=y;if(A!=="/"){let S=A.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=_8(r,{pathname:g});Kl(h||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Kl(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=yX(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:pA([A,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?A:pA([A,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),i,t,n,a);return e&&w?B.createElement(nv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function mX(){let r=NX(),e=eX(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",r),i=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:s},"ErrorBoundary")," or"," ",B.createElement("code",{style:s},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,i)}var pX=B.createElement(mX,null),Q8=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=cX(r.digest);t&&(r=t)}let e=r!==void 0?B.createElement(ju.Provider,{value:this.props.routeContext},B.createElement(c_.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(gX,{error:r},e):e}};Q8.contextType=nX;var YN=new WeakMap;function gX({children:r,error:e}){let{basename:t}=B.useContext(Xl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=lX(e.digest);if(n){let a=YN.get(e);if(a)throw a;let s=D8(n.location,t);if(O8&&!YN.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw YN.set(e,i),i}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return r}function xX({routeContext:r,match:e,children:t}){let n=B.useContext(hg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ju.Provider,{value:r},t)}function yX(r,e=[],t=null,n=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,i=t?.errors;if(i!=null){let A=s.findIndex(h=>h.route.id&&i?.[h.route.id]!==void 0);Da(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,A+1))}let l=!1,c=-1;if(t)for(let A=0;A<s.length;A++){let h=s[A];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=A),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=t&&n?(A,h)=>{n(A,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:tX(t.matches),errorInfo:h})}:void 0;return s.reduceRight((A,h,p)=>{let m,y=!1,g=null,v=null;t&&(m=i&&h.route.id?i[h.route.id]:void 0,g=h.route.errorElement||pX,l&&(c<0&&p===0?(H8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===p&&(y=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),S=()=>{let C;return m?C=g:y?C=v:h.route.Component?C=B.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=A,B.createElement(xX,{match:h,routeContext:{outlet:A,matches:w,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?B.createElement(Q8,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):S()},null)}function u_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vX(r){let e=B.useContext(hg);return Da(e,u_(r)),e}function bX(r){let e=B.useContext(aC);return Da(e,u_(r)),e}function wX(r){let e=B.useContext(ju);return Da(e,u_(r)),e}function d_(r){let e=wX(r),t=e.matches[e.matches.length-1];return Da(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function CX(){return d_("useRouteId")}function NX(){let r=B.useContext(c_),e=bX("useRouteError"),t=d_("useRouteError");return r!==void 0?r:e.errors?.[t]}function SX(){let{router:r}=vX("useNavigate"),e=d_("useNavigate"),t=B.useRef(!1);return R8(()=>{t.current=!0}),B.useCallback(async(a,s={})=>{Kl(t.current,M8),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var s6={};function H8(r,e,t){!e&&!s6[r]&&(s6[r]=!0,Kl(!1,t))}B.memo(BX);function BX({routes:r,future:e,state:t,onError:n}){return U8(r,void 0,t,n,e)}function qE({to:r,replace:e,state:t,relative:n}){Da(fg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=B.useContext(Xl);Kl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=B.useContext(ju),{pathname:i}=IA(),l=mg(),c=l_(r,o_(s),i,n==="path"),u=JSON.stringify(c);return B.useEffect(()=>{l(JSON.parse(u),{replace:e,state:t,relative:n})},[l,u,n,e,t]),null}function z8(r){return hX(r.context)}function Ta(r){Da(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EX({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Da(!fg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof t=="string"&&(t=Ag(t));let{pathname:u="/",search:A="",hash:h="",state:p=null,key:m="default"}=t,y=B.useMemo(()=>{let g=SA(u,l);return g==null?null:{location:{pathname:g,search:A,hash:h,state:p,key:m},navigationType:n}},[l,u,A,h,p,m,n]);return Kl(y!=null,`<Router basename="${l}"> is not able to match the URL "${u}${A}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:B.createElement(Xl.Provider,{value:c},B.createElement(nv.Provider,{children:e,value:y}))}function jX({children:r,location:e}){return fX(GE(r),e)}function GE(r,e=[]){let t=[];return B.Children.forEach(r,(n,a)=>{if(!B.isValidElement(n))return;let s=[...e,a];if(n.type===B.Fragment){t.push.apply(t,GE(n.props.children,s));return}Da(n.type===Ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Da(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=GE(n.props.children,s)),t.push(i)}),t}var uw="get",dw="application/x-www-form-urlencoded";function sC(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function _X(r){return sC(r)&&r.tagName.toLowerCase()==="button"}function TX(r){return sC(r)&&r.tagName.toLowerCase()==="form"}function kX(r){return sC(r)&&r.tagName.toLowerCase()==="input"}function FX(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OX(r,e){return r.button===0&&(!e||e==="_self")&&!FX(r)}function WE(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(a=>[t,a]):[[t,n]])},[]))}function DX(r,e){let t=WE(r);return e&&e.forEach((n,a)=>{t.has(a)||e.getAll(a).forEach(s=>{t.append(a,s)})}),t}var R1=null;function PX(){if(R1===null)try{new FormData(document.createElement("form"),0),R1=!1}catch{R1=!0}return R1}var IX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function XN(r){return r!=null&&!IX.has(r)?(Kl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dw}"`),null):r}function LX(r,e){let t,n,a,s,i;if(TX(r)){let l=r.getAttribute("action");n=l?SA(l,e):null,t=r.getAttribute("method")||uw,a=XN(r.getAttribute("enctype"))||dw,s=new FormData(r)}else if(_X(r)||kX(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(n=c?SA(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||uw,a=XN(r.getAttribute("formenctype"))||XN(l.getAttribute("enctype"))||dw,s=new FormData(l,r),!PX()){let{name:u,type:A,value:h}=r;if(A==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,h)}}else{if(sC(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uw,n=null,a=dw,i=r}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function MX(r,e,t,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&SA(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function RX(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UX(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function QX(r,e,t){let n=await Promise.all(r.map(async a=>{let s=e.routes[a.route.id];if(s){let i=await RX(s,t);return i.links?i.links():[]}return[]}));return $X(n.flat(1).filter(UX).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function i6(r,e,t,n,a,s){let i=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,l=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{let A=n.routes[c.route.id];if(!A||!A.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function HX(r,e,{includeHydrateFallback:t}={}){return zX(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function zX(r){return[...new Set(r)]}function KX(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function $X(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let s=JSON.stringify(KX(a));return t.has(s)||(t.add(s),n.push({key:s,link:a})),n},[])}function K8(){let r=B.useContext(hg);return A_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function VX(){let r=B.useContext(aC);return A_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var h_=B.createContext(void 0);h_.displayName="FrameworkContext";function $8(){let r=B.useContext(h_);return A_(r,"You must render this element inside a <HydratedRouter> element"),r}function qX(r,e){let t=B.useContext(h_),[n,a]=B.useState(!1),[s,i]=B.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:A,onTouchStart:h}=e,p=B.useRef(null);B.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let g=w=>{w.forEach(S=>{i(S.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[r]),B.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),i(!1)};return t?r!=="intent"?[s,p,{}]:[s,p,{onFocus:wx(l,m),onBlur:wx(c,y),onMouseEnter:wx(u,m),onMouseLeave:wx(A,y),onTouchStart:wx(h,m)}]:[!1,p,{}]}function wx(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function GX({page:r,...e}){let{router:t}=K8(),n=B.useMemo(()=>_8(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?B.createElement(YX,{page:r,matches:n,...e}):null}function WX(r){let{manifest:e,routeModules:t}=$8(),[n,a]=B.useState([]);return B.useEffect(()=>{let s=!1;return QX(r,e,t).then(i=>{s||a(i)}),()=>{s=!0}},[r,e,t]),n}function YX({page:r,matches:e,...t}){let n=IA(),{future:a,manifest:s,routeModules:i}=$8(),{basename:l}=K8(),{loaderData:c,matches:u}=VX(),A=B.useMemo(()=>i6(r,e,u,s,n,"data"),[r,e,u,s,n]),h=B.useMemo(()=>i6(r,e,u,s,n,"assets"),[r,e,u,s,n]),p=B.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let g=new Set,v=!1;if(e.forEach(S=>{let C=s.routes[S.route.id];!C||!C.hasLoader||(!A.some(E=>E.route.id===S.route.id)&&S.route.id in c&&i[S.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:g.add(S.route.id))}),g.size===0)return[];let w=MX(r,l,a.unstable_trailingSlashAwareDataRequests,"data");return v&&g.size>0&&w.searchParams.set("_routes",e.filter(S=>g.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,n,s,A,e,r,i]),m=B.useMemo(()=>HX(h,s),[h,s]),y=WX(h);return B.createElement(B.Fragment,null,p.map(g=>B.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),m.map(g=>B.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),y.map(({key:g,link:v})=>B.createElement("link",{key:g,nonce:t.nonce,...v})))}function XX(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JX&&(window.__reactRouterVersion="7.12.0")}catch{}function ZX({basename:r,children:e,unstable_useTransitions:t,window:n}){let a=B.useRef();a.current==null&&(a.current=TY({window:n,v5Compat:!0}));let s=a.current,[i,l]=B.useState({action:s.action,location:s.location}),c=B.useCallback(u=>{t===!1?l(u):B.startTransition(()=>l(u))},[t]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(EX,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:t})}var V8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=B.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:A,viewTransition:h,unstable_defaultShouldRevalidate:p,...m},y){let{basename:g,unstable_useTransitions:v}=B.useContext(Xl),w=typeof u=="string"&&V8.test(u),S=D8(u,g);u=S.to;let C=uX(u,{relative:a}),[E,_,L]=qX(n,m),D=rJ(u,{replace:i,state:l,target:c,preventScrollReset:A,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:v});function P(z){e&&e(z),z.defaultPrevented||D(z)}let k=B.createElement("a",{...m,...L,href:S.absoluteURL||C,onClick:S.isExternal||s?e:P,ref:XX(y,_),target:c,"data-discover":!w&&t==="render"?"true":void 0});return E&&!w?B.createElement(B.Fragment,null,k,B.createElement(GX,{page:C})):k});f_.displayName="Link";var Oh=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},A){let h=av(i,{relative:u.relative}),p=IA(),m=B.useContext(aC),{navigator:y,basename:g}=B.useContext(Xl),v=m!=null&&lJ(h)&&l===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,S=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(S=S.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&g&&(C=SA(C,g)||C);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let _=S===w||!a&&S.startsWith(w)&&S.charAt(E)==="/",L=C!=null&&(C===w||!a&&C.startsWith(w)&&C.charAt(w.length)==="/"),D={isActive:_,isPending:L,isTransitioning:v},P=_?e:void 0,k;typeof n=="function"?k=n(D):k=[n,_?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(D):s;return B.createElement(f_,{...u,"aria-current":P,className:k,ref:A,style:z,to:i,viewTransition:l},typeof c=="function"?c(D):c)});Oh.displayName="NavLink";var eJ=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:s,method:i=uw,action:l,onSubmit:c,relative:u,preventScrollReset:A,viewTransition:h,unstable_defaultShouldRevalidate:p,...m},y)=>{let{unstable_useTransitions:g}=B.useContext(Xl),v=iJ(),w=oJ(l,{relative:u}),S=i.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&V8.test(l),E=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let L=_.nativeEvent.submitter,D=L?.getAttribute("formmethod")||i,P=()=>v(L||_.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:a,state:s,relative:u,preventScrollReset:A,viewTransition:h,unstable_defaultShouldRevalidate:p});g&&t!==!1?B.startTransition(()=>P()):P()};return B.createElement("form",{ref:y,method:S,action:w,onSubmit:n?c:E,...m,"data-discover":!C&&r==="render"?"true":void 0})});eJ.displayName="Form";function tJ(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q8(r){let e=B.useContext(hg);return Da(e,tJ(r)),e}function rJ(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=mg(),A=IA(),h=av(r,{relative:s});return B.useCallback(p=>{if(OX(p,e)){p.preventDefault();let m=t!==void 0?t:Cy(A)===Cy(h),y=()=>u(r,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_defaultShouldRevalidate:l});c?B.startTransition(()=>y()):y()}},[A,u,h,t,n,e,r,a,s,i,l,c])}function nJ(r){Kl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(WE(r)),t=B.useRef(!1),n=IA(),a=B.useMemo(()=>DX(n.search,t.current?null:e.current),[n.search]),s=mg(),i=B.useCallback((l,c)=>{const u=WE(typeof l=="function"?l(new URLSearchParams(a)):l);t.current=!0,s("?"+u,c)},[s,a]);return[a,i]}var aJ=0,sJ=()=>`__${String(++aJ)}__`;function iJ(){let{router:r}=q8("useSubmit"),{basename:e}=B.useContext(Xl),t=CX(),n=r.fetch,a=r.navigate;return B.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:A,body:h}=LX(s,e);if(i.navigate===!1){let p=i.fetcherKey||sJ();await n(p,t,i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:A,body:h,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:A,body:h,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,e,t])}function oJ(r,{relative:e}={}){let{basename:t}=B.useContext(Xl),n=B.useContext(ju);Da(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...av(r||".",{relative:e})},i=IA();if(r==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(A=>A==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let A=l.toString();s.search=A?`?${A}`:""}}return(!r||r===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:pA([t,s.pathname])),Cy(s)}function lJ(r,{relative:e}={}){let t=B.useContext(I8);Da(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=q8("useViewTransitionState"),a=av(r,{relative:e});if(!t.isTransitioning)return!1;let s=SA(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=SA(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Fw(a.pathname,i)!=null||Fw(a.pathname,s)!=null}var G8=j8();let cJ={data:""},uJ=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||cJ},dJ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AJ=/\/\*[^]*?\*\/|  +/g,o6=/\n+/g,Lh=(r,e)=>{let t="",n="",a="";for(let s in r){let i=r[s];s[0]=="@"?s[1]=="i"?t=s+" "+i+";":n+=s[1]=="f"?Lh(i,s):s+"{"+Lh(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=Lh(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Lh.p?Lh.p(s,i):s+":"+i+";")}return t+(e&&a?e+"{"+a+"}":a)+n},tA={},W8=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+W8(r[t]);return e}return r},hJ=(r,e,t,n,a)=>{let s=W8(r),i=tA[s]||(tA[s]=(c=>{let u=0,A=11;for(;u<c.length;)A=101*A+c.charCodeAt(u++)>>>0;return"go"+A})(s));if(!tA[i]){let c=s!==r?r:(u=>{let A,h,p=[{}];for(;A=dJ.exec(u.replace(AJ,""));)A[4]?p.shift():A[3]?(h=A[3].replace(o6," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][A[1]]=A[2].replace(o6," ").trim();return p[0]})(r);tA[i]=Lh(a?{["@keyframes "+i]:c}:c,t?"":"."+i)}let l=t&&tA.g?tA.g:null;return t&&(tA.g=tA[i]),((c,u,A,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=A?c+u.data:u.data+c)})(tA[i],e,n,l),i},fJ=(r,e,t)=>r.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Lh(l,""):l===!1?"":l}return n+a+(i??"")},"");function iC(r){let e=this||{},t=r.call?r(e.p):r;return hJ(t.unshift?t.raw?fJ(t,[].slice.call(arguments,1),e.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):t,uJ(e.target),e.g,e.o,e.k)}let Y8,YE,XE;iC.bind({g:1});let BA=iC.bind({k:1});function mJ(r,e,t,n){Lh.p=e,Y8=r,YE=t,XE=n}function Af(r,e){let t=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;t.p=Object.assign({theme:YE&&YE()},l),t.o=/ *go\d+/.test(c),l.className=iC.apply(t,n)+(c?" "+c:"");let u=r;return r[0]&&(u=l.as||r,delete l.as),XE&&u[0]&&XE(l),Y8(u,l)}return a}}var pJ=r=>typeof r=="function",Ow=(r,e)=>pJ(r)?r(e):r,gJ=(()=>{let r=0;return()=>(++r).toString()})(),X8=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),xJ=20,m_="default",J8=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return J8(r,{type:r.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Aw=[],Z8={toasts:[],pausedAt:void 0,settings:{toastLimit:xJ}},pd={},e7=(r,e=m_)=>{pd[e]=J8(pd[e]||Z8,r),Aw.forEach(([t,n])=>{t===e&&n(pd[e])})},t7=r=>Object.keys(pd).forEach(e=>e7(r,e)),yJ=r=>Object.keys(pd).find(e=>pd[e].toasts.some(t=>t.id===r)),oC=(r=m_)=>e=>{e7(e,r)},vJ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bJ=(r={},e=m_)=>{let[t,n]=B.useState(pd[e]||Z8),a=B.useRef(pd[e]);B.useEffect(()=>(a.current!==pd[e]&&n(pd[e]),Aw.push([e,n]),()=>{let i=Aw.findIndex(([l])=>l===e);i>-1&&Aw.splice(i,1)}),[e]);let s=t.toasts.map(i=>{var l,c,u;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((l=r[i.type])==null?void 0:l.removeDelay)||r?.removeDelay,duration:i.duration||((c=r[i.type])==null?void 0:c.duration)||r?.duration||vJ[i.type],style:{...r.style,...(u=r[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},wJ=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||gJ()}),sv=r=>(e,t)=>{let n=wJ(e,r,t);return oC(n.toasterId||yJ(n.id))({type:2,toast:n}),n.id},ye=(r,e)=>sv("blank")(r,e);ye.error=sv("error");ye.success=sv("success");ye.loading=sv("loading");ye.custom=sv("custom");ye.dismiss=(r,e)=>{let t={type:3,toastId:r};e?oC(e)(t):t7(t)};ye.dismissAll=r=>ye.dismiss(void 0,r);ye.remove=(r,e)=>{let t={type:4,toastId:r};e?oC(e)(t):t7(t)};ye.removeAll=r=>ye.remove(void 0,r);ye.promise=(r,e,t)=>{let n=ye.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let s=e.success?Ow(e.success,a):void 0;return s?ye.success(s,{id:n,...t,...t?.success}):ye.dismiss(n),a}).catch(a=>{let s=e.error?Ow(e.error,a):void 0;s?ye.error(s,{id:n,...t,...t?.error}):ye.dismiss(n)}),r};var CJ=1e3,NJ=(r,e="default")=>{let{toasts:t,pausedAt:n}=bJ(r,e),a=B.useRef(new Map).current,s=B.useCallback((h,p=CJ)=>{if(a.has(h))return;let m=setTimeout(()=>{a.delete(h),i({type:4,toastId:h})},p);a.set(h,m)},[]);B.useEffect(()=>{if(n)return;let h=Date.now(),p=t.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(y<0){m.visible&&ye.dismiss(m.id);return}return setTimeout(()=>ye.dismiss(m.id,e),y)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[t,n,e]);let i=B.useCallback(oC(e),[e]),l=B.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=B.useCallback((h,p)=>{i({type:1,toast:{id:h,height:p}})},[i]),u=B.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),A=B.useCallback((h,p)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:g}=p||{},v=t.filter(C=>(C.position||g)===(h.position||g)&&C.height),w=v.findIndex(C=>C.id===h.id),S=v.filter((C,E)=>E<w&&C.visible).length;return v.filter(C=>C.visible).slice(...m?[S+1]:[0,S]).reduce((C,E)=>C+(E.height||0)+y,0)},[t]);return B.useEffect(()=>{t.forEach(h=>{if(h.dismissed)s(h.id,h.removeDelay);else{let p=a.get(h.id);p&&(clearTimeout(p),a.delete(h.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:A}}},SJ=BA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BJ=BA`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EJ=BA`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jJ=Af("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BJ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${EJ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_J=BA`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,TJ=Af("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${_J} 1s linear infinite;
`,kJ=BA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FJ=BA`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,OJ=Af("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FJ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DJ=Af("div")`
  position: absolute;
`,PJ=Af("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IJ=BA`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LJ=Af("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IJ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MJ=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?B.createElement(LJ,null,e):e:t==="blank"?null:B.createElement(PJ,null,B.createElement(TJ,{...n}),t!=="loading"&&B.createElement(DJ,null,t==="error"?B.createElement(jJ,{...n}):B.createElement(OJ,{...n})))},RJ=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UJ=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,QJ="0%{opacity:0;} 100%{opacity:1;}",HJ="0%{opacity:1;} 100%{opacity:0;}",zJ=Af("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KJ=Af("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$J=(r,e)=>{let t=r.includes("top")?1:-1,[n,a]=X8()?[QJ,HJ]:[RJ(t),UJ(t)];return{animation:e?`${BA(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${BA(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VJ=B.memo(({toast:r,position:e,style:t,children:n})=>{let a=r.height?$J(r.position||e||"top-center",r.visible):{opacity:0},s=B.createElement(MJ,{toast:r}),i=B.createElement(KJ,{...r.ariaProps},Ow(r.message,r));return B.createElement(zJ,{className:r.className,style:{...a,...t,...r.style}},typeof n=="function"?n({icon:s,message:i}):B.createElement(B.Fragment,null,s,i))});mJ(B.createElement);var qJ=({id:r,className:e,style:t,onHeightUpdate:n,children:a})=>{let s=B.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return B.createElement("div",{ref:s,className:e,style:t},a)},GJ=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:X8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...a}},WJ=iC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,U1=16,YJ=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:a,toasterId:s,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=NJ(t,s);return B.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:U1,left:U1,right:U1,bottom:U1,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(A=>{let h=A.position||e,p=u.calculateOffset(A,{reverseOrder:r,gutter:n,defaultPosition:e}),m=GJ(h,p);return B.createElement(qJ,{id:A.id,key:A.id,onHeightUpdate:u.updateHeight,className:A.visible?WJ:"",style:m},A.type==="custom"?Ow(A.message,A):a?a(A):B.createElement(VJ,{toast:A,position:h}))}))},rr=ye;const XJ=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JJ=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),l6=r=>{const e=JJ(r);return e.charAt(0).toUpperCase()+e.slice(1)},r7=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),ZJ=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tZ=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>B.createElement("svg",{ref:c,...eZ,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:r7("lucide",a),...!s&&!ZJ(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,A])=>B.createElement(u,A)),...Array.isArray(s)?s:[s]]));const Ft=(r,e)=>{const t=B.forwardRef(({className:n,...a},s)=>B.createElement(tZ,{ref:s,iconNode:e,className:r7(`lucide-${XJ(l6(r))}`,`lucide-${r}`,n),...a}));return t.displayName=l6(r),t};const rZ=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],nZ=Ft("arrow-left-right",rZ);const aZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sZ=Ft("arrow-left",aZ);const iZ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oZ=Ft("award",iZ);const lZ=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],cZ=Ft("barcode",lZ);const uZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JE=Ft("bell",uZ);const dZ=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],AZ=Ft("box",dZ);const hZ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Cu=Ft("briefcase",hZ);const fZ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Xh=Ft("building-2",fZ);const mZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],so=Ft("calendar",mZ);const pZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lC=Ft("chart-column",pZ);const gZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dw=Ft("check",gZ);const xZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kc=Ft("chevron-down",xZ);const yZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n7=Ft("chevron-left",yZ);const vZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gA=Ft("chevron-right",vZ);const bZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_0=Ft("chevron-up",bZ);const wZ=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Vp=Ft("chevrons-up-down",wZ);const CZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],os=Ft("circle-alert",CZ);const NZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],p_=Ft("circle-check",NZ);const SZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],za=Ft("circle-check-big",SZ);const BZ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EZ=Ft("circle-play",BZ);const jZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yp=Ft("circle-x",jZ);const _Z=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],TZ=Ft("clipboard-list",_Z);const kZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],To=Ft("clock",kZ);const FZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],OZ=Ft("copy",FZ);const DZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],a7=Ft("crown",DZ);const PZ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],g_=Ft("dollar-sign",PZ);const IZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],LA=Ft("download",IZ);const LZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xA=Ft("eye-off",LZ);const MZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vi=Ft("eye",MZ);const RZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],UZ=Ft("file-check",RZ);const QZ=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],HZ=Ft("file-input",QZ);const zZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],KZ=Ft("file-json",zZ);const $Z=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],VZ=Ft("file-question-mark",$Z);const qZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],GZ=Ft("file-spreadsheet",qZ);const WZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$a=Ft("file-text",WZ);const YZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],XZ=Ft("file",YZ);const JZ=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],T0=Ft("flask-conical",JZ);const ZZ=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],yd=Ft("folder-open",ZZ);const eee=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pg=Ft("funnel",eee);const tee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ree=Ft("globe",tee);const nee=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],aee=Ft("hash",nee);const see=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],x_=Ft("house",see);const iee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Pw=Ft("image",iee);const oee=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],lee=Ft("inbox",oee);const cee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y_=Ft("info",cee);const uee=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],dee=Ft("layout-grid",uee);const Aee=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],c6=Ft("link-2",Aee);const hee=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],fee=Ft("list",hee);const mee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],s7=Ft("loader-circle",mee);const pee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gee=Ft("log-out",pee);const xee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Uh=Ft("lock",xee);const yee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gg=Ft("mail",yee);const vee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],c0=Ft("map-pin",vee);const bee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wee=Ft("menu",bee);const Cee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],v_=Ft("monitor",Cee);const Nee=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],See=Ft("moon",Nee);const Bee=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ec=Ft("package",Bee);const Eee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],jee=Ft("palette",Eee);const _ee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ko=Ft("pen",_ee);const Tee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cC=Ft("phone",Tee);const kee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ei=Ft("plus",kee);const Fee=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],i7=Ft("printer",Fee);const Oee=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Dee=Ft("qr-code",Oee);const Pee=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],o7=Ft("receipt",Pee);const Iee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uC=Ft("refresh-cw",Iee);const Lee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mee=Ft("rotate-ccw",Lee);const Ree=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],l7=Ft("save",Ree);const Uee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$l=Ft("search",Uee);const Qee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c7=Ft("settings",Qee);const Hee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],zee=Ft("sheet",Hee);const Kee=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],u7=Ft("shopping-cart",Kee);const $ee=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vee=Ft("square-check-big",$ee);const qee=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZE=Ft("square-pen",qee);const Gee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Wee=Ft("square",Gee);const Yee=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xee=Ft("sun",Yee);const Jee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zee=Ft("target",Jee);const ete=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],tte=Ft("toggle-left",ete);const rte=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],nte=Ft("toggle-right",rte);const ate=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ws=Ft("trash-2",ate);const ste=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],d7=Ft("trending-up",ste);const ite=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jh=Ft("triangle-alert",ite);const ote=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fo=Ft("upload",ote);const lte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ny=Ft("user-plus",lte);const cte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ute=Ft("user-x",cte);const dte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nu=Ft("users",dte);const Ate=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hl=Ft("user",Ate);const hte=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],qp=Ft("wrench",hte);const fte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rr=Ft("x",fte);const mte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pte=Ft("zoom-in",mte);const gte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],xte=Ft("zoom-out",gte);function A7(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=A7(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function An(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=A7(r))&&(n&&(n+=" "),n+=e);return n}const b_="-",yte=r=>{const e=bte(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:i=>{const l=i.split(b_);return l[0]===""&&l.length!==1&&l.shift(),h7(l,e)||vte(i)},getConflictingClassGroupIds:(i,l)=>{const c=t[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},h7=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),a=n?h7(r.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=r.join(b_);return e.validators.find(({validator:i})=>i(s))?.classGroupId},u6=/^\[(.+)\]$/,vte=r=>{if(u6.test(r)){const e=u6.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},bte=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const a in t)e4(t[a],n,a,e);return n},e4=(r,e,t,n)=>{r.forEach(a=>{if(typeof a=="string"){const s=a===""?e:d6(e,a);s.classGroupId=t;return}if(typeof a=="function"){if(wte(a)){e4(a(n),e,t,n);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([s,i])=>{e4(i,d6(e,s),t,n)})})},d6=(r,e)=>{let t=r;return e.split(b_).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},wte=r=>r.isThemeGetter,Cte=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const a=(s,i)=>{t.set(s,i),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){t.has(s)?t.set(s,i):a(s,i)}}},t4="!",r4=":",Nte=r4.length,Ste=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=a=>{const s=[];let i=0,l=0,c=0,u;for(let y=0;y<a.length;y++){let g=a[y];if(i===0&&l===0){if(g===r4){s.push(a.slice(c,y)),c=y+Nte;continue}if(g==="/"){u=y;continue}}g==="["?i++:g==="]"?i--:g==="("?l++:g===")"&&l--}const A=s.length===0?a:a.substring(c),h=Bte(A),p=h!==A,m=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const a=e+r4,s=n;n=i=>i.startsWith(a)?s(i.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const a=n;n=s=>t({className:s,parseClassName:a})}return n},Bte=r=>r.endsWith(t4)?r.substring(0,r.length-1):r.startsWith(t4)?r.substring(1):r,Ete=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(a.push(...s.sort(),i),s=[]):s.push(i)}),a.push(...s.sort()),a}},jte=r=>({cache:Cte(r.cacheSize),parseClassName:Ste(r),sortModifiers:Ete(r),...yte(r)}),_te=/\s+/,Tte=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=e,i=[],l=r.trim().split(_te);let c="";for(let u=l.length-1;u>=0;u-=1){const A=l[u],{isExternal:h,modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=t(A);if(h){c=A+(c.length>0?" "+c:c);continue}let v=!!g,w=n(v?y.substring(0,g):y);if(!w){if(!v){c=A+(c.length>0?" "+c:c);continue}if(w=n(y),!w){c=A+(c.length>0?" "+c:c);continue}v=!1}const S=s(p).join(":"),C=m?S+t4:S,E=C+w;if(i.includes(E))continue;i.push(E);const _=a(w,v);for(let L=0;L<_.length;++L){const D=_[L];i.push(C+D)}c=A+(c.length>0?" "+c:c)}return c};function kte(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=f7(e))&&(n&&(n+=" "),n+=t);return n}const f7=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=f7(r[n]))&&(t&&(t+=" "),t+=e);return t};function Fte(r,...e){let t,n,a,s=i;function i(c){const u=e.reduce((A,h)=>h(A),r());return t=jte(u),n=t.cache.get,a=t.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=Tte(c,t);return a(c,A),A}return function(){return s(kte.apply(null,arguments))}}const Ws=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},m7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ote=/^\d+\/\d+$/,Dte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ite=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Lte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wm=r=>Ote.test(r),Gr=r=>!!r&&!Number.isNaN(Number(r)),Sh=r=>!!r&&Number.isInteger(Number(r)),JN=r=>r.endsWith("%")&&Gr(r.slice(0,-1)),rA=r=>Dte.test(r),Rte=()=>!0,Ute=r=>Pte.test(r)&&!Ite.test(r),g7=()=>!1,Qte=r=>Lte.test(r),Hte=r=>Mte.test(r),zte=r=>!sr(r)&&!ir(r),Kte=r=>xg(r,v7,g7),sr=r=>m7.test(r),Gf=r=>xg(r,b7,Ute),ZN=r=>xg(r,Wte,Gr),A6=r=>xg(r,x7,g7),$te=r=>xg(r,y7,Hte),Q1=r=>xg(r,w7,Qte),ir=r=>p7.test(r),Cx=r=>yg(r,b7),Vte=r=>yg(r,Yte),h6=r=>yg(r,x7),qte=r=>yg(r,v7),Gte=r=>yg(r,y7),H1=r=>yg(r,w7,!0),xg=(r,e,t)=>{const n=m7.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},yg=(r,e,t=!1)=>{const n=p7.exec(r);return n?n[1]?e(n[1]):t:!1},x7=r=>r==="position"||r==="percentage",y7=r=>r==="image"||r==="url",v7=r=>r==="length"||r==="size"||r==="bg-size",b7=r=>r==="length",Wte=r=>r==="number",Yte=r=>r==="family-name",w7=r=>r==="shadow",Xte=()=>{const r=Ws("color"),e=Ws("font"),t=Ws("text"),n=Ws("font-weight"),a=Ws("tracking"),s=Ws("leading"),i=Ws("breakpoint"),l=Ws("container"),c=Ws("spacing"),u=Ws("radius"),A=Ws("shadow"),h=Ws("inset-shadow"),p=Ws("text-shadow"),m=Ws("drop-shadow"),y=Ws("blur"),g=Ws("perspective"),v=Ws("aspect"),w=Ws("ease"),S=Ws("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...E(),ir,sr],L=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],P=()=>[ir,sr,c],k=()=>[Wm,"full","auto",...P()],z=()=>[Sh,"none","subgrid",ir,sr],I=()=>["auto",{span:["full",Sh,ir,sr]},Sh,ir,sr],Q=()=>[Sh,"auto",ir,sr],R=()=>["auto","min","max","fr",ir,sr],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...P()],se=()=>[Wm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],X=()=>[r,ir,sr],Ae=()=>[...E(),h6,A6,{position:[ir,sr]}],ge=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",qte,Kte,{size:[ir,sr]}],O=()=>[JN,Cx,Gf],H=()=>["","none","full",u,ir,sr],V=()=>["",Gr,Cx,Gf],G=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Gr,JN,h6,A6],Se=()=>["","none",y,ir,sr],te=()=>["none",Gr,ir,sr],pe=()=>["none",Gr,ir,sr],ke=()=>[Gr,ir,sr],Ee=()=>[Wm,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rA],breakpoint:[rA],color:[Rte],container:[rA],"drop-shadow":[rA],ease:["in","out","in-out"],font:[zte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rA],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rA],shadow:[rA],spacing:["px",Gr],text:[rA],"text-shadow":[rA],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wm,sr,ir,v]}],container:["container"],columns:[{columns:[Gr,sr,ir,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Sh,"auto",ir,sr]}],basis:[{basis:[Wm,"full","auto",l,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gr,Wm,"auto","initial","none",sr]}],grow:[{grow:["",Gr,ir,sr]}],shrink:[{shrink:["",Gr,ir,sr]}],order:[{order:[Sh,"first","last","none",ir,sr]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[l,"screen",...se()]}],"min-w":[{"min-w":[l,"screen","none",...se()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",t,Cx,Gf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ir,ZN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",JN,sr]}],"font-family":[{font:[Vte,sr,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ir,sr]}],"line-clamp":[{"line-clamp":[Gr,"none",ir,ZN]}],leading:[{leading:[s,...P()]}],"list-image":[{"list-image":["none",ir,sr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ir,sr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gr,"from-font","auto",ir,Gf]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Gr,"auto",ir,sr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir,sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir,sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:ge()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sh,ir,sr],radial:["",ir,sr],conic:[Sh,ir,sr]},Gte,$te]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gr,ir,sr]}],"outline-w":[{outline:["",Gr,Cx,Gf]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",A,H1,Q1]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",h,H1,Q1]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Gr,Gf]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",p,H1,Q1]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Gr,ir,sr]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Gr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[ir,sr]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Gr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:ge()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ir,sr]}],filter:[{filter:["","none",ir,sr]}],blur:[{blur:Se()}],brightness:[{brightness:[Gr,ir,sr]}],contrast:[{contrast:[Gr,ir,sr]}],"drop-shadow":[{"drop-shadow":["","none",m,H1,Q1]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Gr,ir,sr]}],"hue-rotate":[{"hue-rotate":[Gr,ir,sr]}],invert:[{invert:["",Gr,ir,sr]}],saturate:[{saturate:[Gr,ir,sr]}],sepia:[{sepia:["",Gr,ir,sr]}],"backdrop-filter":[{"backdrop-filter":["","none",ir,sr]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Gr,ir,sr]}],"backdrop-contrast":[{"backdrop-contrast":[Gr,ir,sr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gr,ir,sr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gr,ir,sr]}],"backdrop-invert":[{"backdrop-invert":["",Gr,ir,sr]}],"backdrop-opacity":[{"backdrop-opacity":[Gr,ir,sr]}],"backdrop-saturate":[{"backdrop-saturate":[Gr,ir,sr]}],"backdrop-sepia":[{"backdrop-sepia":["",Gr,ir,sr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ir,sr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gr,"initial",ir,sr]}],ease:[{ease:["linear","initial",w,ir,sr]}],delay:[{delay:[Gr,ir,sr]}],animate:[{animate:["none",S,ir,sr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ir,sr]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:te()}],"rotate-x":[{"rotate-x":te()}],"rotate-y":[{"rotate-y":te()}],"rotate-z":[{"rotate-z":te()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[ir,sr,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir,sr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir,sr]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Gr,Cx,Gf,ZN]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jte=Fte(Xte);function Cr(...r){return Jte(An(r))}function a0(r){if(!r)return"-";const e=new Date(r);return isNaN(e.getTime())?"-":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}const pn={engineer:1,"senior-engineer":2,"principal-engineer":3,manager:3,"managing-director":4,admin:5},f6=r=>{const e=pn[r]||0;return r==="admin"?{canAddProject:!0,canAddResearch:!0,canAddBusinessContact:!0,canAddTimesheet:!0,canExportTimesheet:!0,canAddTeamMember:!0,canEditTeamMember:!0,canDeleteTeamMember:!0,canAddOrRemoveInventory:!0,canAddMaintenanceDates:!0,canAddOrRemovePC:!0,canCheckoutEquipment:!0,canAssignPC:!0,canAccessFinance:!0,canUploadPO:!0,canDeletePO:!0,canApproveInvoices:!0,canEditInvoices:!0,canDeleteInvoices:!0,canViewBaseCost:!0,canViewAnalytics:!0,canManageProjectRates:!0}:{canAddProject:e>=pn.engineer,canAddResearch:e>=pn.engineer,canAddBusinessContact:e>=pn.engineer,canAddTimesheet:e>=pn.engineer,canExportTimesheet:e>=pn["senior-engineer"],canAddTeamMember:e>=pn["principal-engineer"],canEditTeamMember:e>=pn["principal-engineer"],canDeleteTeamMember:e>=pn["principal-engineer"],canAddOrRemoveInventory:e>=pn.engineer,canAddMaintenanceDates:e>=pn.engineer,canAddOrRemovePC:e>=pn.engineer,canCheckoutEquipment:e>=pn.engineer,canAssignPC:e>=pn.engineer,canAccessFinance:e>=pn["senior-engineer"],canUploadPO:e>=pn["senior-engineer"],canDeletePO:e>=pn["senior-engineer"],canApproveInvoices:e>=pn["managing-director"],canEditInvoices:e>=pn["senior-engineer"],canDeleteInvoices:e>=pn["senior-engineer"],canViewBaseCost:e>=pn["senior-engineer"],canViewAnalytics:e>=pn["senior-engineer"],canManageProjectRates:e>=pn["senior-engineer"]}},Zte=r=>{if(r.length===0)return"engineer";if(r.includes("admin"))return"admin";let e=r[0],t=pn[e]||0;for(const n of r){const a=pn[n]||0;a>t&&(t=a,e=n)}return e},dC=r=>{const e=Array.isArray(r)?r:[r];if(e.length===0)return f6("engineer");const t=Zte(e);return f6(t)},w_=r=>({engineer:{label:"Engineer",color:"bg-blue-100 text-blue-800 border-blue-200",icon:"",level:pn.engineer},"senior-engineer":{label:"Senior Engineer",color:"bg-purple-100 text-purple-800 border-purple-200",icon:"",level:pn["senior-engineer"]},"principal-engineer":{label:"Principal Engineer",color:"bg-indigo-100 text-indigo-800 border-indigo-200",icon:"",level:pn["principal-engineer"]},manager:{label:"Manager",color:"bg-green-100 text-green-800 border-green-200",icon:"",level:pn.manager},"managing-director":{label:"Managing Director",color:"bg-red-100 text-red-800 border-red-200",icon:"",level:pn["managing-director"]},admin:{label:"Admin",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"",level:pn.admin}})[r],vd=(r,e)=>`This action requires ${w_(e).label} level or higher. Please contact your manager if you need access.`,sl=(r,e)=>dC(r)[e];function C7(r,e){return function(){return r.apply(e,arguments)}}const{toString:ere}=Object.prototype,{getPrototypeOf:C_}=Object,{iterator:AC,toStringTag:N7}=Symbol,hC=(r=>e=>{const t=ere.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),_u=r=>(r=r.toLowerCase(),e=>hC(e)===r),fC=r=>e=>typeof e===r,{isArray:vg}=Array,Gp=fC("undefined");function iv(r){return r!==null&&!Gp(r)&&r.constructor!==null&&!Gp(r.constructor)&&ol(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const S7=_u("ArrayBuffer");function tre(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&S7(r.buffer),e}const rre=fC("string"),ol=fC("function"),B7=fC("number"),ov=r=>r!==null&&typeof r=="object",nre=r=>r===!0||r===!1,hw=r=>{if(hC(r)!=="object")return!1;const e=C_(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(N7 in r)&&!(AC in r)},are=r=>{if(!ov(r)||iv(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},sre=_u("Date"),ire=_u("File"),ore=_u("Blob"),lre=_u("FileList"),cre=r=>ov(r)&&ol(r.pipe),ure=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ol(r.append)&&((e=hC(r))==="formdata"||e==="object"&&ol(r.toString)&&r.toString()==="[object FormData]"))},dre=_u("URLSearchParams"),[Are,hre,fre,mre]=["ReadableStream","Request","Response","Headers"].map(_u),pre=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lv(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),vg(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(iv(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,r[l],l,r)}}function E7(r,e){if(iv(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const u0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j7=r=>!Gp(r)&&r!==u0;function n4(){const{caseless:r,skipUndefined:e}=j7(this)&&this||{},t={},n=(a,s)=>{const i=r&&E7(t,s)||s;hw(t[i])&&hw(a)?t[i]=n4(t[i],a):hw(a)?t[i]=n4({},a):vg(a)?t[i]=a.slice():(!e||!Gp(a))&&(t[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&lv(arguments[a],n);return t}const gre=(r,e,t,{allOwnKeys:n}={})=>(lv(e,(a,s)=>{t&&ol(a)?r[s]=C7(a,t):r[s]=a},{allOwnKeys:n}),r),xre=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),yre=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},vre=(r,e,t,n)=>{let a,s,i;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),s=a.length;s-- >0;)i=a[s],(!n||n(i,r,e))&&!l[i]&&(e[i]=r[i],l[i]=!0);r=t!==!1&&C_(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},bre=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},wre=r=>{if(!r)return null;if(vg(r))return r;let e=r.length;if(!B7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Cre=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&C_(Uint8Array)),Nre=(r,e)=>{const n=(r&&r[AC]).call(r);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(r,s[0],s[1])}},Sre=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Bre=_u("HTMLFormElement"),Ere=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),m6=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),jre=_u("RegExp"),_7=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};lv(t,(a,s)=>{let i;(i=e(a,s,r))!==!1&&(n[s]=i||a)}),Object.defineProperties(r,n)},_re=r=>{_7(r,(e,t)=>{if(ol(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(ol(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Tre=(r,e)=>{const t={},n=a=>{a.forEach(s=>{t[s]=!0})};return vg(r)?n(r):n(String(r).split(e)),t},kre=()=>{},Fre=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Ore(r){return!!(r&&ol(r.append)&&r[N7]==="FormData"&&r[AC])}const Dre=r=>{const e=new Array(10),t=(n,a)=>{if(ov(n)){if(e.indexOf(n)>=0)return;if(iv(n))return n;if(!("toJSON"in n)){e[a]=n;const s=vg(n)?[]:{};return lv(n,(i,l)=>{const c=t(i,a+1);!Gp(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return t(r,0)},Pre=_u("AsyncFunction"),Ire=r=>r&&(ov(r)||ol(r))&&ol(r.then)&&ol(r.catch),T7=((r,e)=>r?setImmediate:e?((t,n)=>(u0.addEventListener("message",({source:a,data:s})=>{a===u0&&s===t&&n.length&&n.shift()()},!1),a=>{n.push(a),u0.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ol(u0.postMessage)),Lre=typeof queueMicrotask<"u"?queueMicrotask.bind(u0):typeof process<"u"&&process.nextTick||T7,Mre=r=>r!=null&&ol(r[AC]),et={isArray:vg,isArrayBuffer:S7,isBuffer:iv,isFormData:ure,isArrayBufferView:tre,isString:rre,isNumber:B7,isBoolean:nre,isObject:ov,isPlainObject:hw,isEmptyObject:are,isReadableStream:Are,isRequest:hre,isResponse:fre,isHeaders:mre,isUndefined:Gp,isDate:sre,isFile:ire,isBlob:ore,isRegExp:jre,isFunction:ol,isStream:cre,isURLSearchParams:dre,isTypedArray:Cre,isFileList:lre,forEach:lv,merge:n4,extend:gre,trim:pre,stripBOM:xre,inherits:yre,toFlatObject:vre,kindOf:hC,kindOfTest:_u,endsWith:bre,toArray:wre,forEachEntry:Nre,matchAll:Sre,isHTMLForm:Bre,hasOwnProperty:m6,hasOwnProp:m6,reduceDescriptors:_7,freezeMethods:_re,toObjectSet:Tre,toCamelCase:Ere,noop:kre,toFiniteNumber:Fre,findKey:E7,global:u0,isContextDefined:j7,isSpecCompliantForm:Ore,toJSONObject:Dre,isAsyncFn:Pre,isThenable:Ire,setImmediate:T7,asap:Lre,isIterable:Mre};function Qr(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}et.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const k7=Qr.prototype,F7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{F7[r]={value:r}});Object.defineProperties(Qr,F7);Object.defineProperty(k7,"isAxiosError",{value:!0});Qr.from=(r,e,t,n,a,s)=>{const i=Object.create(k7);et.toFlatObject(r,i,function(A){return A!==Error.prototype},u=>u!=="isAxiosError");const l=r&&r.message?r.message:"Error",c=e==null&&r?r.code:e;return Qr.call(i,l,c,t,n,a),r&&i.cause==null&&Object.defineProperty(i,"cause",{value:r,configurable:!0}),i.name=r&&r.name||"Error",s&&Object.assign(i,s),i};const Rre=null;function a4(r){return et.isPlainObject(r)||et.isArray(r)}function O7(r){return et.endsWith(r,"[]")?r.slice(0,-2):r}function p6(r,e,t){return r?r.concat(e).map(function(a,s){return a=O7(a),!t&&s?"["+a+"]":a}).join(t?".":""):e}function Ure(r){return et.isArray(r)&&!r.some(a4)}const Qre=et.toFlatObject(et,{},null,function(e){return/^is[A-Z]/.test(e)});function mC(r,e,t){if(!et.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=et.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!et.isUndefined(v[g])});const n=t.metaTokens,a=t.visitor||A,s=t.dots,i=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(e);if(!et.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(et.isDate(y))return y.toISOString();if(et.isBoolean(y))return y.toString();if(!c&&et.isBlob(y))throw new Qr("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(y)||et.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function A(y,g,v){let w=y;if(y&&!v&&typeof y=="object"){if(et.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(et.isArray(y)&&Ure(y)||(et.isFileList(y)||et.endsWith(g,"[]"))&&(w=et.toArray(y)))return g=O7(g),w.forEach(function(C,E){!(et.isUndefined(C)||C===null)&&e.append(i===!0?p6([g],E,s):i===null?g:g+"[]",u(C))}),!1}return a4(y)?!0:(e.append(p6(v,g,s),u(y)),!1)}const h=[],p=Object.assign(Qre,{defaultVisitor:A,convertValue:u,isVisitable:a4});function m(y,g){if(!et.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(y),et.forEach(y,function(w,S){(!(et.isUndefined(w)||w===null)&&a.call(e,w,et.isString(S)?S.trim():S,g,p))===!0&&m(w,g?g.concat(S):[S])}),h.pop()}}if(!et.isObject(r))throw new TypeError("data must be an object");return m(r),e}function g6(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function N_(r,e){this._pairs=[],r&&mC(r,this,e)}const D7=N_.prototype;D7.append=function(e,t){this._pairs.push([e,t])};D7.toString=function(e){const t=e?function(n){return e.call(this,n,g6)}:g6;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function Hre(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function P7(r,e,t){if(!e)return r;const n=t&&t.encode||Hre;et.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let s;if(a?s=a(e,t):s=et.isURLSearchParams(e)?e.toString():new N_(e,t).toString(n),s){const i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class x6{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){et.forEach(this.handlers,function(n){n!==null&&e(n)})}}const I7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zre=typeof URLSearchParams<"u"?URLSearchParams:N_,Kre=typeof FormData<"u"?FormData:null,$re=typeof Blob<"u"?Blob:null,Vre={isBrowser:!0,classes:{URLSearchParams:zre,FormData:Kre,Blob:$re},protocols:["http","https","file","blob","url","data"]},S_=typeof window<"u"&&typeof document<"u",s4=typeof navigator=="object"&&navigator||void 0,qre=S_&&(!s4||["ReactNative","NativeScript","NS"].indexOf(s4.product)<0),Gre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wre=S_&&window.location.href||"http://localhost",Yre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S_,hasStandardBrowserEnv:qre,hasStandardBrowserWebWorkerEnv:Gre,navigator:s4,origin:Wre},Symbol.toStringTag,{value:"Module"})),oo={...Yre,...Vre};function Xre(r,e){return mC(r,new oo.classes.URLSearchParams,{visitor:function(t,n,a,s){return oo.isNode&&et.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Jre(r){return et.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Zre(r){const e={},t=Object.keys(r);let n;const a=t.length;let s;for(n=0;n<a;n++)s=t[n],e[s]=r[s];return e}function L7(r){function e(t,n,a,s){let i=t[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=t.length;return i=!i&&et.isArray(a)?a.length:i,c?(et.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!et.isObject(a[i]))&&(a[i]=[]),e(t,n,a[i],s)&&et.isArray(a[i])&&(a[i]=Zre(a[i])),!l)}if(et.isFormData(r)&&et.isFunction(r.entries)){const t={};return et.forEachEntry(r,(n,a)=>{e(Jre(n),a,t,0)}),t}return null}function ene(r,e,t){if(et.isString(r))try{return(e||JSON.parse)(r),et.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const cv={transitional:I7,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=et.isObject(e);if(s&&et.isHTMLForm(e)&&(e=new FormData(e)),et.isFormData(e))return a?JSON.stringify(L7(e)):e;if(et.isArrayBuffer(e)||et.isBuffer(e)||et.isStream(e)||et.isFile(e)||et.isBlob(e)||et.isReadableStream(e))return e;if(et.isArrayBufferView(e))return e.buffer;if(et.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Xre(e,this.formSerializer).toString();if((l=et.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mC(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),ene(e)):e}],transformResponse:[function(e){const t=this.transitional||cv.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(et.isResponse(e)||et.isReadableStream(e))return e;if(e&&et.isString(e)&&(n&&!this.responseType||a)){const i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Qr.from(l,Qr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oo.classes.FormData,Blob:oo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],r=>{cv.headers[r]={}});const tne=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rne=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(i){a=i.indexOf(":"),t=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!t||e[t]&&tne[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},y6=Symbol("internals");function Nx(r){return r&&String(r).trim().toLowerCase()}function fw(r){return r===!1||r==null?r:et.isArray(r)?r.map(fw):String(r)}function nne(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const ane=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function eS(r,e,t,n,a){if(et.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!et.isString(e)){if(et.isString(n))return e.indexOf(n)!==-1;if(et.isRegExp(n))return n.test(e)}}function sne(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function ine(r,e){const t=et.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let ll=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(l,c,u){const A=Nx(c);if(!A)throw new Error("header name must be a non-empty string");const h=et.findKey(a,A);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=fw(l))}const i=(l,c)=>et.forEach(l,(u,A)=>s(u,A,c));if(et.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(et.isString(e)&&(e=e.trim())&&!ane(e))i(rne(e),t);else if(et.isObject(e)&&et.isIterable(e)){let l={},c,u;for(const A of e){if(!et.isArray(A))throw TypeError("Object iterator must return a key-value pair");l[u=A[0]]=(c=l[u])?et.isArray(c)?[...c,A[1]]:[c,A[1]]:A[1]}i(l,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=Nx(e),e){const n=et.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return nne(a);if(et.isFunction(t))return t.call(this,a,n);if(et.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Nx(e),e){const n=et.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||eS(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function s(i){if(i=Nx(i),i){const l=et.findKey(n,i);l&&(!t||eS(n,n[l],l,t))&&(delete n[l],a=!0)}}return et.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];(!e||eS(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return et.forEach(this,(a,s)=>{const i=et.findKey(n,s);if(i){t[i]=fw(a),delete t[s];return}const l=e?sne(s):String(s).trim();l!==s&&delete t[s],t[l]=fw(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return et.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&et.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[y6]=this[y6]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Nx(i);n[l]||(ine(a,i),n[l]=!0)}return et.isArray(e)?e.forEach(s):s(e),this}};ll.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(ll.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});et.freezeMethods(ll);function tS(r,e){const t=this||cv,n=e||t,a=ll.from(n.headers);let s=n.data;return et.forEach(r,function(l){s=l.call(t,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function M7(r){return!!(r&&r.__CANCEL__)}function bg(r,e,t){Qr.call(this,r??"canceled",Qr.ERR_CANCELED,e,t),this.name="CanceledError"}et.inherits(bg,Qr,{__CANCEL__:!0});function R7(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Qr("Request failed with status code "+t.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function one(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function lne(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),A=n[s];i||(i=u),t[a]=c,n[a]=u;let h=s,p=0;for(;h!==a;)p+=t[h++],h=h%r;if(a=(a+1)%r,a===s&&(s=(s+1)%r),u-i<e)return;const m=A&&u-A;return m?Math.round(p*1e3/m):void 0}}function cne(r,e){let t=0,n=1e3/e,a,s;const i=(u,A=Date.now())=>{t=A,a=null,s&&(clearTimeout(s),s=null),r(...u)};return[(...u)=>{const A=Date.now(),h=A-t;h>=n?i(u,A):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-h)))},()=>a&&i(a)]}const Iw=(r,e,t=3)=>{let n=0;const a=lne(50,250);return cne(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),A=i<=l;n=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&A?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(h)},t)},v6=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},b6=r=>(...e)=>et.asap(()=>r(...e)),une=oo.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,oo.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(oo.origin),oo.navigator&&/(msie|trident)/i.test(oo.navigator.userAgent)):()=>!0,dne=oo.hasStandardBrowserEnv?{write(r,e,t,n,a,s){const i=[r+"="+encodeURIComponent(e)];et.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),et.isString(n)&&i.push("path="+n),et.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ane(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function hne(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function U7(r,e,t){let n=!Ane(e);return r&&(n||t==!1)?hne(r,e):e}const w6=r=>r instanceof ll?{...r}:r;function k0(r,e){e=e||{};const t={};function n(u,A,h,p){return et.isPlainObject(u)&&et.isPlainObject(A)?et.merge.call({caseless:p},u,A):et.isPlainObject(A)?et.merge({},A):et.isArray(A)?A.slice():A}function a(u,A,h,p){if(et.isUndefined(A)){if(!et.isUndefined(u))return n(void 0,u,h,p)}else return n(u,A,h,p)}function s(u,A){if(!et.isUndefined(A))return n(void 0,A)}function i(u,A){if(et.isUndefined(A)){if(!et.isUndefined(u))return n(void 0,u)}else return n(void 0,A)}function l(u,A,h){if(h in e)return n(u,A);if(h in r)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,A,h)=>a(w6(u),w6(A),h,!0)};return et.forEach(Object.keys({...r,...e}),function(A){const h=c[A]||a,p=h(r[A],e[A],A);et.isUndefined(p)&&h!==l||(t[A]=p)}),t}const Q7=r=>{const e=k0({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;if(e.headers=i=ll.from(i),e.url=P7(U7(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),et.isFormData(t)){if(oo.hasStandardBrowserEnv||oo.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(et.isFunction(t.getHeaders)){const c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([A,h])=>{u.includes(A.toLowerCase())&&i.set(A,h)})}}if(oo.hasStandardBrowserEnv&&(n&&et.isFunction(n)&&(n=n(e)),n||n!==!1&&une(e.url))){const c=a&&s&&dne.read(s);c&&i.set(a,c)}return e},fne=typeof XMLHttpRequest<"u",mne=fne&&function(r){return new Promise(function(t,n){const a=Q7(r);let s=a.data;const i=ll.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,A,h,p,m,y;function g(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(A),a.signal&&a.signal.removeEventListener("abort",A)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function w(){if(!v)return;const C=ll.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:r,request:v};R7(function(D){t(D),g()},function(D){n(D),g()},_),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(n(new Qr("Request aborted",Qr.ECONNABORTED,r,v)),v=null)},v.onerror=function(E){const _=E&&E.message?E.message:"Network Error",L=new Qr(_,Qr.ERR_NETWORK,r,v);L.event=E||null,n(L),v=null},v.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||I7;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new Qr(E,_.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,r,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&et.forEach(i.toJSON(),function(E,_){v.setRequestHeader(_,E)}),et.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([p,y]=Iw(u,!0),v.addEventListener("progress",p)),c&&v.upload&&([h,m]=Iw(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(A=C=>{v&&(n(!C||C.type?new bg(null,r,v):C),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(A),a.signal&&(a.signal.aborted?A():a.signal.addEventListener("abort",A)));const S=one(a.url);if(S&&oo.protocols.indexOf(S)===-1){n(new Qr("Unsupported protocol "+S+":",Qr.ERR_BAD_REQUEST,r));return}v.send(s||null)})},pne=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const A=u instanceof Error?u:this.reason;n.abort(A instanceof Qr?A:new bg(A instanceof Error?A.message:A))}};let i=e&&setTimeout(()=>{i=null,s(new Qr(`timeout ${e} of ms exceeded`,Qr.ETIMEDOUT))},e);const l=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),r=null)};r.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>et.asap(l),c}},gne=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},xne=async function*(r,e){for await(const t of yne(r))yield*gne(t,e)},yne=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},C6=(r,e,t,n)=>{const a=xne(r,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:A}=await a.next();if(u){l(),c.close();return}let h=A.byteLength;if(t){let p=s+=h;t(p)}c.enqueue(new Uint8Array(A))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},N6=64*1024,{isFunction:z1}=et,vne=(({Request:r,Response:e})=>({Request:r,Response:e}))(et.global),{ReadableStream:S6,TextEncoder:B6}=et.global,E6=(r,...e)=>{try{return!!r(...e)}catch{return!1}},bne=r=>{r=et.merge.call({skipUndefined:!0},vne,r);const{fetch:e,Request:t,Response:n}=r,a=e?z1(e):typeof fetch=="function",s=z1(t),i=z1(n);if(!a)return!1;const l=a&&z1(S6),c=a&&(typeof B6=="function"?(y=>g=>y.encode(g))(new B6):async y=>new Uint8Array(await new t(y).arrayBuffer())),u=s&&l&&E6(()=>{let y=!1;const g=new t(oo.origin,{body:new S6,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),A=i&&l&&E6(()=>et.isReadableStream(new n("").body)),h={stream:A&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(g,v)=>{let w=g&&g[y];if(w)return w.call(g);throw new Qr(`Response type '${y}' is not supported`,Qr.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(et.isBlob(y))return y.size;if(et.isSpecCompliantForm(y))return(await new t(oo.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(et.isArrayBufferView(y)||et.isArrayBuffer(y))return y.byteLength;if(et.isURLSearchParams(y)&&(y=y+""),et.isString(y))return(await c(y)).byteLength},m=async(y,g)=>{const v=et.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:w,signal:S,cancelToken:C,timeout:E,onDownloadProgress:_,onUploadProgress:L,responseType:D,headers:P,withCredentials:k="same-origin",fetchOptions:z}=Q7(y),I=e||fetch;D=D?(D+"").toLowerCase():"text";let Q=pne([S,C&&C.toAbortSignal()],E),R=null;const K=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let ee;try{if(L&&u&&v!=="get"&&v!=="head"&&(ee=await m(P,w))!==0){let Z=new t(g,{method:"POST",body:w,duplex:"half"}),O;if(et.isFormData(w)&&(O=Z.headers.get("content-type"))&&P.setContentType(O),Z.body){const[H,V]=v6(ee,Iw(b6(L)));w=C6(Z.body,N6,H,V)}}et.isString(k)||(k=k?"include":"omit");const Y=s&&"credentials"in t.prototype,se={...z,signal:Q,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:w,duplex:"half",credentials:Y?k:void 0};R=s&&new t(g,se);let X=await(s?I(R,z):I(g,se));const Ae=A&&(D==="stream"||D==="response");if(A&&(_||Ae&&K)){const Z={};["status","statusText","headers"].forEach(G=>{Z[G]=X[G]});const O=et.toFiniteNumber(X.headers.get("content-length")),[H,V]=_&&v6(O,Iw(b6(_),!0))||[];X=new n(C6(X.body,N6,H,()=>{V&&V(),K&&K()}),Z)}D=D||"text";let ge=await h[et.findKey(h,D)||"text"](X,y);return!Ae&&K&&K(),await new Promise((Z,O)=>{R7(Z,O,{data:ge,headers:ll.from(X.headers),status:X.status,statusText:X.statusText,config:y,request:R})})}catch(Y){throw K&&K(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,y,R),{cause:Y.cause||Y}):Qr.from(Y,Y&&Y.code,y,R)}}},wne=new Map,H7=r=>{let e=r?r.env:{};const{fetch:t,Request:n,Response:a}=e,s=[n,a,t];let i=s.length,l=i,c,u,A=wne;for(;l--;)c=s[l],u=A.get(c),u===void 0&&A.set(c,u=l?new Map:bne(e)),A=u;return u};H7();const i4={http:Rre,xhr:mne,fetch:{get:H7}};et.forEach(i4,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const j6=r=>`- ${r}`,Cne=r=>et.isFunction(r)||r===null||r===!1,z7={getAdapter:(r,e)=>{r=et.isArray(r)?r:[r];const{length:t}=r;let n,a;const s={};for(let i=0;i<t;i++){n=r[i];let l;if(a=n,!Cne(n)&&(a=i4[(l=String(n)).toLowerCase()],a===void 0))throw new Qr(`Unknown adapter '${l}'`);if(a&&(et.isFunction(a)||(a=a.get(e))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(j6).join(`
`):" "+j6(i[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:i4};function rS(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new bg(null,r)}function _6(r){return rS(r),r.headers=ll.from(r.headers),r.data=tS.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),z7.getAdapter(r.adapter||cv.adapter,r)(r).then(function(n){return rS(r),n.data=tS.call(r,r.transformResponse,n),n.headers=ll.from(n.headers),n},function(n){return M7(n)||(rS(r),n&&n.response&&(n.response.data=tS.call(r,r.transformResponse,n.response),n.response.headers=ll.from(n.response.headers))),Promise.reject(n)})}const K7="1.12.2",pC={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{pC[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const T6={};pC.transitional=function(e,t,n){function a(s,i){return"[Axios v"+K7+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Qr(a(i," has been removed"+(t?" in "+t:"")),Qr.ERR_DEPRECATED);return t&&!T6[i]&&(T6[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,l):!0}};pC.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Nne(r,e,t){if(typeof r!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=r[s],c=l===void 0||i(l,s,r);if(c!==!0)throw new Qr("option "+s+" must be "+c,Qr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qr("Unknown option "+s,Qr.ERR_BAD_OPTION)}}const mw={assertOptions:Nne,validators:pC},rd=mw.validators;let v0=class{constructor(e){this.defaults=e||{},this.interceptors={request:new x6,response:new x6}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=k0(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;n!==void 0&&mw.assertOptions(n,{silentJSONParsing:rd.transitional(rd.boolean),forcedJSONParsing:rd.transitional(rd.boolean),clarifyTimeoutError:rd.transitional(rd.boolean)},!1),a!=null&&(et.isFunction(a)?t.paramsSerializer={serialize:a}:mw.assertOptions(a,{encode:rd.function,serialize:rd.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),mw.assertOptions(t,{baseUrl:rd.spelling("baseURL"),withXsrfToken:rd.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&et.merge(s.common,s[t.method]);s&&et.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=ll.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let A,h=0,p;if(!c){const y=[_6.bind(this),void 0];for(y.unshift(...l),y.push(...u),p=y.length,A=Promise.resolve(t);h<p;)A=A.then(y[h++],y[h++]);return A}p=l.length;let m=t;for(;h<p;){const y=l[h++],g=l[h++];try{m=y(m)}catch(v){g.call(this,v);break}}try{A=_6.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,p=u.length;h<p;)A=A.then(u[h++],u[h++]);return A}getUri(e){e=k0(this.defaults,e);const t=U7(e.baseURL,e.url,e.allowAbsoluteUrls);return P7(t,e.params,e.paramsSerializer)}};et.forEach(["delete","get","head","options"],function(e){v0.prototype[e]=function(t,n){return this.request(k0(n||{},{method:e,url:t,data:(n||{}).data}))}});et.forEach(["post","put","patch"],function(e){function t(n){return function(s,i,l){return this.request(k0(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}v0.prototype[e]=t(),v0.prototype[e+"Form"]=t(!0)});let Sne=class $7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new bg(s,i,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new $7(function(a){e=a}),cancel:e}}};function Bne(r){return function(t){return r.apply(null,t)}}function Ene(r){return et.isObject(r)&&r.isAxiosError===!0}const o4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o4).forEach(([r,e])=>{o4[e]=r});function V7(r){const e=new v0(r),t=C7(v0.prototype.request,e);return et.extend(t,v0.prototype,e,{allOwnKeys:!0}),et.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return V7(k0(r,a))},t}const Cs=V7(cv);Cs.Axios=v0;Cs.CanceledError=bg;Cs.CancelToken=Sne;Cs.isCancel=M7;Cs.VERSION=K7;Cs.toFormData=mC;Cs.AxiosError=Qr;Cs.Cancel=Cs.CanceledError;Cs.all=function(e){return Promise.all(e)};Cs.spread=Bne;Cs.isAxiosError=Ene;Cs.mergeConfig=k0;Cs.AxiosHeaders=ll;Cs.formToJSON=r=>L7(et.isHTMLForm(r)?new FormData(r):r);Cs.getAdapter=z7.getAdapter;Cs.HttpStatusCode=o4;Cs.default=Cs;const{Axios:LIe,AxiosError:MIe,CanceledError:RIe,isCancel:UIe,CancelToken:QIe,VERSION:HIe,all:zIe,Cancel:KIe,isAxiosError:$Ie,spread:VIe,toFormData:qIe,AxiosHeaders:GIe,HttpStatusCode:WIe,formToJSON:YIe,getAdapter:XIe,mergeConfig:JIe}=Cs,k6=(r,e)=>[`[${new Date().toISOString()}] [${r.toUpperCase()}]`,...e],Rt={debug:(...r)=>{},info:(...r)=>{},warn:(...r)=>{console.warn(...k6("warn",r))},error:(...r)=>{console.error(...k6("error",r))},axiosError:(r,e)=>{}},jne=r=>r.replace(/_([a-z])/g,e=>e[1].toUpperCase()),pr=r=>{try{return Array.isArray(r)?r.map(e=>pr(e)):r!==null&&typeof r=="object"&&!(r instanceof Date)?Object.keys(r).reduce((e,t)=>{const n=jne(t),a=r[t];return e[n]=a!==null&&typeof a=="object"&&!(a instanceof Date)?pr(a):a,e},{}):r}catch(e){return console.error("Error in transformKeysToCAmelCase:",e),r}};class _ne{api;token=null;constructor(){const e="/api";this.api=Cs.create({baseURL:e,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.token=localStorage.getItem("auth_token"),this.token&&this.setAuthToken(this.token),this.api.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(t.config?.url?.includes("/auth/login")||(this.clearAuth(),window.location.href="/login")),Promise.reject(t)))}setAuthToken(e){this.token=e,this.api.defaults.headers.common.Authorization=`Bearer ${e}`,localStorage.setItem("auth_token",e)}clearAuth(){this.token=null,delete this.api.defaults.headers.common.Authorization,localStorage.removeItem("auth_token")}getToken(){return this.token}isAuthenticated(){return!!this.token}isProduction(){return!0}getEnvironmentInfo(){return{isProduction:this.isProduction(),url:this.api.defaults.baseURL||"Unknown"}}}const vn=new _ne,rt=vn.api,Tne=Object.freeze(Object.defineProperty({__proto__:null,api:rt,httpClient:vn,transformKeysToCAmelCase:pr},Symbol.toStringTag,{value:"Module"}));class kne{async register(e){const t=await rt.post("/auth/register",e);return t.data.token&&vn.setAuthToken(t.data.token),t.data}async login(e,t,n){try{const a=await rt.post("/auth/login",{email:e,password:t,captchaToken:n});if(Rt.debug("AuthService: Login response received",{status:a.status}),!a?.data)throw new Error("Invalid response from server: expected object");if(!a.data.token)throw Rt.warn("AuthService: No token in response"),new Error("Server did not return authentication token");if(!a.data.user)throw Rt.warn("AuthService: No user data in response"),new Error("Server did not return user data");return Rt.debug("AuthService: Token found, setting auth token"),vn.setAuthToken(a.data.token),a.data}catch(a){throw a}}async logout(){vn.clearAuth()}async changePassword(e,t,n){return(await rt.post("/auth/change-password",{email:e,currentPassword:t,newPassword:n})).data}async updateUserAvatar(e){return(await rt.patch("/users/avatar",{avatarId:e})).data}async getCurrentUserProfile(){return(await rt.get("/users/profile")).data}isAuthenticated(){return vn.isAuthenticated()}getToken(){return vn.getToken()}}const Jf=new kne,q7=B.createContext(void 0),Fne=({children:r})=>{const[e,t]=B.useState(()=>{const i=localStorage.getItem("currentUser");if(!i||i==="undefined"||i==="null")return null;try{return JSON.parse(i)}catch{return localStorage.removeItem("currentUser"),null}}),n=async(i,l,c)=>{try{const u=await Jf.login(i,l,c);if(!u?.user||!u?.token)throw new Error("Invalid response from server: user or token missing");const{user:A,token:h,isFirstTimeLogin:p}=u,m={...A,isFirstTimeLogin:p};return t(A),localStorage.setItem("currentUser",JSON.stringify(A)),localStorage.setItem("auth_token",h),m}catch(u){throw new Error(u.response?.data?.message||"Invalid credentials")}},a=()=>{t(null),localStorage.removeItem("currentUser"),localStorage.removeItem("auth_token")},s=i=>e?sl(e.roles||[e.role],i):!1;return o.jsx(q7.Provider,{value:{user:e,login:n,logout:a,isAuthenticated:!!e,hasPermission:s},children:r})},hf=()=>{const r=B.useContext(q7);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},G7=B.createContext(void 0),F6="mycae-theme";function O6(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const One=({children:r})=>{const[e,t]=B.useState(()=>{if(typeof window>"u")return"system";const c=localStorage.getItem("theme"),u=localStorage.getItem(F6);return u||c||"system"}),[n,a]=B.useState(()=>e==="system"?O6():e),s=B.useCallback(c=>{const u=document.documentElement;c==="dark"?u.classList.add("dark"):u.classList.remove("dark"),u.style.colorScheme=c},[]);B.useEffect(()=>{const c=e==="system"?O6():e;a(c),s(c),localStorage.setItem(F6,e),localStorage.removeItem("theme")},[e,s]),B.useEffect(()=>{if(e!=="system")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),u=A=>{const h=A.matches?"dark":"light";a(h),s(h)};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[e,s]);const i=B.useCallback(c=>{t(c)},[]),l=B.useCallback(()=>{i(n==="light"?"dark":"light")},[n,i]);return o.jsx(G7.Provider,{value:{theme:e,resolvedTheme:n,setTheme:i,toggleTheme:l},children:r})},W7=()=>{const r=B.useContext(G7);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},Dne=({isDark:r,onToggle:e,size:t="sm",className:n})=>{const a={sm:{container:"w-12 h-6",circle:"w-5 h-5",icon:"w-3 h-3",translate:"translate-x-6"},md:{container:"w-16 h-8",circle:"w-7 h-7",icon:"w-4 h-4",translate:"translate-x-8"}};return o.jsxs("button",{onClick:e,role:"switch","aria-checked":r,"aria-label":"Toggle dark mode",className:Cr("relative rounded-full transition-colors duration-250 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-800",a[t].container,r?"bg-gray-700":"bg-gray-200",n),children:[o.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-1",children:[o.jsx(Xee,{className:Cr(a[t].icon,"text-amber-500 transition-opacity duration-200",r?"opacity-30":"opacity-100")}),o.jsx(See,{className:Cr(a[t].icon,"text-indigo-400 transition-opacity duration-200",r?"opacity-100":"opacity-30")})]}),o.jsx("div",{className:Cr("absolute top-0.5 left-0.5 bg-white rounded-full shadow-sm transition-transform duration-250 ease-in-out",a[t].circle,r?a[t].translate:"translate-x-0")})]})},Pne=[{to:"/",icon:x_,label:"Dashboard",section:"main"},{to:"/my-dashboard",icon:lC,label:"My Dashboard",section:"main"},{to:"/projects",icon:yd,label:"Projects",section:"projects"},{to:"/research",icon:T0,label:"Research",section:"projects"},{to:"/timesheets",icon:To,label:"Timesheets",section:"projects"},{to:"/team-workload",icon:Nu,label:"Team Workload",section:"projects"},{to:"/pcs",icon:v_,label:"PC Assignment",section:"projects"},{to:"/team",icon:Nu,label:"Team Members",section:"people"},{to:"/companies",icon:Xh,label:"Business Contacts",section:"people"},{to:"/finance",icon:g_,label:"Finance Overview",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/documents",icon:$a,label:"Finance Documents",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/exchange-rates",icon:nZ,label:"Exchange Rates",section:"finance",requiresPermission:"canAccessFinance"},{to:"/inventory",icon:Ec,label:"Inventory",section:"equipment"},{to:"/equipment",icon:TZ,label:"Equipment Management",section:"equipment"},{to:"/maintenance",icon:qp,label:"Maintenance",section:"equipment"},{to:"/settings",icon:c7,label:"Settings",section:"system"}],Ine=({isOpen:r=!0,onClose:e})=>{const{user:t}=hf(),{resolvedTheme:n,toggleTheme:a}=W7();if(!t)return null;const s=t.roles||[t.role],i=dC(s),l=s.length>0?s.reduce((A,h)=>{const p=pn[h]||0,m=pn[A]||0;return p>m?h:A},s[0]):t.role,c=w_(l),u=A=>Pne.filter(h=>h.section===A).filter(h=>h.requiresPermission?i[h.requiresPermission]:!0);return o.jsxs(o.Fragment,{children:[r&&e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),o.jsx("aside",{className:Cr("fixed md:sticky top-0 left-0 z-50 h-screen w-64 bg-white dark:bg-gray-900 shadow-lg border-r border-slate-200 dark:border-gray-700","transition-transform duration-300 ease-in-out","md:translate-x-0",r?"translate-x-0":"-translate-x-full"),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"relative flex items-center justify-center px-5 py-6 border-b border-slate-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("span",{className:"text-3xl font-extrabold tracking-tight",children:[o.jsx("span",{className:"text-slate-800 dark:text-gray-100",children:"My"}),o.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 bg-clip-text text-transparent",children:"CAE"})]}),o.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-gray-400 tracking-[0.2em] uppercase mt-0.5",children:"Technologies"})]}),e&&o.jsx("button",{onClick:e,className:"absolute right-3 md:hidden p-2 hover:bg-slate-100 dark:hover:bg-gray-700 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-gray-100 rounded-lg transition-colors","aria-label":"Close menu",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 px-3 py-4 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:u("main").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,end:!0,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Projects"}),o.jsx("ul",{className:"space-y-1",children:u("projects").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"People & Contacts"}),o.jsx("ul",{className:"space-y-1",children:u("people").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),u("finance").length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Finance"}),o.jsx("ul",{className:"space-y-1",children:u("finance").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,end:A.to==="/finance",onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Equipment"}),o.jsx("ul",{className:"space-y-1",children:u("equipment").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:u("system").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})})]})}),o.jsxs("div",{className:"px-4 py-4 border-t border-slate-200 dark:border-gray-700 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 dark:from-gray-800 dark:to-gray-800 space-y-3",children:[o.jsx("div",{className:"px-3 py-2.5 rounded-lg border border-blue-200 dark:border-blue-700 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-base",children:c.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold truncate text-slate-900 dark:text-gray-100",children:c.label}),o.jsxs("p",{className:"text-[10px] text-slate-600 dark:text-gray-400",children:["Level ",c.level," Access"]})]})]})}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[o.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-gray-400",children:"Dark Mode"}),o.jsx(Dne,{isDark:n==="dark",onToggle:a,size:"sm"})]}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-gray-500",children:[o.jsx("p",{className:"font-medium",children:"v1.0.0"}),o.jsx("p",{className:"mt-1",children:" 2025 MyCAE"})]})]})]})})]})},Lne=[{to:"/",icon:x_,label:"Home"},{to:"/projects",icon:yd,label:"Projects"},{to:"/clients",icon:Xh,label:"Clients"},{to:"/team",icon:Nu,label:"Team"},{to:"/inventory",icon:Ec,label:"Equipment"}],Mne=()=>o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 md:hidden",children:o.jsx("ul",{className:"flex items-center justify-around",children:Lne.map(r=>o.jsx("li",{className:"flex-1",children:o.jsx(Oh,{to:r.to,className:({isActive:e})=>Cr("flex flex-col items-center gap-1 py-2 px-2 transition-colors touch-target","hover:bg-gray-50",e?"text-primary-600":"text-gray-600"),children:({isActive:e})=>o.jsxs(o.Fragment,{children:[o.jsx(r.icon,{className:Cr("w-6 h-6",e&&"fill-current")}),o.jsx("span",{className:"text-xs font-medium",children:r.label})]})})},r.to))})});function gC(){const[r,e]=B.useState("desktop"),[t,n]=B.useState(!1),[a,s]=B.useState(!1),[i,l]=B.useState(!0);return B.useEffect(()=>{const c=()=>{const u=window.innerWidth;u<768?(e("mobile"),n(!0),s(!1),l(!1)):u>=768&&u<1024?(e("tablet"),n(!1),s(!0),l(!1)):(e("desktop"),n(!1),s(!1),l(!0))};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),{breakpoint:r,isMobile:t,isTablet:a,isDesktop:i}}const D6=r=>{let e;const t=new Set,n=(u,A)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=A??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},a=()=>e,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=r(n,a,l);return l},Rne=(r=>r?D6(r):D6),Une=r=>r;function Qne(r,e=Une){const t=bs.useSyncExternalStore(r.subscribe,bs.useCallback(()=>e(r.getState()),[r,e]),bs.useCallback(()=>e(r.getInitialState()),[r,e]));return bs.useDebugValue(t),t}const P6=r=>{const e=Rne(r),t=n=>Qne(e,n);return Object.assign(t,e),t},Ic=(r=>r?P6(r):P6),B_=Ic((r,e)=>({notifications:[],unreadCount:0,addNotification:t=>{const n={...t,id:`notif-${Date.now()}`,timestamp:new Date,read:!1};r(a=>({notifications:[n,...a.notifications],unreadCount:a.unreadCount+1}))},markAsRead:t=>{r(n=>{const a=n.notifications.map(i=>i.id===t?{...i,read:!0}:i),s=a.filter(i=>!i.read).length;return{notifications:a,unreadCount:s}})},markAllAsRead:()=>{r(t=>({notifications:t.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:t=>{r(n=>{const s=n.notifications.find(i=>i.id===t)?.read?n.unreadCount:n.unreadCount-1;return{notifications:n.notifications.filter(i=>i.id!==t),unreadCount:Math.max(0,s)}})},clearAll:()=>{r(()=>({notifications:[],unreadCount:0}))}})),Hne=()=>{const[r,e]=B.useState(!1),[t,n]=B.useState(!1),[a,s]=B.useState(!1),{isDesktop:i}=gC(),{logout:l,user:c}=hf(),{notifications:u,unreadCount:A,markAsRead:h,deleteNotification:p}=B_(),m=()=>{l(),ye.success("Logged out successfully")},y=v=>{switch(v){case"alert":return"bg-red-500";case"warning":return"bg-yellow-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-gray-500"}},g=v=>{const S=new Date().getTime()-new Date(v).getTime(),C=Math.floor(S/6e4),E=Math.floor(S/36e5),_=Math.floor(S/864e5);return C<1?"Just now":C<60?`${C}m ago`:E<24?`${E}h ago`:`${_}d ago`};return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 dark:bg-gray-900",children:[o.jsx("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),o.jsx(Ine,{isOpen:i||r,onClose:()=>e(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[o.jsxs("div",{className:"sticky top-0 z-30 px-4 py-3 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-700 flex items-center justify-between shadow-sm",children:[o.jsx("div",{className:"flex items-center",children:!i&&o.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 mr-2","aria-label":"Open menu",children:o.jsx(wee,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!t),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`Notifications ${A>0?`(${A} unread)`:""}`,"aria-haspopup":"menu","aria-expanded":t,"aria-controls":"notifications-menu",children:[o.jsx(JE,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"}),A>0&&o.jsx("span",{className:"absolute top-1 right-1 min-w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold text-white","aria-label":`${A} unread notifications`,children:A>9?"9+":A})]}),t&&o.jsxs("div",{id:"notifications-menu",role:"menu","aria-label":"Notifications menu",className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"}),A>0&&o.jsxs("span",{className:"text-xs font-medium text-primary-600","aria-live":"polite",children:[A," unread"]})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",role:"group",children:u.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(JE,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2","aria-hidden":"true"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"})]}):u.map(v=>o.jsx("div",{role:"menuitem",className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${v.read?"":"bg-blue-50 dark:bg-blue-900/30"}`,"aria-current":v.read?"false":"true",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-2 h-2 ${y(v.type)} rounded-full mt-1.5 flex-shrink-0`,"aria-hidden":"true"}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:v.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2",children:v.message}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:g(v.timestamp)})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[!v.read&&o.jsx("button",{onClick:w=>{w.stopPropagation(),h(v.id)},className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"Mark as read","aria-label":`Mark notification as read: ${v.title}`,children:o.jsx(Dw,{className:"w-3 h-3","aria-hidden":"true"})}),o.jsx("button",{onClick:w=>{w.stopPropagation(),p(v.id)},className:"p-1 hover:bg-red-100 rounded text-gray-400 hover:text-red-600 transition-colors",title:"Delete notification","aria-label":`Delete notification: ${v.title}`,children:o.jsx(ws,{className:"w-3 h-3","aria-hidden":"true"})})]})]})})]})},v.id))}),o.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:o.jsx("button",{className:"w-full text-center text-sm text-primary-600 hover:text-primary-700 font-medium py-1 transition-colors","aria-label":"View all notifications",children:"View All Notifications"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>{s(!a),n(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`User menu for ${c?.name||"User"}`,"aria-haspopup":"menu","aria-expanded":a,"aria-controls":"user-menu",children:o.jsx(Hl,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"})}),a&&o.jsxs("div",{id:"user-menu",role:"menu",className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-cyan-100 dark:bg-cyan-900 rounded-full flex items-center justify-center",children:o.jsx(Hl,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c?.email||"user@mycae.com"})]})]})}),o.jsx("div",{className:"py-2",children:o.jsxs("button",{onClick:()=>{m(),s(!1)},role:"menuitem",className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center gap-3 transition-colors","aria-label":"Logout",children:[o.jsx(gee,{className:"w-4 h-4","aria-hidden":"true"}),"Logout"]})})]})]})]})]}),o.jsx("main",{id:"main-content",className:"flex-1 overflow-y-auto pb-16 md:pb-0 bg-slate-50 dark:bg-gray-900",tabIndex:-1,children:o.jsx("div",{className:"h-full",children:o.jsx(z8,{})})}),o.jsx(Mne,{})]}),(t||a)&&o.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{n(!1),s(!1)}})]})},zne=()=>{const{isAuthenticated:r}=hf();return r?o.jsx(z8,{}):o.jsx(qE,{to:"/login"})};class Kne extends bs.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"max-w-md w-full mx-4 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Jh,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. This error has been logged and our team will look into it."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(uC,{className:"w-4 h-4"}),"Try Again"]}),o.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Go to Dashboard"})]}),!1]})}):this.props.children}}class $ne{async getInventoryItems(e){const t=await rt.get("/inventory",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getInventoryById(e){return(await rt.get(`/inventory/${e}`)).data}async createInventoryItem(e){return(await rt.post("/inventory",e)).data}async updateInventoryItem(e,t){return(await rt.put(`/inventory/${e}`,t)).data}async deleteInventoryItem(e){await rt.delete(`/inventory/${e}`)}async bulkCreateInventoryItems(e){return(await rt.post("/inventory/bulk/create",{items:e})).data}async createSingleCheckout(e){return(await rt.post("/checkouts/single",e)).data}async createBulkCheckout(e){return(await rt.post("/checkouts/bulk",e)).data}async checkInSingle(e){return(await rt.post("/checkouts/checkin/single",e)).data}async checkInBulk(e){return(await rt.post("/checkouts/checkin/bulk",e)).data}async getAllCheckouts(){return(await rt.get("/checkouts")).data}async getCheckoutByMasterBarcode(e){return(await rt.get(`/checkouts/${e}`)).data}async getAllMaintenanceTickets(){return(await rt.get("/maintenance")).data}async createMaintenanceTicket(e){return(await rt.post("/maintenance",e)).data}async updateMaintenanceTicket(e,t){return(await rt.put(`/maintenance/${e}`,t)).data}async deleteMaintenanceTicket(e){await rt.delete(`/maintenance/${e}`)}async getMaintenanceTicketById(e){return(await rt.get(`/maintenance/${e}`)).data}}const On=new $ne;class Vne{async getProjects(e){const t=await rt.get("/projects",{params:e});try{const n=pr(t.data);return(Array.isArray(n)?n:[n]).map(i=>({...i,engineerId:i.leadEngineerId||i.engineerId,engineerName:i.leadEngineer?.name||i.engineerName,managerName:i.manager?.name||i.managerName}))}catch(n){return console.error("Error transforming projects data:",n),t.data}}async getProjectById(e){const t=await rt.get(`/projects/${e}`);return pr(t.data)}async getNextProjectCode(){const e=await rt.get("/projects/next-code");return pr(e.data)}async createProject(e){const t=await rt.post("/projects",e);return pr(t.data)}async updateProject(e,t){const n=await rt.put(`/projects/${e}`,t);return pr(n.data)}async deleteProject(e){await rt.delete(`/projects/${e}`)}async updateProjectStatus(e,t,n){const a=await rt.patch(`/projects/${e}/status`,{status:t,dateField:n});return pr(a.data)}async uploadProjectPO(e,t){const n=new FormData;return n.append("poFile",t),(await rt.post(`/projects/${e}/upload-po`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteProjectPO(e){return(await rt.delete(`/projects/${e}/po-file`)).data}async downloadProjectPO(e){return(await rt.get(e,{responseType:"blob"})).data}async getProjectHourlyRates(e){return(await rt.get(`/project-hourly-rates/${e}`)).data?.data||[]}async saveProjectHourlyRates(e,t){return(await rt.put(`/project-hourly-rates/${e}`,{rates:t})).data}async deleteProjectHourlyRate(e,t){await rt.delete(`/project-hourly-rates/${e}/${t}`)}async uploadMigrationFile(e){const t=new FormData;return t.append("file",e),(await rt.post("/migration/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async executeMigration(e){return(await rt.post("/migration/execute",{projects:e})).data}async getMigrationTemplate(){return(await rt.get("/migration/template")).data}async getVariationOrders(e){return(await rt.get(`/projects/${e}/variation-orders`)).data||[]}async getProjectWithVOs(e){return(await rt.get(`/projects/${e}/with-vos`)).data}async createVariationOrder(e,t){return(await rt.post(`/projects/${e}/create-vo`,t)).data}}const Os=new Vne;class qne{async getTimesheets(e){const t=await rt.get("/timesheets",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return pr(n)}async createTimesheet(e){const t=await rt.post("/timesheets",e);return pr(t.data)}async updateTimesheet(e,t){const n=await rt.put(`/timesheets/${e}`,t);return pr(n.data)}async deleteTimesheet(e){await rt.delete(`/timesheets/${e}`)}async getAllClients(e){const t=await rt.get("/clients",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return pr(n)}async getClientById(e){const t=await rt.get(`/clients/${e}`);return pr(t.data)}async createClient(e){const t=await rt.post("/clients",e);return pr(t.data)}async updateClient(e,t){const n=await rt.put(`/clients/${e}`,t);return pr(n.data)}async deleteClient(e){await rt.delete(`/clients/${e}`)}}const nA=new qne;class Gne{async getAllTeamMembers(e){const t=await rt.get("/team",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return pr(n)}async getTeamMemberById(e){const t=await rt.get(`/team/${e}`);return pr(t.data)}async createTeamMember(e){const t=await rt.post("/team",e);return pr(t.data)}async updateTeamMember(e,t){const n=await rt.put(`/team/${e}`,t);return pr(n.data)}async deleteTeamMember(e){await rt.delete(`/team/${e}`)}async reactivateTeamMember(e){return(await rt.post(`/team/${e}/reactivate`)).data}async updateTeamMemberAvatar(e,t){const n=await rt.patch(`/team/${e}/avatar`,{avatarId:t});return pr(n.data)}async getTeamByDepartment(e,t){return(await rt.get(`/team/department/${e}`,{params:t})).data}}const Bh=new Gne;class Wne{async getAllComputers(e){const t=await rt.get("/computers",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getComputerById(e){return(await rt.get(`/computers/${e}`)).data}async createComputer(e){return(await rt.post("/computers",e)).data}async updateComputer(e,t){return(await rt.put(`/computers/${e}`,t)).data}async deleteComputer(e){await rt.delete(`/computers/${e}`)}async getComputersAssignedTo(e,t){const n=await rt.get(`/computers/assigned/${e}`,{params:t});return Array.isArray(n.data)?n.data:n.data?.data||[]}async assignComputerToUser(e,t,n,a){return(await rt.post(`/computers/${e}/assign`,{userId:t,installedSoftware:n,notes:a})).data}async unassignComputer(e){return(await rt.post(`/computers/${e}/unassign`,{})).data}async setMaintenanceStatus(e,t){return(await rt.post(`/computers/${e}/maintenance`,{inMaintenance:t})).data}}const aA=new Wne;class Yne{async getAllResearchProjects(e){const n=(await rt.get("/research/projects",{params:e})).data,a=Array.isArray(n)?n:n?.data||[];return pr(a)}async getResearchProjectById(e){const t=await rt.get(`/research/projects/${e}`);return pr(t.data)}async createResearchProject(e){const t=await rt.post("/research/projects",e);return pr(t.data)}async updateResearchProject(e,t){const n=await rt.put(`/research/projects/${e}`,t);return pr(n.data)}async deleteResearchProject(e){await rt.delete(`/research/projects/${e}`)}async getResearchProjectsByStatus(e,t){const n=await rt.get(`/research/projects/status/${e}`,{params:t});return pr(n.data)}async logResearchTimesheet(e){const t=await rt.post("/research/timesheets",e);return pr(t.data)}async approveResearchTimesheet(e,t){const n=await rt.put(`/research/timesheets/${e}/approve`,{approvedBy:t});return pr(n.data)}async deleteResearchTimesheet(e){await rt.delete(`/research/timesheets/${e}`)}async getResearchTimesheets(e){const t=await rt.get("/research/timesheets",{params:e});return pr(t.data)}}const nd=new Yne;class Xne{async getAllInvoices(e){const t=await rt.get("/invoices",{params:e});return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>pr(a))}async getInvoiceById(e){const t=await rt.get(`/invoices/${e}`);return pr(t.data)}async getNextInvoiceNumber(){return(await rt.get("/invoices/next-number")).data.nextNumber}async getInvoiceProjectContext(e){const t=await rt.get(`/invoices/project/${e}/context`);return pr(t.data)}async createInvoice(e){const t=await rt.post("/invoices",e);return pr(t.data)}async updateInvoice(e,t){const n=await rt.put(`/invoices/${e}`,t);return pr(n.data)}async deleteInvoice(e){await rt.delete(`/invoices/${e}`)}async downloadInvoicePDF(e){return(await rt.get(`/invoices/${e}/pdf`,{responseType:"blob"})).data}async submitInvoiceForApproval(e){const t=await rt.post(`/invoices/${e}/submit-for-approval`);return pr(t.data)}async approveInvoice(e){const t=await rt.post(`/invoices/${e}/approve`);return pr(t.data)}async withdrawInvoice(e){const t=await rt.post(`/invoices/${e}/withdraw`);return pr(t.data)}async markInvoiceAsSent(e){const t=await rt.post(`/invoices/${e}/mark-as-sent`);return pr(t.data)}async markInvoiceAsPaid(e){const t=await rt.post(`/invoices/${e}/mark-as-paid`);return pr(t.data)}async getAllIssuedPOs(e){const t=await rt.get("/issued-pos",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return pr(n)}async getIssuedPOById(e){const t=await rt.get(`/issued-pos/${e}`);return pr(t.data)}async getNextIssuedPONumber(){return(await rt.get("/issued-pos/next-number")).data.nextNumber}async createIssuedPO(e){const t=await rt.post("/issued-pos",e);return pr(t.data)}async updateIssuedPO(e,t){const n=await rt.put(`/issued-pos/${e}`,t);return pr(n.data)}async deleteIssuedPO(e){await rt.delete(`/issued-pos/${e}`)}async downloadIssuedPOPDF(e){return(await rt.get(`/issued-pos/${e}/pdf`,{responseType:"blob"})).data}async getAllReceivedInvoices(e){const t=await rt.get("/received-invoices",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return pr(n)}async getReceivedInvoiceById(e){const t=await rt.get(`/received-invoices/${e}`);return pr(t.data)}async createReceivedInvoice(e){const t=await rt.post("/received-invoices",e);return pr(t.data)}async updateReceivedInvoice(e,t){const n=await rt.put(`/received-invoices/${e}`,t);return pr(n.data)}async deleteReceivedInvoice(e){await rt.delete(`/received-invoices/${e}`)}async verifyReceivedInvoice(e){const t=await rt.post(`/received-invoices/${e}/verify`);return pr(t.data)}async markReceivedInvoiceAsPaid(e){const t=await rt.post(`/received-invoices/${e}/mark-as-paid`);return pr(t.data)}async getAllPurchaseOrders(e){const t=await rt.get("/purchase-orders",{params:e});return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>pr(a))}async getPurchaseOrderById(e){const t=await rt.get(`/purchase-orders/${e}`);return pr(t.data)}async createPurchaseOrder(e){const t=await rt.post("/purchase-orders",e);return pr(t.data)}async updatePurchaseOrder(e,t){const n=await rt.put(`/purchase-orders/${e}`,t);return pr(n.data)}async deletePurchaseOrder(e){const t=await rt.delete(`/purchase-orders/${e}`);return pr(t.data)}async uploadPurchaseOrderFile(e){return(await rt.post("/purchase-orders/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async downloadPurchaseOrderFile(e){return(await rt.get(`/purchase-orders/download/${e}`,{responseType:"blob"})).data}async getPurchaseOrders(e){return this.getAllPurchaseOrders(e)}async getPORevisions(e){const t=await rt.get(`/purchase-orders/${e}/revisions`);return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>pr(a))}async createPORevision(e,t){const n=await rt.post(`/purchase-orders/${e}/revisions`,t);return pr(n.data)}async adjustPOMYRAmount(e,t,n){const a=await rt.patch(`/purchase-orders/${e}/adjust-myr`,{adjustedAmount:t,reason:n});return pr(a.data)}async getExchangeRates(){return(await rt.get("/exchange-rates")).data||[]}async createExchangeRate(e){return(await rt.post("/exchange-rates",e)).data}async importExchangeRates(){return(await rt.post("/exchange-rates/import")).data}async convertCurrency(e,t){return(await rt.get("/exchange-rates/convert",{params:{amount:e,fromCurrency:t}})).data}async getExchangeRate(e,t){return(await rt.get("/exchange-rates/single",{params:{fromCurrency:e,date:t?.toISOString().split("T")[0]}})).data}async getAllCategories(){return(await rt.get("/categories")).data||[]}async getCategoryById(e){return(await rt.get(`/categories/${e}`)).data}async createCategory(e){return(await rt.post("/categories",e)).data}async updateCategory(e,t){return(await rt.put(`/categories/${e}`,t)).data}async deleteCategory(e){await rt.delete(`/categories/${e}`)}}const lr=new Xne;class Jne{async createActivityLog(e){return(await rt.post("/activity",e)).data}async getRecentActivity(e=10){return(await rt.get("/activity",{params:{limit:e}})).data}async getAllActivity(e){return(await rt.get("/activity",{params:e})).data}async getActivityById(e){return(await rt.get(`/activity/${e}`)).data}async getActivityByUser(e,t){return(await rt.get(`/activity/user/${e}`,{params:t})).data}async getActivityByModule(e,t){return(await rt.get(`/activity/module/${e}`,{params:t})).data}}const Ym=new Jne;class Y7{setAuthToken(e){vn.setAuthToken(e)}clearAuth(){vn.clearAuth()}isProduction(){return vn.isProduction()}getEnvironmentInfo(){return vn.getEnvironmentInfo()}async register(e){return Jf.register(e)}async login(e,t,n){return Jf.login(e,t,n)}async logout(){return Jf.logout()}async changePassword(e,t,n){return Jf.changePassword(e,t,n)}async updateUserAvatar(e){return Jf.updateUserAvatar(e)}async getCurrentUserProfile(){return Jf.getCurrentUserProfile()}async getInventoryItems(e){return On.getInventoryItems(e)}async getInventoryById(e){return On.getInventoryById(e)}async createInventoryItem(e){return On.createInventoryItem(e)}async updateInventoryItem(e,t){return On.updateInventoryItem(e,t)}async deleteInventoryItem(e){return On.deleteInventoryItem(e)}async bulkCreateInventoryItems(e){return On.bulkCreateInventoryItems(e)}async createSingleCheckout(e){return On.createSingleCheckout(e)}async createBulkCheckout(e){return On.createBulkCheckout(e)}async checkInSingle(e){return On.checkInSingle(e)}async checkInBulk(e){return On.checkInBulk(e)}async getAllCheckouts(){return On.getAllCheckouts()}async getCheckoutByMasterBarcode(e){return On.getCheckoutByMasterBarcode(e)}async getAllMaintenanceTickets(){return On.getAllMaintenanceTickets()}async createMaintenanceTicket(e){return On.createMaintenanceTicket(e)}async updateMaintenanceTicket(e,t){return On.updateMaintenanceTicket(e,t)}async deleteMaintenanceTicket(e){return On.deleteMaintenanceTicket(e)}async getMaintenanceTicketById(e){return On.getMaintenanceTicketById(e)}async createActivityLog(e){return Ym.createActivityLog(e)}async getRecentActivity(e=10){return Ym.getRecentActivity(e)}async getAllActivity(e){return Ym.getAllActivity(e)}async getActivityById(e){return Ym.getActivityById(e)}async getActivityByUser(e,t){return Ym.getActivityByUser(e,t)}async getActivityByModule(e,t){return Ym.getActivityByModule(e,t)}async getProjects(e){return Os.getProjects(e)}async getProjectById(e){return Os.getProjectById(e)}async createProject(e){return Os.createProject(e)}async updateProject(e,t){return Os.updateProject(e,t)}async deleteProject(e){return Os.deleteProject(e)}async updateProjectStatus(e,t,n){return Os.updateProjectStatus(e,t,n)}async uploadProjectPO(e,t){return Os.uploadProjectPO(e,t)}async deleteProjectPO(e){return Os.deleteProjectPO(e)}async downloadProjectPO(e){return Os.downloadProjectPO(e)}async getProjectHourlyRates(e){return Os.getProjectHourlyRates(e)}async saveProjectHourlyRates(e,t){return Os.saveProjectHourlyRates(e,t)}async deleteProjectHourlyRate(e,t){return Os.deleteProjectHourlyRate(e,t)}async uploadMigrationFile(e){return Os.uploadMigrationFile(e)}async executeMigration(e){return Os.executeMigration(e)}async getMigrationTemplate(){return Os.getMigrationTemplate()}async getTimesheets(e){return nA.getTimesheets(e)}async createTimesheet(e){return nA.createTimesheet(e)}async updateTimesheet(e,t){return nA.updateTimesheet(e,t)}async deleteTimesheet(e){return nA.deleteTimesheet(e)}async getAllClients(e){return nA.getAllClients(e)}async getClientById(e){return nA.getClientById(e)}async createClient(e){return nA.createClient(e)}async updateClient(e,t){return nA.updateClient(e,t)}async deleteClient(e){return nA.deleteClient(e)}async getAllTeamMembers(e){return Bh.getAllTeamMembers(e)}async getTeamMemberById(e){return Bh.getTeamMemberById(e)}async createTeamMember(e){return Bh.createTeamMember(e)}async updateTeamMember(e,t){return Bh.updateTeamMember(e,t)}async deleteTeamMember(e){return Bh.deleteTeamMember(e)}async reactivateTeamMember(e){return Bh.reactivateTeamMember(e)}async updateTeamMemberAvatar(e,t){return Bh.updateTeamMemberAvatar(e,t)}async getTeamByDepartment(e,t){return Bh.getTeamByDepartment(e,t)}async getAllComputers(e){return aA.getAllComputers(e)}async getComputerById(e){return aA.getComputerById(e)}async createComputer(e){return aA.createComputer(e)}async updateComputer(e,t){return aA.updateComputer(e,t)}async deleteComputer(e){return aA.deleteComputer(e)}async getComputersAssignedTo(e,t){return aA.getComputersAssignedTo(e,t)}async assignComputerToUser(e,t,n,a){return aA.assignComputerToUser(e,t,n,a)}async unassignComputer(e){return aA.unassignComputer(e)}async setMaintenanceStatus(e,t){return aA.setMaintenanceStatus(e,t)}async getAllResearchProjects(e){return nd.getAllResearchProjects(e)}async getResearchProjectById(e){return nd.getResearchProjectById(e)}async createResearchProject(e){return nd.createResearchProject(e)}async updateResearchProject(e,t){return nd.updateResearchProject(e,t)}async deleteResearchProject(e){return nd.deleteResearchProject(e)}async getResearchProjectsByStatus(e,t){return nd.getResearchProjectsByStatus(e,t)}async logResearchTimesheet(e){return nd.logResearchTimesheet(e)}async approveResearchTimesheet(e,t){return nd.approveResearchTimesheet(e,t)}async deleteResearchTimesheet(e){return nd.deleteResearchTimesheet(e)}async getResearchTimesheets(e){return nd.getResearchTimesheets(e)}async getAllPurchaseOrders(e){return lr.getAllPurchaseOrders(e)}async getPurchaseOrderById(e){return lr.getPurchaseOrderById(e)}async createPurchaseOrder(e){return lr.createPurchaseOrder(e)}async updatePurchaseOrder(e,t){return lr.updatePurchaseOrder(e,t)}async deletePurchaseOrder(e){return lr.deletePurchaseOrder(e)}async uploadPurchaseOrderFile(e){return lr.uploadPurchaseOrderFile(e)}async downloadPurchaseOrderFile(e){return lr.downloadPurchaseOrderFile(e)}async getPurchaseOrders(e){return lr.getPurchaseOrders(e)}async getPORevisions(e){return lr.getPORevisions(e)}async createPORevision(e,t){return lr.createPORevision(e,t)}async adjustPOMYRAmount(e,t,n){return lr.adjustPOMYRAmount(e,t,n)}async getAllInvoices(e){return lr.getAllInvoices(e)}async getInvoiceById(e){return lr.getInvoiceById(e)}async getNextInvoiceNumber(){return lr.getNextInvoiceNumber()}async getInvoiceProjectContext(e){return lr.getInvoiceProjectContext(e)}async createInvoice(e){return lr.createInvoice(e)}async updateInvoice(e,t){return lr.updateInvoice(e,t)}async deleteInvoice(e){return lr.deleteInvoice(e)}async downloadInvoicePDF(e){return lr.downloadInvoicePDF(e)}async getAllIssuedPOs(e){return lr.getAllIssuedPOs(e)}async getIssuedPOById(e){return lr.getIssuedPOById(e)}async getNextIssuedPONumber(){return lr.getNextIssuedPONumber()}async createIssuedPO(e){return lr.createIssuedPO(e)}async updateIssuedPO(e,t){return lr.updateIssuedPO(e,t)}async deleteIssuedPO(e){return lr.deleteIssuedPO(e)}async downloadIssuedPOPDF(e){return lr.downloadIssuedPOPDF(e)}async getAllCategories(){return lr.getAllCategories()}async getCategoryById(e){return lr.getCategoryById(e)}async createCategory(e){return lr.createCategory(e)}async updateCategory(e,t){return lr.updateCategory(e,t)}async deleteCategory(e){return lr.deleteCategory(e)}async getExchangeRates(){return lr.getExchangeRates()}async createExchangeRate(e){return lr.createExchangeRate(e)}async importExchangeRates(){return lr.importExchangeRates()}async convertCurrency(e,t){return lr.convertCurrency(e,t)}}const wr=new Y7,Zne=new Y7,{login:ZIe,logout:eLe,changePassword:tLe,getInventoryItems:rLe,getInventoryById:nLe,createInventoryItem:aLe,updateInventoryItem:sLe,deleteInventoryItem:iLe,bulkCreateInventoryItems:oLe,createSingleCheckout:lLe,createBulkCheckout:cLe,checkInSingle:uLe,checkInBulk:dLe,getAllCheckouts:ALe,getCheckoutByMasterBarcode:hLe,getAllMaintenanceTickets:fLe,createMaintenanceTicket:mLe,updateMaintenanceTicket:pLe,deleteMaintenanceTicket:gLe,getMaintenanceTicketById:xLe,createActivityLog:yLe,getRecentActivity:vLe,getAllActivity:bLe,getActivityById:wLe,getActivityByUser:CLe,getActivityByModule:NLe,getProjects:SLe,getProjectById:BLe,createProject:ELe,updateProject:jLe,deleteProject:_Le,updateProjectStatus:TLe,uploadProjectPO:kLe,deleteProjectPO:FLe,downloadProjectPO:OLe,getTimesheets:DLe,createTimesheet:PLe,getAllClients:ILe,getClientById:LLe,createClient:MLe,updateClient:RLe,deleteClient:ULe,getAllTeamMembers:QLe,getTeamMemberById:HLe,createTeamMember:zLe,updateTeamMember:KLe,deleteTeamMember:$Le,getTeamByDepartment:VLe,getAllComputers:qLe,getComputerById:GLe,createComputer:WLe,updateComputer:YLe,deleteComputer:XLe,getComputersAssignedTo:JLe,assignComputerToUser:ZLe,unassignComputer:eMe,getAllResearchProjects:tMe,getResearchProjectById:rMe,createResearchProject:nMe,updateResearchProject:aMe,deleteResearchProject:sMe,getResearchProjectsByStatus:iMe,uploadMigrationFile:oMe,executeMigration:lMe,getMigrationTemplate:cMe,getAllPurchaseOrders:uMe,getPurchaseOrderById:dMe,createPurchaseOrder:AMe,updatePurchaseOrder:hMe,deletePurchaseOrder:fMe,getAllInvoices:mMe,getInvoiceById:pMe,getNextInvoiceNumber:gMe,getInvoiceProjectContext:xMe,createInvoice:yMe,updateInvoice:vMe,deleteInvoice:bMe,downloadInvoicePDF:wMe,getAllIssuedPOs:CMe,getIssuedPOById:NMe,getNextIssuedPONumber:SMe,createIssuedPO:BMe,updateIssuedPO:EMe,deleteIssuedPO:jMe,downloadIssuedPOPDF:_Me,getAllCategories:TMe,getCategoryById:kMe,createCategory:FMe,updateCategory:OMe,deleteCategory:DMe,getExchangeRates:PMe,createExchangeRate:IMe,importExchangeRates:LMe,convertCurrency:MMe}=Zne,eae=({isOpen:r,onClose:e,onSuccess:t,isFirstTimeLogin:n=!1,userEmail:a=""})=>{const[s,i]=B.useState(""),[l,c]=B.useState(""),[u,A]=B.useState(""),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[C,E]=B.useState("weak"),_=k=>{if(k.length<8){E("weak");return}/[a-z]/.test(k)&&/[A-Z]/.test(k)&&/[0-9]/.test(k)&&/[^a-zA-Z0-9]/.test(k)?E("strong"):/[a-z]/.test(k)&&/[A-Z]/.test(k)&&/[0-9]/.test(k)?E("medium"):E("weak")},L=k=>{c(k),_(k)},D=async k=>{if(k.preventDefault(),!n&&!s){ye.error("Current password is required");return}if(!l||!u){ye.error("Please fill in all password fields");return}if(l.length<8){ye.error("Password must be at least 8 characters long");return}if(C==="weak"){ye.error("Password must contain uppercase, lowercase, numbers, and special characters");return}if(l!==u){ye.error("Passwords do not match");return}if(!n&&l===s){ye.error("New password must be different from current password");return}S(!0);try{await wr.changePassword(a,n?"":s,l),ye.success("Password changed successfully"),i(""),c(""),A(""),E("weak"),t&&t(),e()}catch(z){const I=z.response?.data?.message||"Failed to change password";ye.error(I)}finally{S(!1)}};if(!r)return null;const P=C==="strong"?"bg-green-500":C==="medium"?"bg-yellow-500":"bg-red-500";return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:n?void 0:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uh,{className:"w-6 h-6 text-primary-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Set Your Password":"Change Password"})]}),!n&&o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),n&&o.jsx("div",{className:"bg-blue-50 border-b border-blue-200 p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(os,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"First-Time Login: Set Your Password"}),o.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"For security reasons, you must set a new password to continue. This step cannot be skipped."})]})]})}),o.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[!n&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",value:s,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter current password",required:!n}),o.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",value:l,onChange:k=>L(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter new password",required:!0}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:"text-xs font-medium capitalize text-gray-600",children:C})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:`${P} h-1.5 rounded-full transition-all`,style:{width:C==="weak"?"33%":C==="medium"?"66%":"100%"}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 8 characters with uppercase, lowercase, numbers, and special characters"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:u,onChange:k=>A(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Confirm new password",required:!0}),o.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})}),l&&u&&l===u&&o.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:o.jsx(za,{className:"w-5 h-5 text-green-500"})}),l&&u&&l!==u&&o.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:o.jsx(os,{className:"w-5 h-5 text-red-500"})})]}),l&&u&&l===u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-600",children:[o.jsx(za,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords match"})]}),l&&u&&l!==u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-600",children:[o.jsx(os,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords do not match"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[!n&&o.jsx("button",{type:"button",onClick:e,disabled:w,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:w||!l||!u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:w?"Changing...":n?"Set Password":"Change Password"})]})]})]})})]})},tae=({isOpen:r,onClose:e})=>{const[t,n]=B.useState(""),[a,s]=B.useState(!1),[i,l]=B.useState(!1);if(!r)return null;const c=async A=>{if(A.preventDefault(),!t){ye.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){ye.error("Please enter a valid email address");return}s(!0);try{await vn.api.post("/auth/forgot-password",{email:t}),ye.success("Password reset link sent! Please check your email."),l(!0)}catch(h){console.error("Forgot password error:",h),ye.error(h.response?.data?.error||"Failed to send reset link")}finally{s(!1)}},u=()=>{n(""),l(!1),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i?o.jsx(za,{className:"w-5 h-5 text-blue-600"}):o.jsx(gg,{className:"w-5 h-5 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Check Your Email":"Forgot Password"})]}),o.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:i?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(za,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"Email sent successfully!"}),o.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["We've sent a password reset link to ",o.jsx("span",{className:"font-medium",children:t})]})]})]})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(os,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Important:"}),o.jsxs("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"The reset link will expire in 1 hour"}),o.jsx("li",{children:"Check your spam folder if you don't see it"}),o.jsx("li",{children:"Never share the reset link with anyone"})]})]})]})}),o.jsx("button",{onClick:u,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200",children:"Close"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(os,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Enter your email address and we'll send you a link to reset your password."})]})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),o.jsx("input",{id:"reset-email",type:"email",value:t,onChange:A=>n(A.target.value),placeholder:"you@example.com",disabled:a,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",autoFocus:!0})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]})})]})})};var nS={exports:{}},aS,I6;function rae(){if(I6)return aS;I6=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aS=r,aS}var sS,L6;function nae(){if(L6)return sS;L6=1;var r=rae();function e(){}function t(){}return t.resetWarningCache=e,sS=function(){function n(i,l,c,u,A,h){if(h!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},sS}var M6;function aae(){return M6||(M6=1,nS.exports=nae()()),nS.exports}var sae=aae();const Zo=Pc(sae);var iae=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function l4(){return l4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},l4.apply(this,arguments)}function oae(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function K1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lae(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c4(r,e)}function c4(r,e){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c4(r,e)}var xC=(function(r){lae(e,r);function e(){var n;return n=r.call(this)||this,n.handleExpired=n.handleExpired.bind(K1(n)),n.handleErrored=n.handleErrored.bind(K1(n)),n.handleChange=n.handleChange.bind(K1(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(K1(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},t.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var a=this;return new Promise(function(s,i){a.executionResolve=s,a.executionReject=i,a.execute()})},t.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},t.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=a(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(a){this.captcha=a},t.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var s=oae(a,iae);return B.createElement("div",l4({},s,{ref:this.handleRecaptchaRef}))},e})(B.Component);xC.displayName="ReCAPTCHA";xC.propTypes={sitekey:Zo.string.isRequired,onChange:Zo.func,grecaptcha:Zo.object,theme:Zo.oneOf(["dark","light"]),type:Zo.oneOf(["image","audio"]),tabindex:Zo.number,onExpired:Zo.func,onErrored:Zo.func,size:Zo.oneOf(["compact","normal","invisible"]),stoken:Zo.string,hl:Zo.string,badge:Zo.oneOf(["bottomright","bottomleft","inline"]),isolated:Zo.bool};xC.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var iS={exports:{}},kn={};var R6;function cae(){if(R6)return kn;R6=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,i=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,A=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function C(_){if(typeof _=="object"&&_!==null){var L=_.$$typeof;switch(L){case e:switch(_=_.type,_){case c:case u:case n:case s:case a:case h:return _;default:switch(_=_&&_.$$typeof,_){case l:case A:case y:case m:case i:return _;default:return L}}case t:return L}}}function E(_){return C(_)===u}return kn.AsyncMode=c,kn.ConcurrentMode=u,kn.ContextConsumer=l,kn.ContextProvider=i,kn.Element=e,kn.ForwardRef=A,kn.Fragment=n,kn.Lazy=y,kn.Memo=m,kn.Portal=t,kn.Profiler=s,kn.StrictMode=a,kn.Suspense=h,kn.isAsyncMode=function(_){return E(_)||C(_)===c},kn.isConcurrentMode=E,kn.isContextConsumer=function(_){return C(_)===l},kn.isContextProvider=function(_){return C(_)===i},kn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},kn.isForwardRef=function(_){return C(_)===A},kn.isFragment=function(_){return C(_)===n},kn.isLazy=function(_){return C(_)===y},kn.isMemo=function(_){return C(_)===m},kn.isPortal=function(_){return C(_)===t},kn.isProfiler=function(_){return C(_)===s},kn.isStrictMode=function(_){return C(_)===a},kn.isSuspense=function(_){return C(_)===h},kn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===u||_===s||_===a||_===h||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===m||_.$$typeof===i||_.$$typeof===l||_.$$typeof===A||_.$$typeof===v||_.$$typeof===w||_.$$typeof===S||_.$$typeof===g)},kn.typeOf=C,kn}var U6;function uae(){return U6||(U6=1,iS.exports=cae()),iS.exports}var oS,Q6;function dae(){if(Q6)return oS;Q6=1;var r=uae(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=a;function i(y){return r.isMemo(y)?a:s[y.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,A=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;function m(y,g,v){if(typeof g!="string"){if(p){var w=h(g);w&&w!==p&&m(y,w,v)}var S=c(g);u&&(S=S.concat(u(g)));for(var C=i(y),E=i(g),_=0;_<S.length;++_){var L=S[_];if(!t[L]&&!(v&&v[L])&&!(E&&E[L])&&!(C&&C[L])){var D=A(g,L);try{l(y,L,D)}catch{}}}}return y}return oS=m,oS}var Aae=dae();const hae=Pc(Aae);function u4(){return u4=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},u4.apply(this,arguments)}function fae(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function mae(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var Au={},pae=0;function gae(r,e){return e=e||{},function(n){var a=n.displayName||n.name||"Component",s=(function(l){mae(c,l);function c(A,h){var p;return p=l.call(this,A,h)||this,p.state={},p.__scriptURL="",p}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+pae++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(h){var p=this;this.setState(h,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=Au[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var p in h.observers)h.observers[p](h);delete window[e.callbackName]},u.componentDidMount=function(){var h=this,p=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),y=e,g=y.globalName,v=y.callbackName,w=y.scriptId;if(g&&typeof window[g]<"u"&&(Au[p]={loaded:!0,observers:{}}),Au[p]){var S=Au[p];if(S&&(S.loaded||S.errored)){this.asyncScriptLoaderHandleLoad(S);return}S.observers[m]=function(D){return h.asyncScriptLoaderHandleLoad(D)};return}var C={};C[m]=function(D){return h.asyncScriptLoaderHandleLoad(D)},Au[p]={loaded:!1,observers:C};var E=document.createElement("script");E.src=p,E.async=!0;for(var _ in e.attributes)E.setAttribute(_,e.attributes[_]);w&&(E.id=w);var L=function(P){if(Au[p]){var k=Au[p],z=k.observers;for(var I in z)P(z[I])&&delete z[I]}};v&&typeof window<"u"&&(window[v]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),E.onload=function(){var D=Au[p];D&&(D.loaded=!0,L(function(P){return v?!1:(P(D),!0)}))},E.onerror=function(){var D=Au[p];D&&(D.errored=!0,L(function(P){return P(D),!0}))},document.body.appendChild(E)},u.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),m=0;m<p.length;m+=1)p[m].src.indexOf(h)>-1&&p[m].parentNode&&p[m].parentNode.removeChild(p[m]);var y=Au[h];y&&(delete y.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Au[h])},u.render=function(){var h=e.globalName,p=this.props;p.asyncScriptOnLoad;var m=p.forwardedRef,y=fae(p,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(y[h]=typeof window[h]<"u"?window[h]:void 0),y.ref=m,B.createElement(n,y)},c})(B.Component),i=B.forwardRef(function(l,c){return B.createElement(s,u4({},l,{forwardedRef:c}))});return i.displayName="AsyncScriptLoader("+a+")",i.propTypes={asyncScriptOnLoad:Zo.func},hae(i,n)}}var d4="onloadcallback",xae="grecaptcha";function A4(){return typeof window<"u"&&window.recaptchaOptions||{}}function yae(){var r=A4(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+d4+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+d4+"&render=explicit"}const vae=gae(yae,{callbackName:d4,globalName:xae,attributes:A4().nonce?{nonce:A4().nonce}:{}})(xC),bae=()=>{const[r,e]=B.useState(""),[t,n]=B.useState(""),[a,s]=B.useState(!1),[i,l]=B.useState(!1),[c,u]=B.useState(!1),[A,h]=B.useState(""),[p,m]=B.useState(!1),[y,g]=B.useState(!1),[v,w]=B.useState(""),[S,C]=B.useState(""),[E,_]=B.useState(null),L=B.useRef(null),D=B.useRef(null),{login:P}=hf(),k=mg(),z="6LdhWEwsAAAAAK_Y7FQk1sOpEGiMF9OL6W9fZVhy",I=()=>{let ee=!0;return w(""),C(""),r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(w("Please enter a valid email address"),ee=!1):(w("Email is required"),ee=!1),t?t.length<6&&(C("Password must be at least 6 characters"),ee=!1):(C("Password is required"),ee=!1),E||(ye.error("Please complete the CAPTCHA verification"),ee=!1),ee},Q=ee=>{_(ee)},R=async ee=>{if(ee.preventDefault(),!I()){L.current?.focus();return}g(!0);try{(await P(r,t,E||void 0))?.isFirstTimeLogin??!1?(h(r),m(!0),l(!0),ye.success("Logged in successfully. Please set a new password.")):(ye.success("Logged in successfully"),k("/")),D.current?.reset(),_(null)}catch(Y){const se=Y?.response?.data?.error||Y?.message||"Invalid credentials. Please try again.";ye.error(se),Rt.error("Login error:",Y),D.current?.reset(),_(null)}finally{g(!1)}},K=()=>{l(!1),m(!1),h(""),ye.success("Password updated. Redirecting to dashboard..."),setTimeout(()=>{k("/")},1e3)};return o.jsxs("div",{className:"relative flex items-center justify-center min-h-screen overflow-hidden bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:"mesh-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:"0.5"})}),o.jsxs("pattern",{id:"mesh-dots",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:[o.jsx("circle",{cx:"0",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"0",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"})]})]}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-grid)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-dots)"})]}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"flow-gradient-1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(239, 68, 68, 0)"}),o.jsx("stop",{offset:"30%",stopColor:"rgba(239, 68, 68, 0.6)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(251, 191, 36, 0.8)"}),o.jsx("stop",{offset:"70%",stopColor:"rgba(34, 197, 94, 0.6)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(59, 130, 246, 0)"})]}),o.jsxs("linearGradient",{id:"flow-gradient-2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0)"}),o.jsx("stop",{offset:"20%",stopColor:"rgba(59, 130, 246, 0.5)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(147, 51, 234, 0.7)"}),o.jsx("stop",{offset:"80%",stopColor:"rgba(236, 72, 153, 0.5)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(236, 72, 153, 0)"})]})]}),o.jsx("path",{className:"flow-line-1",d:"M-100,150 Q200,100 400,180 T800,120 T1200,200 T1600,140",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"3",opacity:"0.7"}),o.jsx("path",{className:"flow-line-2",d:"M-100,250 Q150,300 350,220 T700,280 T1100,200 T1500,260",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.5"}),o.jsx("path",{className:"flow-line-3",d:"M-100,450 Q250,400 450,480 T850,420 T1250,500 T1650,440",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"2.5",opacity:"0.6"}),o.jsx("path",{className:"flow-line-4",d:"M-100,600 Q200,550 400,620 T800,560 T1200,640 T1600,580",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.4"})]}),o.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 rounded-full bg-gradient-radial from-red-500/20 via-orange-500/10 to-transparent blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] rounded-full bg-gradient-radial from-blue-500/25 via-cyan-500/10 to-transparent blur-3xl animate-pulse-slow-delayed"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-gradient-radial from-purple-500/15 via-indigo-500/5 to-transparent blur-3xl"}),o.jsx("div",{className:"absolute top-20 left-20 opacity-40",children:o.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead1",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(34, 197, 94, 0.8)"})})}),o.jsx("line",{x1:"0",y1:"10",x2:"50",y2:"10",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})]})}),o.jsx("div",{className:"absolute top-32 left-32 opacity-50",children:o.jsx("svg",{width:"80",height:"20",viewBox:"0 0 80 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"70",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2.5",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-40 right-40 opacity-40 rotate-[-15deg]",children:o.jsx("svg",{width:"70",height:"20",viewBox:"0 0 70 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"60",y2:"10",stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-60 right-60 opacity-50 rotate-[-10deg]",children:o.jsx("svg",{width:"90",height:"20",viewBox:"0 0 90 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"80",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute top-1/4 right-1/4 w-8 h-8 rounded-full bg-red-500/50 blur-sm animate-ping-slow"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-6 h-6 rounded-full bg-orange-500/40 blur-sm animate-ping-slow-delayed"}),o.jsx("div",{className:"absolute top-2/3 right-1/3 w-10 h-10 rounded-full bg-yellow-500/30 blur-md animate-pulse-slow"}),o.jsxs("svg",{className:"absolute bottom-0 left-0 w-full h-48 opacity-30",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:[o.jsx("path",{d:"M0,100 Q150,60 300,100 T600,80 T900,120 T1200,90",fill:"none",stroke:"rgba(96, 165, 250, 0.6)",strokeWidth:"1"}),o.jsx("path",{d:"M0,120 Q150,80 300,120 T600,100 T900,140 T1200,110",fill:"none",stroke:"rgba(96, 165, 250, 0.5)",strokeWidth:"1"}),o.jsx("path",{d:"M0,140 Q150,100 300,140 T600,120 T900,160 T1200,130",fill:"none",stroke:"rgba(96, 165, 250, 0.4)",strokeWidth:"1"}),o.jsx("path",{d:"M0,160 Q150,120 300,160 T600,140 T900,180 T1200,150",fill:"none",stroke:"rgba(96, 165, 250, 0.3)",strokeWidth:"1"})]}),o.jsxs("div",{className:"absolute bottom-8 left-8 flex flex-col gap-0.5 opacity-60",children:[o.jsx("div",{className:"w-4 h-3 bg-red-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-orange-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-yellow-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-green-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-cyan-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-blue-500 rounded-sm"}),o.jsx("span",{className:"text-[8px] text-blue-300 mt-1",children:"Velocity"})]})]}),o.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Uh,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back to MyCAE Technologies App"})]}),o.jsxs("form",{className:"px-8 pb-8 space-y-5",onSubmit:R,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),o.jsx("input",{ref:L,id:"email",type:"email",value:r,onChange:ee=>e(ee.target.value),placeholder:"you@example.com",disabled:y,className:`w-full px-4 py-3 border ${v?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),v&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:v})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:a?"text":"password",value:t,onChange:ee=>n(ee.target.value),placeholder:"",disabled:y,className:`w-full px-4 py-3 pr-10 border ${S?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),o.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:a?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),S&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:S})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(vae,{ref:D,sitekey:z,onChange:Q,theme:"light"})}),o.jsx("button",{type:"submit",disabled:y,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3.5 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:y?"Logging in...":"Login"}),o.jsx("div",{className:"text-center mt-4",children:o.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",onClick:()=>u(!0),children:"Forgot Password?"})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-white text-sm opacity-80",children:"Powered by MyCAE Technologies"})})]}),o.jsx(eae,{isOpen:i,onClose:()=>l(!1),onSuccess:K,isFirstTimeLogin:p,userEmail:A}),o.jsx(tae,{isOpen:c,onClose:()=>u(!1)}),o.jsx("style",{children:`
        @keyframes flow-animate {
          0% {
            stroke-dashoffset: 1000;
          }
          100% {
            stroke-dashoffset: 0;
          }
        }

        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.3;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.05);
          }
        }

        @keyframes pulse-slow-delayed {
          0%, 100% {
            opacity: 0.2;
            transform: scale(1);
          }
          50% {
            opacity: 0.5;
            transform: scale(1.08);
          }
        }

        @keyframes ping-slow {
          0% {
            transform: scale(1);
            opacity: 0.5;
          }
          50% {
            transform: scale(1.5);
            opacity: 0.2;
          }
          100% {
            transform: scale(1);
            opacity: 0.5;
          }
        }

        @keyframes ping-slow-delayed {
          0% {
            transform: scale(1);
            opacity: 0.4;
          }
          60% {
            transform: scale(1.3);
            opacity: 0.15;
          }
          100% {
            transform: scale(1);
            opacity: 0.4;
          }
        }

        .flow-line-1, .flow-line-2, .flow-line-3, .flow-line-4 {
          stroke-dasharray: 20 10;
          animation: flow-animate 8s linear infinite;
        }

        .flow-line-2 {
          animation-delay: -2s;
          animation-duration: 10s;
        }

        .flow-line-3 {
          animation-delay: -4s;
          animation-duration: 12s;
        }

        .flow-line-4 {
          animation-delay: -6s;
          animation-duration: 9s;
        }

        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }

        .animate-pulse-slow-delayed {
          animation: pulse-slow-delayed 8s ease-in-out infinite;
          animation-delay: -3s;
        }

        .animate-ping-slow {
          animation: ping-slow 4s ease-in-out infinite;
        }

        .animate-ping-slow-delayed {
          animation: ping-slow-delayed 5s ease-in-out infinite;
          animation-delay: -2s;
        }

        .bg-gradient-radial {
          background: radial-gradient(circle, var(--tw-gradient-stops));
        }
      `})]})},Qt=bs.forwardRef(({className:r,variant:e="primary",size:t="md",fullWidth:n,icon:a,iconPosition:s="left",loading:i=!1,loadingText:l,children:c,disabled:u,...A},h)=>{const p=u||i;return o.jsx("button",{ref:h,disabled:p,className:Cr("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all","min-h-[44px]","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",!p&&"hover:scale-[1.02] active:scale-[0.98]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","dark:focus-visible:ring-offset-gray-900",e==="primary"&&"bg-primary-600 text-white shadow-sm focus-visible:ring-primary-500",e==="primary"&&!p&&"hover:bg-primary-700 hover:shadow-md",e==="secondary"&&"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus-visible:ring-gray-500",e==="secondary"&&!p&&"hover:bg-gray-200 dark:hover:bg-gray-600",e==="outline"&&"border-2 border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400 bg-transparent focus-visible:ring-primary-500",e==="outline"&&!p&&"hover:bg-primary-50 dark:hover:bg-primary-900/20",e==="ghost"&&"text-gray-700 dark:text-gray-300 bg-transparent focus-visible:ring-gray-500",e==="ghost"&&!p&&"hover:bg-gray-100 dark:hover:bg-gray-800",e==="danger"&&"bg-red-600 text-white shadow-sm focus-visible:ring-red-500",e==="danger"&&!p&&"hover:bg-red-700 hover:shadow-md",e==="success"&&"bg-green-600 text-white shadow-sm focus-visible:ring-green-500",e==="success"&&!p&&"hover:bg-green-700 hover:shadow-md",t==="xs"&&"px-2 py-2 text-xs",t==="sm"&&"px-3 py-2 text-sm",t==="md"&&"px-4 py-2.5 text-base",t==="lg"&&"px-6 py-3 text-lg min-h-[52px]",t==="xl"&&"px-8 py-4 text-xl min-h-[60px]",n&&"w-full",r),...A,children:i?o.jsxs(o.Fragment,{children:[o.jsx(s7,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),o.jsx("span",{children:l||"Loading..."})]}):o.jsxs(o.Fragment,{children:[a&&s==="left"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a}),c,a&&s==="right"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a})]})})});Qt.displayName="Button";const wae=bs.forwardRef(({className:r,size:e="md",icon:t,...n},a)=>{const s={xs:"w-8 h-8",sm:"w-9 h-9",md:"w-11 h-11",lg:"w-12 h-12",xl:"w-14 h-14"},i={xs:"w-3.5 h-3.5",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"};return o.jsx(Qt,{ref:a,size:e,className:Cr("p-0",s[e],r),...n,children:o.jsx("span",{className:i[e],"aria-hidden":"true",children:t})})});wae.displayName="IconButton";const Zs=bs.forwardRef(({className:r,label:e,error:t,success:n,icon:a,fullWidth:s,type:i="text",hint:l,id:c,onValidate:u,...A},h)=>{const p=c||`input-${A.name||Math.random().toString(36).substr(2,9)}`,m=t?`${p}-error`:void 0,y=n?`${p}-success`:void 0,g=l?`${p}-hint`:void 0,v=[m,y,g].filter(Boolean).join(" ")||void 0,w=!t&&n;return o.jsxs("div",{className:Cr("flex flex-col gap-1.5",s&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:p,children:e}),o.jsxs("div",{className:"relative",children:[a&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400","aria-hidden":"true",children:a}),o.jsx("input",{ref:h,id:p,type:i,"aria-invalid":t?"true":void 0,"aria-describedby":v,className:Cr("w-full rounded-lg border px-3 py-2.5 text-sm min-h-[44px]","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",a&&"pl-10",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",w&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",(t||w)&&"pr-10",r),...A}),(t||w)&&o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[t&&o.jsx(os,{className:"w-5 h-5 text-red-500 dark:text-red-400","aria-hidden":"true"}),w&&o.jsx(Dw,{className:"w-5 h-5 text-green-500 dark:text-green-400","aria-hidden":"true"})]})]}),l&&!t&&!n&&o.jsx("span",{id:g,className:"text-xs text-gray-500 dark:text-gray-400",children:l}),t&&o.jsxs("span",{id:m,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(os,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:y,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(Dw,{className:"w-3 h-3","aria-hidden":"true"}),n]})]})});Zs.displayName="Input";const Cae=bs.forwardRef(({className:r,label:e,error:t,success:n,fullWidth:a,hint:s,id:i,maxLength:l,showCharCount:c,value:u,...A},h)=>{const p=i||`textarea-${A.name||Math.random().toString(36).substr(2,9)}`,m=t?`${p}-error`:void 0,y=n?`${p}-success`:void 0,g=s?`${p}-hint`:void 0,v=[m,y,g].filter(Boolean).join(" ")||void 0,w=typeof u=="string"?u.length:0,S=!t&&n;return o.jsxs("div",{className:Cr("flex flex-col gap-1.5",a&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:p,children:e}),o.jsx("textarea",{ref:h,id:p,value:u,maxLength:l,"aria-invalid":t?"true":void 0,"aria-describedby":v,className:Cr("w-full rounded-lg border px-3 py-2.5 text-sm","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",S&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",r),...A}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[s&&!t&&!n&&o.jsx("span",{id:g,className:"text-xs text-gray-500 dark:text-gray-400",children:s}),t&&o.jsxs("span",{id:m,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(os,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:y,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(Dw,{className:"w-3 h-3","aria-hidden":"true"}),n]})]}),c&&l&&o.jsxs("span",{className:Cr("text-xs",w>=l?"text-red-500 dark:text-red-400":"text-gray-400 dark:text-gray-500"),children:[w,"/",l]})]})]})});Cae.displayName="TextArea";const Nae=()=>{const r=mg(),[e]=nJ(),t=e.get("token"),[n,a]=B.useState("request"),[s,i]=B.useState(""),[l,c]=B.useState(""),[u,A]=B.useState(""),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[C,E]=B.useState(!1),_=R=>R.length>=12&&/[A-Z]/.test(R)&&/[a-z]/.test(R)&&/\d/.test(R)&&/[!@#$%^&*(),.?":{}|<>]/.test(R),D=(R=>{if(R.length===0)return{score:0,label:"",color:""};let K=0;return K=[R.length>=12,/[A-Z]/.test(R),/[a-z]/.test(R),/\d/.test(R),/[!@#$%^&*(),.?":{}|<>]/.test(R)].filter(Boolean).length,K<=2?{score:K,label:"Weak",color:"bg-red-500"}:K<=3?{score:K,label:"Medium",color:"bg-yellow-500"}:{score:K,label:"Strong",color:"bg-green-500"}})(l),P=_(l),k=l===u&&l.length>0;B.useEffect(()=>{t&&z(t)},[t]);const z=async R=>{E(!0);try{const K=await vn.api.post("/auth/verify-reset-token",{token:R});K.data.valid?(S(!0),a("reset"),i(K.data.email)):(rr.error("Invalid or expired reset link"),a("request"))}catch(K){console.error("Token verification error:",K),rr.error(K.response?.data?.error||"Invalid or expired reset link"),a("request")}finally{E(!1)}},I=async R=>{if(R.preventDefault(),!s){rr.error("Please enter your email address");return}v(!0);try{await vn.api.post("/auth/forgot-password",{email:s}),rr.success("Password reset link sent! Check your email."),a("success")}catch(K){console.error("Forgot password error:",K),rr.error(K.response?.data?.error||"Failed to send reset link")}finally{v(!1)}},Q=async R=>{if(R.preventDefault(),!l||!u){rr.error("Please fill in all fields");return}if(!P){rr.error("Password does not meet requirements");return}if(!k){rr.error("Passwords do not match");return}v(!0);try{await vn.api.post("/auth/reset-password",{token:t,newPassword:l}),rr.success("Password reset successful!"),a("success"),setTimeout(()=>{r("/login")},2e3)}catch(K){console.error("Reset password error:",K),rr.error(K.response?.data?.error||"Failed to reset password")}finally{v(!1)}};return C?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying reset link..."})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n!=="success"&&o.jsxs("button",{onClick:()=>r("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[o.jsx(sZ,{className:"w-4 h-4"}),"Back to Login"]}),n==="request"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Uh,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsxs("form",{onSubmit:I,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(gg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Zs,{type:"email",value:s,onChange:R=>i(R.target.value),placeholder:"your.email@example.com",className:"pl-10",required:!0})]})]}),o.jsx(Qt,{type:"submit",variant:"primary",className:"w-full",disabled:g,children:g?"Sending...":"Send Reset Link"})]})]}),n==="reset"&&w&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Uh,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:["Enter your new password for ",o.jsx("strong",{children:s})]})]}),o.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Zs,{type:h?"text":"password",value:l,onChange:R=>c(R.target.value),placeholder:"Enter new password",className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:`text-xs font-medium capitalize ${D.score<=2?"text-red-600":D.score<=3?"text-yellow-600":"text-green-600"}`,children:D.label})]}),o.jsxs("div",{className:"flex gap-1 h-1.5",children:[o.jsx("div",{className:`flex-1 rounded-full ${D.score>=1?D.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${D.score>=2?D.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${D.score>=3?D.color:"bg-gray-200"}`})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:l.length>=12?"text-green-600":"",children:[l.length>=12?"":""," At least 12 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(l)?"text-green-600":"",children:[/[A-Z]/.test(l)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(l)?"text-green-600":"",children:[/[a-z]/.test(l)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(l)?"text-green-600":"",children:[/\d/.test(l)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(l)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(l)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Zs,{type:m?"text":"password",value:u,onChange:R=>A(R.target.value),placeholder:"Confirm new password",className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})}),l&&u&&l===u&&o.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:o.jsx(za,{className:"w-5 h-5 text-green-500"})}),l&&u&&l!==u&&o.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:o.jsx(os,{className:"w-5 h-5 text-red-500"})})]})]}),o.jsx(Qt,{type:"submit",variant:"primary",className:"w-full",disabled:!P||!k||g,children:g?"Resetting...":"Reset Password"})]})]}),n==="success"&&o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(za,{className:"w-8 h-8 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t?"Password Reset!":"Email Sent!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:t?"Your password has been successfully reset. Redirecting to login...":"If an account exists with that email, we've sent a password reset link. Please check your inbox."}),!t&&o.jsx(Qt,{onClick:()=>r("/login"),variant:"primary",className:"w-full",children:"Back to Login"})]}),n!=="success"&&o.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(os,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Security Notice"}),o.jsx("p",{className:"mt-1",children:"The reset link will expire in 1 hour. Never share this link with anyone."})]})]})})]})})},Sae=30*1e3,is=Ic((r,e)=>({projects:[],timesheets:[],loading:!1,lastFetched:null,fetchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<Sae)){r({loading:!0});try{const i=await wr.getProjects();r({projects:Array.isArray(i)?i:[],loading:!1,lastFetched:Date.now()})}catch(i){console.error("Failed to fetch projects:",i),r({loading:!1})}}},addProject:async t=>{try{const n=await wr.createProject(t);return r(a=>({projects:[n,...a.projects],lastFetched:Date.now()})),n}catch(n){throw console.error("Failed to add project:",n),n}},updateProject:async(t,n)=>{try{const a=await wr.updateProject(t,n);r(s=>({projects:s.projects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Failed to update project:",a),a}},deleteProject:async t=>{try{await wr.deleteProject(t),r(n=>({projects:n.projects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Failed to delete project:",n),n}},fetchTimesheets:async t=>{r({loading:!0});try{const n=await wr.getTimesheets(t),a=(Array.isArray(n)?n:[]).map(s=>({...s,hours:parseFloat(s.hours)||0}));r({timesheets:a,loading:!1})}catch(n){console.error("Failed to fetch timesheets:",n),r({timesheets:[],loading:!1})}},addTimesheet:async t=>{try{const n=await wr.createTimesheet(t);r(a=>({timesheets:[n,...a.timesheets]})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to add timesheet:",n),n}},updateTimesheet:async(t,n)=>{try{const a=await wr.updateTimesheet(t,n);r(s=>({timesheets:s.timesheets.map(i=>i.id===t?{...i,...a}:i)})),e().fetchProjects(!0)}catch(a){const s=a?.response?.data?.error||a?.message||"Failed to update timesheet";throw console.error("Error updating timesheet:",s),a}},deleteTimesheet:async t=>{try{await wr.deleteTimesheet(t),r(n=>({timesheets:n.timesheets.filter(a=>a.id!==t)})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to delete timesheet:",n),n}}})),Sx=r=>{if(r.name&&!r.user)return r;const e=r.user||{};return{id:r.id,userId:r.user_id||r.userId||e.id,name:e.name||r.name||"Unknown",email:e.email||r.email||"",role:e.role||r.role||"engineer",roles:e.roles||r.roles||[e.role||r.role||"engineer"],department:r.department||"engineering",phone:r.phone,avatar:e.avatar||r.avatar||"male-01",activeProjects:parseInt(r.activeProjects)||0,totalHoursThisMonth:parseFloat(r.totalHoursThisMonth)||0,joinDate:r.joinDate||new Date().toISOString(),status:r.status||"active",hourlyRate:r.hourlyRate,position:r.position,certifications:r.certifications||[]}},Oo=Ic(r=>({teamMembers:[],loading:!1,error:null,fetchTeamMembers:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllTeamMembers(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(Sx);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team members";console.error("Error fetching team members:",n),r({error:n,loading:!1})}},addTeamMember:async e=>{try{r({loading:!0,error:null});const t=await wr.createTeamMember(e),n=Sx(t);r(a=>({teamMembers:[...a.teamMembers,n],loading:!1,error:null}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add team member";throw console.error("Error adding team member:",n),r({error:n,loading:!1}),t}},updateTeamMember:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updateTeamMember(e,t),a=Sx(n);r(s=>({teamMembers:s.teamMembers.map(i=>i.id===e?a:i),loading:!1,error:null}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update team member";throw console.error("Error updating team member:",a),r({error:a,loading:!1}),n}},deleteTeamMember:async e=>{try{r({loading:!0,error:null}),await wr.deleteTeamMember(e),r(t=>({teamMembers:t.teamMembers.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete team member";console.error("Error deleting team member:",n),r({error:n,loading:!1})}},reactivateTeamMember:async e=>{try{r({loading:!0,error:null});const t=await wr.reactivateTeamMember(e),n=Sx(t.data);r(a=>({teamMembers:a.teamMembers.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to reactivate team member";throw console.error("Error reactivating team member:",n),r({error:n,loading:!1}),t}},getTeamByDepartment:async e=>{try{r({loading:!0,error:null});const t=await wr.getTeamByDepartment(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(Sx);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team by department";console.error("Error fetching team by department:",n),r({error:n,loading:!1})}}})),ff=Ic(r=>({clients:[],loading:!1,error:null,fetchClients:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllClients(e);let n=[];Array.isArray(t)?n=t:t?.data?n=Array.isArray(t.data)?t.data:[]:n=[],r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch clients";console.error("Error fetching clients:",n),r({error:n,clients:[],loading:!1})}},addClient:async e=>{try{r({loading:!0,error:null});const t=await wr.createClient(e);r(s=>({clients:[...s.clients,t],loading:!1,error:null}));const n=await wr.getAllClients();let a=[];Array.isArray(n)?a=n:n?.data&&(a=Array.isArray(n.data)?n.data:[]),r({clients:a,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add client";console.error("Error adding client:",n),r({error:n,loading:!1})}},updateClient:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updateClient(e,t);r(i=>({clients:i.clients.map(l=>l.id===e?n:l),loading:!1,error:null}));const a=await wr.getAllClients();let s=[];Array.isArray(a)?s=a:a?.data&&(s=Array.isArray(a.data)?a.data:[]),r({clients:s,loading:!1,error:null})}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update client";console.error("Error updating client:",a),r({error:a,loading:!1})}},deleteClient:async e=>{try{r({loading:!0,error:null}),await wr.deleteClient(e),r(a=>({clients:a.clients.filter(s=>s.id!==e),loading:!1,error:null}));const t=await wr.getAllClients();let n=[];Array.isArray(t)?n=t:t?.data&&(n=Array.isArray(t.data)?t.data:[]),r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete client";console.error("Error deleting client:",n),r({error:n,loading:!1})}},updateClientProjectCounts:async e=>{try{if(!(window.__clientStoreState?.clients||[]).find(a=>a.id===e))return;r({loading:!1})}catch(t){console.error("Error updating client project counts:",t)}}})),Vr=bs.forwardRef(({className:r,variant:e="default",padding:t="md",active:n,children:a,...s},i)=>o.jsx("div",{ref:i,className:Cr("bg-white",{"rounded-lg shadow-sm":e==="default","rounded-lg border border-gray-200":e==="bordered","rounded-lg shadow-md":e==="elevated","rounded-2xl shadow-sm border border-gray-100":e==="stat","rounded-2xl shadow-sm border border-gray-100 cursor-pointer transition-all hover:shadow-md hover:scale-[1.02]":e==="clickable","ring-2 ring-primary-500 ring-offset-2":n,"p-0":t==="none","p-3":t==="sm","p-4 md:p-6":t==="md","p-6 md:p-8":t==="lg"},r),...s,children:a}));Vr.displayName="Card";const $1=({className:r,children:e,...t})=>o.jsx("div",{className:Cr("mb-4",r),...t,children:e}),V1=({className:r,children:e,...t})=>o.jsx("h3",{className:Cr("text-lg font-semibold text-gray-900",r),...t,children:e}),q1=({className:r,children:e,...t})=>o.jsx("div",{className:Cr("",r),...t,children:e}),fd=({title:r,value:e,color:t="gray",onClick:n,active:a})=>{const s={gray:"text-gray-900",blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",purple:"text-purple-600",indigo:"text-indigo-600",red:"text-red-600"},i={gray:"ring-gray-500",blue:"ring-blue-500",green:"ring-green-500",yellow:"ring-yellow-500",purple:"ring-purple-500",indigo:"ring-indigo-500",red:"ring-red-500"};return n?o.jsxs("button",{onClick:n,className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${a?`ring-2 ${i[t]} ring-offset-2`:""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:r}),o.jsx("div",{className:`text-3xl font-bold ${s[t]}`,children:e})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:r}),o.jsx("div",{className:`text-3xl font-bold ${s[t]}`,children:e})]})},X7=({title:r,description:e,action:t,icon:n})=>o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[n&&o.jsx("div",{className:"hidden md:flex text-primary-600",children:n}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:r}),e&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]})]}),t&&o.jsx("div",{className:"flex-shrink-0",children:t})]})}),Bae={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},Lw=({src:r,alt:e,size:t="md",className:n=""})=>{const a=Bae[t];return r?o.jsx("img",{src:`/assets/avatars/${r}.svg`,alt:e||"Avatar",className:`${a} rounded-full object-cover bg-gray-100 ${n}`,onError:s=>{s.target.style.display="none"}}):o.jsx("div",{className:`${a} rounded-full bg-primary-100 flex items-center justify-center ${n}`,children:o.jsx(Hl,{className:"w-1/2 h-1/2 text-primary-600"})})};class Eae{async getProjectTeam(e){return(await rt.get(`/projects/${e}/team`)).data}async addTeamMember(e,t,n="engineer"){return(await rt.post(`/projects/${e}/team`,{teamMemberId:t,role:n})).data}async updateTeamMemberRole(e,t,n){await rt.put(`/projects/${e}/team/${t}`,{role:n})}async removeTeamMember(e,t){await rt.delete(`/projects/${e}/team/${t}`)}async getAllTeamAssignments(){return(await rt.get("/projects/team-assignments")).data}}const vp=new Eae,E_=({isOpen:r,onClose:e,project:t})=>{const[n,a]=B.useState([]),[s,i]=B.useState(!1);B.useEffect(()=>{t?.id&&l()},[t?.id]);const l=async()=>{if(t?.id)try{i(!0);const h=await vp.getProjectTeam(t.id);a(h)}catch(h){console.error("Error loading team:",h)}finally{i(!1)}};if(!r||!t)return null;const c=h=>{const p="px-4 py-2 rounded-lg font-semibold text-sm";switch(h){case"pre-lim":return o.jsx("span",{className:`${p} bg-blue-100 text-blue-800`,children:"Preliminary"});case"ongoing":return o.jsx("span",{className:`${p} bg-green-100 text-green-800`,children:"Ongoing"});case"completed":return o.jsx("span",{className:`${p} bg-gray-100 text-gray-800`,children:"Completed"});case"on-hold":return o.jsx("span",{className:`${p} bg-yellow-100 text-yellow-800`,children:"On Hold"});case"open":return o.jsx("span",{className:`${p} bg-purple-100 text-purple-800`,children:"Open"});case"closed":return o.jsx("span",{className:`${p} bg-red-100 text-red-800`,children:"Closed"});default:return o.jsx("span",{className:`${p} bg-gray-100 text-gray-800`,children:h})}},u=t.plannedHours>0?Math.round((t.actualHours||0)/t.plannedHours*100):0,A=(t.actualHours||0)>t.plannedHours;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-xl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:t.projectCode}),o.jsx("p",{className:"text-primary-100 text-sm mt-1",children:t.title})]}),o.jsx("button",{onClick:e,className:"text-white hover:bg-primary-800 p-1 rounded transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-3",children:"Status"}),o.jsx("div",{className:"flex items-center justify-center py-2",children:c(t.status)})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Hours Progress"}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.actualHours||0}),o.jsxs("span",{className:"text-sm text-gray-500",children:["of ",t.plannedHours," hrs"]})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${A?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(u,100)}%`}})}),o.jsx("p",{className:`text-xs mt-2 font-medium ${A?"text-red-600":"text-green-600"}`,children:A?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(os,{className:"w-3 h-3"}),(t.actualHours||0)-t.plannedHours," hrs over budget"]}):o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(za,{className:"w-3 h-3"}),u,"% complete"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Billing Type"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.billingType==="lump_sum"?o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Lump Sum (Fixed Amount)"]}):o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Hourly Rate"]})})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Company"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.companyName||o.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Lead Engineer"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.engineerName||o.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(so,{className:"w-3 h-3"}),"Start Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(t.startDate).toLocaleDateString()})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(so,{className:"w-3 h-3"}),"End Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.endDate?new Date(t.endDate).toLocaleDateString():"Not set"})]})]}),t.description&&o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-4 flex items-center gap-1",children:[o.jsx(Nu,{className:"w-4 h-4"}),"Project Team (",n.length," members)"]}),s?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):n.length>0?o.jsx("div",{className:"space-y-3",children:n.map(h=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lw,{src:h.avatar,alt:h.name,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:h.name}),h.role==="lead_engineer"&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-primary-600 bg-primary-50 px-2 py-0.5 rounded",children:[o.jsx(a7,{className:"w-3 h-3"}),"Lead"]})]}),o.jsx("span",{className:"text-sm text-gray-500",children:h.email})]})]},h.id))}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No team members assigned yet"})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-4 flex items-center gap-1",children:[o.jsx(To,{className:"w-4 h-4"}),"Hours Overview"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Planned Hours"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t.plannedHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Actual Hours"}),o.jsxs("span",{className:`font-semibold ${A?"text-red-600":"text-green-600"}`,children:[t.actualHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Variance"}),o.jsxs("span",{className:`font-semibold ${A?"text-red-600":"text-green-600"}`,children:[A?"+":"",(t.actualHours||0)-t.plannedHours," hrs"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Project Code"}),o.jsx("p",{className:"text-sm font-mono font-medium text-gray-900",children:t.projectCode})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Created"}),o.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.createdDate||new Date).toLocaleDateString()})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:o.jsx(Qt,{variant:"outline",onClick:e,children:"Close"})})]})})},jae=({isOpen:r,onClose:e,teamMemberId:t,teamMemberName:n})=>{const{projects:a}=is(),{clients:s}=ff(),i=B.useMemo(()=>t?a.filter(p=>p.engineerId===t):[],[t,a]),l=B.useMemo(()=>i.filter(p=>p.status==="ongoing"),[i]),c=B.useMemo(()=>i.filter(p=>p.status==="completed"),[i]),u=B.useMemo(()=>i.filter(p=>p.status==="pre-lim"),[i]),A=B.useMemo(()=>{const p=i.reduce((g,v)=>g+(v.actualHours||0),0),m=i.reduce((g,v)=>g+v.plannedHours,0),y=m>0?p/m*100:0;return{totalProjects:i.length,activeProjects:l.length,completedProjects:c.length,totalHours:p,totalPlannedHours:m,totalHoursUtilization:y}},[i,l,c]);if(!r)return null;const h=({project:p,status:m})=>{const y=s.find(w=>w.id===p.companyId),g=p.plannedHours>0?p.actualHours/p.plannedHours*100:0,v={active:{bg:"bg-blue-50",text:"text-blue-700"},completed:{bg:"bg-emerald-50",text:"text-emerald-700"},preLim:{bg:"bg-amber-50",text:"text-amber-700"}};return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:p.projectCode})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:p.title})})}),o.jsx("td",{className:"px-4 py-3 text-gray-700 text-sm",children:y?.name||"Unknown"}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:`h-1.5 rounded-full transition-all ${(p.actualHours||0)>p.plannedHours?"bg-red-500":"bg-primary-600"}`,style:{width:`${Math.min(g,100)}%`}})}),o.jsxs("span",{className:`font-semibold w-6 text-right text-xs ${(p.actualHours||0)>p.plannedHours?"text-red-600":"text-gray-900"}`,children:[g.toFixed(0),"%"]})]})}),o.jsxs("td",{className:"px-4 py-3 text-right whitespace-nowrap",children:[o.jsx("span",{className:"font-medium text-gray-900",children:p.actualHours}),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:p.plannedHours})]}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${v[m].bg} ${v[m].text}`,children:m==="active"?"Ongoing":m==="completed"?"Completed":"Preliminary"})})]},p.id)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center pl-64",children:o.jsx("div",{className:"flex items-center justify-center w-full px-4 max-w-5xl",children:o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full max-h-[85vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Nu,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Project assignments and progress"})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Total Projects"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:A.totalProjects})]}),o.jsx(yd,{className:"w-8 h-8 text-blue-300"})]})}),o.jsx("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-cyan-600 uppercase tracking-wide",children:"Active"}),o.jsx("p",{className:"text-2xl font-bold text-cyan-900 mt-2",children:A.activeProjects})]}),o.jsx(Zee,{className:"w-8 h-8 text-cyan-300"})]})}),o.jsx("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-emerald-600 uppercase tracking-wide",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-emerald-900 mt-2",children:A.completedProjects})]}),o.jsx(yd,{className:"w-8 h-8 text-emerald-300"})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Hours Logged"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-2",children:A.totalHours})]}),o.jsx(To,{className:"w-8 h-8 text-purple-300"})]})})]}),l.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Active Projects (",l.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(p=>o.jsx(h,{project:p,status:"active"},p.id))})]})})]}),c.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Completed Projects (",c.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(p=>o.jsx(h,{project:p,status:"completed"},p.id))})]})})]}),u.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Preliminary Projects (",u.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(p=>o.jsx(h,{project:p,status:"preLim"},p.id))})]})})]}),i.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(yd,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned"})]})]}),o.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:o.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})})]})};var lS={},cS={},H6;function _ae(){return H6||(H6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(cS)),cS}var uS={},z6;function J7(){return z6||(z6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(uS)),uS}var dS={},K6;function Z7(){return K6||(K6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(dS)),dS}var AS={},$6;function j_(){return $6||($6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){const n=[],a=t.length;if(a===0)return n;let s=0,i="",l="",c=!1;for(t.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=t[s];l?u==="\\"&&s+1<a?(s++,i+=t[s]):u===l?l="":i+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(i),i=""):i+=u:u==="["?(c=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}r.toPath=e})(AS)),AS}var V6;function __(){return V6||(V6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_ae(),t=J7(),n=Z7(),a=j_();function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const A=l[c];return A===void 0?t.isDeepKey(c)?s(l,a.toPath(c),u):u:A}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const A=l[c];return A===void 0?u:A}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const A=l[c];return A===void 0?u:A}}}function i(l,c,u){if(c.length===0)return u;let A=l;for(let h=0;h<c.length;h++){if(A==null||e.isUnsafeProperty(c[h]))return u;A=A[c[h]]}return A===void 0?u:A}r.get=s})(lS)),lS}var hS,q6;function Tae(){return q6||(q6=1,hS=__().get),hS}var kae=Tae();const F0=Pc(kae);var fS={exports:{}},Jn={};var G6;function Fae(){if(G6)return Jn;G6=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case r:switch(g=g.type,g){case t:case a:case n:case c:case u:case p:return g;default:switch(g=g&&g.$$typeof,g){case i:case l:case h:case A:return g;case s:return g;default:return v}}case e:return v}}}return Jn.ContextConsumer=s,Jn.ContextProvider=i,Jn.Element=r,Jn.ForwardRef=l,Jn.Fragment=t,Jn.Lazy=h,Jn.Memo=A,Jn.Portal=e,Jn.Profiler=a,Jn.StrictMode=n,Jn.Suspense=c,Jn.SuspenseList=u,Jn.isContextConsumer=function(g){return y(g)===s},Jn.isContextProvider=function(g){return y(g)===i},Jn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===r},Jn.isForwardRef=function(g){return y(g)===l},Jn.isFragment=function(g){return y(g)===t},Jn.isLazy=function(g){return y(g)===h},Jn.isMemo=function(g){return y(g)===A},Jn.isPortal=function(g){return y(g)===e},Jn.isProfiler=function(g){return y(g)===a},Jn.isStrictMode=function(g){return y(g)===n},Jn.isSuspense=function(g){return y(g)===c},Jn.isSuspenseList=function(g){return y(g)===u},Jn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===a||g===n||g===c||g===u||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===A||g.$$typeof===i||g.$$typeof===s||g.$$typeof===l||g.$$typeof===m||g.getModuleId!==void 0)},Jn.typeOf=y,Jn}var W6;function Oae(){return W6||(W6=1,fS.exports=Fae()),fS.exports}var Dae=Oae(),gi=r=>r===0?0:r>0?1:-1,Vl=r=>typeof r=="number"&&r!=+r,d0=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,xr=r=>(typeof r=="number"||r instanceof Number)&&!Vl(r),wd=r=>xr(r)||typeof r=="string",Pae=0,Sy=r=>{var e=++Pae;return"".concat(r||"").concat(e)},co=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xr(e)&&typeof e!="string")return n;var s;if(d0(e)){if(t==null)return n;var i=e.indexOf("%");s=t*parseFloat(e.slice(0,i))/100}else s=+e;return Vl(s)&&(s=n),a&&t!=null&&s>t&&(s=t),s},eQ=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1};function Qi(r,e,t){return xr(r)&&xr(e)?r+t*(e-r):e}function Iae(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):F0(n,e))===t)}var wi=r=>r===null||typeof r>"u",uv=r=>wi(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),Lae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T_(r){if(typeof r!="string")return!1;var e=Lae;return e.includes(r)}var Mae=["viewBox","children"],Y6=["points","pathLength"],mS={svg:Mae,polygon:Y6,polyline:Y6},Rae=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(B.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(a=>{T_(a)&&(n[a]=(s=>t[a](t,s)))}),n},Uae=(r,e,t)=>n=>(r(e,t,n),null),dv=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(a=>{var s=r[a];T_(a)&&typeof s=="function"&&(n||(n={}),n[a]=Uae(s,e,t))}),n},Qae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function tQ(r){if(typeof r!="string")return!1;var e=Qae;return e.includes(r)}function mf(r){var e=Object.entries(r).filter(t=>{var[n]=t;return tQ(n)});return Object.fromEntries(e)}var X6=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",J6=null,pS=null,rQ=r=>{if(r===J6&&Array.isArray(pS))return pS;var e=[];return B.Children.forEach(r,t=>{wi(t)||(Dae.isFragment(t)?e=e.concat(rQ(t.props.children)):e.push(t))}),pS=e,J6=r,e};function k_(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(a=>X6(a)):n=[X6(e)],rQ(r).forEach(a=>{var s=F0(a,"type.displayName")||F0(a,"type.name");n.indexOf(s)!==-1&&t.push(a)}),t}var Hae=(r,e,t,n)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(a=n&&mS?.[n])!==null&&a!==void 0?a:[],i=e.startsWith("data-"),l=typeof r!="function"&&(!!n&&s.includes(e)||tQ(e)),c=!!t&&T_(e);return i||l||c},ti=(r,e,t)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(B.isValidElement(r)&&(n=r.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;Hae((i=n)===null||i===void 0?void 0:i[s],s,e,t)&&(a[s]=n[s])}),a},zae=["children","width","height","viewBox","className","style","title","desc"];function h4(){return h4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},h4.apply(null,arguments)}function Kae(r,e){if(r==null)return{};var t,n,a=$ae(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function $ae(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var F_=B.forwardRef((r,e)=>{var{children:t,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=r,A=Kae(r,zae),h=s||{width:n,height:a,x:0,y:0},p=An("recharts-surface",i);return B.createElement("svg",h4({},ti(A,!0,"svg"),{className:p,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),B.createElement("title",null,c),B.createElement("desc",null,u),t)}),Vae=["children","className"];function f4(){return f4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},f4.apply(null,arguments)}function qae(r,e){if(r==null)return{};var t,n,a=Gae(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Gae(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var ul=B.forwardRef((r,e)=>{var{children:t,className:n}=r,a=qae(r,Vae),s=An("recharts-layer",n);return B.createElement("g",f4({className:s},ti(a,!0),{ref:e}),t)}),nQ=B.createContext(null),Wae=()=>B.useContext(nQ);function ua(r){return function(){return r}}const aQ=Math.cos,Mw=Math.sin,Tu=Math.sqrt,Rw=Math.PI,yC=2*Rw,m4=Math.PI,p4=2*m4,Zf=1e-6,Yae=p4-Zf;function sQ(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function Xae(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return sQ;const t=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*t)/t+n[a]}}class Jae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?sQ:Xae(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,s,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,t,n,a,s){if(e=+e,t=+t,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-t,A=i-e,h=l-t,p=A*A+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>Zf)if(!(Math.abs(h*c-u*A)>Zf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let m=n-i,y=a-l,g=c*c+u*u,v=m*m+y*y,w=Math.sqrt(g),S=Math.sqrt(p),C=s*Math.tan((m4-Math.acos((g+p-v)/(2*w*S)))/2),E=C/S,_=C/w;Math.abs(E-1)>Zf&&this._append`L${e+E*A},${t+E*h}`,this._append`A${s},${s},0,0,${+(h*m>A*y)},${this._x1=e+_*c},${this._y1=t+_*u}`}}arc(e,t,n,a,s,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,A=t+c,h=1^i,p=i?a-s:s-a;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>Zf||Math.abs(this._y1-A)>Zf)&&this._append`L${u},${A}`,n&&(p<0&&(p=p%p4+p4),p>Yae?this._append`A${n},${n},0,1,${h},${e-l},${t-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=A}`:p>Zf&&this._append`A${n},${n},0,${+(p>=m4)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function O_(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new Jae(e)}function D_(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function iQ(r){this._context=r}iQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function vC(r){return new iQ(r)}function oQ(r){return r[0]}function lQ(r){return r[1]}function cQ(r,e){var t=ua(!0),n=null,a=vC,s=null,i=O_(l);r=typeof r=="function"?r:r===void 0?oQ:ua(r),e=typeof e=="function"?e:e===void 0?lQ:ua(e);function l(c){var u,A=(c=D_(c)).length,h,p=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=A;++u)!(u<A&&t(h=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+r(h,u,c),+e(h,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:ua(+c),l):r},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ua(+c),l):e},l.defined=function(c){return arguments.length?(t=typeof c=="function"?c:ua(!!c),l):t},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function G1(r,e,t){var n=null,a=ua(!0),s=null,i=vC,l=null,c=O_(u);r=typeof r=="function"?r:r===void 0?oQ:ua(+r),e=typeof e=="function"?e:ua(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?lQ:ua(+t);function u(h){var p,m,y,g=(h=D_(h)).length,v,w=!1,S,C=new Array(g),E=new Array(g);for(s==null&&(l=i(S=c())),p=0;p<=g;++p){if(!(p<g&&a(v=h[p],p,h))===w)if(w=!w)m=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=m;--y)l.point(C[y],E[y]);l.lineEnd(),l.areaEnd()}w&&(C[p]=+r(v,p,h),E[p]=+e(v,p,h),l.point(n?+n(v,p,h):C[p],t?+t(v,p,h):E[p]))}if(S)return l=null,S+""||null}function A(){return cQ().defined(a).curve(i).context(s)}return u.x=function(h){return arguments.length?(r=typeof h=="function"?h:ua(+h),n=null,u):r},u.x0=function(h){return arguments.length?(r=typeof h=="function"?h:ua(+h),u):r},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ua(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:ua(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ua(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:ua(+h),u):t},u.lineX0=u.lineY0=function(){return A().x(r).y(e)},u.lineY1=function(){return A().x(r).y(t)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:ua(!!h),u):a},u.curve=function(h){return arguments.length?(i=h,s!=null&&(l=i(s)),u):i},u.context=function(h){return arguments.length?(h==null?s=l=null:l=i(s=h),u):s},u}class uQ{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Zae(r){return new uQ(r,!0)}function ese(r){return new uQ(r,!1)}const P_={draw(r,e){const t=Tu(e/Rw);r.moveTo(t,0),r.arc(0,0,t,0,yC)}},tse={draw(r,e){const t=Tu(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},dQ=Tu(1/3),rse=dQ*2,nse={draw(r,e){const t=Tu(e/rse),n=t*dQ;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},ase={draw(r,e){const t=Tu(e),n=-t/2;r.rect(n,n,t,t)}},sse=.8908130915292852,AQ=Mw(Rw/10)/Mw(7*Rw/10),ise=Mw(yC/10)*AQ,ose=-aQ(yC/10)*AQ,lse={draw(r,e){const t=Tu(e*sse),n=ise*t,a=ose*t;r.moveTo(0,-t),r.lineTo(n,a);for(let s=1;s<5;++s){const i=yC*s/5,l=aQ(i),c=Mw(i);r.lineTo(c*t,-l*t),r.lineTo(l*n-c*a,c*n+l*a)}r.closePath()}},gS=Tu(3),cse={draw(r,e){const t=-Tu(e/(gS*3));r.moveTo(0,t*2),r.lineTo(-gS*t,-t),r.lineTo(gS*t,-t),r.closePath()}},mc=-.5,pc=Tu(3)/2,g4=1/Tu(12),use=(g4/2+1)*3,dse={draw(r,e){const t=Tu(e/use),n=t/2,a=t*g4,s=n,i=t*g4+t,l=-s,c=i;r.moveTo(n,a),r.lineTo(s,i),r.lineTo(l,c),r.lineTo(mc*n-pc*a,pc*n+mc*a),r.lineTo(mc*s-pc*i,pc*s+mc*i),r.lineTo(mc*l-pc*c,pc*l+mc*c),r.lineTo(mc*n+pc*a,mc*a-pc*n),r.lineTo(mc*s+pc*i,mc*i-pc*s),r.lineTo(mc*l+pc*c,mc*c-pc*l),r.closePath()}};function Ase(r,e){let t=null,n=O_(a);r=typeof r=="function"?r:ua(r||P_),e=typeof e=="function"?e:ua(e===void 0?64:+e);function a(){let s;if(t||(t=s=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return a.type=function(s){return arguments.length?(r=typeof s=="function"?s:ua(s),a):r},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:ua(+s),a):e},a.context=function(s){return arguments.length?(t=s??null,a):t},a}function Uw(){}function Qw(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function hQ(r){this._context=r}hQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function hse(r){return new hQ(r)}function fQ(r){this._context=r}fQ.prototype={areaStart:Uw,areaEnd:Uw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Qw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function fse(r){return new fQ(r)}function mQ(r){this._context=r}mQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Qw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function mse(r){return new mQ(r)}function pQ(r){this._context=r}pQ.prototype={areaStart:Uw,areaEnd:Uw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function pse(r){return new pQ(r)}function Z6(r){return r<0?-1:1}function eD(r,e,t){var n=r._x1-r._x0,a=e-r._x1,s=(r._y1-r._y0)/(n||a<0&&-0),i=(t-r._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(Z6(s)+Z6(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function tD(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function xS(r,e,t){var n=r._x0,a=r._y0,s=r._x1,i=r._y1,l=(s-n)/3;r._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*t,s,i)}function Hw(r){this._context=r}Hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xS(this,this._t0,tD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,xS(this,tD(this,t=eD(this,r,e)),t);break;default:xS(this,this._t0,t=eD(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function gQ(r){this._context=new xQ(r)}(gQ.prototype=Object.create(Hw.prototype)).point=function(r,e){Hw.prototype.point.call(this,e,r)};function xQ(r){this._context=r}xQ.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,a,s){this._context.bezierCurveTo(e,r,n,t,s,a)}};function gse(r){return new Hw(r)}function xse(r){return new gQ(r)}function yQ(r){this._context=r}yQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=rD(r),a=rD(e),s=0,i=1;i<t;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],r[i],e[i]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function rD(r){var e,t=r.length-1,n,a=new Array(t),s=new Array(t),i=new Array(t);for(a[0]=0,s[0]=2,i[0]=r[0]+2*r[1],e=1;e<t-1;++e)a[e]=1,s[e]=4,i[e]=4*r[e]+2*r[e+1];for(a[t-1]=2,s[t-1]=7,i[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[t-1]=i[t-1]/s[t-1],e=t-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[t-1]=(r[t]+a[t-1])/2,e=0;e<t-1;++e)s[e]=2*r[e+1]-a[e+1];return[a,s]}function yse(r){return new yQ(r)}function bC(r,e){this._context=r,this._t=e}bC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function vse(r){return new bC(r,.5)}function bse(r){return new bC(r,0)}function wse(r){return new bC(r,1)}function Wp(r,e){if((i=r.length)>1)for(var t=1,n,a,s=r[e[0]],i,l=s.length;t<i;++t)for(a=s,s=r[e[t]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function x4(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Cse(r,e){return r[e]}function Nse(r){const e=[];return e.key=r,e}function Sse(){var r=ua([]),e=x4,t=Wp,n=Cse;function a(s){var i=Array.from(r.apply(this,arguments),Nse),l,c=i.length,u=-1,A;for(const h of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(h,i[l].key,u,s)]).data=h;for(l=0,A=D_(e(i));l<c;++l)i[A[l]].index=l;return t(i,A),i}return a.keys=function(s){return arguments.length?(r=typeof s=="function"?s:ua(Array.from(s)),a):r},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:ua(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?x4:typeof s=="function"?s:ua(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(t=s??Wp,a):t},a}function Bse(r,e){if((n=r.length)>0){for(var t,n,a=0,s=r[0].length,i;a<s;++a){for(i=t=0;t<n;++t)i+=r[t][a][1]||0;if(i)for(t=0;t<n;++t)r[t][a][1]/=i}Wp(r,e)}}function Ese(r,e){if((a=r.length)>0){for(var t=0,n=r[e[0]],a,s=n.length;t<s;++t){for(var i=0,l=0;i<a;++i)l+=r[i][t][1]||0;n[t][1]+=n[t][0]=-l/2}Wp(r,e)}}function jse(r,e){if(!(!((i=r.length)>0)||!((s=(a=r[e[0]]).length)>0))){for(var t=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var A=r[e[l]],h=A[n][1]||0,p=A[n-1][1]||0,m=(h-p)/2,y=0;y<l;++y){var g=r[e[y]],v=g[n][1]||0,w=g[n-1][1]||0;m+=v-w}c+=h,u+=m*h}a[n-1][1]+=a[n-1][0]=t,c&&(t-=u/c)}a[n-1][1]+=a[n-1][0]=t,Wp(r,e)}}var _se=["type","size","sizeType"];function y4(){return y4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},y4.apply(null,arguments)}function nD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function aD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(t),!0).forEach(function(n){Tse(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tse(r,e,t){return(e=kse(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kse(r){var e=Fse(r,"string");return typeof e=="symbol"?e:e+""}function Fse(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ose(r,e){if(r==null)return{};var t,n,a=Dse(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Dse(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var vQ={symbolCircle:P_,symbolCross:tse,symbolDiamond:nse,symbolSquare:ase,symbolStar:lse,symbolTriangle:cse,symbolWye:dse},Pse=Math.PI/180,Ise=r=>{var e="symbol".concat(uv(r));return vQ[e]||P_},Lse=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*Pse;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},Mse=(r,e)=>{vQ["symbol".concat(uv(r))]=e},I_=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,a=Ose(r,_se),s=aD(aD({},a),{},{type:e,size:t,sizeType:n}),i="circle";typeof e=="string"&&(i=e);var l=()=>{var p=Ise(i),m=Ase().type(p).size(Lse(t,n,i));return m()},{className:c,cx:u,cy:A}=s,h=ti(s,!0);return u===+u&&A===+A&&t===+t?B.createElement("path",y4({},h,{className:An("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(A,")"),d:l()})):null};I_.registerSymbol=Mse;function v4(){return v4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},v4.apply(null,arguments)}function sD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Rse(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(t),!0).forEach(function(n){L_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function L_(r,e,t){return(e=Use(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Use(r){var e=Qse(r,"string");return typeof e=="symbol"?e:e+""}function Qse(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var gc=32;class M_ extends B.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,a=gc/2,s=gc/6,i=gc/3,l=e.inactive?n:e.color,c=t??e.type;if(c==="none")return null;if(c==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:gc,y2:a,className:"recharts-legend-icon"});if(c==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(gc,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(gc/8,"h").concat(gc,"v").concat(gc*3/4,"h").concat(-gc,"z"),className:"recharts-legend-icon"});if(B.isValidElement(e.legendIcon)){var u=Rse({},e);return delete u.legendIcon,B.cloneElement(e.legendIcon,u)}return B.createElement(I_,{fill:l,cx:a,cy:a,size:gc,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:a,inactiveColor:s,iconType:i}=this.props,l={x:0,y:0,width:gc,height:gc},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((A,h)=>{var p=A.formatter||a,m=An({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:A.inactive});if(A.type==="none")return null;var y=A.inactive?s:A.color,g=p?p(A.value,A,h):A.value;return B.createElement("li",v4({className:m,style:c,key:"legend-item-".concat(h)},dv(this.props,A,h)),B.createElement(F_,{width:t,height:t,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},this.renderIcon(A,i)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:t==="horizontal"?n:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}L_(M_,"displayName","Legend");L_(M_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var yS={},vS={},iD;function Hse(){return iD||(iD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const a=new Map;for(let s=0;s<t.length;s++){const i=t[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}r.uniqBy=e})(vS)),vS}var bS={},oD;function bQ(){return oD||(oD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(bS)),bS}var wS={},CS={},NS={},lD;function zse(){return lD||(lD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(NS)),NS}var cD;function R_(){return cD||(cD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=zse();function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(CS)),CS}var SS={},uD;function Kse(){return uD||(uD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(SS)),SS}var dD;function $se(){return dD||(dD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=R_(),t=Kse();function n(a){return t.isObjectLike(a)&&e.isArrayLike(a)}r.isArrayLikeObject=n})(wS)),wS}var BS={},ES={},AD;function Vse(){return AD||(AD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=__();function t(n){return function(a){return e.get(a,n)}}r.property=t})(ES)),ES}var jS={},_S={},TS={},kS={},hD;function wQ(){return hD||(hD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(kS)),kS}var FS={},fD;function CQ(){return fD||(fD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(FS)),FS}var OS={},mD;function NQ(){return mD||(mD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(OS)),OS}var pD;function qse(){return pD||(pD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=U_(),t=wQ(),n=CQ(),a=NQ();function s(h,p,m){return typeof m!="function"?e.isMatch(h,p):i(h,p,function y(g,v,w,S,C,E){const _=m(g,v,w,S,C,E);return _!==void 0?!!_:i(g,v,y,E)},new Map)}function i(h,p,m,y){if(p===h)return!0;switch(typeof p){case"object":return l(h,p,m,y);case"function":return Object.keys(p).length>0?i(h,{...p},m,y):a.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:a.eq(h,p)}}function l(h,p,m,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,m,y);if(p instanceof Map)return c(h,p,m,y);if(p instanceof Set)return A(h,p,m,y);const g=Object.keys(p);if(h==null)return g.length===0;if(g.length===0)return!0;if(y&&y.has(p))return y.get(p)===h;y&&y.set(p,h);try{for(let v=0;v<g.length;v++){const w=g[v];if(!n.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!m(h[w],p[w],w,h,p,y))return!1}return!0}finally{y&&y.delete(p)}}function c(h,p,m,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[g,v]of p.entries()){const w=h.get(g);if(m(w,v,g,h,p,y)===!1)return!1}return!0}function u(h,p,m,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const g=new Set;for(let v=0;v<p.length;v++){const w=p[v];let S=!1;for(let C=0;C<h.length;C++){if(g.has(C))continue;const E=h[C];let _=!1;if(m(E,w,v,h,p,y)&&(_=!0),_){g.add(C),S=!0;break}}if(!S)return!1}return!0}function A(h,p,m,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],m,y):!1}r.isMatchWith=s,r.isSetMatch=A})(TS)),TS}var gD;function U_(){return gD||(gD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=qse();function t(n,a){return e.isMatchWith(n,a,()=>{})}r.isMatch=t})(_S)),_S}var DS={},PS={},IS={},xD;function Gse(){return xD||(xD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(IS)),IS}var LS={},yD;function SQ(){return yD||(yD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(LS)),LS}var MS={},vD;function BQ(){return vD||(vD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",A="[object Array]",h="[object Function]",p="[object ArrayBuffer]",m="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",w="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",_="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",P="[object BigInt64Array]",k="[object Float32Array]",z="[object Float64Array]";r.argumentsTag=s,r.arrayBufferTag=p,r.arrayTag=A,r.bigInt64ArrayTag=P,r.bigUint64ArrayTag=E,r.booleanTag=a,r.dataViewTag=g,r.dateTag=l,r.errorTag=y,r.float32ArrayTag=k,r.float64ArrayTag=z,r.functionTag=h,r.int16ArrayTag=L,r.int32ArrayTag=D,r.int8ArrayTag=_,r.mapTag=c,r.numberTag=n,r.objectTag=m,r.regexpTag=e,r.setTag=u,r.stringTag=t,r.symbolTag=i,r.uint16ArrayTag=S,r.uint32ArrayTag=C,r.uint8ArrayTag=v,r.uint8ClampedArrayTag=w})(MS)),MS}var RS={},bD;function Wse(){return bD||(bD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})(RS)),RS}var wD;function EQ(){return wD||(wD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Gse(),t=SQ(),n=BQ(),a=CQ(),s=Wse();function i(A,h){return l(A,void 0,A,new Map,h)}function l(A,h,p,m=new Map,y=void 0){const g=y?.(A,h,p,m);if(g!==void 0)return g;if(a.isPrimitive(A))return A;if(m.has(A))return m.get(A);if(Array.isArray(A)){const v=new Array(A.length);m.set(A,v);for(let w=0;w<A.length;w++)v[w]=l(A[w],w,p,m,y);return Object.hasOwn(A,"index")&&(v.index=A.index),Object.hasOwn(A,"input")&&(v.input=A.input),v}if(A instanceof Date)return new Date(A.getTime());if(A instanceof RegExp){const v=new RegExp(A.source,A.flags);return v.lastIndex=A.lastIndex,v}if(A instanceof Map){const v=new Map;m.set(A,v);for(const[w,S]of A)v.set(w,l(S,w,p,m,y));return v}if(A instanceof Set){const v=new Set;m.set(A,v);for(const w of A)v.add(l(w,void 0,p,m,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(A))return A.subarray();if(s.isTypedArray(A)){const v=new(Object.getPrototypeOf(A)).constructor(A.length);m.set(A,v);for(let w=0;w<A.length;w++)v[w]=l(A[w],w,p,m,y);return v}if(A instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&A instanceof SharedArrayBuffer)return A.slice(0);if(A instanceof DataView){const v=new DataView(A.buffer.slice(0),A.byteOffset,A.byteLength);return m.set(A,v),c(v,A,p,m,y),v}if(typeof File<"u"&&A instanceof File){const v=new File([A],A.name,{type:A.type});return m.set(A,v),c(v,A,p,m,y),v}if(A instanceof Blob){const v=new Blob([A],{type:A.type});return m.set(A,v),c(v,A,p,m,y),v}if(A instanceof Error){const v=new A.constructor;return m.set(A,v),v.message=A.message,v.name=A.name,v.stack=A.stack,v.cause=A.cause,c(v,A,p,m,y),v}if(typeof A=="object"&&u(A)){const v=Object.create(Object.getPrototypeOf(A));return m.set(A,v),c(v,A,p,m,y),v}return A}function c(A,h,p=A,m,y){const g=[...Object.keys(h),...e.getSymbols(h)];for(let v=0;v<g.length;v++){const w=g[v],S=Object.getOwnPropertyDescriptor(A,w);(S==null||S.writable)&&(A[w]=l(h[w],w,p,m,y))}}function u(A){switch(t.getTag(A)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=i,r.cloneDeepWithImpl=l,r.copyProperties=c})(PS)),PS}var CD;function Yse(){return CD||(CD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=EQ();function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(DS)),DS}var ND;function Xse(){return ND||(ND=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=U_(),t=Yse();function n(a){return a=t.cloneDeep(a),s=>e.isMatch(s,a)}r.matches=n})(jS)),jS}var US={},QS={},HS={},SD;function Jse(){return SD||(SD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=EQ(),t=BQ();function n(a,s){return e.cloneDeepWith(a,(i,l,c,u)=>{const A=s?.(i,l,c,u);if(A!==void 0)return A;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new a.constructor(a?.valueOf());return e.copyProperties(h,a),h}case t.argumentsTag:{const h={};return e.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}r.cloneDeepWith=n})(HS)),HS}var BD;function Zse(){return BD||(BD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Jse();function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(QS)),QS}var zS={},KS={},ED;function jQ(){return ED||(ED=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(KS)),KS}var $S={},jD;function eie(){return jD||(jD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=SQ();function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})($S)),$S}var _D;function tie(){return _D||(_D=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=J7(),t=jQ(),n=eie(),a=j_();function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&i?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let A=0;A<c.length;A++){const h=c[A];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}r.has=s})(zS)),zS}var TD;function rie(){return TD||(TD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=U_(),t=Z7(),n=Zse(),a=__(),s=tie();function i(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=t.toKey(l);break}}return c=n.cloneDeep(c),function(u){const A=a.get(u,l);return A===void 0?s.has(u,l):c===void 0?A===void 0:e.isMatch(A,c)}}r.matchesProperty=i})(US)),US}var kD;function nie(){return kD||(kD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=bQ(),t=Vse(),n=Xse(),a=rie();function s(i){if(i==null)return e.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return t.property(i)}}r.iteratee=s})(BS)),BS}var FD;function aie(){return FD||(FD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Hse(),t=bQ(),n=$se(),a=nie();function s(i,l=t.identity){return n.isArrayLikeObject(i)?e.uniqBy(Array.from(i),a.iteratee(l)):[]}r.uniqBy=s})(yS)),yS}var VS,OD;function sie(){return OD||(OD=1,VS=aie().uniqBy),VS}var iie=sie();const DD=Pc(iie);function _Q(r,e,t){return e===!0?DD(r,t):typeof e=="function"?DD(r,e):r}var qS={exports:{}},GS={},WS={exports:{}},YS={};var PD;function oie(){if(PD)return YS;PD=1;var r=dg();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,a=r.useEffect,s=r.useLayoutEffect,i=r.useDebugValue;function l(h,p){var m=p(),y=n({inst:{value:m,getSnapshot:p}}),g=y[0].inst,v=y[1];return s(function(){g.value=m,g.getSnapshot=p,c(g)&&v({inst:g})},[h,m,p]),a(function(){return c(g)&&v({inst:g}),h(function(){c(g)&&v({inst:g})})},[h]),i(m),m}function c(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!t(h,m)}catch{return!0}}function u(h,p){return p()}var A=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return YS.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:A,YS}var ID;function lie(){return ID||(ID=1,WS.exports=oie()),WS.exports}var LD;function cie(){if(LD)return GS;LD=1;var r=dg(),e=lie();function t(u,A){return u===A&&(u!==0||1/u===1/A)||u!==u&&A!==A}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=r.useRef,i=r.useEffect,l=r.useMemo,c=r.useDebugValue;return GS.useSyncExternalStoreWithSelector=function(u,A,h,p,m){var y=s(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=l(function(){function w(L){if(!S){if(S=!0,C=L,L=p(L),m!==void 0&&g.hasValue){var D=g.value;if(m(D,L))return E=D}return E=L}if(D=E,n(C,L))return D;var P=p(L);return m!==void 0&&m(D,P)?(C=L,D):(C=L,E=P)}var S=!1,C,E,_=h===void 0?null:h;return[function(){return w(A())},_===null?void 0:function(){return w(_())}]},[A,h,p,m]);var v=a(u,y[0],y[1]);return i(function(){g.hasValue=!0,g.value=v},[v]),c(v),v},GS}var MD;function uie(){return MD||(MD=1,qS.exports=cie()),qS.exports}var die=uie(),Q_=B.createContext(null),Aie=r=>r,qa=()=>{var r=B.useContext(Q_);return r?r.store.dispatch:Aie},pw=()=>{},hie=()=>pw,fie=(r,e)=>r===e;function hr(r){var e=B.useContext(Q_);return die.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:hie,e?e.store.getState:pw,e?e.store.getState:pw,e?r:pw,fie)}function mie(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function pie(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function gie(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var RD=r=>Array.isArray(r)?r:[r];function xie(r){const e=Array.isArray(r[0])?r[0]:r;return gie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yie(r,e){const t=[],{length:n}=r;for(let a=0;a<n;a++)t.push(r[a].apply(null,e));return t}var vie=class{constructor(r){this.value=r}deref(){return this.value}},bie=typeof WeakRef<"u"?WeakRef:vie,wie=0,UD=1;function W1(){return{s:wie,v:void 0,o:null,p:null}}function TQ(r,e={}){let t=W1();const{resultEqualityCheck:n}=e;let a,s=0;function i(){let l=t;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(m);g===void 0?(l=W1(),y.set(m,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(m);g===void 0?(l=W1(),y.set(m,l)):l=g}}const u=l;let A;if(l.s===UD)A=l.v;else if(A=r.apply(null,arguments),s++,n){const h=a?.deref?.()??a;h!=null&&n(h,A)&&(A=h,s!==0&&s--),a=typeof A=="object"&&A!==null||typeof A=="function"?new bie(A):A}return u.s=UD,u.v=A,A}return i.clearCache=()=>{t=W1(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Cie(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),mie(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const A={...t,...c},{memoize:h,memoizeOptions:p=[],argsMemoize:m=TQ,argsMemoizeOptions:y=[]}=A,g=RD(p),v=RD(y),w=xie(a),S=h(function(){return s++,u.apply(null,arguments)},...g),C=m(function(){i++;const _=yie(w,arguments);return l=S.apply(null,_),l},...v);return Object.assign(C,{resultFunc:u,memoizedResultFunc:S,dependencies:w,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var Ze=Cie(TQ),Nie=Object.assign((r,e=Ze)=>{pie(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(s=>r[s]);return e(n,(...s)=>s.reduce((i,l,c)=>(i[t[c]]=l,i),{}))},{withTypes:()=>Nie}),XS={},JS={},ZS={},QD;function Sie(){return QD||(QD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,a,s)=>{if(n!==a){const i=e(n),l=e(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};r.compareValues=t})(ZS)),ZS}var eB={},tB={},HD;function kQ(){return HD||(HD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(tB)),tB}var zD;function Bie(){return zD||(zD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=kQ(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!t.test(s))||i!=null&&Object.hasOwn(i,s)}r.isKey=a})(eB)),eB}var KD;function Eie(){return KD||(KD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Sie(),t=Bie(),n=j_();function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let g=m;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},A=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,h=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||t.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:h.map(y=>A(y,m))})).slice().sort((m,y)=>{for(let g=0;g<h.length;g++){const v=e.compareValues(m.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}r.orderBy=a})(JS)),JS}var rB={},$D;function jie(){return $D||($D=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const A=l[u];Array.isArray(A)&&c<s?i(A,c+1):a.push(A)}};return i(t,0),a}r.flatten=e})(rB)),rB}var nB={},VD;function FQ(){return VD||(VD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jQ(),t=R_(),n=wQ(),a=NQ();function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&t.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}r.isIterateeCall=s})(nB)),nB}var qD;function _ie(){return qD||(qD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Eie(),t=jie(),n=FQ();function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),e.orderBy(s,t.flatten(i),["asc"])}r.sortBy=a})(XS)),XS}var aB,GD;function Tie(){return GD||(GD=1,aB=_ie().sortBy),aB}var kie=Tie();const wC=Pc(kie);var OQ=r=>r.legend.settings,Fie=r=>r.legend.size,Oie=r=>r.legend.payload,Die=Ze([Oie,OQ],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?wC(n,t):n});function Pie(){return hr(Die)}var Y1=1;function DQ(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=B.useState({height:0,left:0,top:0,width:0}),n=B.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-e.height)>Y1||Math.abs(i.left-e.left)>Y1||Math.abs(i.top-e.top)>Y1||Math.abs(i.width-e.width)>Y1)&&t({height:i.height,left:i.left,top:i.top,width:i.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Ii(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Iie=typeof Symbol=="function"&&Symbol.observable||"@@observable",WD=Iie,sB=()=>Math.random().toString(36).substring(7).split("").join("."),Lie={INIT:`@@redux/INIT${sB()}`,REPLACE:`@@redux/REPLACE${sB()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sB()}`},zw=Lie;function H_(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function PQ(r,e,t){if(typeof r!="function")throw new Error(Ii(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ii(1));return t(PQ)(r,e)}let n=r,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,w)=>{i.set(w,v)}))}function A(){if(c)throw new Error(Ii(3));return a}function h(v){if(typeof v!="function")throw new Error(Ii(4));if(c)throw new Error(Ii(5));let w=!0;u();const S=l++;return i.set(S,v),function(){if(w){if(c)throw new Error(Ii(6));w=!1,u(),i.delete(S),s=null}}}function p(v){if(!H_(v))throw new Error(Ii(7));if(typeof v.type>"u")throw new Error(Ii(8));if(typeof v.type!="string")throw new Error(Ii(17));if(c)throw new Error(Ii(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(S=>{S()}),v}function m(v){if(typeof v!="function")throw new Error(Ii(10));n=v,p({type:zw.REPLACE})}function y(){const v=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ii(11));function S(){const E=w;E.next&&E.next(A())}return S(),{unsubscribe:v(S)}},[WD](){return this}}}return p({type:zw.INIT}),{dispatch:p,subscribe:h,getState:A,replaceReducer:m,[WD]:y}}function Mie(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:zw.INIT})>"u")throw new Error(Ii(12));if(typeof t(void 0,{type:zw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function IQ(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const i=e[s];typeof r[i]=="function"&&(t[i]=r[i])}const n=Object.keys(t);let a;try{Mie(t)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let A=0;A<n.length;A++){const h=n[A],p=t[h],m=i[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(Ii(14));u[h]=y,c=c||y!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Kw(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function Rie(...r){return e=>(t,n)=>{const a=e(t,n);let s=()=>{throw new Error(Ii(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=r.map(c=>c(i));return s=Kw(...l)(a.dispatch),{...a,dispatch:s}}}function LQ(r){return H_(r)&&"type"in r&&typeof r.type=="string"}var MQ=Symbol.for("immer-nothing"),YD=Symbol.for("immer-draftable"),ql=Symbol.for("immer-state");function yu(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Yp=Object.getPrototypeOf;function O0(r){return!!r&&!!r[ql]}function EA(r){return r?RQ(r)||Array.isArray(r)||!!r[YD]||!!r.constructor?.[YD]||Av(r)||NC(r):!1}var Uie=Object.prototype.constructor.toString();function RQ(r){if(!r||typeof r!="object")return!1;const e=Yp(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Uie}function $w(r,e){CC(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function CC(r){const e=r[ql];return e?e.type_:Array.isArray(r)?1:Av(r)?2:NC(r)?3:0}function b4(r,e){return CC(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function UQ(r,e,t){const n=CC(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function Qie(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Av(r){return r instanceof Map}function NC(r){return r instanceof Set}function e0(r){return r.copy_||r.base_}function w4(r,e){if(Av(r))return new Map(r);if(NC(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=RQ(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[ql];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[i]})}return Object.create(Yp(r),n)}else{const n=Yp(r);if(n!==null&&t)return{...r};const a=Object.create(n);return Object.assign(a,r)}}function z_(r,e=!1){return SC(r)||O0(r)||!EA(r)||(CC(r)>1&&Object.defineProperties(r,{set:{value:X1},add:{value:X1},clear:{value:X1},delete:{value:X1}}),Object.freeze(r),e&&Object.values(r).forEach(t=>z_(t,!0))),r}function X1(){yu(2)}function SC(r){return Object.isFrozen(r)}var Hie={};function D0(r){const e=Hie[r];return e||yu(0,r),e}var By;function QQ(){return By}function zie(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XD(r,e){e&&(D0("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function C4(r){N4(r),r.drafts_.forEach(Kie),r.drafts_=null}function N4(r){r===By&&(By=r.parent_)}function JD(r){return By=zie(By,r)}function Kie(r){const e=r[ql];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZD(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[ql].modified_&&(C4(e),yu(4)),EA(r)&&(r=Vw(e,r),e.parent_||qw(e,r)),e.patches_&&D0("Patches").generateReplacementPatches_(t[ql].base_,r,e.patches_,e.inversePatches_)):r=Vw(e,t,[]),C4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==MQ?r:void 0}function Vw(r,e,t){if(SC(e))return e;const n=e[ql];if(!n)return $w(e,(a,s)=>eP(r,n,e,a,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return qw(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),$w(s,(l,c)=>eP(r,n,a,l,c,t,i)),qw(r,a,!1),t&&r.patches_&&D0("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function eP(r,e,t,n,a,s,i){if(O0(a)){const l=s&&e&&e.type_!==3&&!b4(e.assigned_,n)?s.concat(n):void 0,c=Vw(r,a,l);if(UQ(t,n,c),O0(c))r.canAutoFreeze_=!1;else return}else i&&t.add(a);if(EA(a)&&!SC(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Vw(r,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Av(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&qw(r,a)}}function qw(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&z_(e,t)}function $ie(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:QQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=K_;t&&(a=[n],s=Ey);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var K_={get(r,e){if(e===ql)return r;const t=e0(r);if(!b4(t,e))return Vie(r,t,e);const n=t[e];return r.finalized_||!EA(n)?n:n===iB(r.base_,e)?(oB(r),r.copy_[e]=B4(n,r)):n},has(r,e){return e in e0(r)},ownKeys(r){return Reflect.ownKeys(e0(r))},set(r,e,t){const n=HQ(e0(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const a=iB(e0(r),e),s=a?.[ql];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(Qie(t,a)&&(t!==void 0||b4(r.base_,e)))return!0;oB(r),S4(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return iB(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,oB(r),S4(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=e0(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){yu(11)},getPrototypeOf(r){return Yp(r.base_)},setPrototypeOf(){yu(12)}},Ey={};$w(K_,(r,e)=>{Ey[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ey.deleteProperty=function(r,e){return Ey.set.call(this,r,e,void 0)};Ey.set=function(r,e,t){return K_.set.call(this,r[0],e,t,r[0])};function iB(r,e){const t=r[ql];return(t?e0(t):r)[e]}function Vie(r,e,t){const n=HQ(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function HQ(r,e){if(!(e in r))return;let t=Yp(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Yp(t)}}function S4(r){r.modified_||(r.modified_=!0,r.parent_&&S4(r.parent_))}function oB(r){r.copy_||(r.copy_=w4(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var qie=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const i=this;return function(c=s,...u){return i.produce(c,A=>t.call(this,A,...u))}}typeof t!="function"&&yu(6),n!==void 0&&typeof n!="function"&&yu(7);let a;if(EA(e)){const s=JD(this),i=B4(e,void 0);let l=!0;try{a=t(i),l=!1}finally{l?C4(s):N4(s)}return XD(s,n),ZD(a,s)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===MQ&&(a=void 0),this.autoFreeze_&&z_(a,!0),n){const s=[],i=[];D0("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else yu(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,t,(i,l)=>{n=i,a=l}),n,a]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){EA(r)||yu(8),O0(r)&&(r=yA(r));const e=JD(this),t=B4(r,void 0);return t[ql].isManual_=!0,N4(e),t}finishDraft(r,e){const t=r&&r[ql];(!t||!t.isManual_)&&yu(9);const{scope_:n}=t;return XD(n,e),ZD(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}t>-1&&(e=e.slice(t+1));const n=D0("Patches").applyPatches_;return O0(r)?n(r,e):this.produce(r,a=>n(a,e))}};function B4(r,e){const t=Av(r)?D0("MapSet").proxyMap_(r,e):NC(r)?D0("MapSet").proxySet_(r,e):$ie(r,e);return(e?e.scope_:QQ()).drafts_.push(t),t}function yA(r){return O0(r)||yu(10,r),zQ(r)}function zQ(r){if(!EA(r)||SC(r))return r;const e=r[ql];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=w4(r,e.scope_.immer_.useStrictShallowCopy_)}else t=w4(r,!0);return $w(t,(n,a)=>{UQ(t,n,zQ(a))}),e&&(e.finalized_=!1),t}var Gie=new qie,KQ=Gie.produce;function $Q(r){return({dispatch:t,getState:n})=>a=>s=>typeof s=="function"?s(t,n,r):a(s)}var Wie=$Q(),Yie=$Q,Xie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kw:Kw.apply(null,arguments)};function Fc(r,e){function t(...n){if(e){let a=e(...n);if(!a)throw new Error(zl(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>LQ(n)&&n.type===r,t}var VQ=class qx extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qx.prototype)}static get[Symbol.species](){return qx}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new qx(...e[0].concat(this)):new qx(...e.concat(this))}};function tP(r){return EA(r)?KQ(r,()=>{}):r}function J1(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function Jie(r){return typeof r=="boolean"}var Zie=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new VQ;return t&&(Jie(t)?i.push(Wie):i.push(Yie(t.extraArgument))),i},eoe="RTK_autoBatch",rP=r=>e=>{setTimeout(e,r)},toe=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let a=!0,s=!1,i=!1;const l=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rP(10):r.type==="callback"?r.queueNotification:rP(r.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(A=>A()))};return Object.assign({},n,{subscribe(A){const h=()=>a&&A(),p=n.subscribe(h);return l.add(A),()=>{p(),l.delete(A)}},dispatch(A){try{return a=!A?.meta?.[eoe],s=!a,s&&(i||(i=!0,c(u))),n.dispatch(A)}finally{a=!0}}})},roe=r=>function(t){const{autoBatch:n=!0}=t??{};let a=new VQ(r);return n&&a.push(toe(typeof n=="object"?n:void 0)),a};function noe(r){const e=Zie(),{reducer:t=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=r||{};let l;if(typeof t=="function")l=t;else if(H_(t))l=IQ(t);else throw new Error(zl(1));let c;typeof n=="function"?c=n(e):c=e();let u=Kw;a&&(u=Xie({trace:!1,...typeof a=="object"&&a}));const A=Rie(...c),h=roe(A);let p=typeof i=="function"?i(h):h();const m=u(...p);return PQ(l,s,m)}function qQ(r){const e={},t=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(zl(28));if(l in e)throw new Error(zl(29));return e[l]=i,a},addAsyncThunk(s,i){return i.pending&&(e[s.pending.type]=i.pending),i.rejected&&(e[s.rejected.type]=i.rejected),i.fulfilled&&(e[s.fulfilled.type]=i.fulfilled),i.settled&&t.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return t.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return r(a),[e,t,n]}function aoe(r){return typeof r=="function"}function soe(r,e){let[t,n,a]=qQ(e),s;if(aoe(r))s=()=>tP(r());else{const l=tP(r);s=()=>l}function i(l=s(),c){let u=[t[c.type],...n.filter(({matcher:A})=>A(c)).map(({reducer:A})=>A)];return u.filter(A=>!!A).length===0&&(u=[a]),u.reduce((A,h)=>{if(h)if(O0(A)){const m=h(A,c);return m===void 0?A:m}else{if(EA(A))return KQ(A,p=>h(p,c));{const p=h(A,c);if(p===void 0){if(A===null)return A;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return A},l)}return i.getInitialState=s,i}var ioe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ooe=(r=21)=>{let e="",t=r;for(;t--;)e+=ioe[Math.random()*64|0];return e},loe=Symbol.for("rtk-slice-createasyncthunk");function coe(r,e){return`${r}/${e}`}function uoe({creators:r}={}){const e=r?.asyncThunk?.[loe];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(zl(11));const i=(typeof n.reducers=="function"?n.reducers(Aoe()):n.reducers)||{},l=Object.keys(i),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,E){const _=typeof C=="string"?C:C.type;if(!_)throw new Error(zl(12));if(_ in c.sliceCaseReducersByType)throw new Error(zl(13));return c.sliceCaseReducersByType[_]=E,u},addMatcher(C,E){return c.sliceMatchers.push({matcher:C,reducer:E}),u},exposeAction(C,E){return c.actionCreators[C]=E,u},exposeCaseReducer(C,E){return c.sliceCaseReducersByName[C]=E,u}};l.forEach(C=>{const E=i[C],_={reducerName:C,type:coe(a,C),createNotation:typeof n.reducers=="function"};foe(E)?poe(_,E,u,e):hoe(_,E,u)});function A(){const[C={},E=[],_=void 0]=typeof n.extraReducers=="function"?qQ(n.extraReducers):[n.extraReducers],L={...C,...c.sliceCaseReducersByType};return soe(n.initialState,D=>{for(let P in L)D.addCase(P,L[P]);for(let P of c.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of E)D.addMatcher(P.matcher,P.reducer);_&&D.addDefaultCase(_)})}const h=C=>C,p=new Map,m=new WeakMap;let y;function g(C,E){return y||(y=A()),y(C,E)}function v(){return y||(y=A()),y.getInitialState()}function w(C,E=!1){function _(D){let P=D[C];return typeof P>"u"&&E&&(P=J1(m,_,v)),P}function L(D=h){const P=J1(p,E,()=>new WeakMap);return J1(P,D,()=>{const k={};for(const[z,I]of Object.entries(n.selectors??{}))k[z]=doe(I,D,()=>J1(m,D,v),E);return k})}return{reducerPath:C,getSelectors:L,get selectors(){return L(_)},selectSlice:_}}const S={name:a,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...w(s),injectInto(C,{reducerPath:E,..._}={}){const L=E??s;return C.inject({reducerPath:L,reducer:g},_),{...S,...w(L,!0)}}};return S}}function doe(r,e,t,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=t()),r(l,...i)}return a.unwrapped=r,a}var Jl=uoe();function Aoe(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function hoe({type:r,reducerName:e,createNotation:t},n,a){let s,i;if("reducer"in n){if(t&&!moe(n))throw new Error(zl(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,i?Fc(r,i):Fc(r))}function foe(r){return r._reducerDefinitionType==="asyncThunk"}function moe(r){return r._reducerDefinitionType==="reducerWithPrepare"}function poe({type:r,reducerName:e},t,n,a){if(!a)throw new Error(zl(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:A}=t,h=a(r,s,A);n.exposeAction(e,h),i&&n.addCase(h.fulfilled,i),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Z1,pending:l||Z1,rejected:c||Z1,settled:u||Z1})}function Z1(){}var goe="task",GQ="listener",WQ="completed",$_="cancelled",xoe=`task-${$_}`,yoe=`task-${WQ}`,E4=`${GQ}-${$_}`,voe=`${GQ}-${WQ}`,BC=class{constructor(r){this.code=r,this.message=`${goe} ${$_} (reason: ${r})`}name="TaskAbortError";message},V_=(r,e)=>{if(typeof r!="function")throw new TypeError(zl(32))},Gw=()=>{},YQ=(r,e=Gw)=>(r.catch(e),r),XQ=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),b0=(r,e)=>{const t=r.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},w0=r=>{if(r.aborted){const{reason:e}=r;throw new BC(e)}};function JQ(r,e){let t=Gw;return new Promise((n,a)=>{const s=()=>a(new BC(r.reason));if(r.aborted){s();return}t=XQ(r,s),e.finally(()=>t()).then(n,a)}).finally(()=>{t=Gw})}var boe=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof BC?"cancelled":"rejected",error:t}}finally{e?.()}},Ww=r=>e=>YQ(JQ(r,e).then(t=>(w0(r),t))),ZQ=r=>{const e=Ww(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:_p}=Object,nP={},EC="listenerMiddleware",woe=(r,e)=>{const t=n=>XQ(r,()=>b0(n,r.reason));return(n,a)=>{V_(n);const s=new AbortController;t(s);const i=boe(async()=>{w0(r),w0(s.signal);const l=await n({pause:Ww(s.signal),delay:ZQ(s.signal),signal:s.signal});return w0(s.signal),l},()=>b0(s,yoe));return a?.autoJoin&&e.push(i.catch(Gw)),{result:Ww(r)(i),cancel(){b0(s,xoe)}}}},Coe=(r,e)=>{const t=async(n,a)=>{w0(e);let s=()=>{};const l=[new Promise((c,u)=>{let A=r({predicate:n,effect:(h,p)=>{p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=()=>{A(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await JQ(e,Promise.race(l));return w0(e),c}finally{s()}};return(n,a)=>YQ(t(n,a))},eH=r=>{let{type:e,actionCreator:t,matcher:n,predicate:a,effect:s}=r;if(e)a=Fc(e).match;else if(t)e=t.type,a=t.match;else if(n)a=n;else if(!a)throw new Error(zl(21));return V_(s),{predicate:a,type:e,effect:s}},tH=_p(r=>{const{type:e,predicate:t,effect:n}=eH(r);return{id:ooe(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(zl(22))}}},{withTypes:()=>tH}),aP=(r,e)=>{const{type:t,effect:n,predicate:a}=eH(e);return Array.from(r.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===a)&&s.effect===n)},j4=r=>{r.pending.forEach(e=>{b0(e,E4)})},Noe=r=>()=>{r.forEach(j4),r.clear()},sP=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},rH=_p(Fc(`${EC}/add`),{withTypes:()=>rH}),Soe=Fc(`${EC}/removeAll`),nH=_p(Fc(`${EC}/remove`),{withTypes:()=>nH}),Boe=(...r)=>{console.error(`${EC}/error`,...r)},hv=(r={})=>{const e=new Map,{extra:t,onError:n=Boe}=r;V_(n);const a=A=>(A.unsubscribe=()=>e.delete(A.id),e.set(A.id,A),h=>{A.unsubscribe(),h?.cancelActive&&j4(A)}),s=A=>{const h=aP(e,A)??tH(A);return a(h)};_p(s,{withTypes:()=>s});const i=A=>{const h=aP(e,A);return h&&(h.unsubscribe(),A.cancelActive&&j4(h)),!!h};_p(i,{withTypes:()=>i});const l=async(A,h,p,m)=>{const y=new AbortController,g=Coe(s,y.signal),v=[];try{A.pending.add(y),await Promise.resolve(A.effect(h,_p({},p,{getOriginalState:m,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:ZQ(y.signal),pause:Ww(y.signal),extra:t,signal:y.signal,fork:woe(y.signal,v),unsubscribe:A.unsubscribe,subscribe:()=>{e.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((w,S,C)=>{w!==y&&(b0(w,E4),C.delete(w))})},cancel:()=>{b0(y,E4),A.pending.delete(y)},throwIfCancelled:()=>{w0(y.signal)}})))}catch(w){w instanceof BC||sP(n,w,{raisedBy:"effect"})}finally{await Promise.all(v),b0(y,voe),A.pending.delete(y)}},c=Noe(e);return{middleware:A=>h=>p=>{if(!LQ(p))return h(p);if(rH.match(p))return s(p.payload);if(Soe.match(p)){c();return}if(nH.match(p))return i(p.payload);let m=A.getState();const y=()=>{if(m===nP)throw new Error(zl(23));return m};let g;try{if(g=h(p),e.size>0){const v=A.getState(),w=Array.from(e.values());for(const S of w){let C=!1;try{C=S.predicate(p,v,m)}catch(E){C=!1,sP(n,E,{raisedBy:"predicate"})}C&&l(S,p,A,y)}}}finally{m=nP}return g},startListening:s,stopListening:i,clearListeners:c}};function zl(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Eoe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aH=Jl({name:"chartLayout",initialState:Eoe,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,a,s;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,r.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:joe,setLayout:_oe,setChartSize:Toe,setScale:koe}=aH.actions,Foe=aH.reducer;function iP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function oP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(t),!0).forEach(function(n){Ooe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ooe(r,e,t){return(e=Doe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Doe(r){var e=Poe(r,"string");return typeof e=="symbol"?e:e+""}function Poe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Yw=Math.PI/180,Ioe=r=>r*180/Math.PI,Ps=(r,e,t,n)=>({x:r+Math.cos(-Yw*n)*t,y:e+Math.sin(-Yw*n)*t}),sH=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Loe=(r,e)=>{var{x:t,y:n}=r,{x:a,y:s}=e;return Math.sqrt((t-a)**2+(n-s)**2)},Moe=(r,e)=>{var{x:t,y:n}=r,{cx:a,cy:s}=e,i=Loe({x:t,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(t-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:Ioe(c),angleInRadian:c}},Roe=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),a=Math.floor(t/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:t-s*360}},Uoe=(r,e)=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),i=Math.min(a,s);return r+i*360},Qoe=(r,e)=>{var{x:t,y:n}=r,{radius:a,angle:s}=Moe({x:t,y:n},e),{innerRadius:i,outerRadius:l}=e;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=Roe(e),A=s,h;if(c<=u){for(;A>u;)A-=360;for(;A<c;)A+=360;h=A>=c&&A<=u}else{for(;A>c;)A-=360;for(;A<u;)A+=360;h=A>=u&&A<=c}return h?oP(oP({},e),{},{radius:a,angle:Uoe(A,e)}):null};function iH(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function lP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Sc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(t),!0).forEach(function(n){Hoe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hoe(r,e,t){return(e=zoe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zoe(r){var e=Koe(r,"string");return typeof e=="symbol"?e:e+""}function Koe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ka(r,e,t){return wi(r)||wi(e)?t:wd(e)?F0(r,e,t):typeof e=="function"?e(r):t}var $oe=(r,e,t,n,a)=>{var s,i=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||r==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?t[c-1].coordinate:t[l-1].coordinate,A=t[c].coordinate,h=c>=l-1?t[0].coordinate:t[c+1].coordinate,p=void 0;if(gi(A-u)!==gi(h-A)){var m=[];if(gi(h-A)===gi(a[1]-a[0])){p=h;var y=A+a[1]-a[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{p=u;var g=h+a[1]-a[0];m[0]=Math.min(A,(g+A)/2),m[1]=Math.max(A,(g+A)/2)}var v=[Math.min(A,(p+A)/2),Math.max(A,(p+A)/2)];if(r>v[0]&&r<=v[1]||r>=m[0]&&r<=m[1]){({index:i}=t[c]);break}}else{var w=Math.min(u,h),S=Math.max(u,h);if(r>(w+A)/2&&r<=(S+A)/2){({index:i}=t[c]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&r<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&r>(e[C].coordinate+e[C-1].coordinate)/2&&r<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&r>(e[C].coordinate+e[C-1].coordinate)/2){({index:i}=e[C]);break}}return i},Voe=(r,e,t)=>{if(e&&t){var{width:n,height:a}=t,{align:s,verticalAlign:i,layout:l}=e;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&xr(r[s]))return Sc(Sc({},r),{},{[s]:r[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&xr(r[i]))return Sc(Sc({},r),{},{[i]:r[i]+(a||0)})}return r},V0=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",oH=(r,e,t,n)=>{if(n)return r.map(l=>l.coordinate);var a,s,i=r.map(l=>(l.coordinate===e&&(a=!0),l.coordinate===t&&(s=!0),l.coordinate));return a||i.push(e),s||i.push(t),i},lH=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:A,ticks:h,niceTicks:p,axisType:m}=r;if(!i)return null;var y=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/y:0;if(g=m==="angleAxis"&&s&&s.length>=2?gi(s[0]-s[1])*2*g:g,h||p){var v=(h||p||[]).map((w,S)=>{var C=n?n.indexOf(w):w;return{coordinate:i(C)+g,value:w,offset:g,index:S}});return v.filter(w=>!Vl(w.coordinate))}return c&&u?u.map((w,S)=>({coordinate:i(w)+g,value:w,index:S,offset:g})):i.ticks&&A!=null?i.ticks(A).map((w,S)=>({coordinate:i(w)+g,value:w,offset:g,index:S})):i.domain().map((w,S)=>({coordinate:i(w)+g,value:n?n[w]:w,index:S,offset:g}))},cP=1e-4,qoe=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),a=Math.min(n[0],n[1])-cP,s=Math.max(n[0],n[1])+cP,i=r(e[0]),l=r(e[t-1]);(i<a||i>s||l<a||l>s)&&r.domain([e[0],e[t-1]])}},Goe=(r,e)=>{if(!e||e.length!==2||!xr(e[0])||!xr(e[1]))return r;var t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),a=[r[0],r[1]];return(!xr(r[0])||r[0]<t)&&(a[0]=t),(!xr(r[1])||r[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<t&&(a[1]=t),a},Woe=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0,i=0;i<e;++i){var l=Vl(r[i][t][1])?r[i][t][0]:r[i][t][1];l>=0?(r[i][t][0]=a,r[i][t][1]=a+l,a=r[i][t][1]):(r[i][t][0]=s,r[i][t][1]=s+l,s=r[i][t][1])}},Yoe=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0;s<e;++s){var i=Vl(r[s][t][1])?r[s][t][0]:r[s][t][1];i>=0?(r[s][t][0]=a,r[s][t][1]=a+i,a=r[s][t][1]):(r[s][t][0]=0,r[s][t][1]=0)}},Xoe={sign:Woe,expand:Bse,none:Wp,silhouette:Ese,wiggle:jse,positive:Yoe},Joe=(r,e,t)=>{var n=Xoe[t],a=Sse().keys(e).value((s,i)=>+Ka(s,i,0)).order(x4).offset(n);return a(r)};function Zoe(r){return r==null?void 0:String(r)}var uP=r=>{var{axis:e,ticks:t,offset:n,bandSize:a,entry:s,index:i}=r;if(e.type==="category")return t[i]?t[i].coordinate+n:null;var l=Ka(s,e.dataKey,e.scale.domain()[i]);return wi(l)?null:e.scale(l)-a/2+n},ele=r=>{var{numericAxis:e}=r,t=e.scale.domain();if(e.type==="number"){var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return n<=0&&a>=0?0:a<0?a:n}return t[0]},tle=r=>{var e=r.flat(2).filter(xr);return[Math.min(...e),Math.max(...e)]},rle=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],nle=(r,e,t)=>{if(r!=null)return rle(Object.keys(r).reduce((n,a)=>{var s=r[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var A=iH(u,e,t),h=tle(A);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},dP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q_=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var a=wC(e,A=>A.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function hP(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:a,name:s}=r;return Sc(Sc({},e),{},{dataKey:t,payload:n,value:a,name:s})}function jC(r,e){if(r)return String(r);if(typeof e=="string")return e}function ale(r,e,t,n,a){if(t==="horizontal"||t==="vertical"){var s=r>=a.left&&r<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:r,y:e}:null}return n?Qoe({x:r,y:e},n):null}var sle=(r,e,t,n)=>{var a=e.find(u=>u&&u.index===t);if(a){if(r==="horizontal")return{x:a.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:a.coordinate};if(r==="centric"){var s=a.coordinate,{radius:i}=n;return Sc(Sc(Sc({},n),Ps(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return Sc(Sc(Sc({},n),Ps(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},ile=(r,e)=>e==="horizontal"?r.x:e==="vertical"?r.y:e==="centric"?r.angle:r.radius,MA=r=>r.layout.width,RA=r=>r.layout.height,ole=r=>r.layout.scale,cH=r=>r.layout.margin,_C=Ze(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),TC=Ze(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),uH="data-recharts-item-index",dH="data-recharts-item-data-key",fv=60;function fP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function eb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(t),!0).forEach(function(n){lle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lle(r,e,t){return(e=cle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cle(r){var e=ule(r,"string");return typeof e=="symbol"?e:e+""}function ule(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var dle=r=>r.brush.height;function Ale(r){var e=TC(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fv;return t+a}return t},0)}function hle(r){var e=TC(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fv;return t+a}return t},0)}function fle(r){var e=_C(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function mle(r){var e=_C(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var ri=Ze([MA,RA,cH,dle,Ale,hle,fle,mle,OQ,Fie],(r,e,t,n,a,s,i,l,c,u)=>{var A={left:(t.left||0)+a,right:(t.right||0)+s},h={top:(t.top||0)+i,bottom:(t.bottom||0)+l},p=eb(eb({},h),A),m=p.bottom;p.bottom+=n,p=Voe(p,c,u);var y=r-p.left-p.right,g=e-p.top-p.bottom;return eb(eb({brushBottom:m},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),ple=Ze(ri,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),G_=Ze(MA,RA,(r,e)=>({x:0,y:0,width:r,height:e})),gle=B.createContext(null),Lc=()=>B.useContext(gle)!=null,kC=r=>r.brush,FC=Ze([kC,ri,cH],(r,e,t)=>({height:r.height,x:xr(r.x)?r.x:e.left,y:xr(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:xr(r.width)?r.width:e.width})),W_=()=>{var r,e=Lc(),t=hr(ple),n=hr(FC),a=(r=hr(kC))===null||r===void 0?void 0:r.padding;return!e||!n||!a?t:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},xle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AH=()=>{var r;return(r=hr(ri))!==null&&r!==void 0?r:xle},Y_=()=>hr(MA),X_=()=>hr(RA),yle=()=>hr(r=>r.layout.margin),wn=r=>r.layout.layoutType,J_=()=>hr(wn),vle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hH=Jl({name:"legend",initialState:vle,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload(r,e){r.payload.push(e.payload)},removeLegendPayload(r,e){var t=yA(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)}}}),{setLegendSize:mP,setLegendSettings:ble,addLegendPayload:fH,removeLegendPayload:mH}=hH.actions,wle=hH.reducer,Cle=["contextPayload"];function _4(){return _4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},_4.apply(null,arguments)}function pP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Xp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(t),!0).forEach(function(n){Z_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Z_(r,e,t){return(e=Nle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nle(r){var e=Sle(r,"string");return typeof e=="symbol"?e:e+""}function Sle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ble(r,e){if(r==null)return{};var t,n,a=Ele(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Ele(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function jle(r){return r.value}function _le(r){var{contextPayload:e}=r,t=Ble(r,Cle),n=_Q(e,r.payloadUniqBy,jle),a=Xp(Xp({},t),{},{payload:n});return B.isValidElement(r.content)?B.cloneElement(r.content,a):typeof r.content=="function"?B.createElement(r.content,a):B.createElement(M_,a)}function Tle(r,e,t,n,a,s){var{layout:i,align:l,verticalAlign:c}=e,u,A;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(c==="middle"?A={top:((a||0)-s.height)/2}:A=c==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),Xp(Xp({},u),A)}function kle(r){var e=qa();return B.useEffect(()=>{e(ble(r))},[e,r]),null}function Fle(r){var e=qa();return B.useEffect(()=>(e(mP(r)),()=>{e(mP({width:0,height:0}))}),[e,r]),null}function Ole(r){var e=Pie(),t=Wae(),n=yle(),{width:a,height:s,wrapperStyle:i,portal:l}=r,[c,u]=DQ([e]),A=Y_(),h=X_();if(A==null||h==null)return null;var p=A-(n.left||0)-(n.right||0),m=jy.getWidthOrHeight(r.layout,s,a,p),y=l?i:Xp(Xp({position:"absolute",width:m?.width||a||"auto",height:m?.height||s||"auto"},Tle(i,r,n,A,h,c)),i),g=l??t;if(g==null)return null;var v=B.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},B.createElement(kle,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),B.createElement(Fle,{width:c.width,height:c.height}),B.createElement(_le,_4({},r,m,{margin:n,chartWidth:A,chartHeight:h,contextPayload:e})));return G8.createPortal(v,g)}class jy extends B.PureComponent{static getWidthOrHeight(e,t,n,a){return e==="vertical"&&xr(t)?{height:t}:e==="horizontal"?{width:n||a}:null}render(){return B.createElement(Ole,this.props)}}Z_(jy,"displayName","Legend");Z_(jy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function T4(){return T4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},T4.apply(null,arguments)}function gP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function lB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(t),!0).forEach(function(n){Dle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Dle(r,e,t){return(e=Ple(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ple(r){var e=Ile(r,"string");return typeof e=="symbol"?e:e+""}function Ile(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Lle(r){return Array.isArray(r)&&wd(r[0])&&wd(r[1])?r.join(" ~ "):r}var Mle=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:A,labelFormatter:h,accessibilityLayer:p=!1}=r,m=()=>{if(s&&s.length){var _={padding:0,margin:0},L=(l?wC(s,l):s).map((D,P)=>{if(D.type==="none")return null;var k=D.formatter||i||Lle,{value:z,name:I}=D,Q=z,R=I;if(k){var K=k(z,I,D,P,s);if(Array.isArray(K))[Q,R]=K;else if(K!=null)Q=K;else return null}var ee=lB({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ee},wd(R)?B.createElement("span",{className:"recharts-tooltip-item-name"},R):null,wd(R)?B.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,B.createElement("span",{className:"recharts-tooltip-item-value"},Q),B.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:_},L)}return null},y=lB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),g=lB({margin:0},a),v=!wi(A),w=v?A:"",S=An("recharts-default-tooltip",c),C=An("recharts-tooltip-label",u);v&&h&&s!==void 0&&s!==null&&(w=h(A,s));var E=p?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",T4({className:S,style:y},E),B.createElement("p",{className:C,style:g},B.isValidElement(w)?w:"".concat(w)),m())},Bx="recharts-tooltip-wrapper",Rle={visibility:"hidden"};function Ule(r){var{coordinate:e,translateX:t,translateY:n}=r;return An(Bx,{["".concat(Bx,"-right")]:xr(t)&&e&&xr(e.x)&&t>=e.x,["".concat(Bx,"-left")]:xr(t)&&e&&xr(e.x)&&t<e.x,["".concat(Bx,"-bottom")]:xr(n)&&e&&xr(e.y)&&n>=e.y,["".concat(Bx,"-top")]:xr(n)&&e&&xr(e.y)&&n<e.y})}function xP(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=r;if(s&&xr(s[n]))return s[n];var A=t[n]-l-(a>0?a:0),h=t[n]+a;if(e[n])return i[n]?A:h;var p=c[n];if(p==null)return 0;if(i[n]){var m=A,y=p;return m<y?Math.max(h,p):Math.max(A,p)}if(u==null)return 0;var g=h+l,v=p+u;return g>v?Math.max(A,p):Math.max(h,p)}function Qle(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Hle(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=r,u,A,h;return i.height>0&&i.width>0&&t?(A=xP({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),h=xP({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=Qle({translateX:A,translateY:h,useTranslate3d:l})):u=Rle,{cssProperties:u,cssClasses:Ule({translateX:A,translateY:h,coordinate:t})}}function yP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function tb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(t),!0).forEach(function(n){k4(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function k4(r,e,t){return(e=zle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zle(r){var e=Kle(r,"string");return typeof e=="symbol"?e:e+""}function Kle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class $le extends B.PureComponent{constructor(){super(...arguments),k4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),k4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:A,reverseDirection:h,useTranslate3d:p,viewBox:m,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:w}=this.props,{cssClasses:S,cssProperties:C}=Hle({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:u,position:A,reverseDirection:h,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),E=w?{}:tb(tb({transition:c&&e?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=tb(tb({},E),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return B.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:_,ref:v},s)}}var Vle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),q0={devToolsEnabled:!1,isSsr:Vle()},pH=()=>hr(r=>r.rootProps.accessibilityLayer);function Gl(r){return Number.isFinite(r)}function Jp(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function F4(){return F4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},F4.apply(null,arguments)}function vP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function bP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(t),!0).forEach(function(n){qle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qle(r,e,t){return(e=Gle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Gle(r){var e=Wle(r,"string");return typeof e=="symbol"?e:e+""}function Wle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var wP={curveBasisClosed:fse,curveBasisOpen:mse,curveBasis:hse,curveBumpX:Zae,curveBumpY:ese,curveLinearClosed:pse,curveLinear:vC,curveMonotoneX:gse,curveMonotoneY:xse,curveNatural:yse,curveStep:vse,curveStepAfter:wse,curveStepBefore:bse},rb=r=>Gl(r.x)&&Gl(r.y),Ex=r=>r.x,jx=r=>r.y,Yle=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(uv(r));return(t==="curveMonotone"||t==="curveBump")&&e?wP["".concat(t).concat(e==="vertical"?"Y":"X")]:wP[t]||vC},Xle=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:a,connectNulls:s=!1}=r,i=Yle(e,a),l=s?t.filter(rb):t,c;if(Array.isArray(n)){var u=s?n.filter(h=>rb(h)):n,A=l.map((h,p)=>bP(bP({},h),{},{base:u[p]}));return a==="vertical"?c=G1().y(jx).x1(Ex).x0(h=>h.base.x):c=G1().x(Ex).y1(jx).y0(h=>h.base.y),c.defined(rb).curve(i),c(A)}return a==="vertical"&&xr(n)?c=G1().y(jx).x1(Ex).x0(n):xr(n)?c=G1().x(Ex).y1(jx).y0(n):c=cQ().x(Ex).y(jx),c.defined(rb).curve(i),c(l)},gH=r=>{var{className:e,points:t,path:n,pathRef:a}=r;if((!t||!t.length)&&!n)return null;var s=t&&t.length?Xle(r):n;return B.createElement("path",F4({},mf(r),Rae(r),{className:An("recharts-curve",e),d:s===null?void 0:s,ref:a}))},Jle=["x","y","top","left","width","height","className"];function O4(){return O4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},O4.apply(null,arguments)}function CP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Zle(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(t),!0).forEach(function(n){ece(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ece(r,e,t){return(e=tce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tce(r){var e=rce(r,"string");return typeof e=="symbol"?e:e+""}function rce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function nce(r,e){if(r==null)return{};var t,n,a=ace(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function ace(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var sce=(r,e,t,n,a,s)=>"M".concat(r,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(t),ice=r=>{var{x:e=0,y:t=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=r,c=nce(r,Jle),u=Zle({x:e,y:t,top:n,left:a,width:s,height:i},c);return!xr(e)||!xr(t)||!xr(s)||!xr(i)||!xr(n)||!xr(a)?null:B.createElement("path",O4({},ti(u,!0),{className:An("recharts-cross",l),d:sce(e,t,s,i,n,a)}))};function oce(r,e,t,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-a:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-a,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function NP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function lce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(t),!0).forEach(function(n){cce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cce(r,e,t){return(e=uce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uce(r){var e=dce(r,"string");return typeof e=="symbol"?e:e+""}function dce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Do(r,e){var t=lce({},r),n=e,a=Object.keys(e),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),t);return s}function Ace(){}function SP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function BP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(t),!0).forEach(function(n){hce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hce(r,e,t){return(e=fce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fce(r){var e=mce(r,"string");return typeof e=="symbol"?e:e+""}function mce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var pce=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),xH=(r,e,t)=>r.map(n=>"".concat(pce(n)," ").concat(e,"ms ").concat(t)).join(","),gce=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(a=>n.includes(a))),_y=(r,e)=>Object.keys(e).reduce((t,n)=>BP(BP({},t),{},{[n]:r(n,e[n])}),{});function EP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ri(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(t),!0).forEach(function(n){xce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):EP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xce(r,e,t){return(e=yce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yce(r){var e=vce(r,"string");return typeof e=="symbol"?e:e+""}function vce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Xw=(r,e,t)=>r+(e-r)*t,D4=r=>{var{from:e,to:t}=r;return e!==t},yH=(r,e,t)=>{var n=_y((a,s)=>{if(D4(s)){var[i,l]=r(s.from,s.to,s.velocity);return Ri(Ri({},s),{},{from:i,velocity:l})}return s},e);return t<1?_y((a,s)=>D4(s)?Ri(Ri({},s),{},{velocity:Xw(s.velocity,n[a].velocity,t),from:Xw(s.from,n[a].from,t)}):s,e):yH(r,n,t-1)};function bce(r,e,t,n,a,s){var i,l=n.reduce((p,m)=>Ri(Ri({},p),{},{[m]:{from:r[m],velocity:0,to:e[m]}}),{}),c=()=>_y((p,m)=>m.from,l),u=()=>!Object.values(l).filter(D4).length,A=null,h=p=>{i||(i=p);var m=p-i,y=m/t.dt;l=yH(t,l,y),a(Ri(Ri(Ri({},r),e),c())),i=p,u()||(A=s.setTimeout(h))};return()=>(A=s.setTimeout(h),()=>{A()})}function wce(r,e,t,n,a,s,i){var l=null,c=a.reduce((h,p)=>Ri(Ri({},h),{},{[p]:[r[p],e[p]]}),{}),u,A=h=>{u||(u=h);var p=(h-u)/n,m=_y((g,v)=>Xw(...v,t(p)),c);if(s(Ri(Ri(Ri({},r),e),m)),p<1)l=i.setTimeout(A);else{var y=_y((g,v)=>Xw(...v,t(1)),c);s(Ri(Ri(Ri({},r),e),y))}};return()=>(l=i.setTimeout(A),()=>{l()})}const Cce=(r,e,t,n,a,s)=>{var i=gce(r,e);return t.isStepper===!0?bce(r,e,t,i,a,s):wce(r,e,t,n,i,a,s)};var Jw=1e-4,vH=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],bH=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),jP=(r,e)=>t=>{var n=vH(r,e);return bH(n,t)},Nce=(r,e)=>t=>{var n=vH(r,e),a=[...n.map((s,i)=>s*i).slice(1),0];return bH(a,t)},_P=function(){for(var e,t,n,a,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];if(i.length===1)switch(i[0]){case"linear":[e,n,t,a]=[0,0,1,1];break;case"ease":[e,n,t,a]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,a]=[.42,0,1,1];break;case"ease-out":[e,n,t,a]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,a]=[0,0,.58,1];break;default:{var c=i[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,t,a]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else i.length===4&&([e,n,t,a]=i);var u=jP(e,t),A=jP(n,a),h=Nce(e,t),p=y=>y>1?1:y<0?0:y,m=y=>{for(var g=y>1?1:y,v=g,w=0;w<8;++w){var S=u(v)-g,C=h(v);if(Math.abs(S-g)<Jw||C<Jw)return A(v);v=p(v-S/C)}return A(v)};return m.isStepper=!1,m},Sce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:a=17}=e,s=(i,l,c)=>{var u=-(i-l)*t,A=c*n,h=c+(u-A)*a/1e3,p=c*a/1e3+i;return Math.abs(p-l)<Jw&&Math.abs(h)<Jw?[l,0]:[p,h]};return s.isStepper=!0,s.dt=a,s},Bce=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _P(r);case"spring":return Sce();default:if(r.split("(")[0]==="cubic-bezier")return _P(r)}return typeof r=="function"?r:null};function Ece(r){var e,t=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=r.setTimeout(s.bind(null,u),c);return}s(c),a=r.setTimeout(s.bind(null,u));return}typeof i=="string"&&(e=i,t(e)),typeof i=="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(t=i,()=>{t=()=>null}),getTimeoutController:()=>r}}class jce{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=t?e(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function _ce(){return Ece(new jce)}var Tce=B.createContext(_ce);function kce(r,e){var t=B.useContext(Tce);return B.useMemo(()=>e??t(r),[r,e,t])}var Fce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TP={t:0},cB={t:1};function OC(r){var e=Do(r,Fce),{isActive:t,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=e,A=kce(e.animationId,e.animationManager),[h,p]=B.useState(t?TP:cB),m=B.useRef(null);return B.useEffect(()=>{t||p(cB)},[t]),B.useEffect(()=>{if(!t||!n)return Ace;var y=Cce(TP,cB,Bce(s),a,p,A.getTimeoutController()),g=()=>{m.current=y()};return A.start([c,i,g,a,l]),()=>{A.stop(),m.current&&m.current(),l()}},[t,n,a,s,i,c,l,A]),u(h.t)}function DC(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=B.useRef(Sy(e)),n=B.useRef(r);return n.current!==r&&(t.current=Sy(e),n.current=r),t.current}function kP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function FP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(t),!0).forEach(function(n){Oce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Oce(r,e,t){return(e=Dce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dce(r){var e=Pce(r,"string");return typeof e=="symbol"?e:e+""}function Pce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Zw.apply(null,arguments)}var OP=(r,e,t,n,a)=>{var s=Math.min(Math.abs(t)/2,Math.abs(n)/2),i=n>=0?1:-1,l=t>=0?1:-1,c=n>=0&&t>=0||n<0&&t<0?1:0,u;if(s>0&&a instanceof Array){for(var A=[0,0,0,0],h=0,p=4;h<p;h++)A[h]=a[h]>s?s:a[h];u="M".concat(r,",").concat(e+i*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(c,",").concat(r+l*A[0],",").concat(e)),u+="L ".concat(r+t-l*A[1],",").concat(e),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(c,`,
        `).concat(r+t,",").concat(e+i*A[1])),u+="L ".concat(r+t,",").concat(e+n-i*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(c,`,
        `).concat(r+t-l*A[2],",").concat(e+n)),u+="L ".concat(r+l*A[3],",").concat(e+n),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(c,`,
        `).concat(r,",").concat(e+n-i*A[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(r,",").concat(e+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+l*m,",").concat(e,`
            L `).concat(r+t-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+t,",").concat(e+i*m,`
            L `).concat(r+t,",").concat(e+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+t-l*m,",").concat(e+n,`
            L `).concat(r+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r,",").concat(e+n-i*m," Z")}else u="M ".concat(r,",").concat(e," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return u},Ice={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wH=r=>{var e=Do(r,Ice),t=B.useRef(null),[n,a]=B.useState(-1);B.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var K=t.current.getTotalLength();K&&a(K)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:A}=e,{animationEasing:h,animationDuration:p,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:g}=e,v=B.useRef(l),w=B.useRef(c),S=B.useRef(s),C=B.useRef(i),E=B.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),_=DC(E,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var L=An("recharts-rectangle",A);if(!g)return B.createElement("path",Zw({},ti(e,!0),{className:L,d:OP(s,i,l,c,u)}));var D=v.current,P=w.current,k=S.current,z=C.current,I="0px ".concat(n===-1?1:n,"px"),Q="".concat(n,"px 0px"),R=xH(["strokeDasharray"],p,typeof h=="string"?h:void 0);return B.createElement(OC,{animationId:_,key:_,canBegin:n>0,duration:p,easing:h,isActive:g,begin:m},K=>{var ee=Qi(D,l,K),Y=Qi(P,c,K),se=Qi(k,s,K),X=Qi(z,i,K);t.current&&(v.current=ee,w.current=Y,S.current=se,C.current=X);var Ae;return y?K>0?Ae={transition:R,strokeDasharray:Q}:Ae={strokeDasharray:I}:Ae={strokeDasharray:Q},B.createElement("path",Zw({},ti(e,!0),{className:L,d:OP(se,X,ee,Y,u),ref:t,style:FP(FP({},Ae),e.style)}))})};function CH(r){var{cx:e,cy:t,radius:n,startAngle:a,endAngle:s}=r,i=Ps(e,t,n,a),l=Ps(e,t,n,s);return{points:[i,l],cx:e,cy:t,radius:n,startAngle:a,endAngle:s}}function P4(){return P4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},P4.apply(null,arguments)}var Lce=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},nb=r=>{var{cx:e,cy:t,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=r,u=l*(i?1:-1)+n,A=Math.asin(l/u)/Yw,h=c?a:a+s*A,p=Ps(e,t,u,h),m=Ps(e,t,n,h),y=c?a-s*A:a,g=Ps(e,t,u*Math.cos(A*Yw),y);return{center:p,circleTangency:m,lineTangency:g,theta:A}},NH=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=r,l=Lce(s,i),c=s+l,u=Ps(e,t,a,s),A=Ps(e,t,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(n>0){var p=Ps(e,t,n,s),m=Ps(e,t,n,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},Mce=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=r,A=gi(u-c),{circleTangency:h,lineTangency:p,theta:m}=nb({cx:e,cy:t,radius:a,angle:c,sign:A,cornerRadius:s,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=nb({cx:e,cy:t,radius:a,angle:u,sign:-A,cornerRadius:s,cornerIsExternal:l}),w=l?Math.abs(c-u):Math.abs(c-u)-m-v;if(w<0)return i?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):NH({cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:E,theta:_}=nb({cx:e,cy:t,radius:n,angle:c,sign:A,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:L,lineTangency:D,theta:P}=nb({cx:e,cy:t,radius:n,angle:u,sign:-A,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-_-P;if(k<0&&s===0)return"".concat(S,"L").concat(e,",").concat(t,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(A>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(e,",").concat(t,"Z");return S},Rce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SH=r=>{var e=Do(r,Rce),{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:A,className:h}=e;if(s<a||u===A)return null;var p=An("recharts-sector",h),m=s-a,y=co(i,m,0,!0),g;return y>0&&Math.abs(u-A)<360?g=Mce({cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:A}):g=NH({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:A}),B.createElement("path",P4({},ti(e,!0),{className:p,d:g}))};function Uce(r,e,t){var n,a,s,i;if(r==="horizontal")n=e.x,s=n,a=t.top,i=t.top+t.height;else if(r==="vertical")a=e.y,i=a,n=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:A,angle:h}=e,p=Ps(l,c,u,h),m=Ps(l,c,A,h);n=p.x,a=p.y,s=m.x,i=m.y}else return CH(e);return[{x:n,y:a},{x:s,y:i}]}var uB={},dB={},AB={},DP;function Qce(){return DP||(DP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=kQ();function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(AB)),AB}var PP;function Hce(){return PP||(PP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Qce();function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(dB)),dB}var IP;function zce(){return IP||(IP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=FQ(),t=Hce();function n(a,s,i){i&&typeof i!="number"&&e.isIterateeCall(a,s,i)&&(s=i=void 0),a=t.toFinite(a),s===void 0?(s=a,a=0):s=t.toFinite(s),i=i===void 0?a<s?1:-1:t.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}r.range=n})(uB)),uB}var hB,LP;function Kce(){return LP||(LP=1,hB=zce().range),hB}var $ce=Kce();const BH=Pc($ce);function qh(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Vce(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function eT(r){let e,t,n;r.length!==2?(e=qh,t=(l,c)=>qh(r(l),c),n=(l,c)=>r(l)-c):(e=r===qh||r===Vce?r:qce,t=r,n=r);function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const h=u+A>>>1;t(l[h],c)<0?u=h+1:A=h}while(u<A)}return u}function s(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const h=u+A>>>1;t(l[h],c)<=0?u=h+1:A=h}while(u<A)}return u}function i(l,c,u=0,A=l.length){const h=a(l,c,u,A-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:i,right:s}}function qce(){return 0}function EH(r){return r===null?NaN:+r}function*Gce(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const Wce=eT(qh),mv=Wce.right;eT(EH).center;class MP extends Map{constructor(e,t=Jce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(RP(this,e))}has(e){return super.has(RP(this,e))}set(e,t){return super.set(Yce(this,e),t)}delete(e){return super.delete(Xce(this,e))}}function RP({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function Yce({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function Xce({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function Jce(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Zce(r=qh){if(r===qh)return jH;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function jH(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const eue=Math.sqrt(50),tue=Math.sqrt(10),rue=Math.sqrt(2);function e2(r,e,t){const n=(e-r)/Math.max(0,t),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=eue?10:s>=tue?5:s>=rue?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(r*u),c=Math.round(e*u),l/u<r&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(r/u),c=Math.round(e/u),l*u<r&&++l,c*u>e&&--c),c<l&&.5<=t&&t<2?e2(r,e,t*2):[l,c,u]}function I4(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[a,s,i]=n?e2(e,r,t):e2(r,e,t);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function L4(r,e,t){return e=+e,r=+r,t=+t,e2(r,e,t)[2]}function M4(r,e,t){e=+e,r=+r,t=+t;const n=e<r,a=n?L4(e,r,t):L4(r,e,t);return(n?-1:1)*(a<0?1/-a:a)}function UP(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function QP(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function _H(r,e,t=0,n=1/0,a){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(a=a===void 0?jH:Zce(a);n>t;){if(n-t>600){const c=n-t+1,u=e-t+1,A=Math.log(c),h=.5*Math.exp(2*A/3),p=.5*Math.sqrt(A*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(t,Math.floor(e-u*h/c+p)),y=Math.min(n,Math.floor(e+(c-u)*h/c+p));_H(r,e,m,y,a)}const s=r[e];let i=t,l=n;for(_x(r,t,e),a(r[n],s)>0&&_x(r,t,n);i<l;){for(_x(r,i,l),++i,--l;a(r[i],s)<0;)++i;for(;a(r[l],s)>0;)--l}a(r[t],s)===0?_x(r,t,l):(++l,_x(r,l,n)),l<=e&&(t=l+1),e<=l&&(n=l-1)}return r}function _x(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function nue(r,e,t){if(r=Float64Array.from(Gce(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return QP(r);if(e>=1)return UP(r);var n,a=(n-1)*e,s=Math.floor(a),i=UP(_H(r,s).subarray(0,s+1)),l=QP(r.subarray(s+1));return i+(l-i)*(a-s)}}function aue(r,e,t=EH){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,a=(n-1)*e,s=Math.floor(a),i=+t(r[s],s,r),l=+t(r[s+1],s+1,r);return i+(l-i)*(a-s)}}function sue(r,e,t){r=+r,e=+e,t=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+t;for(var n=-1,a=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(a);++n<a;)s[n]=r+n*t;return s}function Mc(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function UA(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R4=Symbol("implicit");function tT(){var r=new MP,e=[],t=[],n=R4;function a(s){let i=r.get(s);if(i===void 0){if(n!==R4)return n;r.set(s,i=e.push(s)-1)}return t[i%t.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new MP;for(const i of s)r.has(i)||r.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(t=Array.from(s),a):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return tT(e,t).unknown(n)},Mc.apply(a,arguments),a}function rT(){var r=tT().unknown(void 0),e=r.domain,t=r.range,n=0,a=1,s,i,l=!1,c=0,u=0,A=.5;delete r.unknown;function h(){var p=e().length,m=a<n,y=m?a:n,g=m?n:a;s=(g-y)/Math.max(1,p-c+u*2),l&&(s=Math.floor(s)),y+=(g-y-s*(p-c))*A,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var v=sue(p).map(function(w){return y+s*w});return t(m?v.reverse():v)}return r.domain=function(p){return arguments.length?(e(p),h()):e()},r.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,h()):[n,a]},r.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,h()},r.bandwidth=function(){return i},r.step=function(){return s},r.round=function(p){return arguments.length?(l=!!p,h()):l},r.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},r.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},r.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},r.align=function(p){return arguments.length?(A=Math.max(0,Math.min(1,p)),h()):A},r.copy=function(){return rT(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(A)},Mc.apply(h(),arguments)}function TH(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return TH(e())},r}function iue(){return TH(rT.apply(null,arguments).paddingInner(1))}function nT(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function kH(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function pv(){}var Ty=.7,t2=1/Ty,Tp="\\s*([+-]?\\d+)\\s*",ky="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oue=/^#([0-9a-f]{3,8})$/,lue=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),cue=new RegExp(`^rgb\\(${bd},${bd},${bd}\\)$`),uue=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${ky}\\)$`),due=new RegExp(`^rgba\\(${bd},${bd},${bd},${ky}\\)$`),Aue=new RegExp(`^hsl\\(${ky},${bd},${bd}\\)$`),hue=new RegExp(`^hsla\\(${ky},${bd},${bd},${ky}\\)$`),HP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nT(pv,Fy,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:zP,formatHex:zP,formatHex8:fue,formatHsl:mue,formatRgb:KP,toString:KP});function zP(){return this.rgb().formatHex()}function fue(){return this.rgb().formatHex8()}function mue(){return FH(this).formatHsl()}function KP(){return this.rgb().formatRgb()}function Fy(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=oue.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?$P(e):t===3?new il(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ab(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ab(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lue.exec(r))?new il(e[1],e[2],e[3],1):(e=cue.exec(r))?new il(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uue.exec(r))?ab(e[1],e[2],e[3],e[4]):(e=due.exec(r))?ab(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Aue.exec(r))?GP(e[1],e[2]/100,e[3]/100,1):(e=hue.exec(r))?GP(e[1],e[2]/100,e[3]/100,e[4]):HP.hasOwnProperty(r)?$P(HP[r]):r==="transparent"?new il(NaN,NaN,NaN,0):null}function $P(r){return new il(r>>16&255,r>>8&255,r&255,1)}function ab(r,e,t,n){return n<=0&&(r=e=t=NaN),new il(r,e,t,n)}function pue(r){return r instanceof pv||(r=Fy(r)),r?(r=r.rgb(),new il(r.r,r.g,r.b,r.opacity)):new il}function U4(r,e,t,n){return arguments.length===1?pue(r):new il(r,e,t,n??1)}function il(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}nT(il,U4,kH(pv,{brighter(r){return r=r==null?t2:Math.pow(t2,r),new il(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Ty:Math.pow(Ty,r),new il(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new il(C0(this.r),C0(this.g),C0(this.b),r2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VP,formatHex:VP,formatHex8:gue,formatRgb:qP,toString:qP}));function VP(){return`#${A0(this.r)}${A0(this.g)}${A0(this.b)}`}function gue(){return`#${A0(this.r)}${A0(this.g)}${A0(this.b)}${A0((isNaN(this.opacity)?1:this.opacity)*255)}`}function qP(){const r=r2(this.opacity);return`${r===1?"rgb(":"rgba("}${C0(this.r)}, ${C0(this.g)}, ${C0(this.b)}${r===1?")":`, ${r})`}`}function r2(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function C0(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function A0(r){return r=C0(r),(r<16?"0":"")+r.toString(16)}function GP(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new vu(r,e,t,n)}function FH(r){if(r instanceof vu)return new vu(r.h,r.s,r.l,r.opacity);if(r instanceof pv||(r=Fy(r)),!r)return new vu;if(r instanceof vu)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,a=Math.min(e,t,n),s=Math.max(e,t,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(t-n)/l+(t<n)*6:t===s?i=(n-e)/l+2:i=(e-t)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new vu(i,l,c,r.opacity)}function xue(r,e,t,n){return arguments.length===1?FH(r):new vu(r,e,t,n??1)}function vu(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}nT(vu,xue,kH(pv,{brighter(r){return r=r==null?t2:Math.pow(t2,r),new vu(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Ty:Math.pow(Ty,r),new vu(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,a=2*t-n;return new il(fB(r>=240?r-240:r+120,a,n),fB(r,a,n),fB(r<120?r+240:r-120,a,n),this.opacity)},clamp(){return new vu(WP(this.h),sb(this.s),sb(this.l),r2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=r2(this.opacity);return`${r===1?"hsl(":"hsla("}${WP(this.h)}, ${sb(this.s)*100}%, ${sb(this.l)*100}%${r===1?")":`, ${r})`}`}}));function WP(r){return r=(r||0)%360,r<0?r+360:r}function sb(r){return Math.max(0,Math.min(1,r||0))}function fB(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const aT=r=>()=>r;function yue(r,e){return function(t){return r+t*e}}function vue(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function bue(r){return(r=+r)==1?OH:function(e,t){return t-e?vue(e,t,r):aT(isNaN(e)?t:e)}}function OH(r,e){var t=e-r;return t?yue(r,t):aT(isNaN(r)?e:r)}const YP=(function r(e){var t=bue(e);function n(a,s){var i=t((a=U4(a)).r,(s=U4(s)).r),l=t(a.g,s.g),c=t(a.b,s.b),u=OH(a.opacity,s.opacity);return function(A){return a.r=i(A),a.g=l(A),a.b=c(A),a.opacity=u(A),a+""}}return n.gamma=r,n})(1);function wue(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),a;return function(s){for(a=0;a<t;++a)n[a]=r[a]*(1-s)+e[a]*s;return n}}function Cue(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Nue(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,a=new Array(n),s=new Array(t),i;for(i=0;i<n;++i)a[i]=wg(r[i],e[i]);for(;i<t;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function Sue(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function n2(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function Bue(r,e){var t={},n={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?t[a]=wg(r[a],e[a]):n[a]=e[a];return function(s){for(a in t)n[a]=t[a](s);return n}}var Q4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mB=new RegExp(Q4.source,"g");function Eue(r){return function(){return r}}function jue(r){return function(e){return r(e)+""}}function _ue(r,e){var t=Q4.lastIndex=mB.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(r=r+"",e=e+"";(n=Q4.exec(r))&&(a=mB.exec(e));)(s=a.index)>t&&(s=e.slice(t,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:n2(n,a)})),t=mB.lastIndex;return t<e.length&&(s=e.slice(t),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?jue(c[0].x):Eue(e):(e=c.length,function(u){for(var A=0,h;A<e;++A)l[(h=c[A]).i]=h.x(u);return l.join("")})}function wg(r,e){var t=typeof e,n;return e==null||t==="boolean"?aT(e):(t==="number"?n2:t==="string"?(n=Fy(e))?(e=n,YP):_ue:e instanceof Fy?YP:e instanceof Date?Sue:Cue(e)?wue:Array.isArray(e)?Nue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bue:n2)(r,e)}function sT(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function Tue(r,e){e===void 0&&(e=r,r=wg);for(var t=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);t<n;)s[t]=r(a,a=e[++t]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function kue(r){return function(){return r}}function a2(r){return+r}var XP=[0,1];function So(r){return r}function H4(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:kue(isNaN(e)?NaN:.5)}function Fue(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function Oue(r,e,t){var n=r[0],a=r[1],s=e[0],i=e[1];return a<n?(n=H4(a,n),s=t(i,s)):(n=H4(n,a),s=t(s,i)),function(l){return s(n(l))}}function Due(r,e,t){var n=Math.min(r.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=H4(r[i],r[i+1]),s[i]=t(e[i],e[i+1]);return function(l){var c=mv(r,l,1,n)-1;return s[c](a[c](l))}}function gv(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function PC(){var r=XP,e=XP,t=wg,n,a,s,i=So,l,c,u;function A(){var p=Math.min(r.length,e.length);return i!==So&&(i=Fue(r[0],r[p-1])),l=p>2?Due:Oue,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?s:(c||(c=l(r.map(n),e,t)))(n(i(p)))}return h.invert=function(p){return i(a((u||(u=l(e,r.map(n),n2)))(p)))},h.domain=function(p){return arguments.length?(r=Array.from(p,a2),A()):r.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),A()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),t=sT,A()},h.clamp=function(p){return arguments.length?(i=p?!0:So,A()):i!==So},h.interpolate=function(p){return arguments.length?(t=p,A()):t},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,m){return n=p,a=m,A()}}function iT(){return PC()(So,So)}function Pue(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function s2(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function Zp(r){return r=s2(Math.abs(r)),r?r[1]:NaN}function Iue(r,e){return function(t,n){for(var a=t.length,s=[],i=0,l=r[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(t.substring(a-=l,a+l)),!((c+=l+1)>n));)l=r[i=(i+1)%r.length];return s.reverse().join(e)}}function Lue(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var Mue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oy(r){if(!(e=Mue.exec(r)))throw new Error("invalid format: "+r);var e;return new oT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oy.prototype=oT.prototype;function oT(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}oT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rue(r){e:for(var e=r.length,t=1,n=-1,a;t<e;++t)switch(r[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(a+1):r}var DH;function Uue(r,e){var t=s2(r,e);if(!t)return r+"";var n=t[0],a=t[1],s=a-(DH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+s2(r,Math.max(0,e+s-1))[0]}function JP(r,e){var t=s2(r,e);if(!t)return r+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ZP={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Pue,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>JP(r*100,e),r:JP,s:Uue,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function eI(r){return r}var tI=Array.prototype.map,rI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Que(r){var e=r.grouping===void 0||r.thousands===void 0?eI:Iue(tI.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?eI:Lue(tI.call(r.numerals,String)),i=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function u(h){h=Oy(h);var p=h.fill,m=h.align,y=h.sign,g=h.symbol,v=h.zero,w=h.width,S=h.comma,C=h.precision,E=h.trim,_=h.type;_==="n"?(S=!0,_="g"):ZP[_]||(C===void 0&&(C=12),E=!0,_="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var L=g==="$"?t:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",D=g==="$"?n:/[%p]/.test(_)?i:"",P=ZP[_],k=/[defgprs%]/.test(_);C=C===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(I){var Q=L,R=D,K,ee,Y;if(_==="c")R=P(I)+R,I="";else{I=+I;var se=I<0||1/I<0;if(I=isNaN(I)?c:P(Math.abs(I),C),E&&(I=Rue(I)),se&&+I==0&&y!=="+"&&(se=!1),Q=(se?y==="("?y:l:y==="-"||y==="("?"":y)+Q,R=(_==="s"?rI[8+DH/3]:"")+R+(se&&y==="("?")":""),k){for(K=-1,ee=I.length;++K<ee;)if(Y=I.charCodeAt(K),48>Y||Y>57){R=(Y===46?a+I.slice(K+1):I.slice(K))+R,I=I.slice(0,K);break}}}S&&!v&&(I=e(I,1/0));var X=Q.length+I.length+R.length,Ae=X<w?new Array(w-X+1).join(p):"";switch(S&&v&&(I=e(Ae+I,Ae.length?w-R.length:1/0),Ae=""),m){case"<":I=Q+I+R+Ae;break;case"=":I=Q+Ae+I+R;break;case"^":I=Ae.slice(0,X=Ae.length>>1)+Q+I+R+Ae.slice(X);break;default:I=Ae+Q+I+R;break}return s(I)}return z.toString=function(){return h+""},z}function A(h,p){var m=u((h=Oy(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Zp(p)/3)))*3,g=Math.pow(10,-y),v=rI[8+y/3];return function(w){return m(g*w)+v}}return{format:u,formatPrefix:A}}var ib,lT,PH;Hue({thousands:",",grouping:[3],currency:["$",""]});function Hue(r){return ib=Que(r),lT=ib.format,PH=ib.formatPrefix,ib}function zue(r){return Math.max(0,-Zp(Math.abs(r)))}function Kue(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zp(e)/3)))*3-Zp(Math.abs(r)))}function $ue(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,Zp(e)-Zp(r))+1}function IH(r,e,t,n){var a=M4(r,e,t),s;switch(n=Oy(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=Kue(a,i))&&(n.precision=s),PH(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$ue(a,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=zue(a))&&(n.precision=s-(n.type==="%")*2);break}}return lT(n)}function pf(r){var e=r.domain;return r.ticks=function(t){var n=e();return I4(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var a=e();return IH(a[0],a[a.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,A=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);A-- >0;){if(u=L4(i,l,t),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return r},r}function LH(){var r=iT();return r.copy=function(){return gv(r,LH())},Mc.apply(r,arguments),pf(r)}function MH(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,a2),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return MH(r).unknown(e)},r=arguments.length?Array.from(r,a2):[0,1],pf(t)}function RH(r,e){r=r.slice();var t=0,n=r.length-1,a=r[t],s=r[n],i;return s<a&&(i=t,t=n,n=i,i=a,a=s,s=i),r[t]=e.floor(a),r[n]=e.ceil(s),r}function nI(r){return Math.log(r)}function aI(r){return Math.exp(r)}function Vue(r){return-Math.log(-r)}function que(r){return-Math.exp(-r)}function Gue(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Wue(r){return r===10?Gue:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Yue(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function sI(r){return(e,t)=>-r(-e,t)}function cT(r){const e=r(nI,aI),t=e.domain;let n=10,a,s;function i(){return a=Yue(n),s=Wue(n),t()[0]<0?(a=sI(a),s=sI(s),r(Vue,que)):r(nI,aI),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(t(l),i()):t()},e.ticks=l=>{const c=t();let u=c[0],A=c[c.length-1];const h=A<u;h&&([u,A]=[A,u]);let p=a(u),m=a(A),y,g;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<n;++y)if(g=p<0?y/s(-p):y*s(p),!(g<u)){if(g>A)break;w.push(g)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/s(-p):y*s(p),!(g<u)){if(g>A)break;w.push(g)}w.length*2<v&&(w=I4(u,A,v))}else w=I4(p,m,Math.min(m-p,v)).map(s);return h?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Oy(c)).precision==null&&(c.trim=!0),c=lT(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let h=A/s(Math.round(a(A)));return h*n<n-.5&&(h*=n),h<=u?c(A):""}},e.nice=()=>t(RH(t(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function UH(){const r=cT(PC()).domain([1,10]);return r.copy=()=>gv(r,UH()).base(r.base()),Mc.apply(r,arguments),r}function iI(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function oI(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function uT(r){var e=1,t=r(iI(e),oI(e));return t.constant=function(n){return arguments.length?r(iI(e=+n),oI(e)):e},pf(t)}function QH(){var r=uT(PC());return r.copy=function(){return gv(r,QH()).constant(r.constant())},Mc.apply(r,arguments)}function lI(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function Xue(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function Jue(r){return r<0?-r*r:r*r}function dT(r){var e=r(So,So),t=1;function n(){return t===1?r(So,So):t===.5?r(Xue,Jue):r(lI(t),lI(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,n()):t},pf(e)}function AT(){var r=dT(PC());return r.copy=function(){return gv(r,AT()).exponent(r.exponent())},Mc.apply(r,arguments),r}function Zue(){return AT.apply(null,arguments).exponent(.5)}function cI(r){return Math.sign(r)*r*r}function ede(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function HH(){var r=iT(),e=[0,1],t=!1,n;function a(s){var i=ede(r(s));return isNaN(i)?n:t?Math.round(i):i}return a.invert=function(s){return r.invert(cI(s))},a.domain=function(s){return arguments.length?(r.domain(s),a):r.domain()},a.range=function(s){return arguments.length?(r.range((e=Array.from(s,a2)).map(cI)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(t=!!s,a):t},a.clamp=function(s){return arguments.length?(r.clamp(s),a):r.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return HH(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},Mc.apply(a,arguments),pf(a)}function zH(){var r=[],e=[],t=[],n;function a(){var i=0,l=Math.max(1,e.length);for(t=new Array(l-1);++i<l;)t[i-1]=aue(r,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[mv(t,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?t[l-1]:r[0],l<t.length?t[l]:r[r.length-1]]},s.domain=function(i){if(!arguments.length)return r.slice();r=[];for(let l of i)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(qh),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return zH().domain(r).range(e).unknown(n)},Mc.apply(s,arguments)}function KH(){var r=0,e=1,t=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[mv(n,c,0,t)]:s}function l(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*e-(c-t)*r)/(t+1);return i}return i.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,l()):[r,e]},i.range=function(c){return arguments.length?(t=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[r,n[0]]:u>=t?[n[t-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return KH().domain([r,e]).range(a).unknown(s)},Mc.apply(pf(i),arguments)}function $H(){var r=[.5],e=[0,1],t,n=1;function a(s){return s!=null&&s<=s?e[mv(r,s,0,n)]:t}return a.domain=function(s){return arguments.length?(r=Array.from(s),n=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[r[i-1],r[i]]},a.unknown=function(s){return arguments.length?(t=s,a):t},a.copy=function(){return $H().domain(r).range(e).unknown(t)},Mc.apply(a,arguments)}const pB=new Date,gB=new Date;function ni(r,e,t,n){function a(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(r(s=new Date(+s)),s),a.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),r(s);while(u<s&&s<i);return c},a.filter=s=>ni(i=>{if(i>=i)for(;r(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),t&&(a.count=(s,i)=>(pB.setTime(+s),gB.setTime(+i),r(pB),r(gB),Math.floor(t(pB,gB))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const i2=ni(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);i2.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?ni(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):i2);i2.range;const fA=1e3,jc=fA*60,mA=jc*60,jA=mA*24,hT=jA*7,uI=jA*30,xB=jA*365,h0=ni(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*fA)},(r,e)=>(e-r)/fA,r=>r.getUTCSeconds());h0.range;const fT=ni(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*fA)},(r,e)=>{r.setTime(+r+e*jc)},(r,e)=>(e-r)/jc,r=>r.getMinutes());fT.range;const mT=ni(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*jc)},(r,e)=>(e-r)/jc,r=>r.getUTCMinutes());mT.range;const pT=ni(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*fA-r.getMinutes()*jc)},(r,e)=>{r.setTime(+r+e*mA)},(r,e)=>(e-r)/mA,r=>r.getHours());pT.range;const gT=ni(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*mA)},(r,e)=>(e-r)/mA,r=>r.getUTCHours());gT.range;const xv=ni(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*jc)/jA,r=>r.getDate()-1);xv.range;const IC=ni(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/jA,r=>r.getUTCDate()-1);IC.range;const VH=ni(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/jA,r=>Math.floor(r/jA));VH.range;function G0(r){return ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jc)/hT)}const LC=G0(0),o2=G0(1),tde=G0(2),rde=G0(3),eg=G0(4),nde=G0(5),ade=G0(6);LC.range;o2.range;tde.range;rde.range;eg.range;nde.range;ade.range;function W0(r){return ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/hT)}const MC=W0(0),l2=W0(1),sde=W0(2),ide=W0(3),tg=W0(4),ode=W0(5),lde=W0(6);MC.range;l2.range;sde.range;ide.range;tg.range;ode.range;lde.range;const xT=ni(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());xT.range;const yT=ni(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());yT.range;const _A=ni(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());_A.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});_A.range;const TA=ni(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());TA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});TA.range;function qH(r,e,t,n,a,s){const i=[[h0,1,fA],[h0,5,5*fA],[h0,15,15*fA],[h0,30,30*fA],[s,1,jc],[s,5,5*jc],[s,15,15*jc],[s,30,30*jc],[a,1,mA],[a,3,3*mA],[a,6,6*mA],[a,12,12*mA],[n,1,jA],[n,2,2*jA],[t,1,hT],[e,1,uI],[e,3,3*uI],[r,1,xB]];function l(u,A,h){const p=A<u;p&&([u,A]=[A,u]);const m=h&&typeof h.range=="function"?h:c(u,A,h),y=m?m.range(u,+A+1):[];return p?y.reverse():y}function c(u,A,h){const p=Math.abs(A-u)/h,m=eT(([,,v])=>v).right(i,p);if(m===i.length)return r.every(M4(u/xB,A/xB,h));if(m===0)return i2.every(Math.max(M4(u,A,h),1));const[y,g]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(g)}return[l,c]}const[cde,ude]=qH(TA,yT,MC,VH,gT,mT),[dde,Ade]=qH(_A,xT,LC,xv,pT,fT);function yB(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function vB(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Tx(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function hde(r){var e=r.dateTime,t=r.date,n=r.time,a=r.periods,s=r.days,i=r.shortDays,l=r.months,c=r.shortMonths,u=kx(a),A=Fx(a),h=kx(s),p=Fx(s),m=kx(i),y=Fx(i),g=kx(l),v=Fx(l),w=kx(c),S=Fx(c),C={a:se,A:X,b:Ae,B:ge,c:null,d:pI,e:pI,f:Ide,g:Vde,G:Gde,H:Ode,I:Dde,j:Pde,L:GH,m:Lde,M:Mde,p:Z,q:O,Q:yI,s:vI,S:Rde,u:Ude,U:Qde,V:Hde,w:zde,W:Kde,x:null,X:null,y:$de,Y:qde,Z:Wde,"%":xI},E={a:H,A:V,b:G,B:ae,c:null,d:gI,e:gI,f:Zde,g:cAe,G:dAe,H:Yde,I:Xde,j:Jde,L:YH,m:eAe,M:tAe,p:ue,q:Se,Q:yI,s:vI,S:rAe,u:nAe,U:aAe,V:sAe,w:iAe,W:oAe,x:null,X:null,y:lAe,Y:uAe,Z:AAe,"%":xI},_={a:z,A:I,b:Q,B:R,c:K,d:fI,e:fI,f:_de,g:hI,G:AI,H:mI,I:mI,j:Sde,L:jde,m:Nde,M:Bde,p:k,q:Cde,Q:kde,s:Fde,S:Ede,u:xde,U:yde,V:vde,w:gde,W:bde,x:ee,X:Y,y:hI,Y:AI,Z:wde,"%":Tde};C.x=L(t,C),C.X=L(n,C),C.c=L(e,C),E.x=L(t,E),E.X=L(n,E),E.c=L(e,E);function L(te,pe){return function(ke){var Ee=[],Ue=-1,je=0,J=te.length,Ie,Ye,Bt;for(ke instanceof Date||(ke=new Date(+ke));++Ue<J;)te.charCodeAt(Ue)===37&&(Ee.push(te.slice(je,Ue)),(Ye=dI[Ie=te.charAt(++Ue)])!=null?Ie=te.charAt(++Ue):Ye=Ie==="e"?" ":"0",(Bt=pe[Ie])&&(Ie=Bt(ke,Ye)),Ee.push(Ie),je=Ue+1);return Ee.push(te.slice(je,Ue)),Ee.join("")}}function D(te,pe){return function(ke){var Ee=Tx(1900,void 0,1),Ue=P(Ee,te,ke+="",0),je,J;if(Ue!=ke.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(pe&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(je=vB(Tx(Ee.y,0,1)),J=je.getUTCDay(),je=J>4||J===0?l2.ceil(je):l2(je),je=IC.offset(je,(Ee.V-1)*7),Ee.y=je.getUTCFullYear(),Ee.m=je.getUTCMonth(),Ee.d=je.getUTCDate()+(Ee.w+6)%7):(je=yB(Tx(Ee.y,0,1)),J=je.getDay(),je=J>4||J===0?o2.ceil(je):o2(je),je=xv.offset(je,(Ee.V-1)*7),Ee.y=je.getFullYear(),Ee.m=je.getMonth(),Ee.d=je.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),J="Z"in Ee?vB(Tx(Ee.y,0,1)).getUTCDay():yB(Tx(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(J+5)%7:Ee.w+Ee.U*7-(J+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,vB(Ee)):yB(Ee)}}function P(te,pe,ke,Ee){for(var Ue=0,je=pe.length,J=ke.length,Ie,Ye;Ue<je;){if(Ee>=J)return-1;if(Ie=pe.charCodeAt(Ue++),Ie===37){if(Ie=pe.charAt(Ue++),Ye=_[Ie in dI?pe.charAt(Ue++):Ie],!Ye||(Ee=Ye(te,ke,Ee))<0)return-1}else if(Ie!=ke.charCodeAt(Ee++))return-1}return Ee}function k(te,pe,ke){var Ee=u.exec(pe.slice(ke));return Ee?(te.p=A.get(Ee[0].toLowerCase()),ke+Ee[0].length):-1}function z(te,pe,ke){var Ee=m.exec(pe.slice(ke));return Ee?(te.w=y.get(Ee[0].toLowerCase()),ke+Ee[0].length):-1}function I(te,pe,ke){var Ee=h.exec(pe.slice(ke));return Ee?(te.w=p.get(Ee[0].toLowerCase()),ke+Ee[0].length):-1}function Q(te,pe,ke){var Ee=w.exec(pe.slice(ke));return Ee?(te.m=S.get(Ee[0].toLowerCase()),ke+Ee[0].length):-1}function R(te,pe,ke){var Ee=g.exec(pe.slice(ke));return Ee?(te.m=v.get(Ee[0].toLowerCase()),ke+Ee[0].length):-1}function K(te,pe,ke){return P(te,e,pe,ke)}function ee(te,pe,ke){return P(te,t,pe,ke)}function Y(te,pe,ke){return P(te,n,pe,ke)}function se(te){return i[te.getDay()]}function X(te){return s[te.getDay()]}function Ae(te){return c[te.getMonth()]}function ge(te){return l[te.getMonth()]}function Z(te){return a[+(te.getHours()>=12)]}function O(te){return 1+~~(te.getMonth()/3)}function H(te){return i[te.getUTCDay()]}function V(te){return s[te.getUTCDay()]}function G(te){return c[te.getUTCMonth()]}function ae(te){return l[te.getUTCMonth()]}function ue(te){return a[+(te.getUTCHours()>=12)]}function Se(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var pe=L(te+="",C);return pe.toString=function(){return te},pe},parse:function(te){var pe=D(te+="",!1);return pe.toString=function(){return te},pe},utcFormat:function(te){var pe=L(te+="",E);return pe.toString=function(){return te},pe},utcParse:function(te){var pe=D(te+="",!0);return pe.toString=function(){return te},pe}}}var dI={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,fde=/^%/,mde=/[\\^$*+?|[\]().{}]/g;function bn(r,e,t){var n=r<0?"-":"",a=(n?-r:r)+"",s=a.length;return n+(s<t?new Array(t-s+1).join(e)+a:a)}function pde(r){return r.replace(mde,"\\$&")}function kx(r){return new RegExp("^(?:"+r.map(pde).join("|")+")","i")}function Fx(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function gde(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function xde(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function yde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function vde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function bde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function AI(r,e,t){var n=Ci.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function hI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function wde(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function Cde(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function Nde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function fI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function Sde(r,e,t){var n=Ci.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function mI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function Bde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function Ede(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function jde(r,e,t){var n=Ci.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function _de(r,e,t){var n=Ci.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function Tde(r,e,t){var n=fde.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function kde(r,e,t){var n=Ci.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function Fde(r,e,t){var n=Ci.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function pI(r,e){return bn(r.getDate(),e,2)}function Ode(r,e){return bn(r.getHours(),e,2)}function Dde(r,e){return bn(r.getHours()%12||12,e,2)}function Pde(r,e){return bn(1+xv.count(_A(r),r),e,3)}function GH(r,e){return bn(r.getMilliseconds(),e,3)}function Ide(r,e){return GH(r,e)+"000"}function Lde(r,e){return bn(r.getMonth()+1,e,2)}function Mde(r,e){return bn(r.getMinutes(),e,2)}function Rde(r,e){return bn(r.getSeconds(),e,2)}function Ude(r){var e=r.getDay();return e===0?7:e}function Qde(r,e){return bn(LC.count(_A(r)-1,r),e,2)}function WH(r){var e=r.getDay();return e>=4||e===0?eg(r):eg.ceil(r)}function Hde(r,e){return r=WH(r),bn(eg.count(_A(r),r)+(_A(r).getDay()===4),e,2)}function zde(r){return r.getDay()}function Kde(r,e){return bn(o2.count(_A(r)-1,r),e,2)}function $de(r,e){return bn(r.getFullYear()%100,e,2)}function Vde(r,e){return r=WH(r),bn(r.getFullYear()%100,e,2)}function qde(r,e){return bn(r.getFullYear()%1e4,e,4)}function Gde(r,e){var t=r.getDay();return r=t>=4||t===0?eg(r):eg.ceil(r),bn(r.getFullYear()%1e4,e,4)}function Wde(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bn(e/60|0,"0",2)+bn(e%60,"0",2)}function gI(r,e){return bn(r.getUTCDate(),e,2)}function Yde(r,e){return bn(r.getUTCHours(),e,2)}function Xde(r,e){return bn(r.getUTCHours()%12||12,e,2)}function Jde(r,e){return bn(1+IC.count(TA(r),r),e,3)}function YH(r,e){return bn(r.getUTCMilliseconds(),e,3)}function Zde(r,e){return YH(r,e)+"000"}function eAe(r,e){return bn(r.getUTCMonth()+1,e,2)}function tAe(r,e){return bn(r.getUTCMinutes(),e,2)}function rAe(r,e){return bn(r.getUTCSeconds(),e,2)}function nAe(r){var e=r.getUTCDay();return e===0?7:e}function aAe(r,e){return bn(MC.count(TA(r)-1,r),e,2)}function XH(r){var e=r.getUTCDay();return e>=4||e===0?tg(r):tg.ceil(r)}function sAe(r,e){return r=XH(r),bn(tg.count(TA(r),r)+(TA(r).getUTCDay()===4),e,2)}function iAe(r){return r.getUTCDay()}function oAe(r,e){return bn(l2.count(TA(r)-1,r),e,2)}function lAe(r,e){return bn(r.getUTCFullYear()%100,e,2)}function cAe(r,e){return r=XH(r),bn(r.getUTCFullYear()%100,e,2)}function uAe(r,e){return bn(r.getUTCFullYear()%1e4,e,4)}function dAe(r,e){var t=r.getUTCDay();return r=t>=4||t===0?tg(r):tg.ceil(r),bn(r.getUTCFullYear()%1e4,e,4)}function AAe(){return"+0000"}function xI(){return"%"}function yI(r){return+r}function vI(r){return Math.floor(+r/1e3)}var Xm,JH,ZH;hAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hAe(r){return Xm=hde(r),JH=Xm.format,Xm.parse,ZH=Xm.utcFormat,Xm.utcParse,Xm}function fAe(r){return new Date(r)}function mAe(r){return r instanceof Date?+r:+new Date(+r)}function vT(r,e,t,n,a,s,i,l,c,u){var A=iT(),h=A.invert,p=A.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),S=u("%b %d"),C=u("%B"),E=u("%Y");function _(L){return(c(L)<L?m:l(L)<L?y:i(L)<L?g:s(L)<L?v:n(L)<L?a(L)<L?w:S:t(L)<L?C:E)(L)}return A.invert=function(L){return new Date(h(L))},A.domain=function(L){return arguments.length?p(Array.from(L,mAe)):p().map(fAe)},A.ticks=function(L){var D=p();return r(D[0],D[D.length-1],L??10)},A.tickFormat=function(L,D){return D==null?_:u(D)},A.nice=function(L){var D=p();return(!L||typeof L.range!="function")&&(L=e(D[0],D[D.length-1],L??10)),L?p(RH(D,L)):A},A.copy=function(){return gv(A,vT(r,e,t,n,a,s,i,l,c,u))},A}function pAe(){return Mc.apply(vT(dde,Ade,_A,xT,LC,xv,pT,fT,h0,JH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gAe(){return Mc.apply(vT(cde,ude,TA,yT,MC,IC,gT,mT,h0,ZH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RC(){var r=0,e=1,t,n,a,s,i=So,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:i(a===0?.5:(h=(s(h)-t)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([r,e]=h,t=s(r=+r),n=s(e=+e),a=t===n?0:1/(n-t),u):[r,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(i=h,u):i};function A(h){return function(p){var m,y;return arguments.length?([m,y]=p,i=h(m,y),u):[i(0),i(1)]}}return u.range=A(wg),u.rangeRound=A(sT),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,t=h(r),n=h(e),a=t===n?0:1/(n-t),u}}function gf(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function e9(){var r=pf(RC()(So));return r.copy=function(){return gf(r,e9())},UA.apply(r,arguments)}function t9(){var r=cT(RC()).domain([1,10]);return r.copy=function(){return gf(r,t9()).base(r.base())},UA.apply(r,arguments)}function r9(){var r=uT(RC());return r.copy=function(){return gf(r,r9()).constant(r.constant())},UA.apply(r,arguments)}function bT(){var r=dT(RC());return r.copy=function(){return gf(r,bT()).exponent(r.exponent())},UA.apply(r,arguments)}function xAe(){return bT.apply(null,arguments).exponent(.5)}function n9(){var r=[],e=So;function t(n){if(n!=null&&!isNaN(n=+n))return e((mv(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let a of n)a!=null&&!isNaN(a=+a)&&r.push(a);return r.sort(qh),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,a)=>e(a/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(a,s)=>nue(r,s/n))},t.copy=function(){return n9(e).domain(r)},UA.apply(t,arguments)}function UC(){var r=0,e=.5,t=1,n=1,a,s,i,l,c,u=So,A,h=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+A(g))-s)*(n*g<n*s?l:c),u(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([r,e,t]=g,a=A(r=+r),s=A(e=+e),i=A(t=+t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[r,e,t]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var w,S,C;return arguments.length?([w,S,C]=v,u=Tue(g,[w,S,C]),m):[u(0),u(.5),u(1)]}}return m.range=y(wg),m.rangeRound=y(sT),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return A=g,a=g(r),s=g(e),i=g(t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function a9(){var r=pf(UC()(So));return r.copy=function(){return gf(r,a9())},UA.apply(r,arguments)}function s9(){var r=cT(UC()).domain([.1,1,10]);return r.copy=function(){return gf(r,s9()).base(r.base())},UA.apply(r,arguments)}function i9(){var r=uT(UC());return r.copy=function(){return gf(r,i9()).constant(r.constant())},UA.apply(r,arguments)}function wT(){var r=dT(UC());return r.copy=function(){return gf(r,wT()).exponent(r.exponent())},UA.apply(r,arguments)}function yAe(){return wT.apply(null,arguments).exponent(.5)}const Gx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rT,scaleDiverging:a9,scaleDivergingLog:s9,scaleDivergingPow:wT,scaleDivergingSqrt:yAe,scaleDivergingSymlog:i9,scaleIdentity:MH,scaleImplicit:R4,scaleLinear:LH,scaleLog:UH,scaleOrdinal:tT,scalePoint:iue,scalePow:AT,scaleQuantile:zH,scaleQuantize:KH,scaleRadial:HH,scaleSequential:e9,scaleSequentialLog:t9,scaleSequentialPow:bT,scaleSequentialQuantile:n9,scaleSequentialSqrt:xAe,scaleSequentialSymlog:r9,scaleSqrt:Zue,scaleSymlog:QH,scaleThreshold:$H,scaleTime:pAe,scaleUtc:gAe,tickFormat:IH},Symbol.toStringTag,{value:"Module"}));var xf=r=>r.chartData,CT=Ze([xf],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),NT=(r,e,t,n)=>n?CT(r):xf(r);function rg(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if(Gl(e)&&Gl(t))return!0}return!1}function bI(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function vAe(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,a,s;if(Gl(t))a=t;else if(typeof t=="function")return;if(Gl(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(rg(i))return i}}function bAe(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(rg(n))return bI(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[a,s]=r,i,l;if(a==="auto")e!=null&&(i=Math.min(...e));else if(xr(a))i=a;else if(typeof a=="function")try{e!=null&&(i=a(e?.[0]))}catch{}else if(typeof a=="string"&&dP.test(a)){var c=dP.exec(a);if(c==null||e==null)i=void 0;else{var u=+c[1];i=e[0]-u}}else i=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(xr(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&AP.test(s)){var A=AP.exec(s);if(A==null||e==null)l=void 0;else{var h=+A[1];l=e[1]+h}}else l=e?.[1];var p=[i,l];if(rg(p))return e==null?p:bI(p,e,t)}}}var Cg=1e9,wAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BT,Oa=!0,Oc="[DecimalError] ",N0=Oc+"Invalid argument: ",ST=Oc+"Exponent out of range: ",Ng=Math.floor,t0=Math.pow,CAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ul,fi=1e7,xa=7,o9=9007199254740991,c2=Ng(o9/xa),Jt={};Jt.absoluteValue=Jt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Jt.comparedTo=Jt.cmp=function(r){var e,t,n,a,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(n=s.d.length,a=r.d.length,e=0,t=n<a?n:a;e<t;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Jt.decimalPlaces=Jt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*xa;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Jt.dividedBy=Jt.div=function(r){return vA(this,new this.constructor(r))};Jt.dividedToIntegerBy=Jt.idiv=function(r){var e=this,t=e.constructor;return oa(vA(e,new t(r),0,1),t.precision)};Jt.equals=Jt.eq=function(r){return!this.cmp(r)};Jt.exponent=function(){return Is(this)};Jt.greaterThan=Jt.gt=function(r){return this.cmp(r)>0};Jt.greaterThanOrEqualTo=Jt.gte=function(r){return this.cmp(r)>=0};Jt.isInteger=Jt.isint=function(){return this.e>this.d.length-2};Jt.isNegative=Jt.isneg=function(){return this.s<0};Jt.isPositive=Jt.ispos=function(){return this.s>0};Jt.isZero=function(){return this.s===0};Jt.lessThan=Jt.lt=function(r){return this.cmp(r)<0};Jt.lessThanOrEqualTo=Jt.lte=function(r){return this.cmp(r)<1};Jt.logarithm=Jt.log=function(r){var e,t=this,n=t.constructor,a=n.precision,s=a+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Ul))throw Error(Oc+"NaN");if(t.s<1)throw Error(Oc+(t.s?"NaN":"-Infinity"));return t.eq(Ul)?new n(0):(Oa=!1,e=vA(Dy(t,s),Dy(r,s),s),Oa=!0,oa(e,a))};Jt.minus=Jt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?u9(e,r):l9(e,(r.s=-r.s,r))};Jt.modulo=Jt.mod=function(r){var e,t=this,n=t.constructor,a=n.precision;if(r=new n(r),!r.s)throw Error(Oc+"NaN");return t.s?(Oa=!1,e=vA(t,r,0,1).times(r),Oa=!0,t.minus(e)):oa(new n(t),a)};Jt.naturalExponential=Jt.exp=function(){return c9(this)};Jt.naturalLogarithm=Jt.ln=function(){return Dy(this)};Jt.negated=Jt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Jt.plus=Jt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?l9(e,r):u9(e,(r.s=-r.s,r))};Jt.precision=Jt.sd=function(r){var e,t,n,a=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(N0+r);if(e=Is(a)+1,n=a.d.length-1,t=n*xa+1,n=a.d[n],n){for(;n%10==0;n/=10)t--;for(n=a.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};Jt.squareRoot=Jt.sqrt=function(){var r,e,t,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Oc+"NaN")}for(r=Is(l),Oa=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=gd(l.d),(e.length+r)%2==0&&(e+="0"),a=Math.sqrt(e),r=Ng((r+1)/2)-(r<0||r%2),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new c(e)):n=new c(a.toString()),t=c.precision,a=i=t+3;;)if(s=n,n=s.plus(vA(l,s,i+2)).times(.5),gd(s.d).slice(0,i)===(e=gd(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(oa(s,t+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Oa=!0,oa(n,t)};Jt.times=Jt.mul=function(r){var e,t,n,a,s,i,l,c,u,A=this,h=A.constructor,p=A.d,m=(r=new h(r)).d;if(!A.s||!r.s)return new h(0);for(r.s*=A.s,t=A.e+r.e,c=p.length,u=m.length,c<u&&(s=p,p=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+m[n]*p[a-n-1]+e,s[a--]=l%fi|0,e=l/fi|0;s[a]=(s[a]+e)%fi|0}for(;!s[--i];)s.pop();return e?++t:s.shift(),r.d=s,r.e=t,Oa?oa(r,h.precision):r};Jt.toDecimalPlaces=Jt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Cd(r,0,Cg),e===void 0?e=n.rounding:Cd(e,0,8),oa(t,r+Is(t)+1,e))};Jt.toExponential=function(r,e){var t,n=this,a=n.constructor;return r===void 0?t=P0(n,!0):(Cd(r,0,Cg),e===void 0?e=a.rounding:Cd(e,0,8),n=oa(new a(n),r+1,e),t=P0(n,!0,r+1)),t};Jt.toFixed=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?P0(a):(Cd(r,0,Cg),e===void 0?e=s.rounding:Cd(e,0,8),n=oa(new s(a),r+Is(a)+1,e),t=P0(n.abs(),!1,r+Is(n)+1),a.isneg()&&!a.isZero()?"-"+t:t)};Jt.toInteger=Jt.toint=function(){var r=this,e=r.constructor;return oa(new e(r),Is(r)+1,e.rounding)};Jt.toNumber=function(){return+this};Jt.toPower=Jt.pow=function(r){var e,t,n,a,s,i,l=this,c=l.constructor,u=12,A=+(r=new c(r));if(!r.s)return new c(Ul);if(l=new c(l),!l.s){if(r.s<1)throw Error(Oc+"Infinity");return l}if(l.eq(Ul))return l;if(n=c.precision,r.eq(Ul))return oa(l,n);if(e=r.e,t=r.d.length-1,i=e>=t,s=l.s,i){if((t=A<0?-A:A)<=o9){for(a=new c(Ul),e=Math.ceil(n/xa+4),Oa=!1;t%2&&(a=a.times(l),CI(a.d,e)),t=Ng(t/2),t!==0;)l=l.times(l),CI(l.d,e);return Oa=!0,r.s<0?new c(Ul).div(a):oa(a,n)}}else if(s<0)throw Error(Oc+"NaN");return s=s<0&&r.d[Math.max(e,t)]&1?-1:1,l.s=1,Oa=!1,a=r.times(Dy(l,n+u)),Oa=!0,a=c9(a),a.s=s,a};Jt.toPrecision=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?(t=Is(a),n=P0(a,t<=s.toExpNeg||t>=s.toExpPos)):(Cd(r,1,Cg),e===void 0?e=s.rounding:Cd(e,0,8),a=oa(new s(a),r,e),t=Is(a),n=P0(a,r<=t||t<=s.toExpNeg,r)),n};Jt.toSignificantDigits=Jt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Cd(r,1,Cg),e===void 0?e=n.rounding:Cd(e,0,8)),oa(new n(t),r,e)};Jt.toString=Jt.valueOf=Jt.val=Jt.toJSON=Jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Is(r),t=r.constructor;return P0(r,e<=t.toExpNeg||e>=t.toExpPos)};function l9(r,e){var t,n,a,s,i,l,c,u,A=r.constructor,h=A.precision;if(!r.s||!e.s)return e.s||(e=new A(r)),Oa?oa(e,h):e;if(c=r.d,u=e.d,i=r.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(h/xa),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),t=0;s;)t=(c[--s]=c[s]+u[s]+t)/fi|0,c[s]%=fi;for(t&&(c.unshift(t),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Oa?oa(e,h):e}function Cd(r,e,t){if(r!==~~r||r<e||r>t)throw Error(N0+r)}function gd(r){var e,t,n,a=r.length-1,s="",i=r[0];if(a>0){for(s+=i,e=1;e<a;e++)n=r[e]+"",t=xa-n.length,t&&(s+=Dh(t)),s+=n;i=r[e],n=i+"",t=xa-n.length,t&&(s+=Dh(t))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var vA=(function(){function r(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%fi|0,i=s/fi|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function t(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*fi+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,A,h,p,m,y,g,v,w,S,C,E,_,L,D,P,k=n.constructor,z=n.s==a.s?1:-1,I=n.d,Q=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Oc+"Division by zero");for(c=n.e-a.e,D=Q.length,_=I.length,m=new k(z),y=m.d=[],u=0;Q[u]==(I[u]||0);)++u;if(Q[u]>(I[u]||0)&&--c,s==null?S=s=k.precision:i?S=s+(Is(n)-Is(a))+1:S=s,S<0)return new k(0);if(S=S/xa+2|0,u=0,D==1)for(A=0,Q=Q[0],S++;(u<_||A)&&S--;u++)C=A*fi+(I[u]||0),y[u]=C/Q|0,A=C%Q|0;else{for(A=fi/(Q[0]+1)|0,A>1&&(Q=r(Q,A),I=r(I,A),D=Q.length,_=I.length),E=D,g=I.slice(0,D),v=g.length;v<D;)g[v++]=0;P=Q.slice(),P.unshift(0),L=Q[0],Q[1]>=fi/2&&++L;do A=0,l=e(Q,g,D,v),l<0?(w=g[0],D!=v&&(w=w*fi+(g[1]||0)),A=w/L|0,A>1?(A>=fi&&(A=fi-1),h=r(Q,A),p=h.length,v=g.length,l=e(h,g,p,v),l==1&&(A--,t(h,D<p?P:Q,p))):(A==0&&(l=A=1),h=Q.slice()),p=h.length,p<v&&h.unshift(0),t(g,h,v),l==-1&&(v=g.length,l=e(Q,g,D,v),l<1&&(A++,t(g,D<v?P:Q,v))),v=g.length):l===0&&(A++,g=[0]),y[u++]=A,l&&g[0]?g[v++]=I[E]||0:(g=[I[E]],v=1);while((E++<_||g[0]!==void 0)&&S--)}return y[0]||y.shift(),m.e=c,oa(m,i?s+Is(m)+1:s)}})();function c9(r,e){var t,n,a,s,i,l,c=0,u=0,A=r.constructor,h=A.precision;if(Is(r)>16)throw Error(ST+Is(r));if(!r.s)return new A(Ul);for(Oa=!1,l=h,i=new A(.03125);r.abs().gte(.1);)r=r.times(i),u+=5;for(n=Math.log(t0(2,u))/Math.LN10*2+5|0,l+=n,t=a=s=new A(Ul),A.precision=l;;){if(a=oa(a.times(r),l),t=t.times(++c),i=s.plus(vA(a,t,l)),gd(i.d).slice(0,l)===gd(s.d).slice(0,l)){for(;u--;)s=oa(s.times(s),l);return A.precision=h,e==null?(Oa=!0,oa(s,h)):s}s=i}}function Is(r){for(var e=r.e*xa,t=r.d[0];t>=10;t/=10)e++;return e}function bB(r,e,t){if(e>r.LN10.sd())throw Oa=!0,t&&(r.precision=t),Error(Oc+"LN10 precision limit exceeded");return oa(new r(r.LN10),e)}function Dh(r){for(var e="";r--;)e+="0";return e}function Dy(r,e){var t,n,a,s,i,l,c,u,A,h=1,p=10,m=r,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Oc+(m.s?"NaN":"-Infinity"));if(m.eq(Ul))return new g(0);if(e==null?(Oa=!1,u=v):u=e,m.eq(10))return e==null&&(Oa=!0),bB(g,u);if(u+=p,g.precision=u,t=gd(y),n=t.charAt(0),s=Is(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)m=m.times(r),t=gd(m.d),n=t.charAt(0),h++;s=Is(m),n>1?(m=new g("0."+t),s++):m=new g(n+"."+t.slice(1))}else return c=bB(g,u+2,v).times(s+""),m=Dy(new g(n+"."+t.slice(1)),u-p).plus(c),g.precision=v,e==null?(Oa=!0,oa(m,v)):m;for(l=i=m=vA(m.minus(Ul),m.plus(Ul),u),A=oa(m.times(m),u),a=3;;){if(i=oa(i.times(A),u),c=l.plus(vA(i,new g(a),u)),gd(c.d).slice(0,u)===gd(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(bB(g,u+2,v).times(s+""))),l=vA(l,new g(h),u),g.precision=v,e==null?(Oa=!0,oa(l,v)):l;l=c,a+=2}}function wI(r,e){var t,n,a;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,t=t-n-1,r.e=Ng(t/xa),r.d=[],n=(t+1)%xa,t<0&&(n+=xa),n<a){for(n&&r.d.push(+e.slice(0,n)),a-=xa;n<a;)r.d.push(+e.slice(n,n+=xa));e=e.slice(n),n=xa-e.length}else n-=a;for(;n--;)e+="0";if(r.d.push(+e),Oa&&(r.e>c2||r.e<-c2))throw Error(ST+t)}else r.s=0,r.e=0,r.d=[0];return r}function oa(r,e,t){var n,a,s,i,l,c,u,A,h=r.d;for(i=1,s=h[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=xa,a=e,u=h[A=0];else{if(A=Math.ceil((n+1)/xa),s=h.length,A>=s)return r;for(u=s=h[A],i=1;s>=10;s/=10)i++;n%=xa,a=n-xa+i}if(t!==void 0&&(s=t0(10,i-a-1),l=u/s%10|0,c=e<0||h[A+1]!==void 0||u%s,c=t<4?(l||c)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||c||t==6&&(n>0?a>0?u/t0(10,i-a):0:h[A-1])%10&1||t==(r.s<0?8:7))),e<1||!h[0])return c?(s=Is(r),h.length=1,e=e-s-1,h[0]=t0(10,(xa-e%xa)%xa),r.e=Ng(-e/xa)||0):(h.length=1,h[0]=r.e=r.s=0),r;if(n==0?(h.length=A,s=1,A--):(h.length=A+1,s=t0(10,xa-n),h[A]=a>0?(u/t0(10,i-a)%t0(10,a)|0)*s:0),c)for(;;)if(A==0){(h[0]+=s)==fi&&(h[0]=1,++r.e);break}else{if(h[A]+=s,h[A]!=fi)break;h[A--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Oa&&(r.e>c2||r.e<-c2))throw Error(ST+Is(r));return r}function u9(r,e){var t,n,a,s,i,l,c,u,A,h,p=r.constructor,m=p.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new p(r),Oa?oa(e,m):e;if(c=r.d,h=e.d,n=e.e,u=r.e,c=c.slice(),i=u-n,i){for(A=i<0,A?(t=c,i=-i,l=h.length):(t=h,n=u,l=c.length),a=Math.max(Math.ceil(m/xa),l)+2,i>a&&(i=a,t.length=1),t.reverse(),a=i;a--;)t.push(0);t.reverse()}else{for(a=c.length,l=h.length,A=a<l,A&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){A=c[a]<h[a];break}i=0}for(A&&(t=c,c=h,h=t,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>i;){if(c[--a]<h[a]){for(s=a;s&&c[--s]===0;)c[s]=fi-1;--c[s],c[a]+=fi}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Oa?oa(e,m):e):new p(0)}function P0(r,e,t){var n,a=Is(r),s=gd(r.d),i=s.length;return e?(t&&(n=t-i)>0?s=s.charAt(0)+"."+s.slice(1)+Dh(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Dh(-a-1)+s,t&&(n=t-i)>0&&(s+=Dh(n))):a>=i?(s+=Dh(a+1-i),t&&(n=t-a-1)>0&&(s=s+"."+Dh(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-i)>0&&(a+1===i&&(s+="."),s+=Dh(n))),r.s<0?"-"+s:s}function CI(r,e){if(r.length>e)return r.length=e,!0}function d9(r){var e,t,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(N0+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return wI(i,s.toString())}else if(typeof s!="string")throw Error(N0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,CAe.test(s))wI(i,s);else throw Error(N0+s)}if(a.prototype=Jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=d9,a.config=a.set=NAe,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return a.config(r),a}function NAe(r){if(!r||typeof r!="object")throw Error(Oc+"Object expected");var e,t,n,a=["precision",1,Cg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=r[t=a[e]])!==void 0)if(Ng(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(N0+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(N0+t+": "+n);return this}var BT=d9(wAe);Ul=new BT(1);const Qn=BT;var SAe=r=>r,A9={},h9=r=>r===A9,NI=r=>function e(){return arguments.length===0||arguments.length===1&&h9(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},f9=(r,e)=>r===1?e:NI(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(i=>i!==A9).length;return s>=r?e(...n):f9(r-s,NI(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(A=>h9(A)?l.shift():A);return e(...u,...l)}))}),QC=r=>f9(r.length,r),z4=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},BAe=QC((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),EAe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return SAe;var a=t.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},K4=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join(""),m9=r=>{var e=null,t=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e&&a.every((i,l)=>{var c;return i===((c=e)===null||c===void 0?void 0:c[l])})||(e=a,t=r(...a)),t}};function p9(r){var e;return r===0?e=1:e=Math.floor(new Qn(r).abs().log(10).toNumber())+1,e}function g9(r,e,t){for(var n=new Qn(r),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(t),a++;return s}QC((r,e,t)=>{var n=+r,a=+e;return n+t*(a-n)});QC((r,e,t)=>{var n=e-+r;return n=n||1/0,(t-r)/n});QC((r,e,t)=>{var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});var x9=r=>{var[e,t]=r,[n,a]=[e,t];return e>t&&([n,a]=[t,e]),[n,a]},y9=(r,e,t)=>{if(r.lte(0))return new Qn(0);var n=p9(r.toNumber()),a=new Qn(10).pow(n),s=r.div(a),i=n!==1?.05:.1,l=new Qn(Math.ceil(s.div(i).toNumber())).add(t).mul(i),c=l.mul(a);return e?new Qn(c.toNumber()):new Qn(Math.ceil(c.toNumber()))},jAe=(r,e,t)=>{var n=new Qn(1),a=new Qn(r);if(!a.isint()&&t){var s=Math.abs(r);s<1?(n=new Qn(10).pow(p9(r)-1),a=new Qn(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Qn(Math.floor(r)))}else r===0?a=new Qn(Math.floor((e-1)/2)):t||(a=new Qn(Math.floor(r)));var i=Math.floor((e-1)/2),l=EAe(BAe(c=>a.add(new Qn(c-i).mul(n)).toNumber()),z4);return l(0,e)},v9=function(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Qn(0),tickMin:new Qn(0),tickMax:new Qn(0)};var i=y9(new Qn(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new Qn(0):(l=new Qn(e).add(t).div(2),l=l.sub(new Qn(l).mod(i)));var c=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new Qn(t).sub(l).div(i).toNumber()),A=c+u+1;return A>n?v9(e,t,n,a,s+1):(A<n&&(u=t>0?u+(n-A):u,c=t>0?c:c+(n-A)),{step:i,tickMin:l.sub(new Qn(c).mul(i)),tickMax:l.add(new Qn(u).mul(i))})};function _Ae(r){var[e,t]=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,l]=x9([e,t]);if(i===-1/0||l===1/0){var c=l===1/0?[i,...z4(0,n-1).map(()=>1/0)]:[...z4(0,n-1).map(()=>-1/0),l];return e>t?K4(c):c}if(i===l)return jAe(i,n,a);var{step:u,tickMin:A,tickMax:h}=v9(i,l,s,a,0),p=g9(A,h.add(new Qn(.1).mul(u)),u);return e>t?K4(p):p}function TAe(r,e){var[t,n]=r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=x9([t,n]);if(s===-1/0||i===1/0)return[t,n];if(s===i)return[s];var l=Math.max(e,2),c=y9(new Qn(i).sub(s).div(l-1),a,0),u=[...g9(new Qn(s),new Qn(i),c),i];return a===!1&&(u=u.map(A=>Math.round(A))),t>n?K4(u):u}var kAe=m9(_Ae),FAe=m9(TAe),b9=r=>r.rootProps.maxBarSize,OAe=r=>r.rootProps.barGap,w9=r=>r.rootProps.barCategoryGap,DAe=r=>r.rootProps.barSize,yv=r=>r.rootProps.stackOffset,ET=r=>r.options.chartName,jT=r=>r.rootProps.syncId,C9=r=>r.rootProps.syncMethod,_T=r=>r.options.eventEmitter,AA={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},HC=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},PAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:AA.angleAxisId,includeHidden:!1,name:void 0,reversed:AA.reversed,scale:AA.scale,tick:AA.tick,tickCount:void 0,ticks:void 0,type:AA.type,unit:void 0},IAe={allowDataOverflow:Pl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pl.scale,tick:Pl.tick,tickCount:Pl.tickCount,ticks:void 0,type:Pl.type,unit:void 0},LAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:AA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:AA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:AA.scale,tick:AA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MAe={allowDataOverflow:Pl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pl.scale,tick:Pl.tick,tickCount:Pl.tickCount,ticks:void 0,type:"category",unit:void 0},TT=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?LAe:PAe,kT=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?MAe:IAe,zC=r=>r.polarOptions,FT=Ze([MA,RA,ri],sH),N9=Ze([zC,FT],(r,e)=>{if(r!=null)return co(r.innerRadius,e,0)}),S9=Ze([zC,FT],(r,e)=>{if(r!=null)return co(r.outerRadius,e,e*.8)}),RAe=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},B9=Ze([zC],RAe);Ze([TT,B9],HC);var E9=Ze([FT,N9,S9],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});Ze([kT,E9],HC);var j9=Ze([wn,zC,N9,S9,MA,RA],(r,e,t,n,a,s)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=e;return{cx:co(i,a,a/2),cy:co(l,s,s/2),innerRadius:t,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Pa=(r,e)=>e,vv=(r,e,t)=>t;function OT(r){return r?.id}var ai=r=>{var e=wn(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sg=r=>r.tooltip.settings.axisId,Ni=r=>{var e=ai(r),t=Sg(r);return bv(r,e,t)},_9=Ze([Ni],r=>r?.dataKey);function T9(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=t,i=new Map;return r.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var A=OT(l);u.forEach((h,p)=>{var m=s==null||a?p:String(Ka(h,s,null)),y=Ka(h,l.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[A]:y}),i.set(m,g)})}}),Array.from(i.values())}function KC(r){return r.stackId!=null&&r.dataKey!=null}function SI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function u2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(t),!0).forEach(function(n){UAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function UAe(r,e,t){return(e=QAe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function QAe(r){var e=HAe(r,"string");return typeof e=="symbol"?e:e+""}function HAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $4=[0,"auto"],Tl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},k9=(r,e)=>r.cartesianAxis.xAxis[e],QA=(r,e)=>{var t=k9(r,e);return t??Tl},kl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fv},F9=(r,e)=>r.cartesianAxis.yAxis[e],HA=(r,e)=>{var t=F9(r,e);return t??kl},zAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DT=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??zAe},Ns=(r,e,t)=>{switch(e){case"xAxis":return QA(r,t);case"yAxis":return HA(r,t);case"zAxis":return DT(r,t);case"angleAxis":return TT(r,t);case"radiusAxis":return kT(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},KAe=(r,e,t)=>{switch(e){case"xAxis":return QA(r,t);case"yAxis":return HA(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},bv=(r,e,t)=>{switch(e){case"xAxis":return QA(r,t);case"yAxis":return HA(r,t);case"angleAxis":return TT(r,t);case"radiusAxis":return kT(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},O9=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function PT(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var IT=r=>r.graphicalItems.cartesianItems,$Ae=Ze([Pa,vv],PT),LT=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),wv=Ze([IT,Ns,$Ae],LT),D9=Ze([wv],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(KC)),P9=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),I9=Ze([wv],P9),MT=r=>r.map(e=>e.data).filter(Boolean).flat(1),VAe=Ze([wv],MT),RT=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:a}=e;return r.length>0?r:t.slice(n,a+1)},UT=Ze([VAe,NT],RT),QT=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:Ka(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(a=>({value:Ka(a,n)}))):r.map(n=>({value:n})),$C=Ze([UT,Ns,wv],QT);function L9(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Y0(r){return r.filter(e=>wd(e)||e instanceof Date).map(Number).filter(e=>Vl(e)===!1)}function qAe(r,e,t){return!t||typeof e!="number"||Vl(e)?[]:t.length?Y0(t.flatMap(n=>{var a=Ka(r,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Gl(s)||!Gl(i)))return[e-s,e+i]})):[]}var GAe=Ze([D9,NT,Ni],T9),M9=(r,e,t)=>{var n={},a=e.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,l]=s,c=l.map(OT);return[i,{stackedData:Joe(r,c,t),graphicalItems:l}]}))},V4=Ze([GAe,D9,yv],M9),R9=(r,e,t)=>{var{dataStartIndex:n,dataEndIndex:a}=e;if(t!=="zAxis"){var s=nle(r,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},WAe=Ze([V4,xf,Pa],R9),U9=(r,e,t,n,a)=>t.length>0?r.flatMap(s=>t.flatMap(i=>{var l,c,u=(l=n[i.id])===null||l===void 0?void 0:l.filter(h=>L9(a,h)),A=Ka(s,(c=e.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:A,errorDomain:qAe(s,A,u)}})).filter(Boolean):e?.dataKey!=null?r.map(s=>({value:Ka(s,e.dataKey),errorDomain:[]})):r.map(s=>({value:s,errorDomain:[]})),VC=r=>r.errorBars,Q9=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>L9(t,n));Ze([I9,VC,Pa],Q9);var YAe=Ze([UT,Ns,I9,VC,Pa],U9);function XAe(r){var{value:e}=r;if(wd(e)||e instanceof Date)return e}var BI=r=>{var e=r.flatMap(n=>[n.value,n.errorDomain]).flat(1),t=Y0(e);if(t.length!==0)return[Math.min(...t),Math.max(...t)]},JAe=(r,e,t)=>{var n=r.map(XAe).filter(a=>a!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&eQ(n))?BH(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},HT=r=>{var e;if(r==null||!("domain"in r))return $4;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var t=Y0(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:$4},d2=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},H9=r=>r.referenceElements.dots,Bg=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),ZAe=Ze([H9,Pa,vv],Bg),z9=r=>r.referenceElements.areas,ehe=Ze([z9,Pa,vv],Bg),K9=r=>r.referenceElements.lines,the=Ze([K9,Pa,vv],Bg),$9=(r,e)=>{var t=Y0(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},rhe=Ze(ZAe,Pa,$9),V9=(r,e)=>{var t=Y0(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},nhe=Ze([ehe,Pa],V9),q9=(r,e)=>{var t=Y0(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},ahe=Ze(the,Pa,q9),she=Ze(rhe,ahe,nhe,(r,e,t)=>d2(r,t,e)),G9=Ze([Ns],HT),zT=(r,e,t,n,a,s,i)=>{var l=vAe(e,r.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=c?d2(t,a,BI(n)):d2(a,BI(n));return bAe(e,u,r.allowDataOverflow)},ihe=Ze([Ns,G9,WAe,YAe,she,wn,Pa],zT),ohe=[0,1],KT=(r,e,t,n,a,s,i)=>{if(!((r==null||t==null||t.length===0)&&i===void 0)){var{dataKey:l,type:c}=r,u=V0(e,s);return u&&l==null?BH(0,t.length):c==="category"?JAe(n,r,u):a==="expand"?ohe:i}},$T=Ze([Ns,wn,UT,$C,yv,Pa,ihe],KT),W9=(r,e,t,n,a)=>{if(r!=null){var{scale:s,type:i}=r;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(uv(s));return l in Gx?l:"point"}}},Eg=Ze([Ns,wn,O9,ET,Pa],W9);function lhe(r){if(r!=null){if(r in Gx)return Gx[r]();var e="scale".concat(uv(r));if(e in Gx)return Gx[e]()}}function VT(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var a=lhe(e);if(a!=null){var s=a.domain(t).range(n);return qoe(s),s}}}var qT=(r,e,t)=>{var n=HT(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&rg(r))return kAe(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&rg(r))return FAe(r,e.tickCount,e.allowDecimals)}},GT=Ze([$T,bv,Eg],qT),WT=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&rg(e)&&Array.isArray(t)&&t.length>0){var a=e[0],s=t[0],i=e[1],l=t[t.length-1];return[Math.min(a,s),Math.max(i,l)]}return e},che=Ze([Ns,$T,GT,Pa],WT),uhe=Ze($C,Ns,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(Y0(r.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];t=Math.min(t,i)}return t/a}}),Y9=Ze(uhe,wn,w9,ri,(r,e,t,n)=>n,(r,e,t,n,a)=>{if(!Gl(r))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return r*s/2;if(a==="no-gap"){var i=co(t,r*s),l=r*s/2;return l-i-(l-i)/s*i}return 0}),dhe=(r,e)=>{var t=QA(r,e);return t==null||typeof t.padding!="string"?0:Y9(r,"xAxis",e,t.padding)},Ahe=(r,e)=>{var t=HA(r,e);return t==null||typeof t.padding!="string"?0:Y9(r,"yAxis",e,t.padding)},hhe=Ze(QA,dhe,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:a}=r;return typeof a=="string"?{left:e,right:e}:{left:((t=a.left)!==null&&t!==void 0?t:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),fhe=Ze(HA,Ahe,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:a}=r;return typeof a=="string"?{top:e,bottom:e}:{top:((t=a.top)!==null&&t!==void 0?t:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),mhe=Ze([ri,hhe,FC,kC,(r,e,t)=>t],(r,e,t,n,a)=>{var{padding:s}=n;return a?[s.left,t.width-s.right]:[r.left+e.left,r.left+r.width-e.right]}),phe=Ze([ri,wn,fhe,FC,kC,(r,e,t)=>t],(r,e,t,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),Cv=(r,e,t,n)=>{var a;switch(e){case"xAxis":return mhe(r,t,n);case"yAxis":return phe(r,t,n);case"zAxis":return(a=DT(r,t))===null||a===void 0?void 0:a.range;case"angleAxis":return B9(r);case"radiusAxis":return E9(r,t);default:return}},X9=Ze([Ns,Cv],HC),jg=Ze([Ns,Eg,che,X9],VT);Ze([wv,VC,Pa],Q9);function J9(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var qC=(r,e)=>e,GC=(r,e,t)=>t,ghe=Ze(_C,qC,GC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(J9)),xhe=Ze(TC,qC,GC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(J9)),Z9=(r,e)=>({width:r.width,height:e.height}),yhe=(r,e)=>{var t=typeof e.width=="number"?e.width:fv;return{width:t,height:r.height}},ez=Ze(ri,QA,Z9),vhe=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},bhe=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},whe=Ze(RA,ri,ghe,qC,GC,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=Z9(e,l);i==null&&(i=vhe(e,n,r));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),Che=Ze(MA,ri,xhe,qC,GC,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=yhe(e,l);i==null&&(i=bhe(e,n,r));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),Nhe=(r,e)=>{var t=QA(r,e);if(t!=null)return whe(r,t.orientation,t.mirror)},She=Ze([ri,QA,Nhe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}}),Bhe=(r,e)=>{var t=HA(r,e);if(t!=null)return Che(r,t.orientation,t.mirror)},Ehe=Ze([ri,HA,Bhe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}}),tz=Ze(ri,HA,(r,e)=>{var t=typeof e.width=="number"?e.width:fv;return{width:t,height:r.height}}),EI=(r,e,t)=>{switch(e){case"xAxis":return ez(r,t).width;case"yAxis":return tz(r,t).height;default:return}},rz=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=t,l=V0(r,n),c=e.map(u=>u.value);if(i&&l&&s==="category"&&a&&eQ(c))return c}},YT=Ze([wn,$C,Ns,Pa],rz),nz=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:a,scale:s}=t,i=V0(r,n);if(i&&(a==="number"||s!=="auto"))return e.map(l=>l.value)}},XT=Ze([wn,$C,bv,Pa],nz),jI=Ze([wn,KAe,Eg,jg,YT,XT,Cv,GT,Pa],(r,e,t,n,a,s,i,l,c)=>{if(e==null)return null;var u=V0(r,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:t,scale:n}}),jhe=(r,e,t,n,a,s,i,l,c)=>{if(!(e==null||n==null)){var u=V0(r,c),{type:A,ticks:h,tickCount:p}=e,m=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=A==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&s!=null&&s.length>=2?gi(s[0]-s[1])*2*y:y;var g=h||a;if(g){var v=g.map((w,S)=>{var C=i?i.indexOf(w):w;return{index:S,coordinate:n(C)+y,value:w,offset:y}});return v.filter(w=>!Vl(w.coordinate))}return u&&l?l.map((w,S)=>({coordinate:n(w)+y,value:w,index:S,offset:y})):n.ticks?n.ticks(p).map(w=>({coordinate:n(w)+y,value:w,offset:y})):n.domain().map((w,S)=>({coordinate:n(w)+y,value:i?i[w]:w,index:S,offset:y}))}},az=Ze([wn,bv,Eg,jg,GT,Cv,YT,XT,Pa],jhe),_he=(r,e,t,n,a,s,i)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var l=V0(r,i),{tickCount:c}=e,u=0;return u=i==="angleAxis"&&n?.length>=2?gi(n[0]-n[1])*2*u:u,l&&s?s.map((A,h)=>({coordinate:t(A)+u,value:A,index:h,offset:u})):t.ticks?t.ticks(c).map(A=>({coordinate:t(A)+u,value:A,offset:u})):t.domain().map((A,h)=>({coordinate:t(A)+u,value:a?a[A]:A,index:h,offset:u}))}},ng=Ze([wn,bv,jg,Cv,YT,XT,Pa],_he),ag=Ze(Ns,jg,(r,e)=>{if(!(r==null||e==null))return u2(u2({},r),{},{scale:e})}),The=Ze([Ns,Eg,$T,X9],VT);Ze((r,e,t)=>DT(r,t),The,(r,e)=>{if(!(r==null||e==null))return u2(u2({},r),{},{scale:e})});var khe=Ze([wn,_C,TC],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sz=r=>r.options.defaultTooltipEventType,iz=r=>r.options.validateTooltipEventTypes;function oz(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function JT(r,e){var t=sz(r),n=iz(r);return oz(e,t,n)}function Fhe(r){return hr(e=>JT(e,r))}var lz=(r,e)=>{var t,n=Number(e);if(!(Vl(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},Ohe=r=>r.tooltip.settings,Mh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Dhe={itemInteraction:{click:Mh,hover:Mh},axisInteraction:{click:Mh,hover:Mh},keyboardInteraction:Mh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cz=Jl({name:"tooltip",initialState:Dhe,reducers:{addTooltipEntrySettings(r,e){r.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(r,e){var t=yA(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Phe,removeTooltipEntrySettings:Ihe,setTooltipSettingsState:Lhe,setActiveMouseOverItemIndex:uz,mouseLeaveItem:Mhe,mouseLeaveChart:dz,setActiveClickItemIndex:Rhe,setMouseOverAxisIndex:Az,setMouseClickAxisIndex:Uhe,setSyncInteraction:q4,setKeyboardInteraction:G4}=cz.actions,Qhe=cz.reducer;function _I(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ob(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(t),!0).forEach(function(n){Hhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_I(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hhe(r,e,t){return(e=zhe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zhe(r){var e=Khe(r,"string");return typeof e=="symbol"?e:e+""}function Khe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $he(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function Vhe(r){return r.index!=null}var hz=(r,e,t,n)=>{if(e==null)return Mh;var a=$he(r,e,t);if(a==null)return Mh;if(a.active)return a;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var s=r.settings.active===!0;if(Vhe(a)){if(s)return ob(ob({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ob(ob({},Mh),{},{coordinate:a.coordinate})},ZT=(r,e)=>{var t=r?.index;if(t==null)return null;var n=Number(t);if(!Gl(n))return t;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(n,s)))},fz=(r,e,t,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var A=a?.[Number(s)];if(A)return t==="horizontal"?{x:A.coordinate,y:(n.top+e)/2}:{x:(n.left+r)/2,y:A.coordinate}}},mz=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var a;return t==="hover"?a=r.itemInteraction.hover.dataKey:a=r.itemInteraction.click.dataKey,a==null&&n!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},Nv=r=>r.options.tooltipPayloadSearcher,_g=r=>r.tooltip;function TI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function kI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(t),!0).forEach(function(n){qhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qhe(r,e,t){return(e=Ghe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ghe(r){var e=Whe(r,"string");return typeof e=="symbol"?e:e+""}function Whe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Yhe(r,e){return r??e}var pz=(r,e,t,n,a,s,i)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:A}=t,h=[];return r.reduce((p,m)=>{var y,{dataDefinedOnItem:g,settings:v}=m,w=Yhe(g,l),S=Array.isArray(w)?iH(w,u,A):w,C=(y=v?.dataKey)!==null&&y!==void 0?y:n,E=v?.nameKey,_;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&i==="axis"?_=Iae(S,n,a):_=s(S,e,c,E),Array.isArray(_))_.forEach(D=>{var P=kI(kI({},v),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});p.push(hP({tooltipEntrySettings:P,dataKey:D.dataKey,payload:D.payload,value:Ka(D.payload,D.dataKey),name:D.name}))});else{var L;p.push(hP({tooltipEntrySettings:v,dataKey:C,payload:_,value:Ka(_,C),name:(L=Ka(_,E))!==null&&L!==void 0?L:v?.name}))}return p},h)}},e3=Ze([Ni,wn,O9,ET,ai],W9),Xhe=Ze([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),Jhe=Ze([ai,Sg],PT),Sv=Ze([Xhe,Ni,Jhe],LT),Zhe=Ze([Sv],r=>r.filter(KC)),efe=Ze([Sv],MT),Tg=Ze([efe,xf],RT),tfe=Ze([Zhe,xf,Ni],T9),t3=Ze([Tg,Ni,Sv],QT),rfe=Ze([Ni],HT),nfe=Ze([Sv],r=>r.filter(KC)),afe=Ze([tfe,nfe,yv],M9),sfe=Ze([afe,xf,ai],R9),ife=Ze([Sv],P9),ofe=Ze([Tg,Ni,ife,VC,ai],U9),lfe=Ze([H9,ai,Sg],Bg),cfe=Ze([lfe,ai],$9),ufe=Ze([z9,ai,Sg],Bg),dfe=Ze([ufe,ai],V9),Afe=Ze([K9,ai,Sg],Bg),hfe=Ze([Afe,ai],q9),ffe=Ze([cfe,hfe,dfe],d2),mfe=Ze([Ni,rfe,sfe,ofe,ffe,wn,ai],zT),gz=Ze([Ni,wn,Tg,t3,yv,ai,mfe],KT),pfe=Ze([gz,Ni,e3],qT),gfe=Ze([Ni,gz,pfe,ai],WT),xz=r=>{var e=ai(r),t=Sg(r),n=!1;return Cv(r,e,t,n)},yz=Ze([Ni,xz],HC),vz=Ze([Ni,e3,gfe,yz],VT),xfe=Ze([wn,t3,Ni,ai],rz),yfe=Ze([wn,t3,Ni,ai],nz),vfe=(r,e,t,n,a,s,i,l)=>{if(e){var{type:c}=e,u=V0(r,l);if(n){var A=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/A:0;return h=l==="angleAxis"&&a!=null&&a?.length>=2?gi(a[0]-a[1])*2*h:h,u&&i?i.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:s?s[p]:p,index:m,offset:h}))}}},zA=Ze([wn,Ni,e3,vz,xz,xfe,yfe,ai],vfe),r3=Ze([sz,iz,Ohe],(r,e,t)=>oz(t.shared,r,e)),bz=r=>r.tooltip.settings.trigger,n3=r=>r.tooltip.settings.defaultIndex,WC=Ze([_g,r3,bz,n3],hz),I0=Ze([WC,Tg],ZT),wz=Ze([zA,I0],lz),Cz=Ze([WC],r=>{if(r)return r.dataKey}),Nz=Ze([_g,r3,bz,n3],mz),bfe=Ze([MA,RA,wn,ri,zA,n3,Nz,Nv],fz),wfe=Ze([WC,bfe],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),Cfe=Ze([WC],r=>r.active),Nfe=Ze([Nz,I0,xf,_9,wz,Nv,r3],pz);Ze([Nfe],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function FI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function OI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(t),!0).forEach(function(n){Sfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Sfe(r,e,t){return(e=Bfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bfe(r){var e=Efe(r,"string");return typeof e=="symbol"?e:e+""}function Efe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var jfe=()=>hr(Ni),_fe=()=>{var r=jfe(),e=hr(zA),t=hr(vz);return q_(OI(OI({},r),{},{scale:t}),e)},Tfe=()=>hr(ET),a3=(r,e)=>e,Sz=(r,e,t)=>t,s3=(r,e,t,n)=>n,kfe=Ze(zA,r=>wC(r,e=>e.coordinate)),i3=Ze([_g,a3,Sz,s3],hz),Bz=Ze([i3,Tg],ZT),Ffe=(r,e,t)=>{if(e!=null){var n=_g(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Ez=Ze([_g,a3,Sz,s3],mz),A2=Ze([MA,RA,wn,ri,zA,s3,Ez,Nv],fz),Ofe=Ze([i3,A2],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),jz=Ze(zA,Bz,lz),Dfe=Ze([Ez,Bz,xf,_9,jz,Nv,a3],pz),Pfe=Ze([i3],r=>({isActive:r.active,activeIndex:r.index})),Ife=(r,e,t,n,a,s,i,l)=>{if(!(!r||!e||!n||!a||!s)){var c=ale(r.chartX,r.chartY,e,t,l);if(c){var u=ile(c,e),A=$oe(u,i,s,n,a),h=sle(e,s,A,c);return{activeIndex:String(A),activeCoordinate:h}}}};function W4(){return W4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},W4.apply(null,arguments)}function DI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function lb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(t),!0).forEach(function(n){Lfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lfe(r,e,t){return(e=Mfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mfe(r){var e=Rfe(r,"string");return typeof e=="symbol"?e:e+""}function Rfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ufe(r){var{coordinate:e,payload:t,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:l,tooltipEventType:c,chartName:u}=r,A=e,h=t,p=n;if(!l||!A||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=A,y=ice;else if(u==="BarChart")m=oce(i,A,a,s),y=wH;else if(i==="radial"){var{cx:g,cy:v,radius:w,startAngle:S,endAngle:C}=CH(A);m={cx:g,cy:v,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=SH}else m={points:Uce(i,A,a)},y=gH;var E=typeof l=="object"&&"className"in l?l.className:void 0,_=lb(lb(lb(lb({stroke:"#ccc",pointerEvents:"none"},a),m),ti(l,!1)),{},{payload:h,payloadIndex:p,className:An("recharts-tooltip-cursor",E)});return B.isValidElement(l)?B.cloneElement(l,_):B.createElement(y,_)}function Qfe(r){var e=_fe(),t=AH(),n=J_(),a=Tfe();return B.createElement(Ufe,W4({},r,{coordinate:r.coordinate,index:r.index,payload:r.payload,offset:t,layout:n,tooltipAxisBandSize:e,chartName:a}))}var _z=B.createContext(null),Hfe=()=>B.useContext(_z),wB={exports:{}},PI;function zfe(){return PI||(PI=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function a(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function s(c,u,A,h,p){if(typeof A!="function")throw new TypeError("The listener must be a function");var m=new a(A,h||c,p),y=t?t+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,h;if(this._eventsCount===0)return u;for(h in A=this._events)e.call(A,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=t?t+u:u,h=this._events[A];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},l.prototype.listenerCount=function(u){var A=t?t+u:u,h=this._events[A];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,A,h,p,m,y){var g=t?t+u:u;if(!this._events[g])return!1;var v=this._events[g],w=arguments.length,S,C;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,A),!0;case 3:return v.fn.call(v.context,A,h),!0;case 4:return v.fn.call(v.context,A,h,p),!0;case 5:return v.fn.call(v.context,A,h,p,m),!0;case 6:return v.fn.call(v.context,A,h,p,m,y),!0}for(C=1,S=new Array(w-1);C<w;C++)S[C-1]=arguments[C];v.fn.apply(v.context,S)}else{var E=v.length,_;for(C=0;C<E;C++)switch(v[C].once&&this.removeListener(u,v[C].fn,void 0,!0),w){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,A);break;case 3:v[C].fn.call(v[C].context,A,h);break;case 4:v[C].fn.call(v[C].context,A,h,p);break;default:if(!S)for(_=1,S=new Array(w-1);_<w;_++)S[_-1]=arguments[_];v[C].fn.apply(v[C].context,S)}}return!0},l.prototype.on=function(u,A,h){return s(this,u,A,h,!1)},l.prototype.once=function(u,A,h){return s(this,u,A,h,!0)},l.prototype.removeListener=function(u,A,h,p){var m=t?t+u:u;if(!this._events[m])return this;if(!A)return i(this,m),this;var y=this._events[m];if(y.fn)y.fn===A&&(!p||y.once)&&(!h||y.context===h)&&i(this,m);else{for(var g=0,v=[],w=y.length;g<w;g++)(y[g].fn!==A||p&&!y[g].once||h&&y[g].context!==h)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=t?t+u:u,this._events[A]&&i(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l})(wB)),wB.exports}var Kfe=zfe();const $fe=Pc(Kfe);var Py=new $fe,Y4="recharts.syncEvent.tooltip",II="recharts.syncEvent.brush";function Tz(r,e){if(e){var t=Number.parseInt(e,10);if(!Vl(t))return r?.[t]}}var Vfe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kz=Jl({name:"options",initialState:Vfe,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qfe=kz.reducer,{createEventEmitter:Gfe}=kz.actions;function Wfe(r){return r.tooltip.syncInteraction}var Yfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Fz=Jl({name:"chartData",initialState:Yfe,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:LI,setDataStartEndIndexes:Xfe,setComputedData:RMe}=Fz.actions,Jfe=Fz.reducer,Zfe=["x","y"];function MI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Wf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(t),!0).forEach(function(n){e0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):MI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function e0e(r,e,t){return(e=t0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function t0e(r){var e=r0e(r,"string");return typeof e=="symbol"?e:e+""}function r0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function n0e(r,e){if(r==null)return{};var t,n,a=a0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function a0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Oz=()=>{};function s0e(){var r=hr(jT),e=hr(_T),t=qa(),n=hr(C9),a=hr(zA),s=J_(),i=W_(),l=hr(c=>c.rootProps.className);B.useEffect(()=>{if(r==null)return Oz;var c=(u,A,h)=>{if(e!==h&&r===u){if(n==="index"){var p;if(i&&A!==null&&A!==void 0&&(p=A.payload)!==null&&p!==void 0&&p.coordinate){var m=A.payload.coordinate,{x:y,y:g}=m,v=n0e(m,Zfe),w=Wf(Wf(Wf({},v),typeof y=="number"&&{x:Math.max(i.x,Math.min(y,i.x+i.width))}),typeof g=="number"&&{y:Math.max(i.y,Math.min(g,i.y+i.height))}),S=Wf(Wf({},A),{},{payload:Wf(Wf({},A.payload),{},{coordinate:w})});t(S)}else t(A);return}if(a!=null){var C;if(typeof n=="function"){var E={activeTooltipIndex:A.payload.index==null?void 0:Number(A.payload.index),isTooltipActive:A.payload.active,activeIndex:A.payload.index==null?void 0:Number(A.payload.index),activeLabel:A.payload.label,activeDataKey:A.payload.dataKey,activeCoordinate:A.payload.coordinate},_=n(a,E);C=a[_]}else n==="value"&&(C=a.find(R=>String(R.value)===A.payload.label));var{coordinate:L}=A.payload;if(C==null||A.payload.active===!1||L==null||i==null){t(q4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:P}=L,k=Math.min(D,i.x+i.width),z=Math.min(P,i.y+i.height),I={x:s==="horizontal"?C.coordinate:k,y:s==="horizontal"?z:C.coordinate},Q=q4({active:A.payload.active,coordinate:I,dataKey:A.payload.dataKey,index:String(C.index),label:A.payload.label});t(Q)}}};return Py.on(Y4,c),()=>{Py.off(Y4,c)}},[l,t,e,r,n,a,s,i])}function i0e(){var r=hr(jT),e=hr(_T),t=qa();B.useEffect(()=>{if(r==null)return Oz;var n=(a,s,i)=>{e!==i&&r===a&&t(Xfe(s))};return Py.on(II,n),()=>{Py.off(II,n)}},[t,e,r])}function o0e(){var r=qa();B.useEffect(()=>{r(Gfe())},[r]),s0e(),i0e()}function l0e(r,e,t,n,a,s){var i=hr(p=>Ffe(p,r,e)),l=hr(_T),c=hr(jT),u=hr(C9),A=hr(Wfe),h=A?.active;B.useEffect(()=>{if(!h&&c!=null&&l!=null){var p=q4({active:s,coordinate:t,dataKey:i,index:a,label:typeof n=="number"?String(n):n});Py.emit(Y4,c,p,l)}},[h,t,i,a,n,l,c,u,s])}function RI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function UI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(t),!0).forEach(function(n){c0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function c0e(r,e,t){return(e=u0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function u0e(r){var e=d0e(r,"string");return typeof e=="symbol"?e:e+""}function d0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function A0e(r){return r.dataKey}function h0e(r,e){return B.isValidElement(r)?B.cloneElement(r,e):typeof r=="function"?B.createElement(r,e):B.createElement(Mle,e)}var QI=[],f0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!q0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bp(r){var e=Do(r,f0e),{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:A,position:h,reverseDirection:p,useTranslate3d:m,wrapperStyle:y,cursor:g,shared:v,trigger:w,defaultIndex:S,portal:C,axisId:E}=e,_=qa(),L=typeof S=="number"?String(S):S;B.useEffect(()=>{_(Lhe({shared:v,trigger:w,axisId:E,active:t,defaultIndex:L}))},[_,v,w,E,t,L]);var D=W_(),P=pH(),k=Fhe(v),{activeIndex:z,isActive:I}=hr(G=>Pfe(G,k,w,L)),Q=hr(G=>Dfe(G,k,w,L)),R=hr(G=>jz(G,k,w,L)),K=hr(G=>Ofe(G,k,w,L)),ee=Q,Y=Hfe(),se=t??I,[X,Ae]=DQ([ee,se]),ge=k==="axis"?R:void 0;l0e(k,w,K,ge,z,se);var Z=C??Y;if(Z==null)return null;var O=ee??QI;se||(O=QI),l&&O.length&&(O=_Q(ee.filter(G=>G.value!=null&&(G.hide!==!0||e.includeHidden)),A,A0e));var H=O.length>0,V=B.createElement($le,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:se,coordinate:K,hasPayload:H,offset:u,position:h,reverseDirection:p,useTranslate3d:m,viewBox:D,wrapperStyle:y,lastBoundingBox:X,innerRef:Ae,hasPortalFromProps:!!C},h0e(i,UI(UI({},e),{},{payload:O,label:ge,active:se,coordinate:K,accessibilityLayer:P})));return B.createElement(B.Fragment,null,G8.createPortal(V,Z),se&&B.createElement(Qfe,{cursor:g,tooltipEventType:k,coordinate:K,payload:ee,index:z}))}var CB={},NB={},SB={},HI;function m0e(){return HI||(HI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),A=()=>{l!==null&&(t.apply(i,l),i=void 0,l=null)},h=()=>{u&&A(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),i=void 0,l=null},v=()=>{A()},w=function(...S){if(a?.aborted)return;i=this,l=S;const C=p==null;m(),c&&C&&A()};return w.schedule=m,w.cancel=g,w.flush=v,a?.addEventListener("abort",g,{once:!0}),w}r.debounce=e})(SB)),SB}var zI;function p0e(){return zI||(zI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=m0e();function t(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let A,h=null;const p=e.debounce(function(...g){A=n.apply(this,g),h=null},a,{edges:u}),m=function(...g){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(A=n.apply(this,g),h=Date.now(),p.cancel(),p.schedule(),A):(p.apply(this,g),A)},y=()=>(p.flush(),A);return m.cancel=p.cancel,m.flush=y,m}r.debounce=t})(NB)),NB}var KI;function g0e(){return KI||(KI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=p0e();function t(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return e.debounce(n,a,{leading:i,maxWait:a,trailing:l})}r.throttle=t})(CB)),CB}var BB,$I;function x0e(){return $I||($I=1,BB=g0e().throttle),BB}var y0e=x0e();const v0e=Pc(y0e);var iy=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function VI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function EB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(t),!0).forEach(function(n){b0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):VI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function b0e(r,e,t){return(e=w0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function w0e(r){var e=C0e(r,"string");return typeof e=="symbol"?e:e+""}function C0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var wp=B.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:A=0,id:h,className:p,onResize:m,style:y={}}=r,g=B.useRef(null),v=B.useRef();v.current=m,B.useImperativeHandle(e,()=>g.current);var[w,S]=B.useState({containerWidth:n.width,containerHeight:n.height}),C=B.useCallback((_,L)=>{S(D=>{var P=Math.round(_),k=Math.round(L);return D.containerWidth===P&&D.containerHeight===k?D:{containerWidth:P,containerHeight:k}})},[]);B.useEffect(()=>{var _=k=>{var z,{width:I,height:Q}=k[0].contentRect;C(I,Q),(z=v.current)===null||z===void 0||z.call(v,I,Q)};A>0&&(_=v0e(_,A,{trailing:!0,leading:!1}));var L=new ResizeObserver(_),{width:D,height:P}=g.current.getBoundingClientRect();return C(D,P),L.observe(g.current),()=>{L.disconnect()}},[C,A]);var E=B.useMemo(()=>{var{containerWidth:_,containerHeight:L}=w;if(_<0||L<0)return null;iy(d0(a)||d0(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),iy(!t||t>0,"The aspect(%s) must be greater than zero.",t);var D=d0(a)?_:a,P=d0(s)?L:s;return t&&t>0&&(D?P=D/t:P&&(D=P*t),c&&P>c&&(P=c)),iy(D>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,P,a,s,i,l,t),B.Children.map(u,k=>B.cloneElement(k,{width:D,height:P,style:EB({width:D,height:P},k.props.style)}))},[t,u,s,c,l,i,w,a]);return B.createElement("div",{id:h?"".concat(h):void 0,className:An("recharts-responsive-container",p),style:EB(EB({},y),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:g},B.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),Zh=r=>null;Zh.displayName="Cell";function N0e(r,e,t){return(e=S0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function S0e(r){var e=B0e(r,"string");return typeof e=="symbol"?e:e+""}function B0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class E0e{constructor(e){N0e(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function qI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function j0e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(t),!0).forEach(function(n){_0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _0e(r,e,t){return(e=T0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function T0e(r){var e=k0e(r,"string");return typeof e=="symbol"?e:e+""}function k0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var F0e={cacheSize:2e3,enableCache:!0},Dz=j0e({},F0e),GI=new E0e(Dz.cacheSize),O0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WI="recharts_measurement_span";function D0e(r,e){var t=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",i=e.letterSpacing||"",l=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var YI=(r,e)=>{try{var t=document.getElementById(WI);t||(t=document.createElement("span"),t.setAttribute("id",WI),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,O0e,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},oy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||q0.isSsr)return{width:0,height:0};if(!Dz.enableCache)return YI(e,t);var n=D0e(e,t),a=GI.get(n);if(a)return a;var s=YI(e,t);return GI.set(n,s),s},XI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,P0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Pz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},L0e=Object.keys(Pz),Cp="NaN";function M0e(r,e){return r*Pz[e]}class tl{static parse(e){var t,[,n,a]=(t=I0e.exec(e))!==null&&t!==void 0?t:[];return new tl(parseFloat(n),a??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Vl(e)&&(this.unit=""),t!==""&&!P0e.test(t)&&(this.num=NaN,this.unit=""),L0e.includes(t)&&(this.num=M0e(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new tl(NaN,""):new tl(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new tl(NaN,""):new tl(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tl(NaN,""):new tl(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tl(NaN,""):new tl(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vl(this.num)}}function Iz(r){if(r.includes(Cp))return Cp;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,a,s]=(t=XI.exec(e))!==null&&t!==void 0?t:[],i=tl.parse(n??""),l=tl.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return Cp;e=e.replace(XI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,A,h,p]=(u=JI.exec(e))!==null&&u!==void 0?u:[],m=tl.parse(A??""),y=tl.parse(p??""),g=h==="+"?m.add(y):m.subtract(y);if(g.isNaN())return Cp;e=e.replace(JI,g.toString())}return e}var ZI=/\(([^()]*)\)/;function R0e(r){for(var e=r,t;(t=ZI.exec(e))!=null;){var[,n]=t;e=e.replace(ZI,Iz(n))}return e}function U0e(r){var e=r.replace(/\s+/g,"");return e=R0e(e),e=Iz(e),e}function Q0e(r){try{return U0e(r)}catch{return Cp}}function jB(r){var e=Q0e(r.slice(5,-1));return e===Cp?"":e}var H0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],z0e=["dx","dy","angle","className","breakAll"];function X4(){return X4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},X4.apply(null,arguments)}function eL(r,e){if(r==null)return{};var t,n,a=K0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function K0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Lz=/[ \f\n\r\t\v\u2028\u2029]+/,Mz=r=>{var{children:e,breakAll:t,style:n}=r;try{var a=[];wi(e)||(t?a=e.toString().split(""):a=e.toString().split(Lz));var s=a.map(l=>({word:l,width:oy(l,n).width})),i=t?0:oy("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},$0e=(r,e,t,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=r,u=xr(s),A=i,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((Q,R)=>{var{word:K,width:ee}=R,Y=Q[Q.length-1];if(Y&&(n==null||a||Y.width+ee+t<Number(n)))Y.words.push(K),Y.width+=ee+t;else{var se={words:[K],width:ee};Q.push(se)}return Q},[])},p=h(e),m=z=>z.reduce((I,Q)=>I.width>Q.width?I:Q);if(!u||a)return p;var y=p.length>s||m(p).width>Number(n);if(!y)return p;for(var g="",v=z=>{var I=A.slice(0,z),Q=Mz({breakAll:c,style:l,children:I+g}).wordsWithComputedWidth,R=h(Q),K=R.length>s||m(R).width>Number(n);return[K,R]},w=0,S=A.length-1,C=0,E;w<=S&&C<=A.length-1;){var _=Math.floor((w+S)/2),L=_-1,[D,P]=v(L),[k]=v(_);if(!D&&!k&&(w=_+1),D&&k&&(S=_-1),!D&&k){E=P;break}C++}return E||p},tL=r=>{var e=wi(r)?[]:r.toString().split(Lz);return[{words:e}]},V0e=r=>{var{width:e,scaleToFit:t,children:n,style:a,breakAll:s,maxLines:i}=r;if((e||t)&&!q0.isSsr){var l,c,u=Mz({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:A,spaceWidth:h}=u;l=A,c=h}else return tL(n);return $0e({breakAll:s,children:n,maxLines:i,style:a},l,c,e,t)}return tL(n)},rL="#808080",YC=B.forwardRef((r,e)=>{var{x:t=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=rL}=r,A=eL(r,H0e),h=B.useMemo(()=>V0e({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:i,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,i,A.style,A.width]),{dx:p,dy:m,angle:y,className:g,breakAll:v}=A,w=eL(A,z0e);if(!wd(t)||!wd(n)||h.length===0)return null;var S=t+(xr(p)?p:0),C=n+(xr(m)?m:0),E;switch(c){case"start":E=jB("calc(".concat(s,")"));break;case"middle":E=jB("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:E=jB("calc(".concat(h.length-1," * -").concat(a,")"));break}var _=[];if(i){var L=h[0].width,{width:D}=A;_.push("scale(".concat(xr(D)?D/L:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(S,", ").concat(C,")")),_.length&&(w.transform=_.join(" ")),B.createElement("text",X4({},ti(w,!0),{ref:e,x:S,y:C,className:An("recharts-text",g),textAnchor:l,fill:u.includes("url")?rL:u}),h.map((P,k)=>{var z=P.words.join(v?"":" ");return B.createElement("tspan",{x:S,dy:k===0?E:a,key:"".concat(z,"-").concat(k)},z)}))});YC.displayName="Text";var q0e=["labelRef"];function G0e(r,e){if(r==null)return{};var t,n,a=W0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function W0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function nL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function fs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(t),!0).forEach(function(n){Y0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Y0e(r,e,t){return(e=X0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function X0e(r){var e=J0e(r,"string");return typeof e=="symbol"?e:e+""}function J0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function hA(){return hA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hA.apply(null,arguments)}var Rz=B.createContext(null),Z0e=r=>{var{x:e,y:t,width:n,height:a,children:s}=r,i=B.useMemo(()=>({x:e,y:t,width:n,height:a}),[e,t,n,a]);return B.createElement(Rz.Provider,{value:i},s)},Uz=()=>{var r=B.useContext(Rz),e=W_();return r||e},eme=B.createContext(null),tme=()=>{var r=B.useContext(eme),e=hr(j9);return r||e},rme=r=>{var{value:e,formatter:t}=r,n=wi(r.children)?e:r.children;return typeof t=="function"?t(n):n},o3=r=>r!=null&&typeof r=="function",nme=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),360);return t*n},ame=(r,e,t,n,a)=>{var{offset:s,className:i}=r,{cx:l,cy:c,innerRadius:u,outerRadius:A,startAngle:h,endAngle:p,clockWise:m}=a,y=(u+A)/2,g=nme(h,p),v=g>=0?1:-1,w,S;switch(e){case"insideStart":w=h+v*s,S=m;break;case"insideEnd":w=p-v*s,S=!m;break;case"end":w=p+v*s,S=m;break;default:throw new Error("Unsupported position ".concat(e))}S=g<=0?S:!S;var C=Ps(l,c,y,w),E=Ps(l,c,y,w+(S?1:-1)*359),_="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),L=wi(r.id)?Sy("recharts-radial-line-"):r.id;return B.createElement("text",hA({},n,{dominantBaseline:"central",className:An("recharts-radial-bar-label",i)}),B.createElement("defs",null,B.createElement("path",{id:L,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(L)},t))},sme=(r,e,t)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=r,u=(l+c)/2;if(t==="outside"){var{x:A,y:h}=Ps(n,a,i+e,u);return{x:A,y:h,textAnchor:A>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(s+i)/2,{x:m,y}=Ps(n,a,p,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},Qz=r=>"cx"in r&&xr(r.cx),ime=(r,e)=>{var{parentViewBox:t,offset:n,position:a}=r,s;t!=null&&!Qz(t)&&(s=t);var{x:i,y:l,width:c,height:u}=e,A=u>=0?1:-1,h=A*n,p=A>0?"end":"start",m=A>0?"start":"end",y=c>=0?1:-1,g=y*n,v=y>0?"end":"start",w=y>0?"start":"end";if(a==="top"){var S={x:i+c/2,y:l-A*n,textAnchor:"middle",verticalAnchor:p};return fs(fs({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var C={x:i+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return fs(fs({},C),s?{height:Math.max(s.y+s.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:i-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return fs(fs({},E),s?{width:Math.max(E.x-s.x,0),height:u}:{})}if(a==="right"){var _={x:i+c+g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return fs(fs({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:u}:{})}var L=s?{width:c,height:u}:{};return a==="insideLeft"?fs({x:i+g,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},L):a==="insideRight"?fs({x:i+c-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},L):a==="insideTop"?fs({x:i+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},L):a==="insideBottom"?fs({x:i+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},L):a==="insideTopLeft"?fs({x:i+g,y:l+h,textAnchor:w,verticalAnchor:m},L):a==="insideTopRight"?fs({x:i+c-g,y:l+h,textAnchor:v,verticalAnchor:m},L):a==="insideBottomLeft"?fs({x:i+g,y:l+u-h,textAnchor:w,verticalAnchor:p},L):a==="insideBottomRight"?fs({x:i+c-g,y:l+u-h,textAnchor:v,verticalAnchor:p},L):a&&typeof a=="object"&&(xr(a.x)||d0(a.x))&&(xr(a.y)||d0(a.y))?fs({x:i+co(a.x,c),y:l+co(a.y,u),textAnchor:"end",verticalAnchor:"end"},L):fs({x:i+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},L)},ome={offset:5};function Ph(r){var e=Do(r,ome),{viewBox:t,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=e,A=tme(),h=Uz(),p=n==="center"?h:A??h,m=t||p;if(!m||wi(a)&&wi(s)&&!B.isValidElement(i)&&typeof i!="function")return null;var y=fs(fs({},e),{},{viewBox:m});if(B.isValidElement(i)){var{labelRef:g}=y,v=G0e(y,q0e);return B.cloneElement(i,v)}var w;if(typeof i=="function"){if(w=B.createElement(i,y),B.isValidElement(w))return w}else w=rme(e);var S=Qz(m),C=ti(e,!0);if(S&&(n==="insideStart"||n==="insideEnd"||n==="end"))return ame(e,n,w,C,m);var E=S?sme(m,e.offset,e.position):ime(e,m);return B.createElement(YC,hA({ref:u,className:An("recharts-label",l)},C,E,{breakAll:c}),w)}Ph.displayName="Label";var lme=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?B.createElement(Ph,hA({key:"label-implicit"},n)):wd(r)?B.createElement(Ph,hA({key:"label-implicit",value:r},n)):B.isValidElement(r)?r.type===Ph?B.cloneElement(r,fs({key:"label-implicit"},n)):B.createElement(Ph,hA({key:"label-implicit",content:r},n)):o3(r)?B.createElement(Ph,hA({key:"label-implicit",content:r},n)):r&&typeof r=="object"?B.createElement(Ph,hA({},r,{key:"label-implicit"},n)):null};function cme(r){var{label:e}=r,t=Uz();return lme(e,t)||null}var _B={},TB={},aL;function ume(){return aL||(aL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(TB)),TB}var kB={},sL;function dme(){return sL||(sL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(kB)),kB}var iL;function Ame(){return iL||(iL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=ume(),t=dme(),n=R_();function a(s){if(n.isArrayLike(s))return e.last(t.toArray(s))}r.last=a})(_B)),_B}var FB,oL;function hme(){return oL||(oL=1,FB=Ame().last),FB}var fme=hme();const mme=Pc(fme);var pme=["valueAccessor"],gme=["dataKey","clockWise","id","textBreakAll"];function h2(){return h2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},h2.apply(null,arguments)}function lL(r,e){if(r==null)return{};var t,n,a=xme(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function xme(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var yme=r=>Array.isArray(r.value)?mme(r.value):r.value,Hz=B.createContext(void 0),vme=Hz.Provider,zz=B.createContext(void 0),bme=zz.Provider;function wme(){return B.useContext(Hz)}function Cme(){return B.useContext(zz)}function gw(r){var{valueAccessor:e=yme}=r,t=lL(r,pme),{dataKey:n,clockWise:a,id:s,textBreakAll:i}=t,l=lL(t,gme),c=wme(),u=Cme(),A=c||u;return!A||!A.length?null:B.createElement(ul,{className:"recharts-label-list"},A.map((h,p)=>{var m,y=wi(n)?e(h,p):Ka(h&&h.payload,n),g=wi(s)?{}:{id:"".concat(s,"-").concat(p)};return B.createElement(Ph,h2({},ti(h,!0),l,g,{fill:(m=t.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:i,viewBox:h.viewBox,key:"label-".concat(p),index:p}))}))}gw.displayName="LabelList";function Kz(r){var{label:e}=r;return e?e===!0?B.createElement(gw,{key:"labelList-implicit"}):B.isValidElement(e)||o3(e)?B.createElement(gw,{key:"labelList-implicit",content:e}):typeof e=="object"?B.createElement(gw,h2({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var $z=r=>r.graphicalItems.polarItems,Nme=Ze([Pa,vv],PT),l3=Ze([$z,Ns,Nme],LT),Sme=Ze([l3],MT),c3=Ze([Sme,CT],RT),Bme=Ze([c3,Ns,l3],QT),Eme=Ze([c3,Ns,l3],(r,e,t)=>t.length>0?r.flatMap(n=>t.flatMap(a=>{var s,i=Ka(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?r.map(n=>({value:Ka(n,e.dataKey),errorDomain:[]})):r.map(n=>({value:n,errorDomain:[]}))),cL=()=>{},jme=Ze([Ns,G9,cL,Eme,cL,wn,Pa],zT),Vz=Ze([Ns,wn,c3,Bme,yv,Pa,jme],KT),_me=Ze([Vz,Ns,Eg],qT);Ze([Ns,Vz,_me,Pa],WT);var Tme={radiusAxis:{},angleAxis:{}},qz=Jl({name:"polarAxis",initialState:Tme,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:UMe,removeRadiusAxis:QMe,addAngleAxis:HMe,removeAngleAxis:zMe}=qz.actions,kme=qz.reducer;function uL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function dL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(t),!0).forEach(function(n){Fme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Fme(r,e,t){return(e=Ome(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ome(r){var e=Dme(r,"string");return typeof e=="symbol"?e:e+""}function Dme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Pme=(r,e)=>e,u3=Ze([$z,Pme],(r,e)=>r.filter(t=>t.type==="pie").find(t=>t.id===e)),Ime=[],d3=(r,e,t)=>t?.length===0?Ime:t,Gz=Ze([CT,u3,d3],(r,e,t)=>{var{chartData:n}=r;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&t!=null&&(a=t.map(s=>dL(dL({},e.presentationProps),s.props))),a!=null)return a}}),Lme=Ze([Gz,u3,d3],(r,e,t)=>{if(!(r==null||e==null))return r.map((n,a)=>{var s,i=Ka(n,e.nameKey,e.name),l;return t!=null&&(s=t[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=t[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:jC(i,e.dataKey),color:l,payload:n,type:e.legendType}})}),Mme=Ze([Gz,u3,d3,ri],(r,e,t,n)=>{if(!(e==null||r==null))return Lpe({offset:n,pieSettings:e,displayedData:r,cells:t})}),OB={},AL;function Rme(){return AL||(AL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const a=t[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${a}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(OB)),OB}var DB,hL;function Ume(){return hL||(hL=1,DB=Rme().isPlainObject),DB}var Qme=Ume();const Hme=Pc(Qme);function fL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function mL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(t),!0).forEach(function(n){zme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zme(r,e,t){return(e=Kme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kme(r){var e=$me(r,"string");return typeof e=="symbol"?e:e+""}function $me(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function f2(){return f2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},f2.apply(null,arguments)}var pL=(r,e,t,n,a)=>{var s=t-n,i;return i="M ".concat(r,",").concat(e),i+="L ".concat(r+t,",").concat(e),i+="L ".concat(r+t-s/2,",").concat(e+a),i+="L ".concat(r+t-s/2-n,",").concat(e+a),i+="L ".concat(r,",").concat(e," Z"),i},Vme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qme=r=>{var e=Do(r,Vme),{x:t,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:A,isUpdateAnimationActive:h}=e,p=B.useRef(),[m,y]=B.useState(-1),g=B.useRef(a),v=B.useRef(s),w=B.useRef(i),S=B.useRef(t),C=B.useRef(n),E=DC(r,"trapezoid-");if(B.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var K=p.current.getTotalLength();K&&y(K)}catch{}},[]),t!==+t||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var _=An("recharts-trapezoid",l);if(!h)return B.createElement("g",null,B.createElement("path",f2({},ti(e,!0),{className:_,d:pL(t,n,a,s,i)})));var L=g.current,D=v.current,P=w.current,k=S.current,z=C.current,I="0px ".concat(m===-1?1:m,"px"),Q="".concat(m,"px 0px"),R=xH(["strokeDasharray"],u,c);return B.createElement(OC,{animationId:E,key:E,canBegin:m>0,duration:u,easing:c,isActive:h,begin:A},K=>{var ee=Qi(L,a,K),Y=Qi(D,s,K),se=Qi(P,i,K),X=Qi(k,t,K),Ae=Qi(z,n,K);p.current&&(g.current=ee,v.current=Y,w.current=se,S.current=X,C.current=Ae);var ge=K>0?{transition:R,strokeDasharray:Q}:{strokeDasharray:I};return B.createElement("path",f2({},ti(e,!0),{className:_,d:pL(X,Ae,ee,Y,se),ref:p,style:mL(mL({},ge),e.style)}))})},Gme=["option","shapeType","propTransformer","activeClassName","isActive"];function Wme(r,e){if(r==null)return{};var t,n,a=Yme(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Yme(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function gL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function m2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(t),!0).forEach(function(n){Xme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Xme(r,e,t){return(e=Jme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Jme(r){var e=Zme(r,"string");return typeof e=="symbol"?e:e+""}function Zme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function epe(r,e){return m2(m2({},e),r)}function tpe(r,e){return r==="symbols"}function xL(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return B.createElement(wH,t);case"trapezoid":return B.createElement(qme,t);case"sector":return B.createElement(SH,t);case"symbols":if(tpe(e))return B.createElement(I_,t);break;default:return null}}function rpe(r){return B.isValidElement(r)?r.props:r}function Wz(r){var{option:e,shapeType:t,propTransformer:n=epe,activeClassName:a="recharts-active-shape",isActive:s}=r,i=Wme(r,Gme),l;if(B.isValidElement(e))l=B.cloneElement(e,m2(m2({},i),rpe(e)));else if(typeof e=="function")l=e(i);else if(Hme(e)&&typeof e!="boolean"){var c=n(e,i);l=B.createElement(xL,{shapeType:t,elementProps:c})}else{var u=i;l=B.createElement(xL,{shapeType:t,elementProps:u})}return s?B.createElement(ul,{className:a},l):l}var A3=(r,e)=>{var t=qa();return(n,a)=>s=>{r?.(n,a,s),t(uz({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},h3=r=>{var e=qa();return(t,n)=>a=>{r?.(t,n,a),e(Mhe())}},f3=(r,e)=>{var t=qa();return(n,a)=>s=>{r?.(n,a,s),t(Rhe({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function Yz(r){var{fn:e,args:t}=r,n=qa(),a=Lc();return B.useEffect(()=>{if(!a){var s=e(t);return n(Phe(s)),()=>{n(Ihe(s))}}},[e,t,n,a]),null}var Xz=()=>{};function npe(r){var{legendPayload:e}=r,t=qa(),n=Lc();return B.useEffect(()=>n?Xz:(t(fH(e)),()=>{t(mH(e))}),[t,n,e]),null}function ape(r){var{legendPayload:e}=r,t=qa(),n=hr(wn);return B.useEffect(()=>n!=="centric"&&n!=="radial"?Xz:(t(fH(e)),()=>{t(mH(e))}),[t,n,e]),null}var PB,spe=()=>{var[r]=B.useState(()=>Sy("uid-"));return r},ipe=(PB=CY.useId)!==null&&PB!==void 0?PB:spe;function ope(r,e){var t=ipe();return e||(r?"".concat(r,"-").concat(t):t)}var lpe=B.createContext(void 0),Jz=r=>{var{id:e,type:t,children:n}=r,a=ope("recharts-".concat(t),e);return B.createElement(lpe.Provider,{value:a},n(a))},cpe={cartesianItems:[],polarItems:[]},Zz=Jl({name:"graphicalItems",initialState:cpe,reducers:{addCartesianGraphicalItem(r,e){r.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(r,e){var{prev:t,next:n}=e.payload,a=yA(r).cartesianItems.indexOf(t);a>-1&&(r.cartesianItems[a]=n)},removeCartesianGraphicalItem(r,e){var t=yA(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},addPolarGraphicalItem(r,e){r.polarItems.push(e.payload)},removePolarGraphicalItem(r,e){var t=yA(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)}}}),{addCartesianGraphicalItem:upe,replaceCartesianGraphicalItem:dpe,removeCartesianGraphicalItem:Ape,addPolarGraphicalItem:hpe,removePolarGraphicalItem:fpe}=Zz.actions,mpe=Zz.reducer;function ppe(r){var e=qa(),t=B.useRef(null);return B.useEffect(()=>{t.current===null?e(upe(r)):t.current!==r&&e(dpe({prev:t.current,next:r})),t.current=r},[e,r]),B.useEffect(()=>()=>{t.current&&(e(Ape(t.current)),t.current=null)},[e]),null}function gpe(r){var e=qa();return B.useEffect(()=>(e(hpe(r)),()=>{e(fpe(r))}),[e,r]),null}var xpe=["onMouseEnter","onClick","onMouseLeave"],ype=["id"],vpe=["id"];function m3(r,e){if(r==null)return{};var t,n,a=bpe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function bpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function yL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Fa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(t),!0).forEach(function(n){wpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wpe(r,e,t){return(e=Cpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cpe(r){var e=Npe(r,"string");return typeof e=="symbol"?e:e+""}function Npe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ef(){return ef=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ef.apply(null,arguments)}function Spe(r){var e=B.useMemo(()=>k_(r.children,Zh),[r.children]),t=hr(n=>Lme(n,r.id,e));return t==null?null:B.createElement(ape,{legendPayload:t})}function Bpe(r){var{dataKey:e,nameKey:t,sectors:n,stroke:a,strokeWidth:s,fill:i,name:l,hide:c,tooltipType:u}=r;return{dataDefinedOnItem:n.map(A=>A.tooltipPayload),positions:n.map(A=>A.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:e,nameKey:t,name:jC(l,e),hide:c,type:u,color:i,unit:""}}}var Epe=(r,e)=>r>e?"start":r<e?"end":"middle",jpe=(r,e,t)=>co(typeof e=="function"?e(r):e,t,t*.8),_pe=(r,e,t)=>{var{top:n,left:a,width:s,height:i}=e,l=sH(s,i),c=a+co(r.cx,s,s/2),u=n+co(r.cy,i,i/2),A=co(r.innerRadius,l,0),h=jpe(t,r.outerRadius,l),p=r.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:A,outerRadius:h,maxRadius:p}},Tpe=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),360);return t*n};function kpe(r){return r&&typeof r=="object"&&"className"in r&&typeof r.className=="string"?r.className:""}var Fpe=(r,e)=>{if(B.isValidElement(r))return B.cloneElement(r,e);if(typeof r=="function")return r(e);var t=An("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(gH,ef({},e,{type:"linear",className:t}))},Ope=(r,e,t)=>{if(B.isValidElement(r))return B.cloneElement(r,e);var n=t;if(typeof r=="function"&&(n=r(e),B.isValidElement(n)))return n;var a=An("recharts-pie-label-text",kpe(r));return B.createElement(YC,ef({},e,{alignmentBaseline:"middle",className:a}),n)};function Dpe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a,labelLine:s,dataKey:i}=t;if(!n||!a||!e)return null;var l=mf(t),c=ti(a,!1),u=ti(s,!1),A=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=e.map((p,m)=>{var y=(p.startAngle+p.endAngle)/2,g=Ps(p.cx,p.cy,p.outerRadius+A,y),v=Fa(Fa(Fa(Fa({},l),p),{},{stroke:"none"},c),{},{index:m,textAnchor:Epe(g.x,p.cx)},g),w=Fa(Fa(Fa(Fa({},l),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Ps(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return B.createElement(ul,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},s&&Fpe(s,w),Ope(a,v,Ka(p,i)))});return B.createElement(ul,{className:"recharts-pie-labels"},h)}function Ppe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a}=t;return typeof a=="object"&&a!=null&&"position"in a?B.createElement(Kz,{label:a}):B.createElement(Dpe,{sectors:e,props:t,showLabels:n})}function Ipe(r){var{sectors:e,activeShape:t,inactiveShape:n,allOtherPieProps:a}=r,s=hr(I0),{onMouseEnter:i,onClick:l,onMouseLeave:c}=a,u=m3(a,xpe),A=A3(i,a.dataKey),h=h3(c),p=f3(l,a.dataKey);return e==null||e.length===0?null:B.createElement(B.Fragment,null,e.map((m,y)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var g=t&&String(y)===s,v=s?n:null,w=g?t:v,S=Fa(Fa({},m),{},{stroke:m.stroke,tabIndex:-1,[uH]:y,[dH]:a.dataKey});return B.createElement(ul,ef({tabIndex:-1,className:"recharts-pie-sector"},dv(u,m,y),{onMouseEnter:A(m,y),onMouseLeave:h(m,y),onClick:p(m,y),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(y)}),B.createElement(Wz,ef({option:w,isActive:g,shapeType:"sector"},S)))}))}function Lpe(r){var e,{pieSettings:t,displayedData:n,cells:a,offset:s}=r,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:u,nameKey:A,tooltipType:h}=t,p=Math.abs(t.minAngle),m=Tpe(l,c),y=Math.abs(m),g=n.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(L=>Ka(L,u,0)!==0).length,w=(y>=360?v:v-1)*g,S=y-v*p-w,C=n.reduce((L,D)=>{var P=Ka(D,u,0);return L+(xr(P)?P:0)},0),E;if(C>0){var _;E=n.map((L,D)=>{var P=Ka(L,u,0),k=Ka(L,A,D),z=_pe(t,s,L),I=(xr(P)?P:0)/C,Q,R=Fa(Fa({},L),a&&a[D]&&a[D].props);D?Q=_.endAngle+gi(m)*g*(P!==0?1:0):Q=l;var K=Q+gi(m)*((P!==0?p:0)+I*S),ee=(Q+K)/2,Y=(z.innerRadius+z.outerRadius)/2,se=[{name:k,value:P,payload:R,dataKey:u,type:h}],X=Ps(z.cx,z.cy,Y,ee);return _=Fa(Fa(Fa(Fa({},t.presentationProps),{},{percent:I,cornerRadius:i,name:k,tooltipPayload:se,midAngle:ee,middleRadius:Y,tooltipPosition:X},R),z),{},{value:P,startAngle:Q,endAngle:K,payload:R,paddingAngle:gi(m)*g}),_})}return E}function Mpe(r){var{showLabels:e,sectors:t,children:n}=r,a=B.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return B.createElement(bme,{value:e?a:void 0},n)}function Rpe(r){var{props:e,previousSectorsRef:t}=r,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:A,onAnimationEnd:h}=e,p=DC(e,"recharts-pie-"),m=t.current,[y,g]=B.useState(!1),v=B.useCallback(()=>{typeof h=="function"&&h(),g(!1)},[h]),w=B.useCallback(()=>{typeof A=="function"&&A(),g(!0)},[A]);return B.createElement(Mpe,{showLabels:!y,sectors:n},B.createElement(OC,{animationId:p,begin:s,duration:i,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:v,key:p},S=>{var C=[],E=n&&n[0],_=E?.startAngle;return n?.forEach((L,D)=>{var P=m&&m[D],k=D>0?F0(L,"paddingAngle",0):0;if(P){var z=Qi(P.endAngle-P.startAngle,L.endAngle-L.startAngle,S),I=Fa(Fa({},L),{},{startAngle:_+k,endAngle:_+z+k});C.push(I),_=I.endAngle}else{var{endAngle:Q,startAngle:R}=L,K=Qi(0,Q-R,S),ee=Fa(Fa({},L),{},{startAngle:_+k,endAngle:_+K+k});C.push(ee),_=ee.endAngle}}),t.current=C,B.createElement(ul,null,B.createElement(Ipe,{sectors:C,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),B.createElement(Ppe,{showLabels:!y,sectors:n,props:e}),e.children)}var Upe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!q0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Qpe(r){var{id:e}=r,t=m3(r,ype),{hide:n,className:a,rootTabIndex:s}=r,i=B.useMemo(()=>k_(r.children,Zh),[r.children]),l=hr(A=>Mme(A,e,i)),c=B.useRef(null),u=An("recharts-pie",a);return n||l==null?(c.current=null,B.createElement(ul,{tabIndex:s,className:u})):B.createElement(B.Fragment,null,B.createElement(Yz,{fn:Bpe,args:Fa(Fa({},r),{},{sectors:l})}),B.createElement(ul,{tabIndex:s,className:u},B.createElement(Rpe,{props:Fa(Fa({},t),{},{sectors:l}),previousSectorsRef:c})))}function Iy(r){var e=Do(r,Upe),{id:t}=e,n=m3(e,vpe),a=mf(n);return B.createElement(Jz,{id:t,type:"pie"},s=>B.createElement(B.Fragment,null,B.createElement(gpe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),B.createElement(Spe,ef({},n,{id:s})),B.createElement(Qpe,ef({},n,{id:s}))))}Iy.displayName="Pie";function vL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function bL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(t),!0).forEach(function(n){Hpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hpe(r,e,t){return(e=zpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zpe(r){var e=Kpe(r,"string");return typeof e=="symbol"?e:e+""}function Kpe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $pe={xAxis:{},yAxis:{},zAxis:{}},eK=Jl({name:"cartesianAxis",initialState:$pe,reducers:{addXAxis(r,e){r.xAxis[e.payload.id]=e.payload},removeXAxis(r,e){delete r.xAxis[e.payload.id]},addYAxis(r,e){r.yAxis[e.payload.id]=e.payload},removeYAxis(r,e){delete r.yAxis[e.payload.id]},addZAxis(r,e){r.zAxis[e.payload.id]=e.payload},removeZAxis(r,e){delete r.zAxis[e.payload.id]},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload;r.yAxis[t]&&(r.yAxis[t]=bL(bL({},r.yAxis[t]),{},{width:n}))}}}),{addXAxis:Vpe,removeXAxis:qpe,addYAxis:Gpe,removeYAxis:Wpe,addZAxis:KMe,removeZAxis:$Me,updateYAxisWidth:Ype}=eK.actions,Xpe=eK.reducer,Jpe=Ze([ri],r=>{if(r)return{top:r.top,bottom:r.bottom,left:r.left,right:r.right}}),Zpe=Ze([Jpe,MA,RA],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),tK=()=>hr(Zpe),ege="Invariant failed";function ea(r,e){if(!r)throw new Error(ege)}var tge=["x","y"];function J4(){return J4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},J4.apply(null,arguments)}function wL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ox(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(t),!0).forEach(function(n){rge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rge(r,e,t){return(e=nge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nge(r){var e=age(r,"string");return typeof e=="symbol"?e:e+""}function age(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function sge(r,e){if(r==null)return{};var t,n,a=ige(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function ige(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function oge(r,e){var{x:t,y:n}=r,a=sge(r,tge),s="".concat(t),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),A=parseInt(u,10),h="".concat(e.width||a.width),p=parseInt(h,10);return Ox(Ox(Ox(Ox(Ox({},e),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:A,width:p,name:e.name,radius:e.radius})}function p3(r){return B.createElement(Wz,J4({shapeType:"rectangle",propTransformer:oge,activeClassName:"recharts-active-bar"},r))}var lge=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(xr(e))return e;var s=xr(n)||wi(n);return s?e(n,a):(s||ea(!1),t)}},cge={},rK=Jl({name:"errorBars",initialState:cge,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:a}=e.payload;r[t]&&(r[t]=r[t].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:VMe,replaceErrorBar:qMe,removeErrorBar:GMe}=rK.actions,uge=rK.reducer,dge=["children"];function Age(r,e){if(r==null)return{};var t,n,a=hge(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function hge(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var fge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mge=B.createContext(fge);function pge(r){var{children:e}=r,t=Age(r,dge);return B.createElement(mge.Provider,{value:t},e)}function nK(r,e){var t,n,a=hr(u=>QA(u,r)),s=hr(u=>HA(u,e)),i=(t=a?.allowDataOverflow)!==null&&t!==void 0?t:Tl.allowDataOverflow,l=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:kl.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function gge(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,a=tK(),{needClipX:s,needClipY:i,needClip:l}=nK(e,t);if(!l)return null;var{x:c,y:u,width:A,height:h}=a;return B.createElement("clipPath",{id:"clipPath-".concat(n)},B.createElement("rect",{x:s?c:c-A/2,y:i?u:u-h/2,width:s?A:A*2,height:i?h:h*2}))}var xge=["onMouseEnter","onMouseLeave","onClick"],yge=["value","background","tooltipPosition"],vge=["id"],bge=["onMouseEnter","onClick","onMouseLeave"];function tf(){return tf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tf.apply(null,arguments)}function CL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function No(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(t),!0).forEach(function(n){wge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wge(r,e,t){return(e=Cge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cge(r){var e=Nge(r,"string");return typeof e=="symbol"?e:e+""}function Nge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function p2(r,e){if(r==null)return{};var t,n,a=Sge(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Sge(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Bge=r=>{var{dataKey:e,name:t,fill:n,legendType:a,hide:s}=r;return[{inactive:s,dataKey:e,type:a,color:n,value:jC(t,e),payload:r}]};function Ege(r){var{dataKey:e,stroke:t,strokeWidth:n,fill:a,name:s,hide:i,unit:l}=r;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:a,dataKey:e,nameKey:void 0,name:jC(s,e),hide:i,type:r.tooltipType,color:r.fill,unit:l}}}function jge(r){var e=hr(I0),{data:t,dataKey:n,background:a,allOtherBarProps:s}=r,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=p2(s,xge),A=A3(i,n),h=h3(l),p=f3(c,n);if(!a||t==null)return null;var m=ti(a,!1);return B.createElement(B.Fragment,null,t.map((y,g)=>{var{value:v,background:w,tooltipPosition:S}=y,C=p2(y,yge);if(!w)return null;var E=A(y,g),_=h(y,g),L=p(y,g),D=No(No(No(No(No({option:a,isActive:String(g)===e},C),{},{fill:"#eee"},w),m),dv(u,y,g)),{},{onMouseEnter:E,onMouseLeave:_,onClick:L,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return B.createElement(p3,tf({key:"background-bar-".concat(D.index)},D))}))}function _ge(r){var{showLabels:e,children:t,rects:n}=r,a=n?.map(s=>{var i={x:s.x,y:s.y,width:s.width,height:s.height};return No(No({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return B.createElement(vme,{value:e?a:void 0},t)}function Tge(r){var{shape:e,activeBar:t,baseProps:n,entry:a,index:s,dataKey:i}=r,l=hr(I0),c=hr(Cz),u=t&&String(s)===l&&(c==null||i===c),A=u?t:e;return B.createElement(p3,tf({},n,a,{isActive:u,option:A,index:s,dataKey:i}))}function kge(r){var{shape:e,baseProps:t,entry:n,index:a,dataKey:s}=r;return B.createElement(p3,tf({},t,n,{isActive:!1,option:e,index:a,dataKey:s}))}function Fge(r){var{data:e,props:t}=r,n=mf(t),{id:a}=n,s=p2(n,vge),{shape:i,dataKey:l,activeBar:c}=t,{onMouseEnter:u,onClick:A,onMouseLeave:h}=t,p=p2(t,bge),m=A3(u,l),y=h3(h),g=f3(A,l);return e?B.createElement(B.Fragment,null,e.map((v,w)=>B.createElement(ul,tf({className:"recharts-bar-rectangle"},dv(p,v,w),{onMouseEnter:m(v,w),onMouseLeave:y(v,w),onClick:g(v,w),key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(w)}),c?B.createElement(Tge,{shape:i,activeBar:c,baseProps:s,entry:v,index:w,dataKey:l}):B.createElement(kge,{shape:i,baseProps:s,entry:v,index:w,dataKey:l})))):null}function Oge(r){var{props:e,previousRectanglesRef:t}=r,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:A}=e,h=t.current,p=DC(e,"recharts-bar-"),[m,y]=B.useState(!1),g=!m,v=B.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),w=B.useCallback(()=>{typeof A=="function"&&A(),y(!0)},[A]);return B.createElement(_ge,{showLabels:g,rects:n},B.createElement(OC,{animationId:p,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:w,key:p},S=>{var C=S===1?n:n?.map((E,_)=>{var L=h&&h[_];if(L)return No(No({},E),{},{x:Qi(L.x,E.x,S),y:Qi(L.y,E.y,S),width:Qi(L.width,E.width,S),height:Qi(L.height,E.height,S)});if(a==="horizontal"){var D=Qi(0,E.height,S);return No(No({},E),{},{y:E.y+E.height-D,height:D})}var P=Qi(0,E.width,S);return No(No({},E),{},{width:P})});return S>0&&(t.current=C??null),C==null?null:B.createElement(ul,null,B.createElement(Fge,{props:e,data:C}))}),B.createElement(Kz,{label:e.label}),e.children)}function Dge(r){var e=B.useRef(null);return B.createElement(Oge,{previousRectanglesRef:e,props:r})}var aK=0,Pge=(r,e)=>{var t=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:t,errorVal:Ka(r,e)}};class Ige extends B.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(e||t==null)return null;var A=An("recharts-bar",a),h=u;return B.createElement(ul,{className:A,id:u},l&&B.createElement("defs",null,B.createElement(gge,{clipPathId:h,xAxisId:s,yAxisId:i})),B.createElement(ul,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},B.createElement(jge,{data:t,dataKey:n,background:c,allOtherBarProps:this.props}),B.createElement(Dge,this.props)))}}var Lge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!q0.isSsr,legendType:"rect",minPointSize:aK,xAxisId:0,yAxisId:0};function Mge(r){var{xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:A}=r,{needClip:h}=nK(e,t),p=J_(),m=Lc(),y=k_(r.children,Zh),g=hr(S=>Axe(S,e,t,m,r.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,w=g?.[0];return w==null||w.height==null||w.width==null?v=0:v=p==="vertical"?w.height/2:w.width/2,B.createElement(pge,{xAxisId:e,yAxisId:t,data:g,dataPointFormatter:Pge,errorBarOffset:v},B.createElement(Ige,tf({},r,{layout:p,needClip:h,data:g,xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:A})))}function Rge(r){var{layout:e,barSettings:{dataKey:t,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:A,displayedData:h,offset:p,cells:m,parentViewBox:y}=r,g=e==="horizontal"?l:i,v=A?g.scale.domain():null,w=ele({numericAxis:g});return h.map((S,C)=>{var E,_,L,D,P,k;A?E=Goe(A[C],v):(E=Ka(S,t),Array.isArray(E)||(E=[w,E]));var z=lge(n,aK)(E[1],C);if(e==="horizontal"){var I,[Q,R]=[l.scale(E[0]),l.scale(E[1])];_=uP({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:S,index:C}),L=(I=R??Q)!==null&&I!==void 0?I:void 0,D=a.size;var K=Q-R;if(P=Vl(K)?0:K,k={x:_,y:p.top,width:D,height:p.height},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var ee=gi(P||z)*(Math.abs(z)-Math.abs(P));L-=ee,P+=ee}}else{var[Y,se]=[i.scale(E[0]),i.scale(E[1])];if(_=Y,L=uP({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:S,index:C}),D=se-Y,P=a.size,k={x:p.left,y:L,width:p.width,height:P},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var X=gi(D||z)*(Math.abs(z)-Math.abs(D));D+=X}}if(_==null||L==null||D==null||P==null)return null;var Ae=No(No({},S),{},{x:_,y:L,width:D,height:P,value:A?E:E[1],payload:S,background:k,tooltipPosition:{x:_+D/2,y:L+P/2},parentViewBox:y},m&&m[C]&&m[C].props);return Ae}).filter(Boolean)}function Uge(r){var e=Do(r,Lge),t=Lc();return B.createElement(Jz,{id:e.id,type:"bar"},n=>B.createElement(B.Fragment,null,B.createElement(npe,{legendPayload:Bge(e)}),B.createElement(Yz,{fn:Ege,args:e}),B.createElement(ppe,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Zoe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),B.createElement(Mge,tf({},e,{id:n}))))}var Z4=B.memo(Uge);Z4.displayName="Bar";function NL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function cb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(t),!0).forEach(function(n){Qge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Qge(r,e,t){return(e=Hge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Hge(r){var e=zge(r,"string");return typeof e=="symbol"?e:e+""}function zge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Kge=(r,e)=>e,$ge=(r,e,t)=>t,Vge=(r,e,t,n)=>n,qge=(r,e,t,n,a)=>a,Bv=Ze([IT,qge],(r,e)=>r.filter(t=>t.type==="bar").find(t=>t.id===e)),Gge=Ze([Bv],r=>r?.maxBarSize),Wge=(r,e,t,n,a,s)=>s,SL=(r,e,t)=>{var n=t??r;if(!wi(n))return co(n,e,0)},Yge=Ze([wn,IT,Kge,$ge,Vge],(r,e,t,n,a)=>e.filter(s=>r==="horizontal"?s.xAxisId===t:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Xge=(r,e,t,n)=>{var a=wn(r);return a==="horizontal"?V4(r,"yAxis",t,n):V4(r,"xAxis",e,n)},Jge=(r,e,t)=>{var n=wn(r);return n==="horizontal"?EI(r,"xAxis",e):EI(r,"yAxis",t)},Zge=(r,e,t)=>{var n={},a=r.filter(KC),s=r.filter(u=>u.stackId==null),i=a.reduce((u,A)=>(u[A.stackId]||(u[A.stackId]=[]),u[A.stackId].push(A),u),n),l=Object.entries(i).map(u=>{var[A,h]=u,p=h.map(y=>y.dataKey),m=SL(e,t,h[0].barSize);return{stackId:A,dataKeys:p,barSize:m}}),c=s.map(u=>{var A=[u.dataKey].filter(p=>p!=null),h=SL(e,t,u.barSize);return{stackId:void 0,dataKeys:A,barSize:h}});return[...l,...c]},exe=Ze([Yge,DAe,Jge],Zge),txe=(r,e,t,n,a)=>{var s,i,l=Bv(r,e,t,n,a);if(l!=null){var c=wn(r),u=b9(r),{maxBarSize:A}=l,h=wi(A)?u:A,p,m;return c==="horizontal"?(p=ag(r,"xAxis",e,n),m=ng(r,"xAxis",e,n)):(p=ag(r,"yAxis",t,n),m=ng(r,"yAxis",t,n)),(s=(i=q_(p,m,!0))!==null&&i!==void 0?i:h)!==null&&s!==void 0?s:0}},sK=(r,e,t,n)=>{var a=wn(r),s,i;return a==="horizontal"?(s=ag(r,"xAxis",e,n),i=ng(r,"xAxis",e,n)):(s=ag(r,"yAxis",t,n),i=ng(r,"yAxis",t,n)),q_(s,i)};function rxe(r,e,t,n,a){var s=n.length;if(!(s<1)){var i=co(r,t,0,!0),l,c=[];if(Gl(n[0].barSize)){var u=!1,A=t/s,h=n.reduce((w,S)=>w+(S.barSize||0),0);h+=(s-1)*i,h>=t&&(h-=(s-1)*i,i=0),h>=t&&A>0&&(u=!0,A*=.9,h=s*A);var p=(t-h)/2>>0,m={offset:p-i,size:0};l=n.reduce((w,S)=>{var C,E={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:m.offset+m.size+i,size:u?A:(C=S.barSize)!==null&&C!==void 0?C:0}},_=[...w,E];return m=_[_.length-1].position,_},c)}else{var y=co(e,t,0,!0);t-2*y-(s-1)*i<=0&&(i=0);var g=(t-2*y-(s-1)*i)/s;g>1&&(g>>=0);var v=Gl(a)?Math.min(g,a):g;l=n.reduce((w,S,C)=>[...w,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(g+i)*C+(g-v)/2,size:v}}],c)}return l}}var nxe=(r,e,t,n,a,s,i)=>{var l=wi(i)?e:i,c=rxe(t,n,a!==s?a:s,r,l);return a!==s&&c!=null&&(c=c.map(u=>cb(cb({},u),{},{position:cb(cb({},u.position),{},{offset:u.position.offset-a/2})}))),c},axe=Ze([exe,b9,OAe,w9,txe,sK,Gge],nxe),sxe=(r,e,t,n)=>ag(r,"xAxis",e,n),ixe=(r,e,t,n)=>ag(r,"yAxis",t,n),oxe=(r,e,t,n)=>ng(r,"xAxis",e,n),lxe=(r,e,t,n)=>ng(r,"yAxis",t,n),cxe=Ze([axe,Bv],(r,e)=>{if(!(r==null||e==null)){var t=r.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),uxe=(r,e)=>{var t=OT(e);if(!(!r||t==null||e==null)){var{stackId:n}=e;if(n!=null){var a=r[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===t)}}}},dxe=Ze([Xge,Bv],uxe),Axe=Ze([ri,G_,sxe,ixe,oxe,lxe,cxe,wn,NT,sK,dxe,Bv,Wge],(r,e,t,n,a,s,i,l,c,u,A,h,p)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:g}=c;if(!(h==null||i==null||e==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||a==null||s==null||u==null)){var{data:v}=h,w;if(v!=null&&v.length>0?w=v:w=m?.slice(y,g+1),w!=null)return Rge({layout:l,barSettings:h,pos:i,parentViewBox:e,bandSize:u,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:A,displayedData:w,offset:r,cells:p})}}),iK=r=>{var{chartData:e}=r,t=qa(),n=Lc();return B.useEffect(()=>n?()=>{}:(t(LI(e)),()=>{t(LI(void 0))}),[e,t,n]),null},BL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oK=Jl({name:"brush",initialState:BL,reducers:{setBrushSettings(r,e){return e.payload==null?BL:e.payload}}}),{setBrushSettings:WMe}=oK.actions,hxe=oK.reducer;function fxe(r,e,t){return(e=mxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mxe(r){var e=pxe(r,"string");return typeof e=="symbol"?e:e+""}function pxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class g3{static create(e){return new g3(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],a=t[t.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}fxe(g3,"EPS",1e-4);function gxe(r){return(r%180+180)%180}var xxe=function(e){var{width:t,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=gxe(a),i=s*Math.PI/180,l=Math.atan(n/t),c=i>l&&i<Math.PI-l?n/Math.sin(i):t/Math.cos(i);return Math.abs(c)},yxe={dots:[],areas:[],lines:[]},lK=Jl({name:"referenceElements",initialState:yxe,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=yA(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=yA(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=yA(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:YMe,removeDot:XMe,addArea:JMe,removeArea:ZMe,addLine:eRe,removeLine:tRe}=lK.actions,vxe=lK.reducer,bxe=B.createContext(void 0),wxe=r=>{var{children:e}=r,[t]=B.useState("".concat(Sy("recharts"),"-clip")),n=tK();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return B.createElement(bxe.Provider,{value:t},B.createElement("defs",null,B.createElement("clipPath",{id:t},B.createElement("rect",{x:a,y:s,height:l,width:i}))),e)};function sg(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function cK(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],a=0;a<r.length;a+=e)n.push(r[a]);return n}function Cxe(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return xxe(n,t)}function Nxe(r,e,t){var n=t==="width",{x:a,y:s,width:i,height:l}=r;return e===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function g2(r,e,t,n,a){if(r*e<r*n||r*e>r*a)return!1;var s=t();return r*(e-r*s/2-n)>=0&&r*(e+r*s/2-a)<=0}function Sxe(r,e){return cK(r,e+1)}function Bxe(r,e,t,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=e,c=0,u=1,A=i,h=function(){var y=n?.[c];if(y===void 0)return{v:cK(n,u)};var g=c,v,w=()=>(v===void 0&&(v=t(y,g)),v),S=y.coordinate,C=c===0||g2(r,S,w,A,l);C||(c=0,A=i,u+=1),C&&(A=S+r*(w()/2+a),c+=u)},p;u<=s.length;)if(p=h(),p)return p.v;return[]}function EL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ro(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(t),!0).forEach(function(n){Exe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):EL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Exe(r,e,t){return(e=jxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jxe(r){var e=_xe(r,"string");return typeof e=="symbol"?e:e+""}function _xe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Txe(r,e,t,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=e,{end:c}=e,u=function(p){var m=s[p],y,g=()=>(y===void 0&&(y=t(m,p)),y);if(p===i-1){var v=r*(m.coordinate+r*g()/2-c);s[p]=m=ro(ro({},m),{},{tickCoord:v>0?m.coordinate-v*r:m.coordinate})}else s[p]=m=ro(ro({},m),{},{tickCoord:m.coordinate});var w=g2(r,m.tickCoord,g,l,c);w&&(c=m.tickCoord-r*(g()/2+a),s[p]=ro(ro({},m),{},{isShow:!0}))},A=i-1;A>=0;A--)u(A);return s}function kxe(r,e,t,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=e;if(s){var A=n[l-1],h=t(A,l-1),p=r*(A.coordinate+r*h/2-u);i[l-1]=A=ro(ro({},A),{},{tickCoord:p>0?A.coordinate-p*r:A.coordinate});var m=g2(r,A.tickCoord,()=>h,c,u);m&&(u=A.tickCoord-r*(h/2+a),i[l-1]=ro(ro({},A),{},{isShow:!0}))}for(var y=s?l-1:l,g=function(S){var C=i[S],E,_=()=>(E===void 0&&(E=t(C,S)),E);if(S===0){var L=r*(C.coordinate-r*_()/2-c);i[S]=C=ro(ro({},C),{},{tickCoord:L<0?C.coordinate-L*r:C.coordinate})}else i[S]=C=ro(ro({},C),{},{tickCoord:C.coordinate});var D=g2(r,C.tickCoord,_,c,u);D&&(c=C.tickCoord+r*(_()/2+a),i[S]=ro(ro({},C),{},{isShow:!0}))},v=0;v<y;v++)g(v);return i}function x3(r,e,t){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:A,angle:h}=r;if(!a||!a.length||!n)return[];if(xr(c)||q0.isSsr){var p;return(p=Sxe(a,xr(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",g=A&&y==="width"?oy(A,{fontSize:e,letterSpacing:t}):{width:0,height:0},v=(C,E)=>{var _=typeof u=="function"?u(C.value,E):C.value;return y==="width"?Cxe(oy(_,{fontSize:e,letterSpacing:t}),g,h):oy(_,{fontSize:e,letterSpacing:t})[y]},w=a.length>=2?gi(a[1].coordinate-a[0].coordinate):1,S=Nxe(s,w,y);return c==="equidistantPreserveStart"?Bxe(w,S,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=kxe(w,S,v,a,i,c==="preserveStartEnd"):m=Txe(w,S,v,a,i),m.filter(C=>C.isShow))}var Fxe=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=r,i=0;if(e){e.forEach(A=>{if(A){var h=A.getBoundingClientRect();h.width>i&&(i=h.width)}});var l=t?t.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(t?n:0);return Math.round(u)}return 0},Oxe=["axisLine","width","height","className","hide","ticks"],Dxe=["viewBox"],Pxe=["viewBox"];function ej(r,e){if(r==null)return{};var t,n,a=Ixe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Ixe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function L0(){return L0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},L0.apply(null,arguments)}function jL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Xs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(t),!0).forEach(function(n){Lxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lxe(r,e,t){return(e=Mxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mxe(r){var e=Rxe(r,"string");return typeof e=="symbol"?e:e+""}function Rxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var y3={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Uxe(r){var{x:e,y:t,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=r;if(!l)return null;var u=Xs(Xs(Xs({},c),ti(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var A=+(s==="top"&&!i||s==="bottom"&&i);u=Xs(Xs({},u),{},{x1:e,y1:t+A*a,x2:e+n,y2:t+A*a})}else{var h=+(s==="left"&&!i||s==="right"&&i);u=Xs(Xs({},u),{},{x1:e+h*n,y1:t,x2:e+h*n,y2:t+a})}return B.createElement("line",L0({},u,{className:An("recharts-cartesian-axis-line",F0(l,"className"))}))}function Qxe(r,e,t,n,a,s,i,l,c){var u,A,h,p,m,y,g=l?-1:1,v=r.tickSize||i,w=xr(r.tickCoord)?r.tickCoord:r.coordinate;switch(s){case"top":u=A=r.coordinate,p=t+ +!l*a,h=p-g*v,y=h-g*c,m=w;break;case"left":h=p=r.coordinate,A=e+ +!l*n,u=A-g*v,m=u-g*c,y=w;break;case"right":h=p=r.coordinate,A=e+ +l*n,u=A+g*v,m=u+g*c,y=w;break;default:u=A=r.coordinate,p=t+ +l*a,h=p+g*v,y=h+g*c,m=w;break}return{line:{x1:u,y1:h,x2:A,y2:p},tick:{x:m,y}}}function Hxe(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function zxe(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Kxe(r){var{option:e,tickProps:t,value:n}=r,a,s=An(t.className,"recharts-cartesian-axis-tick-value");if(B.isValidElement(e))a=B.cloneElement(e,Xs(Xs({},t),{},{className:s}));else if(typeof e=="function")a=e(Xs(Xs({},t),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(i=An(i,e?.className)),a=B.createElement(YC,L0({},t,{className:i}),n)}return a}function $xe(r){var{ticks:e=[],tick:t,tickLine:n,stroke:a,tickFormatter:s,unit:i,padding:l,tickTextProps:c,orientation:u,mirror:A,x:h,y:p,width:m,height:y,tickSize:g,tickMargin:v,fontSize:w,letterSpacing:S,getTicksConfig:C,events:E}=r,_=x3(Xs(Xs({},C),{},{ticks:e}),w,S),L=Hxe(u,A),D=zxe(u,A),P=mf(C),k=ti(t,!1),z=Xs(Xs({},P),{},{fill:"none"},ti(n,!1)),I=_.map((Q,R)=>{var{line:K,tick:ee}=Qxe(Q,h,p,m,y,u,g,A,v),Y=Xs(Xs(Xs(Xs({textAnchor:L,verticalAnchor:D},P),{},{stroke:"none",fill:a},k),ee),{},{index:R,payload:Q,visibleTicksCount:_.length,tickFormatter:s,padding:l},c);return B.createElement(ul,L0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},dv(E,Q,R)),n&&B.createElement("line",L0({},z,K,{className:An("recharts-cartesian-axis-tick-line",F0(n,"className"))})),t&&B.createElement(Kxe,{option:t,tickProps:Y,value:"".concat(typeof s=="function"?s(Q.value,R):Q.value).concat(i||"")}))});return I.length>0?B.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var Vxe=B.forwardRef((r,e)=>{var{axisLine:t,width:n,height:a,className:s,hide:i,ticks:l}=r,c=ej(r,Oxe),[u,A]=B.useState(""),[h,p]=B.useState(""),m=B.useRef([]);B.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var g;return Fxe({ticks:m.current,label:(g=r.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var y=B.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(v);var w=v[0];if(w){var S=window.getComputedStyle(w),C=S.fontSize,E=S.letterSpacing;(C!==u||E!==h)&&(A(C),p(E))}}},[u,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:B.createElement(ul,{className:An("recharts-cartesian-axis",s),ref:y},B.createElement(Uxe,{x:r.x,y:r.y,width:n,height:a,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:mf(r)}),B.createElement($xe,{ticks:l,tick:r.tick,tickLine:r.tickLine,stroke:r.stroke,tickFormatter:r.tickFormatter,unit:r.unit,padding:r.padding,tickTextProps:r.tickTextProps,orientation:r.orientation,mirror:r.mirror,x:r.x,y:r.y,width:r.width,height:r.height,tickSize:r.tickSize,tickMargin:r.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:r,events:c}),B.createElement(Z0e,{x:r.x,y:r.y,width:r.width,height:r.height},B.createElement(cme,{label:r.label}),r.children))}),qxe=B.memo(Vxe,(r,e)=>{var{viewBox:t}=r,n=ej(r,Dxe),{viewBox:a}=e,s=ej(e,Pxe);return sg(t,a)&&sg(n,s)}),v3=B.forwardRef((r,e)=>{var t=Do(r,y3);return B.createElement(qxe,L0({},t,{ref:e}))});v3.displayName="CartesianAxis";var Gxe=["x1","y1","x2","y2","key"],Wxe=["offset"],Yxe=["xAxisId","yAxisId"],Xxe=["xAxisId","yAxisId"];function _L(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function io(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(t),!0).forEach(function(n){Jxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_L(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Jxe(r,e,t){return(e=Zxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zxe(r){var e=eye(r,"string");return typeof e=="symbol"?e:e+""}function eye(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function f0(){return f0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},f0.apply(null,arguments)}function x2(r,e){if(r==null)return{};var t,n,a=tye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function tye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var rye=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:a,width:s,height:i,ry:l}=r;return B.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function uK(r,e){var t;if(B.isValidElement(r))t=B.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var{x1:n,y1:a,x2:s,y2:i,key:l}=e,c=x2(e,Gxe),u=mf(c),{offset:A}=u,h=x2(u,Wxe);t=B.createElement("line",f0({},h,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return t}function nye(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=x2(r,Yxe),c=a.map((u,A)=>{var h=io(io({},l),{},{x1:e,y1:u,x2:e+t,y2:u,key:"line-".concat(A),index:A});return uK(n,h)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function aye(r){var{y:e,height:t,vertical:n=!0,verticalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=x2(r,Xxe),c=a.map((u,A)=>{var h=io(io({},l),{},{x1:u,y1:e,x2:u,y2:e+t,key:"line-".concat(A),index:A});return uK(n,h)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function sye(r){var{horizontalFill:e,fillOpacity:t,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=r;if(!c||!e||!e.length)return null;var u=l.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==u[0]&&u.unshift(0);var A=u.map((h,p)=>{var m=!u[p+1],y=m?a+i-h:u[p+1]-h;if(y<=0)return null;var g=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:s,stroke:"none",fill:e[g],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function iye(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=r;if(!e||!t||!t.length)return null;var u=c.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==u[0]&&u.unshift(0);var A=u.map((h,p)=>{var m=!u[p+1],y=m?a+i-h:u[p+1]-h;if(y<=0)return null;var g=p%t.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:l,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var oye=(r,e)=>{var{xAxis:t,width:n,height:a,offset:s}=r;return oH(x3(io(io(io({},y3),t),{},{ticks:lH(t),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},lye=(r,e)=>{var{yAxis:t,width:n,height:a,offset:s}=r;return oH(x3(io(io(io({},y3),t),{},{ticks:lH(t),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},cye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function tj(r){var e=Y_(),t=X_(),n=AH(),a=io(io({},Do(r,cye)),{},{x:xr(r.x)?r.x:n.left,y:xr(r.y)?r.y:n.top,width:xr(r.width)?r.width:n.width,height:xr(r.height)?r.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:A,syncWithTicks:h,horizontalValues:p,verticalValues:m}=a,y=Lc(),g=hr(k=>jI(k,"xAxis",s,y)),v=hr(k=>jI(k,"yAxis",i,y));if(!xr(u)||u<=0||!xr(A)||A<=0||!xr(l)||l!==+l||!xr(c)||c!==+c)return null;var w=a.verticalCoordinatesGenerator||oye,S=a.horizontalCoordinatesGenerator||lye,{horizontalPoints:C,verticalPoints:E}=a;if((!C||!C.length)&&typeof S=="function"){var _=p&&p.length,L=S({yAxis:v?io(io({},v),{},{ticks:_?p:v.ticks}):void 0,width:e,height:t,offset:n},_?!0:h);iy(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(C=L)}if((!E||!E.length)&&typeof w=="function"){var D=m&&m.length,P=w({xAxis:g?io(io({},g),{},{ticks:D?m:g.ticks}):void 0,width:e,height:t,offset:n},D?!0:h);iy(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(E=P)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(rye,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),B.createElement(sye,f0({},a,{horizontalPoints:C})),B.createElement(iye,f0({},a,{verticalPoints:E})),B.createElement(nye,f0({},a,{offset:n,horizontalPoints:C,xAxis:g,yAxis:v})),B.createElement(aye,f0({},a,{offset:n,verticalPoints:E,xAxis:g,yAxis:v})))}tj.displayName="CartesianGrid";var uye=["dangerouslySetInnerHTML","ticks"],dye=["id"],Aye=["domain"],hye=["domain"];function rj(){return rj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rj.apply(null,arguments)}function y2(r,e){if(r==null)return{};var t,n,a=fye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function fye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function mye(r){var e=qa();return B.useEffect(()=>(e(Vpe(r)),()=>{e(qpe(r))}),[r,e]),null}var pye=r=>{var{xAxisId:e,className:t}=r,n=hr(G_),a=Lc(),s="xAxis",i=hr(v=>jg(v,s,e,a)),l=hr(v=>az(v,s,e,a)),c=hr(v=>ez(v,e)),u=hr(v=>She(v,e)),A=hr(v=>k9(v,e));if(c==null||u==null||A==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=r,m=y2(r,uye),{id:y}=A,g=y2(A,dye);return B.createElement(v3,rj({},m,g,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:An("recharts-".concat(s," ").concat(s),t),viewBox:n,ticks:l}))},gye={allowDataOverflow:Tl.allowDataOverflow,allowDecimals:Tl.allowDecimals,allowDuplicatedCategory:Tl.allowDuplicatedCategory,height:Tl.height,hide:!1,mirror:Tl.mirror,orientation:Tl.orientation,padding:Tl.padding,reversed:Tl.reversed,scale:Tl.scale,tickCount:Tl.tickCount,type:Tl.type,xAxisId:0},xye=r=>{var e,t,n,a,s,i=Do(r,gye);return B.createElement(B.Fragment,null,B.createElement(mye,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.xAxisId,scale:i.scale,type:i.type,padding:i.padding,allowDataOverflow:i.allowDataOverflow,domain:i.domain,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,height:i.height,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),B.createElement(pye,i))},yye=(r,e)=>{var{domain:t}=r,n=y2(r,Aye),{domain:a}=e,s=y2(e,hye);return sg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:sg({domain:t},{domain:a}):!1},nj=B.memo(xye,yye);nj.displayName="XAxis";var vye=["dangerouslySetInnerHTML","ticks"],bye=["id"],wye=["domain"],Cye=["domain"];function aj(){return aj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},aj.apply(null,arguments)}function v2(r,e){if(r==null)return{};var t,n,a=Nye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Nye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Sye(r){var e=qa();return B.useEffect(()=>(e(Gpe(r)),()=>{e(Wpe(r))}),[r,e]),null}var Bye=r=>{var{yAxisId:e,className:t,width:n,label:a}=r,s=B.useRef(null),i=B.useRef(null),l=hr(G_),c=Lc(),u=qa(),A="yAxis",h=hr(_=>jg(_,A,e,c)),p=hr(_=>tz(_,e)),m=hr(_=>Ehe(_,e)),y=hr(_=>az(_,A,e,c)),g=hr(_=>F9(_,e));if(B.useLayoutEffect(()=>{if(!(n!=="auto"||!p||o3(a)||B.isValidElement(a)||g==null)){var _=s.current;if(_){var L=_.getCalculatedWidth();Math.round(p.width)!==Math.round(L)&&u(Ype({id:e,width:L}))}}},[y,p,u,a,e,n,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:w}=r,S=v2(r,vye),{id:C}=g,E=v2(g,bye);return B.createElement(v3,aj({},S,E,{ref:s,labelRef:i,scale:h,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:An("recharts-".concat(A," ").concat(A),t),viewBox:l,ticks:y}))},Eye={allowDataOverflow:kl.allowDataOverflow,allowDecimals:kl.allowDecimals,allowDuplicatedCategory:kl.allowDuplicatedCategory,hide:!1,mirror:kl.mirror,orientation:kl.orientation,padding:kl.padding,reversed:kl.reversed,scale:kl.scale,tickCount:kl.tickCount,type:kl.type,width:kl.width,yAxisId:0},jye=r=>{var e,t,n,a,s,i=Do(r,Eye);return B.createElement(B.Fragment,null,B.createElement(Sye,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.yAxisId,scale:i.scale,type:i.type,domain:i.domain,allowDataOverflow:i.allowDataOverflow,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,padding:i.padding,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,width:i.width,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),B.createElement(Bye,i))},_ye=(r,e)=>{var{domain:t}=r,n=v2(r,wye),{domain:a}=e,s=v2(e,Cye);return sg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:sg({domain:t},{domain:a}):!1},sj=B.memo(jye,_ye);sj.displayName="YAxis";var IB={exports:{}},LB={};var TL;function Tye(){if(TL)return LB;TL=1;var r=dg();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,i=r.useMemo,l=r.useDebugValue;return LB.useSyncExternalStoreWithSelector=function(c,u,A,h,p){var m=a(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=i(function(){function v(_){if(!w){if(w=!0,S=_,_=h(_),p!==void 0&&y.hasValue){var L=y.value;if(p(L,_))return C=L}return C=_}if(L=C,t(S,_))return L;var D=h(_);return p!==void 0&&p(L,D)?(S=_,L):(S=_,C=D)}var w=!1,S,C,E=A===void 0?null:A;return[function(){return v(u())},E===null?void 0:function(){return v(E())}]},[u,A,h,p]);var g=n(c,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=g},[g]),l(g),g},LB}var kL;function kye(){return kL||(kL=1,IB.exports=Tye()),IB.exports}kye();function Fye(r){r()}function Oye(){let r=null,e=null;return{clear(){r=null,e=null},notify(){Fye(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!n||r===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var FL={notify(){},get:()=>[]};function Dye(r,e){let t,n=FL,a=0,s=!1;function i(g){A();const v=n.subscribe(g);let w=!1;return()=>{w||(w=!0,v(),h())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function A(){a++,t||(t=r.subscribe(c),n=Oye())}function h(){a--,t&&a===0&&(t(),t=void 0,n.clear(),n=FL)}function p(){s||(s=!0,A())}function m(){s&&(s=!1,h())}const y={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return y}var Pye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iye=Pye(),Lye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Mye=Lye(),Rye=()=>Iye||Mye?B.useLayoutEffect:B.useEffect,Uye=Rye(),Qye=Symbol.for("react-redux-context"),Hye=typeof globalThis<"u"?globalThis:{};function zye(){if(!B.createContext)return{};const r=Hye[Qye]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var Kye=zye();function $ye(r){const{children:e,context:t,serverState:n,store:a}=r,s=B.useMemo(()=>{const c=Dye(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=B.useMemo(()=>a.getState(),[a]);Uye(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=t||Kye;return B.createElement(l.Provider,{value:s},e)}var Vye=$ye,qye=(r,e)=>e,b3=Ze([qye,wn,j9,ai,yz,zA,kfe,ri],Ife),w3=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},dK=Fc("mouseClick"),AK=hv();AK.startListening({actionCreator:dK,effect:(r,e)=>{var t=r.payload,n=b3(e.getState(),w3(t));n?.activeIndex!=null&&e.dispatch(Uhe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ij=Fc("mouseMove"),hK=hv();hK.startListening({actionCreator:ij,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=JT(n,n.tooltip.settings.shared),s=b3(n,w3(t));a==="axis"&&(s?.activeIndex!=null?e.dispatch(Az({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(dz()))}});var OL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fK=Jl({name:"rootProps",initialState:OL,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:OL.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className}}}),Gye=fK.reducer,{updateOptions:Wye}=fK.actions,mK=Jl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:Yye}=mK.actions,Xye=mK.reducer,pK=Fc("keyDown"),gK=Fc("focus"),C3=hv();C3.startListening({actionCreator:pK,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip,s=r.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number(ZT(a,Tg(t))),l=zA(t);if(s==="Enter"){var c=A2(t,"axis","hover",String(a.index));e.dispatch(G4({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=khe(t),A=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=i+h*A;if(!(l==null||p>=l.length||p<0)){var m=A2(t,"axis","hover",String(p));e.dispatch(G4({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});C3.startListening({actionCreator:gK,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip;if(!a.active&&a.index==null){var s="0",i=A2(t,"axis","hover",String(s));e.dispatch(G4({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var vc=Fc("externalEvent"),xK=hv();xK.startListening({actionCreator:vc,effect:(r,e)=>{if(r.payload.handler!=null){var t=e.getState(),n={activeCoordinate:wfe(t),activeDataKey:Cz(t),activeIndex:I0(t),activeLabel:wz(t),activeTooltipIndex:I0(t),isTooltipActive:Cfe(t)};r.payload.handler(n,r.payload.reactEvent)}}});var Jye=Ze([_g],r=>r.tooltipItemPayloads),Zye=Ze([Jye,Nv,(r,e,t)=>e,(r,e,t)=>t],(r,e,t,n)=>{var a=r.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=e(s,t);return i}}}),yK=Fc("touchMove"),vK=hv();vK.startListening({actionCreator:yK,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=JT(n,n.tooltip.settings.shared);if(a==="axis"){var s=b3(n,w3({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));s?.activeIndex!=null&&e.dispatch(Az({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=t.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(uH),A=(i=c.getAttribute(dH))!==null&&i!==void 0?i:void 0,h=Zye(e.getState(),u,A);e.dispatch(uz({activeDataKey:A,activeIndex:u,activeCoordinate:h}))}}});var eve=IQ({brush:hxe,cartesianAxis:Xpe,chartData:Jfe,errorBars:uge,graphicalItems:mpe,layout:Foe,legend:wle,options:qfe,polarAxis:kme,polarOptions:Xye,referenceElements:vxe,rootProps:Gye,tooltip:Qhe}),tve=function(e){return noe({reducer:eve,preloadedState:e,middleware:t=>t({serializableCheck:!1}).concat([AK.middleware,hK.middleware,C3.middleware,xK.middleware,vK.middleware]),devTools:q0.devToolsEnabled})};function bK(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,a=Lc(),s=B.useRef(null);if(a)return t;s.current==null&&(s.current=tve(e));var i=Q_;return B.createElement(Vye,{context:i,store:s.current},t)}function wK(r){var{layout:e,width:t,height:n,margin:a}=r,s=qa(),i=Lc();return B.useEffect(()=>{i||(s(_oe(e)),s(Toe({width:t,height:n})),s(joe(a)))},[s,i,e,t,n,a]),null}function CK(r){var e=qa();return B.useEffect(()=>{e(Wye(r))},[e,r]),null}var rve=["children"];function nve(r,e){if(r==null)return{};var t,n,a=ave(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function ave(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function b2(){return b2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},b2.apply(null,arguments)}var sve={width:"100%",height:"100%"},ive=B.forwardRef((r,e)=>{var t=Y_(),n=X_(),a=pH();if(!Jp(t)||!Jp(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=r,u,A;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?A=i.role:A=a?"application":void 0,B.createElement(F_,b2({},i,{title:l,desc:c,role:A,tabIndex:u,width:t,height:n,style:sve,ref:e}),s)}),ove=r=>{var{children:e}=r,t=hr(FC);if(!t)return null;var{width:n,height:a,y:s,x:i}=t;return B.createElement(F_,{width:n,height:a,x:i,y:s},e)},DL=B.forwardRef((r,e)=>{var{children:t}=r,n=nve(r,rve),a=Lc();return a?B.createElement(ove,null,t):B.createElement(ive,b2({ref:e},n),t)});function lve(){var r=qa(),[e,t]=B.useState(null),n=hr(ole);return B.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Gl(s)&&s!==n&&r(koe(s))}},[e,r,n]),t}function PL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function cve(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(t),!0).forEach(function(n){uve(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function uve(r,e,t){return(e=dve(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dve(r){var e=Ave(r,"string");return typeof e=="symbol"?e:e+""}function Ave(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var hve=B.forwardRef((r,e)=>{var{children:t,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:A,onMouseMove:h,onMouseUp:p,onTouchEnd:m,onTouchMove:y,onTouchStart:g,style:v,width:w}=r,S=qa(),[C,E]=B.useState(null),[_,L]=B.useState(null);o0e();var D=lve(),P=B.useCallback(O=>{D(O),typeof e=="function"&&e(O),E(O),L(O)},[D,e,E,L]),k=B.useCallback(O=>{S(dK(O)),S(vc({handler:s,reactEvent:O}))},[S,s]),z=B.useCallback(O=>{S(ij(O)),S(vc({handler:u,reactEvent:O}))},[S,u]),I=B.useCallback(O=>{S(dz()),S(vc({handler:A,reactEvent:O}))},[S,A]),Q=B.useCallback(O=>{S(ij(O)),S(vc({handler:h,reactEvent:O}))},[S,h]),R=B.useCallback(()=>{S(gK())},[S]),K=B.useCallback(O=>{S(pK(O.key))},[S]),ee=B.useCallback(O=>{S(vc({handler:i,reactEvent:O}))},[S,i]),Y=B.useCallback(O=>{S(vc({handler:l,reactEvent:O}))},[S,l]),se=B.useCallback(O=>{S(vc({handler:c,reactEvent:O}))},[S,c]),X=B.useCallback(O=>{S(vc({handler:p,reactEvent:O}))},[S,p]),Ae=B.useCallback(O=>{S(vc({handler:g,reactEvent:O}))},[S,g]),ge=B.useCallback(O=>{S(yK(O)),S(vc({handler:y,reactEvent:O}))},[S,y]),Z=B.useCallback(O=>{S(vc({handler:m,reactEvent:O}))},[S,m]);return B.createElement(_z.Provider,{value:C},B.createElement(nQ.Provider,{value:_},B.createElement("div",{className:An("recharts-wrapper",n),style:cve({position:"relative",cursor:"default",width:w,height:a},v),onClick:k,onContextMenu:ee,onDoubleClick:Y,onFocus:R,onKeyDown:K,onMouseDown:se,onMouseEnter:z,onMouseLeave:I,onMouseMove:Q,onMouseUp:X,onTouchEnd:Z,onTouchMove:ge,onTouchStart:Ae,ref:P},t)))}),fve=["children","className","width","height","style","compact","title","desc"];function mve(r,e){if(r==null)return{};var t,n,a=pve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function pve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var NK=B.forwardRef((r,e)=>{var{children:t,className:n,width:a,height:s,style:i,compact:l,title:c,desc:u}=r,A=mve(r,fve),h=mf(A);return l?B.createElement(DL,{otherAttributes:h,title:c,desc:u},t):B.createElement(hve,{className:n,style:i,width:a,height:s,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},B.createElement(DL,{otherAttributes:h,title:c,desc:u,ref:e},B.createElement(wxe,null,t)))}),gve=["width","height"];function oj(){return oj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},oj.apply(null,arguments)}function xve(r,e){if(r==null)return{};var t,n,a=yve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function yve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var vve={top:5,right:5,bottom:5,left:5},bve={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vve,reverseStackOrder:!1,syncMethod:"index"},wve=B.forwardRef(function(e,t){var n,a=Do(e.categoricalChartProps,bve),{width:s,height:i}=a,l=xve(a,gve);if(!Jp(s)||!Jp(i))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:A,tooltipPayloadSearcher:h,categoricalChartProps:p}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:A,tooltipPayloadSearcher:h,eventEmitter:void 0};return B.createElement(bK,{preloadedState:{options:m},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:c},B.createElement(iK,{chartData:p.data}),B.createElement(wK,{width:s,height:i,layout:a.layout,margin:a.margin}),B.createElement(CK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),B.createElement(NK,oj({},l,{width:s,height:i,ref:t})))}),Cve=["axis","item"],IL=B.forwardRef((r,e)=>B.createElement(wve,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cve,tooltipPayloadSearcher:Tz,categoricalChartProps:r,ref:e}));function Nve(r){var e=qa();return B.useEffect(()=>{e(Yye(r))},[e,r]),null}var Sve=["width","height","layout"];function lj(){return lj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lj.apply(null,arguments)}function Bve(r,e){if(r==null)return{};var t,n,a=Eve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Eve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var jve={top:5,right:5,bottom:5,left:5},_ve={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jve,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Tve=B.forwardRef(function(e,t){var n,a=Do(e.categoricalChartProps,_ve),{width:s,height:i,layout:l}=a,c=Bve(a,Sve);if(!Jp(s)||!Jp(i))return null;var{chartName:u,defaultTooltipEventType:A,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,m={chartName:u,defaultTooltipEventType:A,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return B.createElement(bK,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},B.createElement(iK,{chartData:a.data}),B.createElement(wK,{width:s,height:i,layout:l,margin:a.margin}),B.createElement(CK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),B.createElement(Nve,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),B.createElement(NK,lj({width:s,height:i},c,{ref:t})))}),kve=["item"],Fve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},w2=B.forwardRef((r,e)=>{var t=Do(r,Fve);return B.createElement(Tve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kve,tooltipPayloadSearcher:Tz,categoricalChartProps:t,ref:e})});const Ove=()=>{const{projects:r,fetchProjects:e,fetchTimesheets:t}=is(),{fetchTeamMembers:n}=Oo(),{clients:a,fetchClients:s}=ff(),[i,l]=B.useState(""),[c,u]=B.useState("all"),[A,h]=B.useState(null),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState(null),[S,C]=B.useState(!1);B.useEffect(()=>{e(),t(),n(),s()},[]);const E=B.useMemo(()=>{const k=r.length,z=r.filter(R=>R.status==="ongoing").length,I=r.filter(R=>R.status==="completed").length,Q=r.filter(R=>R.status==="pre-lim").length;return{total:k,active:z,completed:I,preLim:Q}},[r]),_=B.useMemo(()=>[{name:"Pre-lim",value:E.preLim,color:"#f59e0b"},{name:"Ongoing",value:E.active,color:"#3b82f6"},{name:"Completed",value:E.completed,color:"#10b981"}].filter(k=>k.value>0),[E]),L=B.useMemo(()=>{const k={CFD:0,FEA:0,"Vibration & Acoustic":0},z={"computational-fluid-dynamic":"CFD","Computational Fluid Dynamics":"CFD",CFD:"CFD","finite-element-analysis":"FEA","Finite Element Analysis":"FEA",FEA:"FEA","vibration-acoustic":"Vibration & Acoustic",Vibration:"Vibration & Acoustic","Vibration & Acoustic":"Vibration & Acoustic",Acoustic:"Vibration & Acoustic"};r.forEach(Q=>{let R=Q.categories||Q.workTypes;if(typeof R=="string")try{R=JSON.parse(R)}catch{console.warn("Failed to parse categories:",R)}R&&Array.isArray(R)&&R.forEach(K=>{const ee=z[K];ee&&k[ee]++})});const I={CFD:"#6366f1",FEA:"#ec4899","Vibration & Acoustic":"#f59e0b"};return Object.entries(k).map(([Q,R])=>({name:Q,value:R,color:I[Q]})).filter(Q=>Q.value>0)},[r]),D=B.useMemo(()=>{let k=r;return c!=="all"&&(k=k.filter(z=>z.status===c)),i&&(k=k.filter(z=>z.projectCode.toLowerCase().includes(i.toLowerCase())||z.title.toLowerCase().includes(i.toLowerCase()))),k},[r,i,c]),P=k=>{h(k),m(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.total}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"all statuses"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(yd,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.active}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"currently ongoing"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(d7,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.completed}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"finished projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center",children:o.jsx(p_,{className:"w-6 h-6 text-emerald-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Preliminary"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.preLim}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"pending projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-lg flex items-center justify-center",children:o.jsx(To,{className:"w-6 h-6 text-amber-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Status Distribution"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by status"})]}),o.jsx(wp,{width:"100%",height:280,children:o.jsxs(w2,{children:[o.jsx(Iy,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:_.map((k,z)=>o.jsx(Zh,{fill:k.color},`cell-${z}`))}),o.jsx(bp,{formatter:k=>`${k} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:_.map((k,z)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"text-gray-700",children:k.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:k.value})]},z))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Field of Work"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by engineering field"})]}),L.length>0?o.jsxs(o.Fragment,{children:[o.jsx(wp,{width:"100%",height:280,children:o.jsxs(w2,{children:[o.jsx(Iy,{data:L,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:L.map((k,z)=>o.jsx(Zh,{fill:k.color},`field-${z}`))}),o.jsx(bp,{formatter:k=>`${k} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:L.map((k,z)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"text-gray-700",children:k.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:k.value})]},z))})]}):o.jsx("div",{className:"flex items-center justify-center h-80 text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(lC,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No field data available"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Browse and filter all projects"})]})})}),o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by project code or title...",value:i,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 bg-gray-100 rounded-lg p-1",children:["all","pre-lim","ongoing","completed"].map(k=>o.jsx("button",{onClick:()=>u(k),className:`px-3 py-1.5 text-xs font-medium rounded transition-colors ${c===k?"bg-white text-primary-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-900"}`,children:k==="all"?"All":k==="pre-lim"?"Preliminary":k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),D.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(yd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:D.map(k=>{const z=a.find(Q=>Q.id===k.companyId),I=k.leadEngineer?.name||k.manager?.name||"Unassigned";return k.plannedHours>0&&(k.actualHours||0)/k.plannedHours*100,o.jsxs("tr",{onClick:()=>P(k),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:k.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:k.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:z?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:I}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[k.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",k.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(k.actualHours||0)>k.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(k.plannedHours>0?(k.actualHours||0)/k.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${k.status==="ongoing"?"bg-blue-50 text-blue-700":k.status==="completed"?"bg-emerald-50 text-emerald-700":k.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:k.status==="pre-lim"?"Preliminary":k.status.charAt(0).toUpperCase()+k.status.slice(1)})})]},k.id)})})]})})]}),p&&A&&o.jsx(E_,{project:A,isOpen:p,onClose:()=>{m(!1),h(null)}}),o.jsx(jae,{isOpen:S,onClose:()=>{C(!1),g(null),w(null)},teamMemberId:y,teamMemberName:v})]})},Dve=()=>{const{fetchProjects:r}=is();return B.useEffect(()=>{r()},[r]),o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Project tracking and statistics"})]}),o.jsx(lC,{className:"w-12 h-12 text-blue-600 opacity-20"})]})}),o.jsx(Ove,{})]})})},Sd=Ic((r,e)=>({companies:[],loading:!1,error:null,fetchCompanies:async()=>{r({loading:!0,error:null});try{const t=await vn.api.get("/companies");r({companies:t.data,loading:!1})}catch(t){console.error("Error fetching companies:",t),r({error:t.response?.data?.error||"Failed to fetch companies",loading:!1}),rr.error("Failed to fetch companies")}},createCompany:async t=>{r({loading:!0,error:null});try{const n=await vn.api.post("/companies",t);return r(a=>({companies:[...a.companies,{...n.data.company,contacts:[]}],loading:!1})),rr.success("Company created successfully"),n.data.company}catch(n){console.error("Error creating company:",n);const a=n.response?.data?.error||"Failed to create company";return r({error:a,loading:!1}),rr.error(a),null}},updateCompany:async(t,n)=>{r({loading:!0,error:null});try{const a=await vn.api.put(`/companies/${t}`,n);r(s=>({companies:s.companies.map(i=>i.id===t?{...i,...a.data.company}:i),loading:!1})),rr.success("Company updated successfully")}catch(a){console.error("Error updating company:",a);const s=a.response?.data?.error||"Failed to update company";r({error:s,loading:!1}),rr.error(s)}},deleteCompany:async t=>{r({loading:!0,error:null});try{await vn.api.delete(`/companies/${t}`),r(n=>({companies:n.companies.filter(a=>a.id!==t),loading:!1})),rr.success("Company deleted successfully")}catch(n){console.error("Error deleting company:",n);const a=n.response?.data?.error||"Failed to delete company";r({error:a,loading:!1}),rr.error(a)}},createContact:async t=>{r({loading:!0,error:null});try{const a=(await vn.api.post("/contacts",t)).data.contact;return r(s=>({companies:s.companies.map(i=>i.id===a.company_id?{...i,contacts:[...i.contacts,a]}:i),loading:!1})),rr.success("Contact created successfully"),a}catch(n){console.error("Error creating contact:",n);const a=n.response?.data?.error||"Failed to create contact";return r({error:a,loading:!1}),rr.error(a),null}},updateContact:async(t,n)=>{r({loading:!0,error:null});try{const s=(await vn.api.put(`/contacts/${t}`,n)).data.contact;r(i=>({companies:i.companies.map(l=>l.id===s.company_id?{...l,contacts:l.contacts.map(c=>c.id===t?s:c)}:l),loading:!1})),rr.success("Contact updated successfully")}catch(a){console.error("Error updating contact:",a);const s=a.response?.data?.error||"Failed to update contact";r({error:s,loading:!1}),rr.error(s)}},deleteContact:async t=>{r({loading:!0,error:null});try{await vn.api.delete(`/contacts/${t}`),r(n=>({companies:n.companies.map(a=>({...a,contacts:a.contacts.filter(s=>s.id!==t)})),loading:!1})),rr.success("Contact deleted successfully")}catch(n){console.error("Error deleting contact:",n);const a=n.response?.data?.error||"Failed to delete contact";r({error:a,loading:!1}),rr.error(a)}}})),SK=r=>{const e=B.useRef(null),t=B.useRef(null);return B.useEffect(()=>{r?setTimeout(()=>{e.current?.focus()},0):t.current?.focus()},[r]),{firstInputRef:e,closeButtonRef:t}},Pve=({isOpen:r,onClose:e})=>{const{clients:t,fetchClients:n,loading:a}=ff(),{companies:s,fetchCompanies:i,loading:l}=Sd(),{teamMembers:c,fetchTeamMembers:u,loading:A}=Oo(),{addProject:h}=is(),{firstInputRef:p,closeButtonRef:m}=SK(r),[y,g]=B.useState({projectCode:"",title:"",companyId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",hourlyRate:"",billingType:"hourly",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0]}),[v,w]=B.useState(null),[S,C]=B.useState({projectCode:null}),[E,_]=B.useState(!1);B.useEffect(()=>{r&&(n(),i(),u(),Os.getNextProjectCode().then(I=>w(I)).catch(I=>Rt.error("Failed to fetch latest project code:",I)))},[r,n,i,u]);const L=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],D=I=>{g(Q=>{const R=Q.workTypes.includes(I)?Q.workTypes.filter(K=>K!==I):[...Q.workTypes,I];return{...Q,workTypes:R}})},P=c,k=c.filter(I=>I.role==="senior-engineer"||I.role==="principal-engineer"||I.role==="manager"||I.role==="managing-director"||I.role==="admin"),z=async I=>{if(I.preventDefault(),!y.projectCode||!y.title||!y.companyId||!y.managerId){ye.error("Please fill in all required fields (Project Code, Title, Company, and Project Manager)");return}if(!/^J\d{5}$/.test(y.projectCode)){ye.error("Project Code must be in format J2XXXX (e.g., J25001)");return}_(!0);try{const R=s.find(se=>se.id===y.companyId),K={...y,engineerId:y.leadEngineerId,plannedHours:parseFloat(y.plannedHours)||0,hourlyRate:y.hourlyRate?parseFloat(y.hourlyRate):null,companyName:R?.name||"",billingType:y.billingType},ee=await h(K),Y=B_.getState().addNotification;if(Y({type:"success",title:"Project Created",message:`${y.title} (${y.projectCode}) has been created successfully.`,category:"project-assignment"}),y.managerId){const se=c.find(X=>X.id===y.managerId);se&&Y({type:"info",title:"Project Assignment",message:`${se.name} has been assigned as Project Manager for ${y.title}.`,category:"project-assignment"})}if(y.leadEngineerId){const se=c.find(X=>X.id===y.leadEngineerId);se&&Y({type:"info",title:"Project Assignment",message:`${se.name} has been assigned as Lead Engineer for ${y.title}.`,category:"project-assignment"})}ye.success("Project created successfully!"),g({projectCode:"",title:"",companyId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",hourlyRate:"",billingType:"hourly",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0]}),C({projectCode:null}),e()}catch(R){if(R?.isAxiosError){const K=R?.response?.data?.error||R?.response?.data?.message||R?.message||String(R);K.includes("already exists")&&K.includes("Project code")?(C({projectCode:"This code already exists"}),ye.error(`Project code "${y.projectCode}" already exists. Please use a different code.`,{duration:5e3})):(C({projectCode:null}),ye.error("Failed to create project: "+K))}else Rt.error("Failed to create project:",R),ye.error("Failed to create project: "+(R?.message||String(R)))}finally{_(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Project"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:z,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectCode",type:"text",ref:p,value:y.projectCode,onChange:I=>{g({...y,projectCode:I.target.value.toUpperCase()}),C({projectCode:null})},placeholder:"e.g., J25001",pattern:"^J\\d{5}$",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${S.projectCode?"border-red-500 dark:border-red-500 bg-red-50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":"projectCodeHint"}),S.projectCode&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.projectCode}),o.jsxs("p",{id:"projectCodeHint",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Format: J2XXXX (e.g., J25001)",v&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-gray-900 font-medium",children:["Latest: ",v.latestCode||"None"]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-green-700 font-medium",children:["Suggested: ",v.nextSuggestion]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectTitle",type:"text",value:y.title,onChange:I=>g({...y,title:I.target.value}),placeholder:"e.g., Equipment Vibration Analysis",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0,autoComplete:"off"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Billing Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"hourly",checked:y.billingType==="hourly",onChange:I=>g({...y,billingType:I.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Hourly Rate"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"lump_sum",checked:y.billingType==="lump_sum",onChange:I=>g({...y,billingType:I.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Lump Sum"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(Hl,{className:"w-4 h-4 inline mr-1"}),"Contact ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"contact",value:y.contactId,onChange:I=>{const Q=I.target.value,R=s.find(K=>K.contacts.some(ee=>ee.id===Q));g({...y,contactId:Q,companyId:R?.id||""})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white grouped-select",disabled:l,required:!0,children:[o.jsx("option",{value:"",children:l?"Loading contacts...":s.length===0?"No contacts available":"Select Contact"}),s.map(I=>o.jsx("optgroup",{label:I.name,children:I.contacts.map(Q=>o.jsxs("option",{value:Q.id,children:[Q.name," ",Q.position?`(${Q.position})`:""]},Q.id))},I.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"manager",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(Hl,{className:"w-4 h-4 inline mr-1"}),"Project Manager ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"manager",value:y.managerId,onChange:I=>g({...y,managerId:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:A,required:!0,"aria-describedby":"managerHint",children:[o.jsx("option",{value:"",children:A?"Loading...":k.length===0?"No managers available":"Select Project Manager"}),k.map(I=>o.jsx("option",{value:I.id,children:I.name},I.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"leadEngineer",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(Hl,{className:"w-4 h-4 inline mr-1"}),"Lead Engineer"]}),o.jsxs("select",{id:"leadEngineer",value:y.leadEngineerId,onChange:I=>g({...y,leadEngineerId:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:A,children:[o.jsx("option",{value:"",children:A?"Loading...":P.length===0?"No engineers available":"Select Lead Engineer"}),P.map(I=>o.jsx("option",{value:I.id,children:I.name},I.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Field of Work"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:L.map(I=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:y.workTypes.includes(I),onChange:()=>D(I),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 bg-white dark:bg-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:I})]},I))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"plannedHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(To,{className:"w-4 h-4 inline mr-1"}),"Planned Hours"]}),o.jsx("input",{id:"plannedHours",type:"number",value:y.plannedHours,onChange:I=>g({...y,plannedHours:I.target.value}),placeholder:"e.g., 120",min:"0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),y.billingType==="hourly"&&o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"hourlyRate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Hourly Rate (MYR)",o.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Optional)"})]}),o.jsx("input",{id:"hourlyRate",type:"number",step:"0.01",value:y.hourlyRate,onChange:I=>g({...y,hourlyRate:I.target.value}),placeholder:"e.g., 500",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Leave blank to use default RM 437.50/hr"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Description"]}),o.jsx("textarea",{id:"description",value:y.description,onChange:I=>g({...y,description:I.target.value}),placeholder:"Describe the project scope and objectives...",rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(Qt,{type:"button",variant:"outline",onClick:e,disabled:E,ref:m,children:"Cancel"}),o.jsx(Qt,{type:"submit",variant:"primary",disabled:E,children:E?"Creating...":"Create Project"})]})]})]})})]}):null},Ive=({isOpen:r,onClose:e,parentProject:t})=>{const{teamMembers:n,fetchTeamMembers:a,loading:s}=Oo(),{fetchProjects:i}=is(),{firstInputRef:l,closeButtonRef:c}=SK(r),[u,A]=B.useState({title:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim"}),[h,p]=B.useState(""),[m,y]=B.useState(!1);B.useEffect(()=>{r&&a()},[r,a]),B.useEffect(()=>{t&&(A(_=>({..._,leadEngineerId:t.leadEngineerId||"",managerId:t.managerId||""})),Os.getVariationOrders(t.id).then(_=>{const L=_.length+1;p(`${t.projectCode}_${L}`)}).catch(_=>{Rt.error("Failed to fetch VOs:",_),p(`${t.projectCode}_1`)}))},[t]);const g=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],v=_=>{A(L=>{const D=L.workTypes.includes(_)?L.workTypes.filter(P=>P!==_):[...L.workTypes,_];return{...L,workTypes:D}})},w=n,S=n.filter(_=>_.role==="senior-engineer"||_.role==="principal-engineer"||_.role==="manager"||_.role==="managing-director"||_.role==="admin"),C=async _=>{if(_.preventDefault(),!t){ye.error("No parent project selected");return}if(!u.title||!u.managerId){ye.error("Please fill in all required fields (Title and Project Manager)");return}y(!0);try{const L={title:u.title,leadEngineerId:u.leadEngineerId||t.leadEngineerId,managerId:u.managerId,plannedHours:parseFloat(u.plannedHours)||0,workTypes:u.workTypes.length>0?u.workTypes:t.workTypes,description:u.description,status:u.status},D=await Os.createVariationOrder(t.id,L),P=B_.getState().addNotification;if(P({type:"success",title:"Variation Order Created",message:`${D.voCode} - ${u.title} has been created successfully.`,category:"project-assignment"}),u.managerId){const k=n.find(z=>z.id===u.managerId);k&&P({type:"info",title:"VO Assignment",message:`${k.name} has been assigned as Project Manager for VO ${D.voCode}.`,category:"project-assignment"})}ye.success(`Variation Order ${D.voCode} created successfully!`),await i(),A({title:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim"}),e()}catch(L){Rt.error("Error creating variation order:",L);const D=L.response?.data?.error||L.message||"Failed to create variation order";ye.error(D)}finally{y(!1)}},E=()=>{A({title:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim"}),e()};return!r||!t?null:o.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-3xl my-8",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Create Variation Order"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["For parent project: ",o.jsx("span",{className:"font-semibold text-primary-600",children:t.projectCode})," - ",t.title]})]}),o.jsx("button",{ref:c,onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mx-6 mt-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(os,{className:"w-5 h-5 text-blue-400 mt-0.5 mr-3"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-sm font-medium text-blue-800",children:["Variation Order for ",t.projectCode]}),o.jsxs("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Suggested VO Code:"})," ",o.jsx("span",{className:"font-mono bg-blue-100 px-2 py-0.5 rounded",children:h})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Company:"})," ",t.companyName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Parent Status:"})," ",o.jsx("span",{className:"capitalize",children:t.status})]})]})]})]})}),o.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"vo-title",className:"block text-sm font-medium text-gray-700 mb-2",children:["VO Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{ref:l,id:"vo-title",type:"text",value:u.title,onChange:_=>A({...u,title:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., VO: Additional Deck Analysis",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vo-lead-engineer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Engineer"}),o.jsxs("select",{id:"vo-lead-engineer",value:u.leadEngineerId,onChange:_=>A({...u,leadEngineerId:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsxs("option",{value:"",children:["Inherit from parent (",t.engineerName,")"]}),w.map(_=>o.jsxs("option",{value:_.id,children:[_.name," (",_.role,")"]},_.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"vo-manager",className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Manager ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"vo-manager",value:u.managerId,onChange:_=>A({...u,managerId:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select Manager"}),S.map(_=>o.jsxs("option",{value:_.id,children:[_.name," (",_.role,")"]},_.id))]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Senior Engineers and above"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vo-planned-hours",className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours"}),o.jsx("input",{id:"vo-planned-hours",type:"number",min:"0",step:"0.5",value:u.plannedHours,onChange:_=>A({...u,plannedHours:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Types (Optional - inherits from parent if not selected)"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.map(_=>o.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:u.workTypes.includes(_),onChange:()=>v(_),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:_})]},_))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vo-description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Remarks"}),o.jsx("textarea",{id:"vo-description",value:u.description,onChange:_=>A({...u,description:_.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe the scope of this variation order..."})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Qt,{type:"button",variant:"secondary",onClick:E,disabled:m,children:"Cancel"}),o.jsx(Qt,{type:"submit",disabled:m||!u.title||!u.managerId,children:m?"Creating...":`Create VO ${h}`})]})]})]})})},Lve=({projectId:r})=>{const[e,t]=B.useState([]),[n,a]=B.useState([]),[s,i]=B.useState(!1),[l,c]=B.useState(!1),[u,A]=B.useState("");B.useEffect(()=>{let w=!0;return(async()=>{try{i(!0);const[C,E]=await Promise.all([vp.getProjectTeam(r),wr.getAllTeamMembers({status:"active"})]);if(w){t(C);const _=E,D=(Array.isArray(_)?_:_?.data||[]).filter(P=>P&&(P.name||P.user?.name));a(D)}}catch(C){w&&(console.error("Error loading data:",C),ye.error("Failed to load project team"))}finally{w&&i(!1)}})(),()=>{w=!1}},[r]);const h=async()=>{try{const w=await vp.getProjectTeam(r);t(w)}catch(w){console.error("Error reloading team members:",w),ye.error("Failed to reload team data")}},p=async()=>{if(!u){ye.error("Please select an engineer");return}try{await vp.addTeamMember(r,u,"engineer"),ye.success("Team member added successfully"),c(!1),A(""),h()}catch(w){console.error("Error adding team member:",w),ye.error(w.response?.data?.error||"Failed to add team member")}},m=async(w,S)=>{if(confirm(`Remove ${S} from the project team?`))try{await vp.removeTeamMember(r,w),ye.success("Team member removed"),h()}catch(C){console.error("Error removing team member:",C),ye.error("Failed to remove team member")}},y=n.map(w=>({...w,displayName:w.name||w.user?.name||w.userName||"Unknown",displayEmail:w.email||w.user?.email||""})).filter(w=>!e.some(S=>S.teamMemberId===w.id)),g=e.find(w=>w.role==="lead_engineer"),v=e.filter(w=>w.role==="engineer");return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nu,{className:"w-5 h-5 text-primary-600"}),o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Project Team (",e.length," members)"]})]}),o.jsxs(Qt,{onClick:()=>c(!0),size:"sm",children:[o.jsx(Ny,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),g&&o.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 border border-primary-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lw,{src:g.avatar,alt:g.name,size:"md"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:g.name}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-primary-700",children:[o.jsx(a7,{className:"w-4 h-4"}),o.jsx("span",{children:"Lead Engineer"})]})]})]}),o.jsx("span",{className:"text-sm text-gray-500",children:g.email})]})}),v.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Engineers (",v.length,")"]}),o.jsx("div",{className:"grid gap-3",children:v.map(w=>o.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lw,{src:w.avatar,alt:w.name,size:"sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:w.name}),o.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>m(w.teamMemberId,w.name),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove from team",children:o.jsx(ute,{className:"w-4 h-4"})})})]},w.id))})]}),e.length===0&&o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[o.jsx(Nu,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600",children:"No team members assigned yet"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add engineers to track project assignments"})]}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Team Member"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Engineer *"}),o.jsxs("select",{value:u,onChange:w=>A(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Choose an engineer..."}),y.length===0?o.jsx("option",{value:"",disabled:!0,children:"No available engineers"}):y.map(w=>o.jsxs("option",{value:w.id,children:[w.displayName," ",w.displayEmail?`(${w.displayEmail})`:""]},w.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Engineers will be added as team contributors. Use the "Lead Engineer" dropdown above to set the project lead.'})]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx(Qt,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),o.jsx(Qt,{onClick:p,disabled:!u,children:"Add to Project"})]})]})})]})},Mve=({isOpen:r,onClose:e,project:t,onSave:n})=>{const[a,s]=B.useState({}),{teamMembers:i,fetchTeamMembers:l}=Oo(),{companies:c,fetchCompanies:u,loading:A}=Sd();if(B.useEffect(()=>{l(),u()},[l,u]),B.useEffect(()=>{t&&s({...t,hourlyRate:t.hourlyRate||null})},[t]),!r||!t)return null;const h=async()=>{try{await n(a),ye.success("Project updated successfully!"),e()}catch(p){ye.error(p?.message||"Failed to update project")}};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-white flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Project"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.projectCode," - ",t.title]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Nu,{className:"w-5 h-5 text-indigo-600"}),"Team Assignment"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Engineer"}),o.jsxs("select",{value:a.leadEngineerId||"",onChange:p=>{const m=i.find(y=>y.id===p.target.value);s({...a,leadEngineerId:p.target.value,engineerName:m?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Engineer"}),i.filter(p=>p.role==="engineer"||p.role==="senior-engineer"||p.role==="principal-engineer").map(p=>o.jsxs("option",{value:p.id,children:[p.name," - ",p.role.replace("-"," ").toUpperCase()]},p.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Manager"}),o.jsxs("select",{value:a.managerId||"",onChange:p=>{const m=i.find(y=>y.id===p.target.value);s({...a,managerId:p.target.value,managerName:m?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Project Manager"}),i.filter(p=>p.role==="senior-engineer"||p.role==="principal-engineer"||p.role==="manager"||p.role==="managing-director").map(p=>o.jsxs("option",{value:p.id,children:[p.name," - ",p.role.replace("-"," ").toUpperCase()]},p.id))]})]})]}),(a.engineerName||a.managerName)&&o.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-indigo-200",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Current Team:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.engineerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[" ",a.engineerName]}),a.managerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:[" ",a.managerName]})]})]}),t?.id&&o.jsx("div",{className:"mt-6 pt-6 border-t border-indigo-200",children:o.jsx(Lve,{projectId:t.id})})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Xh,{className:"w-5 h-5 text-green-600"}),"Company & Contact"]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact *"}),o.jsxs("select",{value:a.contactId||"",onChange:p=>{const m=p.target.value,y=c.find(g=>g.contacts.some(v=>v.id===m));y?.contacts.find(g=>g.id===m),s({...a,contactId:m,companyId:y?.id||"",companyName:y?.name||""})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent grouped-select",disabled:A,children:[o.jsx("option",{value:"",children:A?"Loading contacts...":c.length===0?"No contacts available":"Select Contact"}),c.map(p=>o.jsx("optgroup",{label:p.name,children:p.contacts.map(m=>o.jsxs("option",{value:m.id,children:[m.name," ",m.position?`(${m.position})`:""]},m.id))},p.id))]})]}),a.companyName&&o.jsxs("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Selected Company:"}),o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:[" ",a.companyName]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Status"}),o.jsxs("div",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg flex items-center justify-between",children:[o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:a.status==="pre-lim"?"Preliminary":a.status==="ongoing"?"Ongoing":"Completed"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Auto-updates based on PO/Invoice status"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Inquiry Date"]}),o.jsx("input",{type:"date",value:a.inquiryDate?new Date(a.inquiryDate).toISOString().split("T")[0]:"",onChange:p=>s({...a,inquiryDate:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing Type"}),t.poFileUrl?o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:"Current Billing Type:"})," ",o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${a.billingType==="lump_sum"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:a.billingType==="lump_sum"?"Lump Sum":"Hourly Rate"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Billing type cannot be changed after PO has been created."})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"hourly",checked:a.billingType==="hourly",onChange:p=>s({...a,billingType:p.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Hourly Rate"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"lump_sum",checked:a.billingType==="lump_sum",onChange:p=>s({...a,billingType:p.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Lump Sum"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours"}),o.jsx("input",{type:"number",value:a.plannedHours||0,onChange:p=>s({...a,plannedHours:parseInt(p.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.billingType==="hourly"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hourly Rate (MYR)",o.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Optional)"})]}),o.jsx("input",{type:"number",step:"0.01",value:a.hourlyRate||"",onChange:p=>s({...a,hourlyRate:parseFloat(p.target.value)||null}),placeholder:"e.g., 500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to use default RM 437.50/hr"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("button",{onClick:e,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{onClick:h,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all font-medium flex items-center gap-2",children:[o.jsx(p_,{className:"w-4 h-4"}),"Save Changes"]})]})]})})]})},Rve={danger:{icon:os,iconBg:"bg-red-100",iconColor:"text-red-600",headerBg:"from-red-50 to-red-100",confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:Jh,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",headerBg:"from-yellow-50 to-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:y_,iconBg:"bg-primary-100",iconColor:"text-primary-600",headerBg:"from-primary-50 to-primary-100",confirmButton:"bg-primary-600 hover:bg-primary-700 focus:ring-primary-500"}},rf=({isOpen:r,onClose:e,onConfirm:t,title:n,message:a,variant:s="info",confirmText:i="Confirm",cancelText:l="Cancel",isLoading:c=!1})=>{const u=Rve[s],A=u.icon,h=()=>{c||t()},p=m=>{m.key==="Escape"&&!c&&e(),m.key==="Enter"&&!c&&h()};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:m=>{m.target===m.currentTarget&&!c&&e()},onKeyDown:p,role:"presentation",children:o.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in",children:[o.jsxs("div",{className:Cr("flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r",u.headerBg),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:Cr("w-10 h-10 rounded-lg flex items-center justify-center",u.iconBg),children:o.jsx(A,{className:Cr("w-6 h-6",u.iconColor)})}),o.jsx("h2",{id:"confirm-dialog-title",className:"text-xl font-bold text-gray-900",children:n})]}),!c&&o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Close dialog",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-600"})})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{id:"confirm-dialog-description",className:"text-gray-700 leading-relaxed",children:a})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:e,disabled:c,className:"px-4 py-2.5 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:l}),o.jsx("button",{onClick:h,disabled:c,className:Cr("px-4 py-2.5 text-white rounded-lg transition-all font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] focus:outline-none focus:ring-2 focus:ring-offset-2",u.confirmButton,c&&"cursor-wait"),children:c?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):i})]})]})}):null};function N3(){const{user:r}=hf();return B.useMemo(()=>{if(!r)return{canAddProject:!1,canAddResearch:!1,canAddBusinessContact:!1,canAddTimesheet:!1,canExportTimesheet:!1,canAddTeamMember:!1,canEditTeamMember:!1,canDeleteTeamMember:!1,canAddOrRemoveInventory:!1,canAddMaintenanceDates:!1,canAddOrRemovePC:!1,canCheckoutEquipment:!1,canAssignPC:!1,canAccessFinance:!1,canUploadPO:!1,canApproveInvoices:!1,canEditInvoices:!1,canDeletePO:!1,canDeleteInvoices:!1,canViewBaseCost:!1,canViewAnalytics:!1,canManageProjectRates:!1,isAuthenticated:!1,roleInfo:null,roles:[],highestRole:"engineer"};const t=r.roles||[r.role],n=t.includes("admin")?"admin":t.reduce((s,i)=>{const l={engineer:1,"senior-engineer":2,"principal-engineer":3,manager:3,"managing-director":4,admin:5};return(l[i]||0)>(l[s]||0)?i:s},t[0]);return{...dC(t),isAuthenticated:!0,roleInfo:w_(n),roles:t,highestRole:n}},[r])}const Uve=()=>{const{projects:r,loading:e,fetchProjects:t}=is(),{clients:n,fetchClients:a}=ff(),{companies:s,fetchCompanies:i}=Sd(),{teamMembers:l,fetchTeamMembers:c}=Oo(),{canAddProject:u}=N3(),[A,h]=B.useState(""),[p,m]=B.useState("all"),[y,g]=B.useState("projectCode"),[v,w]=B.useState("asc"),[S,C]=B.useState(!1),[E,_]=B.useState(!1),[L,D]=B.useState(!1),[P,k]=B.useState(null),[z,I]=B.useState(!1),[Q,R]=B.useState(null),[K,ee]=B.useState(new Set),[Y,se]=B.useState({isOpen:!1});B.useEffect(()=>{t(),a(),i(),c()},[]);const X=B.useCallback(()=>{if(!u){ye.error(vd("add project","senior-engineer"));return}C(!0)},[u]),Ae=B.useCallback(te=>{const pe=r.find(ke=>ke.id===te);pe&&(k(pe),D(!0))},[r]),ge=B.useCallback(te=>{if(!u){ye.error(vd("edit project","senior-engineer"));return}const pe=r.find(ke=>ke.id===te);pe&&(k(pe),_(!0))},[u,r]),Z=B.useCallback(te=>{y===te?w(pe=>pe==="asc"?"desc":"asc"):(g(te),w("asc"))},[y]),O=te=>y!==te?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):v==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(kc,{className:"w-4 h-4 ml-1 inline-block"}),H=async te=>{if(!P){ye.error("No project selected");return}try{te.status&&te.status!==P.status&&await is.getState().updateProject(P.id,{status:te.status,inquiryDate:te.inquiryDate,poReceivedDate:te.poReceivedDate,completionDate:te.completionDate});const pe={};te.title&&(pe.title=te.title),te.plannedHours!==void 0&&(pe.plannedHours=te.plannedHours),te.categories!==void 0&&(pe.categories=te.categories),te.leadEngineerId&&(pe.leadEngineerId=te.leadEngineerId),te.managerId&&(pe.managerId=te.managerId),Object.keys(pe).length>0&&await is.getState().updateProject(P.id,pe),ye.success(`Project ${P.projectCode} updated successfully!`),t(!0),_(!1),k(null)}catch(pe){throw Rt.error("Failed to update project:",pe),ye.error(pe?.message||"Failed to update project"),pe}},V=B.useCallback((te,pe)=>{if(!u){ye.error(vd("delete project","senior-engineer"));return}se({isOpen:!0,projectId:te,projectCode:pe})},[u]),G=B.useCallback(async()=>{if(!(!Y.projectId||!Y.projectCode))try{await is.getState().deleteProject(Y.projectId),ye.success(`Project ${Y.projectCode} deleted successfully`),t(),se({isOpen:!1})}catch(te){Rt.error("Failed to delete project:",te),ye.error("Failed to delete project: "+(te instanceof Error?te.message:String(te)))}},[Y.projectId,Y.projectCode,t]),ae=B.useMemo(()=>r.filter(te=>{const pe=A===""||te.projectCode.toLowerCase().includes(A.toLowerCase())||te.title.toLowerCase().includes(A.toLowerCase()),ke=p==="all"||te.status===p;return pe&&ke}).sort((te,pe)=>{const ke=je=>{switch(y){case"projectCode":return je.projectCode.toLowerCase();case"title":return je.title.toLowerCase();case"client":return(n.find(Ie=>Ie.id===je.companyId)?.name||"").toLowerCase();case"engineer":return(je.engineerName||je.leadEngineer?.name||l.find(Ie=>Ie.userId===je.leadEngineerId)?.name||l.find(Ie=>Ie.userId===je.engineerId)?.name||"").toLowerCase();case"status":return je.status;case"hours":return je.actualHours||0;default:return je.projectCode.toLowerCase()}},Ee=ke(te),Ue=ke(pe);return typeof Ee=="string"&&typeof Ue=="string"?v==="asc"?Ee.localeCompare(Ue):Ue.localeCompare(Ee):v==="asc"?Ee-Ue:Ue-Ee}),[r,A,p,y,v,n,l]),ue=B.useMemo(()=>{const te=ae.filter(ke=>!ke.isVariationOrder),pe=ae.filter(ke=>ke.isVariationOrder).reduce((ke,Ee)=>{const Ue=Ee.parentProjectId||"";return ke[Ue]||(ke[Ue]=[]),ke[Ue].push(Ee),ke},{});return{parents:te,vosByParent:pe}},[ae]),Se=B.useMemo(()=>({total:r.length,preLim:r.filter(te=>te.status==="pre-lim").length,ongoing:r.filter(te=>te.status==="ongoing").length,completed:r.filter(te=>te.status==="completed").length}),[r]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your engineering projects and track progress"})]}),u&&o.jsxs("button",{onClick:X,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx(Vr,{variant:"stat",padding:"sm",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:A,onChange:te=>h(te.target.value),placeholder:"Search by project code or title...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(pg,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:p,onChange:te=>m(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Preliminary"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(fd,{title:"Total Projects",value:Se.total,color:"gray",onClick:()=>m("all"),active:p==="all"}),o.jsx(fd,{title:"Preliminary",value:Se.preLim,color:"yellow",onClick:()=>m("pre-lim"),active:p==="pre-lim"}),o.jsx(fd,{title:"Ongoing",value:Se.ongoing,color:"green",onClick:()=>m("ongoing"),active:p==="ongoing"}),o.jsx(fd,{title:"Completed",value:Se.completed,color:"gray",onClick:()=>m("completed"),active:p==="completed"})]}),o.jsxs(Vr,{variant:"stat",padding:"none",className:"overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[p==="all"&&`All Projects (${ae.length})`,p==="pre-lim"&&`Preliminary Projects (${ae.length})`,p==="ongoing"&&`Ongoing Projects (${ae.length})`,p==="completed"&&`Completed Projects (${ae.length})`]})}),e?o.jsx("div",{className:"px-6 py-8",children:o.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(te=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"grid grid-cols-7 gap-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded col-span-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})},te))})}):ae.length===0?o.jsxs("div",{className:"px-6 py-16 text-center",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx(yd,{className:"w-12 h-12 mx-auto opacity-50"})}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"No projects found"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:A||p!=="all"?"Try adjusting your search or filters":"Get started by creating your first project"}),u&&!A&&p==="all"&&o.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Create First Project"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>Z("projectCode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Code ",O("projectCode")]}),o.jsxs("th",{onClick:()=>Z("title"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Title ",O("title")]}),o.jsxs("th",{onClick:()=>Z("client"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Company ",O("client")]}),o.jsxs("th",{onClick:()=>Z("engineer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Engineer ",O("engineer")]}),o.jsxs("th",{onClick:()=>Z("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",O("status")]}),o.jsxs("th",{onClick:()=>Z("hours"),className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",O("hours")]}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ue.parents.map(te=>{let pe=s.find(je=>je.id===te.companyId);!pe&&te.companyId&&(pe=n.find(je=>je.id===te.companyId));const ke=ue.vosByParent[te.id]||[],Ee=ke.length>0,Ue=K.has(te.id);return o.jsxs(bs.Fragment,{children:[o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[Ee&&o.jsx("button",{onClick:()=>{const je=new Set(K);Ue?je.delete(te.id):je.add(te.id),ee(je)},className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:Ue?"Expand VOs":"Collapse VOs",children:o.jsx(gA,{className:`w-4 h-4 transition-transform ${Ue?"":"rotate-90"}`})}),o.jsx("button",{onClick:()=>Ae(te.id),className:"text-primary-600 hover:text-primary-700 hover:underline transition-colors cursor-pointer",title:`View details for project ${te.projectCode}`,"aria-label":`View details for project ${te.projectCode}`,children:te.projectCode}),Ee&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[ke.length," VO",ke.length>1?"s":""]})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:te.title,children:te.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:pe?.name||te.companyName||"Unknown"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:te.engineerName||te.leadEngineer?.name||l.find(je=>je.userId===te.leadEngineerId)?.name||l.find(je=>je.userId===te.engineerId)?.name||"Unassigned"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te.status==="pre-lim"?"bg-blue-100 text-blue-800":te.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:te.status==="pre-lim"?"Preliminary":te.status==="ongoing"?"Ongoing":"Completed"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[te.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",te.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(te.actualHours||0)>te.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(te.plannedHours>0?(te.actualHours||0)/te.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u&&o.jsx("button",{onClick:()=>{R(te),I(!0)},className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Create Variation Order","aria-label":`Create VO for ${te.projectCode}`,children:o.jsx(ei,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Ae(te.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View Details","aria-label":`View details for project ${te.projectCode}`,children:o.jsx(vi,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>ge(te.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit Project","aria-label":`Edit project ${te.projectCode}`,children:o.jsx(ZE,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>V(te.id,te.projectCode),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Project","aria-label":`Delete project ${te.projectCode}`,children:o.jsx(ws,{className:"w-4 h-4"})})]})})]}),!Ue&&ke.map(je=>{let J=s.find(Ie=>Ie.id===je.companyId);return!J&&je.companyId&&(J=n.find(Ie=>Ie.id===je.companyId)),o.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2 pl-8",children:[o.jsx("span",{className:"text-blue-400",children:""}),o.jsx("button",{onClick:()=>Ae(je.id),className:"text-primary-600 hover:text-primary-700 hover:underline transition-colors cursor-pointer",title:`View details for VO ${je.projectCode}`,"aria-label":`View details for VO ${je.projectCode}`,children:je.projectCode}),o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-200 text-blue-800",children:"VO"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:je.title,children:je.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:J?.name||je.companyName||"Unknown"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:je.engineerName||je.leadEngineer?.name||l.find(Ie=>Ie.userId===je.leadEngineerId)?.name||l.find(Ie=>Ie.userId===je.engineerId)?.name||"Unassigned"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${je.status==="pre-lim"?"bg-blue-100 text-blue-800":je.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:je.status==="pre-lim"?"Preliminary":je.status==="ongoing"?"Ongoing":"Completed"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[je.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",je.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(je.actualHours||0)>je.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(je.plannedHours>0?(je.actualHours||0)/je.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>Ae(je.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View Details","aria-label":`View details for VO ${je.projectCode}`,children:o.jsx(vi,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>ge(je.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit VO","aria-label":`Edit VO ${je.projectCode}`,children:o.jsx(ZE,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>V(je.id,je.projectCode),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete VO","aria-label":`Delete VO ${je.projectCode}`,children:o.jsx(ws,{className:"w-4 h-4"})})]})})]},je.id)})]},te.id)})})]})})]}),o.jsx(Pve,{isOpen:S,onClose:()=>{C(!1),t()}}),o.jsx(Mve,{isOpen:E,onClose:()=>{_(!1),k(null)},project:P,onSave:H}),o.jsx(E_,{isOpen:L,onClose:()=>{D(!1),k(null)},project:P}),o.jsx(Ive,{isOpen:z,onClose:()=>{I(!1),R(null),t()},parentProject:Q}),o.jsx(rf,{isOpen:Y.isOpen,onClose:()=>se({isOpen:!1}),onConfirm:G,title:"Delete Project",message:`Are you sure you want to delete Project ${Y.projectCode}? This action cannot be undone.`,variant:"danger",confirmText:"Delete Project",cancelText:"Cancel"})]})})},Qve={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl",full:"max-w-[95vw] h-[90vh]"},Hve={gradient:"bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",white:"bg-white dark:bg-gray-800",dark:"bg-gray-900 text-white dark:bg-gray-950"},XC=({isOpen:r,onClose:e,title:t,description:n,children:a,size:s="lg",icon:i,footer:l,showCloseButton:c=!0,isLoading:u=!1,preventBackdropClose:A=!1,hasUnsavedChanges:h=!1,className:p,headerVariant:m="gradient",loadingText:y="Processing..."})=>{const g=B.useRef(null),v=B.useRef(null),[w,S]=B.useState(!1),C=`modal-title-${bs.useId()}`,E=n?`modal-description-${bs.useId()}`:void 0,_=B.useCallback(()=>{u||(h?S(!0):e())},[u,h,e]),L=B.useCallback(z=>{z.key==="Escape"&&_()},[_]),D=B.useCallback(z=>{if(z.key!=="Tab"||!g.current)return;const I=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),Q=I[0],R=I[I.length-1];z.shiftKey?document.activeElement===Q&&(z.preventDefault(),R?.focus()):document.activeElement===R&&(z.preventDefault(),Q?.focus())},[]);B.useEffect(()=>(r&&(v.current=document.activeElement,document.addEventListener("keydown",L),document.addEventListener("keydown",D),document.body.style.overflow="hidden",setTimeout(()=>{const z=document.activeElement;if(!(g.current?.contains(z)&&(z?.tagName==="INPUT"||z?.tagName==="SELECT"||z?.tagName==="TEXTAREA"))){const Q=g.current?.querySelectorAll("input, select, textarea, button"),R=Array.from(Q||[]).find(K=>K.tagName==="INPUT"||K.tagName==="SELECT"||K.tagName==="TEXTAREA");R?R.focus():g.current?.focus()}},0)),()=>{document.removeEventListener("keydown",L),document.removeEventListener("keydown",D),document.body.style.overflow="",!r&&v.current&&v.current.focus()}),[r,L,D]);const P=z=>{z.target===z.currentTarget&&!A&&_()};if(B.useEffect(()=>{r||S(!1)},[r]),!r)return null;const k=m==="dark";return o.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:P,role:"presentation",children:o.jsxs("div",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":C,"aria-describedby":E,tabIndex:-1,className:Cr("bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-scale-in","max-w-[95vw]",`md:${Qve[s]}`,s==="full"&&"h-[90vh]",p),children:[w&&o.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center",children:o.jsx(Jh,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Unsaved Changes"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You have unsaved changes that will be lost."})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Keep Editing"}),o.jsx("button",{onClick:()=>{S(!1),e()},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})}),o.jsxs("div",{className:Cr("flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",Hve[m]),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[i&&o.jsx("div",{className:Cr("w-10 h-10 rounded-lg flex items-center justify-center",k?"bg-white/10":"bg-primary-100 dark:bg-primary-900/30"),"aria-hidden":"true",children:i}),o.jsxs("div",{children:[o.jsx("h2",{id:C,className:Cr("text-lg md:text-xl font-bold",k?"text-white":"text-gray-900 dark:text-white"),children:t}),n&&o.jsx("p",{id:E,className:Cr("text-sm",k?"text-gray-300":"text-gray-600 dark:text-gray-400"),children:n})]})]}),c&&!u&&o.jsx("button",{onClick:_,className:Cr("p-2 md:p-3 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",k?"hover:bg-white/10 text-gray-300 hover:text-white":"hover:bg-primary-200 dark:hover:bg-gray-700"),"aria-label":"Close dialog",children:o.jsx(Rr,{className:Cr("w-5 h-5",k?"":"text-gray-600 dark:text-gray-400"),"aria-hidden":"true"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[a,u&&o.jsx("div",{className:"absolute inset-0 bg-white/75 dark:bg-gray-800/75 flex items-center justify-center z-10",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 dark:border-primary-800 border-t-primary-600 dark:border-t-primary-400 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y})]})})]}),l&&o.jsx("div",{className:"flex items-center justify-between p-4 md:p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:l})]})})},zve=({isOpen:r,onClose:e})=>{const{createCompany:t}=Sd(),[n,a]=B.useState(!1),[s,i]=B.useState({name:"",company_type:[],industry:"",website:"",address:""}),l=["client","vendor","customer","supplier"],c=h=>{i(p=>({...p,company_type:p.company_type.includes(h)?p.company_type.filter(m=>m!==h):[...p.company_type,h]}))},u=async h=>{if(h.preventDefault(),!s.name.trim())return;a(!0);const p=await t(s);a(!1),p&&A()},A=()=>{i({name:"",company_type:[],industry:"",website:"",address:""}),e()};return o.jsx(XC,{isOpen:r,onClose:A,title:"Add New Company",icon:o.jsx(Xh,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Zs,{id:"company-name",type:"text",value:s.name,onChange:h=>i({...s,name:h.target.value}),placeholder:"Enter company name",required:!0,disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(h=>o.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:s.company_type.includes(h),onChange:()=>c(h),disabled:n,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:h})]},h))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Industry"}),o.jsx(Zs,{id:"industry",type:"text",value:s.industry,onChange:h=>i({...s,industry:h.target.value}),placeholder:"e.g., Manufacturing, Technology, Healthcare",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Website"}),o.jsx(Zs,{id:"website",type:"url",value:s.website,onChange:h=>i({...s,website:h.target.value}),placeholder:"https://www.example.com",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Address"}),o.jsx("textarea",{id:"address",value:s.address,onChange:h=>i({...s,address:h.target.value}),placeholder:"Enter company address",rows:3,disabled:n,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed resize-none"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Qt,{type:"button",variant:"outline",onClick:A,disabled:n,className:"flex-1",children:"Cancel"}),o.jsx(Qt,{type:"submit",variant:"primary",disabled:n,className:"flex-1",children:n?"Adding...":"Add Company"})]})]})})},Kve=({isOpen:r,onClose:e,companyId:t,companyName:n})=>{const{createContact:a}=Sd(),[s,i]=B.useState(!1),[l,c]=B.useState({name:"",email:"",phone:"",position:""}),u=async h=>{if(h.preventDefault(),!l.name.trim()||!l.email.trim())return;i(!0);const p=await a({company_id:t,...l});i(!1),p&&A()},A=()=>{c({name:"",email:"",phone:"",position:""}),e()};return o.jsx(XC,{isOpen:r,onClose:A,title:`Add Contact - ${n}`,icon:o.jsx(Ny,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Contact Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Zs,{id:"contact-name",type:"text",value:l.name,onChange:h=>c({...l,name:h.target.value}),placeholder:"Enter contact name",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Zs,{id:"email",type:"email",value:l.email,onChange:h=>c({...l,email:h.target.value}),placeholder:"contact@example.com",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone"}),o.jsx(Zs,{id:"phone",type:"tel",value:l.phone,onChange:h=>c({...l,phone:h.target.value}),placeholder:"+60 12-345 6789",disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Position"}),o.jsx(Zs,{id:"position",type:"text",value:l.position,onChange:h=>c({...l,position:h.target.value}),placeholder:"e.g., CEO, Project Manager, Engineer",disabled:s})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Qt,{type:"button",variant:"outline",onClick:A,disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(Qt,{type:"submit",variant:"primary",disabled:s,className:"flex-1",children:s?"Adding...":"Add Contact"})]})]})})},$ve=()=>{const{companies:r,fetchCompanies:e,deleteCompany:t,deleteContact:n}=Sd(),[a,s]=B.useState(!1),[i,l]=B.useState(!1),[c,u]=B.useState(null),[A,h]=B.useState(null),[p,m]=B.useState("");B.useEffect(()=>{e()},[]);const y=B.useCallback(()=>{s(!1)},[]),g=B.useCallback(()=>{l(!1),u(null)},[]),v=_=>{u(_),l(!0)},w=async(_,L)=>{window.confirm(`Are you sure you want to delete "${L}"? This will also delete all associated contacts.`)&&await t(_)},S=async(_,L)=>{window.confirm(`Are you sure you want to delete "${L}"?`)&&await n(_)},C=_=>{h(A===_?null:_)},E=B.useMemo(()=>{const _=p.toLowerCase();return r.filter(L=>{const D=L.name.toLowerCase().includes(_),P=L.contacts.some(k=>k.name.toLowerCase().includes(_)||k.email.toLowerCase().includes(_));return D||P})},[r,p]);return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Companies & Contacts"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your business contacts and company information"})]}),o.jsx(Qt,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(ei,{className:"w-4 h-4"}),children:"Add Company"})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search companies or contacts...",value:p,onChange:_=>m(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),E.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p?"No companies found":"No companies yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:p?"Try adjusting your search query":"Get started by adding your first company"}),!p&&o.jsx(Qt,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(ei,{className:"w-4 h-4"}),children:"Add First Company"})]}):o.jsx("div",{className:"space-y-4",children:E.map(_=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>C(_.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.name}),o.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:[_.contacts.length," ",_.contacts.length===1?"contact":"contacts"]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 ml-8",children:[_.industry&&o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Cu,{className:"w-4 h-4"}),_.industry]}),_.website&&o.jsx("a",{href:_.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",onClick:L=>L.stopPropagation(),children:_.website})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{variant:"outline",size:"sm",onClick:L=>{L.stopPropagation(),v(_)},icon:o.jsx(Ny,{className:"w-4 h-4"}),children:"Add Contact"}),o.jsx(Qt,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),w(_.id,_.name)},icon:o.jsx(ws,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})]})}),A===_.id&&o.jsx("div",{className:"border-t border-gray-100 bg-gray-50",children:_.contacts.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Ny,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts yet for this company"}),o.jsx(Qt,{variant:"primary",size:"sm",onClick:()=>v(_),icon:o.jsx(ei,{className:"w-4 h-4"}),children:"Add First Contact"})]}):o.jsx("div",{className:"p-6 space-y-3",children:_.contacts.map(L=>o.jsx("div",{className:"bg-white rounded-xl p-4 hover:shadow-sm transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:L.name}),L.position&&o.jsxs("span",{className:"text-sm text-gray-600",children:[" ",L.position]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gg,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${L.email}`,className:"text-primary-600 hover:underline",children:L.email})]}),L.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cC,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${L.phone}`,className:"text-primary-600 hover:underline",children:L.phone})]})]})]}),o.jsx(Qt,{variant:"ghost",size:"sm",onClick:()=>S(L.id,L.name),icon:o.jsx(ws,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})},L.id))})})]},_.id))})]}),o.jsx(zve,{isOpen:a,onClose:y}),c&&o.jsx(Kve,{isOpen:i,onClose:g,companyId:c.id,companyName:c.name})]})},Vve=30*1e3,nf=Ic((r,e)=>({researchProjects:[],researchTimesheets:[],loading:!1,lastFetched:null,fetchResearchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<Vve)){r({loading:!0});try{const i=await wr.getAllResearchProjects();r({researchProjects:Array.isArray(i)?i:[],lastFetched:Date.now()})}catch(i){console.error("Error fetching research projects:",i)}finally{r({loading:!1})}}},fetchResearchTimesheets:async t=>{r({loading:!0});try{const n=await wr.getResearchTimesheets(t);r({researchTimesheets:Array.isArray(n)?n:[]})}catch(n){console.error("Error fetching research timesheets:",n)}finally{r({loading:!1})}},addResearchProject:async t=>{try{const n=await wr.createResearchProject(t);r(a=>({researchProjects:[n,...a.researchProjects],lastFetched:Date.now()}))}catch(n){throw console.error("Error creating research project:",n),n}},updateResearchProject:async(t,n)=>{try{const a=await wr.updateResearchProject(t,n);r(s=>({researchProjects:s.researchProjects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Error updating research project:",a),a}},deleteResearchProject:async t=>{try{await wr.deleteResearchProject(t),r(n=>({researchProjects:n.researchProjects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Error deleting research project:",n),n}},logTimesheetHours:async(t,n)=>{try{const a=await wr.logResearchTimesheet({...n,projectId:t});r(s=>({researchTimesheets:[a,...s.researchTimesheets]})),e().fetchResearchProjects(!0)}catch(a){throw console.error("Error logging timesheet hours:",a),a}},approveTimesheetEntry:async(t,n)=>{try{await wr.approveResearchTimesheet(t,n),r(a=>({researchTimesheets:a.researchTimesheets.map(s=>s.id===t?{...s,status:"approved",approvedBy:n}:s)}))}catch(a){throw console.error("Error approving timesheet entry:",a),a}},deleteTimesheetEntry:async t=>{try{await wr.deleteResearchTimesheet(t),r(n=>({researchTimesheets:n.researchTimesheets.filter(a=>a.id!==t)})),e().fetchResearchProjects(!0)}catch(n){throw console.error("Error deleting timesheet entry:",n),n}}})),qve=({isOpen:r,onClose:e,onSubmit:t})=>{const{teamMembers:n}=Oo(),[a,s]=B.useState({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),[i,l]=B.useState({}),c=()=>{const p={};return a.title.trim()||(p.title="Project title is required"),a.description.trim()||(p.description="Description is required"),a.startDate||(p.startDate="Start date is required"),a.leadResearcherId||(p.leadResearcherId="Lead researcher is required"),l(p),Object.keys(p).length===0},u=p=>{p.preventDefault(),c()&&(t({researchCode:a.researchCode,title:a.title,description:a.description,status:a.status,startDate:a.startDate,plannedEndDate:a.endDate||void 0,leadResearcherId:a.leadResearcherId,leadResearcherName:a.leadResearcherName,budget:a.budget||void 0,plannedHours:a.plannedHours||void 0}),s({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),l({}))},A=(p,m)=>{s(y=>({...y,[p]:m})),i[p]&&l(y=>{const g={...y};return delete g[p],g})},h=p=>{const m=n.find(g=>g.id===p),y=m?.userId||p;A("leadResearcherId",y),m&&A("leadResearcherName",m.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(T0,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("input",{type:"text",value:a.researchCode,onChange:p=>A("researchCode",p.target.value.toUpperCase()),placeholder:"e.g., R26001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: RYYXXX (R=Research, YY=Year, XXX=Number)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:a.title,onChange:p=>A("title",p.target.value),placeholder:"Enter project title",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 ${i.title?"border-red-300 bg-red-50":"border-gray-300"}`}),i.title&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.title})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:a.description,onChange:p=>A("description",p.target.value),placeholder:"Enter project description",rows:3,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none ${i.description?"border-red-300 bg-red-50":"border-gray-300"}`}),i.description&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:a.status,onChange:p=>A("status",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lead Researcher ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:a.leadResearcherId,onChange:p=>h(p.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white ${i.leadResearcherId?"border-red-300 bg-red-50":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select a team member"}),n.map(p=>o.jsx("option",{value:p.userId||p.id,children:p.name},p.id))]}),i.leadResearcherId&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.leadResearcherId})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:a.startDate,onChange:p=>A("startDate",p.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 ${i.startDate?"border-red-300 bg-red-50":"border-gray-300"}`}),i.startDate&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.startDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),o.jsx("input",{type:"date",value:a.endDate,onChange:p=>A("endDate",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:a.plannedHours,onChange:p=>A("plannedHours",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:a.budget,onChange:p=>A("budget",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Qt,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Qt,{onClick:u,className:"flex-1",children:"Create Project"})]})]})]})}):null},Gve=({isOpen:r,onClose:e,onSubmit:t,project:n})=>{const{teamMembers:a}=Oo(),[s,i]=B.useState({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0,researchCode:n.researchCode||""}),[l,c]=B.useState({});B.useEffect(()=>{r&&(i({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0,researchCode:n.researchCode||""}),c({}))},[r,n]);const u=()=>{const m={};return s.title.trim()||(m.title="Project title is required"),s.description.trim()||(m.description="Description is required"),s.leadResearcherId||(m.leadResearcherId="Lead researcher is required"),c(m),Object.keys(m).length===0},A=m=>{m.preventDefault(),u()&&(t(n.id,{title:s.title,description:s.description,status:s.status,plannedEndDate:s.plannedEndDate||void 0,leadResearcherId:s.leadResearcherId,leadResearcherName:s.leadResearcherName,budget:s.budget||void 0,plannedHours:s.plannedHours||void 0,researchCode:s.researchCode}),e())},h=(m,y)=>{i(g=>({...g,[m]:y})),l[m]&&c(g=>{const v={...g};return delete v[m],v})},p=m=>{const y=a.find(v=>v.id===m),g=y?.userId||m;h("leadResearcherId",g),y&&h("leadResearcherName",y.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(T0,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("input",{type:"text",value:s.researchCode,onChange:m=>h("researchCode",m.target.value.toUpperCase()),placeholder:"e.g., R25001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title"}),o.jsx("input",{type:"text",value:s.title,onChange:m=>h("title",m.target.value),placeholder:"Enter project title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),l.title&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.title})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:s.description,onChange:m=>h("description",m.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"}),l.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:s.status,onChange:m=>h("status",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Researcher"}),o.jsxs("select",{value:s.leadResearcherId,onChange:m=>p(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"",children:"Select a team member"}),a.map(m=>o.jsx("option",{value:m.userId||m.id,children:m.name},m.id))]}),l.leadResearcherId&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.leadResearcherId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned End Date (Optional)"}),o.jsx("input",{type:"date",value:s.plannedEndDate,onChange:m=>h("plannedEndDate",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:s.plannedHours,onChange:m=>h("plannedHours",parseFloat(m.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:s.budget,onChange:m=>h("budget",parseFloat(m.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Qt,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Qt,{onClick:A,className:"flex-1",children:"Update Project"})]})]})]})}):null};function Bo(){const r=localStorage.getItem("currentUser");if(!r||r.trim()==="undefined"||r.trim()==="null")return console.warn("Invalid user data in localStorage (null/undefined), using default"),{displayName:"User",email:"user@mycae.com.my",userId:"1",id:"1",name:"User",role:"engineer"};if(r)try{const n=JSON.parse(r);if(!n||typeof n!="object")return console.error("Invalid user object after parsing:",r),localStorage.removeItem("currentUser"),{displayName:"User",email:"user@mycae.com.my",userId:"1",id:"1",name:"User",role:"engineer"};const a=n.id||n.userId||"1",s=n.name||n.displayName||"User";return{displayName:s,email:n.email||"user@mycae.com.my",userId:a,id:a,name:s,role:n.role||n.roles&&n.roles[0]||"engineer",roles:n.roles||(n.role?[n.role]:["engineer"]),department:n.department||"engineering"}}catch(n){console.error("Error parsing user from localStorage:",n),localStorage.removeItem("currentUser")}const e=localStorage.getItem("user_id")||"1",t=localStorage.getItem("user_name")||"User";return{displayName:t,email:localStorage.getItem("user_email")||"user@mycae.com.my",userId:e,id:e,name:t,role:localStorage.getItem("user_role")||"engineer"}}const Wve=()=>{const{researchProjects:r,loading:e,fetchResearchProjects:t,deleteResearchProject:n,updateResearchProject:a}=nf(),{fetchTeamMembers:s}=Oo(),i=Bo(),l=i&&sl(i.role||"engineer","canAddProject"),[c,u]=B.useState(""),[A,h]=B.useState("all"),[p,m]=B.useState("researchCode"),[y,g]=B.useState("asc"),[v,w]=B.useState(!1),[S,C]=B.useState(!1),[E,_]=B.useState(!1),[L,D]=B.useState(null),[P,k]=B.useState({isOpen:!1});B.useEffect(()=>{t(),s()},[s]);const z=()=>{if(!l){ye.error(vd("add research project","senior-engineer"));return}w(!0)},I=ge=>{D(ge),C(!0)},Q=ge=>{D(ge),_(!0)},R=async(ge,Z)=>{if(!l){ye.error(vd("delete research project","senior-engineer"));return}k({isOpen:!0,projectId:ge,title:Z})},K=B.useCallback(ge=>{p===ge?g(Z=>Z==="asc"?"desc":"asc"):(m(ge),g("asc"))},[p]),ee=ge=>p!==ge?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):y==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(kc,{className:"w-4 h-4 ml-1 inline-block"}),Y=async()=>{if(P.projectId)try{await n(P.projectId),ye.success("Research project deleted successfully"),t(),k({isOpen:!1})}catch(ge){Rt.error("Failed to delete research project:",ge),ye.error("Failed to delete research project")}},se=B.useMemo(()=>r.filter(ge=>{const Z=c===""||ge.title.toLowerCase().includes(c.toLowerCase())||ge.description?.toLowerCase().includes(c.toLowerCase()),O=A==="all"||ge.status===A;return Z&&O}).sort((ge,Z)=>{const O=G=>{switch(p){case"researchCode":return(G.researchCode||"").toLowerCase();case"title":return G.title.toLowerCase();case"leadResearcher":return(G.leadResearcherName||"").toLowerCase();case"status":return{planning:0,"in-progress":1,"on-hold":2,completed:3,archived:4}[G.status]??5;case"hours":return G.totalHoursLogged||0;case"startDate":return new Date(G.startDate).getTime();default:return(G.researchCode||"").toLowerCase()}},H=O(ge),V=O(Z);if(typeof H=="string"&&typeof V=="string")return y==="asc"?H.localeCompare(V):V.localeCompare(H);{const G=typeof H=="number"?H:0,ae=typeof V=="number"?V:0;return y==="asc"?G-ae:ae-G}}),[r,c,A,p,y]),X=ge=>{switch(ge){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-green-100 text-green-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-gray-100 text-gray-800";case"archived":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Ae=ge=>{switch(ge){case"planning":return"Planning";case"in-progress":return"In Progress";case"on-hold":return"On Hold";case"completed":return"Completed";case"archived":return"Archived";default:return ge}};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Research Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track research initiatives and timesheet hours"})]}),l&&o.jsxs("button",{onClick:z,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:c,onChange:ge=>u(ge.target.value),placeholder:"Search research projects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(pg,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:A,onChange:ge=>h(ge.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("button",{onClick:()=>h("all"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="all"?"ring-2 ring-primary-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Projects"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.length})]}),o.jsxs("button",{onClick:()=>h("planning"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="planning"?"ring-2 ring-blue-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Planning"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.filter(ge=>ge.status==="planning").length})]}),o.jsxs("button",{onClick:()=>h("in-progress"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="in-progress"?"ring-2 ring-green-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.filter(ge=>ge.status==="in-progress").length})]}),o.jsxs("button",{onClick:()=>h("completed"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="completed"?"ring-2 ring-gray-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:r.filter(ge=>ge.status==="completed").length})]}),o.jsxs("button",{onClick:()=>h("on-hold"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="on-hold"?"ring-2 ring-yellow-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"On Hold"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:r.filter(ge=>ge.status==="on-hold").length})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary-600 rounded-full animate-spin"})}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading research projects..."})]}):se.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"No research projects found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new project to get started"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>K("researchCode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Code ",ee("researchCode")]}),o.jsxs("th",{onClick:()=>K("title"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Title ",ee("title")]}),o.jsxs("th",{onClick:()=>K("leadResearcher"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Lead Researcher ",ee("leadResearcher")]}),o.jsxs("th",{onClick:()=>K("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",ee("status")]}),o.jsxs("th",{onClick:()=>K("hours"),className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",ee("hours")]}),o.jsxs("th",{onClick:()=>K("startDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Start Date ",ee("startDate")]}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map(ge=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary-600",children:ge.researchCode||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:ge.title,children:ge.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ge.leadResearcherName||"TBD"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X(ge.status)}`,children:Ae(ge.status)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:[ge.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(ge.startDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>I(ge),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View details",children:o.jsx(vi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Q(ge),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit project",children:o.jsx(ZE,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>R(ge.id,ge.title),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete project",children:o.jsx(ws,{className:"w-4 h-4"})})]})})]},ge.id))})]})})})]}),v&&o.jsx(qve,{isOpen:v,onClose:()=>w(!1),onSubmit:async ge=>{try{await nf.getState().addResearchProject(ge),ye.success("Research project created successfully"),w(!1),t()}catch{ye.error("Failed to create research project")}}}),S&&L&&o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>{C(!1),D(null)}}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:L.title}),o.jsx("p",{className:"text-gray-600 mb-4",children:L.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsx("p",{className:"text-lg",children:Ae(L.status)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Hours"}),o.jsxs("p",{className:"text-lg",children:[L.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),o.jsx("p",{className:"text-lg",children:new Date(L.startDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Lead Researcher"}),o.jsx("p",{className:"text-lg",children:L.leadResearcherName||"TBD"})]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>{C(!1),D(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]}),E&&L&&o.jsx(Gve,{isOpen:E,onClose:()=>{_(!1),D(null)},project:L,onSubmit:async(ge,Z)=>{try{await a(ge,Z),ye.success("Research project updated successfully!"),_(!1),D(null),t()}catch(O){ye.error("Failed to update research project"),Rt.error("Update error:",O)}}}),o.jsx(rf,{isOpen:P.isOpen,onClose:()=>k({isOpen:!1}),onConfirm:Y,title:"Delete Research Project",message:`Are you sure you want to delete "${P.title}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},Yve=({isOpen:r,onClose:e,onSuccess:t})=>{const[n,a]=B.useState({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),[s,i]=B.useState(!1),[l,c]=B.useState(null),[u,A]=B.useState(!1),h=async m=>{if(m.preventDefault(),!n.name||!n.email){ye.error("Please fill in all required fields");return}i(!0);try{const y={name:n.name,email:n.email,phone:n.phone,role:n.role,department:n.department,employment_type:"full-time",status:"active"},g=await wr.createTeamMember(y);g&&(g.tempPassword?c({tempPassword:g.tempPassword,name:n.name,email:n.email,message:g.message,emailStatus:g.emailStatus,emailError:g.emailError}):(ye.success(`Team member ${n.name} added successfully!`),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()))}catch(y){const g=y?.response?.data?.error||(Array.isArray(y?.response?.data?.errors)?y.response.data.errors[0]?.msg:"")||y?.message||"Failed to add team member";Rt.error("Error adding team member:",g),ye.error(g)}finally{i(!1)}};if(!r)return null;const p=()=>{c(null),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()};return l?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-green-100",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Team Member Created"}),o.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:`border rounded-lg p-4 ${l.emailStatus==="sent"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[o.jsx("p",{className:`text-sm ${l.emailStatus==="sent"?"text-green-800":"text-yellow-800"}`,children:l.message}),l.emailStatus==="failed"&&l.emailError&&o.jsxs("p",{className:"text-xs text-yellow-700 mt-2",children:["Error: ",l.emailError]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Team Member Name"}),o.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),o.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.email})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Email Sent:"})," Login credentials have been sent to ",l.email,". The user must change their password on first login."]})}),o.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:o.jsx("button",{onClick:p,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})})]})]})})]}):o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:h,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Hl,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:n.name,onChange:m=>a({...n,name:m.target.value}),placeholder:"e.g., John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(gg,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:n.email,onChange:m=>a({...n,email:m.target.value}),placeholder:"john@mycae.com.my",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(cC,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:n.phone,onChange:m=>a({...n,phone:m.target.value}),placeholder:"+60 12-345 6789",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:n.role,onChange:m=>a({...n,role:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineer",children:"Engineer"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineer"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineer"}),o.jsx("option",{value:"manager",children:"Manager"}),o.jsx("option",{value:"managing-director",children:"Managing Director"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cu,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:n.department,onChange:m=>a({...n,department:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Active:"})," This team member will be created with a user account and saved to the database."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:s,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Team Member"})]})]})]})})]})},BK=r=>Array.from({length:10},(e,t)=>{const n=String(t+1).padStart(2,"0");return{id:`${r}-${n}`,gender:r,path:`/assets/avatars/${r}/${r}-${n}.svg`,alt:`${r.charAt(0).toUpperCase()+r.slice(1)} Avatar ${t+1}`}}),EK=BK("male"),Xve=BK("female"),jK=[...EK,...Xve],_K=r=>jK.find(t=>t.id===r)?.path||EK[0].path,Jve=({selectedAvatar:r,onSelect:e,size:t="md"})=>{const n={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return o.jsxs("div",{className:"avatar-picker",children:[o.jsx("div",{className:"overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-3 min-w-max",children:jK.map(a=>o.jsx("button",{type:"button",onClick:()=>e(a.id),className:Cr("rounded-full border-4 transition-all hover:scale-110 flex-shrink-0",r===a.id?"border-blue-500 ring-2 ring-blue-300":"border-gray-200 hover:border-gray-400"),children:o.jsx("img",{src:_K(a.id),alt:a.alt,className:Cr("rounded-full",n[t])})},a.id))})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scroll right to see more avatars "})]})},Zve=({isOpen:r,onClose:e,onSuccess:t,teamMemberId:n,initialData:a})=>{const{user:s}=hf(),{updateTeamMember:i}=Oo(),[l,c]=B.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",roles:a?.roles||[a?.role||"engineer"],department:a?.department||"engineering",avatar:a?.avatar||"male-01"}),[u,A]=B.useState(!1),[h,p]=B.useState(!0),[m,y]=B.useState("");B.useEffect(()=>{if(a&&r){const v={name:a.name||"",email:a.email||"",phone:a.phone||"",roles:a.roles||[a.role||"engineer"],department:a.department||"engineering",avatar:a.avatar||"male-01"};if(c(v),a.user_id===s?.id||a.email===s?.email)p(!0),y("");else{const S=s?.roles||[s?.role||"engineer"];sl(S,"canEditTeamMember")?(p(!0),y("")):(p(!1),y("Only Principal Engineers, Managers, Managing Directors, and Admins can edit team members"))}}},[a,s,r]);const g=async v=>{if(v.preventDefault(),!h){ye.error(m);return}if(!l.name||!l.email||!n){ye.error("Please fill in all required fields");return}A(!0);try{if(Rt.debug("EDIT TEAM MEMBER START"),Rt.debug("Team Member ID:",n),!n){ye.error("Team member ID is missing"),A(!1);return}const w=a?.user_id===s?.id||a?.email===s?.email,S={name:l.name,email:l.email,phone:l.phone,department:l.department,avatar:l.avatar};w||(S.roles=l.roles),Rt.debug("Form Data being sent:",S),Rt.debug("Is editing self:",w),await i(n,S),Rt.debug("Team member updated successfully"),ye.success("Team member updated successfully!"),e(),t&&(Rt.debug("Calling onSuccess callback"),t()),Rt.debug("EDIT TEAM MEMBER END")}catch(w){Rt.error("Error in edit team member:",w),Rt.error("Error response:",w?.response),Rt.error("Error response data:",w?.response?.data);const S=w?.response?.data?.error||(Array.isArray(w?.response?.data?.errors)?w.response.data.errors[0]?.msg:"")||w?.message||"Failed to update team member";Rt.error("Error updating team member:",S),ye.error(S)}finally{A(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),!h&&o.jsxs("div",{className:"m-6 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-3",children:[o.jsx(os,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:m}),o.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Contact a Principal Engineer, Manager, Managing Director, or Admin to make changes"})]})]}),o.jsxs("form",{onSubmit:g,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Hl,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),placeholder:"e.g., John Doe",disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Avatar"}),o.jsx(Jve,{selectedAvatar:l.avatar,onSelect:v=>c({...l,avatar:v})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(gg,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),placeholder:"john@mycae.com.my",disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(cC,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),placeholder:"+60 12-345 6789",disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Roles ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(Select one or more)"})]}),o.jsx("div",{className:"space-y-2",children:[{value:"engineer",label:"Engineer"},{value:"senior-engineer",label:"Senior Engineer"},{value:"principal-engineer",label:"Principal Engineer"},{value:"manager",label:"Manager"},{value:"managing-director",label:"Managing Director"},{value:"admin",label:"Admin"}].map(v=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.roles.includes(v.value),onChange:w=>{const S=v.value;w.target.checked?c({...l,roles:[...l.roles,S]}):l.roles.length>1&&c({...l,roles:l.roles.filter(C=>C!==S)})},disabled:!h||u||l.roles.length===1&&l.roles.includes(v.value),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${!h||u?"text-gray-400":"text-gray-700"}`,children:v.label})]},v.value))}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"At least one role must be selected"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cu,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:l.department,onChange:v=>c({...l,department:v.target.value}),disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),h&&o.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Info:"})," Changes will be saved to the team member's profile."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:u,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!h||u,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Save Changes"})]})]})]})})]}):null},e1e=r=>({engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"})[r]||r,t1e=()=>{const{teamMembers:r,fetchTeamMembers:e,deleteTeamMember:t,reactivateTeamMember:n}=Oo(),[a,s]=B.useState(""),[i,l]=B.useState("all"),[c,u]=B.useState("active"),[A,h]=B.useState(!1),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState({isOpen:!1}),S=Bo(),C=S?.role||"engineer",E=S?.roles||[C],_=dC(E);B.useEffect(()=>{e({status:c==="all"?void 0:c})},[e,c]);const L=()=>{if(!_.canAddTeamMember){ye.error("You need Principal Engineer level or higher to add team members");return}h(!0)},D=R=>{if(!_.canEditTeamMember){ye.error("You do not have permission to edit team members");return}if(C==="senior-engineer"&&S?.department&&R?.department&&S.department!==R.department){ye.error("Senior Engineers can only edit team members in their own department");return}g(R),m(!0)},P=async R=>{if(!_.canDeleteTeamMember){ye.error("You do not have permission to delete team members");return}if(C==="senior-engineer"&&S?.department&&R?.department&&S.department!==R.department){ye.error("Senior Engineers can only delete team members in their own department");return}w({isOpen:!0,action:"deactivate",memberName:R?.name,memberId:R.id})},k=async()=>{if(!(!v.memberId||!v.action))try{v.action==="deactivate"?(await t(v.memberId),ye.success(`${v.memberName||"Team member"} has been deactivated successfully`)):v.action==="reactivate"&&(await n(v.memberId),ye.success(`${v.memberName||"Team member"} has been reactivated successfully`)),e({status:c==="all"?void 0:c}),w({isOpen:!1})}catch{ye.error(`Failed to ${v.action} team member`)}},z=async R=>{if(!_.canDeleteTeamMember){ye.error("You do not have permission to reactivate team members");return}w({isOpen:!0,action:"reactivate",memberName:R?.name,memberId:R.id})},I=r.filter(R=>{const K=a===""||R.name&&R.name.toLowerCase().includes(a.toLowerCase())||R.department&&R.department.toLowerCase().includes(a.toLowerCase()),ee=i==="all"||R.role===i;return K&&ee}),Q=R=>{switch(R){case"engineer":return"bg-blue-100 text-blue-800";case"senior-engineer":return"bg-indigo-100 text-indigo-800";case"principal-engineer":return"bg-purple-100 text-purple-800";case"manager":return"bg-green-100 text-green-800";case"managing-director":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx(X7,{title:"Team",description:"Manage your team members and track their workload",action:_.canAddTeamMember?o.jsxs("button",{onClick:L,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Add Team Member"]}):void 0}),o.jsx(Vr,{variant:"stat",padding:"sm",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:R=>s(R.target.value),placeholder:"Search by name or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{children:o.jsxs("select",{value:i,onChange:R=>l(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"engineer",children:"Engineers"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineers"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineers"}),o.jsx("option",{value:"manager",children:"Managers"}),o.jsx("option",{value:"managing-director",children:"Managing Directors"})]})}),o.jsx("div",{children:o.jsxs("select",{value:c,onChange:R=>u(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"active",children:"Active Members"}),o.jsx("option",{value:"inactive",children:"Inactive Members"}),o.jsx("option",{value:"all",children:"All Members"})]})})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[o.jsx(fd,{title:"Total",value:r.length,color:"gray"}),o.jsx(fd,{title:"Engineers",value:r.filter(R=>R.role==="engineer").length,color:"blue"}),o.jsx(fd,{title:"Senior Eng",value:r.filter(R=>R.role==="senior-engineer").length,color:"indigo"}),o.jsx(fd,{title:"Principal Eng",value:r.filter(R=>R.role==="principal-engineer").length,color:"purple"}),o.jsx(fd,{title:"Managers",value:r.filter(R=>R.role==="manager").length,color:"green"}),o.jsx(fd,{title:"Man. Directors",value:r.filter(R=>R.role==="managing-director").length,color:"red"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(R=>o.jsxs(Vr,{variant:"stat",className:"hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:_K(R.avatar||"male-01"),alt:R.name,className:`w-16 h-16 rounded-full ${R.status==="inactive"?"opacity-50 grayscale":""}`}),R.status==="inactive"&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Inactive"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.name}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(R.roles||[R.role]).map(K=>o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(K)}`,children:e1e(K)},K))})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[o.jsx(Cu,{className:"w-4 h-4"}),o.jsx("span",{children:R.department})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(gg,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${R.email}`,className:"hover:text-primary-600 transition-colors truncate",children:R.email})]}),R.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(cC,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${R.phone}`,className:"hover:text-primary-600 transition-colors",children:R.phone})]})]}),R.certifications&&R.certifications.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[o.jsx(oZ,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Certifications"})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.certifications.slice(0,2).map((K,ee)=>o.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",title:K,children:K.length>25?K.substring(0,25)+"...":K},ee)),R.certifications.length>2&&o.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["+",R.certifications.length-2," more"]})]})]}),o.jsx("div",{className:"mt-4 flex gap-2",children:R.status==="active"?o.jsxs(o.Fragment,{children:[_.canEditTeamMember&&o.jsxs("button",{onClick:()=>D(R),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",children:[o.jsx(ko,{className:"w-4 h-4"}),"Edit"]}),_.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>P(R),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[o.jsx(ws,{className:"w-4 h-4"}),"Deactivate"]})]}):o.jsx(o.Fragment,{children:_.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>z(R),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",children:[o.jsx(uC,{className:"w-4 h-4"}),"Reactivate"]})})})]},R.id))}),o.jsx(Yve,{isOpen:A,onClose:()=>h(!1),onSuccess:()=>{e(),h(!1)}}),y&&o.jsx(Zve,{isOpen:p,onClose:()=>{m(!1),g(null)},teamMemberId:y.id,initialData:{id:y.id,name:y.name,email:y.email,phone:y.phone,role:y.role,department:y.department},onSuccess:()=>{e(),m(!1),g(null)}}),o.jsx(rf,{isOpen:v.isOpen,onClose:()=>w({isOpen:!1}),onConfirm:k,title:v.action==="deactivate"?"Deactivate Team Member":"Reactivate Team Member",message:v.action==="deactivate"?`Are you sure you want to deactivate ${v.memberName||"this team member"}? This will mark them as inactive.`:`Are you sure you want to reactivate ${v.memberName||"this team member"}?`,variant:v.action==="deactivate"?"warning":"info",confirmText:v.action==="deactivate"?"Deactivate":"Reactivate",cancelText:"Cancel"})]})})};var C2={};C2.version="0.18.5";var TK=1252,r1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kK=function(r){r1e.indexOf(r)!=-1&&(TK=r)};function n1e(){kK(1252)}var Ly=function(r){kK(r)};function a1e(){Ly(1200),n1e()}var ub=function(e){return String.fromCharCode(e)},LL=function(e){return String.fromCharCode(e)},N2,Qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function My(r){for(var e="",t=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<r.length;)t=r.charCodeAt(u++),s=t>>2,n=r.charCodeAt(u++),i=(t&3)<<4|n>>4,a=r.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=Qh.charAt(s)+Qh.charAt(i)+Qh.charAt(l)+Qh.charAt(c);return e}function kA(r){var e="",t=0,n=0,a=0,s=0,i=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)s=Qh.indexOf(r.charAt(u++)),i=Qh.indexOf(r.charAt(u++)),t=s<<2|i>>4,e+=String.fromCharCode(t),l=Qh.indexOf(r.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Qh.indexOf(r.charAt(u++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var En=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),KA=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function M0(r){return En?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function ML(r){return En?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var bu=function(e){return En?KA(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function JC(r){if(typeof ArrayBuffer>"u")return bu(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Ev(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function s1e(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Hi=En?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:KA(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function i1e(r){for(var e=[],t=0,n=r.length+250,a=M0(r.length+255),s=0;s<r.length;++s){var i=r.charCodeAt(s);if(i<128)a[t++]=i;else if(i<2048)a[t++]=192|i>>6&31,a[t++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=r.charCodeAt(++s)&1023;a[t++]=240|i>>8&7,a[t++]=128|i>>2&63,a[t++]=128|l>>6&15|(i&3)<<4,a[t++]=128|l&63}else a[t++]=224|i>>12&15,a[t++]=128|i>>6&63,a[t++]=128|i&63;t>n&&(e.push(a.slice(0,t)),t=0,a=M0(65535),n=65530)}return e.push(a.slice(0,t)),Hi(e)}var ly=/\u0000/g,db=/[\u0001-\u0006]/g;function kp(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function wu(r,e){var t=""+r;return t.length>=e?t:ss("0",e-t.length)+t}function S3(r,e){var t=""+r;return t.length>=e?t:ss(" ",e-t.length)+t}function S2(r,e){var t=""+r;return t.length>=e?t:t+ss(" ",e-t.length)}function o1e(r,e){var t=""+Math.round(r);return t.length>=e?t:ss("0",e-t.length)+t}function l1e(r,e){var t=""+r;return t.length>=e?t:ss("0",e-t.length)+t}var RL=Math.pow(2,32);function Jm(r,e){if(r>RL||r<-RL)return o1e(r,e);var t=Math.round(r);return l1e(t,e)}function B2(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var UL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],MB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function c1e(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var ls={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},QL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},u1e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function E2(r,e,t){for(var n=r<0?-1:1,a=r*n,s=0,i=1,l=0,c=1,u=0,A=0,h=Math.floor(a);u<e&&(h=Math.floor(a),l=h*i+s,A=h*u+c,!(a-h<5e-8));)a=1/(a-h),s=i,i=l,c=u,u=A;if(A>e&&(u>e?(A=c,l=s):(A=u,l=i)),!t)return[0,n*l,A];var p=Math.floor(n*l/A);return[p,n*l-p*A,A]}function Ab(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),s=0,i=[],l={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),t&&(s=g1e(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var FK=new Date(1899,11,31,0,0,0),d1e=FK.getTime(),A1e=new Date(1900,2,1,0,0,0);function OK(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=A1e&&(t+=1440*60*1e3),(t-(d1e+(r.getTimezoneOffset()-FK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function B3(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function h1e(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function f1e(r){var e=r<0?12:11,t=B3(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function m1e(r){var e=B3(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function p1e(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=f1e(r):e===10?t=r.toFixed(10).substr(0,12):t=m1e(r),B3(h1e(t.toUpperCase()))}function cj(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):p1e(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return af(14,OK(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function g1e(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function x1e(r,e,t,n){var a="",s=0,i=0,l=t.y,c,u=0;switch(r){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return MB[t.m-1][1];case 5:return MB[t.m-1][0];default:return MB[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return UL[t.q][0];default:return UL[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?wu(t.S,e.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(t.S+t.u)),s>=60*i&&(s=0),e==="s"?s===0?"0":""+s/i:(a=wu(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=l,u=1;break}var A=u>0?wu(c,u):"";return A}function Hh(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var DK=/%/g;function y1e(r,e,t){var n=e.replace(DK,""),a=e.length-n.length;return bA(r,n,t*Math.pow(10,2*a))+ss("%",a)}function v1e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bA(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function PK(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+PK(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),t.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+s):t+="E+"+(i-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,A){return c+u+A.substr(0,(a+s)%a)+"."+A.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var IK=/# (\?+)( ?)\/( ?)(\d+)/;function b1e(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),s=Math.floor(a/n),i=a-s*n,l=n;return t+(s===0?"":""+s)+" "+(i===0?ss(" ",r[1].length+1+r[4].length):S3(i,r[1].length)+r[2]+"/"+r[3]+wu(l,r[4].length))}function w1e(r,e,t){return t+(e===0?"":""+e)+ss(" ",r[1].length+2+r[4].length)}var LK=/^#*0*\.([0#]+)/,MK=/\).*[0#]/,RK=/\(###\) ###\\?-####/;function wo(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function HL(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function zL(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function C1e(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function N1e(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function bc(r,e,t){if(r.charCodeAt(0)===40&&!e.match(MK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?bc("n",n,t):"("+bc("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return v1e(r,e,t);if(e.indexOf("%")!==-1)return y1e(r,e,t);if(e.indexOf("E")!==-1)return PK(e,t);if(e.charCodeAt(0)===36)return"$"+bc(r,e.substr(e.charAt(1)==" "?2:1),t);var a,s,i,l,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Jm(c,e.length);if(e.match(/^[#?]+$/))return a=Jm(t,0),a==="0"&&(a=""),a.length>e.length?a:wo(e.substr(0,e.length-a.length))+a;if(s=e.match(IK))return b1e(s,c,u);if(e.match(/^#+0+$/))return u+Jm(c,e.length-e.indexOf("0"));if(s=e.match(LK))return a=HL(t,s[1].length).replace(/^([^\.]+)$/,"$1."+wo(s[1])).replace(/\.$/,"."+wo(s[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+ss("0",wo(s[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+HL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Hh(Jm(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+bc(r,e,-t):Hh(""+(Math.floor(t)+C1e(t,s[1].length)))+"."+wu(zL(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return bc(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kp(bc(r,e.replace(/[\\-]/g,""),t)),i=0,kp(kp(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<a.length?a.charAt(i++):y==="0"?"0":""}));if(e.match(RK))return a=bc(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var A="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=E2(c,Math.pow(10,i)-1,!1),a=""+u,A=bA("n",s[1],l[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),a+=A+s[2]+"/"+s[3],A=S2(l[2],i),A.length<s[4].length&&(A=wo(s[4].substr(s[4].length-A.length))+A),a+=A,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=E2(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?S3(l[1],i)+s[2]+"/"+s[3]+S2(l[2],i):ss(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=Jm(t,0),e.length<=a.length?a:wo(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=e.indexOf(".")-i,p=e.length-a.length-h;return wo(e.substr(0,h)+a+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return i=zL(t,s[1].length),t<0?"-"+bc(r,e,-t):Hh(N1e(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?wu(0,3-y.length):"")+y})+"."+wu(i,s[1].length);switch(e){case"###,##0.00":return bc(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Hh(Jm(c,0));return m!=="0"?u+m:"";case"###,###.00":return bc(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return bc(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function S1e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bA(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function B1e(r,e,t){var n=e.replace(DK,""),a=e.length-n.length;return bA(r,n,t*Math.pow(10,2*a))+ss("%",a)}function UK(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+UK(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!t.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+s):t+="E+"+(i-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,A){return c+u+A.substr(0,(a+s)%a)+"."+A.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ld(r,e,t){if(r.charCodeAt(0)===40&&!e.match(MK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ld("n",n,t):"("+ld("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return S1e(r,e,t);if(e.indexOf("%")!==-1)return B1e(r,e,t);if(e.indexOf("E")!==-1)return UK(e,t);if(e.charCodeAt(0)===36)return"$"+ld(r,e.substr(e.charAt(1)==" "?2:1),t);var a,s,i,l,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+wu(c,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:wo(e.substr(0,e.length-a.length))+a;if(s=e.match(IK))return w1e(s,c,u);if(e.match(/^#+0+$/))return u+wu(c,e.length-e.indexOf("0"));if(s=e.match(LK))return a=(""+t).replace(/^([^\.]+)$/,"$1."+wo(s[1])).replace(/\.$/,"."+wo(s[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+ss("0",wo(s[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Hh(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ld(r,e,-t):Hh(""+t)+"."+ss("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ld(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kp(ld(r,e.replace(/[\\-]/g,""),t)),i=0,kp(kp(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<a.length?a.charAt(i++):y==="0"?"0":""}));if(e.match(RK))return a=ld(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var A="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=E2(c,Math.pow(10,i)-1,!1),a=""+u,A=bA("n",s[1],l[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),a+=A+s[2]+"/"+s[3],A=S2(l[2],i),A.length<s[4].length&&(A=wo(s[4].substr(s[4].length-A.length))+A),a+=A,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=E2(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?S3(l[1],i)+s[2]+"/"+s[3]+S2(l[2],i):ss(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:wo(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=e.indexOf(".")-i,p=e.length-a.length-h;return wo(e.substr(0,h)+a+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ld(r,e,-t):Hh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?wu(0,3-y.length):"")+y})+"."+wu(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Hh(""+c);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return ld(r,e.slice(0,e.lastIndexOf(".")),t)+wo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function bA(r,e,t){return(t|0)===t?ld(r,e,t):bc(r,e,t)}function E1e(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var QK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function HK(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":B2(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(QK))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function j1e(r,e,t,n){for(var a=[],s="",i=0,l="",c="t",u,A,h,p="H";i<r.length;)switch(l=r.charAt(i)){case"G":if(!B2(r,i))throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(h=r.charCodeAt(++i))!==34&&i<r.length;)s+=String.fromCharCode(h);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=r.charAt(++i),y=m==="("||m===")"?m:"t";a[a.length]={t:y,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:e},++i;break;case"B":case"b":if(r.charAt(i+1)==="1"||r.charAt(i+1)==="2"){if(u==null&&(u=Ab(e,t,r.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:r.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Ab(e,t),u==null))return"";for(s=l;++i<r.length&&r.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=Ab(e,t)),r.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",p="h",i+=3):r.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,p="h"):r.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,p="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;r.charAt(i++)!=="]"&&i<r.length;)s+=r.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(QK)){if(u==null&&(u=Ab(e,t),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",HK(r)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<r.length&&(l=r.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;r.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(r.charAt(i)==" "||r.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<r.length&&"0123456789".indexOf(r.charAt(++i))>-1;)s+=r.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"t",v:l},++i;break}var v=0,w=0,S;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=p,c="h",v<1&&(v=1);break;case"s":(S=a[i].v.match(/\.0+$/))&&(w=Math.max(w,S[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",E;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=x1e(a[i].t.charCodeAt(0),a[i].v,u,w),a[i].t="t";break;case"n":case"?":for(E=i+1;a[E]!=null&&((l=a[E].t)==="?"||l==="D"||(l===" "||l==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[i].v+=a[E].v,a[E]={v:"",t:";"},++E;C+=a[i].v,i=E-1;break;case"G":a[i].t="t",a[i].v=cj(e,t);break}var _="",L,D;if(C.length>0){C.charCodeAt(0)==40?(L=e<0&&C.charCodeAt(0)===45?-e:e,D=bA("n",C,L)):(L=e<0&&n>1?-e:e,D=bA("n",C,L),L<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),E=D.length-1;var P=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){P=i;break}var k=a.length;if(P===a.length&&D.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(E>=a[i].v.length-1?(E-=a[i].v.length,a[i].v=D.substr(E+1,a[i].v.length)):E<0?a[i].v="":(a[i].v=D.substr(0,E+1),E=-1),a[i].t="t",k=i);E>=0&&k<a.length&&(a[k].v=D.substr(0,E+1)+a[k].v)}else if(P!==a.length&&D.indexOf("E")===-1){for(E=D.indexOf(".")-1,i=P;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(A=a[i].v.indexOf(".")>-1&&i===P?a[i].v.indexOf(".")-1:a[i].v.length-1,_=a[i].v.substr(A+1);A>=0;--A)E>=0&&(a[i].v.charAt(A)==="0"||a[i].v.charAt(A)==="#")&&(_=D.charAt(E--)+_);a[i].v=_,a[i].t="t",k=i}for(E>=0&&k<a.length&&(a[k].v=D.substr(0,E+1)+a[k].v),E=D.indexOf(".")+1,i=P;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==P)){for(A=a[i].v.indexOf(".")>-1&&i===P?a[i].v.indexOf(".")+1:0,_=a[i].v.substr(0,A);A<a[i].v.length;++A)E<D.length&&(_+=D.charAt(E++));a[i].v=_,a[i].t="t",k=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(L=n>1&&e<0&&i>0&&a[i-1].v==="-"?-e:e,a[i].v=bA(a[i].t,a[i].v,L),a[i].t="t");var z="";for(i=0;i!==a.length;++i)a[i]!=null&&(z+=a[i].v);return z}var KL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $L(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function _1e(r,e){var t=E1e(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var i=t[0].match(KL),l=t[1].match(KL);return $L(e,i)?[n,t[0]]:$L(e,l)?[n,t[1]]:[n,t[i!=null&&l!=null?2:1]]}return[n,s]}function af(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:ls)[r],n==null&&(n=t.table&&t.table[QL[r]]||ls[QL[r]]),n==null&&(n=u1e[r]||"General");break}if(B2(n,0))return cj(e,t);e instanceof Date&&(e=OK(e,t.date1904));var a=_1e(n,e);if(B2(a[1]))return cj(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return j1e(a[1],e,t,a[0])}function zK(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(ls[t]==null){e<0&&(e=t);continue}if(ls[t]==r){e=t;break}}e<0&&(e=391)}return ls[e]=r,e}function ZC(r){for(var e=0;e!=392;++e)r[e]!==void 0&&zK(r[e],e)}function e5(){ls=c1e()}var KK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function T1e(r){var e=typeof r=="number"?ls[r]:r;return e=e.replace(KK,"(\\d+)"),new RegExp("^"+e+"$")}function k1e(r,e,t){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(e.match(KK)||[]).forEach(function(h,p){var m=parseInt(t[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var A=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?A:u+"T"+A}var F1e=(function(){var r={};r.version="1.2.0";function e(){for(var D=0,P=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,P[k]=D;return typeof Int32Array<"u"?new Int32Array(P):P}var t=e();function n(D){var P=0,k=0,z=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)I[z]=D[z];for(z=0;z!=256;++z)for(k=D[z],P=256+z;P<4096;P+=256)k=I[P]=k>>>8^D[k&255];var Q=[];for(z=1;z!=16;++z)Q[z-1]=typeof Int32Array<"u"?I.subarray(z*256,z*256+256):I.slice(z*256,z*256+256);return Q}var a=n(t),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],A=a[5],h=a[6],p=a[7],m=a[8],y=a[9],g=a[10],v=a[11],w=a[12],S=a[13],C=a[14];function E(D,P){for(var k=P^-1,z=0,I=D.length;z<I;)k=k>>>8^t[(k^D.charCodeAt(z++))&255];return~k}function _(D,P){for(var k=P^-1,z=D.length-15,I=0;I<z;)k=C[D[I++]^k&255]^S[D[I++]^k>>8&255]^w[D[I++]^k>>16&255]^v[D[I++]^k>>>24]^g[D[I++]]^y[D[I++]]^m[D[I++]]^p[D[I++]]^h[D[I++]]^A[D[I++]]^u[D[I++]]^c[D[I++]]^l[D[I++]]^i[D[I++]]^s[D[I++]]^t[D[I++]];for(z+=15;I<z;)k=k>>>8^t[(k^D[I++])&255];return~k}function L(D,P){for(var k=P^-1,z=0,I=D.length,Q=0,R=0;z<I;)Q=D.charCodeAt(z++),Q<128?k=k>>>8^t[(k^Q)&255]:Q<2048?(k=k>>>8^t[(k^(192|Q>>6&31))&255],k=k>>>8^t[(k^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,R=D.charCodeAt(z++)&1023,k=k>>>8^t[(k^(240|Q>>8&7))&255],k=k>>>8^t[(k^(128|Q>>2&63))&255],k=k>>>8^t[(k^(128|R>>6&15|(Q&3)<<4))&255],k=k>>>8^t[(k^(128|R&63))&255]):(k=k>>>8^t[(k^(224|Q>>12&15))&255],k=k>>>8^t[(k^(128|Q>>6&63))&255],k=k>>>8^t[(k^(128|Q&63))&255]);return~k}return r.table=t,r.bstr=E,r.buf=_,r.str=L,r})(),ta=(function(){var e={};e.version="1.2.1";function t(ie,we){for(var he=ie.split("/"),fe=we.split("/"),xe=0,Ne=0,He=Math.min(he.length,fe.length);xe<He;++xe){if(Ne=he[xe].length-fe[xe].length)return Ne;if(he[xe]!=fe[xe])return he[xe]<fe[xe]?-1:1}return he.length-fe.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var we=ie.lastIndexOf("/");return we===-1?ie:ie.slice(0,we+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var we=ie.lastIndexOf("/");return we===-1?ie:ie.slice(we+1)}function s(ie,we){typeof we=="string"&&(we=new Date(we));var he=we.getHours();he=he<<6|we.getMinutes(),he=he<<5|we.getSeconds()>>>1,ie.write_shift(2,he);var fe=we.getFullYear()-1980;fe=fe<<4|we.getMonth()+1,fe=fe<<5|we.getDate(),ie.write_shift(2,fe)}function i(ie){var we=ie.read_shift(2)&65535,he=ie.read_shift(2)&65535,fe=new Date,xe=he&31;he>>>=5;var Ne=he&15;he>>>=4,fe.setMilliseconds(0),fe.setFullYear(he+1980),fe.setMonth(Ne-1),fe.setDate(xe);var He=we&31;we>>>=5;var nt=we&63;return we>>>=6,fe.setHours(we),fe.setMinutes(nt),fe.setSeconds(He<<1),fe}function l(ie){Il(ie,0);for(var we={},he=0;ie.l<=ie.length-4;){var fe=ie.read_shift(2),xe=ie.read_shift(2),Ne=ie.l+xe,He={};fe===21589&&(he=ie.read_shift(1),he&1&&(He.mtime=ie.read_shift(4)),xe>5&&(he&2&&(He.atime=ie.read_shift(4)),he&4&&(He.ctime=ie.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3))),ie.l=Ne,we[fe]=He}return we}var c;function u(){return c||(c={})}function A(ie,we){if(ie[0]==80&&ie[1]==75)return mr(ie,we);if((ie[0]|32)==109&&(ie[1]|32)==105)return Ar(ie,we);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var he=3,fe=512,xe=0,Ne=0,He=0,nt=0,Ke=0,$e=[],qe=ie.slice(0,512);Il(qe,0);var Nt=h(qe);switch(he=Nt[0],he){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(Nt[1]==0)return mr(ie,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}fe!==512&&(qe=ie.slice(0,fe),Il(qe,28));var kt=ie.slice(0,fe);p(qe,he);var Mt=qe.read_shift(4,"i");if(he===3&&Mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Mt);qe.l+=4,He=qe.read_shift(4,"i"),qe.l+=4,qe.chk("00100000","Mini Stream Cutoff Size: "),nt=qe.read_shift(4,"i"),xe=qe.read_shift(4,"i"),Ke=qe.read_shift(4,"i"),Ne=qe.read_shift(4,"i");for(var _t=-1,Dt=0;Dt<109&&(_t=qe.read_shift(4,"i"),!(_t<0));++Dt)$e[Dt]=_t;var Gt=m(ie,fe);v(Ke,Ne,Gt,fe,$e);var Cn=S(Gt,He,$e,fe);Cn[He].name="!Directory",xe>0&&nt!==R&&(Cn[nt].name="!MiniFAT"),Cn[$e[0]].name="!FAT",Cn.fat_addrs=$e,Cn.ssz=fe;var qr={},Tn=[],Si=[],fl=[];C(He,Cn,Gt,Tn,xe,qr,Si,nt),y(Si,fl,Tn),Tn.shift();var ml={FileIndex:Si,FullPaths:fl};return we&&we.raw&&(ml.raw={header:kt,sectors:Gt}),ml}function h(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(K,"Header Signature: "),ie.l+=16;var we=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),we]}function p(ie,we){var he=9;switch(ie.l+=2,he=ie.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function m(ie,we){for(var he=Math.ceil(ie.length/we)-1,fe=[],xe=1;xe<he;++xe)fe[xe-1]=ie.slice(xe*we,(xe+1)*we);return fe[he-1]=ie.slice(he*we),fe}function y(ie,we,he){for(var fe=0,xe=0,Ne=0,He=0,nt=0,Ke=he.length,$e=[],qe=[];fe<Ke;++fe)$e[fe]=qe[fe]=fe,we[fe]=he[fe];for(;nt<qe.length;++nt)fe=qe[nt],xe=ie[fe].L,Ne=ie[fe].R,He=ie[fe].C,$e[fe]===fe&&(xe!==-1&&$e[xe]!==xe&&($e[fe]=$e[xe]),Ne!==-1&&$e[Ne]!==Ne&&($e[fe]=$e[Ne])),He!==-1&&($e[He]=fe),xe!==-1&&fe!=$e[fe]&&($e[xe]=$e[fe],qe.lastIndexOf(xe)<nt&&qe.push(xe)),Ne!==-1&&fe!=$e[fe]&&($e[Ne]=$e[fe],qe.lastIndexOf(Ne)<nt&&qe.push(Ne));for(fe=1;fe<Ke;++fe)$e[fe]===fe&&(Ne!==-1&&$e[Ne]!==Ne?$e[fe]=$e[Ne]:xe!==-1&&$e[xe]!==xe&&($e[fe]=$e[xe]));for(fe=1;fe<Ke;++fe)if(ie[fe].type!==0){if(nt=fe,nt!=$e[nt])do nt=$e[nt],we[fe]=we[nt]+"/"+we[fe];while(nt!==0&&$e[nt]!==-1&&nt!=$e[nt]);$e[fe]=-1}for(we[0]+="/",fe=1;fe<Ke;++fe)ie[fe].type!==2&&(we[fe]+="/")}function g(ie,we,he){for(var fe=ie.start,xe=ie.size,Ne=[],He=fe;he&&xe>0&&He>=0;)Ne.push(we.slice(He*Q,He*Q+Q)),xe-=Q,He=s0(he,He*4);return Ne.length===0?ut(0):Hi(Ne).slice(0,ie.size)}function v(ie,we,he,fe,xe){var Ne=R;if(ie===R){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var He=he[ie],nt=(fe>>>2)-1;if(!He)return;for(var Ke=0;Ke<nt&&(Ne=s0(He,Ke*4))!==R;++Ke)xe.push(Ne);v(s0(He,fe-4),we-1,he,fe,xe)}}function w(ie,we,he,fe,xe){var Ne=[],He=[];xe||(xe=[]);var nt=fe-1,Ke=0,$e=0;for(Ke=we;Ke>=0;){xe[Ke]=!0,Ne[Ne.length]=Ke,He.push(ie[Ke]);var qe=he[Math.floor(Ke*4/fe)];if($e=Ke*4&nt,fe<4+$e)throw new Error("FAT boundary crossed: "+Ke+" 4 "+fe);if(!ie[qe])break;Ke=s0(ie[qe],$e)}return{nodes:Ne,data:ZL([He])}}function S(ie,we,he,fe){var xe=ie.length,Ne=[],He=[],nt=[],Ke=[],$e=fe-1,qe=0,Nt=0,kt=0,Mt=0;for(qe=0;qe<xe;++qe)if(nt=[],kt=qe+we,kt>=xe&&(kt-=xe),!He[kt]){Ke=[];var _t=[];for(Nt=kt;Nt>=0;){_t[Nt]=!0,He[Nt]=!0,nt[nt.length]=Nt,Ke.push(ie[Nt]);var Dt=he[Math.floor(Nt*4/fe)];if(Mt=Nt*4&$e,fe<4+Mt)throw new Error("FAT boundary crossed: "+Nt+" 4 "+fe);if(!ie[Dt]||(Nt=s0(ie[Dt],Mt),_t[Nt]))break}Ne[kt]={nodes:nt,data:ZL([Ke])}}return Ne}function C(ie,we,he,fe,xe,Ne,He,nt){for(var Ke=0,$e=fe.length?2:0,qe=we[ie].data,Nt=0,kt=0,Mt;Nt<qe.length;Nt+=128){var _t=qe.slice(Nt,Nt+128);Il(_t,64),kt=_t.read_shift(2),Mt=k3(_t,0,kt-$e),fe.push(Mt);var Dt={name:Mt,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},Gt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Gt!==0&&(Dt.ct=E(_t,_t.l-8));var Cn=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Cn!==0&&(Dt.mt=E(_t,_t.l-8)),Dt.start=_t.read_shift(4,"i"),Dt.size=_t.read_shift(4,"i"),Dt.size<0&&Dt.start<0&&(Dt.size=Dt.type=0,Dt.start=R,Dt.name=""),Dt.type===5?(Ke=Dt.start,xe>0&&Ke!==R&&(we[Ke].name="!StreamData")):Dt.size>=4096?(Dt.storage="fat",we[Dt.start]===void 0&&(we[Dt.start]=w(he,Dt.start,we.fat_addrs,we.ssz)),we[Dt.start].name=Dt.name,Dt.content=we[Dt.start].data.slice(0,Dt.size)):(Dt.storage="minifat",Dt.size<0?Dt.size=0:Ke!==R&&Dt.start!==R&&we[Ke]&&(Dt.content=g(Dt,we[Ke].data,(we[nt]||{}).data))),Dt.content&&Il(Dt.content,0),Ne[Mt]=Dt,He.push(Dt)}}function E(ie,we){return new Date((Rl(ie,we+4)/1e7*Math.pow(2,32)+Rl(ie,we)/1e7-11644473600)*1e3)}function _(ie,we){return u(),A(c.readFileSync(ie),we)}function L(ie,we){var he=we&&we.type;switch(he||En&&Buffer.isBuffer(ie)&&(he="buffer"),he||"base64"){case"file":return _(ie,we);case"base64":return A(bu(kA(ie)),we);case"binary":return A(bu(ie),we)}return A(ie,we)}function D(ie,we){var he=we||{},fe=he.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=fe+"/",ie.FileIndex[0]={name:fe,type:5}),he.CLSID&&(ie.FileIndex[0].clsid=he.CLSID),P(ie)}function P(ie){var we="Sh33tJ5";if(!ta.find(ie,"/"+we)){var he=ut(4);he[0]=55,he[1]=he[3]=50,he[2]=54,ie.FileIndex.push({name:we,type:2,content:he,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+we),k(ie)}}function k(ie,we){D(ie);for(var he=!1,fe=!1,xe=ie.FullPaths.length-1;xe>=0;--xe){var Ne=ie.FileIndex[xe];switch(Ne.type){case 0:fe?he=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(he=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!we)){var He=new Date(1987,1,19),nt=0,Ke=Object.create?Object.create(null):{},$e=[];for(xe=0;xe<ie.FullPaths.length;++xe)Ke[ie.FullPaths[xe]]=!0,ie.FileIndex[xe].type!==0&&$e.push([ie.FullPaths[xe],ie.FileIndex[xe]]);for(xe=0;xe<$e.length;++xe){var qe=n($e[xe][0]);fe=Ke[qe],fe||($e.push([qe,{name:a(qe).replace("/",""),type:1,clsid:Y,ct:He,mt:He,content:null}]),Ke[qe]=!0)}for($e.sort(function(Mt,_t){return t(Mt[0],_t[0])}),ie.FullPaths=[],ie.FileIndex=[],xe=0;xe<$e.length;++xe)ie.FullPaths[xe]=$e[xe][0],ie.FileIndex[xe]=$e[xe][1];for(xe=0;xe<$e.length;++xe){var Nt=ie.FileIndex[xe],kt=ie.FullPaths[xe];if(Nt.name=a(kt).replace("/",""),Nt.L=Nt.R=Nt.C=-(Nt.color=1),Nt.size=Nt.content?Nt.content.length:0,Nt.start=0,Nt.clsid=Nt.clsid||Y,xe===0)Nt.C=$e.length>1?1:-1,Nt.size=0,Nt.type=5;else if(kt.slice(-1)=="/"){for(nt=xe+1;nt<$e.length&&n(ie.FullPaths[nt])!=kt;++nt);for(Nt.C=nt>=$e.length?-1:nt,nt=xe+1;nt<$e.length&&n(ie.FullPaths[nt])!=n(kt);++nt);Nt.R=nt>=$e.length?-1:nt,Nt.type=1}else n(ie.FullPaths[xe+1]||"")==n(kt)&&(Nt.R=xe+1),Nt.type=2}}}function z(ie,we){var he=we||{};if(he.fileType=="mad")return ba(ie,he);if(k(ie),he.fileType==="zip")return Ct(ie,he);var fe=(function(Mt){for(var _t=0,Dt=0,Gt=0;Gt<Mt.FileIndex.length;++Gt){var Cn=Mt.FileIndex[Gt];if(Cn.content){var qr=Cn.content.length;qr>0&&(qr<4096?_t+=qr+63>>6:Dt+=qr+511>>9)}}for(var Tn=Mt.FullPaths.length+3>>2,Si=_t+7>>3,fl=_t+127>>7,ml=Si+Dt+Tn+fl,ho=ml+127>>7,Pu=ho<=109?0:Math.ceil((ho-109)/127);ml+ho+Pu+127>>7>ho;)Pu=++ho<=109?0:Math.ceil((ho-109)/127);var Aa=[1,Pu,ho,fl,Tn,Dt,_t,0];return Mt.FileIndex[0].size=_t<<6,Aa[7]=(Mt.FileIndex[0].start=Aa[0]+Aa[1]+Aa[2]+Aa[3]+Aa[4]+Aa[5])+(Aa[6]+7>>3),Aa})(ie),xe=ut(fe[7]<<9),Ne=0,He=0;{for(Ne=0;Ne<8;++Ne)xe.write_shift(1,ee[Ne]);for(Ne=0;Ne<8;++Ne)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),Ne=0;Ne<3;++Ne)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,fe[2]),xe.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:R),xe.write_shift(4,fe[3]),xe.write_shift(-4,fe[1]?fe[0]-1:R),xe.write_shift(4,fe[1]),Ne=0;Ne<109;++Ne)xe.write_shift(-4,Ne<fe[2]?fe[1]+Ne:-1)}if(fe[1])for(He=0;He<fe[1];++He){for(;Ne<236+He*127;++Ne)xe.write_shift(-4,Ne<fe[2]?fe[1]+Ne:-1);xe.write_shift(-4,He===fe[1]-1?R:He+1)}var nt=function(Mt){for(He+=Mt;Ne<He-1;++Ne)xe.write_shift(-4,Ne+1);Mt&&(++Ne,xe.write_shift(-4,R))};for(He=Ne=0,He+=fe[1];Ne<He;++Ne)xe.write_shift(-4,se.DIFSECT);for(He+=fe[2];Ne<He;++Ne)xe.write_shift(-4,se.FATSECT);nt(fe[3]),nt(fe[4]);for(var Ke=0,$e=0,qe=ie.FileIndex[0];Ke<ie.FileIndex.length;++Ke)qe=ie.FileIndex[Ke],qe.content&&($e=qe.content.length,!($e<4096)&&(qe.start=He,nt($e+511>>9)));for(nt(fe[6]+7>>3);xe.l&511;)xe.write_shift(-4,se.ENDOFCHAIN);for(He=Ne=0,Ke=0;Ke<ie.FileIndex.length;++Ke)qe=ie.FileIndex[Ke],qe.content&&($e=qe.content.length,!(!$e||$e>=4096)&&(qe.start=He,nt($e+63>>6)));for(;xe.l&511;)xe.write_shift(-4,se.ENDOFCHAIN);for(Ne=0;Ne<fe[4]<<2;++Ne){var Nt=ie.FullPaths[Ne];if(!Nt||Nt.length===0){for(Ke=0;Ke<17;++Ke)xe.write_shift(4,0);for(Ke=0;Ke<3;++Ke)xe.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)xe.write_shift(4,0);continue}qe=ie.FileIndex[Ne],Ne===0&&(qe.start=qe.size?qe.start-1:R);var kt=Ne===0&&he.root||qe.name;if($e=2*(kt.length+1),xe.write_shift(64,kt,"utf16le"),xe.write_shift(2,$e),xe.write_shift(1,qe.type),xe.write_shift(1,qe.color),xe.write_shift(-4,qe.L),xe.write_shift(-4,qe.R),xe.write_shift(-4,qe.C),qe.clsid)xe.write_shift(16,qe.clsid,"hex");else for(Ke=0;Ke<4;++Ke)xe.write_shift(4,0);xe.write_shift(4,qe.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,qe.start),xe.write_shift(4,qe.size),xe.write_shift(4,0)}for(Ne=1;Ne<ie.FileIndex.length;++Ne)if(qe=ie.FileIndex[Ne],qe.size>=4096)if(xe.l=qe.start+1<<9,En&&Buffer.isBuffer(qe.content))qe.content.copy(xe,xe.l,0,qe.size),xe.l+=qe.size+511&-512;else{for(Ke=0;Ke<qe.size;++Ke)xe.write_shift(1,qe.content[Ke]);for(;Ke&511;++Ke)xe.write_shift(1,0)}for(Ne=1;Ne<ie.FileIndex.length;++Ne)if(qe=ie.FileIndex[Ne],qe.size>0&&qe.size<4096)if(En&&Buffer.isBuffer(qe.content))qe.content.copy(xe,xe.l,0,qe.size),xe.l+=qe.size+63&-64;else{for(Ke=0;Ke<qe.size;++Ke)xe.write_shift(1,qe.content[Ke]);for(;Ke&63;++Ke)xe.write_shift(1,0)}if(En)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function I(ie,we){var he=ie.FullPaths.map(function(Ke){return Ke.toUpperCase()}),fe=he.map(function(Ke){var $e=Ke.split("/");return $e[$e.length-(Ke.slice(-1)=="/"?2:1)]}),xe=!1;we.charCodeAt(0)===47?(xe=!0,we=he[0].slice(0,-1)+we):xe=we.indexOf("/")!==-1;var Ne=we.toUpperCase(),He=xe===!0?he.indexOf(Ne):fe.indexOf(Ne);if(He!==-1)return ie.FileIndex[He];var nt=!Ne.match(db);for(Ne=Ne.replace(ly,""),nt&&(Ne=Ne.replace(db,"!")),He=0;He<he.length;++He)if((nt?he[He].replace(db,"!"):he[He]).replace(ly,"")==Ne||(nt?fe[He].replace(db,"!"):fe[He]).replace(ly,"")==Ne)return ie.FileIndex[He];return null}var Q=64,R=-2,K="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(ie,we,he){u();var fe=z(ie,he);c.writeFileSync(we,fe)}function Ae(ie){for(var we=new Array(ie.length),he=0;he<ie.length;++he)we[he]=String.fromCharCode(ie[he]);return we.join("")}function ge(ie,we){var he=z(ie,we);switch(we&&we.type||"buffer"){case"file":return u(),c.writeFileSync(we.filename,he),he;case"binary":return typeof he=="string"?he:Ae(he);case"base64":return My(typeof he=="string"?he:Ae(he));case"buffer":if(En)return Buffer.isBuffer(he)?he:KA(he);case"array":return typeof he=="string"?bu(he):he}return he}var Z;function O(ie){try{var we=ie.InflateRaw,he=new we;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)Z=ie;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function H(ie,we){if(!Z)return Yr(ie,we);var he=Z.InflateRaw,fe=new he,xe=fe._processChunk(ie.slice(ie.l),fe._finishFlushFlag);return ie.l+=fe.bytesRead,xe}function V(ie){return Z?Z.deflateRawSync(ie):st(ie)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(ie){var we=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(we>>16|we>>8|we)&255}for(var te=typeof Uint8Array<"u",pe=te?new Uint8Array(256):[],ke=0;ke<256;++ke)pe[ke]=Se(ke);function Ee(ie,we){var he=pe[ie&255];return we<=8?he>>>8-we:(he=he<<8|pe[ie>>8&255],we<=16?he>>>16-we:(he=he<<8|pe[ie>>16&255],he>>>24-we))}function Ue(ie,we){var he=we&7,fe=we>>>3;return(ie[fe]|(he<=6?0:ie[fe+1]<<8))>>>he&3}function je(ie,we){var he=we&7,fe=we>>>3;return(ie[fe]|(he<=5?0:ie[fe+1]<<8))>>>he&7}function J(ie,we){var he=we&7,fe=we>>>3;return(ie[fe]|(he<=4?0:ie[fe+1]<<8))>>>he&15}function Ie(ie,we){var he=we&7,fe=we>>>3;return(ie[fe]|(he<=3?0:ie[fe+1]<<8))>>>he&31}function Ye(ie,we){var he=we&7,fe=we>>>3;return(ie[fe]|(he<=1?0:ie[fe+1]<<8))>>>he&127}function Bt(ie,we,he){var fe=we&7,xe=we>>>3,Ne=(1<<he)-1,He=ie[xe]>>>fe;return he<8-fe||(He|=ie[xe+1]<<8-fe,he<16-fe)||(He|=ie[xe+2]<<16-fe,he<24-fe)||(He|=ie[xe+3]<<24-fe),He&Ne}function it(ie,we,he){var fe=we&7,xe=we>>>3;return fe<=5?ie[xe]|=(he&7)<<fe:(ie[xe]|=he<<fe&255,ie[xe+1]=(he&7)>>8-fe),we+3}function Xe(ie,we,he){var fe=we&7,xe=we>>>3;return he=(he&1)<<fe,ie[xe]|=he,we+1}function ft(ie,we,he){var fe=we&7,xe=we>>>3;return he<<=fe,ie[xe]|=he&255,he>>>=8,ie[xe+1]=he,we+8}function Et(ie,we,he){var fe=we&7,xe=we>>>3;return he<<=fe,ie[xe]|=he&255,he>>>=8,ie[xe+1]=he&255,ie[xe+2]=he>>>8,we+16}function Le(ie,we){var he=ie.length,fe=2*he>we?2*he:we+5,xe=0;if(he>=we)return ie;if(En){var Ne=ML(fe);if(ie.copy)ie.copy(Ne);else for(;xe<ie.length;++xe)Ne[xe]=ie[xe];return Ne}else if(te){var He=new Uint8Array(fe);if(He.set)He.set(ie);else for(;xe<he;++xe)He[xe]=ie[xe];return He}return ie.length=fe,ie}function yt(ie){for(var we=new Array(ie),he=0;he<ie;++he)we[he]=0;return we}function Oe(ie,we,he){var fe=1,xe=0,Ne=0,He=0,nt=0,Ke=ie.length,$e=te?new Uint16Array(32):yt(32);for(Ne=0;Ne<32;++Ne)$e[Ne]=0;for(Ne=Ke;Ne<he;++Ne)ie[Ne]=0;Ke=ie.length;var qe=te?new Uint16Array(Ke):yt(Ke);for(Ne=0;Ne<Ke;++Ne)$e[xe=ie[Ne]]++,fe<xe&&(fe=xe),qe[Ne]=0;for($e[0]=0,Ne=1;Ne<=fe;++Ne)$e[Ne+16]=nt=nt+$e[Ne-1]<<1;for(Ne=0;Ne<Ke;++Ne)nt=ie[Ne],nt!=0&&(qe[Ne]=$e[nt+16]++);var Nt=0;for(Ne=0;Ne<Ke;++Ne)if(Nt=ie[Ne],Nt!=0)for(nt=Ee(qe[Ne],fe)>>fe-Nt,He=(1<<fe+4-Nt)-1;He>=0;--He)we[nt|He<<Nt]=Nt&15|Ne<<4;return fe}var at=te?new Uint16Array(512):yt(512),bt=te?new Uint16Array(32):yt(32);if(!te){for(var St=0;St<512;++St)at[St]=0;for(St=0;St<32;++St)bt[St]=0}(function(){for(var ie=[],we=0;we<32;we++)ie.push(5);Oe(ie,bt,32);var he=[];for(we=0;we<=143;we++)he.push(8);for(;we<=255;we++)he.push(9);for(;we<=279;we++)he.push(7);for(;we<=287;we++)he.push(8);Oe(he,at,288)})();var Be=(function(){for(var we=te?new Uint8Array(32768):[],he=0,fe=0;he<ue.length-1;++he)for(;fe<ue[he+1];++fe)we[fe]=he;for(;fe<32768;++fe)we[fe]=29;var xe=te?new Uint8Array(259):[];for(he=0,fe=0;he<ae.length-1;++he)for(;fe<ae[he+1];++fe)xe[fe]=he;function Ne(nt,Ke){for(var $e=0;$e<nt.length;){var qe=Math.min(65535,nt.length-$e),Nt=$e+qe==nt.length;for(Ke.write_shift(1,+Nt),Ke.write_shift(2,qe),Ke.write_shift(2,~qe&65535);qe-- >0;)Ke[Ke.l++]=nt[$e++]}return Ke.l}function He(nt,Ke){for(var $e=0,qe=0,Nt=te?new Uint16Array(32768):[];qe<nt.length;){var kt=Math.min(65535,nt.length-qe);if(kt<10){for($e=it(Ke,$e,+(qe+kt==nt.length)),$e&7&&($e+=8-($e&7)),Ke.l=$e/8|0,Ke.write_shift(2,kt),Ke.write_shift(2,~kt&65535);kt-- >0;)Ke[Ke.l++]=nt[qe++];$e=Ke.l*8;continue}$e=it(Ke,$e,+(qe+kt==nt.length)+2);for(var Mt=0;kt-- >0;){var _t=nt[qe];Mt=(Mt<<5^_t)&32767;var Dt=-1,Gt=0;if((Dt=Nt[Mt])&&(Dt|=qe&-32768,Dt>qe&&(Dt-=32768),Dt<qe))for(;nt[Dt+Gt]==nt[qe+Gt]&&Gt<250;)++Gt;if(Gt>2){_t=xe[Gt],_t<=22?$e=ft(Ke,$e,pe[_t+1]>>1)-1:(ft(Ke,$e,3),$e+=5,ft(Ke,$e,pe[_t-23]>>5),$e+=3);var Cn=_t<8?0:_t-4>>2;Cn>0&&(Et(Ke,$e,Gt-ae[_t]),$e+=Cn),_t=we[qe-Dt],$e=ft(Ke,$e,pe[_t]>>3),$e-=3;var qr=_t<4?0:_t-2>>1;qr>0&&(Et(Ke,$e,qe-Dt-ue[_t]),$e+=qr);for(var Tn=0;Tn<Gt;++Tn)Nt[Mt]=qe&32767,Mt=(Mt<<5^nt[qe])&32767,++qe;kt-=Gt-1}else _t<=143?_t=_t+48:$e=Xe(Ke,$e,1),$e=ft(Ke,$e,pe[_t]),Nt[Mt]=qe&32767,++qe}$e=ft(Ke,$e,0)-1}return Ke.l=($e+7)/8|0,Ke.l}return function(Ke,$e){return Ke.length<8?Ne(Ke,$e):He(Ke,$e)}})();function st(ie){var we=ut(50+Math.floor(ie.length*1.1)),he=Be(ie,we);return we.slice(0,he)}var lt=te?new Uint16Array(32768):yt(32768),Zt=te?new Uint16Array(32768):yt(32768),It=te?new Uint16Array(128):yt(128),Tt=1,cr=1;function Br(ie,we){var he=Ie(ie,we)+257;we+=5;var fe=Ie(ie,we)+1;we+=5;var xe=J(ie,we)+4;we+=4;for(var Ne=0,He=te?new Uint8Array(19):yt(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,$e=te?new Uint8Array(8):yt(8),qe=te?new Uint8Array(8):yt(8),Nt=He.length,kt=0;kt<xe;++kt)He[G[kt]]=Ne=je(ie,we),Ke<Ne&&(Ke=Ne),$e[Ne]++,we+=3;var Mt=0;for($e[0]=0,kt=1;kt<=Ke;++kt)qe[kt]=Mt=Mt+$e[kt-1]<<1;for(kt=0;kt<Nt;++kt)(Mt=He[kt])!=0&&(nt[kt]=qe[Mt]++);var _t=0;for(kt=0;kt<Nt;++kt)if(_t=He[kt],_t!=0){Mt=pe[nt[kt]]>>8-_t;for(var Dt=(1<<7-_t)-1;Dt>=0;--Dt)It[Mt|Dt<<_t]=_t&7|kt<<3}var Gt=[];for(Ke=1;Gt.length<he+fe;)switch(Mt=It[Ye(ie,we)],we+=Mt&7,Mt>>>=3){case 16:for(Ne=3+Ue(ie,we),we+=2,Mt=Gt[Gt.length-1];Ne-- >0;)Gt.push(Mt);break;case 17:for(Ne=3+je(ie,we),we+=3;Ne-- >0;)Gt.push(0);break;case 18:for(Ne=11+Ye(ie,we),we+=7;Ne-- >0;)Gt.push(0);break;default:Gt.push(Mt),Ke<Mt&&(Ke=Mt);break}var Cn=Gt.slice(0,he),qr=Gt.slice(he);for(kt=he;kt<286;++kt)Cn[kt]=0;for(kt=fe;kt<30;++kt)qr[kt]=0;return Tt=Oe(Cn,lt,286),cr=Oe(qr,Zt,30),we}function zt(ie,we){if(ie[0]==3&&!(ie[1]&3))return[M0(we),2];for(var he=0,fe=0,xe=ML(we||1<<18),Ne=0,He=xe.length>>>0,nt=0,Ke=0;(fe&1)==0;){if(fe=je(ie,he),he+=3,fe>>>1)fe>>1==1?(nt=9,Ke=5):(he=Br(ie,he),nt=Tt,Ke=cr);else{he&7&&(he+=8-(he&7));var $e=ie[he>>>3]|ie[(he>>>3)+1]<<8;if(he+=32,$e>0)for(!we&&He<Ne+$e&&(xe=Le(xe,Ne+$e),He=xe.length);$e-- >0;)xe[Ne++]=ie[he>>>3],he+=8;continue}for(;;){!we&&He<Ne+32767&&(xe=Le(xe,Ne+32767),He=xe.length);var qe=Bt(ie,he,nt),Nt=fe>>>1==1?at[qe]:lt[qe];if(he+=Nt&15,Nt>>>=4,(Nt>>>8&255)===0)xe[Ne++]=Nt;else{if(Nt==256)break;Nt-=257;var kt=Nt<8?0:Nt-4>>2;kt>5&&(kt=0);var Mt=Ne+ae[Nt];kt>0&&(Mt+=Bt(ie,he,kt),he+=kt),qe=Bt(ie,he,Ke),Nt=fe>>>1==1?bt[qe]:Zt[qe],he+=Nt&15,Nt>>>=4;var _t=Nt<4?0:Nt-2>>1,Dt=ue[Nt];for(_t>0&&(Dt+=Bt(ie,he,_t),he+=_t),!we&&He<Mt&&(xe=Le(xe,Mt+100),He=xe.length);Ne<Mt;)xe[Ne]=xe[Ne-Dt],++Ne}}}return we?[xe,he+7>>>3]:[xe.slice(0,Ne),he+7>>>3]}function Yr(ie,we){var he=ie.slice(ie.l||0),fe=zt(he,we);return ie.l+=fe[1],fe[0]}function nr(ie,we){if(ie)typeof console<"u"&&console.error(we);else throw new Error(we)}function mr(ie,we){var he=ie;Il(he,0);var fe=[],xe=[],Ne={FileIndex:fe,FullPaths:xe};D(Ne,{root:we.root});for(var He=he.length-4;(he[He]!=80||he[He+1]!=75||he[He+2]!=5||he[He+3]!=6)&&He>=0;)--He;he.l=He+4,he.l+=4;var nt=he.read_shift(2);he.l+=6;var Ke=he.read_shift(4);for(he.l=Ke,He=0;He<nt;++He){he.l+=20;var $e=he.read_shift(4),qe=he.read_shift(4),Nt=he.read_shift(2),kt=he.read_shift(2),Mt=he.read_shift(2);he.l+=8;var _t=he.read_shift(4),Dt=l(he.slice(he.l+Nt,he.l+Nt+kt));he.l+=Nt+kt+Mt;var Gt=he.l;he.l=_t+4,mt(he,$e,qe,Ne,Dt),he.l=Gt}return Ne}function mt(ie,we,he,fe,xe){ie.l+=2;var Ne=ie.read_shift(2),He=ie.read_shift(2),nt=i(ie);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=ie.read_shift(4),$e=ie.read_shift(4),qe=ie.read_shift(4),Nt=ie.read_shift(2),kt=ie.read_shift(2),Mt="",_t=0;_t<Nt;++_t)Mt+=String.fromCharCode(ie[ie.l++]);if(kt){var Dt=l(ie.slice(ie.l,ie.l+kt));(Dt[21589]||{}).mt&&(nt=Dt[21589].mt),((xe||{})[21589]||{}).mt&&(nt=xe[21589].mt)}ie.l+=kt;var Gt=ie.slice(ie.l,ie.l+$e);switch(He){case 8:Gt=H(ie,qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var Cn=!1;Ne&8&&(Ke=ie.read_shift(4),Ke==134695760&&(Ke=ie.read_shift(4),Cn=!0),$e=ie.read_shift(4),qe=ie.read_shift(4)),$e!=we&&nr(Cn,"Bad compressed size: "+we+" != "+$e),qe!=he&&nr(Cn,"Bad uncompressed size: "+he+" != "+qe),ca(fe,Mt,Gt,{unsafe:!0,mt:nt})}function Ct(ie,we){var he=we||{},fe=[],xe=[],Ne=ut(1),He=he.compression?8:0,nt=0,Ke=0,$e=0,qe=0,Nt=0,kt=ie.FullPaths[0],Mt=kt,_t=ie.FileIndex[0],Dt=[],Gt=0;for(Ke=1;Ke<ie.FullPaths.length;++Ke)if(Mt=ie.FullPaths[Ke].slice(kt.length),_t=ie.FileIndex[Ke],!(!_t.size||!_t.content||Mt=="Sh33tJ5")){var Cn=qe,qr=ut(Mt.length);for($e=0;$e<Mt.length;++$e)qr.write_shift(1,Mt.charCodeAt($e)&127);qr=qr.slice(0,qr.l),Dt[Nt]=F1e.buf(_t.content,0);var Tn=_t.content;He==8&&(Tn=V(Tn)),Ne=ut(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,nt),Ne.write_shift(2,He),_t.mt?s(Ne,_t.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Dt[Nt]),Ne.write_shift(4,Tn.length),Ne.write_shift(4,_t.content.length),Ne.write_shift(2,qr.length),Ne.write_shift(2,0),qe+=Ne.length,fe.push(Ne),qe+=qr.length,fe.push(qr),qe+=Tn.length,fe.push(Tn),Ne=ut(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,nt),Ne.write_shift(2,He),Ne.write_shift(4,0),Ne.write_shift(-4,Dt[Nt]),Ne.write_shift(4,Tn.length),Ne.write_shift(4,_t.content.length),Ne.write_shift(2,qr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Cn),Gt+=Ne.l,xe.push(Ne),Gt+=qr.length,xe.push(qr),++Nt}return Ne=ut(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,Nt),Ne.write_shift(2,Nt),Ne.write_shift(4,Gt),Ne.write_shift(4,qe),Ne.write_shift(2,0),Hi([Hi(fe),Hi(xe),Ne])}var Ut={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(ie,we){if(ie.ctype)return ie.ctype;var he=ie.name||"",fe=he.match(/\.([^\.]+)$/);return fe&&Ut[fe[1]]||we&&(fe=(he=we).match(/[\.\\]([^\.\\])+$/),fe&&Ut[fe[1]])?Ut[fe[1]]:"application/octet-stream"}function jn(ie){for(var we=My(ie),he=[],fe=0;fe<we.length;fe+=76)he.push(we.slice(fe,fe+76));return he.join(`\r
`)+`\r
`}function Fr(ie){var we=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var qe=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(qe.length==1?"0"+qe:qe)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],fe=we.split(`\r
`),xe=0;xe<fe.length;++xe){var Ne=fe[xe];if(Ne.length==0){he.push("");continue}for(var He=0;He<Ne.length;){var nt=76,Ke=Ne.slice(He,He+nt);Ke.charAt(nt-1)=="="?nt--:Ke.charAt(nt-2)=="="?nt-=2:Ke.charAt(nt-3)=="="&&(nt-=3),Ke=Ne.slice(He,He+nt),He+=nt,He<Ne.length&&(Ke+="="),he.push(Ke)}}return he.join(`\r
`)}function Rs(ie){for(var we=[],he=0;he<ie.length;++he){for(var fe=ie[he];he<=ie.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+ie[++he];we.push(fe)}for(var xe=0;xe<we.length;++xe)we[xe]=we[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return bu(we.join(`\r
`))}function Ga(ie,we,he){for(var fe="",xe="",Ne="",He,nt=0;nt<10;++nt){var Ke=we[nt];if(!Ke||Ke.match(/^\s*$/))break;var $e=Ke.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":fe=$e[2].trim();break;case"content-type":Ne=$e[2].trim();break;case"content-transfer-encoding":xe=$e[2].trim();break}}switch(++nt,xe.toLowerCase()){case"base64":He=bu(kA(we.slice(nt).join("")));break;case"quoted-printable":He=Rs(we.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var qe=ca(ie,fe.slice(he.length),He,{unsafe:!0});Ne&&(qe.ctype=Ne)}function Ar(ie,we){if(Ae(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=we&&we.root||"",fe=(En&&Buffer.isBuffer(ie)?ie.toString("binary"):Ae(ie)).split(`\r
`),xe=0,Ne="";for(xe=0;xe<fe.length;++xe)if(Ne=fe[xe],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),he||(he=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),Ne.slice(0,he.length)!=he););var He=(fe[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var nt="--"+(He[1]||""),Ke=[],$e=[],qe={FileIndex:Ke,FullPaths:$e};D(qe);var Nt,kt=0;for(xe=0;xe<fe.length;++xe){var Mt=fe[xe];Mt!==nt&&Mt!==nt+"--"||(kt++&&Ga(qe,fe.slice(Nt,xe),he),Nt=xe)}return qe}function ba(ie,we){var he=we||{},fe=he.boundary||"SheetJS";fe="------="+fe;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],Ne=ie.FullPaths[0],He=Ne,nt=ie.FileIndex[0],Ke=1;Ke<ie.FullPaths.length;++Ke)if(He=ie.FullPaths[Ke].slice(Ne.length),nt=ie.FileIndex[Ke],!(!nt.size||!nt.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var $e=nt.content,qe=En&&Buffer.isBuffer($e)?$e.toString("binary"):Ae($e),Nt=0,kt=Math.min(1024,qe.length),Mt=0,_t=0;_t<=kt;++_t)(Mt=qe.charCodeAt(_t))>=32&&Mt<128&&++Nt;var Dt=Nt>=kt*4/5;xe.push(fe),xe.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+He),xe.push("Content-Transfer-Encoding: "+(Dt?"quoted-printable":"base64")),xe.push("Content-Type: "+Kt(nt,He)),xe.push(""),xe.push(Dt?Fr(qe):jn(qe))}return xe.push(fe+`--\r
`),xe.join(`\r
`)}function Wa(ie){var we={};return D(we,ie),we}function ca(ie,we,he,fe){var xe=fe&&fe.unsafe;xe||D(ie);var Ne=!xe&&ta.find(ie,we);if(!Ne){var He=ie.FullPaths[0];we.slice(0,He.length)==He?He=we:(He.slice(-1)!="/"&&(He+="/"),He=(He+we).replace("//","/")),Ne={name:a(we),type:2},ie.FileIndex.push(Ne),ie.FullPaths.push(He),xe||ta.utils.cfb_gc(ie)}return Ne.content=he,Ne.size=he?he.length:0,fe&&(fe.CLSID&&(Ne.clsid=fe.CLSID),fe.mt&&(Ne.mt=fe.mt),fe.ct&&(Ne.ct=fe.ct)),Ne}function Ss(ie,we){D(ie);var he=ta.find(ie,we);if(he){for(var fe=0;fe<ie.FileIndex.length;++fe)if(ie.FileIndex[fe]==he)return ie.FileIndex.splice(fe,1),ie.FullPaths.splice(fe,1),!0}return!1}function _n(ie,we,he){D(ie);var fe=ta.find(ie,we);if(fe){for(var xe=0;xe<ie.FileIndex.length;++xe)if(ie.FileIndex[xe]==fe)return ie.FileIndex[xe].name=a(he),ie.FullPaths[xe]=he,!0}return!1}function wa(ie){k(ie,!0)}return e.find=I,e.read=L,e.parse=A,e.write=ge,e.writeFile=X,e.utils={cfb_new:Wa,cfb_add:ca,cfb_del:Ss,cfb_mov:_n,cfb_gc:wa,ReadShift:uy,CheckField:l$,prep_blob:Il,bconcat:Hi,use_zlib:O,_deflateRaw:st,_inflateRaw:Yr,consts:se},e})();function O1e(r){return typeof r=="string"?JC(r):Array.isArray(r)?s1e(r):r}function jv(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=JC(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Uy(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var a=new Blob([O1e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,r);if(typeof saveAs<"u")return saveAs(a,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=r,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(r);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=Ev(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function Vi(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function VL(r,e){for(var t=[],n=Vi(r),a=0;a!==n.length;++a)t[r[n[a]][e]]==null&&(t[r[n[a]][e]]=n[a]);return t}function E3(r){for(var e=[],t=Vi(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function t5(r){for(var e=[],t=Vi(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function D1e(r){for(var e=[],t=Vi(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var j2=new Date(1899,11,30,0,0,0);function dl(r,e){var t=r.getTime(),n=j2.getTime()+(r.getTimezoneOffset()-j2.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var $K=new Date,P1e=j2.getTime()+($K.getTimezoneOffset()-j2.getTimezoneOffset())*6e4,qL=$K.getTimezoneOffset();function VK(r){var e=new Date;return e.setTime(r*24*60*60*1e3+P1e),e.getTimezoneOffset()!==qL&&e.setTime(e.getTime()+(e.getTimezoneOffset()-qL)*6e4),e}var GL=new Date("2017-02-19T19:06:09.000Z"),qK=isNaN(GL.getFullYear())?new Date("2/19/17"):GL,I1e=qK.getFullYear()==2017;function jo(r,e){var t=new Date(r);if(I1e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(qK.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function r5(r,e){if(En&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function Al(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Al(r[t]));return e}function ss(r,e){for(var t="";t.length<e;)t+=r;return t}function wA(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var L1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ry(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var i=r.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&L1e.indexOf(i)==-1)return t}else if(i.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function $r(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return En?n=KA(t):n=i1e(t),ta.utils.cfb_add(r,e,n)}ta.utils.cfb_add(r,e,t)}else r.file(e,t)}function j3(){return ta.utils.cfb_new()}var Ms=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,M1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_3=E3(M1e),T3=/[&<>'"]/g,R1e=/[\u0000-\u0008\u000b-\u001f]/g;function zn(r){var e=r+"";return e.replace(T3,function(t){return _3[t]}).replace(R1e,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function WL(r){return zn(r).replace(/ /g,"_x0020_")}var GK=/[\u0000-\u001f]/g;function U1e(r){var e=r+"";return e.replace(T3,function(t){return _3[t]}).replace(/\n/g,"<br/>").replace(GK,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function Q1e(r){var e=r+"";return e.replace(T3,function(t){return _3[t]}).replace(GK,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function H1e(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function z1e(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function RB(r){for(var e="",t=0,n=0,a=0,s=0,i=0,l=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){i=(n&31)<<6,i|=a&63,e+=String.fromCharCode(i);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=r.charCodeAt(t++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function YL(r){var e=M0(2*r.length),t,n,a=1,s=0,i=0,l;for(n=0;n<r.length;n+=a)a=1,(l=r.charCodeAt(n))<128?t=l:l<224?(t=(l&31)*64+(r.charCodeAt(n+1)&63),a=2):l<240?(t=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,i=55296+(t>>>10&1023),t=56320+(t&1023)),i!==0&&(e[s++]=i&255,e[s++]=i>>>8,i=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function XL(r){return KA(r,"binary").toString("utf8")}var hb="foo bar baz",cy=En&&(XL(hb)==RB(hb)&&XL||YL(hb)==RB(hb)&&YL)||RB,Uy=En?function(r){return KA(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},K1e=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}})(),WK=/(^\s|\s$|\n)/;function zi(r,e){return"<"+r+(e.match(WK)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function Qy(r){return Vi(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Ot(r,e,t){return"<"+r+(t!=null?Qy(t):"")+(e!=null?(e.match(WK)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function uj(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function $1e(r,e){switch(typeof r){case"string":var t=Ot("vt:lpwstr",zn(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Ot((r|0)==r?"vt:i4":"vt:r8",zn(String(r)));case"boolean":return Ot("vt:bool",r?"true":"false")}if(r instanceof Date)return Ot("vt:filetime",uj(r));throw new Error("Unable to serialize "+r)}var pi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},kg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ml={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function V1e(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,s=5;s>=0;--s)a=a*256+r[e+s];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function q1e(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,i=n?-e:e;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)r[t+l]=s&255;r[t+6]=(a&15)<<4|s&15,r[t+7]=a>>4|n}var JL=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,s=r[0][n].length;a<s;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},ZL=En?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:KA(e)})):JL(r)}:JL,eM=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode(Wx(r,a)));return n.join("").replace(ly,"")},k3=En?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(ly,""):eM(r,e,t)}:eM,tM=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},YK=En?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):tM(r,e,t)}:tM,rM=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(Ap(r,a)));return n.join("")},_v=En?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):rM(e,t,n)}:rM,XK=function(r,e){var t=Rl(r,e);return t>0?_v(r,e+4,e+4+t-1):""},JK=XK,ZK=function(r,e){var t=Rl(r,e);return t>0?_v(r,e+4,e+4+t-1):""},e$=ZK,t$=function(r,e){var t=2*Rl(r,e);return t>0?_v(r,e+4,e+4+t-1):""},r$=t$,n$=function(e,t){var n=Rl(e,t);return n>0?k3(e,t+4,t+4+n):""},a$=n$,s$=function(r,e){var t=Rl(r,e);return t>0?_v(r,e+4,e+4+t):""},i$=s$,o$=function(r,e){return V1e(r,e)},_2=o$,F3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};En&&(JK=function(e,t){if(!Buffer.isBuffer(e))return XK(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},e$=function(e,t){if(!Buffer.isBuffer(e))return ZK(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},r$=function(e,t){if(!Buffer.isBuffer(e))return t$(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},a$=function(e,t){if(!Buffer.isBuffer(e))return n$(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},i$=function(e,t){if(!Buffer.isBuffer(e))return s$(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},_2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):o$(e,t)},F3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ap=function(r,e){return r[e]},Wx=function(r,e){return r[e+1]*256+r[e]},G1e=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Rl=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},s0=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},W1e=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function uy(r,e){var t="",n,a,s=[],i,l,c,u;switch(e){case"dbcs":if(u=this.l,En&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode(Wx(this,u)),u+=2;r*=2;break;case"utf8":t=_v(this,this.l,this.l+r);break;case"utf16le":r*=2,t=k3(this,this.l,this.l+r);break;case"wstr":return uy.call(this,r,"dbcs");case"lpstr-ansi":t=JK(this,this.l),r=4+Rl(this,this.l);break;case"lpstr-cp":t=e$(this,this.l),r=4+Rl(this,this.l);break;case"lpwstr":t=r$(this,this.l),r=4+2*Rl(this,this.l);break;case"lpp4":r=4+Rl(this,this.l),t=a$(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Rl(this,this.l),t=i$(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(i=Ap(this,this.l+r++))!==0;)s.push(ub(i));t=s.join("");break;case"_wstr":for(r=0,t="";(i=Wx(this,this.l+r))!==0;)s.push(ub(i)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ap(this,u),this.l=u+1,l=uy.call(this,r-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ub(Wx(this,u))),u+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ap(this,u),this.l=u+1,l=uy.call(this,r-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ub(Ap(this,u))),u+=1}t=s.join("");break;default:switch(r){case 1:return n=Ap(this,this.l),this.l++,n;case 2:return n=(e==="i"?G1e:Wx)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?s0:W1e)(this,this.l),this.l+=4,n):(a=Rl(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=_2(this,this.l):a=_2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=YK(this,this.l,r);break}}return this.l+=r,t}var Y1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},X1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},J1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function Z1e(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)J1e(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var i=e.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Y1e(this,e,this.l);break;case 8:if(n=8,t==="f"){q1e(this,e,this.l);break}case 16:break;case-4:n=4,X1e(this,e,this.l);break}return this.l+=n,this}function l$(r,e){var t=YK(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Il(r,e){r.l=e,r.read_shift=uy,r.chk=l$,r.write_shift=Z1e}function Nd(r,e){r.l+=e}function ut(r){var e=M0(r);return Il(e,0),e}function cl(){var r=[],e=En?256:2048,t=function(u){var A=ut(u);return Il(A,0),A},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=t(Math.max(u+1,e)))},i=function(){return a(),Hi(r)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:l,end:i,_bufs:r}}function wt(r,e,t,n){var a=+e,s;if(!isNaN(a)){n||(n=VNe[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=r.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&F3(t)&&r.push(t)}}function dy(r,e,t){var n=Al(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function nM(r,e,t){var n=Al(r);return n.s=dy(n.s,e.s,t),n.e=dy(n.e,e.s,t),n}function Ay(r,e){if(r.cRel&&r.c<0)for(r=Al(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Al(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=$n(r);return!r.cRel&&r.cRel!=null&&(t=rbe(t)),!r.rRel&&r.rRel!=null&&(t=ebe(t)),t}function UB(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+uo(r.s.c)+":"+(r.e.cRel?"":"$")+uo(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+$i(r.s.r)+":"+(r.e.rRel?"":"$")+$i(r.e.r):Ay(r.s,e.biff)+":"+Ay(r.e,e.biff)}function O3(r){return parseInt(tbe(r),10)-1}function $i(r){return""+(r+1)}function ebe(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function tbe(r){return r.replace(/\$(\d+)$/,"$1")}function D3(r){for(var e=nbe(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function uo(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function rbe(r){return r.replace(/^([A-Z])/,"$$$1")}function nbe(r){return r.replace(/^\$([A-Z])/,"$1")}function abe(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function $n(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Wl(r){var e=r.indexOf(":");return e==-1?{s:xi(r),e:xi(r)}:{s:xi(r.slice(0,e)),e:xi(r.slice(e+1))}}function Ls(r,e){return typeof e>"u"||typeof e=="number"?Ls(r.s,r.e):(typeof r!="string"&&(r=$n(r)),typeof e!="string"&&(e=$n(e)),r==e?r:r+":"+e)}function va(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,s=r.length;for(t=0;n<s&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<s&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=s&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function aM(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=af(r.z,t?dl(e):e)}catch{}try{return r.w=af((r.XF||{}).numFmtId||(t?14:0),t?dl(e):e)}catch{return""+e}}function FA(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Tv[r.v]||r.v:e==null?aM(r,r.v):aM(r,e))}function X0(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function c$(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,s=r||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var A=va(s["!ref"]);u.s.c=A.s.c,u.s.r=A.s.r,u.e.c=Math.max(u.e.c,A.e.c),u.e.r=Math.max(u.e.r,A.e.r),i==-1&&(u.e.r=i=A.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[h].length;++p)if(!(typeof e[h][p]>"u")){var m={v:e[h][p]},y=i+h,g=l+p;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),e[h][p]&&typeof e[h][p]=="object"&&!Array.isArray(e[h][p])&&!(e[h][p]instanceof Date))m=e[h][p];else if(Array.isArray(m.v)&&(m.f=e[h][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||ls[14],n.cellDates?(m.t="d",m.w=af(m.z,dl(m.v))):(m.t="n",m.v=dl(m.v),m.w=af(m.z,m.v))):m.t="s";if(a)s[y]||(s[y]=[]),s[y][g]&&s[y][g].z&&(m.z=s[y][g].z),s[y][g]=m;else{var v=$n({c:g,r:y});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Ls(u)),s}function Fg(r,e){return c$(null,r,e)}function sbe(r){return r.read_shift(4,"i")}function Su(r,e){return e||(e=ut(4)),e.write_shift(4,r),e}function Ao(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function yi(r,e){var t=!1;return e==null&&(t=!0,e=ut(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function ibe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function obe(r,e){return e||(e=ut(4)),e.write_shift(2,0),e.write_shift(2,0),e}function P3(r,e){var t=r.l,n=r.read_shift(1),a=Ao(r),s=[],i={t:a,h:a};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)s.push(ibe(r));i.r=s}else i.r=[{ich:0,ifnt:0}];return r.l=t+e,i}function lbe(r,e){var t=!1;return e==null&&(t=!0,e=ut(15+4*r.t.length)),e.write_shift(1,0),yi(r.t,e),t?e.slice(0,e.l):e}var cbe=P3;function ube(r,e){var t=!1;return e==null&&(t=!0,e=ut(23+4*r.t.length)),e.write_shift(1,1),yi(r.t,e),e.write_shift(4,1),obe({},e),t?e.slice(0,e.l):e}function Rc(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function J0(r,e){return e==null&&(e=ut(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Z0(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function em(r,e){return e==null&&(e=ut(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var dbe=Ao,u$=yi;function I3(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function T2(r,e){var t=!1;return e==null&&(t=!0,e=ut(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var Abe=Ao,dj=I3,L3=T2;function d$(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?_2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):s0(e,0)>>2;return t?a/100:a}function A$(r,e){e==null&&(e=ut(4));var t=0,n=0,a=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?a:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function h$(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function hbe(r,e){return e||(e=ut(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var tm=h$,Og=hbe;function Dg(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function R0(r,e){return(e||ut(8)).write_shift(8,r,"f")}function fbe(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),s=r.read_shift(2,"i"),i=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=Cbe[a];u&&(e.rgb=mM(u));break;case 2:e.rgb=mM([i,l,c]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function k2(r,e){if(e||(e=ut(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function mbe(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function pbe(r,e){e||(e=ut(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var f$=2,Fl=3,fb=11,F2=19,mb=64,gbe=65,xbe=71,ybe=4108,vbe=4126,Li=80,sM={1:{n:"CodePage",t:f$},2:{n:"Category",t:Li},3:{n:"PresentationFormat",t:Li},4:{n:"ByteCount",t:Fl},5:{n:"LineCount",t:Fl},6:{n:"ParagraphCount",t:Fl},7:{n:"SlideCount",t:Fl},8:{n:"NoteCount",t:Fl},9:{n:"HiddenCount",t:Fl},10:{n:"MultimediaClipCount",t:Fl},11:{n:"ScaleCrop",t:fb},12:{n:"HeadingPairs",t:ybe},13:{n:"TitlesOfParts",t:vbe},14:{n:"Manager",t:Li},15:{n:"Company",t:Li},16:{n:"LinksUpToDate",t:fb},17:{n:"CharacterCount",t:Fl},19:{n:"SharedDoc",t:fb},22:{n:"HyperlinksChanged",t:fb},23:{n:"AppVersion",t:Fl,p:"version"},24:{n:"DigSig",t:gbe},26:{n:"ContentType",t:Li},27:{n:"ContentStatus",t:Li},28:{n:"Language",t:Li},29:{n:"Version",t:Li},255:{},2147483648:{n:"Locale",t:F2},2147483651:{n:"Behavior",t:F2},1919054434:{}},iM={1:{n:"CodePage",t:f$},2:{n:"Title",t:Li},3:{n:"Subject",t:Li},4:{n:"Author",t:Li},5:{n:"Keywords",t:Li},6:{n:"Comments",t:Li},7:{n:"Template",t:Li},8:{n:"LastAuthor",t:Li},9:{n:"RevNumber",t:Li},10:{n:"EditTime",t:mb},11:{n:"LastPrinted",t:mb},12:{n:"CreatedDate",t:mb},13:{n:"ModifiedDate",t:mb},14:{n:"PageCount",t:Fl},15:{n:"WordCount",t:Fl},16:{n:"CharCount",t:Fl},17:{n:"Thumbnail",t:xbe},18:{n:"Application",t:Li},19:{n:"DocSecurity",t:Fl},255:{},2147483648:{n:"Locale",t:F2},2147483651:{n:"Behavior",t:F2},1919054434:{}};function bbe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var wbe=bbe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Cbe=Al(wbe),Tv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Nbe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function m$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function p$(r,e){var t=D1e(Nbe),n=[],a;n[n.length]=Ms,n[n.length]=Ot("Types",null,{xmlns:pi.CT,"xmlns:xsd":pi.xsd,"xmlns:xsi":pi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ot("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){r[c]&&r[c].length>0&&(a=r[c][0],n[n.length]=Ot("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:pb[c][e.bookType]||pb[c].xlsx}))},i=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:pb[c][e.bookType]||pb[c].xlsx})})},l=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function g$(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Fp(r){var e=[Ms,Ot("Relationships",null,{xmlns:pi.RELS})];return Vi(r["!id"]).forEach(function(t){e[e.length]=Ot("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Rn(r,e,t,n,a,s){if(a||(a={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=t,[yn.HLINK,yn.XPATH,yn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),r["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][a.Id]=a,r[("/"+a.Target).replace("//","/")]=a,e}function Sbe(r){var e=[Ms];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function oM(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Bbe(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Ebe(r){var e=[Ms];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(oM(r[t][0],r[t][1])),e.push(Bbe("",r[t][0]));return e.push(oM("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function x$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+C2.version+"</meta:generator></office:meta></office:document-meta>"}var S0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function QB(r,e,t,n,a){a[r]!=null||e==null||e===""||(a[r]=e,e=zn(e),n[n.length]=t?Ot(r,e,t):zi(r,e))}function y$(r,e){var t=e||{},n=[Ms,Ot("cp:coreProperties",null,{"xmlns:cp":pi.CORE_PROPS,"xmlns:dc":pi.dc,"xmlns:dcterms":pi.dcterms,"xmlns:dcmitype":pi.dcmitype,"xmlns:xsi":pi.xsi})],a={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&QB("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:uj(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),r.ModifiedDate!=null&&QB("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:uj(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=S0.length;++s){var i=S0[s],l=t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:r?r[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&QB(i[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Op=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],v$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function b$(r){var e=[],t=Ot;return r||(r={}),r.Application="SheetJS",e[e.length]=Ms,e[e.length]=Ot("Properties",null,{xmlns:pi.EXT_PROPS,"xmlns:vt":pi.vt}),Op.forEach(function(n){if(r[n[1]]!==void 0){var a;switch(n[2]){case"string":a=zn(String(r[n[1]]));break;case"bool":a=r[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(n[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+zn(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function w$(r){var e=[Ms,Ot("Properties",null,{xmlns:pi.CUST_PROPS,"xmlns:vt":pi.vt})];if(!r)return e.join("");var t=1;return Vi(r).forEach(function(a){++t,e[e.length]=Ot("property",$1e(r[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:zn(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var lM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function jbe(r,e){var t=[];return Vi(lM).map(function(n){for(var a=0;a<S0.length;++a)if(S0[a][1]==n)return S0[a];for(a=0;a<Op.length;++a)if(Op[a][1]==n)return Op[a];throw n}).forEach(function(n){if(r[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];n[2]==="date"&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(zi(lM[n[1]]||n[1],a))}}),Ot("DocumentProperties",t.join(""),{xmlns:Ml.o})}function _be(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return r&&Vi(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var i=0;i<S0.length;++i)if(s==S0[i][1])return;for(i=0;i<Op.length;++i)if(s==Op[i][1])return;for(i=0;i<t.length;++i)if(s==t[i])return;var l=r[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Ot(WL(s),l,{"dt:dt":c}))}}),e&&Vi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var i=e[s],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Ot(WL(s),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ml.o+'">'+a.join("")+"</"+n+">"}function Tbe(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),a=(t-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=ut(8);return i.write_shift(4,n),i.write_shift(4,a),i}function cM(r,e){var t=ut(4),n=ut(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=ut(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Tbe(e);break;case 31:case 80:for(n=ut(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Hi([t,n])}var C$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function kbe(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function uM(r,e,t){var n=ut(8),a=[],s=[],i=8,l=0,c=ut(8),u=ut(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!e){u=ut(8),u.write_shift(4,0),a.unshift(u);var A=[ut(4)];for(A[0].write_shift(4,r.length),l=0;l<r.length;++l){var h=r[l][0];for(c=ut(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);A.push(c)}c=Hi(A),s.unshift(c),i+=8+c.length}for(l=0;l<r.length;++l)if(!(e&&!e[r[l][0]])&&!(C$.indexOf(r[l][0])>-1||v$.indexOf(r[l][0])>-1)&&r[l][1]!=null){var p=r[l][1],m=0;if(e){m=+e[r[l][0]];var y=t[m];if(y.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=cM(y.t,p)}else{var v=kbe(p);v==-1&&(v=31,p=String(p)),c=cM(v,p)}s.push(c),u=ut(8),u.write_shift(4,e?m:2+l),a.push(u),i+=8+c.length}var w=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,w),w+=s[l].length;return n.write_shift(4,i),n.write_shift(4,s.length),Hi([n].concat(a).concat(s))}function dM(r,e,t,n,a,s){var i=ut(a?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,ta.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,a?68:48);var c=uM(r,t,n);if(l.push(c),a){var u=uM(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),l.push(u)}return Hi(l)}function Fbe(r,e){e||(e=ut(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function Obe(r,e){return r.read_shift(e)===1}function Co(r,e){return e||(e=ut(2)),e.write_shift(2,+!!r),e}function N$(r){return r.read_shift(2,"u")}function Nc(r,e){return e||(e=ut(2)),e.write_shift(2,r),e}function S$(r,e,t){return t||(t=ut(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function B$(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var i=n?r.read_shift(n,a):"";return i}function Dbe(r){var e=r.t||"",t=ut(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=ut(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[t,n];return Hi(a)}function Pbe(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function Ibe(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Pbe(r,n,t)}function Lbe(r,e,t){if(t.biff>5)return Ibe(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function E$(r,e,t){return t||(t=ut(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function AM(r,e){e||(e=ut(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function Mbe(r){var e=ut(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(t=0;t<i.length;++t)e.write_shift(4,i[t]);if(s==28)n=n.slice(1),AM(n,e);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<i.length;++t)e.write_shift(1,parseInt(i[t],16));var l=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),s&8&&AM(a>-1?n.slice(a+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<i.length;++t)e.write_shift(1,parseInt(i[t],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),t=0;t<n.length-3*c;++t)e.write_shift(1,n.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function U0(r,e,t,n){return n||(n=ut(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function Rbe(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),s=r.read_shift(n,"i"),i=r.read_shift(n,"i");return[a,s,i]}function Ube(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function j$(r,e){return e||(e=ut(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function M3(r,e,t){var n=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ut(a);return s.write_shift(2,n),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Qbe(r,e){var t=!e||e.biff==8,n=ut(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function Hbe(r,e){var t=!e||e.biff>=8?2:1,n=ut(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function zbe(r,e){var t=ut(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],a=0;a<r.length;++a)n[a]=Dbe(r[a]);var s=Hi([t].concat(n));return s.parts=[t.length].concat(n.map(function(i){return i.length})),s}function Kbe(){var r=ut(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function $be(r){var e=ut(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Vbe(r,e){var t=r.name||"Arial",n=e&&e.biff==5,a=n?15+t.length:16+2*t.length,s=ut(a);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function qbe(r,e,t,n){var a=ut(10);return U0(r,e,n,a),a.write_shift(4,t),a}function Gbe(r,e,t,n,a){var s=!a||a.biff==8,i=ut(8+ +s+(1+s)*t.length);return U0(r,e,n,i),i.write_shift(2,t.length),s&&i.write_shift(1,1),i.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),i}function Wbe(r,e,t,n){var a=t&&t.biff==5;n||(n=ut(a?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function Ybe(r,e){var t=e.biff==8||!e.biff?4:2,n=ut(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function hM(r,e,t,n){var a=t&&t.biff==5;n||(n=ut(a?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Xbe(r){var e=ut(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Jbe(r,e,t,n,a,s){var i=ut(8);return U0(r,e,n,i),S$(t,s,i),i}function Zbe(r,e,t,n){var a=ut(14);return U0(r,e,n,a),R0(t,a),a}function ewe(r,e,t){if(t.biff<8)return twe(r,e,t);for(var n=[],a=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(Rbe(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function twe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=B$(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function rwe(r){var e=ut(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)j$(r[t],e);return e}function nwe(r){var e=ut(24),t=xi(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Hi([e,Mbe(r[1])])}function awe(r){var e=r[1].Tooltip,t=ut(10+2*(e.length+1));t.write_shift(2,2048);var n=xi(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function swe(r){return r||(r=ut(4)),r.write_shift(2,1),r.write_shift(2,1),r}function iwe(r,e,t){if(!t.cellStyles)return Nd(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),s=r.read_shift(n),i=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function owe(r,e){var t=ut(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function lwe(r){for(var e=ut(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function cwe(r,e,t){var n=ut(15);return Fv(n,r,e),n.write_shift(8,t,"f"),n}function uwe(r,e,t){var n=ut(9);return Fv(n,r,e),n.write_shift(2,t),n}var dwe=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=E3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,c){var u=[],A=M0(1);switch(c.type){case"base64":A=bu(kA(l));break;case"binary":A=bu(l);break;case"buffer":case"array":A=l;break}Il(A,0);var h=A.read_shift(1),p=!!(h&136),m=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,v=521;h==2&&(g=A.read_shift(2)),A.l+=3,h!=2&&(g=A.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(v=A.read_shift(2));var w=A.read_shift(2),S=c.codepage||1252;h!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(S=r[A[A.l]]),A.l+=1,A.l+=2),y&&(A.l+=36);for(var C=[],E={},_=Math.min(A.length,h==2?521:v-10-(m?264:0)),L=y?32:11;A.l<_&&A[A.l]!=13;)switch(E={},E.name=N2.utils.decode(S,A.slice(A.l,A.l+L)).replace(/[\u0000\r\n].*$/g,""),A.l+=L,E.type=String.fromCharCode(A.read_shift(1)),h!=2&&!y&&(E.offset=A.read_shift(4)),E.len=A.read_shift(1),h==2&&(E.offset=A.read_shift(2)),E.dec=A.read_shift(1),E.name.length&&C.push(E),h!=2&&(A.l+=y?13:14),E.type){case"B":(!m||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(A[A.l]!==13&&(A.l=v-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=v;var D=0,P=0;for(u[0]=[],P=0;P!=C.length;++P)u[0][P]=C[P].name;for(;g-- >0;){if(A[A.l]===42){A.l+=w;continue}for(++A.l,u[++D]=[],P=0,P=0;P!=C.length;++P){var k=A.slice(A.l,A.l+C[P].len);A.l+=C[P].len,Il(k,0);var z=N2.utils.decode(S,k);switch(C[P].type){case"C":z.trim().length&&(u[D][P]=z.replace(/\s+$/,""));break;case"D":z.length===8?u[D][P]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):u[D][P]=z;break;case"F":u[D][P]=parseFloat(z.trim());break;case"+":case"I":u[D][P]=y?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":u[D][P]=!0;break;case"N":case"F":u[D][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[D][P]="##MEMO##"+(y?parseInt(z.trim(),10):k.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(u[D][P]=+z||0);break;case"@":u[D][P]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[D][P]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[D][P]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[D][P]=-k.read_shift(-8,"f");break;case"B":if(m&&C[P].len==8){u[D][P]=k.read_shift(8,"f");break}case"G":case"P":k.l+=C[P].len;break;case"0":if(C[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[P].type)}}}if(h!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=C,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var A=Fg(t(l,u),u);return A["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,A}function a(l,c){try{return X0(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&Ly(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var A=cl(),h=L2(l,{header:1,raw:!0,cellDates:!0}),p=h[0],m=h.slice(1),y=l["!cols"]||[],g=0,v=0,w=0,S=1;for(g=0;g<p.length;++g){if(((y[g]||{}).DBF||{}).name){p[g]=y[g].DBF.name,++w;continue}if(p[g]!=null){if(++w,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(v=0;v<1024;++v)if(p.indexOf(p[g]+"_"+v)==-1){p[g]+="_"+v;break}}}}var C=va(l["!ref"]),E=[],_=[],L=[];for(g=0;g<=C.e.c-C.s.c;++g){var D="",P="",k=0,z=[];for(v=0;v<m.length;++v)m[v][g]!=null&&z.push(m[v][g]);if(z.length==0||p[g]==null){E[g]="?";continue}for(v=0;v<z.length;++v){switch(typeof z[v]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=z[v]instanceof Date?"D":"C";break;default:P="C"}k=Math.max(k,String(z[v]).length),D=D&&D!=P?"C":P}k>250&&(k=250),P=((y[g]||{}).DBF||{}).type,P=="C"&&y[g].DBF.len>k&&(k=y[g].DBF.len),D=="B"&&P=="N"&&(D="N",L[g]=y[g].DBF.dec,k=y[g].DBF.len),_[g]=D=="C"||P=="N"?k:s[D]||0,S+=_[g],E[g]=D}var I=A.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*w),I.write_shift(2,S),g=0;g<4;++g)I.write_shift(4,0);for(I.write_shift(4,0|(+e[TK]||3)<<8),g=0,v=0;g<p.length;++g)if(p[g]!=null){var Q=A.next(32),R=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,R,"sbcs"),Q.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),Q.write_shift(4,v),Q.write_shift(1,_[g]||s[E[g]]||0),Q.write_shift(1,L[g]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),v+=_[g]||s[E[g]]||0}var K=A.next(264);for(K.write_shift(4,13),g=0;g<65;++g)K.write_shift(4,0);for(g=0;g<m.length;++g){var ee=A.next(S);for(ee.write_shift(1,0),v=0;v<p.length;++v)if(p[v]!=null)switch(E[v]){case"L":ee.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":ee.write_shift(8,m[g][v]||0,"f");break;case"N":var Y="0";for(typeof m[g][v]=="number"&&(Y=m[g][v].toFixed(L[v]||0)),w=0;w<_[v]-Y.length;++w)ee.write_shift(1,32);ee.write_shift(1,Y,"sbcs");break;case"D":m[g][v]?(ee.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var se=String(m[g][v]!=null?m[g][v]:"").slice(0,_[v]);for(ee.write_shift(1,se,"sbcs"),w=0;w<_[v]-se.length;++w)ee.write_shift(1,32);break}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}})(),Awe=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Vi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,m){var y=r[m];return typeof y=="number"?LL(y):y},n=function(p,m,y){var g=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?p:LL(g)};r["|"]=254;function a(p,m){switch(m.type){case"base64":return s(kA(p),m);case"binary":return s(p,m);case"buffer":return s(En&&Buffer.isBuffer(p)?p.toString("binary"):Ev(p),m);case"array":return s(r5(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),g=-1,v=-1,w=0,S=0,C=[],E=[],_=null,L={},D=[],P=[],k=[],z=0,I;for(+m.codepage>=0&&Ly(+m.codepage);w!==y.length;++w){z=0;var Q=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),R=Q.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),K=R[0],ee;if(Q.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&E.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,se=!1,X=!1,Ae=!1,ge=-1,Z=-1;for(S=1;S<R.length;++S)switch(R[S].charAt(0)){case"A":break;case"X":v=parseInt(R[S].slice(1))-1,se=!0;break;case"Y":for(g=parseInt(R[S].slice(1))-1,se||(v=0),I=C.length;I<=g;++I)C[I]=[];break;case"K":ee=R[S].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(wA(ee))?isNaN(Ry(ee).getDate())||(ee=jo(ee)):(ee=wA(ee),_!==null&&HK(_)&&(ee=VK(ee))),Y=!0;break;case"E":Ae=!0;var O=u2e(R[S].slice(1),{r:g,c:v});C[g][v]=[C[g][v],O];break;case"S":X=!0,C[g][v]=[C[g][v],"S5S"];break;case"G":break;case"R":ge=parseInt(R[S].slice(1))-1;break;case"C":Z=parseInt(R[S].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+Q)}if(Y&&(C[g][v]&&C[g][v].length==2?C[g][v][0]=ee:C[g][v]=ee,_=null),X){if(Ae)throw new Error("SYLK shared formula cannot have own formula");var H=ge>-1&&C[ge][Z];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");C[g][v][1]=d2e(H[1],{r:g-ge,c:v-Z})}break;case"F":var V=0;for(S=1;S<R.length;++S)switch(R[S].charAt(0)){case"X":v=parseInt(R[S].slice(1))-1,++V;break;case"Y":for(g=parseInt(R[S].slice(1))-1,I=C.length;I<=g;++I)C[I]=[];break;case"M":z=parseInt(R[S].slice(1))/20;break;case"F":break;case"G":break;case"P":_=E[parseInt(R[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=R[S].slice(1).split(" "),I=parseInt(k[0],10);I<=parseInt(k[1],10);++I)z=parseInt(k[2],10),P[I-1]=z===0?{hidden:!0}:{wch:z},R3(P[I-1]);break;case"C":v=parseInt(R[S].slice(1))-1,P[v]||(P[v]={});break;case"R":g=parseInt(R[S].slice(1))-1,D[g]||(D[g]={}),z>0?(D[g].hpt=z,D[g].hpx=O$(z)):z===0&&(D[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+Q)}V<1&&(_=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+Q)}}return D.length>0&&(L["!rows"]=D),P.length>0&&(L["!cols"]=P),m&&m.sheetRows&&(C=C.slice(0,m.sheetRows)),[C,L]}function i(p,m){var y=a(p,m),g=y[0],v=y[1],w=Fg(g,m);return Vi(v).forEach(function(S){w[S]=v[S]}),w}function l(p,m){return X0(i(p,m),m)}function c(p,m,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(p.t){case"n":v+=p.v||0,p.f&&!p.F&&(v+=";E"+Q3(p.f,{r:y,c:g}));break;case"b":v+=p.v?"TRUE":"FALSE";break;case"e":v+=p.w||p.v;break;case"d":v+='"'+(p.w||p.v)+'"';break;case"s":v+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(p,m){m.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=O2(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=D2(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&p.push(v)})}function A(p,m){m.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*P2(y.hpx)+";"),v.length>2&&p.push(v+"R"+(g+1))})}function h(p,m){var y=["ID;PWXL;N;E"],g=[],v=va(p["!ref"]),w,S=Array.isArray(p),C=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&u(y,p["!cols"]),p["!rows"]&&A(y,p["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var _=v.s.c;_<=v.e.c;++_){var L=$n({r:E,c:_});w=S?(p[E]||[])[_]:p[L],!(!w||w.v==null&&(!w.f||w.F))&&g.push(c(w,p,E,_))}return y.join(C)+C+g.join(C)+C+"E"+C}return{to_workbook:l,to_sheet:i,from_sheet:h}})(),hwe=(function(){function r(s,i){switch(i.type){case"base64":return e(kA(s),i);case"binary":return e(s,i);case"buffer":return e(En&&Buffer.isBuffer(s)?s.toString("binary"):Ev(s),i);case"array":return e(r5(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){for(var l=s.split(`
`),c=-1,u=-1,A=0,h=[];A!==l.length;++A){if(l[A].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var p=l[A].trim().split(","),m=p[0],y=p[1];++A;for(var g=l[A]||"";(g.match(/["]/g)||[]).length&1&&A<l.length-1;)g+=`
`+l[++A];switch(g=g.trim(),+m){case-1:if(g==="BOT"){h[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[c][u]=!0:g==="FALSE"?h[c][u]=!1:isNaN(wA(y))?isNaN(Ry(y).getDate())?h[c][u]=y:h[c][u]=jo(y):h[c][u]=wA(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),h}function t(s,i){return Fg(r(s,i),i)}function n(s,i){return X0(t(s,i),i)}var a=(function(){var s=function(c,u,A,h,p){c.push(u),c.push(A+","+h),c.push('"'+p.replace(/"/g,'""')+'"')},i=function(c,u,A,h){c.push(u+","+A),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],A=va(c["!ref"]),h,p=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,A.e.r-A.s.r+1,""),s(u,"TUPLES",0,A.e.c-A.s.c+1,""),s(u,"DATA",0,0,"");for(var m=A.s.r;m<=A.e.r;++m){i(u,-1,0,"BOT");for(var y=A.s.c;y<=A.e.c;++y){var g=$n({r:m,c:y});if(h=p?(c[m]||[])[y]:c[g],!h){i(u,1,0,"");continue}switch(h.t){case"n":var v=h.w;!v&&h.v!=null&&(v=h.v),v==null?h.f&&!h.F?i(u,1,0,"="+h.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=af(h.z||ls[14],dl(jo(h.v)))),i(u,0,h.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var w=`\r
`,S=u.join(w);return S}})();return{to_workbook:n,to_sheet:t,from_sheet:a}})(),_$=(function(){function r(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(h,p){for(var m=h.split(`
`),y=-1,g=-1,v=0,w=[];v!==m.length;++v){var S=m[v].trim().split(":");if(S[0]==="cell"){var C=xi(S[1]);if(w.length<=C.r)for(y=w.length;y<=C.r;++y)w[y]||(w[y]=[]);switch(y=C.r,g=C.c,S[2]){case"t":w[y][g]=r(S[3]);break;case"v":w[y][g]=+S[3];break;case"vtf":var E=S[S.length-1];case"vtc":S[3]==="nl"?w[y][g]=!!+S[4]:w[y][g]=+S[4],S[2]=="vtf"&&(w[y][g]=[w[y][g],E])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function n(h,p){return Fg(t(h,p),p)}function a(h,p){return X0(n(h,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var p=[],m=[],y,g="",v=Wl(h["!ref"]),w=Array.isArray(h),S=v.s.r;S<=v.e.r;++S)for(var C=v.s.c;C<=v.e.c;++C)if(g=$n({r:S,c:C}),y=w?(h[S]||[])[C]:h[g],!(!y||y.v==null||y.t==="z")){switch(m=["cell",g,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var E=dl(jo(y.v));m[2]="vtc",m[3]="nd",m[4]=""+E,m[5]=y.w||af(y.z||ls[14],E);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function A(h){return[s,i,l,i,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:A}})(),fwe=(function(){function r(A,h,p,m,y){y.raw?h[p][m]=A:A===""||(A==="TRUE"?h[p][m]=!0:A==="FALSE"?h[p][m]=!1:isNaN(wA(A))?isNaN(Ry(A).getDate())?h[p][m]=A:h[p][m]=jo(A):h[p][m]=wA(A))}function e(A,h){var p=h||{},m=[];if(!A||A.length===0)return m;for(var y=A.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,w=0,S=0;S<=g;++S)w=y[S].indexOf(" "),w==-1?w=y[S].length:w++,v=Math.max(v,w);for(S=0;S<=g;++S){m[S]=[];var C=0;for(r(y[S].slice(0,v).trim(),m,S,C,p),C=1;C<=(y[S].length-v)/10+1;++C)r(y[S].slice(v+(C-1)*10,v+C*10).trim(),m,S,C,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(A){for(var h={},p=!1,m=0,y=0;m<A.length;++m)(y=A.charCodeAt(m))==34?p=!p:!p&&y in t&&(h[y]=(h[y]||0)+1);y=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m]);if(!y.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),t[y.pop()[1]]||44}function s(A,h){var p=h||{},m="",y=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};A.slice(0,4)=="sep="?A.charCodeAt(5)==13&&A.charCodeAt(6)==10?(m=A.charAt(4),A=A.slice(7)):A.charCodeAt(5)==13||A.charCodeAt(5)==10?(m=A.charAt(4),A=A.slice(6)):m=a(A.slice(0,1024)):p&&p.FS?m=p.FS:m=a(A.slice(0,1024));var v=0,w=0,S=0,C=0,E=0,_=m.charCodeAt(0),L=!1,D=0,P=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?T1e(p.dateNF):null;function z(){var I=A.slice(C,E),Q={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)Q.t="z";else if(p.raw)Q.t="s",Q.v=I;else if(I.trim().length===0)Q.t="s",Q.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(Q.t="s",Q.v=I.slice(2,-1).replace(/""/g,'"')):A2e(I)?(Q.t="n",Q.f=I.slice(1)):(Q.t="s",Q.v=I);else if(I=="TRUE")Q.t="b",Q.v=!0;else if(I=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(S=wA(I)))Q.t="n",p.cellText!==!1&&(Q.w=I),Q.v=S;else if(!isNaN(Ry(I).getDate())||k&&I.match(k)){Q.z=p.dateNF||ls[14];var R=0;k&&I.match(k)&&(I=k1e(I,p.dateNF,I.match(k)||[]),R=1),p.cellDates?(Q.t="d",Q.v=jo(I,R)):(Q.t="n",Q.v=dl(jo(I,R))),p.cellText!==!1&&(Q.w=af(Q.z,Q.v instanceof Date?dl(Q.v):Q.v)),p.cellNF||delete Q.z}else Q.t="s",Q.v=I;if(Q.t=="z"||(p.dense?(y[v]||(y[v]=[]),y[v][w]=Q):y[$n({c:w,r:v})]=Q),C=E+1,P=A.charCodeAt(C),g.e.c<w&&(g.e.c=w),g.e.r<v&&(g.e.r=v),D==_)++w;else if(w=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;E<A.length;++E)switch(D=A.charCodeAt(E)){case 34:P===34&&(L=!L);break;case _:case 10:case 13:if(!L&&z())break e;break}return E-C>0&&z(),y["!ref"]=Ls(g),y}function i(A,h){return!(h&&h.PRN)||h.FS||A.slice(0,4)=="sep="||A.indexOf("	")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0?s(A,h):Fg(e(A,h),h)}function l(A,h){var p="",m=h.type=="string"?[0,0,0,0]:BSe(A,h);switch(h.type){case"base64":p=kA(A);break;case"binary":p=A;break;case"buffer":h.codepage==65001?p=A.toString("utf8"):h.codepage&&typeof N2<"u"||(p=En&&Buffer.isBuffer(A)?A.toString("binary"):Ev(A));break;case"array":p=r5(A);break;case"string":p=A;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=cy(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=cy(p):h.type=="binary"&&typeof N2<"u",p.slice(0,19)=="socialcalc:version:"?_$.to_sheet(h.type=="string"?p:cy(p),h):i(p,h)}function c(A,h){return X0(l(A,h),h)}function u(A){for(var h=[],p=va(A["!ref"]),m,y=Array.isArray(A),g=p.s.r;g<=p.e.r;++g){for(var v=[],w=p.s.c;w<=p.e.c;++w){var S=$n({r:g,c:w});if(m=y?(A[g]||[])[w]:A[S],!m||m.v==null){v.push("          ");continue}for(var C=(m.w||(FA(m),m.w)||"").slice(0,10);C.length<10;)C+=" ";v.push(C+(w===0?" ":""))}h.push(v.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})(),fM=(function(){function r(O,H,V){if(O){Il(O,O.l||0);for(var G=V.Enum||ge;O.l<O.length;){var ae=O.read_shift(2),ue=G[ae]||G[65535],Se=O.read_shift(2),te=O.l+Se,pe=ue.f&&ue.f(O,Se,V);if(O.l=te,H(pe,ue,ae))return}}}function e(O,H){switch(H.type){case"base64":return t(bu(kA(O)),H);case"binary":return t(bu(O),H);case"buffer":case"array":return t(O,H)}throw"Unsupported type "+H.type}function t(O,H){if(!O)return O;var V=H||{},G=V.dense?[]:{},ae="Sheet1",ue="",Se=0,te={},pe=[],ke=[],Ee={s:{r:0,c:0},e:{r:0,c:0}},Ue=V.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)V.Enum=ge,r(O,function(Ye,Bt,it){switch(it){case 0:V.vers=Ye,Ye>=4096&&(V.qpro=!0);break;case 6:Ee=Ye;break;case 204:Ye&&(ue=Ye);break;case 222:ue=Ye;break;case 15:case 51:V.qpro||(Ye[1].v=Ye[1].v.slice(1));case 13:case 14:case 16:it==14&&(Ye[2]&112)==112&&(Ye[2]&15)>1&&(Ye[2]&15)<15&&(Ye[1].z=V.dateNF||ls[14],V.cellDates&&(Ye[1].t="d",Ye[1].v=VK(Ye[1].v))),V.qpro&&Ye[3]>Se&&(G["!ref"]=Ls(Ee),te[ae]=G,pe.push(ae),G=V.dense?[]:{},Ee={s:{r:0,c:0},e:{r:0,c:0}},Se=Ye[3],ae=ue||"Sheet"+(Se+1),ue="");var Xe=V.dense?(G[Ye[0].r]||[])[Ye[0].c]:G[$n(Ye[0])];if(Xe){Xe.t=Ye[1].t,Xe.v=Ye[1].v,Ye[1].z!=null&&(Xe.z=Ye[1].z),Ye[1].f!=null&&(Xe.f=Ye[1].f);break}V.dense?(G[Ye[0].r]||(G[Ye[0].r]=[]),G[Ye[0].r][Ye[0].c]=Ye[1]):G[$n(Ye[0])]=Ye[1];break}},V);else if(O[2]==26||O[2]==14)V.Enum=Z,O[2]==14&&(V.qpro=!0,O.l=0),r(O,function(Ye,Bt,it){switch(it){case 204:ae=Ye;break;case 22:Ye[1].v=Ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ye[3]>Se&&(G["!ref"]=Ls(Ee),te[ae]=G,pe.push(ae),G=V.dense?[]:{},Ee={s:{r:0,c:0},e:{r:0,c:0}},Se=Ye[3],ae="Sheet"+(Se+1)),Ue>0&&Ye[0].r>=Ue)break;V.dense?(G[Ye[0].r]||(G[Ye[0].r]=[]),G[Ye[0].r][Ye[0].c]=Ye[1]):G[$n(Ye[0])]=Ye[1],Ee.e.c<Ye[0].c&&(Ee.e.c=Ye[0].c),Ee.e.r<Ye[0].r&&(Ee.e.r=Ye[0].r);break;case 27:Ye[14e3]&&(ke[Ye[14e3][0]]=Ye[14e3][1]);break;case 1537:ke[Ye[0]]=Ye[1],Ye[0]==Se&&(ae=Ye[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(G["!ref"]=Ls(Ee),te[ue||ae]=G,pe.push(ue||ae),!ke.length)return{SheetNames:pe,Sheets:te};for(var je={},J=[],Ie=0;Ie<ke.length;++Ie)te[pe[Ie]]?(J.push(ke[Ie]||pe[Ie]),je[ke[Ie]]=te[ke[Ie]]||te[pe[Ie]]):(J.push(ke[Ie]),je[ke[Ie]]={"!ref":"A1"});return{SheetNames:J,Sheets:je}}function n(O,H){var V=H||{};if(+V.codepage>=0&&Ly(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var G=cl(),ae=va(O["!ref"]),ue=Array.isArray(O),Se=[];Pt(G,0,s(1030)),Pt(G,6,c(ae));for(var te=Math.min(ae.e.r,8191),pe=ae.s.r;pe<=te;++pe)for(var ke=$i(pe),Ee=ae.s.c;Ee<=ae.e.c;++Ee){pe===ae.s.r&&(Se[Ee]=uo(Ee));var Ue=Se[Ee]+ke,je=ue?(O[pe]||[])[Ee]:O[Ue];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?Pt(G,13,m(pe,Ee,je.v)):Pt(G,14,g(pe,Ee,je.v));else{var J=FA(je);Pt(G,15,h(pe,Ee,J.slice(0,239)))}}return Pt(G,1),G.end()}function a(O,H){var V=H||{};if(+V.codepage>=0&&Ly(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var G=cl();Pt(G,0,i(O));for(var ae=0,ue=0;ae<O.SheetNames.length;++ae)(O.Sheets[O.SheetNames[ae]]||{})["!ref"]&&Pt(G,27,Ae(O.SheetNames[ae],ue++));var Se=0;for(ae=0;ae<O.SheetNames.length;++ae){var te=O.Sheets[O.SheetNames[ae]];if(!(!te||!te["!ref"])){for(var pe=va(te["!ref"]),ke=Array.isArray(te),Ee=[],Ue=Math.min(pe.e.r,8191),je=pe.s.r;je<=Ue;++je)for(var J=$i(je),Ie=pe.s.c;Ie<=pe.e.c;++Ie){je===pe.s.r&&(Ee[Ie]=uo(Ie));var Ye=Ee[Ie]+J,Bt=ke?(te[je]||[])[Ie]:te[Ye];if(!(!Bt||Bt.t=="z"))if(Bt.t=="n")Pt(G,23,z(je,Ie,Se,Bt.v));else{var it=FA(Bt);Pt(G,22,D(je,Ie,Se,it.slice(0,239)))}}++Se}}return Pt(G,1),G.end()}function s(O){var H=ut(2);return H.write_shift(2,O),H}function i(O){var H=ut(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var V=0,G=0,ae=0,ue=0;ue<O.SheetNames.length;++ue){var Se=O.SheetNames[ue],te=O.Sheets[Se];if(!(!te||!te["!ref"])){++ae;var pe=Wl(te["!ref"]);V<pe.e.r&&(V=pe.e.r),G<pe.e.c&&(G=pe.e.c)}}return V>8191&&(V=8191),H.write_shift(2,V),H.write_shift(1,ae),H.write_shift(1,G),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(O,H,V){var G={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&V.qpro?(G.s.c=O.read_shift(1),O.l++,G.s.r=O.read_shift(2),G.e.c=O.read_shift(1),O.l++,G.e.r=O.read_shift(2),G):(G.s.c=O.read_shift(2),G.s.r=O.read_shift(2),H==12&&V.qpro&&(O.l+=2),G.e.c=O.read_shift(2),G.e.r=O.read_shift(2),H==12&&V.qpro&&(O.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(O){var H=ut(8);return H.write_shift(2,O.s.c),H.write_shift(2,O.s.r),H.write_shift(2,O.e.c),H.write_shift(2,O.e.r),H}function u(O,H,V){var G=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(G[0].c=O.read_shift(1),G[3]=O.read_shift(1),G[0].r=O.read_shift(2),O.l+=2):(G[2]=O.read_shift(1),G[0].c=O.read_shift(2),G[0].r=O.read_shift(2)),G}function A(O,H,V){var G=O.l+H,ae=u(O,H,V);if(ae[1].t="s",V.vers==20768){O.l++;var ue=O.read_shift(1);return ae[1].v=O.read_shift(ue,"utf8"),ae}return V.qpro&&O.l++,ae[1].v=O.read_shift(G-O.l,"cstr"),ae}function h(O,H,V){var G=ut(7+V.length);G.write_shift(1,255),G.write_shift(2,H),G.write_shift(2,O),G.write_shift(1,39);for(var ae=0;ae<G.length;++ae){var ue=V.charCodeAt(ae);G.write_shift(1,ue>=128?95:ue)}return G.write_shift(1,0),G}function p(O,H,V){var G=u(O,H,V);return G[1].v=O.read_shift(2,"i"),G}function m(O,H,V){var G=ut(7);return G.write_shift(1,255),G.write_shift(2,H),G.write_shift(2,O),G.write_shift(2,V,"i"),G}function y(O,H,V){var G=u(O,H,V);return G[1].v=O.read_shift(8,"f"),G}function g(O,H,V){var G=ut(13);return G.write_shift(1,255),G.write_shift(2,H),G.write_shift(2,O),G.write_shift(8,V,"f"),G}function v(O,H,V){var G=O.l+H,ae=u(O,H,V);if(ae[1].v=O.read_shift(8,"f"),V.qpro)O.l=G;else{var ue=O.read_shift(2);E(O.slice(O.l,O.l+ue),ae),O.l+=ue}return ae}function w(O,H,V){var G=H&32768;return H&=-32769,H=(G?O:0)+(H>=8192?H-16384:H),(G?"":"$")+(V?uo(H):$i(H))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(O,H){Il(O,0);for(var V=[],G=0,ae="",ue="",Se="",te="";O.l<O.length;){var pe=O[O.l++];switch(pe){case 0:V.push(O.read_shift(8,"f"));break;case 1:ue=w(H[0].c,O.read_shift(2),!0),ae=w(H[0].r,O.read_shift(2),!1),V.push(ue+ae);break;case 2:{var ke=w(H[0].c,O.read_shift(2),!0),Ee=w(H[0].r,O.read_shift(2),!1);ue=w(H[0].c,O.read_shift(2),!0),ae=w(H[0].r,O.read_shift(2),!1),V.push(ke+Ee+":"+ue+ae)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(O.read_shift(2));break;case 6:{for(var Ue="";pe=O[O.l++];)Ue+=String.fromCharCode(pe);V.push('"'+Ue.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:te=V.pop(),Se=V.pop(),V.push(["AND","OR"][pe-20]+"("+Se+","+te+")");break;default:if(pe<32&&C[pe])te=V.pop(),Se=V.pop(),V.push(Se+C[pe]+te);else if(S[pe]){if(G=S[pe][1],G==69&&(G=O[O.l++]),G>V.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+V.join("|")+"|");return}var je=V.slice(-G);V.length-=G,V.push(S[pe][0]+"("+je.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}V.length==1?H[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function _(O){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=O.read_shift(2),H[3]=O[O.l++],H[0].c=O[O.l++],H}function L(O,H){var V=_(O);return V[1].t="s",V[1].v=O.read_shift(H-4,"cstr"),V}function D(O,H,V,G){var ae=ut(6+G.length);ae.write_shift(2,O),ae.write_shift(1,V),ae.write_shift(1,H),ae.write_shift(1,39);for(var ue=0;ue<G.length;++ue){var Se=G.charCodeAt(ue);ae.write_shift(1,Se>=128?95:Se)}return ae.write_shift(1,0),ae}function P(O,H){var V=_(O);V[1].v=O.read_shift(2);var G=V[1].v>>1;if(V[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return V[1].v=G,V}function k(O,H){var V=_(O),G=O.read_shift(4),ae=O.read_shift(4),ue=O.read_shift(2);if(ue==65535)return G===0&&ae===3221225472?(V[1].t="e",V[1].v=15):G===0&&ae===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Se=ue&32768;return ue=(ue&32767)-16446,V[1].v=(1-Se*2)*(ae*Math.pow(2,ue+32)+G*Math.pow(2,ue)),V}function z(O,H,V,G){var ae=ut(14);if(ae.write_shift(2,O),ae.write_shift(1,V),ae.write_shift(1,H),G==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ue=0,Se=0,te=0,pe=0;return G<0&&(ue=1,G=-G),Se=Math.log2(G)|0,G/=Math.pow(2,Se-31),pe=G>>>0,(pe&2147483648)==0&&(G/=2,++Se,pe=G>>>0),G-=pe,pe|=2147483648,pe>>>=0,G*=Math.pow(2,32),te=G>>>0,ae.write_shift(4,te),ae.write_shift(4,pe),Se+=16383+(ue?32768:0),ae.write_shift(2,Se),ae}function I(O,H){var V=k(O);return O.l+=H-14,V}function Q(O,H){var V=_(O),G=O.read_shift(4);return V[1].v=G>>6,V}function R(O,H){var V=_(O),G=O.read_shift(8,"f");return V[1].v=G,V}function K(O,H){var V=R(O);return O.l+=H-10,V}function ee(O,H){return O[O.l+H-1]==0?O.read_shift(H,"cstr"):""}function Y(O,H){var V=O[O.l++];V>H-1&&(V=H-1);for(var G="";G.length<V;)G+=String.fromCharCode(O[O.l++]);return G}function se(O,H,V){if(!(!V.qpro||H<21)){var G=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var ae=O.read_shift(H-21,"cstr");return[G,ae]}}function X(O,H){for(var V={},G=O.l+H;O.l<G;){var ae=O.read_shift(2);if(ae==14e3){for(V[ae]=[0,""],V[ae][0]=O.read_shift(2);O[O.l];)V[ae][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return V}function Ae(O,H){var V=ut(5+O.length);V.write_shift(2,14e3),V.write_shift(2,H);for(var G=0;G<O.length;++G){var ae=O.charCodeAt(G);V[V.l++]=ae>127?95:ae}return V[V.l++]=0,V}var ge={0:{n:"BOF",f:N$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:L},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),mwe=/^\s|\s$|[\t\n\r]/;function T$(r,e){if(!e.bookSST)return"";var t=[Ms];t[t.length]=Ot("sst",null,{xmlns:kg[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var a=r[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(mwe)&&(s+=' xml:space="preserve"'),s+=">"+zn(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function pwe(r){return[r.read_shift(4),r.read_shift(4)]}function gwe(r,e){return e||(e=ut(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var xwe=lbe;function ywe(r){var e=cl();wt(e,159,gwe(r));for(var t=0;t<r.length;++t)wt(e,19,xwe(r[t]));return wt(e,160),e.end()}function vwe(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function k$(r){var e=0,t,n=vwe(r),a=n.length+1,s,i,l,c,u;for(t=M0(a),t[0]=n.length,s=1;s!=a;++s)t[s]=n[s-1];for(s=a-1;s>=0;--s)i=t[s],l=(e&16384)===0?0:1,c=e<<1&32767,u=l|c,e=u^i;return e^52811}var bwe=(function(){function r(a,s){switch(s.type){case"base64":return e(kA(a),s);case"binary":return e(a,s);case"buffer":return e(En&&Buffer.isBuffer(a)?a.toString("binary"):Ev(a),s);case"array":return e(r5(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(A,h){Array.isArray(l)&&(l[h]=[]);for(var p=/\\\w+\b/g,m=0,y,g=-1;y=p.exec(A);){switch(y[0]){case"\\cell":var v=A.slice(m,p.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var w={v,t:"s"};Array.isArray(l)?l[h][g]=w:l[$n({r:h,c:g})]=w}break}m=p.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Ls(u),l}function t(a,s){return X0(r(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=va(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var A=i.s.c;A<=i.e.c;++A)s.push("\\cellx"+(A+1));for(s.push("\\pard\\intbl"),A=i.s.c;A<=i.e.c;++A){var h=$n({r:u,c:A});l=c?(a[u]||[])[A]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(FA(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function mM(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var wwe=6,CA=wwe;function O2(r){return Math.floor((r+Math.round(128/CA)/256)*CA)}function D2(r){return Math.floor((r-5)/CA*100+.5)/100}function Aj(r){return Math.round((r*CA+5)/CA*256)/256}function R3(r){r.width?(r.wpx=O2(r.width),r.wch=D2(r.wpx),r.MDW=CA):r.wpx?(r.wch=D2(r.wpx),r.width=Aj(r.wch),r.MDW=CA):typeof r.wch=="number"&&(r.width=Aj(r.wch),r.wpx=O2(r.width),r.MDW=CA),r.customWidth&&delete r.customWidth}var Cwe=96,F$=Cwe;function P2(r){return r*96/F$}function O$(r){return r*F$/96}function Nwe(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Ot("numFmt",null,{numFmtId:n,formatCode:zn(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ot("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Swe(r){var e=[];return e[e.length]=Ot("cellXfs",null),r.forEach(function(t){e[e.length]=Ot("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ot("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function D$(r,e){var t=[Ms,Ot("styleSheet",null,{xmlns:kg[0],"xmlns:vt":pi.vt})],n;return r.SSF&&(n=Nwe(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Swe(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Bwe(r,e){var t=r.read_shift(2),n=Ao(r);return[t,n]}function Ewe(r,e,t){t||(t=ut(6+4*e.length)),t.write_shift(2,r),yi(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function jwe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=mbe(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=r.read_shift(1);i!=0&&(n.underline=i);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=fbe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ao(r),n}function _we(r,e){e||(e=ut(153)),e.write_shift(2,r.sz*20),pbe(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),k2(r.color,e);var n=0;return n=2,e.write_shift(1,n),yi(r.name,e),e.length>e.l?e.slice(0,e.l):e}var Twe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],HB,kwe=Nd;function pM(r,e){e||(e=ut(84)),HB||(HB=E3(Twe));var t=HB[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(k2({auto:1},e),k2({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Fwe(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}function P$(r,e,t){t||(t=ut(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Dx(r,e){return e||(e=ut(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Owe=Nd;function Dwe(r,e){return e||(e=ut(51)),e.write_shift(1,0),Dx(null,e),Dx(null,e),Dx(null,e),Dx(null,e),Dx(null,e),e.length>e.l?e.slice(0,e.l):e}function Pwe(r,e){return e||(e=ut(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),T2(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Iwe(r,e,t){var n=ut(2052);return n.write_shift(4,r),T2(e,n),T2(t,n),n.length>n.l?n.slice(0,n.l):n}function Lwe(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++t}),t!=0&&(wt(r,615,Su(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&wt(r,44,Ewe(a,e[a]))}),wt(r,616))}}function Mwe(r){var e=1;wt(r,611,Su(e)),wt(r,43,_we({sz:12,color:{theme:1},name:"Calibri",family:2})),wt(r,612)}function Rwe(r){var e=2;wt(r,603,Su(e)),wt(r,45,pM({patternType:"none"})),wt(r,45,pM({patternType:"gray125"})),wt(r,604)}function Uwe(r){var e=1;wt(r,613,Su(e)),wt(r,46,Dwe()),wt(r,614)}function Qwe(r){var e=1;wt(r,626,Su(e)),wt(r,47,P$({numFmtId:0},65535)),wt(r,627)}function Hwe(r,e){wt(r,617,Su(e.length)),e.forEach(function(t){wt(r,47,P$(t,0))}),wt(r,618)}function zwe(r){var e=1;wt(r,619,Su(e)),wt(r,48,Pwe({xfId:0,name:"Normal"})),wt(r,620)}function Kwe(r){var e=0;wt(r,505,Su(e)),wt(r,506)}function $we(r){var e=0;wt(r,508,Iwe(e,"TableStyleMedium9","PivotStyleMedium4")),wt(r,509)}function Vwe(r,e){var t=cl();return wt(t,278),Lwe(t,r.SSF),Mwe(t),Rwe(t),Uwe(t),Qwe(t),Hwe(t,e.cellXfs),zwe(t),Kwe(t),$we(t),wt(t,279),t.end()}function I$(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Ms];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function qwe(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ao(r)}}function Gwe(r){var e=ut(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),yi(r.name,e),e.slice(0,e.l)}function Wwe(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function Ywe(r){var e=ut(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function Xwe(r,e){var t=ut(8+2*e.length);return t.write_shift(4,r),yi(e,t),t.slice(0,t.l)}function Jwe(r){return r.l+=4,r.read_shift(4)!=0}function Zwe(r,e){var t=ut(8);return t.write_shift(4,r),t.write_shift(4,1),t}function e2e(){var r=cl();return wt(r,332),wt(r,334,Su(1)),wt(r,335,Gwe({name:"XLDAPR",version:12e4,flags:3496657072})),wt(r,336),wt(r,339,Xwe(1,"XLDAPR")),wt(r,52),wt(r,35,Su(514)),wt(r,4096,Su(0)),wt(r,4097,Nc(1)),wt(r,36),wt(r,53),wt(r,340),wt(r,337,Zwe(1)),wt(r,51,Ywe([[1,0]])),wt(r,338),wt(r,333),r.end()}function L$(){var r=[Ms];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function t2e(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=$n(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Np=1024;function M$(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Ot("xml",null,{"xmlns:v":Ml.v,"xmlns:o":Ml.o,"xmlns:x":Ml.x,"xmlns:mv":Ml.mv}).replace(/\/>/,">"),Ot("o:shapelayout",Ot("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Ot("v:shapetype",[Ot("v:stroke",null,{joinstyle:"miter"}),Ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Np<r*1e3;)Np+=1e3;return e.forEach(function(s){var i=xi(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ot("v:fill",c,l),A={on:"t",obscured:"t"};++Np,a=a.concat(["<v:shape"+Qy({id:"_x0000_s"+Np,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ot("v:shadow",null,A),Ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zi("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),zi("x:AutoFill","False"),zi("x:Row",String(i.r)),zi("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function R$(r){var e=[Ms,Ot("comments",null,{xmlns:kg[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(a){var s=zn(a.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=t.indexOf(zn(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(zi("t",zn(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)i+=`Reply:
    `+s[l]+`
`;e.push(zi("t",zn(i)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function r2e(r,e,t){var n=[Ms,Ot("ThreadedComments",null,{xmlns:pi.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),n.push(Ot("threadedComment",zi("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function n2e(r){var e=[Ms,Ot("personList",null,{xmlns:pi.TCMNT,"xmlns:x":kg[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Ot("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function a2e(r){var e={};e.iauthor=r.read_shift(4);var t=tm(r);return e.rfx=t.s,e.ref=$n(t.s),r.l+=16,e}function s2e(r,e){return e==null&&(e=ut(36)),e.write_shift(4,r[1].iauthor),Og(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var i2e=Ao;function o2e(r){return yi(r.slice(0,54))}function l2e(r){var e=cl(),t=[];return wt(e,628),wt(e,630),r.forEach(function(n){n[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),wt(e,632,o2e(a.a)))})}),wt(e,631),wt(e,633),r.forEach(function(n){n[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:xi(n[0]),e:xi(n[0])};wt(e,635,s2e([s,a])),a.t&&a.t.length>0&&wt(e,637,ube(a)),wt(e,636),delete a.iauthor})}),wt(e,634),wt(e,629),e.end()}function c2e(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ta.utils.cfb_add(r,a,e.FileIndex[n].content)}})}var U$=["xlsb","xlsm","xlam","biff8","xla"],u2e=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,A=i.length>0?parseInt(i,10)|0:0;return l?A+=e.c:--A,c?u+=e.r:--u,a+(l?"":"$")+uo(A)+(c?"":"$")+$i(u)}return function(a,s){return e=s,a.replace(r,t)}})(),U3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Q3=(function(){return function(e,t){return e.replace(U3,function(n,a,s,i,l,c){var u=D3(i)-(s?0:t.c),A=O3(c)-(l?0:t.r),h=A==0?"":l?A+1:"["+A+"]",p=u==0?"":s?u+1:"["+u+"]";return a+"R"+h+"C"+p})}})();function d2e(r,e){return r.replace(U3,function(t,n,a,s,i,l){return n+(a=="$"?a+s:uo(D3(s)+e.c))+(i=="$"?i+l:$i(O3(l)+e.r))})}function A2e(r){return r.length!=1}function ks(r){r.l+=1}function sf(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Q$(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return H$(r);t.biff==12&&(n=4)}var a=r.read_shift(n),s=r.read_shift(n),i=sf(r),l=sf(r);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function H$(r){var e=sf(r),t=sf(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function h2e(r,e,t){if(t.biff<8)return H$(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),s=sf(r),i=sf(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function z$(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return f2e(r);var n=r.read_shift(t&&t.biff==12?4:2),a=sf(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function f2e(r){var e=sf(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function m2e(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function p2e(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return g2e(r);var a=r.read_shift(n>=12?4:2),s=r.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function g2e(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function x2e(r,e,t){var n=(r[r.l++]&96)>>5,a=Q$(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function y2e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var i=Q$(r,s,t);return[n,a,i]}function v2e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function b2e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,a]}function w2e(r,e,t){var n=(r[r.l++]&96)>>5,a=h2e(r,e-1,t);return[n,a]}function C2e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function gM(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function N2e(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function S2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function B2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function E2e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function j2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function K$(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function _2e(r){return r.read_shift(2),K$(r)}function T2e(r){return r.read_shift(2),K$(r)}function k2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=z$(r,0,t);return[n,a]}function F2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=p2e(r,0,t);return[n,a]}function O2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=z$(r,0,t);return[n,a,s]}function D2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[DCe[a],q$[a],n]}function P2e(r,e,t){var n=r[r.l++],a=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:I2e(r);return[a,(s[0]===0?q$:OCe)[s[1]]]}function I2e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function L2e(r,e,t){r.l+=t&&t.biff==2?3:4}function M2e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function R2e(r){return r.l++,Tv[r.read_shift(1)]}function U2e(r){return r.l++,r.read_shift(2)}function Q2e(r){return r.l++,r.read_shift(1)!==0}function H2e(r){return r.l++,Dg(r)}function z2e(r,e,t){return r.l++,B$(r,e-1,t)}function K2e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Obe(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Tv[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Dg(r);break;case 2:t[1]=Lbe(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function $2e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((t.biff==12?tm:Ube)(r));return a}function V2e(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=K2e(r,t.biff);return i}function q2e(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function G2e(r,e,t){if(t.biff==5)return W2e(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),s=r.read_shift(4);return[n,a,s]}function W2e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function Y2e(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function X2e(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function J2e(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function Z2e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,a]}var eCe=Nd,tCe=Nd,rCe=Nd;function kv(r,e,t){return r.l+=2,[m2e(r)]}function H3(r){return r.l+=6,[]}var nCe=kv,aCe=H3,sCe=H3,iCe=kv;function $$(r){return r.l+=2,[N$(r),r.read_shift(2)&1]}var oCe=kv,lCe=$$,cCe=H3,uCe=kv,dCe=kv,ACe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hCe(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),s=r.read_shift(2),i=ACe[t>>2&31];return{ixti:e,coltype:t&3,rt:i,idx:n,c:a,C:s}}function fCe(r){return r.l+=2,[r.read_shift(4)]}function mCe(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function pCe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function gCe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function xCe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function yCe(r){return r.l+=4,[0,0]}var xM={1:{n:"PtgExp",f:M2e},2:{n:"PtgTbl",f:rCe},3:{n:"PtgAdd",f:ks},4:{n:"PtgSub",f:ks},5:{n:"PtgMul",f:ks},6:{n:"PtgDiv",f:ks},7:{n:"PtgPower",f:ks},8:{n:"PtgConcat",f:ks},9:{n:"PtgLt",f:ks},10:{n:"PtgLe",f:ks},11:{n:"PtgEq",f:ks},12:{n:"PtgGe",f:ks},13:{n:"PtgGt",f:ks},14:{n:"PtgNe",f:ks},15:{n:"PtgIsect",f:ks},16:{n:"PtgUnion",f:ks},17:{n:"PtgRange",f:ks},18:{n:"PtgUplus",f:ks},19:{n:"PtgUminus",f:ks},20:{n:"PtgPercent",f:ks},21:{n:"PtgParen",f:ks},22:{n:"PtgMissArg",f:ks},23:{n:"PtgStr",f:z2e},26:{n:"PtgSheet",f:mCe},27:{n:"PtgEndSheet",f:pCe},28:{n:"PtgErr",f:R2e},29:{n:"PtgBool",f:Q2e},30:{n:"PtgInt",f:U2e},31:{n:"PtgNum",f:H2e},32:{n:"PtgArray",f:C2e},33:{n:"PtgFunc",f:D2e},34:{n:"PtgFuncVar",f:P2e},35:{n:"PtgName",f:q2e},36:{n:"PtgRef",f:k2e},37:{n:"PtgArea",f:x2e},38:{n:"PtgMemArea",f:Y2e},39:{n:"PtgMemErr",f:eCe},40:{n:"PtgMemNoMem",f:tCe},41:{n:"PtgMemFunc",f:X2e},42:{n:"PtgRefErr",f:J2e},43:{n:"PtgAreaErr",f:v2e},44:{n:"PtgRefN",f:F2e},45:{n:"PtgAreaN",f:w2e},46:{n:"PtgMemAreaN",f:gCe},47:{n:"PtgMemNoMemN",f:xCe},57:{n:"PtgNameX",f:G2e},58:{n:"PtgRef3d",f:O2e},59:{n:"PtgArea3d",f:y2e},60:{n:"PtgRefErr3d",f:Z2e},61:{n:"PtgAreaErr3d",f:b2e},255:{}},vCe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bCe={1:{n:"PtgElfLel",f:$$},2:{n:"PtgElfRw",f:uCe},3:{n:"PtgElfCol",f:nCe},6:{n:"PtgElfRwV",f:dCe},7:{n:"PtgElfColV",f:iCe},10:{n:"PtgElfRadical",f:oCe},11:{n:"PtgElfRadicalS",f:cCe},13:{n:"PtgElfColS",f:aCe},15:{n:"PtgElfColSV",f:sCe},16:{n:"PtgElfRadicalLel",f:lCe},25:{n:"PtgList",f:hCe},29:{n:"PtgSxName",f:fCe},255:{}},wCe={0:{n:"PtgAttrNoop",f:yCe},1:{n:"PtgAttrSemi",f:j2e},2:{n:"PtgAttrIf",f:B2e},4:{n:"PtgAttrChoose",f:N2e},8:{n:"PtgAttrGoto",f:S2e},16:{n:"PtgAttrSum",f:L2e},32:{n:"PtgAttrBaxcel",f:gM},33:{n:"PtgAttrBaxcel",f:gM},64:{n:"PtgAttrSpace",f:_2e},65:{n:"PtgAttrSpaceSemi",f:T2e},128:{n:"PtgAttrIfError",f:E2e},255:{}};function CCe(r,e,t,n){if(n.biff<8)return Nd(r,e);for(var a=r.l+e,s=[],i=0;i!==t.length;++i)switch(t[i][0]){case"PtgArray":t[i][1]=V2e(r,0,n),s.push(t[i][1]);break;case"PtgMemArea":t[i][2]=$2e(r,t[i][1],n),s.push(t[i][2]);break;case"PtgExp":n&&n.biff==12&&(t[i][1][1]=r.read_shift(4),s.push(t[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[i][0]}return e=a-r.l,e!==0&&s.push(Nd(r,e)),s}function NCe(r,e,t){for(var n=r.l+e,a,s,i=[];n!=r.l;)e=n-r.l,s=r[r.l],a=xM[s]||xM[vCe[s]],(s===24||s===25)&&(a=(s===24?bCe:wCe)[r[r.l+1]]),!a||!a.f?Nd(r,e):i.push([a.n,a.f(r,e,t)]);return i}function SCe(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],s=0;s<n.length;++s){var i=n[s];i?i[0]===2?a.push('"'+i[1].replace(/"/g,'""')+'"'):a.push(i[1]):a.push("")}e.push(a.join(","))}return e.join(";")}var BCe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ECe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function V$(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function yM(r,e,t){var n=V$(r,e,t);return n=="#REF"?n:ECe(n,t)}function ig(r,e,t,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},l=[],c,u,A,h=0,p=0,m,y="";if(!r[0]||!r[0][0])return"";for(var g=-1,v="",w=0,S=r[0].length;w<S;++w){var C=r[0][w];switch(C[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(r[0][g][1][0]){case 0:v=ss(" ",r[0][g][1][1]);break;case 1:v=ss("\r",r[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}u=u+v,g=-1}l.push(u+BCe[C[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=dy(C[1][1],i,a),l.push(Ay(A,s));break;case"PtgRefN":A=t?dy(C[1][1],t,a):C[1][1],l.push(Ay(A,s));break;case"PtgRef3d":h=C[1][1],A=dy(C[1][2],i,a),y=yM(n,h,a),l.push(y+"!"+Ay(A,s));break;case"PtgFunc":case"PtgFuncVar":var E=C[1][0],_=C[1][1];E||(E=0),E&=127;var L=E==0?[]:l.slice(-E);l.length-=E,_==="User"&&(_=L.shift()),l.push(_+"("+L.join(",")+")");break;case"PtgBool":l.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(C[1]);break;case"PtgNum":l.push(String(C[1]));break;case"PtgStr":l.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(C[1]);break;case"PtgAreaN":m=nM(C[1][1],t?{s:t}:i,a),l.push(UB(m,a));break;case"PtgArea":m=nM(C[1][1],i,a),l.push(UB(m,a));break;case"PtgArea3d":h=C[1][1],m=C[1][2],y=yM(n,h,a),l.push(y+"!"+UB(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=C[1][2];var D=(n.names||[])[p-1]||(n[0]||[])[p],P=D?D.Name:"SH33TJSNAME"+String(p);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),l.push(P);break;case"PtgNameX":var k=C[1][1];p=C[1][2];var z;if(a.biff<=5)k<0&&(k=-k),n[k]&&(z=n[k][p]);else{var I="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][p]&&n[k][p].itab>0&&(I=n.SheetNames[n[k][p].itab-1]+"!"):I=n.SheetNames[p-1]+"!"),n[k]&&n[k][p])I+=n[k][p].Name;else if(n[0]&&n[0][p])I+=n[0][p].Name;else{var Q=(V$(n,k,a)||"").split(";;");Q[p-1]?I=Q[p-1]:I+="SH33TJSERRX"}l.push(I);break}z||(z={Name:"SH33TJSERRY"}),l.push(z.Name);break;case"PtgParen":var R="(",K=")";if(g>=0){switch(v="",r[0][g][1][0]){case 2:R=ss(" ",r[0][g][1][1])+R;break;case 3:R=ss("\r",r[0][g][1][1])+R;break;case 4:K=ss(" ",r[0][g][1][1])+K;break;case 5:K=ss("\r",r[0][g][1][1])+K;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}g=-1}l.push(R+l.pop()+K);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":A={c:C[1][1],r:C[1][0]};var ee={c:t.c,r:t.r};if(n.sharedf[$n(A)]){var Y=n.sharedf[$n(A)];l.push(ig(Y,i,ee,n,a))}else{var se=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(A.c<u[0].s.c||A.c>u[0].e.c)&&!(A.r<u[0].s.r||A.r>u[0].e.r)){l.push(ig(u[1],i,ee,n,a)),se=!0;break}se||l.push(C[1])}break;case"PtgArray":l.push("{"+SCe(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&X.indexOf(r[0][w][0])==-1){C=r[0][g];var Ae=!0;switch(C[1][0]){case 4:Ae=!1;case 0:v=ss(" ",C[1][1]);break;case 5:Ae=!1;case 1:v=ss("\r",C[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}l.push((Ae?v:"")+l.pop()+(Ae?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function jCe(r){if(r==null){var e=ut(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return R0(r);return R0(0)}function _Ce(r,e,t,n,a){var s=U0(e,t,a),i=jCe(r.v),l=ut(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=ut(r.bf.length),A=0;A<r.bf.length;++A)u[A]=r.bf[A];var h=Hi([s,i,l,u]);return h}function n5(r,e,t){var n=r.read_shift(4),a=NCe(r,n,t),s=r.read_shift(4),i=s>0?CCe(r,s,a,t):null;return[a,i]}var TCe=n5,a5=n5,kCe=n5,FCe=n5,OCe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},q$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},DCe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function PCe(r){var e="of:="+r.replace(U3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function ICe(r){return r.replace(/\./,"!")}var hy=typeof Map<"u";function z3(r,e,t){var n=0,a=r.length;if(t){if(hy?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=hy?t.get(e):t[e];n<s.length;++n)if(r[s[n]].t===e)return r.Count++,s[n]}}else for(;n<a;++n)if(r[n].t===e)return r.Count++,n;return r[a]={t:e},r.Count++,r.Unique++,t&&(hy?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function s5(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(CA=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=D2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=Aj(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function G$(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function yf(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],a=60,s=r.length;if(n==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){zK(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=n=a;break}}for(a=0;a!=s;++a)if(r[a].numFmtId===n)return a;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function LCe(r,e,t){if(r&&r["!ref"]){var n=va(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function MCe(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Ls(r[t])+'"/>';return e+"</mergeCells>"}function RCe(r,e,t,n,a){var s=!1,i={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,i.codeName=Uy(zn(c))}if(r&&r["!outline"]){var u={summaryBelow:1,summaryRight:1};r["!outline"].above&&(u.summaryBelow=0),r["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ot("outlinePr",null,u)}!s&&!l||(a[a.length]=Ot("sheetPr",l,i))}var UCe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],QCe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function HCe(r){var e={sheet:1};return UCe.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),QCe.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=k$(r.password).toString(16).toUpperCase()),Ot("sheetProtection",null,e)}function zCe(r){return G$(r),Ot("pageMargins",null,r)}function KCe(r,e){for(var t=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(t[t.length]=Ot("col",null,s5(a,n)));return t[t.length]="</cols>",t.join("")}function $Ce(r,e,t,n){var a=typeof r.ref=="string"?r.ref:Ls(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,i=Wl(a);i.s.r==i.e.r&&(i.e.r=Wl(e["!ref"]).e.r,a=Ls(i));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+t.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),Ot("autoFilter",null,{ref:a})}function VCe(r,e,t,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ot("sheetViews",Ot("sheetView",null,a),{})}function qCe(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var a="",s=r.t,i=r.v;if(r.t!=="z")switch(r.t){case"b":a=r.v?"1":"0";break;case"n":a=""+r.v;break;case"e":a=Tv[r.v];break;case"d":n&&n.cellDates?a=jo(r.v,-1).toISOString():(r=Al(r),r.t="n",a=""+(r.v=dl(jo(r.v)))),typeof r.z>"u"&&(r.z=ls[14]);break;default:a=r.v;break}var l=zi("v",zn(a)),c={r:e},u=yf(n.cellXfs,r,n);switch(u!==0&&(c.s=u),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=zi("v",""+z3(n.Strings,r.v,n.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=s&&(r.t=s,r.v=i),typeof r.f=="string"&&r.f){var A=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;l=Ot("f",zn(r.f),A)+(r.v!=null?l:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(c.cm=1),Ot("c",l,c)}function GCe(r,e,t,n){var a=[],s=[],i=va(r["!ref"]),l="",c,u="",A=[],h=0,p=0,m=r["!rows"],y=Array.isArray(r),g={r:u},v,w=-1;for(p=i.s.c;p<=i.e.c;++p)A[p]=uo(p);for(h=i.s.r;h<=i.e.r;++h){for(s=[],u=$i(h),p=i.s.c;p<=i.e.c;++p){c=A[p]+u;var S=y?(r[h]||[])[p]:r[c];S!==void 0&&(l=qCe(S,c,r,e))!=null&&s.push(l)}(s.length>0||m&&m[h])&&(g={r:u},m&&m[h]&&(v=m[h],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=P2(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=Ot("row",s.join(""),g))}if(m)for(;h<m.length;++h)m&&m[h]&&(g={r:h+1},v=m[h],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=P2(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=Ot("row","",g));return a.join("")}function W$(r,e,t,n){var a=[Ms,Ot("worksheet",null,{xmlns:kg[0],"xmlns:r":pi.r})],s=t.SheetNames[r],i=0,l="",c=t.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",A=va(u);if(A.e.c>16383||A.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575),u=Ls(A)}n||(n={}),c["!comments"]=[];var h=[];RCe(c,t,r,e,a),a[a.length]=Ot("dimension",null,{ref:u}),a[a.length]=VCe(c,e,r,t),e.sheetFormat&&(a[a.length]=Ot("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=KCe(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=GCe(c,e),l.length>0&&(a[a.length]=l)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=HCe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=$Ce(c["!autofilter"],c,t,r)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=MCe(c["!merges"]));var p=-1,m,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Rn(n,-1,zn(g[1].Target).replace(/#.*$/,""),yn.HLINK),m["r:id"]="rId"+y),(p=g[1].Target.indexOf("#"))>-1&&(m.location=zn(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=zn(g[1].Tooltip)),a[a.length]=Ot("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=zCe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=zi("ignoredErrors",Ot("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(y=Rn(n,-1,"../drawings/drawing"+(r+1)+".xml",yn.DRAW),a[a.length]=Ot("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=h),c["!comments"].length>0&&(y=Rn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",yn.VML),a[a.length]=Ot("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function WCe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function YCe(r,e,t){var n=ut(145),a=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;a.hpx?s=P2(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r,c:0},A=0;A<16;++A)if(!(e.s.c>A+1<<10||e.e.c<A<<10)){for(var h=-1,p=-1,m=A<<10;m<A+1<<10;++m){u.c=m;var y=Array.isArray(t)?(t[u.r]||[])[u.c]:t[$n(u)];y&&(h<0&&(h=m),p=m)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,p))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function XCe(r,e,t,n){var a=YCe(n,t,e);(a.length>17||(e["!rows"]||[])[n])&&wt(r,0,a)}var JCe=tm,ZCe=Og;function e5e(){}function t5e(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=dbe(r),t}function r5e(r,e,t){t==null&&(t=ut(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var a=1;a<3;++a)t.write_shift(1,0);return k2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),u$(r,t),t.slice(0,t.l)}function n5e(r){var e=Rc(r);return[e]}function a5e(r,e,t){return t==null&&(t=ut(8)),J0(e,t)}function s5e(r){var e=Z0(r);return[e]}function i5e(r,e,t){return t==null&&(t=ut(4)),em(e,t)}function o5e(r){var e=Rc(r),t=r.read_shift(1);return[e,t,"b"]}function l5e(r,e,t){return t==null&&(t=ut(9)),J0(e,t),t.write_shift(1,r.v?1:0),t}function c5e(r){var e=Z0(r),t=r.read_shift(1);return[e,t,"b"]}function u5e(r,e,t){return t==null&&(t=ut(5)),em(e,t),t.write_shift(1,r.v?1:0),t}function d5e(r){var e=Rc(r),t=r.read_shift(1);return[e,t,"e"]}function A5e(r,e,t){return t==null&&(t=ut(9)),J0(e,t),t.write_shift(1,r.v),t}function h5e(r){var e=Z0(r),t=r.read_shift(1);return[e,t,"e"]}function f5e(r,e,t){return t==null&&(t=ut(8)),em(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function m5e(r){var e=Rc(r),t=r.read_shift(4);return[e,t,"s"]}function p5e(r,e,t){return t==null&&(t=ut(12)),J0(e,t),t.write_shift(4,e.v),t}function g5e(r){var e=Z0(r),t=r.read_shift(4);return[e,t,"s"]}function x5e(r,e,t){return t==null&&(t=ut(8)),em(e,t),t.write_shift(4,e.v),t}function y5e(r){var e=Rc(r),t=Dg(r);return[e,t,"n"]}function v5e(r,e,t){return t==null&&(t=ut(16)),J0(e,t),R0(r.v,t),t}function b5e(r){var e=Z0(r),t=Dg(r);return[e,t,"n"]}function w5e(r,e,t){return t==null&&(t=ut(12)),em(e,t),R0(r.v,t),t}function C5e(r){var e=Rc(r),t=d$(r);return[e,t,"n"]}function N5e(r,e,t){return t==null&&(t=ut(12)),J0(e,t),A$(r.v,t),t}function S5e(r){var e=Z0(r),t=d$(r);return[e,t,"n"]}function B5e(r,e,t){return t==null&&(t=ut(8)),em(e,t),A$(r.v,t),t}function E5e(r){var e=Rc(r),t=P3(r);return[e,t,"is"]}function j5e(r){var e=Rc(r),t=Ao(r);return[e,t,"str"]}function _5e(r,e,t){return t==null&&(t=ut(12+4*r.v.length)),J0(e,t),yi(r.v,t),t.length>t.l?t.slice(0,t.l):t}function T5e(r){var e=Z0(r),t=Ao(r);return[e,t,"str"]}function k5e(r,e,t){return t==null&&(t=ut(8+4*r.v.length)),em(e,t),yi(r.v,t),t.length>t.l?t.slice(0,t.l):t}function F5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=r.read_shift(1),i=[a,s,"b"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}function O5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=r.read_shift(1),i=[a,s,"e"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}function D5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=Dg(r),i=[a,s,"n"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}function P5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=Ao(r),i=[a,s,"str"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}var I5e=tm,L5e=Og;function M5e(r,e){return e==null&&(e=ut(4)),e.write_shift(4,r),e}function R5e(r,e){var t=r.l+e,n=tm(r),a=I3(r),s=Ao(r),i=Ao(r),l=Ao(r);r.l=t;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function U5e(r,e){var t=ut(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Og({s:xi(r[0]),e:xi(r[0])},t),L3("rId"+e,t);var n=r[1].Target.indexOf("#"),a=n==-1?"":r[1].Target.slice(n+1);return yi(a||"",t),yi(r[1].Tooltip||"",t),yi("",t),t.slice(0,t.l)}function Q5e(){}function H5e(r,e,t){var n=r.l+e,a=h$(r),s=r.read_shift(1),i=[a];if(i[2]=s,t.cellFormula){var l=TCe(r,n-r.l,t);i[1]=l}else r.l=n;return i}function z5e(r,e,t){var n=r.l+e,a=tm(r),s=[a];if(t.cellFormula){var i=FCe(r,n-r.l,t);s[1]=i,r.l=n}else r.l=n;return s}function K5e(r,e,t){t==null&&(t=ut(18));var n=s5(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var Y$=["left","right","top","bottom","header","footer"];function $5e(r){var e={};return Y$.forEach(function(t){e[t]=Dg(r)}),e}function V5e(r,e){return e==null&&(e=ut(48)),G$(r),Y$.forEach(function(t){R0(r[t],e)}),e}function q5e(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function G5e(r,e,t){t==null&&(t=ut(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function W5e(r){var e=ut(24);return e.write_shift(4,4),e.write_shift(4,1),Og(r,e),e}function Y5e(r,e){return e==null&&(e=ut(66)),e.write_shift(2,r.password?k$(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function X5e(){}function J5e(){}function Z5e(r,e,t,n,a,s,i){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Al(e),e.z=e.z||ls[14],e.v=dl(jo(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r:t,c:n};switch(c.s=yf(a.cellXfs,e,a),e.l&&s["!links"].push([$n(c),e.l]),e.c&&s["!comments"].push([$n(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=z3(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,i?wt(r,18,x5e(e,c)):wt(r,7,p5e(e,c))):(c.t="str",i?wt(r,17,k5e(e,c)):wt(r,6,_5e(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?wt(r,13,B5e(e,c)):wt(r,2,N5e(e,c)):i?wt(r,16,w5e(e,c)):wt(r,5,v5e(e,c)),!0;case"b":return c.t="b",i?wt(r,15,u5e(e,c)):wt(r,4,l5e(e,c)),!0;case"e":return c.t="e",i?wt(r,14,f5e(e,c)):wt(r,3,A5e(e,c)),!0}return i?wt(r,12,i5e(e,c)):wt(r,1,a5e(e,c)),!0}function eNe(r,e,t,n){var a=va(e["!ref"]||"A1"),s,i="",l=[];wt(r,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var A=a.s.r;A<=u;++A){i=$i(A),XCe(r,e,a,A);var h=!1;if(A<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){A===a.s.r&&(l[p]=uo(p)),s=l[p]+i;var m=c?(e[A]||[])[p]:e[s];if(!m){h=!1;continue}h=Z5e(r,m,A,p,n,e,h)}}wt(r,146)}function tNe(r,e){!e||!e["!merges"]||(wt(r,177,M5e(e["!merges"].length)),e["!merges"].forEach(function(t){wt(r,176,L5e(t))}),wt(r,178))}function rNe(r,e){!e||!e["!cols"]||(wt(r,390),e["!cols"].forEach(function(t,n){t&&wt(r,60,K5e(n,t))}),wt(r,391))}function nNe(r,e){!e||!e["!ref"]||(wt(r,648),wt(r,649,W5e(va(e["!ref"]))),wt(r,650))}function aNe(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var a=Rn(t,-1,n[1].Target.replace(/#.*$/,""),yn.HLINK);wt(r,494,U5e(n,a))}}),delete e["!links"]}function sNe(r,e,t,n){if(e["!comments"].length>0){var a=Rn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",yn.VML);wt(r,551,L3("rId"+a)),e["!legacy"]=a}}function iNe(r,e,t,n){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:Ls(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var i=t.Workbook.Names,l=Wl(s);l.s.r==l.e.r&&(l.e.r=Wl(e["!ref"]).e.r,s=Ls(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+t.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),wt(r,161,Og(va(s))),wt(r,162)}}function oNe(r,e,t){wt(r,133),wt(r,137,G5e(e,t)),wt(r,138),wt(r,134)}function lNe(r,e){e["!protect"]&&wt(r,535,Y5e(e["!protect"]))}function cNe(r,e,t,n){var a=cl(),s=t.SheetNames[r],i=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}var c=va(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],wt(a,129),(t.vbaraw||i["!outline"])&&wt(a,147,r5e(l,i["!outline"])),wt(a,148,ZCe(c)),oNe(a,i,t.Workbook),rNe(a,i),eNe(a,i,r,e),lNe(a,i),iNe(a,i,t,r),tNe(a,i),aNe(a,i,n),i["!margins"]&&wt(a,476,V5e(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&nNe(a,i),sNe(a,i,r,n),wt(a,130),a.end()}function uNe(r,e){r.l+=10;var t=Ao(r);return{name:t}}var dNe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ANe(r){return!r.Workbook||!r.Workbook.WBProps?"false":z1e(r.Workbook.WBProps.date1904)?"true":"false"}var hNe="][*?/\\".split("");function X$(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return hNe.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function fNe(r,e,t){r.forEach(function(n,a){X$(n);for(var s=0;s<a;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var i=e&&e[a]&&e[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function mNe(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];fNe(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)LCe(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function J$(r){var e=[Ms];e[e.length]=Ot("workbook",null,{xmlns:kg[0],"xmlns:r":pi.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(dNe.forEach(function(l){r.Workbook.WBProps[l[0]]!=null&&r.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=r.Workbook.WBProps[l[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ot("workbookPr",null,n);var a=r.Workbook&&r.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var i={name:zn(r.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=Ot("sheet",null,i)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Ot("definedName",zn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function pNe(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=dj(r),t.name=Ao(r),t}function gNe(r,e){return e||(e=ut(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),L3(r.strRelID,e),yi(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function xNe(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?Ao(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function yNe(r,e){e||(e=ut(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),u$(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function vNe(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),s=Abe(r),i=kCe(r,0,t),l=I3(r);r.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function bNe(r,e){wt(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};wt(r,156,gNe(a))}wt(r,144)}function wNe(r,e){e||(e=ut(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return yi("SheetJS",e),yi(C2.version,e),yi(C2.version,e),yi("7262",e),e.length>e.l?e.slice(0,e.l):e}function CNe(r,e){e||(e=ut(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function NNe(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,a=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&a==-1?a=n:t[n].Hidden==1&&s==-1&&(s=n);s>a||(wt(r,135),wt(r,158,CNe(a)),wt(r,136))}}function SNe(r,e){var t=cl();return wt(t,131),wt(t,128,wNe()),wt(t,153,yNe(r.Workbook&&r.Workbook.WBProps||null)),NNe(t,r),bNe(t,r),wt(t,132),t.end()}function BNe(r,e,t){return(e.slice(-4)===".bin"?SNe:J$)(r)}function ENe(r,e,t,n,a){return(e.slice(-4)===".bin"?cNe:W$)(r,t,n,a)}function jNe(r,e,t){return(e.slice(-4)===".bin"?Vwe:D$)(r,t)}function _Ne(r,e,t){return(e.slice(-4)===".bin"?ywe:T$)(r,t)}function TNe(r,e,t){return(e.slice(-4)===".bin"?l2e:R$)(r)}function kNe(r){return(r.slice(-4)===".bin"?e2e:L$)()}function FNe(r,e){var t=[];return r.Props&&t.push(jbe(r.Props,e)),r.Custprops&&t.push(_be(r.Props,r.Custprops)),t.join("")}function ONe(){return""}function DNe(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var s=[];s.push(Ot("NumberFormat",null,{"ss:Format":zn(ls[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};t.push(Ot("Style",s.join(""),i))}),Ot("Styles",t.join(""))}function Z$(r){return Ot("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+Q3(r.Ref,{r:0,c:0})})}function PNe(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(Z$(a)))}return Ot("Names",t.join(""))}function INe(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var l=a[i];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(Z$(l)))}return s.join("")}function LNe(r,e,t,n){if(!r)return"";var a=[];if(r["!margins"]&&(a.push("<PageSetup>"),r["!margins"].header&&a.push(Ot("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&a.push(Ot("Footer",null,{"x:Margin":r["!margins"].footer})),a.push(Ot("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)a.push(Ot("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),r["!protect"]&&(a.push(zi("ProtectContents","True")),r["!protect"].objects&&a.push(zi("ProtectObjects","True")),r["!protect"].scenarios&&a.push(zi("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?a.push(zi("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&a.push(zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){r["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Ot("WorksheetOptions",a.join(""),{xmlns:Ml.x})}function MNe(r){return r.map(function(e){var t=H1e(e.t||""),n=Ot("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ot("Comment",n,{"ss:Author":e.a})}).join("")}function RNe(r,e,t,n,a,s,i){if(!r||r.v==null&&r.f==null)return"";var l={};if(r.f&&(l["ss:Formula"]="="+zn(Q3(r.f,i))),r.F&&r.F.slice(0,e.length)==e){var c=xi(r.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(r.l&&r.l.Target&&(l["ss:HRef"]=zn(r.l.Target),r.l.Tooltip&&(l["x:HRefScreenTip"]=zn(r.l.Tooltip))),t["!merges"])for(var u=t["!merges"],A=0;A!=u.length;++A)u[A].s.c!=i.c||u[A].s.r!=i.r||(u[A].e.c>u[A].s.c&&(l["ss:MergeAcross"]=u[A].e.c-u[A].s.c),u[A].e.r>u[A].s.r&&(l["ss:MergeDown"]=u[A].e.r-u[A].s.r));var h="",p="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(r.v);break;case"b":h="Boolean",p=r.v?"1":"0";break;case"e":h="Error",p=Tv[r.v];break;case"d":h="DateTime",p=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||ls[14]);break;case"s":h="String",p=Q1e(r.v||"");break}var m=yf(n.cellXfs,r,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=i.c+1;var y=r.v!=null?p:"",g=r.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(r.c||[]).length>0&&(g+=MNe(r.c)),Ot("Cell",g,l)}function UNe(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=O$(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function QNe(r,e,t,n){if(!r["!ref"])return"";var a=va(r["!ref"]),s=r["!merges"]||[],i=0,l=[];r["!cols"]&&r["!cols"].forEach(function(v,w){R3(v);var S=!!v.width,C=s5(w,v),E={"ss:Index":w+1};S&&(E["ss:Width"]=O2(C.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(Ot("Column",null,E))});for(var c=Array.isArray(r),u=a.s.r;u<=a.e.r;++u){for(var A=[UNe(u,(r["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var p=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>h)&&!(s[i].s.r>u)&&!(s[i].e.c<h)&&!(s[i].e.r<u)){(s[i].s.c!=h||s[i].s.r!=u)&&(p=!0);break}if(!p){var m={r:u,c:h},y=$n(m),g=c?(r[u]||[])[h]:r[y];A.push(RNe(g,y,r,e,t,n,m))}}A.push("</Row>"),A.length>2&&l.push(A.join(""))}return l.join("")}function HNe(r,e,t){var n=[],a=t.SheetNames[r],s=t.Sheets[a],i=s?INe(s,e,r,t):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?QNe(s,e,r,t):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(LNe(s,e,r,t)),n.join("")}function zNe(r,e){e||(e={}),r.SSF||(r.SSF=Al(ls)),r.SSF&&(e5(),ZC(r.SSF),e.revssf=t5(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(FNe(r,e)),t.push(ONe()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Ot("Worksheet",HNe(n,e,r),{"ss:Name":zn(r.SheetNames[n])}));return t[2]=DNe(r,e),t[3]=PNe(r),Ms+Ot("Workbook",t.join(""),{xmlns:Ml.ss,"xmlns:o":Ml.o,"xmlns:x":Ml.x,"xmlns:ss":Ml.ss,"xmlns:dt":Ml.dt,"xmlns:html":Ml.html})}var zB={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function KNe(r,e){var t=[],n=[],a=[],s=0,i,l=VL(sM,"n"),c=VL(iM,"n");if(r.Props)for(i=Vi(r.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(l,i[s])?t:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],r.Props[i[s]]]);if(r.Custprops)for(i=Vi(r.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(l,i[s])?t:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],r.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)C$.indexOf(a[s][0])>-1||v$.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&ta.utils.cfb_add(e,"/SummaryInformation",dM(n,zB.SI,c,iM)),(t.length||u.length)&&ta.utils.cfb_add(e,"/DocumentSummaryInformation",dM(t,zB.DSI,l,sM,u.length?u:null,zB.UDI))}function $Ne(r,e){var t=e||{},n=ta.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return ta.utils.cfb_add(n,a,eV(r,t)),t.biff==8&&(r.Props||r.Custprops)&&KNe(r,n),t.biff==8&&r.vbaraw&&c2e(n,ta.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var VNe={0:{f:WCe},1:{f:n5e},2:{f:C5e},3:{f:d5e},4:{f:o5e},5:{f:y5e},6:{f:j5e},7:{f:m5e},8:{f:P5e},9:{f:D5e},10:{f:F5e},11:{f:O5e},12:{f:s5e},13:{f:S5e},14:{f:h5e},15:{f:c5e},16:{f:b5e},17:{f:T5e},18:{f:g5e},19:{f:P3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vNe},40:{},42:{},43:{f:jwe},44:{f:Bwe},45:{f:kwe},46:{f:Owe},47:{f:Fwe},48:{},49:{f:sbe},50:{},51:{f:Wwe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iwe},62:{f:E5e},63:{f:t2e},64:{f:X5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nd,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:q5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:t5e},148:{f:JCe,p:16},151:{f:Q5e},152:{},153:{f:xNe},154:{},155:{},156:{f:pNe},157:{},158:{},159:{T:1,f:pwe},160:{T:-1},161:{T:1,f:tm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:I5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qwe},336:{T:-1},337:{f:Jwe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ewe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:H5e},427:{f:z5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:e5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:R5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:i2e},633:{T:1},634:{T:-1},635:{T:1,f:a2e},636:{T:-1},637:{f:cbe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uNe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:J5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(r,e,t,n){var a=e;if(!isNaN(a)){var s=n||(t||[]).length||0,i=r.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&F3(t)&&r.push(t)}}function qNe(r,e,t,n){var a=(t||[]).length||0;if(a<=8224)return Pt(r,e,t,a);var s=e;if(!isNaN(s)){for(var i=t.parts||[],l=0,c=0,u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;var A=r.next(4);for(A.write_shift(2,s),A.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u;c<a;){for(A=r.next(4),A.write_shift(2,60),u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;A.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u}}}function Fv(r,e,t){return r||(r=ut(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function GNe(r,e,t,n){var a=ut(9);return Fv(a,r,e),S$(t,n||"b",a),a}function WNe(r,e,t){var n=ut(8+2*t.length);return Fv(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function YNe(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?dl(jo(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Pt(r,2,uwe(t,n,a)):Pt(r,3,cwe(t,n,a));return;case"b":case"e":Pt(r,5,GNe(t,n,e.v,e.t));return;case"s":case"str":Pt(r,4,WNe(t,n,(e.v||"").slice(0,255)));return}Pt(r,1,Fv(null,t,n))}function XNe(r,e,t,n){var a=Array.isArray(e),s=va(e["!ref"]||"A1"),i,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Ls(s)}for(var u=s.s.r;u<=s.e.r;++u){l=$i(u);for(var A=s.s.c;A<=s.e.c;++A){u===s.s.r&&(c[A]=uo(A)),i=c[A]+l;var h=a?(e[u]||[])[A]:e[i];h&&YNe(r,h,u,A)}}}function JNe(r,e){for(var t=e||{},n=cl(),a=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Pt(n,t.biff==4?1033:t.biff==3?521:9,M3(r,16,t)),XNe(n,r.Sheets[r.SheetNames[a]],a,t),Pt(n,10),n.end()}function ZNe(r,e,t){Pt(r,49,Vbe({sz:12,name:"Arial"},t))}function eSe(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Pt(r,1054,Wbe(a,e[a],t))})}function tSe(r,e){var t=ut(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Pt(r,2151,t),t=ut(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),j$(va(e["!ref"]||"A1"),t),t.write_shift(4,4),Pt(r,2152,t)}function rSe(r,e){for(var t=0;t<16;++t)Pt(r,224,hM({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Pt(r,224,hM(n,0,e))})}function nSe(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Pt(r,440,nwe(n)),n[1].Tooltip&&Pt(r,2048,awe(n))}delete e["!links"]}function aSe(r,e){if(e){var t=0;e.forEach(function(n,a){++t<=256&&n&&Pt(r,125,owe(s5(a,n),a))})}}function sSe(r,e,t,n,a){var s=16+yf(a.cellXfs,e,a);if(e.v==null&&!e.bf){Pt(r,513,U0(t,n,s));return}if(e.bf)Pt(r,6,_Ce(e,t,n,a,s));else switch(e.t){case"d":case"n":var i=e.t=="d"?dl(jo(e.v)):e.v;Pt(r,515,Zbe(t,n,i,s));break;case"b":case"e":Pt(r,517,Jbe(t,n,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var l=z3(a.Strings,e.v,a.revStrings);Pt(r,253,qbe(t,n,l,s))}else Pt(r,516,Gbe(t,n,(e.v||"").slice(0,255),s,a));break;default:Pt(r,513,U0(t,n,s))}}function iSe(r,e,t){var n=cl(),a=t.SheetNames[r],s=t.Sheets[a]||{},i=(t||{}).Workbook||{},l=(i.Sheets||[])[r]||{},c=Array.isArray(s),u=e.biff==8,A,h="",p=[],m=va(s["!ref"]||"A1"),y=u?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}Pt(n,2057,M3(t,16,e)),Pt(n,13,Nc(1)),Pt(n,12,Nc(100)),Pt(n,15,Co(!0)),Pt(n,17,Co(!1)),Pt(n,16,R0(.001)),Pt(n,95,Co(!0)),Pt(n,42,Co(!1)),Pt(n,43,Co(!1)),Pt(n,130,Nc(1)),Pt(n,128,Xbe()),Pt(n,131,Co(!1)),Pt(n,132,Co(!1)),u&&aSe(n,s["!cols"]),Pt(n,512,Ybe(m,e)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){h=$i(g);for(var v=m.s.c;v<=m.e.c;++v){g===m.s.r&&(p[v]=uo(v)),A=p[v]+h;var w=c?(s[g]||[])[v]:s[A];w&&(sSe(n,w,g,v,e),u&&w.l&&s["!links"].push([A,w.l]))}}var S=l.CodeName||l.name||a;return u&&Pt(n,574,$be((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&Pt(n,229,rwe(s["!merges"])),u&&nSe(n,s),Pt(n,442,E$(S)),u&&tSe(n,s),Pt(n,10),n.end()}function oSe(r,e,t){var n=cl(),a=(r||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},l=t.biff==8,c=t.biff==5;if(Pt(n,2057,M3(r,5,t)),t.bookType=="xla"&&Pt(n,135),Pt(n,225,l?Nc(1200):null),Pt(n,193,Fbe(2)),c&&Pt(n,191),c&&Pt(n,192),Pt(n,226),Pt(n,92,Qbe("SheetJS",t)),Pt(n,66,Nc(l?1200:1252)),l&&Pt(n,353,Nc(0)),l&&Pt(n,448),Pt(n,317,lwe(r.SheetNames.length)),l&&r.vbaraw&&Pt(n,211),l&&r.vbaraw){var u=i.CodeName||"ThisWorkbook";Pt(n,442,E$(u))}Pt(n,156,Nc(17)),Pt(n,25,Co(!1)),Pt(n,18,Co(!1)),Pt(n,19,Nc(0)),l&&Pt(n,431,Co(!1)),l&&Pt(n,444,Nc(0)),Pt(n,61,Kbe()),Pt(n,64,Co(!1)),Pt(n,141,Nc(0)),Pt(n,34,Co(ANe(r)=="true")),Pt(n,14,Co(!0)),l&&Pt(n,439,Co(!1)),Pt(n,218,Nc(0)),ZNe(n,r,t),eSe(n,r.SSF,t),rSe(n,t),l&&Pt(n,352,Co(!1));var A=n.end(),h=cl();l&&Pt(h,140,swe()),l&&t.Strings&&qNe(h,252,zbe(t.Strings)),Pt(h,10);var p=h.end(),m=cl(),y=0,g=0;for(g=0;g<r.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*r.SheetNames[g].length;var v=A.length+y+p.length;for(g=0;g<r.SheetNames.length;++g){var w=s[g]||{};Pt(m,133,Hbe({pos:v,hs:w.Hidden||0,dt:0,name:r.SheetNames[g]},t)),v+=e[g].length}var S=m.end();if(y!=S.length)throw new Error("BS8 "+y+" != "+S.length);var C=[];return A.length&&C.push(A),S.length&&C.push(S),p.length&&C.push(p),Hi(C)}function lSe(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=Al(ls)),r&&r.SSF&&(e5(),ZC(r.SSF),t.revssf=t5(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,K3(t),t.cellXfs=[],yf(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var a=0;a<r.SheetNames.length;++a)n[n.length]=iSe(a,t,r);return n.unshift(oSe(r,n,t)),Hi(n)}function eV(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var a=Wl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return lSe(r,e);case 4:case 3:case 2:return JNe(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function cSe(r,e,t,n){for(var a=r["!merges"]||[],s=[],i=e.s.c;i<=e.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>t||a[u].s.c>i)&&!(a[u].e.r<t||a[u].e.c<i)){if(a[u].s.r<t||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var A=$n({r:t,c:i}),h=n.dense?(r[t]||[])[i]:r[A],p=h&&h.v!=null&&(h.h||U1e(h.w||(FA(h),h.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+A,s.push(Ot("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var uSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dSe="</body></html>";function ASe(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function tV(r,e){var t=e||{},n=t.header!=null?t.header:uSe,a=t.footer!=null?t.footer:dSe,s=[n],i=Wl(r["!ref"]);t.dense=Array.isArray(r),s.push(ASe(r,i,t));for(var l=i.s.r;l<=i.e.r;++l)s.push(cSe(r,i,l,t));return s.push("</table>"+a),s.join("")}function rV(r,e,t){var n=t||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?xi(n.origin):n.origin;a=i.r,s=i.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(r["!ref"]){var A=Wl(r["!ref"]);u.s.r=Math.min(u.s.r,A.s.r),u.s.c=Math.min(u.s.c,A.s.c),u.e.r=Math.max(u.e.r,A.e.r),u.e.c=Math.max(u.e.c,A.e.c),a==-1&&(u.e.r=a=A.e.r+1)}var h=[],p=0,m=r["!rows"]||(r["!rows"]=[]),y=0,g=0,v=0,w=0,S=0,C=0;for(r["!cols"]||(r["!cols"]=[]);y<l.length&&g<c;++y){var E=l[y];if(vM(E)){if(n.display)continue;m[g]={hidden:!0}}var _=E.children;for(v=w=0;v<_.length;++v){var L=_[v];if(!(n.display&&vM(L))){var D=L.hasAttribute("data-v")?L.getAttribute("data-v"):L.hasAttribute("v")?L.getAttribute("v"):K1e(L.innerHTML),P=L.getAttribute("data-z")||L.getAttribute("z");for(p=0;p<h.length;++p){var k=h[p];k.s.c==w+s&&k.s.r<g+a&&g+a<=k.e.r&&(w=k.e.c+1-s,p=-1)}C=+L.getAttribute("colspan")||1,((S=+L.getAttribute("rowspan")||1)>1||C>1)&&h.push({s:{r:g+a,c:w+s},e:{r:g+a+(S||1)-1,c:w+s+(C||1)-1}});var z={t:"s",v:D},I=L.getAttribute("data-t")||L.getAttribute("t")||"";D!=null&&(D.length==0?z.t=I||"z":n.raw||D.trim().length==0||I=="s"||(D==="TRUE"?z={t:"b",v:!0}:D==="FALSE"?z={t:"b",v:!1}:isNaN(wA(D))?isNaN(Ry(D).getDate())||(z={t:"d",v:jo(D)},n.cellDates||(z={t:"n",v:dl(z.v)}),z.z=n.dateNF||ls[14]):z={t:"n",v:wA(D)})),z.z===void 0&&P!=null&&(z.z=P);var Q="",R=L.getElementsByTagName("A");if(R&&R.length)for(var K=0;K<R.length&&!(R[K].hasAttribute("href")&&(Q=R[K].getAttribute("href"),Q.charAt(0)!="#"));++K);Q&&Q.charAt(0)!="#"&&(z.l={Target:Q}),n.dense?(r[g+a]||(r[g+a]=[]),r[g+a][w+s]=z):r[$n({c:w+s,r:g+a})]=z,u.e.c<w+s&&(u.e.c=w+s),w+=C}}++g}return h.length&&(r["!merges"]=(r["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,g-1+a),r["!ref"]=Ls(u),g>=c&&(r["!fullref"]=Ls((u.e.r=l.length-y+g-1+a,u))),r}function nV(r,e){var t=e||{},n=t.dense?[]:{};return rV(n,r,e)}function hSe(r,e){return X0(nV(r,e),e)}function vM(r){var e="",t=fSe(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function fSe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var mSe=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Ms+e}})(),bM=(function(){var r=function(s){return zn(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(s,i,l){var c=[];c.push('      <table:table table:name="'+zn(i.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,A=0,h=Wl(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(A=0;A<=h.e.c;++A)c.push("        <table:table-column"+(s["!cols"][A]?' table:style-name="co'+s["!cols"][A].ods+'"':"")+`></table:table-column>
`);var g="",v=s["!rows"]||[];for(u=0;u<h.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=h.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),A=0;A<h.s.c;++A)c.push(e);for(;A<=h.e.c;++A){var w=!1,S={},C="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>A)&&!(p[m].s.r>u)&&!(p[m].e.c<A)&&!(p[m].e.r<u)){(p[m].s.c!=A||p[m].s.r!=u)&&(w=!0),S["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,S["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(w){c.push(t);continue}var E=$n({r:u,c:A}),_=y?(s[u]||[])[A]:s[E];if(_&&_.f&&(S["table:formula"]=zn(PCe(_.f)),_.F&&_.F.slice(0,E.length)==E)){var L=Wl(_.F);S["table:number-matrix-columns-spanned"]=L.e.c-L.s.c+1,S["table:number-matrix-rows-spanned"]=L.e.r-L.s.r+1}if(!_){c.push(e);continue}switch(_.t){case"b":C=_.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=_.v?"true":"false";break;case"n":C=_.w||String(_.v||0),S["office:value-type"]="float",S["office:value"]=_.v||0;break;case"s":case"str":C=_.v==null?"":_.v,S["office:value-type"]="string";break;case"d":C=_.w||jo(_.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=jo(_.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(e);continue}var D=r(C);if(_.l&&_.l.Target){var P=_.l.Target;P=P.charAt(0)=="#"?"#"+ICe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),D=Ot("text:a",D,{"xlink:href":P.replace(/&/g,"&amp;")})}c.push("          "+Ot("table:table-cell",Ot("text:p",D,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var A=0;A<u["!cols"].length;++A)if(u["!cols"][A]){var h=u["!cols"][A];if(h.width==null&&h.wpx==null&&h.wch==null)continue;R3(h),h.ods=l;var p=u["!cols"][A].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var A=0;A<u["!rows"].length;++A)if(u["!rows"][A]){u["!rows"][A].ods=c;var h=u["!rows"][A].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,l){var c=[Ms],u=Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),A=Qy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+A+`>
`),c.push(x$().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=i.SheetNames.length;++h)c.push(n(i.Sheets[i.SheetNames[h]],i,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function aV(r,e){if(e.bookType=="fods")return bM(r,e);var t=j3(),n="",a=[],s=[];return n="mimetype",$r(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$r(t,n,bM(r,e)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",$r(t,n,mSe(r,e)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",$r(t,n,Ms+x$()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",$r(t,n,Ebe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$r(t,n,Sbe(a)),t}function I2(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function pSe(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):bu(Uy(r))}function gSe(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function of(r){var e=r.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function xSe(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)r[e+s]=a&255;r[e+15]|=t>=0?0:128}function Hy(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ln(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Dp(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ys(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=Hy(r,t),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=t[0];r[t[0]++]>=128;);l=r.slice(c,t[0])}break;case 5:i=4,l=r.slice(t[0],t[0]+i),t[0]+=i;break;case 1:i=8,l=r.slice(t[0],t[0]+i),t[0]+=i;break;case 2:i=Hy(r,t),l=r.slice(t[0],t[0]+i),t[0]+=i;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function Pi(r){var e=[];return r.forEach(function(t,n){t.forEach(function(a){a.data&&(e.push(Ln(n*8+a.type)),a.type==2&&e.push(Ln(a.data.length)),e.push(a.data))})}),of(e)}function hu(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=Hy(r,n),s=Ys(r.slice(n[0],n[0]+a));n[0]+=a;var i={id:Dp(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ys(l.data),u=Dp(c[3][0].data);i.messages.push({meta:c,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(i.merge=Dp(s[3][0].data)>>>0>0),t.push(i)}return t}function Zm(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Ln(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Ln(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Ln(i.data.length)}],n[2].push({data:Pi(i.meta),type:2})});var s=Pi(n);e.push(Ln(s.length)),e.push(s),a.forEach(function(i){return e.push(i)})}),of(e)}function ySe(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Hy(e,t),a=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var i=e[t[0]++]>>2;if(i<60)++i;else{var l=i-59;i=e[t[0]],l>1&&(i|=e[t[0]+1]<<8),l>2&&(i|=e[t[0]+2]<<16),l>3&&(i|=e[t[0]+3]<<24),i>>>=0,i++,t[0]+=l}a.push(e.slice(t[0],t[0]+i)),t[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[of(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var A=of(a);if(A.length!=n)throw new Error("Unexpected length: ".concat(A.length," != ").concat(n));return A}function fu(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(ySe(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return of(e)}function ep(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),a=new Uint8Array(4);e.push(a);var s=Ln(n),i=s.length;e.push(s),n<=60?(i++,e.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,t+=n}return of(e)}function KB(r,e){var t=new Uint8Array(32),n=I2(t),a=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,xSe(t,a,r.v),s|=1,a+=16;break;case"b":t[1]=6,n.setFloat64(a,r.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(a,e.indexOf(r.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),t.slice(0,a)}function $B(r,e){var t=new Uint8Array(32),n=I2(t),a=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(a,r.v,!0),s|=32,a+=8;break;case"b":t[2]=6,n.setFloat64(a,r.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(a,e.indexOf(r.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),t.slice(0,a)}function Eh(r){var e=Ys(r);return Hy(e[1][0].data)}function vSe(r,e,t){var n,a,s,i;if(!((n=r[6])!=null&&n[0])||!((a=r[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(s=r[8])==null?void 0:s[0])==null?void 0:i.data)&&Dp(r[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=I2(r[7][0].data),A=0,h=[],p=I2(r[4][0].data),m=0,y=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}u.setUint16(g*2,A,!0),p.setUint16(g*2,m,!0);var v,w;switch(typeof e[g]){case"string":v=KB({t:"s",v:e[g]},t),w=$B({t:"s",v:e[g]},t);break;case"number":v=KB({t:"n",v:e[g]},t),w=$B({t:"n",v:e[g]},t);break;case"boolean":v=KB({t:"b",v:e[g]},t),w=$B({t:"b",v:e[g]},t);break;default:throw new Error("Unsupported value "+e[g])}h.push(v),A+=v.length,y.push(w),m+=w.length,++c}for(r[2][0].data=Ln(c);g<r[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return r[6][0].data=of(h),r[3][0].data=of(y),c}function bSe(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Wl(t["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ls(n)));var s=L2(t,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(V){typeof V=="string"&&i.push(V)})});var l={},c=[],u=ta.read(e.numbers,{type:"base64"});u.FileIndex.map(function(H,V){return[H,u.FullPaths[V]]}).forEach(function(H){var V=H[0],G=H[1];if(V.type==2&&V.name.match(/\.iwa/)){var ae=V.content,ue=fu(ae),Se=hu(ue);Se.forEach(function(te){c.push(te.id),l[te.id]={deps:[],location:G,type:Dp(te.messages[0].meta[1][0].data)}})}}),c.sort(function(H,V){return H-V});var A=c.filter(function(H){return H>1}).map(function(H){return[H,Ln(H)]});u.FileIndex.map(function(H,V){return[H,u.FullPaths[V]]}).forEach(function(H){var V=H[0];if(H[1],!!V.name.match(/\.iwa/)){var G=hu(fu(V.content));G.forEach(function(ae){ae.messages.forEach(function(ue){A.forEach(function(Se){ae.messages.some(function(te){return Dp(te.meta[1][0].data)!=11006&&gSe(te.data,Se[1])})&&l[Se[0]].deps.push(ae.id)})})})}});for(var h=ta.find(u,l[1].location),p=hu(fu(h.content)),m,y=0;y<p.length;++y){var g=p[y];g.id==1&&(m=g)}var v=Eh(Ys(m.messages[0].data)[1][0].data);for(h=ta.find(u,l[v].location),p=hu(fu(h.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);for(v=Eh(Ys(m.messages[0].data)[2][0].data),h=ta.find(u,l[v].location),p=hu(fu(h.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);for(v=Eh(Ys(m.messages[0].data)[2][0].data),h=ta.find(u,l[v].location),p=hu(fu(h.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);var w=Ys(m.messages[0].data);{w[6][0].data=Ln(n.e.r+1),w[7][0].data=Ln(n.e.c+1);var S=Eh(w[46][0].data),C=ta.find(u,l[S].location),E=hu(fu(C.content));{for(var _=0;_<E.length&&E[_].id!=S;++_);if(E[_].id!=S)throw"Bad ColumnRowUIDMapArchive";var L=Ys(E[_].messages[0].data);L[1]=[],L[2]=[],L[3]=[];for(var D=0;D<=n.e.c;++D){var P=[];P[1]=P[2]=[{type:0,data:Ln(D+420690)}],L[1].push({type:2,data:Pi(P)}),L[2].push({type:0,data:Ln(D)}),L[3].push({type:0,data:Ln(D)})}L[4]=[],L[5]=[],L[6]=[];for(var k=0;k<=n.e.r;++k)P=[],P[1]=P[2]=[{type:0,data:Ln(k+726270)}],L[4].push({type:2,data:Pi(P)}),L[5].push({type:0,data:Ln(k)}),L[6].push({type:0,data:Ln(k)});E[_].messages[0].data=Pi(L)}C.content=ep(Zm(E)),C.size=C.content.length,delete w[46];var z=Ys(w[4][0].data);{z[7][0].data=Ln(n.e.r+1);var I=Ys(z[1][0].data),Q=Eh(I[2][0].data);C=ta.find(u,l[Q].location),E=hu(fu(C.content));{if(E[0].id!=Q)throw"Bad HeaderStorageBucket";var R=Ys(E[0].messages[0].data);for(k=0;k<s.length;++k){var K=Ys(R[2][0].data);K[1][0].data=Ln(k),K[4][0].data=Ln(s[k].length),R[2][k]={type:R[2][0].type,data:Pi(K)}}E[0].messages[0].data=Pi(R)}C.content=ep(Zm(E)),C.size=C.content.length;var ee=Eh(z[2][0].data);C=ta.find(u,l[ee].location),E=hu(fu(C.content));{if(E[0].id!=ee)throw"Bad HeaderStorageBucket";for(R=Ys(E[0].messages[0].data),D=0;D<=n.e.c;++D)K=Ys(R[2][0].data),K[1][0].data=Ln(D),K[4][0].data=Ln(n.e.r+1),R[2][D]={type:R[2][0].type,data:Pi(K)};E[0].messages[0].data=Pi(R)}C.content=ep(Zm(E)),C.size=C.content.length;var Y=Eh(z[4][0].data);(function(){for(var H=ta.find(u,l[Y].location),V=hu(fu(H.content)),G,ae=0;ae<V.length;++ae){var ue=V[ae];ue.id==Y&&(G=ue)}var Se=Ys(G.messages[0].data);{Se[3]=[];var te=[];i.forEach(function(Ee,Ue){te[1]=[{type:0,data:Ln(Ue)}],te[2]=[{type:0,data:Ln(1)}],te[3]=[{type:2,data:pSe(Ee)}],Se[3].push({type:2,data:Pi(te)})})}G.messages[0].data=Pi(Se);var pe=Zm(V),ke=ep(pe);H.content=ke,H.size=H.content.length})();var se=Ys(z[3][0].data);{var X=se[1][0];delete se[2];var Ae=Ys(X.data);{var ge=Eh(Ae[2][0].data);(function(){for(var H=ta.find(u,l[ge].location),V=hu(fu(H.content)),G,ae=0;ae<V.length;++ae){var ue=V[ae];ue.id==ge&&(G=ue)}var Se=Ys(G.messages[0].data);{delete Se[6],delete se[7];var te=new Uint8Array(Se[5][0].data);Se[5]=[];for(var pe=0,ke=0;ke<=n.e.r;++ke){var Ee=Ys(te);pe+=vSe(Ee,s[ke],i),Ee[1][0].data=Ln(ke),Se[5].push({data:Pi(Ee),type:2})}Se[1]=[{type:0,data:Ln(n.e.c+1)}],Se[2]=[{type:0,data:Ln(n.e.r+1)}],Se[3]=[{type:0,data:Ln(pe)}],Se[4]=[{type:0,data:Ln(n.e.r+1)}]}G.messages[0].data=Pi(Se);var Ue=Zm(V),je=ep(Ue);H.content=je,H.size=H.content.length})()}X.data=Pi(Ae)}z[3][0].data=Pi(se)}w[4][0].data=Pi(z)}m.messages[0].data=Pi(w);var Z=Zm(p),O=ep(Z);return h.content=O,h.size=h.content.length,u}function wSe(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function K3(r){wSe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function CSe(r,e){return e.bookType=="ods"?aV(r,e):e.bookType=="numbers"?bSe(r,e):e.bookType=="xlsb"?NSe(r,e):SSe(r,e)}function NSe(r,e){Np=1024,r&&!r.SSF&&(r.SSF=Al(ls)),r&&r.SSF&&(e5(),ZC(r.SSF),e.revssf=t5(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,hy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=U$.indexOf(e.bookType)>-1,a=m$();K3(e=e||{});var s=j3(),i="",l=0;if(e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),i="docProps/core.xml",$r(s,i,y$(r.Props,e)),a.coreprops.push(i),Rn(e.rels,2,i,yn.CORE_PROPS),i="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,$r(s,i,b$(r.Props)),a.extprops.push(i),Rn(e.rels,3,i,yn.EXT_PROPS),r.Custprops!==r.Props&&Vi(r.Custprops||{}).length>0&&(i="docProps/custom.xml",$r(s,i,w$(r.Custprops)),a.custprops.push(i),Rn(e.rels,4,i,yn.CUST_PROPS)),l=1;l<=r.SheetNames.length;++l){var A={"!id":{}},h=r.Sheets[r.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";if(i="xl/worksheets/sheet"+l+"."+t,$r(s,i,ENe(l-1,i,e,r,A)),a.sheets.push(i),Rn(e.wbrels,-1,"worksheets/sheet"+l+"."+t,yn.WS[0]),h){var m=h["!comments"],y=!1,g="";m&&m.length>0&&(g="xl/comments"+l+"."+t,$r(s,g,TNe(m,g)),a.comments.push(g),Rn(A,-1,"../comments"+l+"."+t,yn.CMNT),y=!0),h["!legacy"]&&y&&$r(s,"xl/drawings/vmlDrawing"+l+".vml",M$(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}A["!id"].rId1&&$r(s,g$(i),Fp(A))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+t,$r(s,i,_Ne(e.Strings,i,e)),a.strs.push(i),Rn(e.wbrels,-1,"sharedStrings."+t,yn.SST)),i="xl/workbook."+t,$r(s,i,BNe(r,i)),a.workbooks.push(i),Rn(e.rels,1,i,yn.WB),i="xl/theme/theme1.xml",$r(s,i,I$(r.Themes,e)),a.themes.push(i),Rn(e.wbrels,-1,"theme/theme1.xml",yn.THEME),i="xl/styles."+t,$r(s,i,jNe(r,i,e)),a.styles.push(i),Rn(e.wbrels,-1,"styles."+t,yn.STY),r.vbaraw&&n&&(i="xl/vbaProject.bin",$r(s,i,r.vbaraw),a.vba.push(i),Rn(e.wbrels,-1,"vbaProject.bin",yn.VBA)),i="xl/metadata."+t,$r(s,i,kNe(i)),a.metadata.push(i),Rn(e.wbrels,-1,"metadata."+t,yn.XLMETA),$r(s,"[Content_Types].xml",p$(a,e)),$r(s,"_rels/.rels",Fp(e.rels)),$r(s,"xl/_rels/workbook."+t+".rels",Fp(e.wbrels)),delete e.revssf,delete e.ssf,s}function SSe(r,e){Np=1024,r&&!r.SSF&&(r.SSF=Al(ls)),r&&r.SSF&&(e5(),ZC(r.SSF),e.revssf=t5(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,hy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=U$.indexOf(e.bookType)>-1,a=m$();K3(e=e||{});var s=j3(),i="",l=0;if(e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),i="docProps/core.xml",$r(s,i,y$(r.Props,e)),a.coreprops.push(i),Rn(e.rels,2,i,yn.CORE_PROPS),i="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,$r(s,i,b$(r.Props)),a.extprops.push(i),Rn(e.rels,3,i,yn.EXT_PROPS),r.Custprops!==r.Props&&Vi(r.Custprops||{}).length>0&&(i="docProps/custom.xml",$r(s,i,w$(r.Custprops)),a.custprops.push(i),Rn(e.rels,4,i,yn.CUST_PROPS));var A=["SheetJ5"];for(e.tcid=0,l=1;l<=r.SheetNames.length;++l){var h={"!id":{}},p=r.Sheets[r.SheetNames[l-1]],m=(p||{})["!type"]||"sheet";if(i="xl/worksheets/sheet"+l+"."+t,$r(s,i,W$(l-1,e,r,h)),a.sheets.push(i),Rn(e.wbrels,-1,"worksheets/sheet"+l+"."+t,yn.WS[0]),p){var y=p["!comments"],g=!1,v="";if(y&&y.length>0){var w=!1;y.forEach(function(S){S[1].forEach(function(C){C.T==!0&&(w=!0)})}),w&&(v="xl/threadedComments/threadedComment"+l+"."+t,$r(s,v,r2e(y,A,e)),a.threadedcomments.push(v),Rn(h,-1,"../threadedComments/threadedComment"+l+"."+t,yn.TCMNT)),v="xl/comments"+l+"."+t,$r(s,v,R$(y)),a.comments.push(v),Rn(h,-1,"../comments"+l+"."+t,yn.CMNT),g=!0}p["!legacy"]&&g&&$r(s,"xl/drawings/vmlDrawing"+l+".vml",M$(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&$r(s,g$(i),Fp(h))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+t,$r(s,i,T$(e.Strings,e)),a.strs.push(i),Rn(e.wbrels,-1,"sharedStrings."+t,yn.SST)),i="xl/workbook."+t,$r(s,i,J$(r)),a.workbooks.push(i),Rn(e.rels,1,i,yn.WB),i="xl/theme/theme1.xml",$r(s,i,I$(r.Themes,e)),a.themes.push(i),Rn(e.wbrels,-1,"theme/theme1.xml",yn.THEME),i="xl/styles."+t,$r(s,i,D$(r,e)),a.styles.push(i),Rn(e.wbrels,-1,"styles."+t,yn.STY),r.vbaraw&&n&&(i="xl/vbaProject.bin",$r(s,i,r.vbaraw),a.vba.push(i),Rn(e.wbrels,-1,"vbaProject.bin",yn.VBA)),i="xl/metadata."+t,$r(s,i,L$()),a.metadata.push(i),Rn(e.wbrels,-1,"metadata."+t,yn.XLMETA),A.length>1&&(i="xl/persons/person.xml",$r(s,i,n2e(A)),a.people.push(i),Rn(e.wbrels,-1,"persons/person.xml",yn.PEOPLE)),$r(s,"[Content_Types].xml",p$(a,e)),$r(s,"_rels/.rels",Fp(e.rels)),$r(s,"xl/_rels/workbook."+t+".rels",Fp(e.wbrels)),delete e.revssf,delete e.ssf,s}function BSe(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=kA(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function sV(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return jv(e.file,ta.write(r,{type:En?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ta.write(r,e)}function ESe(r,e){var t=Al(e||{}),n=CSe(r,t);return jSe(n,t)}function jSe(r,e){var t={},n=En?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=r.FullPaths?ta.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(JC(a))}return e.password&&typeof encrypt_agile<"u"?sV(encrypt_agile(a,e.password),e):e.type==="file"?jv(e.file,a):e.type=="string"?cy(a):a}function _Se(r,e){var t=e||{},n=$Ne(r,t);return sV(n,t)}function cd(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return My(Uy(n));case"binary":return Uy(n);case"string":return r;case"file":return jv(e.file,n,"utf8");case"buffer":return En?KA(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):cd(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function TSe(r,e){switch(e.type){case"base64":return My(r);case"binary":return r;case"string":return r;case"file":return jv(e.file,r,"binary");case"buffer":return En?KA(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function gb(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?My(t):e.type=="string"?cy(t):t;case"file":return jv(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function iV(r,e){a1e(),mNe(r);var t=Al(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=iV(r,t);return t.type="array",JC(n)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=r.SheetNames.indexOf(t.sheet),!r.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return cd(zNe(r,t),t);case"slk":case"sylk":return cd(Awe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"htm":case"html":return cd(tV(r.Sheets[r.SheetNames[a]],t),t);case"txt":return TSe(oV(r.Sheets[r.SheetNames[a]],t),t);case"csv":return cd($3(r.Sheets[r.SheetNames[a]],t),t,"\uFEFF");case"dif":return cd(hwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"dbf":return gb(dwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"prn":return cd(fwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"rtf":return cd(bwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"eth":return cd(_$.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"fods":return cd(aV(r,t),t);case"wk1":return gb(fM.sheet_to_wk1(r.Sheets[r.SheetNames[a]],t),t);case"wk3":return gb(fM.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),gb(eV(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),_Se(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ESe(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function kSe(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function Ov(r,e,t){var n={};return n.type="file",n.file=e,kSe(n),iV(r,n)}function FSe(r,e,t,n,a,s,i,l){var c=$i(t),u=l.defval,A=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!i||r[t])for(var m=e.s.c;m<=e.e.c;++m){var y=i?r[t][m]:r[n[m]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[m]!=null&&(p[s[m]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(g==null)if(y.t=="e"&&g===null)p[s[m]]=null;else if(u!==void 0)p[s[m]]=u;else if(A&&g===null)p[s[m]]=null;else continue;else p[s[m]]=A&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:FA(y,g,l);g!=null&&(h=!1)}}return{row:p,isempty:h}}function L2(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},A=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof A){case"string":c=va(A);break;case"number":c=va(r["!ref"]),c.s.r=A;break;default:c=A}n>0&&(a=0);var h=$i(c.s.r),p=[],m=[],y=0,g=0,v=Array.isArray(r),w=c.s.r,S=0,C={};v&&!r[w]&&(r[w]=[]);var E=u.skipHidden&&r["!cols"]||[],_=u.skipHidden&&r["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(E[S]||{}).hidden)switch(p[S]=uo(S),t=v?r[w][S]:r[p[S]+h],n){case 1:s[S]=S-c.s.c;break;case 2:s[S]=p[S];break;case 3:s[S]=u.header[S-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=i=FA(t,null,u),g=C[i]||0,!g)C[i]=1;else{do l=i+"_"+g++;while(C[l]);C[i]=g,C[l]=1}s[S]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(_[w]||{}).hidden){var L=FSe(r,c,w,p,n,s,v,u);(L.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=L.row)}return m.length=y,m}var wM=/"/g;function OSe(r,e,t,n,a,s,i,l){for(var c=!0,u=[],A="",h=$i(t),p=e.s.c;p<=e.e.c;++p)if(n[p]){var m=l.dense?(r[t]||[])[p]:r[n[p]+h];if(m==null)A="";else if(m.v!=null){c=!1,A=""+(l.rawNumbers&&m.t=="n"?m.v:FA(m,null,l));for(var y=0,g=0;y!==A.length;++y)if((g=A.charCodeAt(y))===a||g===s||g===34||l.forceQuotes){A='"'+A.replace(wM,'""')+'"';break}A=="ID"&&(A='"ID"')}else m.f!=null&&!m.F?(c=!1,A="="+m.f,A.indexOf(",")>=0&&(A='"'+A.replace(wM,'""')+'"')):A="";u.push(A)}return l.blankrows===!1&&c?null:u.join(i)}function $3(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var a=va(r["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),A="",h=[];n.dense=Array.isArray(r);for(var p=n.skipHidden&&r["!cols"]||[],m=n.skipHidden&&r["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(p[y]||{}).hidden||(h[y]=uo(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(A=OSe(r,a,v,h,i,c,s,n),A!=null&&(n.strip&&(A=A.replace(u,"")),(A||n.blankrows!==!1)&&t.push((g++?l:"")+A)));return delete n.dense,t.join("")}function oV(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=$3(r,e);return t}function DSe(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=va(r["!ref"]),s="",i=[],l,c=[],u=Array.isArray(r);for(l=a.s.c;l<=a.e.c;++l)i[l]=uo(l);for(var A=a.s.r;A<=a.e.r;++A)for(s=$i(A),l=a.s.c;l<=a.e.c;++l)if(e=i[l]+s,t=u?(r[A]||[])[l]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}c[c.length]=e+"="+n}return c}function lV(r,e,t){var n=t||{},a=+!n.skipHeader,s=r||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}var u,A={s:{c:0,r:0},e:{c:l,r:i+e.length-1+a}};if(s["!ref"]){var h=va(s["!ref"]);A.e.c=Math.max(A.e.c,h.e.c),A.e.r=Math.max(A.e.r,h.e.r),i==-1&&(i=h.e.r+1,A.e.r=i+e.length-1+a)}else i==-1&&(i=0,A.e.r=e.length-1+a);var p=n.header||[],m=0;e.forEach(function(g,v){Vi(g).forEach(function(w){(m=p.indexOf(w))==-1&&(p[m=p.length]=w);var S=g[w],C="z",E="",_=$n({c:l+m,r:i+v+a});u=zy(s,_),S&&typeof S=="object"&&!(S instanceof Date)?s[_]=S:(typeof S=="number"?C="n":typeof S=="boolean"?C="b":typeof S=="string"?C="s":S instanceof Date?(C="d",n.cellDates||(C="n",S=dl(S)),E=n.dateNF||ls[14]):S===null&&n.nullError&&(C="e",S=0),u?(u.t=C,u.v=S,delete u.w,delete u.R,E&&(u.z=E)):s[_]=u={t:C,v:S},E&&(u.z=E))})}),A.e.c=Math.max(A.e.c,l+p.length-1);var y=$i(i);if(a)for(m=0;m<p.length;++m)s[uo(m+l)+y]={t:"s",v:p[m]};return s["!ref"]=Ls(A),s}function PSe(r,e){return lV(null,r,e)}function zy(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=xi(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?zy(r,$n(e)):zy(r,$n({r:e,c:t||0}))}function ISe(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function LSe(){return{SheetNames:[],Sheets:{}}}function MSe(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=i+a)!=-1;++a);}if(X$(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function RSe(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=ISe(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function USe(r,e){return r.z=e,r}function cV(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function QSe(r,e,t){return cV(r,"#"+e,t)}function HSe(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function zSe(r,e,t,n){for(var a=typeof e!="string"?e:va(e),s=typeof e=="string"?e:Ls(e),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=zy(r,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=t,n&&(c.D=!0))}return r}var _o={encode_col:uo,encode_row:$i,encode_cell:$n,encode_range:Ls,decode_col:D3,decode_row:O3,split_cell:abe,decode_cell:xi,decode_range:Wl,format_cell:FA,sheet_add_aoa:c$,sheet_add_json:lV,sheet_add_dom:rV,aoa_to_sheet:Fg,json_to_sheet:PSe,table_to_sheet:nV,table_to_book:hSe,sheet_to_csv:$3,sheet_to_txt:oV,sheet_to_json:L2,sheet_to_html:tV,sheet_to_formulae:DSe,sheet_to_row_object_array:L2,sheet_get_cell:zy,book_new:LSe,book_append_sheet:MSe,book_set_sheet_visibility:RSe,cell_set_number_format:USe,cell_set_hyperlink:cV,cell_set_internal_link:QSe,cell_add_comment:HSe,sheet_set_array_formula:zSe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const KSe=({isOpen:r,onClose:e})=>{const{projects:t,addTimesheet:n}=is(),{researchProjects:a}=nf(),s=Bo(),[i,l]=B.useState("project"),[c,u]=B.useState({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),A=t,p=(Array.isArray(a)?a:[]).filter(g=>g.status==="planning"||g.status==="in-progress"),m=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management (E.g.: Business/Site Discussion, Proposal Preparation or Quotations)"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],y=async g=>{if(g.preventDefault(),i==="project"&&!c.projectId){ye.error("Please select a project");return}if(i==="research"&&!c.researchId){ye.error("Please select a research project");return}if(i==="project"&&!c.workCategory){ye.error("Please select a work category");return}if(c.hours<=0){ye.error("Please enter a valid number of hours");return}let v="",w="";if(i==="project"?(v=t.find(C=>C.id===c.projectId)?.projectCode||"",w="Project"):(v=a.find(C=>C.id===c.researchId)?.id||"",w="Research"),i==="project"){const S={date:c.date,engineerId:s?.userId||"",projectId:c.projectId,workCategory:c.workCategory,description:c.description,hours:c.hours};try{await n(S),ye.success(` Timesheet Entry Created!
${w}: ${v}
Hours: ${c.hours} hrs
Project hours and finance analytics updated!`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(C){ye.error("Failed to create timesheet entry"),Rt.error("Error creating timesheet:",C)}}else{const S={projectId:c.researchId,teamMemberId:s?.userId||"",teamMemberName:s?.displayName||"",date:c.date,hoursLogged:c.hours,description:c.description,researchCategory:c.workCategory||"General",status:"approved"};try{await nf.getState().logTimesheetHours(c.researchId,S),ye.success(` Research Timesheet Entry Created!
Research: ${v}
Hours: ${c.hours} hrs`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(C){ye.error("Failed to create research timesheet entry"),Rt.error("Error:",C)}}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(To,{className:"w-6 h-6 text-primary-600"}),"Add Timesheet Entry"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Log your work hours"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-gray-200",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["What are you working on? ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>{l("project"),u(g=>({...g,researchId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="project"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(Cu,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Project"})]}),o.jsxs("button",{type:"button",onClick:()=>{l("research"),u(g=>({...g,projectId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="research"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(T0,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Research"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:c.date,onChange:g=>u({...c,date:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(To,{className:"w-4 h-4 inline mr-1"}),"Hours ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",value:c.hours,onChange:g=>u({...c,hours:parseFloat(g.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,step:"0.1",min:"0"})]})]}),i==="project"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cu,{className:"w-4 h-4 inline mr-1"}),"Select Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.projectId,onChange:g=>u({...c,projectId:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a project..."}),A.map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Showing ",A.length," active projects"]})]}):o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(T0,{className:"w-4 h-4 inline mr-1"}),"Select Research Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.researchId,onChange:g=>u({...c,researchId:g.target.value}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a research project..."}),p.map(g=>o.jsxs("option",{value:g.id,children:[g.researchCode," - ",g.title]},g.id))]}),o.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Showing ",p.length," active research projects"]})]}),i==="project"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Work Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.workCategory,onChange:g=>u({...c,workCategory:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category..."}),m.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Description (Optional)"]}),o.jsx("textarea",{value:c.description,onChange:g=>u({...c,description:g.target.value}),placeholder:"Describe what you worked on...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:s.displayName.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.displayName}),o.jsx("p",{className:"text-xs text-gray-600",children:s.email}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This entry will be logged under your account"})]})]})}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Auto-Sync Enabled:"})," When you add a timesheet entry, it automatically updates:"]}),o.jsxs("ul",{className:"text-xs text-green-700 mt-2 ml-4 space-y-1 list-disc",children:[o.jsx("li",{children:"Project actual hours"}),o.jsx("li",{children:"Finance base cost calculations"}),o.jsx("li",{children:"Timesheet reports"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Add Entry"})]})]})]})})]}):null},$Se=({isOpen:r,onClose:e,timesheet:t,onUpdate:n})=>{const{projects:a}=is(),[s,i]=B.useState({hours:0,workCategory:"engineering",description:""});B.useEffect(()=>{t&&i({hours:t.hours,workCategory:t.workCategory,description:t.description||""})},[t,r]);const l=A=>{if(A.preventDefault(),!s.hours||s.hours<=0){ye.error("Hours must be greater than 0");return}if(s.hours>24){ye.error("Hours cannot exceed 24 per day");return}if(!s.description.trim()){ye.error("Description is required");return}if(t){const h={...t,hours:s.hours,workCategory:s.workCategory,description:s.description};n&&n(h),ye.success("Timesheet updated successfully!"),e()}};if(!r||!t)return null;const c=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],u=a.find(A=>A.id===t.projectId);return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Timesheet Entry"}),o.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Project"}),o.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[u?.projectCode," - ",u?.title||"Unknown"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:new Date(t.date).toLocaleDateString()})]})]})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hours Worked *"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"24",value:s.hours,onChange:A=>i({...s,hours:parseFloat(A.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"8"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be between 0.5 and 24 hours"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Category *"}),o.jsx("select",{value:s.workCategory,onChange:A=>i({...s,workCategory:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:c.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:s.description,onChange:A=>i({...s,description:A.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe what work was done..."})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Update Entry"})]})]})]})]})})},VSe=()=>{const{timesheets:r,projects:e,fetchTimesheets:t,fetchProjects:n,updateTimesheet:a,deleteTimesheet:s}=is(),{teamMembers:i,fetchTeamMembers:l}=Oo(),{researchTimesheets:c,fetchResearchProjects:u,fetchResearchTimesheets:A}=nf(),[h,p]=B.useState("projects"),[m,y]=B.useState(""),[g,v]=B.useState(""),[w,S]=B.useState(""),[C,E]=B.useState(""),[_,L]=B.useState(!1),[D,P]=B.useState(!1),[k,z]=B.useState(null),[I,Q]=B.useState({isOpen:!1}),[R,K]=B.useState(!1),[ee,Y]=B.useState(!1),[se,X]=B.useState("date"),[Ae,ge]=B.useState("desc"),[Z,O]=B.useState("date"),[H,V]=B.useState("desc"),G=B.useRef(null),ae=[g,w,C,m].filter(Boolean).length,ue=B.useCallback(()=>{const Be={};g&&(Be.engineerId=g),w&&(Be.startDate=w),C&&(Be.endDate=C),t(Object.keys(Be).length>0?Be:void 0)},[g,w,C,t]);B.useEffect(()=>{t(),n(),l(),u(),A();const Be=new Date;y(`${Be.getFullYear()}-${String(Be.getMonth()+1).padStart(2,"0")}`)},[]),B.useEffect(()=>{ue()},[g,w,C]),B.useEffect(()=>{const Be=st=>{G.current&&!G.current.contains(st.target)&&K(!1)};return document.addEventListener("mousedown",Be),()=>document.removeEventListener("mousedown",Be)},[]);const Se=B.useMemo(()=>(Array.isArray(r)?r:[]).filter(Be=>{if(!m)return!0;const st=new Date(Be.date);return`${st.getFullYear()}-${String(st.getMonth()+1).padStart(2,"0")}`===m}).sort((Be,st)=>{const lt=Tt=>{switch(se){case"date":return new Date(Tt.date).getTime();case"engineer":return(Tt.engineerName||"").toLowerCase();case"projectCode":return(Tt.projectCode||"").toLowerCase();case"projectName":return(e.find(Br=>Br.id===Tt.projectId)?.title||Tt.projectTitle||"").toLowerCase();case"category":return je(Tt.workCategory).toLowerCase();case"hours":return Tt.hours||0;default:return new Date(Tt.date).getTime()}},Zt=lt(Be),It=lt(st);return typeof Zt=="string"&&typeof It=="string"?Ae==="asc"?Zt.localeCompare(It):It.localeCompare(Zt):Ae==="asc"?Zt-It:It-Zt}),[r,m,e,se,Ae]),te=B.useMemo(()=>(Array.isArray(c)?c:[]).filter(Be=>{if(!m)return!0;const st=new Date(Be.date);return`${st.getFullYear()}-${String(st.getMonth()+1).padStart(2,"0")}`===m}).sort((Be,st)=>{const lt=Tt=>{switch(Z){case"date":return new Date(Tt.date).getTime();case"researcher":return(Tt.teamMemberName||Tt.researcherName||"").toLowerCase();case"project":return(Tt.projectTitle||Tt.researchProjectTitle||"").toLowerCase();case"category":return(Tt.researchCategory||"").toLowerCase();case"hours":return Tt.hoursLogged||Tt.hours||0;case"status":return{completed:0,"in-progress":1,planning:2,"on-hold":3,archived:4}[Tt.status]??5;default:return new Date(Tt.date).getTime()}},Zt=lt(Be),It=lt(st);return typeof Zt=="string"&&typeof It=="string"?H==="asc"?Zt.localeCompare(It):It.localeCompare(Zt):H==="asc"?Zt-It:It-Zt}),[c,m,Z,H]),pe=Se.reduce((Be,st)=>Be+parseFloat(st.hours||0),0),ke=te.reduce((Be,st)=>Be+parseFloat(st.hoursLogged||st.hours||0),0),Ee=h==="projects"?Se:te,Ue=h==="projects"?pe:ke;Ee.length>0&&Ue/Ee.length;const je=Be=>{switch(Be){case"engineering":return"Engineering";case"project-management":return"Project Management";case"measurement-site":return"Measurement (Site)";case"measurement-office":return"Measurement (Office)";default:return Be}},J=B.useCallback(Be=>{se===Be?ge(st=>st==="asc"?"desc":"asc"):(X(Be),ge("asc"))},[se]),Ie=Be=>se!==Be?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):Ae==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(kc,{className:"w-4 h-4 ml-1 inline-block"}),Ye=B.useCallback(Be=>{Z===Be?V(st=>st==="asc"?"desc":"asc"):(O(Be),V("asc"))},[Z]),Bt=Be=>Z!==Be?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):H==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(kc,{className:"w-4 h-4 ml-1 inline-block"}),it=()=>{L(!0)},Xe=Be=>{z(Be),P(!0)},ft=async Be=>{try{await a(Be.id,{hours:Be.hours,workCategory:Be.workCategory,description:Be.description}),ye.success(`Timesheet entry updated! Hours: ${Be.hours}`),P(!1),z(null)}catch(st){const lt=st?.response?.data?.error||st?.message||"Failed to update timesheet entry";ye.error(lt),Rt.error("Update error:",st)}},Et=async Be=>{Q({isOpen:!0,entryId:Be,entryType:"project"})},Le=async()=>{if(!(!I.entryId||!I.entryType))try{I.entryType==="project"?(await s(I.entryId),ye.success("Timesheet entry deleted!")):I.entryType==="research"&&(await nf.getState().deleteTimesheetEntry(I.entryId),ye.success("Research timesheet entry deleted!")),Q({isOpen:!1})}catch(Be){ye.error("Failed to delete timesheet entry"),Rt.error("Delete error:",Be)}},yt=async Be=>{Q({isOpen:!0,entryId:Be,entryType:"research"})},Oe=Be=>{let st="all";return m?st=m:w&&C?st=`${w}-to-${C}`:w?st=`from-${w}`:C&&(st=`until-${C}`),`timesheets-${h==="projects"?"project":"research"}-${st}.${Be}`},at=()=>h==="projects"?Se.map(Be=>{const st=e.find(Zt=>Zt.id===Be.projectId);return{Date:new Date(Be.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),"Engineer Name":Be.engineerName||"Unassigned","Project Code":Be.projectCode||"N/A","Project Name":st?.title||Be.projectTitle||"N/A",Type:"Project","Work Category":je(Be.workCategory),Hours:Be.hours,Description:Be.description||""}}):te.map(Be=>{const st=new Date(Be.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),lt=Be.hoursLogged||Be.hours||0;return{Date:st,Researcher:Be.teamMemberName||Be.researcherName||"Unknown","Research Project":Be.projectTitle||Be.researchProjectTitle||"N/A",Type:"Research",Category:Be.researchCategory||"-",Hours:lt,Status:Be.status?.replace("-"," ")||"N/A",Description:Be.description||""}}),bt=()=>{const Be=at();if(Be.length===0){ye.error("No data to export"),K(!1);return}const st=_o.json_to_sheet(Be),lt=_o.book_new();_o.book_append_sheet(lt,st,"Timesheets");const Zt=Object.keys(Be[0]).map(It=>({wch:Math.max(It.length,...Be.map(Tt=>String(Tt[It]||"").length))}));st["!cols"]=Zt,Ov(lt,Oe("xlsx")),ye.success(`Exported ${Be.length} entries to Excel`),K(!1)},St=()=>{const Be=at();if(Be.length===0){ye.error("No data to export"),K(!1);return}const st=Object.keys(Be[0]),lt=[st.join(","),...Be.map(Tt=>st.map(cr=>{const Br=Tt[cr],zt=String(Br||"");return zt.includes(",")||zt.includes(`
`)||zt.includes('"')?`"${zt.replace(/"/g,'""')}"`:zt}).join(","))].join(`
`),Zt=new Blob([lt],{type:"text/csv;charset=utf-8;"}),It=document.createElement("a");It.href=URL.createObjectURL(Zt),It.download=Oe("csv"),It.click(),URL.revokeObjectURL(It.href),ye.success(`Exported ${Be.length} entries to CSV`),K(!1)};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Timesheets"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage time entries for projects and research"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>Y(!ee),className:`inline-flex items-center justify-center gap-2 px-3 py-2 border rounded-lg transition-colors ${ee||ae>0?"bg-primary-50 border-primary-300 text-primary-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(pg,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Filters"}),ae>0&&o.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-primary-600 text-white rounded-full",children:ae})]}),o.jsxs("div",{className:"relative",ref:G,children:[o.jsxs("button",{onClick:()=>K(!R),className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(LA,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Export"}),o.jsx(kc,{className:`w-4 h-4 transition-transform ${R?"rotate-180":""}`})]}),R&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[o.jsxs("button",{onClick:bt,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx(GZ,{className:"w-4 h-4 text-green-600"}),"Export to Excel"]}),o.jsxs("button",{onClick:St,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx($a,{className:"w-4 h-4 text-blue-600"}),"Export to CSV"]})]})]}),o.jsxs("button",{onClick:it,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Add Entry"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>p("projects"),className:`pb-2 font-medium transition-all flex items-center gap-2 ${h==="projects"?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(Cu,{className:"w-4 h-4"}),"Projects"]}),o.jsxs("button",{onClick:()=>p("research"),className:`pb-2 font-medium transition-all flex items-center gap-2 ${h==="research"?"border-b-2 border-purple-600 text-purple-600":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(T0,{className:"w-4 h-4"}),"Research"]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:Ee.length})," entries"]}),o.jsx("span",{className:"text-gray-300",children:""}),o.jsxs("span",{className:h==="projects"?"text-primary-600":"text-purple-600",children:[o.jsx("span",{className:"font-semibold",children:Ue.toFixed(1)})," hrs"]})]})]}),ee&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Engineer:"}),o.jsxs("select",{value:g,onChange:Be=>v(Be.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All"}),(Array.isArray(i)?i:[]).map(Be=>o.jsx("option",{value:Be.userId||Be.id,children:Be.name},Be.userId||Be.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),o.jsx("input",{type:"date",value:w,onChange:Be=>S(Be.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),o.jsx("input",{type:"date",value:C,onChange:Be=>E(Be.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Month:"}),o.jsx("input",{type:"month",value:m,onChange:Be=>y(Be.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),ae>0&&o.jsxs("button",{onClick:()=>{v(""),S(""),E(""),y("")},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx(Rr,{className:"w-3 h-3"}),"Clear all"]})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[h==="projects"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>J("date"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Date ",Ie("date")]}),o.jsxs("th",{onClick:()=>J("engineer"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Name ",Ie("engineer")]}),o.jsxs("th",{onClick:()=>J("projectCode"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Code ",Ie("projectCode")]}),o.jsxs("th",{onClick:()=>J("projectName"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Name ",Ie("projectName")]}),o.jsxs("th",{onClick:()=>J("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Work Category ",Ie("category")]}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700",children:"Description"}),o.jsxs("th",{onClick:()=>J("hours"),className:"px-3 py-2 text-right text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",Ie("hours")]}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Se.map(Be=>{const st=e.find(Zt=>Zt.id===Be.projectId),lt=new Date(Be.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:lt}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:Be.engineerName||"Unassigned"}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-primary-600",children:Be.projectCode||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:st?.title||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:je(Be.workCategory)}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 max-w-xs truncate",title:Be.description,children:Be.description||"-"}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-medium text-primary-600",children:[Be.hours," hrs"]}),o.jsx("td",{className:"px-3 py-2 text-sm text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:()=>Xe(Be),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit entry",children:o.jsx(ko,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Et(Be.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(ws,{className:"w-4 h-4"})})]})})]},Be.id)})}),o.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:6,className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Total:"}),o.jsxs("td",{className:"px-3 py-2 text-right text-sm font-bold text-primary-700",children:[pe.toFixed(1)," hrs"]}),o.jsx("td",{className:"px-3 py-2"})]})})]})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>Ye("date"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Date ",Bt("date")]}),o.jsxs("th",{onClick:()=>Ye("researcher"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Researcher ",Bt("researcher")]}),o.jsxs("th",{onClick:()=>Ye("project"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Research Project ",Bt("project")]}),o.jsxs("th",{onClick:()=>Ye("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Category ",Bt("category")]}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700",children:"Description"}),o.jsxs("th",{onClick:()=>Ye("hours"),className:"px-3 py-2 text-right text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",Bt("hours")]}),o.jsxs("th",{onClick:()=>Ye("status"),className:"px-3 py-2 text-center text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",Bt("status")]}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:te.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-3 py-12 text-center",children:[o.jsx(T0,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No research timesheet entries"}),o.jsx("p",{className:"text-gray-600",children:"No research timesheet entries found for the selected period."})]})}):te.map(Be=>{const st=new Date(Be.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),lt=Be.hoursLogged||Be.hours||0;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:st}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:Be.teamMemberName||Be.researcherName||"Unknown"}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-purple-600",children:Be.projectTitle||Be.researchProjectTitle||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Be.researchCategory||"-"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 max-w-xs truncate",title:Be.description,children:Be.description||"-"}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-medium text-purple-600",children:[lt," hrs"]}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize ${Be.status==="completed"?"bg-green-100 text-green-800":Be.status==="in-progress"?"bg-blue-100 text-blue-800":Be.status==="planning"?"bg-yellow-100 text-yellow-800":Be.status==="on-hold"?"bg-orange-100 text-orange-800":Be.status==="archived"?"bg-gray-100 text-gray-800":"bg-gray-100 text-gray-600"}`,children:Be.status?.replace("-"," ")||"N/A"})}),o.jsx("td",{className:"px-3 py-2 text-sm text-right",children:o.jsx("div",{className:"flex gap-1 justify-end",children:o.jsx("button",{onClick:()=>yt(Be.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(ws,{className:"w-4 h-4"})})})})]},Be.id)})}),te.length>0&&o.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:5,className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Total:"}),o.jsxs("td",{className:"px-3 py-2 text-right text-sm font-bold text-purple-700",children:[ke.toFixed(1)," hrs"]}),o.jsx("td",{colSpan:2,className:"px-3 py-2"})]})})]})}),h==="projects"&&Se.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(To,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No timesheet entries"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking your time by adding your first entry"}),o.jsxs("button",{onClick:it,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Add Entry"]})]})]}),o.jsx(KSe,{isOpen:_,onClose:()=>{L(!1),ue()}}),o.jsx($Se,{isOpen:D,onClose:()=>{P(!1),z(null)},timesheet:k,onUpdate:ft}),o.jsx(rf,{isOpen:I.isOpen,onClose:()=>Q({isOpen:!1}),onConfirm:Le,title:"Delete Timesheet Entry",message:I.entryType==="research"?"Are you sure you want to delete this research timesheet entry? This cannot be undone.":"Are you sure you want to delete this timesheet entry? This cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})})},Un=({className:r,variant:e="default",size:t="md",isClickable:n=!1,children:a,...s})=>o.jsx("span",{className:Cr("inline-flex items-center justify-center rounded-full font-medium",{"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":e==="default","bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e==="success","bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":e==="warning","bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":e==="danger","bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":e==="info","px-2.5 py-2 text-xs":t==="sm"&&n,"px-3 py-2 text-sm":t==="md"&&n,"px-4 py-2.5 text-base":t==="lg"&&n,"px-2 py-0.5 text-xs":t==="sm"&&!n,"px-2.5 py-1 text-sm":t==="md"&&!n,"px-3 py-1.5 text-base":t==="lg"&&!n,"cursor-pointer hover:shadow-md transition-shadow":n},r),...s,children:a});function qSe(r){return r.split(`
`).filter(t=>t.trim()).map(t=>{const n=[];let a="",s=!1;for(let i=0;i<t.length;i++){const l=t[i];l==='"'?s=!s:l===","&&!s?(n.push(a.trim()),a=""):a+=l}return n.push(a.trim()),n})}function GSe(r,e){const t={};if(e.forEach((l,c)=>{t[l]=r[c]}),!t.title||!t.sku)return{valid:!1,error:"Missing required fields: title or sku"};const n=parseInt(t.quantity);if(isNaN(n)||n<0)return{valid:!1,error:"Invalid quantity value"};const a=parseInt(t.minimumStock);if(isNaN(a)||a<0)return{valid:!1,error:"Invalid minimumStock value"};const s=parseFloat(t.cost||"0"),i=parseFloat(t.price||"0");return isNaN(s)||isNaN(i)?{valid:!1,error:"Invalid cost or price value"}:{valid:!0}}function WSe(r,e){const t={};e.forEach((a,s)=>{t[a]=r[s]});const n=Bo();return{title:t.title,sku:t.sku,barcode:t.barcode||"",category:t.category||"Uncategorized",quantity:parseInt(t.quantity)||0,minimumStock:parseInt(t.minimumStock)||0,location:t.location||"",unitOfMeasure:t.unitOfMeasure||"Unit",cost:parseFloat(t.cost)||0,price:parseFloat(t.price)||0,supplier:t.supplier||"",status:t.status||"Active",notes:t.notes||"",lastCalibratedDate:t.lastCalibratedDate||void 0,lastUpdated:new Date().toISOString(),createdBy:n.displayName}}async function YSe(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=a=>{try{const s=a.target?.result,i=qSe(s);if(i.length<2){e({success:!1,imported:0,failed:0,errors:[{row:0,error:"CSV file is empty or has no data rows"}]});return}const l=i[0],c=i.slice(1),u=[],A=[];c.forEach((h,p)=>{const m=GSe(h,l);if(!m.valid)u.push({row:p+2,error:m.error||"Unknown error"});else try{const y=WSe(h,l);A.push(y)}catch(y){u.push({row:p+2,error:`Failed to parse row: ${y}`})}}),e({success:A.length>0,imported:A.length,failed:u.length,errors:u.length>0?u:void 0})}catch(s){t(new Error(`Failed to process CSV file: ${s}`))}},n.onerror=()=>{t(new Error("Failed to read file"))},n.readAsText(r)})}function XSe({isOpen:r,onClose:e,onImport:t}){const[n,a]=B.useState(null),[s,i]=B.useState(!1),[l,c]=B.useState(null);if(!r)return null;const u=m=>{const y=m.target.files?.[0];y&&(a(y),c(null))},A=async()=>{if(n){i(!0);try{const m=await YSe(n);c(m),m.success&&await t(n)}catch(m){c({success:!1,imported:0,failed:0,errors:[{row:0,error:`Upload failed: ${m}`}]})}finally{i(!1)}}},h=()=>{a(null),c(null),e()},p=()=>{const m=document.createElement("a");m.href="/templates/inventory-bulk-upload-template.csv",m.download="inventory-bulk-upload-template.csv",m.click()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Import Inventory"}),o.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"How to use bulk import:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[o.jsx("li",{children:"Download the CSV template below"}),o.jsx("li",{children:"Fill in your inventory data (keep the header row)"}),o.jsx("li",{children:"Upload the completed CSV file"}),o.jsx("li",{children:"Review the validation results"})]})]}),o.jsx("div",{children:o.jsxs(Qt,{variant:"outline",onClick:p,className:"w-full",children:[o.jsx(LA,{className:"w-4 h-4 mr-2"}),"Download CSV Template"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx("input",{type:"file",accept:".csv",onChange:u,className:"hidden",id:"csv-upload"}),o.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(Fo,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:n?n.name:"Click to select CSV file"})]})]})]}),l&&o.jsx("div",{className:`border rounded-lg p-4 ${l.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[l.success?o.jsx(za,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):o.jsx(os,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium mb-2 ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Validation Successful":"Validation Failed"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{className:l.success?"text-green-800":"text-red-800",children:[" ",l.imported," items ready to import"]}),l.failed>0&&o.jsxs("p",{className:"text-red-800",children:[" ",l.failed," items failed validation"]})]}),l.errors&&l.errors.length>0&&o.jsxs("div",{className:"mt-3 max-h-40 overflow-y-auto",children:[o.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Errors:"}),o.jsx("ul",{className:"text-xs text-red-800 space-y-1",children:l.errors.map((m,y)=>o.jsxs("li",{children:["Row ",m.row,": ",m.error]},y))})]})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Qt,{variant:"outline",onClick:h,children:"Cancel"}),o.jsx(Qt,{onClick:A,disabled:!n||s,children:s?"Uploading...":"Import Items"})]})]})})}const JSe=({isOpen:r,onClose:e,onSubmit:t,initialData:n,isEditMode:a=!1})=>{const[s,i]=B.useState({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Available",barcode:"",notes:"",lastCalibratedDate:"",lastAction:"added",lastActionDate:new Date().toISOString()});B.useEffect(()=>{a&&n?i({title:n.title||"",sku:n.sku||"",category:n.category||"",quantity:n.quantity||0,minimumStock:n.minimumStock||0,location:n.location||"",unitOfMeasure:n.unitOfMeasure||"units",cost:n.cost||0,price:n.price||0,supplier:n.supplier||"",status:n.status||"Available",barcode:n.barcode||"",notes:n.notes||"",lastCalibratedDate:n.lastCalibratedDate||"",lastAction:n.lastAction||"added",lastActionDate:n.lastActionDate||new Date().toISOString()}):r||y()},[r,a,n]);const[l,c]=B.useState({}),u=["Chassis","Consumables","Data Acquisition Module","Dytran Impact Hammer","Electronics","Furniture","Impulse Force Hammer","IT Equipment","Laptop","Microphone","Office Supplies","Safety Equipment","Sound Level Meter","Tools & Equipment","Triaxial Vibration Sensor","Vibration Sensor","Other"],A=["In the office","On site"],h=["units","boxes","packs","pieces","sets","meters","kg","liters"],p=()=>{const w={};return s.title.trim()||(w.title="Item name is required"),s.sku.trim()||(w.sku="SKU is required"),s.category||(w.category="Category is required"),s.quantity<0&&(w.quantity="Quantity must be 0 or greater"),s.minimumStock<0&&(w.minimumStock="Minimum stock must be 0 or greater"),s.location||(w.location="Location is required"),c(w),Object.keys(w).length===0},m=w=>{w.preventDefault(),p()&&(t(s),y())},y=()=>{i({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Available",barcode:"",notes:"",lastCalibratedDate:"",lastAction:"added",lastActionDate:new Date().toISOString()}),c({}),e()},g=(w,S)=>{i(C=>({...C,[w]:S})),l[w]&&c(C=>({...C,[w]:""}))},v=o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-500",children:["Fields marked with ",o.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Qt,{variant:"outline",onClick:y,children:"Cancel"}),o.jsx(Qt,{onClick:m,children:a?"Update Item":"Add Item"})]})]});return o.jsx(XC,{isOpen:r,onClose:y,title:a?"Edit Item":"Add New Item",description:"Register a new equipment or item to inventory",icon:o.jsx(Ec,{className:"w-5 h-5 text-primary-600","aria-hidden":"true"}),size:"xl",footer:v,children:o.jsx("form",{onSubmit:m,className:"p-6",id:"add-item-form",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Item Name ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-title",type:"text",value:s.title,onChange:w=>g("title",w.target.value),"aria-invalid":l.title?"true":void 0,"aria-describedby":l.title?"title-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Laptop Dell XPS 15"}),l.title&&o.jsx("p",{id:"title-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.title})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-sku",className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(aee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-sku",type:"text",value:s.sku,onChange:w=>g("sku",w.target.value),"aria-invalid":l.sku?"true":void 0,"aria-describedby":l.sku?"sku-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.sku?"border-red-500":"border-gray-300"}`,placeholder:"e.g., LAP-DELL-001"})]}),l.sku&&o.jsx("p",{id:"sku-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.sku})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-barcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(cZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-barcode",type:"text",value:s.barcode,onChange:w=>g("barcode",w.target.value),className:"w-full pl-10 pr-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 1234567890123"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("select",{id:"item-category",value:s.category,onChange:w=>g("category",w.target.value),"aria-invalid":l.category?"true":void 0,"aria-describedby":l.category?"category-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.category?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select category"}),u.map(w=>o.jsx("option",{value:w,children:w},w))]}),l.category&&o.jsx("p",{id:"category-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.category})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:["Quantity ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-quantity",type:"number",value:s.quantity,onChange:w=>g("quantity",parseInt(w.target.value)||0),"aria-invalid":l.quantity?"true":void 0,"aria-describedby":l.quantity?"quantity-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.quantity?"border-red-500":"border-gray-300"}`,min:"0"}),l.quantity&&o.jsx("p",{id:"quantity-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-unit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure"}),o.jsx("select",{id:"item-unit",value:s.unitOfMeasure,onChange:w=>g("unitOfMeasure",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:h.map(w=>o.jsx("option",{value:w,children:w},w))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-min-stock",className:"block text-sm font-medium text-gray-700 mb-2",children:["Minimum Stock Level ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-min-stock",type:"number",value:s.minimumStock,onChange:w=>g("minimumStock",parseInt(w.target.value)||0),"aria-invalid":l.minimumStock?"true":void 0,"aria-describedby":l.minimumStock?"min-stock-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.minimumStock?"border-red-500":"border-gray-300"}`,min:"0"}),l.minimumStock&&o.jsx("p",{id:"min-stock-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.minimumStock})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-location",className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(c0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsxs("select",{id:"item-location",value:s.location,onChange:w=>g("location",w.target.value),"aria-invalid":l.location?"true":void 0,"aria-describedby":l.location?"location-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.location?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select location"}),A.map(w=>o.jsx("option",{value:w,children:w},w))]})]}),l.location&&o.jsx("p",{id:"location-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.location})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-supplier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier (Optional)"}),o.jsx("input",{id:"item-supplier",type:"text",value:s.supplier,onChange:w=>g("supplier",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Dell Malaysia"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{id:"item-status",value:s.status,onChange:w=>g("status",w.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"Available",children:"Available"}),o.jsx("option",{value:"Inactive",children:"Inactive (Temporary)"}),o.jsx("option",{value:"Discontinued",children:"Discontinued (Permanent)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-lastCalibrated",className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Calibrated",o.jsx("span",{className:"text-gray-400 ml-1 text-xs",children:"(Optional)"})]}),o.jsx("input",{type:"date",id:"item-lastCalibrated",value:s.lastCalibratedDate,onChange:w=>g("lastCalibratedDate",w.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the date when this item was last calibrated (if known)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"item-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{id:"item-notes",value:s.notes,onChange:w=>g("notes",w.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,placeholder:"Additional information about this item..."})]})]})})})},ZSe=({item:r,calibrationInfo:e})=>{const t=r.lastCalibratedDate||e?.lastCalibrated;if(!t)return o.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not calibrated"});const n=e?.status||"none",a={recent:"text-green-600 bg-green-50","due-soon":"text-yellow-600 bg-yellow-50",overdue:"text-red-600 bg-red-50",none:"text-gray-400"},s={recent:"Recent","due-soon":"Due Soon",overdue:"Overdue",none:"Not Calibrated"};return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-sm text-gray-900",children:a0(t)}),n!=="none"&&o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium w-fit ${a[n]}`,children:s[n]})]})},eBe=({title:r,supplier:e,items:t,totalQuantity:n,uniqueSKUs:a,category:s,location:i,isExpanded:l,onToggle:c,onEditItem:u,canEdit:A,calibrationData:h})=>{const p=[...t].sort((g,v)=>g.sku.localeCompare(v.sku)),m=t.reduce((g,v)=>g+(v.checkedOut||0),0),y=n-m;return o.jsxs(o.Fragment,{children:[o.jsx("tr",{className:"bg-gray-50 hover:bg-gray-100 transition-colors border-b border-gray-200",children:o.jsx("td",{className:"px-4 py-3",colSpan:6,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":l?"Collapse group":"Expand group",children:l?o.jsx(kc,{className:"w-5 h-5 text-gray-600"}):o.jsx(gA,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:r}),e&&o.jsx("p",{className:"text-sm text-gray-500",children:e})]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block font-semibold text-gray-900",children:a}),o.jsx("span",{className:"text-gray-500 text-xs",children:"SKUs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block font-semibold text-gray-900",children:n}),o.jsx("span",{className:"text-gray-500 text-xs",children:"qty"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block font-semibold text-green-600",children:y}),o.jsx("span",{className:"text-gray-500 text-xs",children:"available"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block font-semibold text-orange-600",children:m}),o.jsx("span",{className:"text-gray-500 text-xs",children:"checked out"})]}),o.jsx("div",{className:"text-center min-w-[120px]",children:o.jsx("span",{className:"block text-gray-700",children:s})}),o.jsx("div",{className:"text-center min-w-[100px]",children:o.jsx("span",{className:"block text-gray-700",children:i})})]})]})})}),l&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-0",children:o.jsxs("div",{className:"bg-white border-t border-gray-100",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Quantity"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Last Calibrated"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:p.map(g=>o.jsxs("tr",{className:"hover:bg-gray-50/50",children:[o.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:g.sku}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:g.quantity}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${g.status==="Available"||g.status==="available"||g.status==="Active"?"bg-green-100 text-green-800":g.status==="Inactive"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:g.status==="available"||g.status==="Active"?"Available":g.status})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx(ZSe,{item:g,calibrationInfo:h.get(g.id)})}),o.jsx("td",{className:"px-4 py-2 text-right",children:A&&o.jsx("div",{className:"flex gap-1 justify-end",children:o.jsx("button",{onClick:()=>u(g),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit item","aria-label":`Edit ${g.title} (${g.sku})`,children:o.jsx(ko,{className:"w-4 h-4"})})})})]},g.id))})]}),o.jsx("div",{className:"px-4 py-3 bg-gray-50/30 border-t border-gray-100",children:o.jsx(f_,{to:`/maintenance?item=${t[0].id}&type=calibration`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium inline-flex items-center gap-1",children:"View Calibration History "})})]})})})]})},tBe=({item:r,onEditItem:e,onDeleteItem:t,canEdit:n})=>{const a=r.quantity-(r.checkedOut||0),s=r.checkedOut||0;return o.jsx(o.Fragment,{children:o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors border-b border-gray-100",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:r.title}),r.supplier&&o.jsx("p",{className:"text-sm text-gray-500",children:r.supplier})]})}),o.jsxs("td",{className:"px-4 py-3 text-center",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"1"}),o.jsx("span",{className:"text-gray-500 text-xs block",children:"SKU"})]}),o.jsxs("td",{className:"px-4 py-3 text-center",children:[o.jsx("span",{className:"font-medium text-gray-900",children:r.quantity}),o.jsx("span",{className:"text-gray-500 text-xs block",children:"qty"})]}),o.jsxs("td",{className:"px-4 py-3 text-center",children:[o.jsx("span",{className:"font-medium text-green-600",children:a}),o.jsx("span",{className:"text-gray-500 text-xs block",children:"available"})]}),o.jsxs("td",{className:"px-4 py-3 text-center",children:[o.jsx("span",{className:"font-medium text-orange-600",children:s}),o.jsx("span",{className:"text-gray-500 text-xs block",children:"checked out"})]}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-gray-700",children:r.category})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-gray-700",children:r.location})}),o.jsx("td",{className:"px-4 py-3 text-right",children:n&&o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:()=>e(r),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit item","aria-label":`Edit ${r.title}`,children:o.jsx(ko,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(r.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete item","aria-label":`Delete ${r.title}`,children:o.jsx(ws,{className:"w-4 h-4"})})]})})]})})},rBe=()=>localStorage.getItem("inventoryViewMode")==="flat"?"flat":"grouped",Dv=Ic((r,e)=>({items:[],filteredItems:[],filters:{},loading:!1,stats:null,viewMode:rBe(),fetchInventory:async()=>{r({loading:!0});try{const t=await On.getInventoryItems();r({items:t,filteredItems:t}),e().calculateStats()}catch{rr.error("Failed to fetch inventory")}finally{r({loading:!1})}},fetchInventoryById:async t=>{const{items:n}=e();return n.find(a=>a.id===t)||null},createItem:async t=>{r({loading:!0});try{const n=await On.createInventoryItem(t);r(a=>({items:[...a.items,n],filteredItems:[...a.filteredItems,n]})),e().calculateStats(),rr.success("Item created")}catch{rr.error("Failed to create item")}finally{r({loading:!1})}},updateItem:async(t,n)=>{r({loading:!0});try{await On.updateInventoryItem(t,n),r(a=>({items:a.items.map(s=>s.id===t?{...s,...n}:s),filteredItems:a.filteredItems.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),rr.success("Item updated")}catch{rr.error("Failed to update item")}finally{r({loading:!1})}},deleteItem:async t=>{r({loading:!0});try{await On.deleteInventoryItem(t),r(n=>({items:n.items.filter(a=>a.id!==t),filteredItems:n.filteredItems.filter(a=>a.id!==t)})),e().calculateStats(),rr.success("Item deleted")}catch{rr.error("Failed to delete item")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{items:t,filters:n}=e();let a=[...t];if(n.search){const s=n.search.toLowerCase();a=a.filter(i=>i.title.toLowerCase().includes(s)||i.sku.toLowerCase().includes(s)||i.barcode?.toLowerCase().includes(s))}n.category&&(a=a.filter(s=>s.category===n.category)),n.location&&(a=a.filter(s=>s.location===n.location)),n.status&&(a=a.filter(s=>s.status===n.status)),n.lowStockOnly&&(a=a.filter(s=>s.quantity<=s.minimumStock)),r({filteredItems:a})},calculateStats:()=>{const{items:t}=e(),n={totalItems:t.length,totalValue:t.reduce((a,s)=>a+s.quantity*s.price,0),lowStockItems:t.filter(a=>a.quantity<=a.minimumStock).length,categories:new Set(t.map(a=>a.category)).size,recentActivity:0};r({stats:n})},scanBarcode:async t=>{try{const n=await On.getInventoryItems({search:t});return n.length>0?(rr.success(`Found: ${n[0].title}`),n[0]):(rr.error("Item not found"),null)}catch{return rr.error("An error occurred while scanning"),null}},setViewMode:t=>{localStorage.setItem("inventoryViewMode",t),r({viewMode:t})}})),mu="/scheduled-maintenance",V3=Ic((r,e)=>({schedules:[],upcomingSchedules:[],overdueSchedules:[],stats:null,loading:!1,error:null,fetchSchedules:async t=>{r({loading:!0,error:null});try{const n=new URLSearchParams;t?.item_id&&n.append("item_id",t.item_id),t?.is_completed!==void 0&&n.append("is_completed",String(t.is_completed)),t?.maintenance_type&&n.append("maintenance_type",t.maintenance_type),t?.from_date&&n.append("from_date",t.from_date),t?.to_date&&n.append("to_date",t.to_date);const a=n.toString(),s=a?`${mu}?${a}`:mu,i=await vn.api.get(s);r({schedules:i.data,loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to fetch schedules";r({error:a,loading:!1}),ye.error(a)}},fetchUpcoming:async()=>{r({loading:!0,error:null});try{const t=await vn.api.get(`${mu}/upcoming`);r({upcomingSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch upcoming schedules";r({error:n,loading:!1}),ye.error(n)}},fetchOverdue:async()=>{r({loading:!0,error:null});try{const t=await vn.api.get(`${mu}/overdue`);r({overdueSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch overdue schedules";r({error:n,loading:!1}),ye.error(n)}},fetchStats:async()=>{try{const t=await vn.api.get(`${mu}/stats`);r({stats:t.data})}catch(t){console.error("Failed to fetch maintenance stats:",t)}},fetchSchedulesForItem:async t=>{try{return(await vn.api.get(`${mu}/item/${t}`)).data}catch(n){return console.error("Failed to fetch item schedules:",n),[]}},createSchedule:async t=>{r({loading:!0,error:null});try{const a=(await vn.api.post(mu,t)).data;return r(s=>({schedules:[a,...s.schedules],loading:!1})),ye.success("Scheduled maintenance created"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to create schedule";throw r({error:a,loading:!1}),ye.error(a),n}},updateSchedule:async(t,n)=>{r({loading:!0,error:null});try{const s=(await vn.api.put(`${mu}/${t}`,n)).data;return r(i=>({schedules:i.schedules.map(l=>l.id===t?s:l),upcomingSchedules:i.upcomingSchedules.map(l=>l.id===t?s:l),loading:!1})),ye.success("Schedule updated"),s}catch(a){const s=a.response?.data?.message||"Failed to update schedule";throw r({error:s,loading:!1}),ye.error(s),a}},deleteSchedule:async t=>{r({loading:!0,error:null});try{await vn.api.delete(`${mu}/${t}`),r(n=>({schedules:n.schedules.filter(a=>a.id!==t),upcomingSchedules:n.upcomingSchedules.filter(a=>a.id!==t),overdueSchedules:n.overdueSchedules.filter(a=>a.id!==t),loading:!1})),ye.success("Schedule deleted"),e().fetchStats()}catch(n){const a=n.response?.data?.message||"Failed to delete schedule";throw r({error:a,loading:!1}),ye.error(a),n}},markCompleted:async t=>{r({loading:!0,error:null});try{const a=(await vn.api.post(`${mu}/${t}/complete`)).data;return r(s=>({schedules:s.schedules.map(i=>i.id===t?a:i),upcomingSchedules:s.upcomingSchedules.filter(i=>i.id!==t),overdueSchedules:s.overdueSchedules.filter(i=>i.id!==t),loading:!1})),ye.success("Maintenance marked as completed"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to mark as completed";throw r({error:a,loading:!1}),ye.error(a),n}},createTicketFromSchedule:async t=>{r({loading:!0,error:null});try{await vn.api.post(`${mu}/${t}/create-ticket`),await e().fetchSchedules(),await e().fetchUpcoming(),ye.success("Maintenance ticket created"),r({loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to create ticket";throw r({error:a,loading:!1}),ye.error(a),n}},resetError:()=>r({error:null})}));function nBe(r){const[e,t]=B.useState(new Map),{fetchSchedulesForItem:n}=V3();return B.useEffect(()=>{(async()=>{if(r.length===0)return;const s=new Map;for(const i of r)try{const l=await n(i),c=l.filter(S=>S.maintenance_type==="calibration"&&S.is_completed);if(c.length===0){s.set(i,{itemId:i,status:"none"});continue}const A=c.sort((S,C)=>new Date(C.completed_date).getTime()-new Date(S.completed_date).getTime())[0],h=new Date(A.completed_date),p=new Date,m=p.getTime()-h.getTime(),y=Math.ceil(m/(1e3*60*60*24)),g=l.filter(S=>S.maintenance_type==="calibration"&&!S.is_completed);let v,w="recent";if(g.length>0){const S=g.sort((_,L)=>new Date(_.scheduled_date).getTime()-new Date(L.scheduled_date).getTime())[0];v=S.scheduled_date;const C=new Date(S.scheduled_date),E=Math.ceil((C.getTime()-p.getTime())/(1e3*60*60*24));E<0?w="overdue":E<=1&&(w="due-soon")}s.set(i,{itemId:i,lastCalibrated:A.completed_date,nextDue:v,status:w})}catch(l){console.error(`Failed to fetch calibration data for item ${i}:`,l),s.set(i,{itemId:i,status:"none"})}t(s)})()},[r,n]),e}const aBe=()=>{const{filteredItems:r,filters:e,setFilters:t,fetchInventory:n,loading:a,viewMode:s,setViewMode:i}=Dv(),l=Array.isArray(r)?r:[],{isMobile:c}=gC(),u=Bo(),A=u&&sl(u.role,"canAddOrRemoveInventory"),[h,p]=B.useState(""),[m,y]=B.useState(!1),[g,v]=B.useState(""),[w,S]=B.useState(""),[C,E]=B.useState(""),[_,L]=B.useState("title"),[D,P]=B.useState("asc"),[k,z]=B.useState(new Set),[I,Q]=B.useState(!1),[R,K]=B.useState(!1),[ee,Y]=B.useState(null),[se,X]=B.useState(!1),[Ae,ge]=B.useState({isOpen:!1}),[Z,O]=B.useState({isOpen:!1}),H=["Chassis","Consumables","Data Acquisition Module","Dytran Impact Hammer","Electronics","Furniture","Impulse Force Hammer","IT Equipment","Laptop","Microphone","Office Supplies","Safety Equipment","Sound Level Meter","Tools & Equipment","Triaxial Vibration Sensor","Vibration Sensor","Other"],V=[g,w,C].filter(Boolean).length,G=B.useMemo(()=>[...l.filter(yt=>!(g&&yt.category!==g||w&&yt.status!==w||C==="low"&&yt.quantity>yt.minimumStock||C==="out"&&yt.quantity!==0||C==="in"&&yt.quantity<=yt.minimumStock))].sort((yt,Oe)=>{const at=Be=>{switch(_){case"title":return Be.title.toLowerCase();case"sku":return(Be.sku||"").toLowerCase();case"category":return Be.category.toLowerCase();case"quantity":return Be.quantity||0;case"price":return Be.price||0;case"location":return(Be.location||"").toLowerCase();case"status":return{active:0,inactive:1,discontinued:2}[Be.status]??3;default:return Be.title.toLowerCase()}},bt=at(yt),St=at(Oe);if(typeof bt=="string"&&typeof St=="string")return D==="asc"?bt.localeCompare(St):St.localeCompare(bt);{const Be=typeof bt=="number"?bt:0,st=typeof St=="number"?St:0;return D==="asc"?Be-st:st-Be}}),[l,g,w,C,_,D]),ae=B.useMemo(()=>{if(s==="flat")return G.map(Oe=>({type:"single",item:Oe}));const Le=new Map;G.forEach(Oe=>{const at=Oe.title;Le.has(at)||Le.set(at,[]),Le.get(at).push(Oe)});const yt=[];return Le.forEach((Oe,at)=>{Oe.length>=1&&yt.push({type:"group",title:at,items:Oe,totalQuantity:Oe.reduce((bt,St)=>bt+St.quantity,0),uniqueSKUs:Oe.length,category:Oe[0].category,location:Oe[0].location})}),yt.sort((Oe,at)=>{const bt=Oe.type==="group"?Oe.title:Oe.item.title,St=at.type==="group"?at.title:at.item.title;return bt.localeCompare(St)})},[G,s]),ue=B.useMemo(()=>G.map(Le=>Le.id),[G]),Se=nBe(ue),te=B.useCallback(Le=>{z(yt=>{const Oe=new Set(yt);return Oe.has(Le)?Oe.delete(Le):Oe.add(Le),Oe})},[]),pe=()=>{v(""),S(""),E("")};B.useCallback(Le=>{_===Le?P(yt=>yt==="asc"?"desc":"asc"):(L(Le),P("asc"))},[_]),B.useEffect(()=>{n()},[]);const ke=B.useCallback(()=>{K(!1),Y(null),X(!1)},[]),Ee=Le=>{p(Le),t({...e,search:Le})},Ue=Le=>{const yt={Available:"success",available:"success",Active:"success",Inactive:"warning",Discontinued:"danger"},Oe=Le==="available"||Le==="Active"?"Available":Le;return o.jsx(Un,{variant:yt[Le]||"default",children:Oe})},je=(Le,yt)=>Le===0?o.jsx(Un,{variant:"danger",children:"Out of Stock"}):Le<=yt?o.jsx(Un,{variant:"warning",children:"Low Stock"}):o.jsx(Un,{variant:"success",children:"In Stock"}),J=Le=>{if(!Le)return null;const yt={added:"success",returned:"info","checked-out":"warning",updated:"default"},Oe={added:"ADDED",returned:"RETURNED","checked-out":"CHECKED OUT",updated:"UPDATED"};return o.jsx(Un,{variant:yt[Le]||"default",size:"sm",children:Oe[Le]||Le})},Ie=async Le=>{try{const yt=new FileReader;yt.onload=async Oe=>{try{const bt=(Oe.target?.result).split(`
`).filter(Zt=>Zt.trim());if(bt.length<2){ye.error("CSV file is empty or has no data rows");return}const St=bt[0].split(",").map(Zt=>Zt.trim()),Be=bt.slice(1);let st=0,lt=0;for(let Zt=0;Zt<Be.length;Zt++){const It=Be[Zt].split(",").map(nr=>nr.trim()),Tt={};if(St.forEach((nr,mr)=>{Tt[nr]=It[mr]}),!Tt.title||!Tt.sku){lt++;continue}const cr=parseInt(Tt.quantity),Br=parseInt(Tt.minimumStock),zt=parseFloat(Tt.cost||"0"),Yr=parseFloat(Tt.price||"0");if(isNaN(cr)||isNaN(Br)||isNaN(zt)||isNaN(Yr)){lt++;continue}st++}if(st===0){ye.error("No valid items found in CSV file");return}O({isOpen:!0,file:Le,itemCount:st})}catch{ye.error("Error validating CSV file")}},yt.onerror=()=>{ye.error("Failed to read CSV file")},yt.readAsText(Le)}catch{ye.error("Error processing bulk import")}},Ye=async()=>{if(Z.file)try{const Le=new FileReader;Le.onload=async yt=>{try{const at=(yt.target?.result).split(`
`).filter(lt=>lt.trim()),bt=at[0].split(",").map(lt=>lt.trim()),St=at.slice(1),Be=[];let st=0;for(let lt=0;lt<St.length;lt++){const Zt=St[lt].split(",").map(nr=>nr.trim()),It={};if(bt.forEach((nr,mr)=>{It[nr]=Zt[mr]}),!It.title||!It.sku){st++;continue}const Tt=parseInt(It.quantity),cr=parseInt(It.minimumStock),Br=parseFloat(It.cost||"0"),zt=parseFloat(It.price||"0");if(isNaN(Tt)||isNaN(cr)||isNaN(Br)||isNaN(zt)){st++;continue}const Yr={title:It.title,sku:It.sku,barcode:It.barcode||"",category:It.category||"Uncategorized",quantity:Tt||0,minimumStock:cr||0,location:It.location||"",unitOfMeasure:It.unitOfMeasure||"Unit",cost:Br||0,price:zt||0,supplier:It.supplier||"",status:It.status||"Active",notes:It.notes||"",lastUpdated:new Date().toISOString(),createdBy:u.displayName};Be.push(Yr)}await On.bulkCreateInventoryItems(Be),ye.success(`Successfully imported ${Be.length} items${st>0?` (${st} rows skipped due to errors)`:""}`),O({isOpen:!1}),Q(!1),await n()}catch(Oe){const at=Oe?.response?.data?.error||Oe?.message||"Failed to import items";ye.error(at)}},Le.onerror=()=>{ye.error("Failed to read CSV file")},Le.readAsText(Z.file)}catch{ye.error("Error processing bulk import")}},Bt=async Le=>{if(!A){ye.error(vd("add or remove inventory","engineer"));return}try{const yt=Le;await On.createInventoryItem(yt),ye.success(`Item "${Le.title}" added successfully!`),await n()}catch(yt){throw ye.error(yt?.response?.data?.error||"Failed to add item"),yt}},it=Le=>{Y(Le),X(!0),K(!0)},Xe=async Le=>{const yt=l.find(Oe=>Oe.id===Le);ge({isOpen:!0,itemId:Le,itemTitle:yt?.title})},ft=async()=>{if(Ae.itemId)try{await On.deleteInventoryItem(Ae.itemId),ye.success("Item deleted successfully!"),await n(),ge({isOpen:!1})}catch(Le){ye.error(Le?.response?.data?.error||"Failed to delete item")}},Et=async Le=>{if(!A){ye.error(vd("add or remove inventory","engineer"));return}try{se&&ee?(await On.updateInventoryItem(ee.id,Le),ye.success("Item updated successfully!")):await Bt(Le),K(!1),Y(null),X(!1),await n()}catch(yt){ye.error(yt?.response?.data?.error||"Failed to save item")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Inventory"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your equipment, tools, and materials inventory"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>Q(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(Fo,{className:"w-5 h-5"}),!c&&"Bulk Import"]}),A&&o.jsxs("button",{onClick:()=>K(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium shadow-sm",children:[o.jsx(ei,{className:"w-5 h-5"}),!c&&"Add Item"]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:h,onChange:Le=>Ee(Le.target.value),placeholder:"Search by name, SKU, or barcode...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsxs("button",{onClick:()=>y(!m),className:`inline-flex items-center justify-center gap-2 px-4 py-2.5 border rounded-xl transition-colors whitespace-nowrap ${V>0?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(pg,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Filters"}),V>0&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs font-medium bg-primary-600 text-white rounded-full",children:V}),m?o.jsx(_0,{className:"w-4 h-4"}):o.jsx(kc,{className:"w-4 h-4"})]}),o.jsx("button",{onClick:()=>i(s==="grouped"?"flat":"grouped"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors whitespace-nowrap",title:s==="grouped"?"Switch to flat view":"Switch to grouped view",children:s==="grouped"?o.jsxs(o.Fragment,{children:[o.jsx(fee,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Show All"})]}):o.jsxs(o.Fragment,{children:[o.jsx(dee,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Group Items"})]})})]}),m&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:g,onChange:Le=>v(Le.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Categories"}),H.map(Le=>o.jsx("option",{value:Le,children:Le},Le))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:w,onChange:Le=>S(Le.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Level"}),o.jsxs("select",{value:C,onChange:Le=>E(Le.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Stock Levels"}),o.jsx("option",{value:"in",children:"In Stock"}),o.jsx("option",{value:"low",children:"Low Stock"}),o.jsx("option",{value:"out",children:"Out of Stock"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{onClick:pe,disabled:V===0,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(Rr,{className:"w-4 h-4"}),"Clear Filters"]})})]})})]}),a&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!a&&c&&o.jsx("div",{className:"space-y-3",children:G.map(Le=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:Le.title}),o.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["SKU: ",Le.sku]})]}),Ue(Le.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),o.jsxs("p",{className:"text-sm font-medium",children:[Le.quantity," ",Le.unitOfMeasure]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Available"}),o.jsx("p",{className:"text-sm font-medium text-green-600",children:Le.quantity-(Le.checkedOut||0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checked Out"}),o.jsx("p",{className:"text-sm font-medium text-orange-600",children:Le.checkedOut||0})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),o.jsx("p",{className:"text-sm font-medium",children:Le.location})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[je(Le.quantity,Le.minimumStock),J(Le.lastAction)]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",a0(Le.lastUpdated)]})]}),A&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>it(Le),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[o.jsx(ko,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>Xe(Le.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[o.jsx(ws,{className:"w-4 h-4"}),"Delete"]})]})]},Le.id))}),!a&&!c&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Items (",G.length,")"]}),o.jsx("span",{className:"text-sm text-gray-500",children:s==="grouped"?`Grouped by title (${ae.length} groups)`:"Individual items"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Item"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"SKUs"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Quantity"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Available"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Checked Out"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Location"}),A&&o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{children:ae.map(Le=>Le.type==="group"?o.jsx(eBe,{title:Le.title,supplier:Le.items[0]?.supplier,items:Le.items,totalQuantity:Le.totalQuantity,uniqueSKUs:Le.uniqueSKUs,category:Le.category,location:Le.location,isExpanded:k.has(Le.title),onToggle:()=>te(Le.title),onEditItem:it,canEdit:!!A,calibrationData:Se},Le.title):o.jsx(tBe,{item:Le.item,onEditItem:it,onDeleteItem:Xe,canEdit:!!A},Le.item.id))})]})})]}),!a&&G.length===0&&o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(Ec,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No items found"}),o.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your search or filters"}),(h||g||w||C)&&o.jsx("button",{onClick:()=>{p(""),v(""),S(""),E("")},className:"px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:"Clear All Filters"})]})}),o.jsx(XSe,{isOpen:I,onClose:()=>Q(!1),onImport:Ie}),o.jsx(JSe,{isOpen:R,onClose:ke,onSubmit:Et,initialData:se&&ee||void 0,isEditMode:se}),o.jsx(rf,{isOpen:Ae.isOpen,onClose:()=>ge({isOpen:!1}),onConfirm:ft,title:"Delete Inventory Item",message:`Are you sure you want to delete "${Ae.itemTitle}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete Item",cancelText:"Cancel"}),o.jsx(rf,{isOpen:Z.isOpen,onClose:()=>O({isOpen:!1}),onConfirm:Ye,title:"Confirm Bulk Import",message:`You are about to import ${Z.itemCount} inventory items. This action cannot be undone. Do you want to proceed?`,variant:"warning",confirmText:"Import Items",cancelText:"Cancel"})]})})},sBe="modulepreload",iBe=function(r){return"/"+r},CM={},xw=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(A=>Promise.resolve(A).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(t.map(u=>{if(u=iBe(u),u in CM)return;CM[u]=!0;const A=u.endsWith(".css"),h=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=A?"stylesheet":sBe,A||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),A)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},q3=Ic((r,e)=>({tickets:[],filteredTickets:[],filters:{},loading:!1,stats:null,fetchMaintenance:async()=>{r({loading:!0});try{const t=await wr.getAllMaintenanceTickets();r({tickets:t,filteredTickets:t}),e().calculateStats()}catch{rr.error("Failed to fetch maintenance tickets")}finally{r({loading:!1})}},fetchMaintenanceById:async t=>{try{const{tickets:n}=e();return n.find(a=>a.id===t)||null}catch{return rr.error("Failed to fetch ticket"),null}},createTicket:async t=>{r({loading:!0});try{const n=await wr.createMaintenanceTicket(t);r(a=>({tickets:[...a.tickets,n],filteredTickets:[...a.filteredTickets,n]})),e().calculateStats(),rr.success("Ticket created successfully")}catch{rr.error("Failed to create ticket")}finally{r({loading:!1})}},updateTicket:async(t,n)=>{r({loading:!0});try{await wr.updateMaintenanceTicket(t,n),r(a=>({tickets:a.tickets.map(s=>s.id===t?{...s,...n}:s),filteredTickets:a.filteredTickets.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),rr.success("Ticket updated successfully")}catch{rr.error("Failed to update ticket")}finally{r({loading:!1})}},deleteTicket:async t=>{r({loading:!0});try{await wr.deleteMaintenanceTicket(t),r(n=>({tickets:n.tickets.filter(a=>a.id!==t),filteredTickets:n.filteredTickets.filter(a=>a.id!==t)})),e().calculateStats(),rr.success("Ticket deleted successfully")}catch{rr.error("Failed to delete ticket")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{tickets:t,filters:n}=e();let a=[...t];n.status&&(a=a.filter(s=>s.status===n.status)),n.priority&&(a=a.filter(s=>s.priority===n.priority)),n.assignedTo&&(a=a.filter(s=>s.assignedTo===n.assignedTo)),r({filteredTickets:a})},calculateStats:()=>{const{tickets:t}=e(),n={total:t.length,pending:t.filter(a=>a.status==="open").length,inProgress:t.filter(a=>a.status==="in-progress").length,completed:t.filter(a=>a.status==="resolved"||a.status==="closed").length,overdue:0};r({stats:n})}})),hj={calibration:"Calibration",inspection:"Inspection",servicing:"Servicing",replacement:"Replacement",other:"Other"},Ky={deduct:"Deduct from inventory","status-only":'Mark as "In Maintenance" only',none:"No change to inventory"},uV={deduct:"The item quantity will be reduced when maintenance starts and restored when completed.","status-only":'The item will be marked as "In Maintenance" but quantity remains unchanged.',none:"No changes will be made to inventory quantity or status."},oBe=({isOpen:r,onClose:e,editingTicket:t})=>{const{createTicket:n,updateTicket:a}=q3(),{items:s,fetchInventory:i}=Dv(),[l,c]=B.useState({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1});B.useEffect(()=>{r&&(i(),t&&c({title:t.title||"",itemId:t.itemId||"",itemName:t.itemName||"",description:t.description||"",status:t.status,priority:t.priority,category:t.category||"",assignedTo:t.assignedTo||"",inventoryAction:t.inventoryAction||"none",quantityAffected:t.quantityAffected||1}))},[r,i,t]);const[u,A]=B.useState(!1);if(!r)return null;const h=(g,v)=>{c(w=>{const S={...w,[g]:v};if(g==="itemId"){const C=s.find(E=>E.id===v);C&&(S.itemName=C.title)}return S})},p=async g=>{if(g.preventDefault(),!l.title.trim()){ye.error("Please enter a title");return}if(!l.description.trim()){ye.error("Please enter a description");return}if(!l.category.trim()){ye.error("Please select a category");return}if(l.inventoryAction==="deduct"&&l.itemId){const v=s.find(w=>w.id===l.itemId);if(v&&l.quantityAffected>v.quantity){ye.error(`Cannot deduct more than available quantity (${v.quantity})`);return}}A(!0);try{if(t){const v={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,assignedTo:l.assignedTo||void 0};await a(t.id,v)}else{const v={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,createdDate:new Date().toISOString(),itemId:l.itemId||void 0,itemName:l.itemName||void 0,assignedTo:l.assignedTo||void 0,inventoryAction:l.itemId?l.inventoryAction:void 0,quantityAffected:l.itemId&&l.inventoryAction==="deduct"?l.quantityAffected:void 0};await n(v)}y()}catch(v){Rt.error("Error saving ticket:",v)}finally{A(!1)}},m=s.find(g=>g.id===l.itemId),y=()=>{c({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1}),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(qp,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?"Edit Maintenance Ticket":"New Maintenance Ticket"}),o.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:t?"Update ticket details and status":"Create a new maintenance request"})]})]}),o.jsx("button",{onClick:y,className:"p-2 hover:bg-primary-200 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-600"})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.title,onChange:g=>h("title",g.target.value),placeholder:"e.g., Equipment maintenance required",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:l.description,onChange:g=>h("description",g.target.value),placeholder:"Describe the maintenance issue in detail",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.category,onChange:g=>h("category",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"Equipment",children:"Equipment"}),o.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),o.jsx("option",{value:"Software",children:"Software"}),o.jsx("option",{value:"Hardware",children:"Hardware"}),o.jsx("option",{value:"Facility",children:"Facility"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.priority,onChange:g=>h("priority",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]}),t&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.status,onChange:g=>h("status",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"resolved",children:"Resolved"}),o.jsx("option",{value:"closed",children:"Closed"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item (Optional)"}),o.jsxs("select",{value:l.itemId,onChange:g=>h("itemId",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select an item"}),s.map(g=>o.jsx("option",{value:g.id,children:g.title},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To (Optional)"}),o.jsx("input",{type:"text",value:l.assignedTo,onChange:g=>h("assignedTo",g.target.value),placeholder:"Team member name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),l.itemId&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(Ky).map(g=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-all ${l.inventoryAction===g?"border-primary-500 bg-white shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventoryAction",value:g,checked:l.inventoryAction===g,onChange:v=>h("inventoryAction",v.target.value),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:Ky[g]}),o.jsx("div",{className:"text-sm text-gray-500",children:uV[g]})]})]},g))}),l.inventoryAction==="deduct"&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Deduct"}),o.jsx("input",{type:"number",min:1,max:m?.quantity||100,value:l.quantityAffected,onChange:g=>h("quantityAffected",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),m&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",m.quantity," ",m.unitOfMeasure||"units"]})]}),o.jsxs("div",{className:"flex items-start gap-2 mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(os,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-blue-800",children:"Inventory will be restored automatically when this ticket is marked as completed or resolved."})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:t?u?"Saving...":"Save Changes":u?"Creating...":"Create Ticket"})]})]})]})})},lBe=({isOpen:r,onClose:e,editingSchedule:t,preselectedItemId:n})=>{const{items:a,fetchInventory:s}=Dv(),{createSchedule:i,updateSchedule:l,loading:c}=V3(),[u,A]=B.useState({item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),[h,p]=B.useState({});B.useEffect(()=>{r&&s()},[r,s]),B.useEffect(()=>{A(t?{item_id:t.item_id,maintenance_type:t.maintenance_type,description:t.description||"",scheduled_date:t.scheduled_date.split("T")[0],inventory_action:t.inventory_action,quantity_affected:t.quantity_affected}:n?v=>({...v,item_id:n}):{item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),p({})},[t,n,r]);const m=()=>{const v={};if(u.item_id||(v.item_id="Please select an item"),!u.scheduled_date)v.scheduled_date="Please select a date";else{const w=new Date(u.scheduled_date),S=new Date;S.setHours(0,0,0,0),w<S&&!t&&(v.scheduled_date="Date cannot be in the past")}return u.inventory_action==="deduct"&&u.quantity_affected<1&&(v.quantity_affected="Quantity must be at least 1"),p(v),Object.keys(v).length===0},y=async v=>{if(v.preventDefault(),!!m())try{t?await l(t.id,{maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}):await i({item_id:u.item_id,maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}),e()}catch{}},g=a.find(v=>v.id===u.item_id);return o.jsx(XC,{isOpen:r,onClose:e,title:t?"Edit Scheduled Maintenance":"Schedule Maintenance",description:"Set up maintenance reminders",icon:o.jsx(so,{className:"w-5 h-5 text-amber-600"}),size:"md",children:o.jsxs("form",{onSubmit:y,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Equipment/Item *"}),o.jsxs("select",{value:u.item_id,onChange:v=>A({...u,item_id:v.target.value}),disabled:!!t||!!n,className:`w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${h.item_id?"border-red-300":"border-gray-200"} ${t||n?"bg-gray-50 cursor-not-allowed":""}`,children:[o.jsx("option",{value:"",children:"Select an item..."}),a.map(v=>o.jsxs("option",{value:v.id,children:[v.title," (",v.sku,")"]},v.id))]}),h.item_id&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.item_id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Maintenance Type *"}),o.jsx("select",{value:u.maintenance_type,onChange:v=>A({...u,maintenance_type:v.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:Object.entries(hj).map(([v,w])=>o.jsx("option",{value:v,children:w},v))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Scheduled Date *"}),o.jsx(Zs,{type:"date",value:u.scheduled_date,onChange:v=>A({...u,scheduled_date:v.target.value}),min:new Date().toISOString().split("T")[0],className:h.scheduled_date?"border-red-300":""}),h.scheduled_date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.scheduled_date})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description (Optional)"}),o.jsx("textarea",{value:u.description,onChange:v=>A({...u,description:v.target.value}),placeholder:"Additional notes about this maintenance...",rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(Ky).map(v=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-xl cursor-pointer transition-all ${u.inventory_action===v?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventory_action",value:v,checked:u.inventory_action===v,onChange:w=>A({...u,inventory_action:w.target.value}),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:Ky[v]}),o.jsx("div",{className:"text-sm text-gray-500",children:uV[v]})]})]},v))})]}),u.inventory_action==="deduct"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Quantity to Deduct"}),o.jsx(Zs,{type:"number",min:1,max:g?.quantity||100,value:u.quantity_affected,onChange:v=>A({...u,quantity_affected:parseInt(v.target.value)||1}),className:h.quantity_affected?"border-red-300":""}),g&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",g.quantity," ",g.unitOfMeasure||"units"]}),h.quantity_affected&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.quantity_affected})]}),o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[o.jsx(os,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-amber-800",children:[o.jsx("p",{className:"font-medium",children:"Reminders will be sent:"}),o.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:"14 days before the scheduled date"}),o.jsx("li",{children:"7 days before the scheduled date"}),o.jsx("li",{children:"1 day before the scheduled date"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Qt,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),o.jsx(Qt,{type:"submit",disabled:c,className:"flex-1",children:c?"Saving...":t?"Update Schedule":"Create Schedule"})]})]})})},cBe=()=>{const{filteredTickets:r,fetchMaintenance:e,loading:t,stats:n,updateTicket:a,deleteTicket:s}=q3(),{schedules:i,stats:l,loading:c,fetchSchedules:u,fetchStats:A,deleteSchedule:h,markCompleted:p,createTicketFromSchedule:m}=V3(),{isMobile:y}=gC(),[g,v]=B.useState("ongoing"),[w,S]=B.useState(!1),[C,E]=B.useState(!1),[_,L]=B.useState(!1),[D,P]=B.useState(null),[k,z]=B.useState(null),[I,Q]=B.useState([]),[R,K]=B.useState(""),[ee,Y]=B.useState({isOpen:!1}),se=async()=>{try{const J=new Date;J.setDate(1),J.setHours(0,0,0,0);const Ie=await(await xw(async()=>{const{httpClient:Ye}=await Promise.resolve().then(()=>Tne);return{httpClient:Ye}},[])).httpClient.api.get("/scheduled-maintenance",{params:{is_completed:!0,from_date:J.toISOString()}});Q(Ie.data)}catch(J){console.error("Failed to fetch completed schedules:",J)}};B.useEffect(()=>{e(),u({is_completed:!1}),A(),g==="completed"&&se()},[g]);const X=J=>{const Ie={open:"warning","in-progress":"info",resolved:"success",closed:"default"},Ye={open:"Open","in-progress":"In Progress",resolved:"Resolved",closed:"Closed"};return o.jsx(Un,{variant:Ie[J]||"default",children:Ye[J]||J})},Ae=J=>{const Ie={critical:"danger",high:"warning",medium:"info",low:"default"},Ye={critical:"Critical",high:"High",medium:"Medium",low:"Low"};return o.jsx(Un,{variant:Ie[J]||"default",size:"sm",children:Ye[J]||J})},ge=J=>{P(J),L(!0)},Z=J=>{Y({isOpen:!0,ticketId:J,type:"ticket"})},O=J=>{Y({isOpen:!0,scheduleId:J,type:"schedule"})},H=async()=>{try{ee.type==="ticket"&&ee.ticketId?(await s(ee.ticketId),rr.success("Ticket deleted successfully"),e()):ee.type==="schedule"&&ee.scheduleId&&(await h(ee.scheduleId),rr.success("Scheduled maintenance deleted"),u({is_completed:!1}),A()),Y({isOpen:!1})}catch{rr.error(`Failed to delete ${ee.type}`)}},V=J=>{z(J),E(!0)},G=async J=>{try{await p(J),rr.success("Maintenance marked as completed"),u({is_completed:!1}),A()}catch{rr.error("Failed to mark as completed")}},ae=async J=>{try{await m(J),rr.success("Maintenance ticket created"),e(),u({is_completed:!1})}catch{rr.error("Failed to create ticket")}},ue=J=>{const Ie=i.find(Ye=>Ye.id===J);if(Ie?.ticket_id){const Ye=r.find(Bt=>Bt.id===Ie.ticket_id);if(Ye){const Bt=Ye.status==="resolved"||Ye.status==="closed";v(Bt?"completed":"ongoing"),rr.success(`Switched to ${Bt?"Completed":"On-going"} tab`)}}},Se=J=>{r.find(Ye=>Ye.id===J)?.scheduledMaintenanceId&&(v("scheduled"),rr.success("Switched to Scheduled tab"))},te=J=>{const Ie=new Date;Ie.setHours(0,0,0,0);const Ye=new Date(J);Ye.setHours(0,0,0,0);const Bt=Ye.getTime()-Ie.getTime();return Math.ceil(Bt/(1e3*60*60*24))},pe=J=>{const Ie=te(J);return Ie<0?o.jsxs(Un,{variant:"danger",children:[Math.abs(Ie)," days overdue"]}):Ie===0?o.jsx(Un,{variant:"danger",children:"Due today"}):Ie<=7?o.jsxs(Un,{variant:"warning",children:[Ie," days left"]}):Ie<=14?o.jsxs(Un,{variant:"info",children:[Ie," days left"]}):o.jsxs(Un,{variant:"success",children:[Ie," days left"]})},ke=J=>{if(!R.trim())return!0;const Ie=R.toLowerCase(),Ye=(J.title||J.itemName||"").toLowerCase(),Bt=(J.description||"").toLowerCase(),it=(J.item?.title||"").toLowerCase();return Ye.includes(Ie)||Bt.includes(Ie)||it.includes(Ie)},Ee=r.filter(J=>g==="ongoing"?J.status!=="resolved"&&J.status!=="closed":J.status==="resolved"||J.status==="closed").filter(ke),Ue=I.filter(ke),je=i.filter(ke);return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[n?.pending||0," on-going, ",n?.completed||0," completed",l&&`, ${l.total} scheduled`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Qt,{onClick:()=>{z(null),E(!0)},variant:"outline",icon:o.jsx(so,{className:"w-4 h-4"}),size:"md",children:"Schedule"}),o.jsx(Qt,{onClick:()=>S(!0),icon:o.jsx(ei,{className:"w-4 h-4"}),size:"md",children:"New Ticket"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:o.jsx(qp,{className:"w-5 h-5 text-amber-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"On-going"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n?.pending||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(so,{className:"w-5 h-5 text-blue-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.total||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center",children:o.jsx(Jh,{className:"w-5 h-5 text-red-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.overdue||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(za,{className:"w-5 h-5 text-green-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Completed This Month"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.completedThisMonth||0})]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search by title, description, or item name...",value:R,onChange:J=>K(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>v("ongoing"),className:`px-4 py-2 font-medium transition-colors relative ${g==="ongoing"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["On-going",n&&n.pending>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary-100 text-primary-700 rounded-full",children:n.pending})]}),o.jsxs("button",{onClick:()=>v("completed"),className:`px-4 py-2 font-medium transition-colors relative ${g==="completed"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Completed",n&&n.completed>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded-full",children:n.completed})]}),o.jsxs("button",{onClick:()=>v("scheduled"),className:`px-4 py-2 font-medium transition-colors relative ${g==="scheduled"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Scheduled",l&&(l.upcoming>0||l.overdue>0)&&o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.overdue>0?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:l.overdue>0?l.overdue:l.upcoming})]})]}),(t||c)&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!t&&g!=="scheduled"&&Ee.length>0&&o.jsx("div",{className:"space-y-3",children:Ee.map(J=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:J.title}),Ae(J.priority),J.scheduledMaintenanceId&&o.jsxs(Un,{variant:"info",size:"sm",children:[o.jsx(so,{className:"w-3 h-3 inline mr-1"}),"From Schedule"]})]}),J.itemName&&o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Item: ",J.itemName]}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:J.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Created: ",a0(J.createdDate)]}),J.assignedTo&&o.jsxs("span",{children:["Assigned to: ",J.assignedTo]}),J.completedDate&&o.jsxs("span",{children:["Completed: ",a0(J.completedDate)]})]})]}),o.jsxs("div",{className:"flex md:flex-col items-center md:items-end gap-2",children:[X(J.status),o.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[J.scheduledMaintenanceId&&o.jsx("button",{onClick:()=>Se(J.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-colors",title:"View linked schedule",children:o.jsx(so,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>ge(J),className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Edit ticket",children:o.jsx(ko,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Z(J.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete ticket",children:o.jsx(ws,{className:"w-4 h-4"})})]})]})]})},J.id))}),!c&&g==="completed"&&Ue.length>0&&o.jsx("div",{className:"space-y-3",children:Ue.map(J=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 flex-1",children:[J.item?.title||"Unknown Item"," - ",hj[J.maintenance_type]]}),o.jsx(Un,{variant:"success",children:"Completed"})]}),J.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:J.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Scheduled: ",a0(J.scheduled_date)]}),J.completed_date&&o.jsxs("span",{children:["Completed: ",a0(J.completed_date)]}),J.ticket_id&&o.jsxs(Un,{variant:"info",size:"sm",children:["Ticket #",J.ticket_id.slice(0,8)]})]})]})})},`schedule-${J.id}`))}),!c&&g==="scheduled"&&je.length>0&&o.jsx("div",{className:"space-y-3",children:je.map(J=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:J.item?.title||"Unknown Item"}),pe(J.scheduled_date)]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o.jsx(Un,{variant:"info",size:"sm",children:hj[J.maintenance_type]}),o.jsx(Un,{variant:"default",size:"sm",children:Ky[J.inventory_action]}),J.ticket_id&&o.jsx(Un,{variant:"success",size:"sm",children:"Ticket Created"})]}),J.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:J.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(so,{className:"w-3 h-3"}),a0(J.scheduled_date)]}),J.item?.sku&&o.jsxs("span",{children:["SKU: ",J.item.sku]}),J.inventory_action==="deduct"&&o.jsxs("span",{children:["Qty: ",J.quantity_affected]})]})]}),o.jsx("div",{className:"flex md:flex-col items-center gap-2",children:o.jsxs("div",{className:"flex gap-1",children:[J.ticket_id?o.jsx("button",{onClick:()=>ue(J.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"View linked ticket",children:o.jsx(za,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>ae(J.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded transition-colors",title:"Create maintenance ticket",children:o.jsx(EZ,{className:"w-4 h-4"})}),J.ticket_id?o.jsx("button",{disabled:!0,className:"p-2 text-gray-400 cursor-not-allowed rounded",title:"Complete by resolving the linked ticket",children:o.jsx(za,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>G(J.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Mark as completed",children:o.jsx(za,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>V(J),className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Edit schedule",children:o.jsx(ko,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>O(J.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete schedule",children:o.jsx(ws,{className:"w-4 h-4"})})]})})]})},J.id))}),!t&&g!=="scheduled"&&Ee.length===0&&o.jsx(o.Fragment,{children:Ue.length===0&&o.jsx(Vr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(qp,{className:"w-16 h-16 mb-4 opacity-50"}),R?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No results found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-lg font-medium mb-2",children:["No ",g," tickets"]}),o.jsx("p",{className:"text-sm",children:"Create a new maintenance ticket to get started"})]})]})})}),!c&&g==="scheduled"&&je.length===0&&o.jsx(Vr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(so,{className:"w-16 h-16 mb-4 opacity-50"}),R?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance found"}),o.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance"}),o.jsx("p",{className:"text-sm mb-4",children:"Schedule equipment maintenance, calibrations, or inspections"})]}),!R&&o.jsx(Qt,{onClick:()=>{z(null),E(!0)},icon:o.jsx(ei,{className:"w-5 h-5"}),children:"Schedule Maintenance"})]})}),y&&o.jsx("button",{onClick:()=>S(!0),className:"fixed bottom-20 right-4 w-14 h-14 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center z-30",title:"Create new maintenance ticket",children:o.jsx(ei,{className:"w-6 h-6"})})]}),o.jsx(oBe,{isOpen:w||_,onClose:()=>{S(!1),L(!1),P(null),e()},editingTicket:D||void 0}),o.jsx(lBe,{isOpen:C,onClose:()=>{E(!1),z(null),u({is_completed:!1}),A()},editingSchedule:k}),o.jsx(rf,{isOpen:ee.isOpen,onClose:()=>Y({isOpen:!1}),onConfirm:H,title:ee.type==="schedule"?"Delete Scheduled Maintenance":"Delete Maintenance Ticket",message:ee.type==="schedule"?"Are you sure you want to delete this scheduled maintenance? This action cannot be undone.":"Are you sure you want to delete this ticket? This action cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},NM={minLength:8},uBe=({isOpen:r,onClose:e,userEmail:t=""})=>{const[n,a]=B.useState(""),[s,i]=B.useState(""),[l,c]=B.useState(""),[u,A]=B.useState(!1),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),w=D=>D.length>=NM.minLength&&/[A-Z]/.test(D)&&/[a-z]/.test(D)&&/\d/.test(D)&&/[!@#$%^&*(),.?":{}|<>]/.test(D),C=(D=>{let P=0;return P=[D.length>=NM.minLength,/[A-Z]/.test(D),/[a-z]/.test(D),/\d/.test(D),/[!@#$%^&*(),.?":{}|<>]/.test(D)].filter(Boolean).length,P<=2?{score:1,label:"Weak",color:"bg-red-500"}:P<=3?{score:2,label:"Medium",color:"bg-yellow-500"}:{score:3,label:"Strong",color:"bg-green-500"}})(s),E=w(s),_=s===l&&s.length>0,L=async D=>{if(D.preventDefault(),!n){ye.error("Current password is required");return}if(!E){ye.error("Password does not meet requirements");return}if(!_){ye.error("Passwords do not match");return}v(!0);try{await wr.changePassword(t,n,s),ye.success("Password changed successfully"),a(""),i(""),c(""),e()}catch(P){const k=P.response?.data?.error||P.response?.data?.message||"Failed to change password";ye.error(k),Rt.error("Password change error:",P)}finally{v(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-lg shadow-lg",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(Uh,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Change Password"}),o.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),o.jsxs("form",{onSubmit:L,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:n,onChange:D=>a(D.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter current password"}),o.jsx("button",{type:"button",onClick:()=>A(!u),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:u?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",value:s,onChange:D=>i(D.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter new password"}),o.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:h?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),s&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex gap-1 h-2",children:[o.jsx("div",{className:`flex-1 rounded-full ${C.score>=1?C.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${C.score>=2?C.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${C.score>=3?C.color:"bg-gray-200"}`})]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Strength: ",o.jsx("span",{className:`font-semibold ${C.score===1?"text-red-600":C.score===2?"text-yellow-600":"text-green-600"}`,children:C.label})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:s.length>=8?"text-green-600":"",children:[s.length>=8?"":""," At least 8 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(s)?"text-green-600":"",children:[/[A-Z]/.test(s)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(s)?"text-green-600":"",children:[/[a-z]/.test(s)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(s)?"text-green-600":"",children:[/\d/.test(s)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(s)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",value:l,onChange:D=>c(D.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Confirm new password"}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:m?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})}),l&&o.jsx("div",{className:"absolute right-10 top-2.5",children:_?o.jsx(za,{className:"w-5 h-5 text-green-500"}):o.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-red-500"})})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:g,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!E||!_||!n||g,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Changing...":"Change Password"})]})]})]})}):null},dBe={emailNotifications:!0,pushNotifications:!0,lowStockAlerts:!0,maintenanceReminders:!0,darkMode:!1,language:"en",timeZone:"Asia/Kuala_Lumpur",twoFactorEnabled:!1},ABe=({isOpen:r,onClose:e,userEmail:t=""})=>{const{theme:n,toggleTheme:a}=W7(),[s,i]=B.useState({...dBe,darkMode:n==="dark"}),[l,c]=B.useState(!1);B.useEffect(()=>{const h=localStorage.getItem("userPreferences");if(h)try{const p=JSON.parse(h);i({...p,darkMode:n==="dark"})}catch(p){Rt.error("Failed to load preferences:",p)}else i(p=>({...p,darkMode:n==="dark"}))},[r,n]);const u=(h,p)=>{i(m=>({...m,[h]:p})),h==="darkMode"&&a()},A=async()=>{c(!0);try{localStorage.setItem("userPreferences",JSON.stringify(s)),ye.success("Preferences saved successfully"),e()}catch{ye.error("Failed to save preferences")}finally{c(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-2xl p-6 bg-white rounded-lg shadow-lg max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(JE,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:h=>u("emailNotifications",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.pushNotifications,onChange:h=>u("pushNotifications",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Push Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.lowStockAlerts,onChange:h=>u("lowStockAlerts",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Low Stock Alerts"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.maintenanceReminders,onChange:h=>u("maintenanceReminders",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Maintenance Reminders"})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(vi,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Display"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.darkMode,onChange:h=>u("darkMode",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Dark Mode"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),o.jsxs("select",{value:s.language,onChange:h=>u("language",h.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"ms",children:"Malay (Bahasa Melayu)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),o.jsxs("select",{value:s.timeZone,onChange:h=>u("timeZone",h.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"Asia/Kuala_Lumpur",children:"Malaysia (GMT+8)"}),o.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"}),o.jsx("option",{value:"Asia/Bangkok",children:"Thailand (GMT+7)"}),o.jsx("option",{value:"UTC",children:"UTC"}),o.jsx("option",{value:"Europe/London",children:"London (GMT)"}),o.jsx("option",{value:"America/New_York",children:"New York (EST)"})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:e,disabled:l,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:A,disabled:l,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:l?"Saving...":"Save Preferences"})]})]})}):null},xb={async getSettings(){return(await rt.get("/company-settings")).data},async updateSettings(r){return(await rt.put("/company-settings",r)).data},async uploadLogo(r){const e=new FormData;return e.append("logo",r),(await rt.post("/company-settings/logo",e,{headers:{"Content-Type":"multipart/form-data"}})).data},async deleteLogo(){await rt.delete("/company-settings/logo")}},hBe="/api",fBe=()=>{const[r,e]=B.useState(null),[t,n]=B.useState(!0),[a,s]=B.useState(!1),[i,l]=B.useState(!1),c=B.useRef(null),[u,A]=B.useState({company_name:"",registration_number:"",address:"",phone:"",mobile:"",email:"",sst_id:"",primary_color:"#2563eb",invoice_footer:"",po_footer:"",bank_details:"",header_position:"top-center",logo_size:"medium",show_sst_id:!0,show_bank_details:!0,page_margin:50});B.useEffect(()=>{h()},[]);const h=async()=>{try{const v=await xb.getSettings();e(v),A({company_name:v.company_name||"",registration_number:v.registration_number||"",address:v.address||"",phone:v.phone||"",mobile:v.mobile||"",email:v.email||"",sst_id:v.sst_id||"",primary_color:v.primary_color||"#2563eb",invoice_footer:v.invoice_footer||"",po_footer:v.po_footer||"",bank_details:v.bank_details||"",header_position:v.header_position||"top-center",logo_size:v.logo_size||"medium",show_sst_id:v.show_sst_id??!0,show_bank_details:v.show_bank_details??!0,page_margin:v.page_margin||50})}catch(v){Rt.error("Error loading company settings:",v),ye.error("Failed to load company settings")}finally{n(!1)}},p=v=>{const{name:w,value:S,type:C}=v.target,E=v.target.checked;A(_=>({..._,[w]:C==="checkbox"?E:C==="number"?Number(S):S}))},m=async()=>{s(!0);try{const v=await xb.updateSettings(u);e(v),ye.success("Company settings saved successfully")}catch(v){Rt.error("Error saving company settings:",v),ye.error("Failed to save company settings")}finally{s(!1)}},y=async v=>{const w=v.target.files?.[0];if(!w)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(w.type)){ye.error("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image.");return}if(w.size>5*1024*1024){ye.error("File too large. Maximum size is 5MB.");return}l(!0);try{const C=await xb.uploadLogo(w);e(E=>E&&{...E,logo_url:C.logoUrl}),ye.success("Logo uploaded successfully")}catch(C){Rt.error("Error uploading logo:",C),ye.error("Failed to upload logo")}finally{l(!1),c.current&&(c.current.value="")}},g=async()=>{if(r?.logo_url&&confirm("Are you sure you want to delete the company logo?"))try{await xb.deleteLogo(),e(v=>v&&{...v,logo_url:null}),ye.success("Logo deleted successfully")}catch(v){Rt.error("Error deleting logo:",v),ye.error("Failed to delete logo")}};return t?o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Xh,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Settings"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Configure your company details for PDF documents"})]})]}),o.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[o.jsx(l7,{className:"w-4 h-4"}),a?"Saving...":"Save Changes"]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Pw,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Logo"})]}),o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"w-40 h-40 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:r?.logo_url?o.jsx("img",{src:`${hBe}${r.logo_url}`,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(Pw,{className:"w-12 h-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"No logo"})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload your company logo. Recommended size: 300x100px. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:y,className:"hidden"}),o.jsxs("button",{onClick:()=>c.current?.click(),disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:[o.jsx(Fo,{className:"w-4 h-4"}),i?"Uploading...":"Upload Logo"]}),r?.logo_url&&o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:[o.jsx(ws,{className:"w-4 h-4"}),"Delete"]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Position"}),o.jsxs("select",{name:"header_position",value:u.header_position,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"top-left",children:"Top Left"}),o.jsx("option",{value:"top-center",children:"Top Center"}),o.jsx("option",{value:"top-right",children:"Top Right"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Size"}),o.jsxs("select",{name:"logo_size",value:u.logo_size,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"small",children:"Small (60px)"}),o.jsx("option",{value:"medium",children:"Medium (100px)"}),o.jsx("option",{value:"large",children:"Large (150px)"})]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Xh,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),o.jsx("input",{type:"text",name:"company_name",value:u.company_name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),o.jsx("input",{type:"text",name:"registration_number",value:u.registration_number,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 863273W"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("textarea",{name:"address",value:u.address,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter company address (one line per address line)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"text",name:"phone",value:u.phone,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +604 376 2355"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),o.jsx("input",{type:"text",name:"mobile",value:u.mobile,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +60 17 2008173"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:u.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., contact@company.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SST ID"}),o.jsx("input",{type:"text",name:"sst_id",value:u.sst_id,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., P11-1808-31028245"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx($a,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"PDF Document Options"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Margin (px)"}),o.jsx("input",{type:"number",name:"page_margin",value:u.page_margin,onChange:p,min:20,max:100,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_sst_id",checked:u.show_sst_id,onChange:p,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show SST ID on PDFs"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_bank_details",checked:u.show_bank_details,onChange:p,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Bank Details on PDFs"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Footer Text"}),o.jsx("textarea",{name:"invoice_footer",value:u.invoice_footer,onChange:p,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Payment terms, notes, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Footer Text"}),o.jsx("textarea",{name:"po_footer",value:u.po_footer,onChange:p,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"PO terms, signature requirements, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Details"}),o.jsx("textarea",{name:"bank_details",value:u.bank_details,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Bank name, account number, etc."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(jee,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Branding Colors"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",name:"primary_color",value:u.primary_color,onChange:p,className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:u.primary_color,onChange:v=>A(w=>({...w,primary_color:v.target.value})),className:"w-28 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"#2563eb"})]})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"This color will be used for accents in generated PDF documents."})]})]})]})},dV=Ic((r,e)=>({checkouts:[],filteredCheckouts:[],filters:{showMyCheckoutsFirst:!0},stats:{totalActive:0,myActive:0,overdue:0,partialReturns:0},loading:!1,fetchCheckouts:async()=>{r({loading:!0});try{const t=await On.getAllCheckouts(),n=Bo(),a=[...t].sort((s,i)=>{const l=s.checkedOutByEmail===n.email,c=i.checkedOutByEmail===n.email;return l&&!c?-1:!l&&c?1:new Date(i.checkedOutDate).getTime()-new Date(s.checkedOutDate).getTime()});r({checkouts:a,filteredCheckouts:a}),e().getCheckoutStats()}catch(t){console.error("Failed to fetch checkouts:",t),r({checkouts:[],filteredCheckouts:[]})}finally{r({loading:!1})}},setFilters:t=>{r({filters:t});const{checkouts:n}=e(),a=Bo();let s=[...n];if(t.status&&t.status!=="all"&&(s=s.filter(i=>i.status===t.status)),t.userId&&(s=s.filter(i=>i.checkedOutByEmail===t.userId)),t.search){const i=t.search.toLowerCase();s=s.filter(l=>l.masterBarcode.toLowerCase().includes(i)||l.purpose?.toLowerCase().includes(i)||l.checkedOutBy.toLowerCase().includes(i)||l.items.some(c=>c.itemName.toLowerCase().includes(i)))}t.showMyCheckoutsFirst&&s.sort((i,l)=>{const c=i.checkedOutByEmail===a.email,u=l.checkedOutByEmail===a.email;return c&&!u?-1:!c&&u?1:0}),r({filteredCheckouts:s})},getCheckoutByMasterBarcode:t=>{const{checkouts:n}=e();return n.find(a=>a.masterBarcode===t)},getMyActiveCheckouts:()=>{const{checkouts:t}=e(),n=Bo();return t.filter(a=>a.checkedOutByEmail===n.email&&(a.status==="active"||a.status==="partial-return"||a.status==="overdue"))},getCheckoutStats:()=>{const{checkouts:t}=e(),n=Bo(),a=t.filter(i=>i.status==="active"||i.status==="partial-return"||i.status==="overdue"),s={totalActive:a.length,myActive:a.filter(i=>i.checkedOutByEmail===n.email).length,overdue:t.filter(i=>i.status==="overdue").length,partialReturns:t.filter(i=>i.status==="partial-return").length};return r({stats:s}),s}})),AV=Ic(r=>({pcs:[],loading:!1,error:null,fetchPCs:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllComputers(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>{let i="available";return s.status==="in-repair"?i="maintenance":s.assigned_to&&(i="assigned"),{id:s.id,name:s.device_name||s.name,location:s.location||"",status:i,assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(l=>l.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}});r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch PCs";console.error("Error fetching PCs:",n),r({error:n,loading:!1})}},addPC:async e=>{try{r({loading:!0,error:null});const t=await wr.createComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:t.assigned_to?"assigned":t.status==="maintenance"?"maintenance":"available",assignedTo:t.assignee?.name||t.assignedTo,assignedToEmail:t.assignee?.email||t.assignedToEmail,assignedDate:t.updated_at,notes:t.notes,softwareUsed:t.installed_software?t.installed_software.split(",").filter(a=>a.trim()):[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:[...a.pcs,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add PC";console.error("Error adding PC:",n),r({error:n,loading:!1})}},assignPC:async(e,t,n,a,s,i)=>{try{r({loading:!0,error:null});const l=await wr.assignComputerToUser(e,t,i,s),c={id:l.id,name:l.device_name||l.name,location:l.location||"",status:"assigned",assignedTo:l.assignee?.name||n,assignedToEmail:l.assignee?.email||a,assignedDate:new Date().toISOString(),notes:l.notes||s,softwareUsed:l.installed_software?l.installed_software.split(",").filter(u=>u.trim()):i,lastUpdated:l.updated_at||new Date().toISOString()};r(u=>({pcs:u.pcs.map(A=>A.id===e?c:A),loading:!1}))}catch(l){const c=l?.response?.data?.error||l?.message||"Failed to assign PC";throw console.error("Error assigning PC:",c),r({error:c,loading:!1}),l}},releasePC:async e=>{try{r({loading:!0,error:null});const t=await wr.unassignComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:"available",assignedTo:void 0,assignedToEmail:void 0,assignedDate:void 0,notes:t.notes,softwareUsed:[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:a.pcs.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to release PC";console.error("Error releasing PC:",n),r({error:n,loading:!1})}},updatePC:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updateComputer(e,t);let a="available";n.status==="in-repair"?a="maintenance":n.assigned_to&&(a="assigned");const s={id:n.id,name:n.device_name||n.name,location:n.location||"",status:a,assignedTo:n.assignee?.name||n.assignedTo,assignedToEmail:n.assignee?.email||n.assignedToEmail,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(i=>({pcs:i.pcs.map(l=>l.id===e?s:l),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update PC";console.error("Error updating PC:",a),r({error:a,loading:!1})}},deletePC:async e=>{try{r({loading:!0,error:null}),await wr.deleteComputer(e),r(t=>({pcs:t.pcs.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete PC";console.error("Error deleting PC:",n),r({error:n,loading:!1})}},getPCsAssignedTo:async e=>{try{r({loading:!0,error:null});const t=await wr.getComputersAssignedTo(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>({id:s.id,name:s.device_name||s.name,location:s.location||"",status:"assigned",assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}));r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch assigned PCs";console.error("Error fetching assigned PCs:",n),r({error:n,loading:!1})}},setMaintenanceStatus:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.setMaintenanceStatus(e,t),a={id:n.id,name:n.device_name||n.name,location:n.location||"",status:t?"maintenance":"available",assignedTo:t?void 0:n.assignee?.name,assignedToEmail:t?void 0:n.assignee?.email,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(s=>s.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(s=>({pcs:s.pcs.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update maintenance status";throw console.error("Error updating maintenance status:",a),r({error:a,loading:!1}),n}}})),mBe=()=>{const r=B.useRef(null),[e,t]=B.useState(!1),[n,a]=B.useState(!1),[s,i]=B.useState(!1),{user:l}=hf(),c=l&&(l.role==="admin"||Array.isArray(l.roles)&&l.roles.includes("admin")),u=Oo(E=>E.teamMembers),A=is(E=>E.projects),h=ff(E=>E.clients),p=Dv(E=>E.items),m=dV(E=>E.checkouts),y=AV(E=>E.pcs),g=nf(E=>E.researchProjects),v=q3(E=>E.tickets),w=()=>{try{const E={exportDate:new Date().toISOString(),version:"1.0.0",records:{teamMembers:u,projects:A,clients:h,inventoryItems:p,checkouts:m,pcs:y,researchProjects:g,maintenanceTickets:v},summary:{totalTeamMembers:u.length,totalProjects:A.length,totalClients:h.length,totalInventoryItems:p.length,totalCheckouts:m.length,totalPCs:y.length,totalResearchProjects:g.length,totalMaintenanceTickets:v.length}},_=JSON.stringify(E,null,2),L=new Blob([_],{type:"application/json"}),D=URL.createObjectURL(L),P=document.createElement("a");P.href=D,P.download=`mycae-tracker-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(D),rr.success(` Data exported successfully! (${Object.keys(E.summary).length} entities)`)}catch(E){rr.error(" Failed to export data"),Rt.error("Export error:",E)}},S=()=>{r.current?.click()},C=E=>{const _=E.target.files?.[0];if(!_)return;const L=new FileReader;L.onload=D=>{try{const P=D.target?.result,k=JSON.parse(P);if(!k.records||!k.summary)throw new Error("Invalid file format");rr.success(` Data imported successfully!
Teams: ${k.summary.totalTeamMembers}, Projects: ${k.summary.totalProjects}, Clients: ${k.summary.totalClients}, Inventory: ${k.summary.totalInventoryItems}`),Rt.debug("Imported data:",k)}catch(P){rr.error(" Failed to parse import file"),Rt.error("Import error:",P)}},L.readAsText(_),E.target.value=""};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Settings"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage app data and integrations"})]}),o.jsxs(Vr,{variant:"bordered",className:"mb-4",children:[o.jsx($1,{children:o.jsx(V1,{children:"Profile"})}),o.jsx(q1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(Hl,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:l?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500",children:l?.email||"user@mycae.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Uh,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Change Password"})]}),o.jsx(gA,{className:"w-5 h-5 text-gray-400"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(c7,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preferences"})]}),o.jsx(gA,{className:"w-5 h-5 text-gray-400"})]})]})]})})]}),c&&o.jsxs(Vr,{variant:"bordered",className:"mb-4",children:[o.jsx($1,{children:o.jsx(V1,{children:"Company Settings"})}),o.jsx(q1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("strong",{children:"Admin Only:"})," Configure company branding, logo, and PDF document settings. These settings will be applied to all generated invoices and purchase orders."]})}),o.jsxs("button",{onClick:()=>i(!s),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xh,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:s?"Hide Company Settings":"Edit Company Settings"})]}),o.jsx(gA,{className:`w-5 h-5 text-gray-400 transition-transform ${s?"rotate-90":""}`})]}),s&&o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:o.jsx(fBe,{})})]})})]}),o.jsxs(Vr,{variant:"bordered",className:"mb-4",children:[o.jsx($1,{children:o.jsx(V1,{children:"Data Management"})}),o.jsx(q1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Export:"})," Download all application data as JSON file",o.jsx("br",{}),o.jsx("strong",{children:"Import:"})," Load data from previously exported JSON file"]})}),o.jsx(Qt,{variant:"outline",fullWidth:!0,icon:o.jsx(LA,{className:"w-5 h-5"}),onClick:w,children:"Export Data"}),o.jsx(Qt,{variant:"outline",fullWidth:!0,icon:o.jsx(Fo,{className:"w-5 h-5"}),onClick:S,children:"Import Data"}),o.jsx("input",{ref:r,type:"file",accept:".json",onChange:C,className:"hidden"}),o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Current Data Summary"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Team Members"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:u.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Projects"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:A.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Inventory Items"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:p.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"PCs"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:y.length})]})]})]})]})})]}),o.jsxs(Vr,{variant:"bordered",children:[o.jsx($1,{children:o.jsx(V1,{children:"About"})}),o.jsxs(q1,{children:[o.jsx("div",{className:"w-full flex items-center justify-between p-3 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(y_,{className:"w-5 h-5 text-gray-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"App Version"}),o.jsx("p",{className:"text-sm text-gray-500",children:"1.0.0"})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-600",children:"MyCAE Equipment Tracker - Inventory Management System"})})]})]})]}),o.jsx(uBe,{isOpen:e,onClose:()=>t(!1),userEmail:l?.email,onSuccess:()=>{t(!1),rr.success("Password changed successfully!")}}),o.jsx(ABe,{isOpen:n,onClose:()=>a(!1),onSave:E=>{a(!1),rr.success("Preferences saved successfully!")}})]})},pBe=({items:r,selectedItems:e,onSelectItems:t,onClose:n})=>{const[a,s]=B.useState(""),[i,l]=B.useState(""),[c,u]=B.useState(""),[A,h]=B.useState(""),p=B.useMemo(()=>{const E=new Set(r.map(_=>_.category));return Array.from(E).sort()},[r]),m=B.useMemo(()=>{const E=new Set(r.map(_=>_.location));return Array.from(E).sort()},[r]),y=B.useMemo(()=>r.filter(E=>{const _=!a||E.title.toLowerCase().includes(a.toLowerCase())||E.sku.toLowerCase().includes(a.toLowerCase())||E.barcode&&E.barcode.toLowerCase().includes(a.toLowerCase()),L=!i||E.category===i,D=!c||E.location===c,P=!A||E.status===A;return _&&L&&D&&P}),[r,a,i,c,A]),g=E=>e.some(_=>_.id===E.id),v=E=>{g(E)?t(e.filter(_=>_.id!==E.id)):t([...e,E])},w=()=>{const E=new Set(e.map(L=>L.id)),_=y.filter(L=>!E.has(L.id));t([...e,..._])},S=()=>{const E=new Set(y.map(_=>_.id));t(e.filter(_=>!E.has(_.id)))},C=y.length>0&&y.every(E=>g(E));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Zs,{type:"text",placeholder:"Search by name, SKU, or barcode...",value:a,onChange:E=>s(E.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("select",{value:i,onChange:E=>l(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Categories"}),p.map(E=>o.jsx("option",{value:E,children:E},E))]}),o.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Locations"}),m.map(E=>o.jsx("option",{value:E,children:E},E))]}),o.jsxs("select",{value:A,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Status"}),o.jsx("option",{value:"Available",children:"Available"}),o.jsx("option",{value:"Checked Out",children:"Checked Out"}),o.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("button",{onClick:C?S:w,className:"flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 font-medium",children:C?o.jsxs(o.Fragment,{children:[o.jsx(Vee,{className:"w-4 h-4"}),"Clear Selection"]}):o.jsxs(o.Fragment,{children:[o.jsx(Wee,{className:"w-4 h-4"}),"Select All (",y.length,")"]})})}),o.jsxs("span",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:e.length})," items selected"]})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden max-h-[400px] overflow-y-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left w-10"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Item"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"SKU"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Location"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:y.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ec,{className:"w-8 h-8 text-gray-300"}),o.jsx("p",{children:"No items found"})]})})}):y.map(E=>o.jsxs("tr",{onClick:()=>v(E),className:`hover:bg-gray-50 cursor-pointer transition-colors ${g(E)?"bg-primary-50":""}`,children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${g(E)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:g(E)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:E.title}),E.supplier&&o.jsx("p",{className:"text-xs text-gray-500",children:E.supplier})]})}),o.jsx("td",{className:"px-4 py-3 font-mono text-gray-600",children:E.sku}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:E.category}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:E.location}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${["Active","active","Available","available"].includes(E.status)?"bg-green-100 text-green-800":E.status==="Inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:E.status})})]},E.id))})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:n,disabled:e.length===0,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Continue (",e.length," items)"]})]})]})},gBe=({selectedItems:r,onRemoveItem:e,onCheckout:t,onCancel:n,teamMembers:a})=>{const[s,i]=B.useState({engineerId:"",engineerName:"",purpose:"",location:"",expectedReturnDate:"",notes:""}),[l,c]=B.useState({}),u=m=>{const y=a.find(g=>g.id===m);i(g=>({...g,engineerId:m,engineerName:y?.name||""})),l.engineerId&&c(g=>({...g,engineerId:void 0}))},A=()=>{const m={};return s.engineerId||(m.engineerId="Please select an engineer"),s.purpose.trim()||(m.purpose="Purpose is required"),s.location.trim()||(m.location="Location is required"),c(m),Object.keys(m).length===0},h=()=>{A()&&t(s)},p=()=>{const m=new Date;return m.setDate(m.getDate()+7),m.toISOString().split("T")[0]};return bs.useEffect(()=>{s.expectedReturnDate||i(m=>({...m,expectedReturnDate:p()}))},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(Ec,{className:"w-5 h-5 text-primary-600"}),"Selected Items (",r.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:r.map(m=>o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900 truncate",children:m.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",m.sku," | ",m.category]})]}),o.jsx("button",{onClick:()=>e(m.id),className:"ml-2 p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove item",children:o.jsx(Rr,{className:"w-4 h-4"})})]},m.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Checkout Details"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx(Hl,{className:"w-4 h-4 inline mr-1"}),"Engineer *"]}),o.jsxs("select",{value:s.engineerId,onChange:m=>u(m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${l.engineerId?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select Engineer"}),a.map(m=>o.jsx("option",{value:m.id,children:m.name},m.id))]}),l.engineerId&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.engineerId})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Purpose *"]}),o.jsx(Zs,{type:"text",placeholder:"e.g., Site calibration, Client visit, Lab testing",value:s.purpose,onChange:m=>{i(y=>({...y,purpose:m.target.value})),l.purpose&&c(y=>({...y,purpose:void 0}))},error:l.purpose})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx(c0,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),o.jsx(Zs,{type:"text",placeholder:"e.g., Client Site A, Warehouse, Lab",value:s.location,onChange:m=>{i(y=>({...y,location:m.target.value})),l.location&&c(y=>({...y,location:void 0}))},error:l.location})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Expected Return Date"]}),o.jsx(Zs,{type:"date",value:s.expectedReturnDate,onChange:m=>i(y=>({...y,expectedReturnDate:m.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{rows:3,placeholder:"Additional notes or instructions...",value:s.notes,onChange:m=>i(y=>({...y,notes:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),o.jsxs("button",{onClick:h,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:["Confirm Checkout (",r.length," items)"]})]})]})},xBe=({checkouts:r,onReturnAll:e,onPartialReturn:t,onPrintReceipt:n,loading:a})=>{const[s,i]=B.useState("all"),l=r.filter(h=>s==="all"?!0:h.status===s),c=h=>{switch(h){case"active":return o.jsx(Un,{variant:"success",children:"Active"});case"partial-return":return o.jsx(Un,{variant:"warning",children:"Partial Return"});case"overdue":return o.jsx(Un,{variant:"danger",children:"Overdue"});default:return o.jsx(Un,{children:h})}},u=h=>Math.floor((new Date().getTime()-new Date(h).getTime())/864e5),A=h=>h?new Date(h)<new Date:!1;return a?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Ec,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No active checkouts"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All equipment is currently in the warehouse"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:"All",count:r.length},{key:"active",label:"Active",count:r.filter(h=>h.status==="active").length},{key:"partial-return",label:"Partial",count:r.filter(h=>h.status==="partial-return").length},{key:"overdue",label:"Overdue",count:r.filter(h=>h.status==="overdue").length}].map(h=>o.jsxs("button",{onClick:()=>i(h.key),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${s===h.key?"bg-primary-100 text-primary-700 border border-primary-300":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:[h.label,o.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:h.count})]},h.key))}),o.jsx("div",{className:"space-y-3",children:l.map(h=>o.jsxs("div",{className:`bg-white rounded-lg border p-4 transition-shadow hover:shadow-md ${h.status==="overdue"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Ec,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:h.purpose||"Untitled Checkout"}),o.jsx("p",{className:"text-sm text-gray-500 font-mono",children:h.masterBarcode}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[c(h.status),o.jsxs("span",{className:"text-sm text-gray-500",children:[o.jsx(To,{className:"w-3 h-3 inline mr-1"}),u(h.checkedOutDate)," days out"]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[n&&o.jsxs("button",{onClick:()=>n(h),className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-1",title:"Print Receipt",children:[o.jsx(i7,{className:"w-4 h-4"}),"Print"]}),h.status!=="fully-returned"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t(h),className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Partial Return"}),o.jsx("button",{onClick:()=>e(h.id),className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Return All"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-500 mb-0.5",children:[o.jsx(Hl,{className:"w-3 h-3 inline mr-1"}),"Checked Out By"]}),o.jsx("p",{className:"font-medium text-gray-900",children:h.checkedOutBy})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-500 mb-0.5",children:[o.jsx(c0,{className:"w-3 h-3 inline mr-1"}),"Location"]}),o.jsx("p",{className:"font-medium text-gray-900 truncate",children:h.purpose||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-0.5",children:"Items"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[h.remainingItems," of ",h.totalItems," remaining"]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-500 mb-0.5",children:[o.jsx(so,{className:"w-3 h-3 inline mr-1"}),"Due Date"]}),o.jsxs("p",{className:`font-medium ${A(h.expectedReturnDate)?"text-red-600":"text-gray-900"}`,children:[h.expectedReturnDate?new Date(h.expectedReturnDate).toLocaleDateString():"Not set",A(h.expectedReturnDate)&&o.jsx("span",{className:"ml-1 text-xs",children:"(Overdue)"})]})]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Items in this checkout:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.items.slice(0,5).map((p,m)=>o.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${p.returnStatus==="returned"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:[p.returnStatus==="returned"&&o.jsx(za,{className:"w-3 h-3 mr-1"}),p.itemName," (",p.remainingQuantity,"/",p.quantity,")"]},m)),h.items.length>5&&o.jsxs("span",{className:"text-xs text-gray-500",children:["+",h.items.length-5," more"]})]})]})]},h.id))})]})},yBe=({checkout:r,isOpen:e,onClose:t,onConfirm:n})=>{const[a,s]=B.useState(new Map),[i,l]=B.useState("");if(!e||!r)return null;const c=(p,m)=>{const y=new Map(a);if(m<=0)y.delete(p.itemId);else{const g=p.remainingQuantity;y.set(p.itemId,Math.min(m,g))}s(y)},u=p=>{const m=new Map(a);m.has(p.itemId)?m.delete(p.itemId):m.set(p.itemId,p.remainingQuantity),s(m)},A=()=>{const p=r.items.filter(m=>a.has(m.itemId)).map(m=>({itemId:m.itemId,itemName:m.itemName,quantityToReturn:a.get(m.itemId)||0}));p.length!==0&&(n({checkoutId:r.id,items:p,notes:i}),s(new Map),l(""))},h=Array.from(a.values()).reduce((p,m)=>p+m,0);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Partial Return"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.masterBarcode})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Select items to return:"}),o.jsx("div",{className:"space-y-2",children:r.items.map(p=>o.jsx("div",{className:`border rounded-lg p-4 transition-colors ${a.has(p.itemId)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>u(p),className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.has(p.itemId)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:a.has(p.itemId)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:p.itemName}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Barcode: ",p.barcode]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Available"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[p.remainingQuantity," of ",p.quantity]})]}),a.has(p.itemId)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>c(p,(a.get(p.itemId)||0)-1),className:"w-8 h-8 rounded border border-gray-300 flex items-center justify-center hover:bg-gray-50",disabled:(a.get(p.itemId)||0)<=1,children:"-"}),o.jsx("span",{className:"w-12 text-center font-medium",children:a.get(p.itemId)}),o.jsx("button",{onClick:()=>c(p,(a.get(p.itemId)||0)+1),className:"w-8 h-8 rounded border border-gray-300 flex items-center justify-center hover:bg-gray-50",disabled:(a.get(p.itemId)||0)>=p.remainingQuantity,children:"+"})]})]})]})},p.itemId))}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Notes"}),o.jsx("textarea",{rows:3,placeholder:"Optional notes about the return...",value:i,onChange:p=>l(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),h>0&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(os,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Returning ",h," item",h>1?"s":""]}),o.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Remaining items will stay checked out"})]})]})]})}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:A,disabled:h===0,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx(Mee,{className:"w-4 h-4"}),"Confirm Return (",h," items)"]})]})]})})};function vBe({isOpen:r,onClose:e,masterBarcode:t,itemCount:n,expectedReturnDate:a,purpose:s,engineerName:i,location:l,items:c}){const[u,A]=B.useState(!1);if(!r)return null;const h=()=>{navigator.clipboard.writeText(t),A(!0),setTimeout(()=>A(!1),2e3)},p=()=>{const m=window.open("","_blank","width=800,height=600");if(!m)return;const y=new Date().toLocaleDateString(),g=a?new Date(a).toLocaleDateString():"Not set",v=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Checkout Receipt - ${t}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; }
          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .header h1 { margin: 0; color: #333; }
          .header p { margin: 5px 0; color: #666; }
          .section { margin-bottom: 20px; }
          .section h2 { color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
          .detail-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .detail-label { font-weight: bold; color: #555; }
          .detail-value { color: #333; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .barcode { text-align: center; margin: 30px 0; padding: 20px; border: 2px dashed #ccc; }
          .barcode-text { font-family: monospace; font-size: 24px; font-weight: bold; letter-spacing: 3px; }
          .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #666; font-size: 12px; }
          @media print { body { margin: 20px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>MyCAE Equipment Checkout</h1>
          <p>Receipt / Packing List</p>
        </div>

        <div class="section">
          <h2>Checkout Details</h2>
          <div class="detail-row">
            <span class="detail-label">Master Barcode:</span>
            <span class="detail-value">${t}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Date:</span>
            <span class="detail-value">${y}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Project:</span>
            <span class="detail-value">${s||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Checked Out By:</span>
            <span class="detail-value">${i||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Location:</span>
            <span class="detail-value">${l||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Expected Return:</span>
            <span class="detail-value">${g}</span>
          </div>
        </div>

        <div class="section">
          <h2>Items</h2>
          <table>
            <thead>
              <tr>
                <th>Item</th>
                <th>SKU</th>
                <th>Quantity</th>
              </tr>
            </thead>
            <tbody>
              ${c?.map(w=>`
                <tr>
                  <td>${w.title}</td>
                  <td>${w.sku}</td>
                  <td>${w.quantity}</td>
                </tr>
              `).join("")||`<tr><td colspan="3">${n} items checked out</td></tr>`}
            </tbody>
          </table>
          <p style="margin-top: 15px; text-align: right; font-weight: bold;">
            Total Items: ${n}
          </p>
        </div>

        <div class="barcode">
          <p style="margin: 0 0 10px 0; color: #666;">Master Barcode</p>
          <div class="barcode-text">${t}</div>
        </div>

        <div class="footer">
          <p>Keep this receipt for your records. Use the master barcode to return items.</p>
          <p>Generated on ${new Date().toLocaleString()}</p>
        </div>

        <script>
          window.onload = function() {
            window.print();
            setTimeout(function() {
              window.close();
            }, 1000);
          };
        <\/script>
      </body>
      </html>
    `;m.document.write(v),m.document.close()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(za,{className:"w-6 h-6 text-green-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Checkout Successful!"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-green-800",children:[n," ",n===1?"item has":"items have"," been successfully checked out."]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Master Barcode"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Use this to return all items"})]}),o.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-32 h-32 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center",children:o.jsx(Dee,{className:"w-16 h-16 text-gray-400"})}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-2xl font-mono font-bold text-blue-900 tracking-wider",children:t})})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(Qt,{variant:"outline",onClick:h,className:"w-full",children:[o.jsx(OZ,{className:"w-4 h-4 mr-2"}),u?"Copied!":"Copy"]}),o.jsxs(Qt,{variant:"outline",onClick:p,className:"w-full",children:[o.jsx(i7,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Items checked out:"}),o.jsx("span",{className:"font-medium text-gray-900",children:n})]}),a&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Expected return:"}),o.jsx("span",{className:"font-medium text-gray-900",children:new Date(a).toLocaleDateString()})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-1",children:" Important"}),o.jsx("p",{className:"text-xs text-yellow-700",children:`Save or print this barcode. You'll need it to return the items later. You can also find it in "My Active Checkouts" on the dashboard.`})]})]}),o.jsx("div",{className:"flex justify-end gap-3 p-6 border-t",children:o.jsx(Qt,{onClick:e,children:"Done"})})]})})}const bBe=()=>{const{filteredCheckouts:r,fetchCheckouts:e,setFilters:t,loading:n}=dV(),{items:a,fetchInventory:s,loading:i}=Dv(),{isMobile:l}=gC(),c=Bo(),[u,A]=B.useState("transactions"),[h,p]=B.useState(""),[m,y]=B.useState("all"),[g,v]=B.useState("masterBarcode"),[w,S]=B.useState("asc"),[C,E]=B.useState(""),[_,L]=B.useState("all"),[D,P]=B.useState("location"),[k,z]=B.useState("asc"),[I,Q]=B.useState(!1),[R,K]=B.useState("select"),[ee,Y]=B.useState([]),[se,X]=B.useState(!1),[Ae,ge]=B.useState(null),[Z,O]=B.useState(!1),[H,V]=B.useState(null),G=n||i;B.useEffect(()=>{e(),s()},[]),B.useEffect(()=>{u==="locations"&&(s(),e())},[u]),B.useEffect(()=>{t({userId:void 0,status:m==="all"?void 0:m,search:h,showMyCheckoutsFirst:!1})},[m,h]);const ae=B.useMemo(()=>{const Oe=[];return r.filter(at=>at.status==="active"||at.status==="partial-return"||at.status==="overdue").forEach(at=>{at.items.filter(bt=>bt.returnStatus==="checked-out").forEach(bt=>{const St=at.purpose||at.checkedOutBy;let Be=Oe.find(st=>st.location===St&&st.checkedOutByEmail===at.checkedOutByEmail);Be||(Be={location:St,totalItems:0,uniqueEquipment:0,checkedOutBy:at.checkedOutBy,checkedOutByEmail:at.checkedOutByEmail,checkoutDate:at.checkedOutDate,expectedReturn:at.expectedReturnDate,items:[]},Oe.push(Be)),Be.totalItems+=bt.remainingQuantity,Be.uniqueEquipment+=1,Be.items.push({itemName:bt.itemName,quantity:bt.remainingQuantity,barcode:bt.barcode})})}),Oe},[r]),ue=B.useMemo(()=>{let Oe=[...ae];if(C){const at=C.toLowerCase();Oe=Oe.filter(bt=>bt.location.toLowerCase().includes(at)||bt.checkedOutBy.toLowerCase().includes(at)||bt.items.some(St=>St.itemName.toLowerCase().includes(at)))}return Oe.sort((at,bt)=>{const St=lt=>{switch(D){case"location":return lt.location.toLowerCase();case"checkedOutBy":return lt.checkedOutBy.toLowerCase();case"totalItems":return lt.totalItems;case"uniqueEquipment":return lt.uniqueEquipment;case"checkoutDate":return new Date(lt.checkoutDate).getTime();case"expectedReturn":return lt.expectedReturn?new Date(lt.expectedReturn).getTime():0;default:return lt.location.toLowerCase()}},Be=St(at),st=St(bt);if(typeof Be=="string"&&typeof st=="string")return k==="asc"?Be.localeCompare(st):st.localeCompare(Be);{const lt=typeof Be=="number"?Be:0,Zt=typeof st=="number"?st:0;return k==="asc"?lt-Zt:Zt-lt}})},[ae,C,D,k]),Se=B.useMemo(()=>{const Oe=ae.reduce((lt,Zt)=>lt+Zt.totalItems,0),at=ae.length,bt=new Set(ae.map(lt=>lt.checkedOutByEmail)).size,St=Array.isArray(a)?a.reduce((lt,Zt)=>lt+Zt.quantity,0):0,Be=r.filter(lt=>lt.status==="received").length,st=r.filter(lt=>lt.status!=="received").length;return{totalEquipmentOut:Oe,totalLocations:at,uniqueUsers:bt,totalInWarehouse:St-Oe+Be,totalCheckouts:st}},[ae,a,r]),te=Oe=>{switch(Oe){case"active":return o.jsx(Un,{variant:"success",children:"Active"});case"partial-return":return o.jsx(Un,{variant:"warning",children:"Partial Return"});case"overdue":return o.jsx(Un,{variant:"danger",children:"Overdue"});case"fully-returned":return o.jsx(Un,{variant:"default",children:"Returned"});case"received":return o.jsx(Un,{className:"bg-green-100 text-green-800 border-green-200",children:"Received"});default:return null}},pe=Oe=>{if(!Oe)return null;const at=new Date,St=new Date(Oe).getTime()-at.getTime(),Be=Math.ceil(St/(1e3*60*60*24));return Be<0?{text:`${Math.abs(Be)} days overdue`,className:"text-red-600"}:Be===0?{text:"Due today",className:"text-orange-600"}:Be===1?{text:"Due tomorrow",className:"text-gray-600"}:{text:`Due in ${Be} days`,className:"text-gray-600"}},ke=Oe=>Oe?new Date(Oe)<new Date:!1;B.useCallback(Oe=>{g===Oe?S(at=>at==="asc"?"desc":"asc"):(v(Oe),S("asc"))},[g]);const Ee=B.useCallback(Oe=>{D===Oe?z(at=>at==="asc"?"desc":"asc"):(P(Oe),z("asc"))},[D]),Ue=Oe=>D!==Oe?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):k==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(kc,{className:"w-4 h-4 ml-1 inline-block"}),je=B.useMemo(()=>[...r].sort((Oe,at)=>{const bt=st=>{switch(g){case"masterBarcode":return st.masterBarcode.toLowerCase();case"checkedOutBy":return st.checkedOutBy.toLowerCase();case"purpose":return(st.purpose||"").toLowerCase();case"items":return st.totalItems||0;case"dueDate":return st.expectedReturnDate?new Date(st.expectedReturnDate).getTime():0;case"status":return{active:0,"partial-return":1,overdue:2,"fully-returned":3}[st.status]??4;default:return st.masterBarcode.toLowerCase()}},St=bt(Oe),Be=bt(at);return typeof St=="string"&&typeof Be=="string"?w==="asc"?St.localeCompare(Be):Be.localeCompare(St):w==="asc"?St-Be:Be-St}),[r,g,w]),J=()=>{Q(!0),K("select"),Y([])},Ie=()=>{Q(!1),K("select"),Y([])},Ye=async Oe=>{try{const bt=`CHK-${Date.now()}`,St=ee.map(lt=>({barcode:lt.barcode||lt.sku,quantity:lt.quantity})),Be={masterBarcode:bt,items:St,checkedOutBy:Oe.engineerName,checkedOutDate:new Date().toISOString(),expectedReturnDate:Oe.expectedReturnDate||new Date(Date.now()+10080*60*1e3).toISOString(),purpose:Oe.purpose,notes:Oe.notes},st=await On.createBulkCheckout(Be);V({masterBarcode:st.masterBarcode,itemCount:ee.length,expectedReturnDate:Oe.expectedReturnDate,purpose:Oe.purpose,engineerName:Oe.engineerName,location:Oe.location,items:ee.map(lt=>({id:lt.id,title:lt.title,sku:lt.sku,quantity:lt.quantity||1}))}),Q(!1),K("select"),Y([]),O(!0),await e()}catch(at){console.error("Checkout failed:",at),ye.error("Failed to checkout items: "+(at.message||"Unknown error"))}},Bt=async Oe=>{try{const at=r.find(bt=>bt.id===Oe);if(!at){ye.error("Checkout not found");return}await On.checkInBulk({masterBarcode:at.masterBarcode,returnType:"full",items:at.items.filter(bt=>bt.returnStatus==="checked-out").map(bt=>({itemId:bt.itemId,quantityToReturn:bt.remainingQuantity}))}),ye.success("All items returned successfully!"),await e()}catch(at){ye.error(at?.response?.data?.error||"Failed to return items")}},it=Oe=>{ge(Oe),X(!0)},Xe=async Oe=>{try{if(!Ae)return;await On.checkInBulk({masterBarcode:Ae.masterBarcode,returnType:"partial",items:Oe.items.map(at=>({itemId:at.itemId,quantityToReturn:at.quantityToReturn})),notes:Oe.notes}),ye.success("Items returned successfully!"),X(!1),ge(null),await e()}catch(at){ye.error(at?.response?.data?.error||"Failed to return items")}},ft=Oe=>{const at=window.open("","_blank","width=800,height=600");if(!at){ye.error("Unable to open print window. Please check your popup settings.");return}const bt=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Checkout Receipt - ${Oe.masterBarcode}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; }
          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .header h1 { margin: 0; color: #333; }
          .header p { margin: 5px 0; color: #666; }
          .section { margin-bottom: 20px; }
          .section h2 { color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
          .detail-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .detail-label { font-weight: bold; color: #555; }
          .detail-value { color: #333; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .barcode { text-align: center; margin: 30px 0; padding: 20px; border: 2px dashed #ccc; }
          .barcode-text { font-family: monospace; font-size: 24px; font-weight: bold; letter-spacing: 3px; }
          .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #666; font-size: 12px; }
          @media print { body { margin: 20px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>MyCAE Equipment Checkout</h1>
          <p>Receipt / Packing List</p>
        </div>

        <div class="section">
          <h2>Checkout Details</h2>
          <div class="detail-row">
            <span class="detail-label">Master Barcode:</span>
            <span class="detail-value">${Oe.masterBarcode}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Date:</span>
            <span class="detail-value">${new Date(Oe.checkedOutDate).toLocaleDateString()}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Project:</span>
            <span class="detail-value">${Oe.purpose||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Checked Out By:</span>
            <span class="detail-value">${Oe.checkedOutBy}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Expected Return:</span>
            <span class="detail-value">${Oe.expectedReturnDate?new Date(Oe.expectedReturnDate).toLocaleDateString():"Not set"}</span>
          </div>
        </div>

        <div class="section">
          <h2>Items</h2>
          <table>
            <thead>
              <tr>
                <th>Item</th>
                <th>SKU/Barcode</th>
                <th>Quantity</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${Oe.items.map(St=>`
                <tr>
                  <td>${St.itemName}</td>
                  <td>${St.barcode}</td>
                  <td>${St.quantity}</td>
                  <td>${St.returnStatus==="checked-out"?"Checked Out":"Returned"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <p style="margin-top: 15px; text-align: right; font-weight: bold;">
            Total Items: ${Oe.totalItems}
          </p>
        </div>

        <div class="barcode">
          <p style="margin: 0 0 10px 0; color: #666;">Master Barcode</p>
          <div class="barcode-text">${Oe.masterBarcode}</div>
        </div>

        <div class="footer">
          <p>Keep this receipt for your records. Use the master barcode to return items.</p>
          <p>Generated on ${new Date().toLocaleString()}</p>
        </div>

        <script>
          window.onload = function() {
            window.print();
            // Close window after print dialog (with delay to allow printing)
            setTimeout(function() {
              window.close();
            }, 1000);
          };
        <\/script>
      </body>
      </html>
    `;at.document.write(bt),at.document.close()},{teamMembers:Et,fetchTeamMembers:Le}=Oo();B.useEffect(()=>{Le({status:"active"})},[Le]);const yt=B.useMemo(()=>Et.map(Oe=>({id:Oe.id,name:Oe.name,email:Oe.email})),[Et]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage checkouts and track equipment locations"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:o.jsx(Ec,{className:"w-6 h-6 text-primary-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Equipment Out"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Se.totalEquipmentOut})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(Xh,{className:"w-6 h-6 text-green-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Locations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Se.totalLocations})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(Hl,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Users"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Se.uniqueUsers})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(AZ,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Office Storage"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Se.totalInWarehouse})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:o.jsx(lC,{className:"w-6 h-6 text-orange-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Checkouts"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Se.totalCheckouts})]})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>A("transactions"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="transactions"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(To,{className:"w-4 h-4 inline mr-2"}),"Transactions"]}),o.jsxs("button",{onClick:()=>A("locations"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="locations"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(c0,{className:"w-4 h-4 inline mr-2"}),"Locations"]})]}),o.jsxs("button",{onClick:J,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2 font-medium text-sm",children:[o.jsx(ei,{className:"w-4 h-4"}),"New Checkout"]})]})}),u==="transactions"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6 space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Zs,{placeholder:"Search by barcode, purpose, or items...",icon:o.jsx($l,{className:"w-4 h-4"}),value:h,onChange:Oe=>p(Oe.target.value),fullWidth:!0})}),o.jsxs("select",{value:m,onChange:Oe=>y(Oe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"partial-return",children:"Partial Return"}),o.jsx("option",{value:"overdue",children:"Overdue"}),o.jsx("option",{value:"fully-returned",children:"Returned"})]})]})}),G&&o.jsx("div",{className:"flex justify-center items-center py-12 px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!G&&je.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(Ec,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No checkouts found"})]}),!G&&je.length>0&&l&&o.jsx("div",{className:"space-y-3 px-4 md:px-6",children:je.map(Oe=>{const at=pe(Oe.expectedReturnDate),bt=Oe.checkedOutByEmail===c.email;return o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:Oe.purpose||"Untitled Checkout"}),o.jsx("p",{className:"font-mono text-sm text-gray-500 mt-0.5",children:Oe.masterBarcode})]}),te(Oe.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checked Out By"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:bt?"You":Oe.checkedOutBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:Oe.status==="partial-return"?`${Oe.remainingItems}/${Oe.totalItems} out`:`${Oe.totalItems} items`})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checkout Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(Oe.checkedOutDate).toLocaleDateString()})]}),at&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:`text-sm font-medium ${at.className}`,children:at.text})]})]}),(Oe.status==="active"||Oe.status==="partial-return"||Oe.status==="overdue")&&bt&&o.jsx("div",{className:"pt-3 border-t border-gray-100",children:o.jsx(Qt,{size:"sm",fullWidth:!0,variant:"outline",children:"Check-In Items"})})]},Oe.id)})}),!G&&je.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(xBe,{checkouts:je.filter(Oe=>Oe.status!=="received"),onReturnAll:Bt,onPartialReturn:it,onPrintReceipt:ft,loading:G})}),!G&&je.filter(Oe=>Oe.status==="received").length>0&&o.jsxs("div",{className:"px-4 md:px-6 mt-8",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Ec,{className:"w-5 h-5 text-green-600"}),"Recently Received Items"]}),o.jsx("div",{className:"space-y-3",children:je.filter(Oe=>Oe.status==="received").map(Oe=>o.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Ec,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:Oe.purpose}),o.jsxs("p",{className:"text-sm text-gray-500",children:[Oe.masterBarcode,"  ",new Date(Oe.checkedOutDate).toLocaleDateString()]})]})]}),o.jsx(Un,{className:"bg-green-100 text-green-800 border-green-200",children:"Received"})]},Oe.id))})]})]}),u==="locations"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Zs,{placeholder:"Search by location, person, or equipment...",icon:o.jsx($l,{className:"w-4 h-4"}),value:C,onChange:Oe=>E(Oe.target.value),fullWidth:!0})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>L("all"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_==="all"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{onClick:()=>L("person"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_==="person"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Person"}),o.jsx("button",{onClick:()=>L("site"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_==="site"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Site"})]})]})}),G&&o.jsx("div",{className:"flex justify-center items-center py-12 px-4 md:px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!G&&ue.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(c0,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No equipment at locations"})]}),!G&&ue.length>0&&l&&o.jsx("div",{className:"space-y-4 px-4 md:px-6",children:ue.map((Oe,at)=>o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(c0,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:Oe.location}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Oe.checkedOutBy})]})]}),ke(Oe.expectedReturn)&&o.jsx(Un,{variant:"danger",children:"Overdue"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items Out"}),o.jsx("p",{className:"font-semibold text-gray-900",children:Oe.totalItems})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Types"}),o.jsx("p",{className:"font-semibold text-gray-900",children:Oe.uniqueEquipment})]})]}),Oe.items.length>0&&o.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Equipment:"}),o.jsxs("div",{className:"space-y-1 text-xs",children:[Oe.items.slice(0,3).map((bt,St)=>o.jsxs("p",{className:"text-gray-600",children:[" ",bt.itemName," (",bt.quantity,"x)"]},St)),Oe.items.length>3&&o.jsxs("p",{className:"text-gray-500 italic",children:["+",Oe.items.length-3," more"]})]})]})]},at))}),!G&&ue.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(Vr,{variant:"bordered",padding:"none",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>Ee("location"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Location ",Ue("location")]}),o.jsxs("th",{onClick:()=>Ee("checkedOutBy"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checked Out By ",Ue("checkedOutBy")]}),o.jsxs("th",{onClick:()=>Ee("totalItems"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Items ",Ue("totalItems")]}),o.jsxs("th",{onClick:()=>Ee("uniqueEquipment"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Types ",Ue("uniqueEquipment")]}),o.jsxs("th",{onClick:()=>Ee("checkoutDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checkout Date ",Ue("checkoutDate")]}),o.jsxs("th",{onClick:()=>Ee("expectedReturn"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Expected Return ",Ue("expectedReturn")]})]})}),o.jsx("tbody",{children:ue.map((Oe,at)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(c0,{className:"w-4 h-4 text-gray-400"}),o.jsx("p",{className:"font-medium text-gray-900",children:Oe.location})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:Oe.checkedOutBy})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Oe.totalItems})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:Oe.uniqueEquipment})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:new Date(Oe.checkoutDate).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4",children:Oe.expectedReturn?o.jsx("p",{className:`text-sm font-medium ${ke(Oe.expectedReturn)?"text-red-600":"text-gray-900"}`,children:new Date(Oe.expectedReturn).toLocaleDateString()}):o.jsx("p",{className:"text-sm text-gray-500",children:"-"})})]},at))})]})})})})]}),I&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:R==="select"?"Select Items":"Review Checkout"}),o.jsx("button",{onClick:Ie,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:R==="select"?o.jsx(pBe,{items:a,selectedItems:ee,onSelectItems:Y,onClose:()=>K("review")}):o.jsx(gBe,{selectedItems:ee,onRemoveItem:Oe=>{Y(ee.filter(at=>at.id!==Oe))},onCheckout:Ye,onCancel:()=>K("select"),teamMembers:yt})})]})}),o.jsx(yBe,{checkout:Ae,isOpen:se,onClose:()=>{X(!1),ge(null)},onConfirm:Xe}),H&&o.jsx(vBe,{isOpen:Z,onClose:()=>{O(!1),V(null)},masterBarcode:H.masterBarcode,itemCount:H.itemCount,expectedReturnDate:H.expectedReturnDate,purpose:H.purpose,engineerName:H.engineerName,location:H.location,items:H.items})]})})},fj=bs.forwardRef(({isLoading:r=!1,loadingText:e,children:t,disabled:n,icon:a,...s},i)=>o.jsx(Qt,{ref:i,disabled:n||r,icon:r?o.jsx(s7,{className:"w-4 h-4 animate-spin"}):a,...s,children:r?e||"Loading...":t}));fj.displayName="LoadingButton";const wBe=({onClose:r,onAdd:e,isLoading:t=!1})=>{const[n,a]=B.useState({name:"",location:"",status:"available"}),s=i=>{i.preventDefault();const l={assetTag:n.name,deviceName:n.name,computerType:"laptop",location:n.location};e(l)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(v_,{className:"w-6 h-6 text-primary-600"}),"Add New PC"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Register a new computer"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:s,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:i=>a({...n,name:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:i=>a({...n,location:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., Office Floor 2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:n.status,onChange:i=>a({...n,status:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(fj,{type:"button",variant:"secondary",fullWidth:!0,onClick:r,children:"Cancel"}),o.jsx(fj,{type:"submit",variant:"primary",fullWidth:!0,isLoading:t,loadingText:"Adding PC...",children:"Add PC"})]})]})]})})]})},CBe=[{name:"Ansys",licenses:[{name:"Mechanical Enterprise",count:1},{name:"Mechanical Premium",count:1},{name:"CFD Enterprise",count:1},{name:"Discovery License",count:2},{name:"HPC",count:1}]},{name:"Solidworks",licenses:[{name:"Standard",count:2},{name:"Premium 2020 (n-locked)",count:1,lockedTo:"PC5"},{name:"2016 (locked)",count:1,lockedTo:"PC9"}]},{name:"BIMHVAC Tool",licenses:[{name:"Reseller Demo",count:1},{name:"Standard",count:1}]}],hV=({selectedSoftware:r,onSelectionChange:e})=>{const t=n=>{const a=r.includes(n)?r.filter(s=>s!==n):[...r,n];e(a)};return o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Software Used"}),o.jsx("div",{className:"space-y-4",children:CBe.map(n=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:n.name}),o.jsx("div",{className:"pl-4 mt-2 space-y-2",children:n.licenses.map(a=>{const s=`${n.name} - ${a.name}`;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:s,checked:r.includes(s),onChange:()=>t(s),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:s,className:"ml-3 text-sm text-gray-600",children:[a.name," (",a.count," license",a.count>1?"s":"",")",a.lockedTo&&o.jsxs("span",{className:"text-xs text-red-500 ml-2",children:["(Locked to ",a.lockedTo,")"]})]})]},s)})})]},n.name))})]})},NBe=({pc:r,currentUser:e,onClose:t,onAssign:n})=>{const[a,s]=B.useState({assignedTo:e?.displayName||"",assignedToEmail:e?.email||"",notes:""}),[i,l]=B.useState([]),c=u=>{u.preventDefault(),n(a.assignedTo,a.assignedToEmail,a.notes,i)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Ny,{className:"w-6 h-6 text-primary-600"}),"Assign ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign this PC to an engineer"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:c,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To *"}),o.jsx("input",{type:"text",required:!0,value:a.assignedTo,onChange:u=>s({...a,assignedTo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Staff name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a.assignedToEmail,onChange:u=>s({...a,assignedToEmail:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"staff@email.com"})]}),o.jsx(hV,{selectedSoftware:i,onSelectionChange:l}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:a.notes,onChange:u=>s({...a,notes:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Qt,{type:"button",variant:"secondary",fullWidth:!0,onClick:t,children:"Cancel"}),o.jsx(Qt,{type:"submit",variant:"primary",fullWidth:!0,children:"Assign PC"})]})]})]})})]})},SBe=({pc:r,onClose:e,onEdit:t})=>{const[n,a]=B.useState({name:r.name,location:r.location,notes:r.notes||""}),[s,i]=B.useState(r.softwareUsed||[]),l=c=>{c.preventDefault(),t({name:n.name,location:n.location,notes:n.notes,softwareUsed:s})};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ko,{className:"w-6 h-6 text-primary-600"}),"Edit ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update PC properties"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:l,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:c=>a({...n,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:c=>a({...n,location:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Office Floor 2"})]}),o.jsx(hV,{selectedSoftware:s,onSelectionChange:i}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:n.notes,onChange:c=>a({...n,notes:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Qt,{type:"button",variant:"secondary",fullWidth:!0,onClick:e,children:"Cancel"}),o.jsx(Qt,{type:"submit",variant:"primary",fullWidth:!0,children:"Save Changes"})]})]})]})})]})},BBe=({isOpen:r,onClose:e,items:t,triggerClassName:n})=>{const a=B.useRef(null);return B.useEffect(()=>{const s=l=>{a.current&&!a.current.contains(l.target)&&e()},i=l=>{l.key==="Escape"&&e()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",i)}},[r,e]),r?o.jsx("div",{ref:a,className:"relative",children:o.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:o.jsx("div",{className:"py-1",children:t.map((s,i)=>o.jsxs("button",{onClick:()=>{s.onClick(),e()},className:Cr("w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 transition-colors",s.variant==="danger"?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx("span",{className:"w-4 h-4",children:s.icon}),o.jsx("span",{children:s.label})]},i))})})}):null},EBe=({isOpen:r,onClick:e,className:t})=>o.jsx("button",{onClick:e,className:Cr("text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-colors p-1",t),"aria-label":"More options","aria-expanded":r,children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"2",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"10",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"2",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"10",cy:"10",r:"1.5",fill:"currentColor"})]})}),jBe=()=>{const{pcs:r,fetchPCs:e,addPC:t,assignPC:n,releasePC:a,deletePC:s,updatePC:i,setMaintenanceStatus:l}=AV(),[c,u]=B.useState(!1),[A,h]=B.useState(!1),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,w]=B.useState(null),[S]=B.useState(Bo());B.useEffect(()=>{e()},[e]);const C=R=>{g(R),h(!0)},E=R=>{g(R),m(!0)},_=R=>{confirm("Are you sure you want to release this PC?")&&a(R)},L=R=>{confirm("Are you sure you want to delete this PC?")&&s(R)},D=async(R,K)=>{try{await l(R,K)}catch(ee){console.error("Failed to update maintenance status:",ee)}},P=(R,K)=>{let ee;return K?ee="End maintenance for this PC?":R.status==="assigned"&&R.assignedTo?ee=`Mark this PC for maintenance? This will unassign ${R.assignedTo}.`:ee="Mark this PC for maintenance?",confirm(ee)},k=B.useMemo(()=>[...r].sort((R,K)=>{const ee=R.name.match(/^PC(\d+)$/),Y=K.name.match(/^PC(\d+)$/);if(ee&&Y){const se=parseInt(ee[1]),X=parseInt(Y[1]);return se-X}return R.name.localeCompare(K.name)}),[r]),z={total:r.length,available:r.filter(R=>R.status==="available").length,assigned:r.filter(R=>R.status==="assigned").length,maintenance:r.filter(R=>R.status==="maintenance").length},I=S&&sl(S.role||"engineer","canAddOrRemovePC"),Q=S&&sl(S.role||"engineer","canAssignPC");return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"PC Assignment Tracking"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track which engineers are using company PCs"})]}),I&&o.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Add New PC"]})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Total PCs"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:z.total})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Available"}),o.jsx("div",{className:"text-3xl font-bold text-green-600 mt-2",children:z.available})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Assigned"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 mt-2",children:z.assigned})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Maintenance"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600 mt-2",children:z.maintenance})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(R=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-shadow relative",children:[I&&o.jsxs("div",{className:"absolute top-4 right-4 z-10",children:[o.jsx(EBe,{isOpen:v===R.id,onClick:()=>w(v===R.id?null:R.id)}),o.jsx(BBe,{isOpen:v===R.id,onClose:()=>w(null),items:[{icon:o.jsx(ko,{className:"w-4 h-4"}),label:"Edit PC",onClick:()=>E(R)},{icon:o.jsx(ws,{className:"w-4 h-4"}),label:"Delete PC",onClick:()=>L(R.id),variant:"danger"},...R.status==="maintenance"?[{icon:o.jsx(qp,{className:"w-4 h-4"}),label:"End Maintenance",onClick:()=>{P(R,!1)&&D(R.id,!1)}}]:[{icon:o.jsx(qp,{className:"w-4 h-4"}),label:"Mark for Maintenance",onClick:()=>{P(R,!0)&&D(R.id,!0)}}]]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(v_,{className:`w-8 h-8 ${R.status==="available"?"text-green-600":R.status==="assigned"?"text-blue-600":"text-yellow-600"}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:R.name}),R.status==="available"&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:"Available"}),R.status==="assigned"&&o.jsx("span",{className:"px-2 py-1 bg-primary-600 text-white text-xs font-medium rounded",children:"Assigned"}),R.status==="maintenance"&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:"Maintenance"})]})]})}),R.status==="assigned"&&o.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:R.assignedTo?R.assignedTo.charAt(0).toUpperCase():"?"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:R.assignedTo||"Unknown User"}),R.assignedToEmail&&o.jsx("p",{className:"text-sm text-gray-600 truncate",children:R.assignedToEmail})]})]})}),R.status==="assigned"&&R.softwareUsed&&R.softwareUsed.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Software"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:R.softwareUsed.map(K=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:K},K))})]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:o.jsx("span",{children:R.location})}),R.status==="assigned"&&R.assignedDate&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(To,{className:"w-4 h-4"}),o.jsxs("span",{children:["Assigned ",new Date(R.assignedDate).toLocaleDateString()]})]}),R.notes&&o.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-700",children:R.notes})]}),o.jsxs("div",{className:"flex gap-2",children:[R.status==="available"&&Q&&o.jsx("button",{onClick:()=>C(R),className:"flex-1 px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors",children:"Assign"}),R.status==="assigned"&&Q&&o.jsx("button",{onClick:()=>_(R.id),className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Release"}),R.status==="maintenance"&&I&&o.jsx("button",{onClick:()=>{P(R,!1)&&D(R.id,!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Available"})]})]})]},R.id))}),c&&o.jsx(wBe,{onClose:()=>u(!1),onAdd:R=>{t(R),u(!1),e()}}),A&&y&&o.jsx(NBe,{pc:y,currentUser:S,onClose:()=>{h(!1),g(null)},onAssign:async(R,K,ee,Y)=>{const se=S?.id||S?.userId;if(!se){alert("Error: Unable to identify current user. Please log in again.");return}try{await n(y.id,se,R,K,ee,Y),h(!1),g(null),e()}catch(X){const Ae=X?.response?.data?.error||X?.message||"Failed to assign PC";alert(`Assignment failed: ${Ae}`)}}}),p&&y&&o.jsx(SBe,{pc:y,onClose:()=>{m(!1),g(null)},onEdit:R=>{i(y.id,R),m(!1),g(null),e()}})]})})},fV=3500,_Be=8,mV=fV/_Be;function yb(r,e,t){if(e===0)return!0;const n=new Date(r),a=n.getFullYear(),s=n.getMonth()+1;return!(a!==e||t>0&&s!==t)}function TBe(r=0,e=0){const{projects:t,timesheets:n,fetchProjects:a,fetchTimesheets:s,loading:i}=is(),{teamMembers:l,fetchTeamMembers:c,loading:u}=Oo(),[A,h]=B.useState([]),[p,m]=B.useState([]),[y,g]=B.useState([]),[v,w]=B.useState([]),[S,C]=B.useState({}),[E,_]=B.useState(!0),[L,D]=B.useState(null),P=B.useCallback(async()=>{_(!0),D(null);try{const[Y,se,X,Ae]=await Promise.all([lr.getAllPurchaseOrders(),lr.getAllInvoices(),lr.getAllIssuedPOs(),lr.getAllReceivedInvoices(),a(),s(),c()]),ge=Array.isArray(Y)?Y:Y?.data||Y||[];h(ge),m(Array.isArray(se)?se:[]);const Z=Array.isArray(X)?X:X?.data||[];g(Z);const O=Array.isArray(Ae)?Ae:Ae?.data||[];w(O);const H={},G=is.getState().projects.map(async ae=>{try{const ue=await Os.getProjectHourlyRates(ae.id);H[ae.id]={},ue.forEach(Se=>{H[ae.id][Se.teamMemberId]=parseFloat(Se.hourlyRate)})}catch{}});await Promise.all(G),C(H)}catch(Y){console.error("Failed to fetch finance data:",Y),D(Y?.message||"Failed to load finance data")}finally{_(!1)}},[a,s,c]);B.useEffect(()=>{P()},[P]);const k=B.useMemo(()=>A.filter(Y=>yb(Y.receivedDate,r,e)),[A,r,e]),z=B.useMemo(()=>p.filter(Y=>yb(Y.invoiceDate,r,e)),[p,r,e]),I=B.useMemo(()=>y.filter(Y=>yb(Y.issueDate,r,e)),[y,r,e]),Q=B.useMemo(()=>v.filter(Y=>yb(Y.invoiceDate,r,e)),[v,r,e]),R=B.useMemo(()=>kBe(t,k,z,I,Q,n,l),[t,k,z,I,Q,n,l,S]),K=B.useMemo(()=>FBe(R,k,z,I,Q),[R,k,z,I,Q]);return{projectSummaries:R,totals:K,loading:E||i||u,error:L,refetch:P}}function kBe(r,e,t,n,a,s,i,l){const c=Array.isArray(s)?s:[];return r.map(u=>{const A=[u.projectCode];!u.isVariationOrder&&u.variationOrders&&u.variationOrders.length>0&&u.variationOrders.forEach(K=>{A.push(K.projectCode)});const h=e.filter(K=>A.includes(K.projectCode)&&K.isActive),p=t.filter(K=>A.includes(K.projectCode)),m=h.reduce((K,ee)=>{let Y;return ee.amountMyrAdjusted!==null&&ee.amountMyrAdjusted!==void 0?Y=ee.amountMyrAdjusted:ee.amountMyr!==null&&ee.amountMyr!==void 0?Y=ee.amountMyr:Y=ee.amount,K+parseFloat((Y||0).toString())},0),y=h.map(K=>{let ee;return K.amountMyrAdjusted!==null&&K.amountMyrAdjusted!==void 0?ee=K.amountMyrAdjusted:K.amountMyr!==null&&K.amountMyr!==void 0?ee=K.amountMyr:ee=K.amount,{amount:parseFloat(K.amount.toString()),currency:K.currency||"MYR",amountMyr:parseFloat((ee||0).toString())}}),g=p.reduce((K,ee)=>{const Y=ee.amountMyr!==null&&ee.amountMyr!==void 0?ee.amountMyr:ee.amount;return K+parseFloat((Y||0).toString())},0),v=p.map(K=>({amount:parseFloat(K.amount.toString()),currency:K.currency||"MYR",amountMyr:parseFloat((K.amountMyr!==null&&K.amountMyr!==void 0?K.amountMyr:K.amount||0).toString())})),w=m-g,S=n.filter(K=>A.includes(K.projectCode)),C=S.reduce((K,ee)=>K+parseFloat((ee.amount||0).toString()),0),E=S.map(K=>({amount:parseFloat(K.amount.toString()),currency:"MYR",amountMyr:parseFloat((K.amount||0).toString())})),_=a.filter(K=>n.find(Y=>Y.id===K.issuedPoId)?.projectCode===u.projectCode),L=_.reduce((K,ee)=>{const Y=ee.amountMyr!==null&&ee.amountMyr!==void 0?ee.amountMyr:ee.amount;return K+parseFloat((Y||0).toString())},0),D=_.map(K=>({amount:parseFloat(K.amount.toString()),currency:K.currency||"MYR",amountMyr:parseFloat((K.amountMyr!==null&&K.amountMyr!==void 0?K.amountMyr:K.amount||0).toString())})),P=c.filter(K=>K.projectId.toString()===u.id),k=P.reduce((K,ee)=>K+parseFloat(ee.hours.toString()||"0"),0),z={};P.forEach(K=>{const ee=K.engineerId.toString();if(!z[ee]){const Y=i.find(se=>se.userId?.toString()===ee);z[ee]={hours:0,engineer:Y}}z[ee].hours+=parseFloat(K.hours.toString()||"0")});const I=u.hourlyRate||mV,Q=Object.entries(z).map(([K,ee])=>{const Y=ee.engineer;return{engineerId:K,engineerName:Y?.name||"Unknown",role:Y?.role||"engineer",hours:ee.hours,hourlyRate:I,totalCost:ee.hours*I}}),R=Q.reduce((K,ee)=>K+ee.totalCost,0);return{projectId:u.id,projectCode:u.projectCode,projectTitle:u.title,clientName:u.companyName||"Unknown Client",status:u.status,poReceived:m,invoiced:g,outstanding:w,poReceivedOriginal:y,invoicedOriginal:v,baseCost:R,actualHours:k,engineerBreakdown:Q,vendorPOsIssued:C,vendorInvoicesReceived:L,vendorPOsOriginal:E,vendorInvoicesOriginal:D,isParentProject:!u.isVariationOrder&&(u.variationOrders?.length||0)>0,voCount:u.variationOrders?.length||0}})}function FBe(r,e,t,n,a){const s=r.reduce((g,v)=>g+v.poReceived,0),i=r.reduce((g,v)=>g+v.invoiced,0),l=s-i,c=r.reduce((g,v)=>g+v.baseCost,0),u={};e.filter(g=>g.isActive).forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());u[v]=(u[v]||0)+w});const A={};t.forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());A[v]=(A[v]||0)+w});const h=r.reduce((g,v)=>g+v.vendorPOsIssued,0),p=r.reduce((g,v)=>g+v.vendorInvoicesReceived,0),m={};n.forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());m[v]=(m[v]||0)+w});const y={};return a.forEach(g=>{const v=g.currency||"MYR",w=parseFloat(g.amount.toString());y[v]=(y[v]||0)+w}),{totalPOReceived:s,totalInvoiced:i,totalOutstanding:l,totalBaseCost:c,poReceivedByCurrency:u,invoicedByCurrency:A,totalVendorPOsIssued:h,totalVendorInvoicesReceived:p,vendorPOsByCurrency:m,vendorInvoicesByCurrency:y}}function vb(r,e,t){if(e.length===0)return`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(e.length===1){const{amount:s,currency:i}=e[0];return yw(s,i)}const n={};e.forEach(s=>{n[s.currency]=(n[s.currency]||0)+1});const a=Object.keys(n);if(a.length===1){const s=a[0],i=e.reduce((l,c)=>l+c.amount,0);return yw(i,s)}return e.map(s=>yw(s.amount,s.currency)).join(" + ")}function yw(r,e){return`${{MYR:"RM",USD:"US$",SGD:"S$",EUR:"",GBP:"",JPY:"",CNY:"",AUD:"A$",THB:"",IDR:"Rp"}[e]||e} ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function bb(r,e,t){const n=Object.keys(e);return n.length===0?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.length===1&&n[0]==="MYR"?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.map(a=>yw(e[a],a)).join(`
`)}const OBe=({totals:r,showOriginalCurrency:e,loading:t=!1})=>{const n=s=>`RM ${s.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,a=[{title:"PO Received",value:e?bb(r.totalPOReceived,r.poReceivedByCurrency):n(r.totalPOReceived),icon:$a,iconBg:"bg-green-100",iconColor:"text-green-600",subtitle:"Total purchase orders received"},{title:"Invoiced",value:e?bb(r.totalInvoiced,r.invoicedByCurrency):n(r.totalInvoiced),icon:o7,iconBg:"bg-blue-100",iconColor:"text-blue-600",subtitle:"Total amount invoiced"},{title:"Outstanding",value:n(r.totalOutstanding),icon:To,iconBg:r.totalOutstanding>0?"bg-orange-100":"bg-gray-100",iconColor:r.totalOutstanding>0?"text-orange-600":"text-gray-600",subtitle:"Remaining to invoice"},{title:"Vendor POs Issued",value:e?bb(r.totalVendorPOsIssued,r.vendorPOsByCurrency):n(r.totalVendorPOsIssued),icon:u7,iconBg:"bg-indigo-100",iconColor:"text-indigo-600",subtitle:"Purchase orders to vendors"},{title:"Vendor Invoices",value:e?bb(r.totalVendorInvoicesReceived,r.vendorInvoicesByCurrency):n(r.totalVendorInvoicesReceived),icon:UZ,iconBg:"bg-teal-100",iconColor:"text-teal-600",subtitle:"Invoices received from vendors"},{title:"Base Cost",value:n(r.totalBaseCost),icon:Cu,iconBg:"bg-purple-100",iconColor:"text-purple-600",subtitle:`Base rate: RM ${fV.toLocaleString()}/day (RM ${mV.toFixed(2)}/hr)`}];return t?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[...Array(6)].map((s,i)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded w-28"})]},i))}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:a.map(s=>{const i=s.icon,l=s.value.includes(`
`);return o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:`w-12 h-12 ${s.iconBg} rounded-xl flex items-center justify-center`,children:o.jsx(i,{className:`w-6 h-6 ${s.iconColor}`})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:s.title}),l?o.jsx("div",{className:"space-y-1",children:s.value.split(`
`).map((c,u)=>o.jsx("div",{className:"text-sm font-bold text-gray-900",children:c},u))}):o.jsx("div",{className:"text-xl lg:text-2xl font-bold text-gray-900 whitespace-nowrap",children:s.value}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:s.subtitle})]},s.title)})})},DBe={engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"},PBe=({engineers:r})=>{const{canViewBaseCost:e}=N3(),t=i=>`RM ${i.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(r.length===0)return o.jsx("div",{className:"py-6 px-4",children:o.jsxs("div",{className:"flex items-center justify-center text-gray-500",children:[o.jsx(Hl,{className:"w-5 h-5 mr-2"}),o.jsx("span",{className:"text-sm",children:"No timesheets recorded for this project"})]})});const n=r.reduce((i,l)=>i+l.hours,0),a=r.reduce((i,l)=>i+l.totalCost,0),s=n>0?a/n:0;return o.jsxs("div",{className:"py-4 px-4 border-l-4 border-primary-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Engineer Breakdown"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Engineer"}),o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Role"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Hours"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Rate/hr"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Cost"})]})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(i=>o.jsxs("tr",{className:"hover:bg-gray-100/50",children:[o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"font-medium text-gray-900",children:i.engineerName})}),o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"text-gray-600",children:DBe[i.role]||i.role})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsxs("span",{className:"text-gray-900",children:[i.hours.toFixed(1)," hrs"]})}),e&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"text-gray-600",children:t(i.hourlyRate)})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:t(i.totalCost)})})]})]},i.engineerId))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-gray-200 bg-gray-50/50",children:[o.jsx("td",{className:"py-2.5 font-semibold text-gray-900",children:"Total"}),o.jsx("td",{className:"py-2.5"}),o.jsxs("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:[n.toFixed(1)," hrs"]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs("td",{className:"py-2.5 text-right text-gray-600",children:["Avg: ",t(s)]}),o.jsx("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:t(a)})]})]})})]})})]})},IBe={"pre-lim":"bg-amber-100 text-amber-700",ongoing:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"},LBe={"pre-lim":"Pre-lim",ongoing:"Ongoing",completed:"Completed"},MBe=({projects:r,showOriginalCurrency:e,loading:t=!1,selectedYear:n,selectedMonth:a})=>{const[s,i]=B.useState(new Set),[l,c]=B.useState(""),[u,A]=B.useState("all"),h=y=>{i(g=>{const v=new Set(g);return v.has(y)?v.delete(y):v.add(y),v})},p=r.filter(y=>{if(u!=="all"&&y.status!==u)return!1;if(l.trim()){const g=l.toLowerCase();return y.projectCode.toLowerCase().includes(g)||y.projectTitle.toLowerCase().includes(g)||y.clientName.toLowerCase().includes(g)}return!0}),m=y=>`RM ${y.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return t?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"})}),o.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((y,g)=>o.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},g))})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Project Breakdown"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:y=>c(y.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full sm:w-64"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:y=>A(y.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Pre-lim"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-8"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PO Received"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Invoiced"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Outstanding"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Base Cost"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendor POs"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendor Invoices"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:p.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx($l,{className:"w-12 h-12 text-gray-300 mb-3"}),o.jsx("p",{className:"text-sm",children:"No projects found"}),l&&o.jsx("button",{onClick:()=>c(""),className:"mt-2 text-sm text-primary-600 hover:text-primary-700",children:"Clear search"})]})})}):p.map(y=>{const g=s.has(y.projectId),v=y.poReceived>0?Math.round(y.invoiced/y.poReceived*100):0;return o.jsxs(bs.Fragment,{children:[o.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${g?"bg-gray-50":""}`,onClick:()=>h(y.projectId),children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",onClick:w=>{w.stopPropagation(),h(y.projectId)},children:g?o.jsx(kc,{className:"w-4 h-4 text-gray-500"}):o.jsx(gA,{className:"w-4 h-4 text-gray-500"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:y.projectCode}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${IBe[y.status]||"bg-gray-100 text-gray-700"}`,children:LBe[y.status]||y.status})]}),o.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:y.projectTitle}),o.jsx("span",{className:"text-xs text-gray-500",children:y.clientName})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.poReceivedOriginal.length>0?vb(y.poReceived,y.poReceivedOriginal):m(y.poReceived)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.invoicedOriginal.length>0?vb(y.invoiced,y.invoicedOriginal):m(y.invoiced)}),y.poReceived>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",v,"%)"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:`font-medium ${y.outstanding>0?"text-orange-600":"text-gray-900"}`,children:m(y.outstanding)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:m(y.baseCost)}),y.actualHours>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[y.actualHours.toFixed(1)," hrs"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.vendorPOsOriginal.length>0?vb(y.vendorPOsIssued,y.vendorPOsOriginal):m(y.vendorPOsIssued)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.vendorInvoicesOriginal.length>0?vb(y.vendorInvoicesReceived,y.vendorInvoicesOriginal):m(y.vendorInvoicesReceived)})})]}),g&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-0 bg-gray-50",children:o.jsx(PBe,{engineers:y.engineerBreakdown})})})]},y.projectId)})})]})}),o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:o.jsxs("span",{children:["Showing ",p.length," of ",r.length," projects"]})})})]})},RBe=new Date().getFullYear(),UBe=[0,...Array.from({length:6},(r,e)=>RBe-e)],QBe=[{value:0,label:"All Months"},{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],HBe=()=>{const r=mg(),{canAccessFinance:e,roleInfo:t}=N3(),[n,a]=B.useState(0),[s,i]=B.useState(0),{projectSummaries:l,totals:c,loading:u,error:A,refetch:h}=TBe(n,s),[p,m]=B.useState(!1);return B.useEffect(()=>{const y=()=>{document.visibilityState==="visible"&&h()},g=()=>{h()};return document.addEventListener("visibilitychange",y),window.addEventListener("focus",g),()=>{document.removeEventListener("visibilitychange",y),window.removeEventListener("focus",g)}},[h]),e?A?o.jsx("div",{className:"min-h-full bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(os,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Data"}),o.jsx("p",{className:"text-gray-600 mb-4",children:A}),o.jsx("button",{onClick:()=>h(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Try Again"})]})}):o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Overview"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"PO received, invoiced amounts, and labor costs"})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-xl border border-gray-200",children:[o.jsx(so,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:s,onChange:y=>i(Number(y.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:QBe.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))}),o.jsx("select",{value:n,onChange:y=>a(Number(y.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:UBe.map(y=>o.jsx("option",{value:y,children:y===0?"All Time":y},y))})]}),o.jsxs("button",{onClick:()=>m(!p),className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-colors ${p?"bg-primary-100 text-primary-700 border border-primary-200":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,title:p?"Showing original currencies":"Showing MYR",children:[p?o.jsx(nte,{className:"w-5 h-5"}):o.jsx(tte,{className:"w-5 h-5"}),p?"Original":"MYR"]})]})]})}),o.jsx(OBe,{totals:c,showOriginalCurrency:p,loading:u}),o.jsx(MBe,{projects:l,showOriginalCurrency:p,loading:u,selectedYear:n,selectedMonth:s})]})}):o.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(os,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:vd("access finance","senior-engineer")}),t&&o.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg ${t.color} mb-6`,children:[o.jsx("span",{children:t.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm font-semibold",children:t.label}),o.jsxs("p",{className:"text-xs opacity-75",children:["Level ",t.level," Access"]})]})]}),o.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Back to Dashboard"})]})})},zBe=Ic(r=>({purchaseOrders:[],loading:!1,error:null,fetchPurchaseOrders:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllPurchaseOrders(e),n=t.data||t,a=Array.isArray(n)?n:[];r({purchaseOrders:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch purchase orders";console.error("Error fetching purchase orders:",n),r({error:n,loading:!1})}},createPurchaseOrder:async e=>{try{r({loading:!0,error:null});const t=await wr.createPurchaseOrder(e),n=t.data||t;r(a=>({purchaseOrders:[...a.purchaseOrders,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to create purchase order";throw console.error("Error creating purchase order:",n),r({error:n,loading:!1}),t}},updatePurchaseOrder:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updatePurchaseOrder(e,t),a=n.data||n;r(s=>({purchaseOrders:s.purchaseOrders.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update purchase order";throw console.error("Error updating purchase order:",a),r({error:a,loading:!1}),n}},deletePurchaseOrder:async e=>{try{r({loading:!0,error:null}),await wr.deletePurchaseOrder(e),r(t=>({purchaseOrders:t.purchaseOrders.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete purchase order";throw console.error("Error deleting purchase order:",n),r({error:n,loading:!1}),t}}})),KBe=()=>{const r=Bo(),e=r&&sl(r.role||"engineer","canAccessFinance"),t=r&&sl(r.role||"engineer","canUploadPO"),{purchaseOrders:n,fetchPurchaseOrders:a,createPurchaseOrder:s,updatePurchaseOrder:i,deletePurchaseOrder:l,loading:c}=zBe(),[u,A]=B.useState("all"),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(null),[w,S]=B.useState({isOpen:!1});B.useEffect(()=>{a()},[]);const C=n.filter(I=>u==="all"||I.status===u),E=I=>C.filter(Q=>Q.status===I).reduce((Q,R)=>Q+(R.amountMyrAdjusted||R.amountMyr||R.amount||0),0),_=I=>({received:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",invoiced:"bg-purple-100 text-purple-800",paid:"bg-green-100 text-green-800"})[I]||"bg-gray-100 text-gray-800",L=I=>({received:"Received","in-progress":"In Progress",invoiced:"Invoiced",paid:"Paid"})[I]||I,D=()=>{if(!t){rr.error("You do not have permission to create purchase orders");return}v(null),p(!0)},P=I=>{if(!t){rr.error("You do not have permission to edit purchase orders");return}v(I),y(!0)},k=(I,Q)=>{if(!t){rr.error("You do not have permission to delete purchase orders");return}S({isOpen:!0,poId:I,poNumber:Q})},z=async()=>{if(w.poId)try{await l(w.poId),rr.success("Purchase order deleted successfully"),S({isOpen:!1})}catch{rr.error("Failed to delete purchase order")}};return e?o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Purchase Orders"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create, track, and manage purchase orders"})]}),t&&o.jsx(Qt,{onClick:D,icon:o.jsx(ei,{className:"w-5 h-5"}),children:"Create PO"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total POs"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-blue-800",children:"Received"}),o.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["RM ",E("received").toLocaleString()]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-yellow-800",children:"In Progress"}),o.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["RM ",E("in-progress").toLocaleString()]})]}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-purple-800",children:"Invoiced"}),o.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:["RM ",E("invoiced").toLocaleString()]})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-green-800",children:"Paid"}),o.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["RM ",E("paid").toLocaleString()]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:o.jsxs("select",{value:u,onChange:I=>A(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})}),c&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!c&&o.jsx("div",{className:"space-y-3",children:C.length===0?o.jsx(Vr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx($a,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No purchase orders found"}),o.jsx("p",{className:"text-sm",children:t?"Create a new purchase order to get started":"No purchase orders match the current filters"})]})}):C.map(I=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx($a,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"font-semibold text-gray-900",children:I.poNumber}),o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${_(I.status)}`,children:L(I.status)}),I.fileUrl&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx($a,{className:"w-3 h-3"}),"Document"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",I.clientName]}),I.projectCode?o.jsxs("p",{className:"text-sm text-gray-600",children:["Project: ",o.jsx("span",{className:"font-medium text-gray-900",children:I.projectCode}),I.project?.title&&o.jsxs("span",{className:"text-gray-500",children:[" - ",I.project.title]})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"Project: Not linked"})]}),I.description&&o.jsx("p",{className:"text-sm text-gray-700 mt-2",children:I.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Received: ",new Date(I.receivedDate).toLocaleDateString()]}),I.dueDate&&o.jsxs("span",{children:["Due: ",new Date(I.dueDate).toLocaleDateString()]})]}),I.fileUrl&&o.jsx("div",{className:"mt-3",children:o.jsxs("a",{href:I.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-800 hover:underline",children:[o.jsx(LA,{className:"w-3 h-3"}),"View Document"]})})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RM ",(I.amount||0).toLocaleString("en-MY",{minimumFractionDigits:2})]})}),t&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>P(I),className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Edit",children:o.jsx(ko,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>k(I.id,I.poNumber),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:o.jsx(ws,{className:"w-4 h-4"})})]})]})]})},I.id))})]}),(h||m)&&o.jsx($Be,{isOpen:h||m,po:g,onClose:()=>{p(!1),y(!1),v(null)},onSave:async I=>{try{g?(await i(g.id,I),rr.success("Purchase order updated successfully")):(await s(I),rr.success("Purchase order created successfully")),p(!1),y(!1),v(null)}catch{}}}),o.jsx(rf,{isOpen:w.isOpen,onClose:()=>S({isOpen:!1}),onConfirm:z,title:"Delete Purchase Order",message:`Are you sure you want to delete PO ${w.poNumber}? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Rr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You do not have permission to access the Finance section."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your manager if you need access to this section."})]})})},$Be=({isOpen:r,po:e,onClose:t,onSave:n})=>{const{projects:a,fetchProjects:s}=is(),{companies:i,fetchCompanies:l}=Sd(),[c,u]=B.useState({poNumber:e?.poNumber||"",projectId:"",projectCode:e?.projectCode||"",clientId:"",clientName:e?.clientName||"",amount:e?.amount?.toString()||"",receivedDate:e?.receivedDate||"",dueDate:e?.dueDate||"",description:e?.description||"",status:e?.status||"received",fileUrl:e?.fileUrl||""}),[A,h]=B.useState(null),[p,m]=B.useState(!1);if(B.useEffect(()=>{r&&(l(),s())},[r,l,s]),!r)return null;const y=async g=>{g.preventDefault(),m(!0);try{let v=c.fileUrl;if(A){const S=new FormData;S.append("file",A),S.append("projectCode",c.projectCode),v=(await wr.uploadPurchaseOrderFile(S)).fileUrl}const w={...c,fileUrl:v};await n(w),h(null)}catch(v){rr.error(v.message||"Failed to save purchase order")}finally{m(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Purchase Order":"Create Purchase Order"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e?"Update PO details":"Add a new purchase order"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Number *"}),o.jsx("input",{type:"text",required:!0,value:c.poNumber,onChange:g=>u({...c,poNumber:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"PO-2025-001"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code *"}),o.jsxs("select",{required:!0,value:c.projectId,onChange:g=>{const v=a.find(w=>w.id===g.target.value);u({...c,projectId:g.target.value,projectCode:v?.projectCode||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.filter(g=>g.status==="pre-lim").map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),o.jsxs("select",{required:!0,value:c.clientId,onChange:g=>{const v=i.find(w=>w.id===g.target.value);u({...c,clientId:g.target.value,clientName:v?.name||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a company"}),i.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (RM) *"}),o.jsx("input",{type:"number",required:!0,step:"0.01",value:c.amount,onChange:g=>u({...c,amount:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),o.jsxs("select",{required:!0,value:c.status,onChange:g=>u({...c,status:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),o.jsx("input",{type:"date",required:!0,value:c.receivedDate,onChange:g=>u({...c,receivedDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",value:c.dueDate,onChange:g=>u({...c,dueDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:g=>u({...c,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"PO details..."})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Document"}),c.fileUrl&&o.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($a,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Current Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:c.fileUrl.split("/").pop()})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:c.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-100 rounded transition-colors",title:"View Document",children:o.jsx(LA,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>u({...c,fileUrl:""}),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Remove Document",children:o.jsx(ws,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[o.jsx("input",{type:"file",id:"po-file-upload",accept:".pdf,.png,.jpg,.jpeg,.docx,.doc",onChange:g=>{const v=g.target.files?.[0];if(v){if(v.size>10*1024*1024){rr.error("File size must be less than 10MB");return}h(v)}},className:"hidden"}),o.jsxs("label",{htmlFor:"po-file-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(Fo,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:A?A.name:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG, DOCX (max 10MB)"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:p,className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:p?"Saving...":e?"Update PO":"Create PO"})]})]})]})})},VBe=({activeTab:r,onTabChange:e,receivedPOCount:t=0,invoiceCount:n=0,issuedPOCount:a=0,receivedInvoiceCount:s=0})=>{const i=[{id:"received-pos",label:"Received POs",icon:$a,count:t},{id:"invoices",label:"Invoices",icon:o7,count:n},{id:"issued-pos",label:"Issued POs",icon:u7,count:a},{id:"received-invoices",label:"Received Invoices",icon:HZ,count:s}];return o.jsx("div",{className:"flex justify-center py-6 bg-white",children:o.jsx("div",{className:"flex items-stretch gap-4",children:i.map(l=>{const c=l.icon,u=r===l.id;return o.jsxs("button",{onClick:()=>e(l.id),className:`
                relative flex items-center gap-4 px-8 py-5 rounded-2xl min-w-[200px]
                transition-all duration-200 ease-out border-2
                ${u?"bg-white border-primary-500 shadow-lg shadow-primary-100/50":"bg-gray-50 border-transparent hover:bg-white hover:border-gray-200 hover:shadow-md"}
              `,children:[o.jsx("div",{className:`
                  p-3 rounded-xl transition-colors
                  ${u?"bg-primary-100":"bg-gray-100"}
                `,children:o.jsx(c,{className:`w-6 h-6 ${u?"text-primary-600":"text-gray-500"}`})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:`font-semibold text-base ${u?"text-gray-900":"text-gray-600"}`,children:l.label}),o.jsxs("span",{className:`text-sm ${u?"text-primary-600 font-medium":"text-gray-400"}`,children:[l.count," ",l.count===1?"document":"documents"]})]})]},l.id)})})})},VB={maxFileSize:10*1024*1024,maxFiles:5,allowedTypes:["application/pdf","image/jpeg","image/jpg","image/png","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"]},qB=r=>{if(r===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,n)*100)/100+" "+t[n]},qBe=r=>r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase(),bo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mj=[.001,0,0,.001,0,0],GB=1.35,Ol={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},md={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$y="pdfjs_internal_editor_",Lr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},nn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},pV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Di={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fy={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ms={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Pv={ERRORS:0,WARNINGS:1,INFOS:5},og={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},wb={moveTo:0,lineTo:1,curveTo:2,closePath:3},gV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i5=Pv.WARNINGS;function GBe(r){Number.isInteger(r)&&(i5=r)}function WBe(){return i5}function o5(r){i5>=Pv.INFOS&&console.info(`Info: ${r}`)}function Mr(r){i5>=Pv.WARNINGS&&console.warn(`Warning: ${r}`)}function la(r){throw new Error(r)}function ln(r,e){r||la(e)}function YBe(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function G3(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=tEe(r)}catch{}const n=e?URL.parse(r,e):URL.parse(r);return YBe(n)?n:null}function W3(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&G3(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function zr(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const rm=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class SM extends rm{constructor(e,t){super(e,"PasswordException"),this.code=t}}class WB extends rm{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class M2 extends rm{constructor(e){super(e,"InvalidPDFException")}}class Vy extends rm{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class XBe extends rm{constructor(e){super(e,"FormatError")}}class OA extends rm{constructor(e){super(e,"AbortException")}}function xV(r){(typeof r!="object"||r?.length===void 0)&&la("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let a=0;a<e;a+=t){const s=Math.min(a+t,e),i=r.subarray(a,s);n.push(String.fromCharCode.apply(null,i))}return n.join("")}function Iv(r){typeof r!="string"&&la("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function JBe(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function ZBe(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function eEe(){try{return new Function(""),!0}catch{return!1}}class bi{static get isLittleEndian(){return zr(this,"isLittleEndian",ZBe())}static get isEvalSupported(){return zr(this,"isEvalSupported",eEe())}static get isOffscreenCanvasSupported(){return zr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return zr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return zr(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return zr(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const YB=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Xt{static makeHexColor(e,t,n){return`#${YB[e]}${YB[t]}${YB[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const a=e[n],s=e[n+1];e[n]=a*t[0]+s*t[2]+t[4],e[n+1]=a*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5];for(let A=0;A<6;A+=2){const h=e[n+A],p=e[n+A+1];e[n+A]=h*a+p*i+c,e[n+A+1]=h*s+p*l+u}}static applyInverseTransform(e,t){const n=e[0],a=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5],A=e[0],h=e[1],p=e[2],m=e[3];let y=a*A+c,g=y,v=a*p+c,w=v,S=l*h+u,C=S,E=l*m+u,_=E;if(s!==0||i!==0){const L=s*A,D=s*p,P=i*h,k=i*m;y+=P,w+=P,v+=k,g+=k,S+=L,_+=L,E+=D,C+=D}n[0]=Math.min(n[0],y,v,g,w),n[1]=Math.min(n[1],S,E,C,_),n[2]=Math.max(n[2],y,v,g,w),n[3]=Math.max(n[3],S,E,C,_)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],a=e[1],s=e[2],i=e[3],l=n**2+a**2,c=n*s+a*i,u=s**2+i**2,A=(l+u)/2,h=Math.sqrt(A**2-(l*u-c**2));t[0]=Math.sqrt(A+h||1),t[1]=Math.sqrt(A-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>a)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>i?null:[n,s,a,i]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,a,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,a),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,a)}static#e(e,t,n,a,s,i,l,c,u,A){if(u<=0||u>=1)return;const h=1-u,p=u*u,m=p*u,y=h*(h*(h*e+3*u*t)+3*p*n)+m*a,g=h*(h*(h*s+3*u*i)+3*p*l)+m*c;A[0]=Math.min(A[0],y),A[1]=Math.min(A[1],g),A[2]=Math.max(A[2],y),A[3]=Math.max(A[3],g)}static#t(e,t,n,a,s,i,l,c,u,A,h,p){if(Math.abs(u)<1e-12){Math.abs(A)>=1e-12&&this.#e(e,t,n,a,s,i,l,c,-h/A,p);return}const m=A**2-4*h*u;if(m<0)return;const y=Math.sqrt(m),g=2*u;this.#e(e,t,n,a,s,i,l,c,(-A+y)/g,p),this.#e(e,t,n,a,s,i,l,c,(-A-y)/g,p)}static bezierBoundingBox(e,t,n,a,s,i,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),this.#t(e,n,s,l,t,a,i,c,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),u),this.#t(e,n,s,l,t,a,i,c,3*(-t+3*(a-i)+c),6*(t-2*a+i),3*(a-t),u)}}function tEe(r){return decodeURIComponent(escape(r))}let XB=null,BM=null;function yV(r){return XB||(XB=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,BM=new Map([["","t"]])),r.replaceAll(XB,(e,t,n)=>t?t.normalize("NFKC"):BM.get(n))}function Y3(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),xV(r)}const X3="pdfjs_internal_id_";function rEe(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,a,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(a))return!1;const i=s.length;let l=!0;switch(a.name){case"XYZ":if(i<2||i>3)return!1;break;case"Fit":case"FitB":return i===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(i>1)return!1;break;case"FitR":if(i!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function no(r,e,t){return Math.min(Math.max(r,e),t)}function vV(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(xV(r))}function nEe(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Iv(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class qy{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function a(s){if(!s)return;let i=null;const l=s.name;if(l==="#text")i=s.value;else if(qy.shouldBuildText(l))s?.attributes?.textContent?i=s.attributes.textContent:s.value&&(i=s.value);else return;if(i!==null&&t.push({str:i}),!!s.children)for(const c of s.children)a(c)}return a(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class J3{static setupStorage(e,t,n,a,s){const i=a.getValue(t,{value:null});switch(n.name){case"textarea":if(i.value!==null&&(e.textContent=i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(i.value===n.attributes.xfaOn?e.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{a.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(i.value!==null&&e.setAttribute("value",i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})})}break;case"select":if(i.value!==null){e.setAttribute("value",i.value);for(const l of n.children)l.attributes.value===i.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;a.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:a,linkService:s}){const{attributes:i}=t,l=e instanceof HTMLAnchorElement;i.type==="radio"&&(i.name=`${i.name}-${a}`);for(const[c,u]of Object.entries(i))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&s.addLinkAttributes(e,i.href,i.newWindow),n&&i.dataId&&this.setupStorage(e,i.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,a=e.xfaHtml,s=e.intent||"display",i=document.createElement(a.name);a.attributes&&this.setAttributes({html:i,element:a,intent:s,linkService:n});const l=s!=="richText",c=e.div;if(c.append(i),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=h}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(a.children.length===0){if(a.value){const h=document.createTextNode(a.value);i.append(h),l&&qy.shouldBuildText(a.name)&&u.push(h)}return{textDivs:u}}const A=[[a,-1,i]];for(;A.length>0;){const[h,p,m]=A.at(-1);if(p+1===h.children.length){A.pop();continue}const y=h.children[++A.at(-1)[1]];if(y===null)continue;const{name:g}=y;if(g==="#text"){const w=document.createTextNode(y.value);u.push(w),m.append(w);continue}const v=y?.attributes?.xmlns?document.createElementNS(y.attributes.xmlns,g):document.createElement(g);if(m.append(v),y.attributes&&this.setAttributes({html:v,element:y,storage:t,intent:s,linkService:n}),y.children?.length>0)A.push([y,-1,v]);else if(y.value){const w=document.createTextNode(y.value);l&&qy.shouldBuildText(g)&&u.push(w),v.append(w)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const cA="http://www.w3.org/2000/svg";class Q0{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Pg(r,e="text"){if(Yx(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class Lv{constructor({viewBox:e,userUnit:t,scale:n,rotation:a,offsetX:s=0,offsetY:i=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=a,this.offsetX=s,this.offsetY=i,n*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let A,h,p,m;switch(a%=360,a<0&&(a+=360),a){case 180:A=-1,h=0,p=0,m=1;break;case 90:A=0,h=1,p=1,m=0;break;case 270:A=0,h=-1,p=-1,m=0;break;case 0:A=1,h=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(p=-p,m=-m);let y,g,v,w;A===0?(y=Math.abs(u-e[1])*n+s,g=Math.abs(c-e[0])*n+i,v=(e[3]-e[1])*n,w=(e[2]-e[0])*n):(y=Math.abs(c-e[0])*n+s,g=Math.abs(u-e[1])*n+i,v=(e[2]-e[0])*n,w=(e[3]-e[1])*n),this.transform=[A*n,h*n,p*n,m*n,y-A*n*c-p*n*u,g-h*n*c-m*n*u],this.width=v,this.height=w}get rawDims(){const e=this.viewBox;return zr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:s=!1}={}){return new Lv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Xt.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Xt.applyTransform(t,this.transform);const n=[e[2],e[3]];return Xt.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Xt.applyInverseTransform(n,this.transform),n}}class l5 extends rm{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Mv(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function c5(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function bV(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function wV(r,e="document.pdf"){if(typeof r!="string")return e;if(Mv(r))return Mr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const a=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,i=n.pathname.split("/").at(-1);if(s.test(i))return a(i);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const u of l)if(s.test(u))return a(u);const c=Array.from(n.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return a(u)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return a(c[0])}return e}class EM{started=Object.create(null);times=[];time(e){e in this.started&&Mr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Mr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:a,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-a}ms
`);return e.join("")}}function Yx(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Yl(r){r.preventDefault()}function Ha(r){r.preventDefault(),r.stopPropagation()}function aEe(r){console.log("Deprecated API usage: "+r)}class R2{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let A=parseInt(t[8],10);A=A>=0&&A<=23?A:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(i+=A,l+=h):u==="+"&&(i-=A,l-=h),new Date(Date.UTC(n,a,s,i,l,c))}}function CV(r,{scale:e=1,rotation:t=0}){const{width:n,height:a}=r.attributes.style,s=[0,0,parseInt(n),parseInt(a)];return new Lv({viewBox:s,userUnit:1,scale:e,rotation:t})}function Ig(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Mr(`Not a valid color format: "${r}"`),[0,0,0])}function sEe(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Ig(n))}e.remove()}function Qa(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform();return[e,t,n,a,s,i]}function ad(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform().invertSelf();return[e,t,n,a,s,i]}function lf(r,e,t=!1,n=!0){if(e instanceof Lv){const{pageWidth:a,pageHeight:s}=e.rawDims,{style:i}=r,l=bi.isCSSRoundSupported,c=`var(--total-scale-factor) * ${a}px`,u=`var(--total-scale-factor) * ${s}px`,A=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(i.width=A,i.height=h):(i.width=h,i.height=A)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Bu{constructor(){const{pixelRatio:e}=Bu;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,a,s=-1){let i=1/0,l=1/0,c=1/0;n=Bu.capPixels(n,s),n>0&&(i=Math.sqrt(n/(e*t))),a!==-1&&(l=a/e,c=a/t);const u=Math.min(i,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const U2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class iEe{static get isDarkMode(){return zr(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class NV{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),zr(this,"commentForegroundColor",Ig(n))}}function SV(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return r=Math.round(r*n+a),e=Math.round(e*n+a),t=Math.round(t*n+a),[r,e,t]}function jM(r,e){const t=r[0]/255,n=r[1]/255,a=r[2]/255,s=Math.max(t,n,a),i=Math.min(t,n,a),l=(s+i)/2;if(s===i)e[0]=e[1]=0;else{const c=s-i;switch(e[1]=l<.5?c/(s+i):c/(2-s-i),s){case t:e[0]=((n-a)/c+(n<a?6:0))*60;break;case n:e[0]=((a-t)/c+2)*60;break;case a:e[0]=((t-n)/c+4)*60;break}}e[2]=l}function pj(r,e){const t=r[0],n=r[1],a=r[2],s=(1-Math.abs(2*a-1))*n,i=s*(1-Math.abs(t/60%2-1)),l=a-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=i+l,e[2]=l;break;case 1:e[0]=i+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=i+l;break;case 3:e[0]=l,e[1]=i+l,e[2]=s+l;break;case 4:e[0]=i+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=i+l;break}}function _M(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function TM(r,e,t){pj(r,t),t.map(_M);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];pj(e,t),t.map(_M);const a=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const kM=new Map;function BV(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=kM.get(t);if(n)return n;const a=new Float32Array(9),s=a.subarray(0,3),i=a.subarray(3,6);jM(r,i);const l=a.subarray(6,9);jM(e,l);const c=l[2]<.5,u=c?12:4.5;if(i[2]=c?Math.sqrt(i[2]):1-Math.sqrt(1-i[2]),TM(i,l,s)<u){let A,h;c?(A=i[2],h=1):(A=0,h=i[2]);const p=.005;for(;h-A>p;){const m=i[2]=(A+h)/2;c===TM(i,l,s)<u?A=m:h=m}i[2]=c?h:A}return pj(i,s),n=Xt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),kM.set(t,n),n}function Z3({html:r,dir:e,className:t},n){const a=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const i=r.split(/(?:\r\n?|\n)/);for(let l=0,c=i.length;l<c;++l){const u=i[l];s.append(document.createTextNode(u)),l<c-1&&s.append(document.createElement("br"))}a.append(s)}else J3.render({xfaHtml:r,div:a,intent:"richText"});a.firstChild.classList.add("richText",t),n.append(a)}class my{#e=null;#t=null;#n;#r=null;#i=null;#a=null;#s=null;#o=null;static#c=null;constructor(e){this.#n=e,my.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Yl,{signal:t}),e.addEventListener("pointerdown",my.#l,{signal:t}));const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const a=this.#n.toolbarPosition;if(a){const{style:s}=e,i=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#A(e){this.#n._focusEventsAllowed=!1,Ha(e)}#d(e){this.#n._focusEventsAllowed=!0,Ha(e)}#h(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#A.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Yl,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",my.#c[e]),this.#h(n)&&n.addEventListener("click",a=>{t.delete()},{signal:t._signal}),this.#r.append(n)}get#p(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#r.append(t,this.#p),this.#i=e}addComment(e,t=null){if(this.#a)return;const n=e.renderForToolbar();if(!n)return;this.#h(n);const a=this.#s=this.#p;t?(this.#r.insertBefore(n,t),this.#r.insertBefore(a,t)):this.#r.append(n,a),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#r.append(t,this.#p)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#h(t),this.#r.append(t,this.#p)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#s?.remove(),this.#s=null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const a=this.#r.querySelector(n);a&&e==="comment"&&this.addComment(t,a)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class oEe{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Yl,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#n.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#i(e,t){let n=0,a=0;for(const s of e){const i=s.y+s.height;if(i<n)continue;const l=s.x+(t?s.width:0);if(i>n){a=l,n=i;continue}t?l>a&&(a=l):l<a&&(a=l)}return[t?1-a:a,n]}show(e,t,n){const[a,s]=this.#i(t,n),{style:i}=this.#t||=this.#r();e.append(this.#t),i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,t,n,a){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const i=document.createElement("span");s.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id",n);const l=this.#n._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Yl,{signal:l}),s.addEventListener("click",a,{signal:l})),this.#e.append(s)}}function EV(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}class lEe{#e=0;get id(){return`${$y}${this.#e++}`}}class ek{#e=Y3();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const s=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return zr(this,"_isSVGFittingCanvas",s)}async#r(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof t=="string"?(n.url=t,a=await Pg(t,"blob")):t instanceof File?a=n.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const s=ek._isSVGFittingCanvas,i=new FileReader,l=new Image,c=new Promise((u,A)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,u()},i.onload=async()=>{const h=n.svgUrl=i.result;l.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=i.onerror=A});i.readAsDataURL(a),await c}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){Mr(a),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:a,type:s}=e;return this.#r(`${t}_${n}_${a}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const n=await t;return this.#r(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class cEe{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:a,type:s=NaN,overwriteIfSameType:i=!1,keepUndo:l=!1}){if(a&&e(),this.#t)return;const c={cmd:e,undo:t,post:n,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(c);return}if(i&&this.#e[this.#r].type===s){l&&(c.undo=this.#e[this.#r].undo),this.#e[this.#r]=c;return}const u=this.#r+1;u===this.#n?this.#e.splice(0,1):(this.#r=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(c)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Rv{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bi.platform;for(const[n,a,s={}]of e)for(const i of n){const l=i.startsWith("mac+");t&&l?(this.callbacks.set(i.slice(4),{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1))):!t&&!l&&(this.callbacks.set(i,{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:a,options:{bubbles:s=!1,args:i=[],checker:l=null}}=n;l&&!l(e,t)||(a.bind(e,...i,t)(),s||Ha(t))}}class tk{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return sEe(e),zr(this,"_colors",e)}convert(e){const t=Ig(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,a]of this._colors)if(a.every((s,i)=>s===t[i]))return tk._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Xt.makeHexColor(...t):e}}class DA{#e=new AbortController;#t=null;#n=null;#r=new Map;#i=new Map;#a=null;#s=null;#o=null;#c=new cEe;#l=null;#A=null;#d=null;#h=0;#p=new Set;#f=null;#u=null;#m=new Set;_editorUndoBar=null;#g=!1;#y=!1;#x=!1;#S=null;#C=null;#v=null;#E=null;#w=!1;#N=null;#T=new lEe;#j=!1;#_=!1;#L=!1;#F=null;#D=null;#M=null;#P=null;#K=null;#B=Lr.NONE;#b=new Set;#O=null;#R=null;#Q=null;#q=null;#V=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#I=null;#$=null;#J=null;#Z=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=DA.prototype,t=i=>i.#$.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&i.hasSomethingToControl(),n=(i,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},a=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return zr(this,"_keyboardManager",new Rv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#$.contains(l)&&!i.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#$.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,a,s,i,l,c,u,A,h,p,m,y,g,v){const w=this._signal=this.#e.signal;this.#$=e,this.#J=t,this.#Z=n,this.#a=a,this.#l=s,this.#R=i,this.#V=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:w}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),l._on("setpreference",this.onSetPreference.bind(this),{signal:w}),l._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#_=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#_=!1},{capture:!0,signal:w}),this.#le(),this.#Ae(),this.#te(),this.#s=c.annotationStorage,this.#S=c.filterFactory,this.#Q=u,this.#E=A||null,this.#g=h,this.#y=p,this.#x=m,this.#K=y||null,this.viewParameters={realScale:Q0.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=v!==!1,s?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#r.clear(),this.#m.clear(),this.#P?.clear(),this.#t=null,this.#b.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#R?.destroy(),this.#N?.hide(),this.#N=null,this.#M?.destroy(),this.#M=null,this.#n=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#K}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#x}get hcmFilter(){return zr(this,"hcmFilter",this.#Q?this.#S.addHCMFilter(this.#Q.foreground,this.#Q.background):"none")}get direction(){return zr(this,"direction",getComputedStyle(this.#$).direction)}get _highlightColors(){return zr(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return zr(this,"highlightColors",null);const t=new Map,n=!!this.#Q;for(const[a,s]of e){const i=a.endsWith("_HCM");if(n&&i){t.set(a.replace("_HCM",""),s);continue}!n&&!i&&t.set(a,s)}return zr(this,"highlightColors",t)}get highlightColorNames(){return zr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#M=e}editAltText(e,t=!1){this.#a?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,n,a){this.#l?.showDialog(this,e,t,n,a)}selectComment(e,t){this.#i.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#l?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),a=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",a),t())};this._eventBus.on("editorsrendered",a),await n}getSignature(e){this.#R?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#R}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#x=t)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#$.focus()}findParent(e,t){for(const n of this.#i.values()){const{x:a,y:s,width:i,height:l}=n.div.getBoundingClientRect();if(e>=a&&e<=a+i&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Q0.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#X({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#i.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l}=n,c=n.toString(),A=this.#X(n).closest(".textLayer"),h=this.getSelectionBoxes(A);if(!h)return;n.empty();const p=this.#ee(A),m=this.#B===Lr.NONE,y=()=>{const g=p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l,text:c});m&&this.showAllEditors("highlight",!0,!0),t&&g?.editComment()};if(m){this.switchToMode(Lr.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#X(e).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(this.#N||=new oEe(this),this.#N.show(n,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#s)return null;const t=`${$y}${e}`,n=this.#s.getRawValue(t);return n&&this.#s.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#Z;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#O&&(this.#N?.hide(),this.#O=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#O)return;const a=this.#X(e).closest(".textLayer");if(!a){this.#O&&(this.#N?.hide(),this.#O=null,this.#k({hasSelectedText:!1}));return}if(this.#N?.hide(),this.#O=t,this.#k({hasSelectedText:!0}),!(this.#B!==Lr.HIGHLIGHT&&this.#B!==Lr.NONE)&&(this.#B===Lr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#B===Lr.HIGHLIGHT?this.#ee(a):null;if(s?.toggleDrawing(),this.#_){const i=new AbortController,l=this.combinedSignal(i),c=u=>{u.type==="pointerup"&&u.button!==0||(i.abort(),s?.toggleDrawing(!0),u.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else s?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#B===Lr.HIGHLIGHT?this.highlightSelection(e):this.#g&&this.#ie()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#v)return;this.#v=new AbortController;const e=this.combinedSignal(this.#v);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#v?.abort(),this.#v=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#b)if(t.div.contains(e)){this.#D=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,t]=this.#D;this.#D=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#F)return;this.#F=new AbortController;const e=this.combinedSignal(this.#F);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#de(){this.#F?.abort(),this.#F=null}#re(){if(this.#A)return;this.#A=new AbortController;const e=this.combinedSignal(this.#A);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ne(){this.#A?.abort(),this.#A=null}#Ae(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#re()}removeEditListeners(){this.#de(),this.#ne()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#b){const a=n.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(s.type)){i.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Mr(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const s=[];for(const c of n){const u=await a.deserialize(c);if(!u)return;s.push(u)}const i=()=>{for(const c of s)this.#ae(c);this.#se(s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:i,undo:l,mustExec:!0})}catch(s){Mr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#B!==Lr.NONE&&!this.isEditorHandlingKeyboard&&DA._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(e){Object.entries(e).some(([n,a])=>this.#G[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#B===Lr.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#z([[nn.HIGHLIGHT_FREE,!0]]))}#z(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#re(),this.#k({isEditing:this.#B!==Lr.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#ne(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#z(t.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#j?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,a=!1,s=!1){if(this.#B!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#B===Lr.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#B=e,e===Lr.NONE){this.setEditingState(!1),this.#fe();for(const i of this.#r.values())i.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const i of this.#r.values())i.addStandaloneCommentButton();e===Lr.SIGNATURE&&await this.#R?.loadSignatures(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const i of this.#i.values())i.updateMode(e);if(e===Lr.POPUP){this.#n||=await this.#V.getAnnotationsByType(new Set(this.#u.map(c=>c._editorType)));const i=new Set,l=[];for(const c of this.#r.values()){const{annotationElementId:u,hasComment:A,deleted:h}=c;u&&i.add(u),A&&!h&&l.push(c.getData())}for(const c of this.#n){const{id:u,popupRef:A,contentsObj:h}=c;A&&h?.str&&!i.has(u)&&!this.#p.has(u)&&l.push(c)}this.#l?.showSidebar(l)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const i of this.#r.values())i.uid===t?(this.setSelected(i),s?i.editComment():a?i.enterInEditMode():i.focus()):i.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#B&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case nn.CREATE:this.currentLayer.addNewEditor(t);return;case nn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#b)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#r.values())s.editorType===e&&s.show(t);(this.#q?.get(nn.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#z([[nn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#j){this.#j=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#r.values())t.enable()}}#fe(){if(this.unselectAll(),this.#j){this.#j=!1;for(const e of this.#i.values())e.disable();for(const e of this.#r.values())e.disable()}}*getEditors(e){for(const t of this.#r.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#r.get(e)}addEditor(e){this.#r.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#r.delete(e.id),e.annotationElementId&&this.#P?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#p.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#p.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#p.has(e)}removeDeletedAnnotationElement(e){this.#p.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ae(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#z(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#b);return e}updateUI(e){this.#me===e&&this.#z(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#z(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#b.has(e)){this.#b.delete(e),e.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#b.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#d?.commitOrRemove();for(const t of this.#b)t!==e&&t.unselect();this.#b.clear(),this.#b.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(e){return this.#b.has(e)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(e){e.unselect(),this.#b.delete(e),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#k({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(e){this.#c.add(e),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(e){this.#c.cleanType(e)}#Y(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const e of this.#r.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#b],n=()=>{this._editorUndoBar?.show(a,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},a=()=>{for(const s of t)this.#ae(s)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#se(e){for(const t of this.#b)t.unselect();this.#b.clear();for(const t of e)t.isEmpty()||(this.#b.add(t),t.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#b)e.commit();this.#se(this.#r.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#B!==Lr.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#b)e.unselect();this.#b.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[a,s]=this.#H,i=[...this.#b],l=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(a,s),c.translationDone())},undo:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(-a,-s),c.translationDone())},mustExec:!1})},l);for(const c of i)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#b)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:a,y:s,pageIndex:i},l]of e)l.newX=a,l.newY=s,l.newPageIndex=i,t||=a!==l.savedX||s!==l.savedY||i!==l.savedPageIndex;if(!t)return!1;const n=(a,s,i,l)=>{if(this.#r.has(a.id)){const c=this.#i.get(l);c?a._setParentAndPosition(c,s,i):(a.pageIndex=l,a.x=s,a.y=i)}};return this.addCommands({cmd:()=>{for(const[a,{newX:s,newY:i,newPageIndex:l}]of e)n(a,s,i,l)},undo:()=>{for(const[a,{savedX:s,savedY:i,savedPageIndex:l}]of e)n(a,s,i,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#B}isEditingMode(){return this.#B!==Lr.NONE}get imageManager(){return zr(this,"imageManager",new ek)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,A=t.rangeCount;u<A;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:a,width:s,height:i}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,A,h,p)=>({x:(A-a)/i,y:1-(u+h-n)/s,width:p/i,height:h/s});break;case"180":l=(u,A,h,p)=>({x:1-(u+h-n)/s,y:1-(A+p-a)/i,width:h/s,height:p/i});break;case"270":l=(u,A,h,p)=>({x:1-(A+p-a)/i,y:(u-n)/s,width:p/i,height:h/s});break;default:l=(u,A,h,p)=>({x:(u-n)/s,y:(A-a)/i,width:h/s,height:p/i});break}const c=[];for(let u=0,A=t.rangeCount;u<A;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:p,y:m,width:y,height:g}of h.getClientRects())y===0||g===0||c.push(l(p,m,y,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#s.getRawValue(t);n&&(this.#B===Lr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const a=this.#P?.get(e);a&&(a.setCanvas(t,n),this.#P.delete(e))}addMissingCanvas(e,t){(this.#P||=new Map).set(e,t)}}class Ad{#e=null;#t=!1;#n=null;#r=null;#i=null;#a=null;#s=!1;#o=null;#c=null;#l=null;#A=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Ad.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Ad._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ad.#h.missing),t.setAttribute("data-l10n-id",Ad.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;e.addEventListener("contextmenu",Yl,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#s=!0,a(s))},{signal:n}),await this.#f(),e}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#A=await Ad._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#f())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#A),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#A}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:a,cancel:s=!1}){n&&(this.#l=n,this.#A=a),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#f())}toggle(e=!1){this.#n&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#i=null,this.#o?.remove(),this.#o=null}async#f(){const e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Ad.#h[this.#p]),this.#r?.setAttribute("data-l10n-id",Ad.#h[`${this.#p}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const a=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Cb{#e=null;#t=null;#n=!1;#r=null;#i=null;#a=null;#s=null;#o=null;#c=!1;#l=null;constructor(e){this.#r=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#A(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#r.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#r._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const a=this.#r.commentButtonColor;a&&(n.backgroundColor=a)}return this.#A(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#r.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#r._uiManager.updatePopupColor(this.#r)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#r.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#r.parent.boundingClientRect;return[(e-a)/i,(t+n-s)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#A(e,t){if(!this.#r._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#r._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#r._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Yl,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#r._focusEventsAllowed=!1,Ha(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#r._focusEventsAllowed=!0,Ha(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),e===this.#t?this.edit():this.#r.toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#n=!0,a(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#r.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#r.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,a;if(t)[n,a]=t;else{[n,a]=this.#r.commentButtonPosition;const{width:A,height:h,x:p,y:m}=this.#r;n=p+n*A,a=m+a*h}const s=this.#r.parent.boundingClientRect,{x:i,y:l,width:c,height:u}=s;this.#r._uiManager.editComment(this.#r,i+n*c,l+a*u,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#i}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#s&&(this.#a=null),e===null){this.#s="",this.#c=!0;return}this.#s=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#i=e,this.data=e,this.#o=null,this.#a=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#s="",this.#a=null,this.#o=null,this.#r=null,this.#n=!1,this.#c=!1}}class Uv{#e;#t=!1;#n=null;#r;#i;#a;#s;#o=null;#c;#l=null;#A;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:i=null,signal:l}){this.#e=e,this.#n=n,this.#r=t,this.#i=a,this.#a=s,this.#s=i,this.#A=new AbortController,this.#c=AbortSignal.any([l,this.#A.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Bu.pixelRatio}#h(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,s=AbortSignal.any([this.#c,a.signal]),i=this.#e,l={capture:!0,signal:s,passive:!1},c=u=>{u.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};i.addEventListener("pointerdown",u=>{u.pointerType==="touch"&&(Ha(u),c(u))},l),i.addEventListener("pointerup",c,l),i.addEventListener("pointercancel",c,l);return}if(!this.#d){this.#d=new AbortController;const a=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,i={signal:a,capture:!1,passive:!1};s.addEventListener("touchmove",this.#p.bind(this),i);const l=this.#f.bind(this);s.addEventListener("touchend",l,i),s.addEventListener("touchcancel",l,i),i.capture=!0,s.addEventListener("pointerdown",Ha,i),s.addEventListener("pointermove",Ha,i),s.addEventListener("pointercancel",Ha,i),s.addEventListener("pointerup",Ha,i),this.#i?.()}if(Ha(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(e){if(!this.#l||e.touches.length!==2)return;Ha(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:a,screenY:s}=t,{screenX:i,screenY:l}=n,c=this.#l,{touch0X:u,touch0Y:A,touch1X:h,touch1Y:p}=c,m=h-u,y=p-A,g=i-a,v=l-s,w=Math.hypot(g,v)||1,S=Math.hypot(m,y)||1;if(!this.#t&&Math.abs(S-w)<=Uv.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=a,c.touch0Y=s,c.touch1X=i,c.touch1Y=l,!this.#t){this.#t=!0;return}const C=[(a+i)/2,(s+l)/2];this.#a?.(C,S,w)}#f(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#s?.()),this.#l&&(Ha(e),this.#l=null,this.#t=!1))}destroy(){this.#A?.abort(),this.#A=null,this.#o?.abort(),this.#o=null}}class br{#e=null;#t=null;#n=null;#r=null;#i=null;#a=!1;#s=null;#o="";#c=null;#l=null;#A=null;#d=null;#h=null;#p="";#f=!1;#u=null;#m=!1;#g=!1;#y=!1;#x=null;#S=0;#C=0;#v=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#N=br._zIndex++;static _borderLineWidth=-1;static _colorManager=new tk;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=br.prototype._resizeWithKeyboard,t=DA.TRANSLATE_SMALL,n=DA.TRANSLATE_BIG;return zr(this,"_resizerKeyboardManager",new Rv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],br.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[s,i];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return zr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new uEe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(br._l10n??=e,br._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),br._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);br._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){la("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#N}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,a){const[s,i]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(e+n)/s,this.y=(t+a)/i,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,a]=this.parentDimensions;this.setAt(e*n,t*a,this.width*n,this.height*a),this._onTranslated()}#T([e,t],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#T(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[a,s]}=this;if(this.x+=e/a,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:l}=this;const[c,u]=this.getBaseTranslation();i+=c,l+=u;const{style:A}=n;A.left=`${(100*i).toFixed(2)}%`,A.top=`${(100*l).toFixed(2)}%`,this._onTranslating(i,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=br,a=n/e,s=n/t;switch(this.rotation){case 90:return[-a,s];case 180:return[a,s];case 270:return[a,-s];default:return[-a,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,a]}=this;let{x:s,y:i,width:l,height:c}=this;if(l*=n,c*=a,s*=n,i*=a,this._mustFixPosition)switch(e){case 0:s=no(s,0,n-l),i=no(i,0,a-c);break;case 90:s=no(s,0,n-c),i=no(i,l,a);break;case 180:s=no(s,l,n),i=no(i,c,a);break;case 270:s=no(s,c,n),i=no(i,0,a-l);break}this.x=s/=n,this.y=i/=a;const[u,A]=this.getBaseTranslation();s+=u,i+=A,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#j(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return br.#j(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return br.#j(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",this.#F.bind(this,n),{signal:t}),a.addEventListener("contextmenu",Yl,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#c)}#F(e,t){t.preventDefault();const{isMac:n}=bi.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,i=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,e),{passive:!0,capture:!0,signal:i}),window.addEventListener("touchmove",Ha,{passive:!1,signal:i}),window.addEventListener("contextmenu",Yl,{signal:i}),this.#A={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#M()};window.addEventListener("pointerup",u,{signal:i}),window.addEventListener("blur",u,{signal:i})}#D(e,t,n,a){this.width=n,this.height=a,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#M(){if(!this.#A)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:a}=this.#A;this.#A=null;const s=this.x,i=this.y,l=this.width,c=this.height;s===e&&i===t&&l===n&&c===a||this.addCommands({cmd:this.#D.bind(this,s,i,l,c),undo:this.#D.bind(this,e,t,n,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#P(e,t){const[n,a]=this.parentDimensions,s=this.x,i=this.y,l=this.width,c=this.height,u=br.MIN_SIZE/n,A=br.MIN_SIZE/a,h=this.#_(this.rotation),p=(Y,se)=>[h[0]*Y+h[2]*se,h[1]*Y+h[3]*se],m=this.#_(360-this.rotation),y=(Y,se)=>[m[0]*Y+m[2]*se,m[1]*Y+m[3]*se];let g,v,w=!1,S=!1;switch(e){case"topLeft":w=!0,g=(Y,se)=>[0,0],v=(Y,se)=>[Y,se];break;case"topMiddle":g=(Y,se)=>[Y/2,0],v=(Y,se)=>[Y/2,se];break;case"topRight":w=!0,g=(Y,se)=>[Y,0],v=(Y,se)=>[0,se];break;case"middleRight":S=!0,g=(Y,se)=>[Y,se/2],v=(Y,se)=>[0,se/2];break;case"bottomRight":w=!0,g=(Y,se)=>[Y,se],v=(Y,se)=>[0,0];break;case"bottomMiddle":g=(Y,se)=>[Y/2,se],v=(Y,se)=>[Y/2,0];break;case"bottomLeft":w=!0,g=(Y,se)=>[0,se],v=(Y,se)=>[Y,0];break;case"middleLeft":S=!0,g=(Y,se)=>[0,se/2],v=(Y,se)=>[Y,se/2];break}const C=g(l,c),E=v(l,c);let _=p(...E);const L=br._round(s+_[0]),D=br._round(i+_[1]);let P=1,k=1,z,I;if(t.fromKeyboard)({deltaX:z,deltaY:I}=t);else{const{screenX:Y,screenY:se}=t,[X,Ae]=this.#l;[z,I]=this.screenToPageTranslation(Y-X,se-Ae),this.#l[0]=Y,this.#l[1]=se}if([z,I]=y(z/n,I/a),w){const Y=Math.hypot(l,c);P=k=Math.max(Math.min(Math.hypot(E[0]-C[0]-z,E[1]-C[1]-I)/Y,1/l,1/c),u/l,A/c)}else S?P=no(Math.abs(E[0]-C[0]-z),u,1)/l:k=no(Math.abs(E[1]-C[1]-I),A,1)/c;const Q=br._round(l*P),R=br._round(c*k);_=p(...v(Q,R));const K=L-_[0],ee=D-_[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=R,this.x=K,this.y=ee,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#g)return this._editToolbar;this._editToolbar=new my(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Ad.initialize(br._l10n),this.#n=new Ad(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#r?.focusButton()}addCommentButton(){return this.#r||=new Cb(this)}addStandaloneCommentButton(){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#r.renderForStandalone(),this.div.append(this.#i))}removeStandaloneCommentButton(){this.#r.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:a}}=this.#r;return{text:t,richText:e,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#r||=new Cb(this),this.#r.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#r||=new Cb(this),this.#r.setInitialText(e,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#r?.hasBeenEdited()}get hasDeletedComment(){return this.#r?.isDeleted()}get hasComment(){return!!this.#r&&!this.#r.isEmpty()&&!this.#r.isDeleted()}async editComment(e){this.#r||=new Cb(this),this.#r.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#r.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[s]=this.pageDimensions,[i]=this.pageTranslation,l=i+s+1,c=a-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#r.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#Q();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[a,s]=this.getInitialTranslation();return this.translate(a,s),EV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Uv({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#K.bind(this),onPinching:this.#B.bind(this),onPinchEnd:this.#b.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#K(){this.#A={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#B(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const i=this.#_(this.rotation),l=(L,D)=>[i[0]*L+i[2]*D,i[1]*L+i[3]*D],[c,u]=this.parentDimensions,A=this.x,h=this.y,p=this.width,m=this.height,y=br.MIN_SIZE/c,g=br.MIN_SIZE/u;s=Math.max(Math.min(s,1/p,1/m),y/p,g/m);const v=br._round(p*s),w=br._round(m*s);if(v===p&&w===m)return;this.#u||=[A,h,p,m];const S=l(p/2,m/2),C=br._round(A+S[0]),E=br._round(h+S[1]),_=l(v/2,w/2);this.x=C-_[0],this.y=E-_[1],this.width=v,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#M()}pointerdown(e){const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#R(e);return}this.#O(e)}#O(e){const{isMac:t}=bi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#R(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a),i={capture:!0,passive:!1,signal:s},l=u=>{a.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#O(u),n&&this._onStopDragging()};t&&(this.#S=e.clientX,this.#C=e.clientY,this.#s=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",u=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:A,clientY:h,pointerId:p}=u;if(p!==this.#s){Ha(u);return}const[m,y]=this.screenToPageTranslation(A-this.#S,h-this.#C);this.#S=A,this.#C=h,this._uiManager.dragSelectedEditors(m,y)},i),window.addEventListener("touchmove",Ha,i),window.addEventListener("pointerdown",u=>{u.pointerType===this.#o&&(this.#E||u.isPrimary)&&l(u),Ha(u)},i));const c=u=>{if(!this.#s||this.#s===u.pointerId){l(u);return}Ha(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const a=this.parentScale,[s,i]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/a,A=t/a,h=this.x*s,p=this.y*i,m=this.width*s,y=this.height*i;switch(n){case 0:return[h+u+l,i-p-A-y+c,h+u+m+l,i-p-A+c];case 90:return[h+A+l,i-p+u+c,h+A+y+l,i-p+u+m+c];case 180:return[h-u-m+l,i-p+A+c,h-u+l,i-p+A+y+c];case 270:return[h-A-y+l,i-p-u-m+c,h-A+l,i-p-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,a,s,i]=e,l=s-n,c=i-a;switch(this.rotation){case 0:return[n,t-i,l,c];case 90:return[n,t-a,c,l];case 180:return[s,t-a,l,c];case 270:return[s,t-i,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&br._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#r?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:a,deleted:s,richText:i},uid:l,pageIndex:c,creationDate:u,modificationDate:A}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:i,contentsObj:{str:e},creationDate:u,modificationDate:n||A,popupRef:!s,color:t,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:s,innerWidth:i}=window;return t<i&&a>0&&e<s&&n>0}#Q(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#Q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[s,i]=a.pageDimensions,[l,c,u,A]=a.getRectInCurrentCoords(e.rect,i);return a.x=l/s,a.y=c/i,a.width=u/s,a.height=A/i,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#x&&(clearTimeout(this.#x),this.#x=null),this.#I(),this.removeEditToolbar(),this.#v){for(const e of this.#v.values())clearTimeout(e);this.#v=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,a,s,i]=this.getPDFRect();return[br._round(n+(s-n)*e),br._round(a+(i-a)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#r.commentPopupPositionInLayer}set commentPopupPosition(e){this.#r.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#r.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#r.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#A={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const i=this.#q.bind(this),l=this.#V.bind(this),c=this._uiManager._signal;for(const u of this.#t){const A=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",i,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",this.#G.bind(this,A),{signal:c}),u.setAttribute("data-l10n-id",br._l10nResizer[A])}}const n=this.#t[0];let a=0;for(const i of t){if(i===n)break;a++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==a){if(s<a)for(let l=0;l<a-s;l++)this.#c.append(this.#c.firstChild);else if(s>a)for(let l=0;l<s-a;l++)this.#c.firstChild.before(this.#c.lastChild);let i=0;for(const l of t){const u=this.#t[i++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",br._l10nResizer[u])}}this.#H(0),this.#y=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#q(e){br._resizerKeyboardManager.exec(this,e)}#V(e){this.#y&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#G(e){this.#p=this.#y?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#P(this.#p,{deltaX:e,deltaY:t,fromKeyboard:!0})}#I(){this.#y=!1,this.#H(-1),this.#M()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#v||=new Map;const{action:n}=e;let a=this.#v.get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#v.delete(n),this.#v.size===0&&(this.#v=null)},br._telemetryTimeout),this.#v.set(n,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class uEe extends br{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const FM=3285377520,xc=4294901760,sd=65535;class jV{constructor(e){this.h1=e?e&4294967295:FM,this.h2=e?e&4294967295:FM}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let g=0,v=e.length;g<v;g++){const w=e.charCodeAt(g);w<=255?t[n++]=w:(t[n++]=w>>>8,t[n++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,s=n-a*4,i=new Uint32Array(t.buffer,0,a);let l=0,c=0,u=this.h1,A=this.h2;const h=3432918353,p=461845907,m=h&sd,y=p&sd;for(let g=0;g<a;g++)g&1?(l=i[g],l=l*h&xc|l*m&sd,l=l<<15|l>>>17,l=l*p&xc|l*y&sd,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=i[g],c=c*h&xc|c*m&sd,c=c<<15|c>>>17,c=c*p&xc|c*y&sd,A^=c,A=A<<13|A>>>19,A=A*5+3864292196);switch(l=0,s){case 3:l^=t[a*4+2]<<16;case 2:l^=t[a*4+1]<<8;case 1:l^=t[a*4],l=l*h&xc|l*m&sd,l=l<<15|l>>>17,l=l*p&xc|l*y&sd,a&1?u^=l:A^=l}this.h1=u,this.h2=A}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&xc|e*36045&sd,t=t*4283543511&xc|((t<<16|e>>>16)*2950163797&xc)>>>16,e^=t>>>1,e=e*444984403&xc|e*60499&sd,t=t*3301882366&xc|((t<<16|e>>>16)*3120437893&xc)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const gj=Object.freeze({map:null,hash:"",transfer:void 0});class rk{#e=!1;#t=null;#n=null;#r=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#r.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#r.get(e)}remove(e){const t=this.#r.get(e);if(t!==void 0&&(t instanceof br&&this.#n.delete(t.annotationElementId),this.#r.delete(e),this.#r.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#r.values())if(n instanceof br)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#r.get(e);let a=!1;if(n!==void 0)for(const[s,i]of Object.entries(t))n[s]!==i&&(a=!0,n[s]=i);else a=!0,this.#r.set(e,t);a&&this.#i(),t instanceof br&&((this.#n||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#r.has(e)}get size(){return this.#r.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _V(this)}get serializable(){if(this.#r.size===0)return gj;const e=new Map,t=new jV,n=[],a=Object.create(null);let s=!1;for(const[i,l]of this.#r){const c=l instanceof br?l.serialize(!1,a):l;c&&(e.set(i,c),t.update(`${i}:${JSON.stringify(c)}`),s||=!!c.bitmap)}if(s)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:gj}get editorStats(){let e=null;const t=new Map;let n=0,a=0;for(const s of this.#r.values()){if(!(s instanceof br)){s.popup&&(s.popup.deleted?a+=1:n+=1);continue}s.isCommentDeleted?a+=1:s.hasEditedComment&&(n+=1);const i=s.telemetryFinalData;if(!i)continue;const{type:l}=i;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[u,A]of Object.entries(i)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const p=h.get(A)??0;h.set(A,p+1)}}if((a>0||n>0)&&(e||=Object.create(null),e.comments={deleted:a,edited:n}),!e)return null;for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#n?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#n?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#n)for(const t of this.#n.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#r.entries()}}class _V extends rk{#e;constructor(e){super();const{map:t,hash:n,transfer:a}=e.serializable,s=structuredClone(t,a?{transfer:a}:null);this.#e={map:s,hash:n,transfer:a}}get print(){la("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return zr(this,"modifiedIds",{ids:new Set,hash:""})}}class dEe{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(ln(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:s,style:i}=e,l=new FontFace(a,s,i);this.addNativeFontFace(l);try{await l.load(),this.#e.add(a),n?.(e)}catch{Mr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}la("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw Mr(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return zr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return zr(this,"isSyncFontLoadingSupported",bo||bi.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ln(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:t,callback:e};return n.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return zr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(E,_){return E.charCodeAt(_)<<24|E.charCodeAt(_+1)<<16|E.charCodeAt(_+2)<<8|E.charCodeAt(_+3)&255}function a(E,_,L,D){const P=E.substring(0,_),k=E.substring(_+L);return P+D+k}let s,i;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function A(E,_){if(++u>30){Mr("Load test font never loaded."),_();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(A.bind(null,E,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=a(p,976,h.length,h);const y=16,g=1482184792;let v=n(p,y);for(s=0,i=h.length-3;s<i;s+=4)v=v-g+n(h,s)|0;s<h.length&&(v=v-g+n(h+"XXX",s)|0),p=a(p,y,4,JBe(v));const w=`url(data:font/opentype;base64,${btoa(p)});`,S=`@font-face {font-family:"${h}";src:${w}}`;this.insertRule(S);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const E of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=E,C.append(_)}this._document.body.append(C),A(h,()=>{C.remove(),t.complete()})}}class AEe{#e;constructor(e,t=null,n,a){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${vV(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let a;try{a=e.get(n)}catch(i){Mr(`getPathGenerator - ignoring character: "${i}".`)}const s=new Path2D(a||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function hEe(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(bo)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function fEe(r){if(bo&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Iv(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nb(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const xj=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,mEe=r=>typeof r=="object"&&typeof r?.name=="string",TV=rEe.bind(null,xj,mEe);class pEe{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,n)})}addEventListener(e,t,n=null){let a=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Mr("LoopbackPort - cannot use an `aborted` signal.");return}const i=()=>this.removeEventListener(e,t);a=()=>s.removeEventListener("abort",i),s.addEventListener("abort",i)}this.#e.set(t,a)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Sb={DATA:1,ERROR:2},Fs={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function OM(){}function el(r){if(r instanceof OA||r instanceof M2||r instanceof SM||r instanceof Vy||r instanceof WB)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||la('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new OA(r.message);case"InvalidPDFException":return new M2(r.message);case"PasswordException":return new SM(r.message,r.code);case"ResponseException":return new Vy(r.message,r.status,r.missing);case"UnknownErrorException":return new WB(r.message,r.details)}return new WB(r.message,r.toString())}class Xx{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const n=e.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Sb.DATA)a.resolve(e.data);else if(e.callback===Sb.ERROR)a.reject(el(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,a=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(i){s.postMessage({sourceName:n,targetName:a,callback:Sb.DATA,callbackId:e.callbackId,data:i})},function(i){s.postMessage({sourceName:n,targetName:a,callback:Sb.ERROR,callbackId:e.callbackId,reason:el(i)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const a=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[a]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(i){s.reject(i)}return s.promise}sendWithStream(e,t,n,a){const s=this.streamId++,i=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const A=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:i,targetName:l,action:e,streamId:s,data:t,desiredSize:u.desiredSize},a),A.promise},pull:u=>{const A=Promise.withResolvers();return this.streamControllers[s].pullCall=A,c.postMessage({sourceName:i,targetName:l,stream:Fs.PULL,streamId:s,desiredSize:u.desiredSize}),A.promise},cancel:u=>{ln(u instanceof Error,"cancel must have a valid reason");const A=Promise.withResolvers();return this.streamControllers[s].cancelCall=A,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:i,targetName:l,stream:Fs.CANCEL,streamId:s,reason:el(u)}),A.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this,l=this.actionHandler[e.action],c={enqueue(u,A=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=A,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:a,stream:Fs.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Fs.CLOSE,streamId:t}),delete i.streamSinks[t])},error(u){ln(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Fs.ERROR,streamId:t,reason:el(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Fs.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Fs.START_COMPLETE,streamId:t,reason:el(u)})})}#r(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Fs.START_COMPLETE:e.success?i.startCall.resolve():i.startCall.reject(el(e.reason));break;case Fs.PULL_COMPLETE:e.success?i.pullCall.resolve():i.pullCall.reject(el(e.reason));break;case Fs.PULL:if(!l){s.postMessage({sourceName:n,targetName:a,stream:Fs.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||OM).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Fs.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Fs.PULL_COMPLETE,streamId:t,reason:el(u)})});break;case Fs.ENQUEUE:if(ln(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case Fs.CLOSE:if(ln(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),this.#i(i,t);break;case Fs.ERROR:ln(i,"error should have stream controller"),i.controller.error(el(e.reason)),this.#i(i,t);break;case Fs.CANCEL_COMPLETE:e.success?i.cancelCall.resolve():i.cancelCall.reject(el(e.reason)),this.#i(i,t);break;case Fs.CANCEL:if(!l)break;const c=el(e.reason);Promise.try(l.onCancel||OM,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Fs.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Fs.CANCEL_COMPLETE,streamId:t,reason:el(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class kV{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){la("Abstract method `_createCanvas` called.")}}class gEe extends kV{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class FV{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class DM extends FV{async _fetch(e){const t=await Pg(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Iv(t)}}class OV{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,a,s){return"none"}destroy(e=!1){}}class xEe extends OV{#e;#t;#n;#r;#i;#a;#s=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#i=t}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#n){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#i.createElementNS(cA,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#i.createElementNS(cA,"defs"),e.append(n),n.append(this.#n),this.#i.body.append(e)}return this.#n}#A(e){if(e.length===1){const c=e[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const A=u.join(",");return[A,A,A]}const[t,n,a]=e,s=new Array(256),i=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=t[c]/255,i[c]=n[c]/255,l[c]=a[c]/255;return[s.join(","),i.join(","),l.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(Mv(t)?Mr('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=W3(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,a,s]=this.#A(e),i=e.length===1?n:`${n}${a}${s}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const l=`g_${this.#r}_transfer_map_${this.#s++}`,c=this.#d(l);this.#o.set(e,c),this.#o.set(i,c);const u=this.#f(l);return this.#m(n,a,s,u),c}addHCMFilter(e,t){const n=`${e}-${t}`,a="base";let s=this.#c.get(a);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(a,s)),!e||!t))return s.url;const i=this.#y(e);e=Xt.makeHexColor(...i);const l=this.#y(t);if(t=Xt.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const c=new Array(256);for(let m=0;m<=255;m++){const y=m/255;c[m]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),A=`g_${this.#r}_hcm_filter`,h=s.filter=this.#f(A);this.#m(u,u,u,h),this.#p(h);const p=(m,y)=>{const g=i[m]/255,v=l[m]/255,w=new Array(y+1);for(let S=0;S<=y;S++)w[S]=g+S/y*(v-g);return w.join(",")};return this.#m(p(0,5),p(1,5),p(2,5),h),s.url=this.#d(A),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#A([e]),a=`alpha_${n}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#s++}`,i=this.#d(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#g(n,l),i}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,a;if(e?([n]=this.#A([e]),a=`luminosity_${n}`):a="luminosity",t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#s++}`,i=this.#d(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#h(l),e&&this.#g(n,l),i}addHighlightHCMFilter(e,t,n,a,s){const i=`${t}-${n}-${a}-${s}`;let l=this.#c.get(e);if(l?.key===i||(l?(l.filter?.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},this.#c.set(e,l)),!t||!n))return l.url;const[c,u]=[t,n].map(this.#y.bind(this));let A=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[a,s].map(this.#y.bind(this));h<A&&([A,h,p,m]=[h,A,m,p]),this.#l.style.color="";const y=(w,S,C)=>{const E=new Array(256),_=(h-A)/C,L=w/255,D=(S-w)/(255*C);let P=0;for(let k=0;k<=C;k++){const z=Math.round(A+k*_),I=L+k*D;for(let Q=P;Q<=z;Q++)E[Q]=I;P=z+1}for(let k=P;k<256;k++)E[k]=E[P-1];return E.join(",")},g=`g_${this.#r}_hcm_${e}_filter`,v=l.filter=this.#f(g);return this.#p(v),this.#m(y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),v),l.url=this.#d(g),l.url}destroy(e=!1){e&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#s=0)}#h(e){const t=this.#i.createElementNS(cA,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#i.createElementNS(cA,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){const t=this.#i.createElementNS(cA,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,n){const a=this.#i.createElementNS(cA,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",n),e.append(a)}#m(e,t,n,a){const s=this.#i.createElementNS(cA,"feComponentTransfer");a.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#g(e,t){const n=this.#i.createElementNS(cA,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#y(e){return this.#l.style.color=e,Ig(getComputedStyle(this.#l).getPropertyValue("color"))}}class DV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class PM extends DV{async _fetch(e){const t=await Pg(e,"arraybuffer");return new Uint8Array(t)}}class PV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class IM extends PV{async _fetch(e){const t=await Pg(e,"arraybuffer");return new Uint8Array(t)}}bo&&Mr("Please use the `legacy` build in Node.js environments.");async function nk(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class yEe extends OV{}class vEe extends kV{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class bEe extends FV{async _fetch(e){return nk(e)}}class wEe extends DV{async _fetch(e){return nk(e)}}class CEe extends PV{async _fetch(e){return nk(e)}}const tp="__forcedDependency",{floor:LM,ceil:MM}=Math;function Bb(r,e,t,n,a,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],a),r[e*4+3]=Math.max(r[e*4+3],s)}const yj=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class NEe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===yj}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Eb=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};class SEe{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[tp]:[]};#n=new Map;#r=[];#i=[];#a=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#A=new Map;#d=new Map;#h;#p;#f;#u;#m;constructor(e,t,n=!1){this.#h=e.width,this.#p=e.height,this.#g(t),n&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#g(e,this.#u)}#g(e,t){const n=new ArrayBuffer(e*4);this.#f=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(yj,t.length)):this.#u.fill(yj)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[tp]:{__proto__:this.#t[tp]}},this.#s={__proto__:this.#s},this.#r.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#s=Object.getPrototypeOf(this.#s);const n=this.#r.pop();return n!==void 0&&(Eb(this.#m,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#r.push(e),this}getOpenMarker(){return this.#r.length===0?null:this.#r.at(-1)}recordCloseMarker(e){const t=this.#r.pop();return t!==void 0&&(Eb(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const t=this.#i.pop();return t!==void 0&&(Eb(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#a.push(Xt.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#n.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(tp,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(tp,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,a,s,i){const l=Xt.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Xt.axialAlignedBoundingBox([n,s,a,i],l,c);const u=Xt.intersect(this.#s,c);return u?(this.#s[0]=u[0],this.#s[1]=u[1],this.#s[2]=u[2],this.#s[3]=u[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(e,t,n,a,s,i){const l=this.#s;if(l[0]===1/0)return this;const c=Xt.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform());if(l[0]===-1/0)return Xt.axialAlignedBoundingBox([n,s,a,i],c,this.#o),this;const u=[1/0,1/0,-1/0,-1/0];return Xt.axialAlignedBoundingBox([n,s,a,i],c,u),this.#o[0]=Math.min(this.#o[0],Math.max(u[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(u[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(u[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,n,a=1,s=0,i=0,l){const c=n.bbox;let u,A;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(n),u!==!1&&(A=[0,0,0,0],Xt.axialAlignedBoundingBox(c,n.fontMatrix,A),(a!==1||s!==0||i!==0)&&Xt.scaleMinMax([a,0,0,-a,s,i],A),u)))return this.recordBBox(e,t,A[0],A[2],A[1],A[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&A&&u===void 0&&(u=A[0]<=s-h.actualBoundingBoxLeft&&A[2]>=s+h.actualBoundingBoxRight&&A[1]<=i-h.actualBoundingBoxAscent&&A[3]>=i+h.actualBoundingBoxDescent,this.#d.set(n,u),u)?this.recordBBox(e,t,A[0],A[2],A[1],A[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,i-h.actualBoundingBoxAscent,i+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#h,this.#s[2]),this.#o[3]=Math.min(this.#p,this.#s[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#l,a=this.#e,s=this.#t;for(const i of t)i in this.#e?n.add(a[i]):i in s&&s[i].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#l.add(this.#n.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[tp]),this.#m){const n=Eb(this.#m,e),{dependencies:a}=n;this.#l.forEach(a.add,a),this.#r.forEach(a.add,a),this.#i.forEach(a.add,a),a.delete(e),n.isRenderingOperation=!0}if(this.#c===e){const n=LM(this.#o[0]*256/this.#h),a=LM(this.#o[1]*256/this.#p),s=MM(this.#o[2]*256/this.#h),i=MM(this.#o[3]*256/this.#p);Bb(this.#f,e,n,a,s,i);for(const l of this.#l)l!==e&&Bb(this.#f,l,n,a,s,i);for(const l of this.#r)l!==e&&Bb(this.#f,l,n,a,s,i);for(const l of this.#i)l!==e&&Bb(this.#f,l,n,a,s,i);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#A.get(e);return this.#A.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new NEe(this.#u,this.#f)}takeDebugMetadata(){return this.#m}}class Q2{#e;#t;#n;#r=0;#i=0;constructor(e,t,n){if(e instanceof Q2&&e.#n===!!n)return e;this.#e=e,this.#t=t,this.#n=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#r++,this}getOpenMarker(){return this.#r>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#r--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#n||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,a,s,i){return this.#n||this.#e.recordClipBox(this.#t,t,n,a,s,i),this}recordBBox(e,t,n,a,s,i){return this.#n||this.#e.recordBBox(this.#t,t,n,a,s,i),this}recordCharacterBBox(e,t,n,a,s,i,l){return this.#n||this.#e.recordCharacterBBox(this.#t,t,n,a,s,i,l),this}recordFullPageBBox(e){return this.#n||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#n||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const yc={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ui={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vj(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,n),r.clip(a)}class ak{isModifyingCurrentTransform(){return!1}getPattern(){la("Abstract method `getPattern` called.")}}class BEe extends ak{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,a){let s;if(a===Ui.STROKE||a===Ui.FILL){const i=t.current.getClippedPathBoundingBox(a,Qa(e))||[0,0,0,0],l=Math.ceil(i[2]-i[0])||1,c=Math.ceil(i[3]-i[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),A=u.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-i[0],-i[1]),n=Xt.transform(n,[1,0,0,1,i[0],i[1]]),A.transform(...t.baseTransform),this.matrix&&A.transform(...this.matrix),vj(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(n);s.setTransform(h)}else vj(e,this._bbox),s=this._createGradient(e);return s}}function JB(r,e,t,n,a,s,i,l){const c=e.coords,u=e.colors,A=r.data,h=r.width*4;let p;c[t+1]>c[n+1]&&(p=t,t=n,n=p,p=s,s=i,i=p),c[n+1]>c[a+1]&&(p=n,n=a,a=p,p=i,i=l,l=p),c[t+1]>c[n+1]&&(p=t,t=n,n=p,p=s,s=i,i=p);const m=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,g=(c[n]+e.offsetX)*e.scaleX,v=(c[n+1]+e.offsetY)*e.scaleY,w=(c[a]+e.offsetX)*e.scaleX,S=(c[a+1]+e.offsetY)*e.scaleY;if(y>=S)return;const C=u[s],E=u[s+1],_=u[s+2],L=u[i],D=u[i+1],P=u[i+2],k=u[l],z=u[l+1],I=u[l+2],Q=Math.round(y),R=Math.round(S);let K,ee,Y,se,X,Ae,ge,Z;for(let O=Q;O<=R;O++){if(O<v){const ue=O<y?0:(y-O)/(y-v);K=m-(m-g)*ue,ee=C-(C-L)*ue,Y=E-(E-D)*ue,se=_-(_-P)*ue}else{let ue;O>S?ue=1:v===S?ue=0:ue=(v-O)/(v-S),K=g-(g-w)*ue,ee=L-(L-k)*ue,Y=D-(D-z)*ue,se=P-(P-I)*ue}let H;O<y?H=0:O>S?H=1:H=(y-O)/(y-S),X=m-(m-w)*H,Ae=C-(C-k)*H,ge=E-(E-z)*H,Z=_-(_-I)*H;const V=Math.round(Math.min(K,X)),G=Math.round(Math.max(K,X));let ae=h*O+V*4;for(let ue=V;ue<=G;ue++)H=(K-ue)/(K-X),H<0?H=0:H>1&&(H=1),A[ae++]=ee-(ee-Ae)*H|0,A[ae++]=Y-(Y-ge)*H|0,A[ae++]=se-(se-Z)*H|0,A[ae++]=255}}function EEe(r,e,t){const n=e.coords,a=e.colors;let s,i;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,u=l-1;for(s=0;s<c;s++){let A=s*l;for(let h=0;h<u;h++,A++)JB(r,t,n[A],n[A+1],n[A+l],a[A],a[A+1],a[A+l]),JB(r,t,n[A+l+1],n[A+1],n[A+l],a[A+l+1],a[A+1],a[A+l])}break;case"triangles":for(s=0,i=n.length;s<i;s+=3)JB(r,t,n[s],n[s+1],n[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class jEe extends ak{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,A=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(A*e[1]*1.1)),3e3),m=u/h,y=A/p,g={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/y},v=h+4,w=p+4,S=n.getCanvas("mesh",v,w),C=S.context,E=C.createImageData(h,p);if(t){const L=E.data;for(let D=0,P=L.length;D<P;D+=4)L[D]=t[0],L[D+1]=t[1],L[D+2]=t[2],L[D+3]=255}for(const L of this._figures)EEe(E,L,g);return C.putImageData(E,2,2),{canvas:S.canvas,offsetX:l-2*m,offsetY:c-2*y,scaleX:m,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,a){vj(e,this._bbox);const s=new Float32Array(2);if(a===Ui.SHADING)Xt.singularValueDecompose2dScale(Qa(e),s);else if(this.matrix){Xt.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;Xt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else Xt.singularValueDecompose2dScale(t.baseTransform,s);const i=this._createMeshCanvas(s,a===Ui.SHADING?null:this._background,t.cachedCanvases);return a!==Ui.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class _Ee extends ak{getPattern(){return"hotpink"}}function TEe(r){switch(r[0]){case"RadialAxial":return new BEe(r);case"Mesh":return new jEe(r);case"Dummy":return new _Ee}throw new Error(`Unknown IR type: ${r[0]}`)}const RM={COLORED:1,UNCOLORED:2};class sk{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(e,t){const{bbox:n,operatorList:a,paintType:s,tilingType:i,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:A}=this;u=Math.abs(u),A=Math.abs(A),o5("TilingType: "+i);const h=n[0],p=n[1],m=n[2],y=n[3],g=m-h,v=y-p,w=new Float32Array(2);Xt.singularValueDecompose2dScale(this.matrix,w);const[S,C]=w;Xt.singularValueDecompose2dScale(this.baseTransform,w);const E=S*w[0],_=C*w[1];let L=g,D=v,P=!1,k=!1;const z=Math.ceil(u*E),I=Math.ceil(A*_),Q=Math.ceil(g*E),R=Math.ceil(v*_);z>=Q?L=u:P=!0,I>=R?D=A:k=!0;const K=this.getSizeAndScale(L,this.ctx.canvas.width,E),ee=this.getSizeAndScale(D,this.ctx.canvas.height,_),Y=e.cachedCanvases.getCanvas("pattern",K.size,ee.size),se=Y.context,X=c.createCanvasGraphics(se,t);if(X.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(X,s,l),se.translate(-K.scale*h,-ee.scale*p),X.transform(0,K.scale,0,0,ee.scale,0,0),se.save(),X.dependencyTracker?.save(),this.clipBbox(X,h,p,m,y),X.baseTransform=Qa(X.ctx),X.executeOperatorList(a),X.endDrawing(),X.dependencyTracker?.restore(),se.restore(),P||k){const Ae=Y.canvas;P&&(L=u),k&&(D=A);const ge=this.getSizeAndScale(L,this.ctx.canvas.width,E),Z=this.getSizeAndScale(D,this.ctx.canvas.height,_),O=ge.size,H=Z.size,V=e.cachedCanvases.getCanvas("pattern-workaround",O,H),G=V.context,ae=P?Math.floor(g/u):0,ue=k?Math.floor(v/A):0;for(let Se=0;Se<=ae;Se++)for(let te=0;te<=ue;te++)G.drawImage(Ae,O*Se,H*te,O,H,0,0,O,H);return{canvas:V.canvas,scaleX:ge.scale,scaleY:Z.scale,offsetX:h,offsetY:p}}return{canvas:Y.canvas,scaleX:K.scale,scaleY:ee.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,n){const a=Math.max(sk.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=a?s=a:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,a,s){const i=a-t,l=s-n;e.ctx.rect(t,n,i,l),Xt.axialAlignedBoundingBox([t,n,a,s],Qa(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const a=e.ctx,s=e.current;switch(t){case RM.COLORED:const{fillStyle:i,strokeStyle:l}=this.ctx;a.fillStyle=s.fillColor=i,a.strokeStyle=s.strokeColor=l;break;case RM.UNCOLORED:a.fillStyle=a.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new XBe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,a,s){let i=n;a!==Ui.SHADING&&(i=Xt.transform(i,t.baseTransform),this.matrix&&(i=Xt.transform(i,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(i);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}}function kEe({src:r,srcPos:e=0,dest:t,width:n,height:a,nonBlackColor:s=4294967295,inverseDecode:i=!1}){const l=bi.isLittleEndian?4278190080:255,[c,u]=i?[s,l]:[l,s],A=n>>3,h=n&7,p=r.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<a;y++){for(const v=e+A;e<v;e++){const w=e<p?r[e]:255;t[m++]=w&128?u:c,t[m++]=w&64?u:c,t[m++]=w&32?u:c,t[m++]=w&16?u:c,t[m++]=w&8?u:c,t[m++]=w&4?u:c,t[m++]=w&2?u:c,t[m++]=w&1?u:c}if(h===0)continue;const g=e<p?r[e++]:255;for(let v=0;v<h;v++)t[m++]=g&1<<7-v?u:c}return{srcPos:e,destPos:m}}const UM=16,QM=100,FEe=15,HM=10,rl=16,ZB=new DOMMatrix,Ll=new Float32Array(2),Sp=new Float32Array([1/0,1/0,-1/0,-1/0]);function OEe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,a,s,i,l){e.transform(t,n,a,s,i,l),this.__originalTransform(t,n,a,s,i,l)},r.setTransform=function(t,n,a,s,i,l){e.setTransform(t,n,a,s,i,l),this.__originalSetTransform(t,n,a,s,i,l)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,a,s,i,l){e.bezierCurveTo(t,n,a,s,i,l),this.__originalBezierCurveTo(t,n,a,s,i,l)},r.rect=function(t,n,a,s){e.rect(t,n,a,s),this.__originalRect(t,n,a,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class DEe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,n)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function jb(r,e,t,n,a,s,i,l,c,u){const[A,h,p,m,y,g]=Qa(r);if(h===0&&p===0){const S=i*A+y,C=Math.round(S),E=l*m+g,_=Math.round(E),L=(i+c)*A+y,D=Math.abs(Math.round(L)-C)||1,P=(l+u)*m+g,k=Math.abs(Math.round(P)-_)||1;return r.setTransform(Math.sign(A),0,0,Math.sign(m),C,_),r.drawImage(e,t,n,a,s,0,0,D,k),r.setTransform(A,h,p,m,y,g),[D,k]}if(A===0&&m===0){const S=l*p+y,C=Math.round(S),E=i*h+g,_=Math.round(E),L=(l+u)*p+y,D=Math.abs(Math.round(L)-C)||1,P=(i+c)*h+g,k=Math.abs(Math.round(P)-_)||1;return r.setTransform(0,Math.sign(h),Math.sign(p),0,C,_),r.drawImage(e,t,n,a,s,0,0,k,D),r.setTransform(A,h,p,m,y,g),[k,D]}r.drawImage(e,t,n,a,s,i,l,c,u);const v=Math.hypot(A,h),w=Math.hypot(p,m);return[v*c,w*u]}class zM{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=mj;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Di.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Sp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ui.FILL,t=null){const n=this.minMax.slice();if(e===Ui.STROKE){t||la("Stroke bounding box must include transform."),Xt.singularValueDecompose2dScale(t,Ll);const a=Ll[0]*this.lineWidth/2,s=Ll[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}updateClipFromPath(){const e=Xt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Sp,0)}getClippedPathBoundingBox(e=Ui.FILL,t=null){return Xt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function KM(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,a=t%rl,s=(t-a)/rl,i=a===0?s:s+1,l=r.createImageData(n,rl);let c=0,u;const A=e.data,h=l.data;let p,m,y,g;if(e.kind===fy.GRAYSCALE_1BPP){const v=A.byteLength,w=new Uint32Array(h.buffer,0,h.byteLength>>2),S=w.length,C=n+7>>3,E=4294967295,_=bi.isLittleEndian?4278190080:255;for(p=0;p<i;p++){for(y=p<s?rl:a,u=0,m=0;m<y;m++){const L=v-c;let D=0;const P=L>C?n:L*8-7,k=P&-8;let z=0,I=0;for(;D<k;D+=8)I=A[c++],w[u++]=I&128?E:_,w[u++]=I&64?E:_,w[u++]=I&32?E:_,w[u++]=I&16?E:_,w[u++]=I&8?E:_,w[u++]=I&4?E:_,w[u++]=I&2?E:_,w[u++]=I&1?E:_;for(;D<P;D++)z===0&&(I=A[c++],z=128),w[u++]=I&z?E:_,z>>=1}for(;u<S;)w[u++]=0;r.putImageData(l,0,p*rl)}}else if(e.kind===fy.RGBA_32BPP){for(m=0,g=n*rl*4,p=0;p<s;p++)h.set(A.subarray(c,c+g)),c+=g,r.putImageData(l,0,m),m+=rl;p<i&&(g=n*a*4,h.set(A.subarray(c,c+g)),r.putImageData(l,0,m))}else if(e.kind===fy.RGB_24BPP)for(y=rl,g=n*y,p=0;p<i;p++){for(p>=s&&(y=a,g=n*y),u=0,m=g;m--;)h[u++]=A[c++],h[u++]=A[c++],h[u++]=A[c++],h[u++]=255;r.putImageData(l,0,p*rl)}else throw new Error(`bad image kind: ${e.kind}`)}function $M(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,a=t%rl,s=(t-a)/rl,i=a===0?s:s+1,l=r.createImageData(n,rl);let c=0;const u=e.data,A=l.data;for(let h=0;h<i;h++){const p=h<s?rl:a;({srcPos:c}=kEe({src:u,srcPos:c,dest:A,width:n,height:p,nonBlackColor:0})),r.putImageData(l,0,h*rl)}}function Px(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function _b(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function VM(r,e){if(e)return!0;Xt.singularValueDecompose2dScale(r,Ll);const t=Math.fround(Bu.pixelRatio*Q0.PDF_TO_CSS_UNITS);return Ll[0]<=t&&Ll[1]<=t}const PEe=["butt","round","square"],IEe=["miter","round","bevel"],LEe={},qM={};class Pp{constructor(e,t,n,a,s,{optionalContentConfig:i,markedContentStack:l=null},c,u,A){this.ctx=e,this.current=new zM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=a,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=i,this.cachedCanvases=new DEe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=A??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:a=null}){const s=this.ctx.canvas.width,i=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,i),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,i);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Qa(this.compositeCtx))}this.ctx.save(),_b(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Qa(this.ctx)}executeOperatorList(e,t,n,a,s){const i=e.argsArray,l=e.fnArray;let c=t||0;const u=i.length;if(u===c)return c;const A=u-c>HM&&typeof n=="function",h=A?Date.now()+FEe:0;let p=0;const m=this.commonObjs,y=this.objs;let g,v;for(;;){if(a!==void 0&&c===a.nextBreakPoint)return a.breakIt(c,n),c;if(!s||s(c))if(g=l[c],v=i[c]??null,g!==og.dependency)v===null?this[g](c):this[g](c,...v);else for(const w of v){this.dependencyTracker?.recordNamedData(w,c);const S=w.startsWith("g_")?m:y;if(!S.has(w))return S.get(w,n),c}if(c++,c===u)return c;if(A&&++p>HM){if(Date.now()>h)return n(),c;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,a=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),i=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=a,u="prescale1",A,h;for(;s>2&&l>1||i>2&&c>1;){let p=l,m=c;s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/p),i>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,i/=c/m),A=this.cachedCanvases.getCanvas(u,p,m),h=A.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,l,c,0,0,p,m),e=A.canvas,l=p,c=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){const n=this.ctx,{width:a,height:s}=t,i=this.current.fillColor,l=this.current.patternFill,c=Qa(n);let u,A,h,p;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;A=JSON.stringify(l?c:[c.slice(0,4),i]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const I=u.get(A);if(I&&!l){const Q=Math.round(Math.min(c[0],c[2])+c[4]),R=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,yc.transformAndFill),{canvas:I,offsetX:Q,offsetY:R}}h=I}h||(p=this.cachedCanvases.getCanvas("maskCanvas",a,s),$M(p.context,t));let m=Xt.transform(c,[1/a,0,0,-1/s,0,0]);m=Xt.transform(m,[1,0,0,1,0,-s]);const y=Sp.slice();Xt.axialAlignedBoundingBox([0,0,a,s],m,y);const[g,v,w,S]=y,C=Math.round(w-g)||1,E=Math.round(S-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",C,E),L=_.context,D=g,P=v;L.translate(-D,-P),L.transform(...m),h||(h=this._scaleImage(p.canvas,ad(L)),h=h.img,u&&l&&u.set(A,h)),L.imageSmoothingEnabled=VM(Qa(L),t.interpolate),jb(L,h,0,0,h.width,h.height,0,0,a,s),L.globalCompositeOperation="source-in";const k=Xt.transform(ad(L),[1,0,0,1,-D,-P]);return L.fillStyle=l?i.getPattern(n,this,k,Ui.FILL,e):i,L.fillRect(0,0,a,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(A,_.canvas)),this.dependencyTracker?.recordDependencies(e,yc.transformAndFill),{canvas:_.canvas,offsetX:Math.round(D),offsetY:Math.round(P)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=PEe[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=IEe[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,a]of t)switch(n){case"LW":this.setLineWidth(e,a);break;case"LC":this.setLineCap(e,a);break;case"LJ":this.setLineJoin(e,a);break;case"ML":this.setMiterLimit(e,a);break;case"D":this.setDash(e,a[0],a[1]);break;case"RI":this.setRenderingIntent(e,a);break;case"FL":this.setFlatness(e,a);break;case"Font":this.setFont(e,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(a,t,n);this.suspendedCtx=this.ctx;const i=this.ctx=s.context;i.setTransform(this.suspendedCtx.getTransform()),Px(this.suspendedCtx,i),OEe(i,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Px(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,a){const s=a[0],i=a[1],l=a[2]-s,c=a[3]-i;l===0||c===0||(this.genericComposeSMask(t.context,n,l,c,t.subtype,t.backdrop,t.transferMap,s,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,a,s,i,l,c,u,A,h){let p=e.canvas,m=c-A,y=u-h;if(i)if(m<0||y<0||m+n>p.width||y+a>p.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,a),w=v.context;w.drawImage(p,-m,-y),w.globalCompositeOperation="destination-atop",w.fillStyle=i,w.fillRect(0,0,n,a),w.globalCompositeOperation="source-over",p=v.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(m,y,n,a),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=i,e.fillRect(m,y,n,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const g=new Path2D;g.rect(c,u,n,a),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,n,a,c,u,n,a),t.restore()}save(e){this.inSMaskMode&&Px(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Px(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,a,s,i,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,a,s,i,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,a){let[s]=n;if(!a){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const i=t===og.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-i,a[2]+i,a[1]-i,a[3]+i).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const i=n[0]=new Path2D;for(let l=0,c=s.length;l<c;)switch(s[l++]){case wb.moveTo:i.moveTo(s[l++],s[l++]);break;case wb.lineTo:i.lineTo(s[l++],s[l++]);break;case wb.curveTo:i.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case wb.closePath:i.closePath();break;default:Mr(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=i}Xt.axialAlignedBoundingBox(a,Qa(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const i=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,ad(a),Ui.STROKE,e),i){const l=new Path2D;l.addPath(t,a.getTransform().invertSelf().multiplySelf(i)),t=l}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,yc.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ui.STROKE,Qa(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const a=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let l=!1;if(i){const u=s.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(e),a.save(),a.fillStyle=s.getPattern(a,this,ad(a),Ui.FILL,e),u){const A=new Path2D;A.addPath(t,a.getTransform().invertSelf().multiplySelf(u)),t=A}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),this.dependencyTracker?.recordDependencies(e,yc.fill),l&&(a.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,yc.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=LEe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=qM}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;t!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(t!==void 0){const a=new Path2D,s=n.getTransform().invertSelf();for(const{transform:i,x:l,y:c,fontSize:u,path:A}of t)A&&a.addPath(A,new DOMMatrix(i).preMultiplySelf(s).translate(l,c).scale(u,-u));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),s=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=a.fontMatrix||mj,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Mr("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const i=a.loadedName||"sans-serif",l=a.systemFontInfo?.css||`"${i}", ${a.fallbackName}`;let c="normal";a.black?c="900":a.bold&&(c="bold");const u=a.italic?"italic":"normal";let A=n;n<UM?A=UM:n>QM&&(A=QM),this.current.fontSizeScale=n/A,this.ctx.font=`${u} ${c} ${A}px ${l}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,n){const a=new Path2D;return a.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),a}paintChar(e,t,n,a,s,i){const l=this.ctx,c=this.current,u=c.font,A=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,p=A&Di.FILL_STROKE_MASK,m=!!(A&Di.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,g=c.patternStroke&&!u.missingFile;let v;if((u.disableFontFace||m||y||g)&&!u.missingFile&&(v=u.getPathGenerator(this.commonObjs,t)),v&&(u.disableFontFace||y||g)){l.save(),l.translate(n,a),l.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,l,u);let w;if(p===Di.FILL||p===Di.FILL_STROKE)if(s){w=l.getTransform(),l.setTransform(...s);const S=this.#n(v,w,s);l.fill(S)}else l.fill(v);if(p===Di.STROKE||p===Di.FILL_STROKE)if(i){w||=l.getTransform(),l.setTransform(...i);const{a:S,b:C,c:E,d:_}=w,L=Xt.inverseTransform(i),D=Xt.transform([S,C,E,_,0,0],L);Xt.singularValueDecompose2dScale(D,Ll),l.lineWidth*=Math.max(Ll[0],Ll[1])/h,l.stroke(this.#n(v,w,i))}else l.lineWidth/=h,l.stroke(v);l.restore()}else(p===Di.FILL||p===Di.FILL_STROKE)&&(l.fillText(t,n,a),this.dependencyTracker?.recordCharacterBBox(e,l,u,h,n,a,()=>l.measureText(t))),(p===Di.STROKE||p===Di.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,u,h,n,a,()=>l.measureText(t)).recordDependencies(e,yc.stroke),l.strokeText(t,n,a));m&&((this.pendingTextPaths||=[]).push({transform:Qa(l),x:n,y:a,fontSize:h,path:v}),this.dependencyTracker?.recordCharacterBBox(e,l,u,h,n,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){n=!0;break}return zr(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,yc.showText).resetBBox(e),this.current.textRenderingMode&Di.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const i=this.ctx,l=n.fontSizeScale,c=n.charSpacing,u=n.wordSpacing,A=n.fontDirection,h=n.textHScale*A,p=t.length,m=a.vertical,y=m?1:-1,g=a.defaultVMetrics,v=s*n.fontMatrix[0],w=n.textRenderingMode===Di.FILL&&!a.disableFontFace&&!n.patternFill;i.save(),n.textMatrix&&i.transform(...n.textMatrix),i.translate(n.x,n.y+n.textRise),A>0?i.scale(h,-1):i.scale(h,1);let S,C;if(n.patternFill){i.save();const P=n.fillColor.getPattern(i,this,ad(i),Ui.FILL,e);S=Qa(i),i.restore(),i.fillStyle=P}if(n.patternStroke){i.save();const P=n.strokeColor.getPattern(i,this,ad(i),Ui.STROKE,e);C=Qa(i),i.restore(),i.strokeStyle=P}let E=n.lineWidth;const _=n.textMatrixScale;if(_===0||E===0){const P=n.textRenderingMode&Di.FILL_STROKE_MASK;(P===Di.STROKE||P===Di.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=_;if(l!==1&&(i.scale(l,l),E/=l),i.lineWidth=E,a.isInvalidPDFjsFont){const P=[];let k=0;for(const I of t)P.push(I.unicode),k+=I.width;const z=P.join("");if(i.fillText(z,0,0),this.dependencyTracker!==null){const I=i.measureText(z);this.dependencyTracker.recordBBox(e,this.ctx,-I.actualBoundingBoxLeft,I.actualBoundingBoxRight,-I.actualBoundingBoxAscent,I.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=k*v*h,i.restore(),this.compose();return}let L=0,D;for(D=0;D<p;++D){const P=t[D];if(typeof P=="number"){L+=y*P*s/1e3;continue}let k=!1;const z=(P.isSpace?u:0)+c,I=P.fontChar,Q=P.accent;let R,K,ee=P.width;if(m){const X=P.vmetric||g,Ae=-(P.vmetric?X[1]:ee*.5)*v,ge=X[2]*v;ee=X?-X[0]:ee,R=Ae/l,K=(L+ge)/l}else R=L/l,K=0;let Y;if(a.remeasure&&ee>0){Y=i.measureText(I);const X=Y.width*1e3/s*l;if(ee<X&&this.isFontSubpixelAAEnabled){const Ae=ee/X;k=!0,i.save(),i.scale(Ae,1),R/=Ae}else ee!==X&&(R+=(ee-X)/2e3*s/l)}if(this.contentVisible&&(P.isInFont||a.missingFile)){if(w&&!Q)i.fillText(I,R,K),this.dependencyTracker?.recordCharacterBBox(e,i,Y?{bbox:null}:a,s/l,R,K,()=>Y??i.measureText(I));else if(this.paintChar(e,I,R,K,S,C),Q){const X=R+s*Q.offset.x/l,Ae=K-s*Q.offset.y/l;this.paintChar(e,Q.fontChar,X,Ae,S,C)}}const se=m?ee*v-z*A:ee*v+z*A;L+=se,k&&i.restore()}m?n.y-=L:n.x+=L*h,i.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,a=this.current,s=a.font,i=a.fontSize,l=a.fontDirection,c=s.vertical?1:-1,u=a.charSpacing,A=a.wordSpacing,h=a.textHScale*l,p=a.fontMatrix||mj,m=t.length,y=a.textRenderingMode===Di.INVISIBLE;let g,v,w,S;if(y||i===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(h,l);const C=this.dependencyTracker;for(this.dependencyTracker=C?new Q2(C,e):null,g=0;g<m;++g){if(v=t[g],typeof v=="number"){S=c*v*i/1e3,this.ctx.translate(S,0),a.x+=S*h;continue}const E=(v.isSpace?A:0)+u,_=s.charProcOperatorList[v.operatorListId];_?this.contentVisible&&(this.save(),n.scale(i,i),n.transform(...p),this.executeOperatorList(_),this.restore()):Mr(`Type3 character "${v.operatorListId}" is not available.`);const L=[v.width,0];Xt.applyTransform(L,p),w=L[0]*i+E,n.translate(w,0),a.x+=w*h}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,a,s,i,l){const c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,a,i,s,l).recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const a=this.baseTransform||Qa(this.ctx),s={createCanvasGraphics:(i,l)=>new Pp(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Q2(this.dependencyTracker,l,!0):null)};n=new sk(t,this.ctx,s,a)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=TEe(this.getObject(e,t)),this.cachedPatterns.set(t,a)),n&&(a.matrix=n),a}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const a=this._getPattern(e,t);n.fillStyle=a.getPattern(n,this,ad(n),Ui.SHADING,e);const s=ad(n);if(s){const{width:i,height:l}=n.canvas,c=Sp.slice();Xt.axialAlignedBoundingBox([0,0,i,l],s,c);const[u,A,h,p]=c;this.ctx.fillRect(u,A,h-u,p-A)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,yc.transform).recordDependencies(e,yc.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){la("Should not call beginInlineImage")}beginImageData(){la("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Qa(this.ctx),n)){Xt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,s,i,l]=n,c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||o5("TODO: Support non-isolated groups."),t.knockout&&Mr("Knockout groups not supported.");const a=Qa(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Sp.slice();Xt.axialAlignedBoundingBox(t.bbox,Qa(n),s);const i=[0,0,n.canvas.width,n.canvas.height];s=Xt.intersect(s,i)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-l,1),A=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,A]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,u,A),m=p.context;m.translate(-l,-c),m.transform(...a);let y=new Path2D;const[g,v,w,S]=t.bbox;if(y.rect(g,v,w-g,S-v),t.matrix){const C=new Path2D;C.addPath(y,new DOMMatrix(t.matrix)),y=C}m.clip(y),t.smask&&this.smaskStack.push({canvas:p.canvas,context:m,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,c),n.save()),Px(n,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Qa(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const i=Sp.slice();Xt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,a,s,i){if(this.#e(),_b(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],c=n[3]-n[1];if(i&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c,Xt.singularValueDecompose2dScale(Qa(this.ctx),Ll);const{viewportScale:u}=this,A=Math.ceil(l*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(A,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Ll[0],0,0,-Ll[1],0,c*Ll[1]),_b(this.ctx)}else{_b(this.ctx),this.endPath(e);const u=new Path2D;u.rect(n[0],n[1],l,c),this.ctx.clip(u)}}this.current=new zM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const a=this.ctx,s=this._createMaskCanvas(e,t),i=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(i,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+i.width,s.offsetY,s.offsetY+i.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,a=0,s=0,i,l){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=Qa(c);c.transform(n,a,s,i,0,0);const A=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,A.offsetX-u[4],A.offsetY-u[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,p=l.length;h<p;h+=2){const m=Xt.transform(u,[n,a,s,i,l[h],l[h+1]]);c.drawImage(A.canvas,m[4],m[5]),this.dependencyTracker?.recordBBox(e,this.ctx,m[4],m[4]+A.canvas.width,m[5],m[5]+A.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,yc.transformAndFill);for(const i of t){const{data:l,width:c,height:u,transform:A}=i,h=this.cachedCanvases.getCanvas("maskCanvas",c,u),p=h.context;p.save();const m=this.getObject(e,l,i);$M(p,m),p.globalCompositeOperation="source-in",p.fillStyle=s?a.getPattern(p,this,ad(n),Ui.FILL,e):a,p.fillRect(0,0,c,u),p.restore(),n.save(),n.transform(...A),n.scale(1,-1),jb(n,h.canvas,0,0,c,u,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,c,0,u),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Mr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,a,s){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Mr("Dependent image isn't ready yet");return}const l=i.width,c=i.height,u=[];for(let A=0,h=s.length;A<h;A+=2)u.push({transform:[n,0,0,a,s[A],s[A+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,i,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:a}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,a),i=s.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,a=t.height,s=this.ctx;this.save(e);const{filter:i}=s;i!=="none"&&i!==""&&(s.filter="none"),s.scale(1/n,-1/a);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const A=this.cachedCanvases.getCanvas("inlineImage",n,a).context;KM(A,t),l=this.applyTransferMapsToCanvas(A)}const c=this._scaleImage(l,ad(s));s.imageSmoothingEnabled=VM(Qa(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-a,0).recordDependencies(e,yc.imageXObject).recordOperation(e),jb(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,n,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const a=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const i=t.width,l=t.height,u=this.cachedCanvases.getCanvas("inlineImage",i,l).context;KM(u,t),s=this.applyTransferMapsToCanvas(u)}this.dependencyTracker?.resetBBox(e);for(const i of n)a.save(),a.transform(...i.transform),a.scale(1,-1),jb(a,s,i.x,i.y,i.w,i.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,yc.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(a||(this.pendingClip===qM?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Qa(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:a,d:s}=this.ctx.getTransform();let i,l;if(n===0&&a===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)i=l=1/c;else{const A=c*e;i=l=A<1?1/A:1}else if(e===0)i=1/c,l=1/u;else{const A=c*e,h=u*e;i=A<1?1/A:1,l=h<1?1/h:1}}else{const c=Math.abs(t*s-n*a),u=Math.hypot(t,n),A=Math.hypot(a,s);if(e===0)i=A/c,l=u/c;else{const h=e*c;i=A>h?A/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:a}}=this,[s,i]=this.getScaleForStroking();if(s===i){n.lineWidth=(a||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,i),ZB.a=1/s,ZB.d=1/i;const c=new Path2D;if(c.addPath(e,ZB),l.length>0){const u=Math.max(s,i);n.setLineDash(l.map(A=>A/u)),n.lineDashOffset/=u}n.lineWidth=a||1,n.stroke(c),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in og)Pp.prototype[r]!==void 0&&(Pp.prototype[og[r]]=Pp.prototype[r]);class Ip{#e;#t;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let a=0;for(const u of Ip.strings){const A=t.encode(e[u]);n[u]=A,a+=4+A.length}const s=new ArrayBuffer(a),i=new Uint8Array(s),l=new DataView(s);let c=0;for(const u of Ip.strings){const A=n[u],h=A.length;l.setUint32(c,h),i.set(A,c+4),c+=4+h}return ln(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}#r(e){ln(e<Ip.strings.length,"Invalid string index");let t=0;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#r(0)}get fontWeight(){return this.#r(1)}get italicAngle(){return this.#r(2)}}class Lp{#e;#t;#n;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let a=0;for(const p of Lp.strings){const m=t.encode(e[p]);n[p]=m,a+=4+m.length}a+=4;let s,i,l=1+a;e.style&&(s=t.encode(e.style.style),i=t.encode(e.style.weight),l+=4+s.length+4+i.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),A=new DataView(c);let h=0;A.setUint8(h++,e.guessFallback?1:0),A.setUint32(h,0),h+=4,a=0;for(const p of Lp.strings){const m=n[p],y=m.length;a+=4+y,A.setUint32(h,y),u.set(m,h+4),h+=4+y}return A.setUint32(h-a-4,a),e.style&&(A.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,A.setUint32(h,i.length),u.set(i,h+4),h+=4+i.length),ln(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#r(e){ln(e<Lp.strings.length,"Invalid string index");let t=5;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#r(0)}get loadedName(){return this.#r(1)}get baseFontName(){return this.#r(2)}get src(){return this.#r(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#n.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const a=this.#t.getUint32(e),s=this.#n.decode(new Uint8Array(this.#e,e+4,a));return{style:n,weight:s}}}class Zn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#n=this.#t+1+8;static#r=this.#n+1+48;static#i=this.#r+1+6;#a;#s;#o;constructor({data:e,extra:t}){this.#a=e,this.#s=new TextDecoder,this.#o=new DataView(this.#a),t&&Object.assign(this,t)}#c(e){ln(e<Zn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,a=this.#o.getUint8(t)>>n&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return ln(e<Zn.numbers.length,"Invalid number index"),this.#o.getFloat64(Zn.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Zn.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<4;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=Zn.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<6;a++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=Zn.#r;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<3;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#A(e){ln(e<Zn.strings.length,"Invalid string index");let t=Zn.#i+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,t+4,n)),this.#s.decode(a)}get fallbackName(){return this.#A(0)}get loadedName(){return this.#A(1)}get mimetype(){return this.#A(2)}get name(){return this.#A(3)}get data(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#a,e+4,s)}clearData(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);if(a===0)return null;const s=new Uint8Array(a);return s.set(new Uint8Array(this.#a,e+4,a)),new Ip(s.buffer)}get systemFontInfo(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,e+4,n)),new Lp(a.buffer)}static write(e){const t=e.systemFontInfo?Lp.write(e.systemFontInfo):null,n=e.cssFontInfo?Ip.write(e.cssFontInfo):null,a=new TextEncoder,s={};let i=0;for(const g of Zn.strings)s[g]=a.encode(e[g]),i+=4+s[g].length;const l=Zn.#i+4+i+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),A=new DataView(c);let h=0;const p=Zn.bools.length;let m=0,y=0;for(let g=0;g<p;g++){const v=e[Zn.bools[g]];m|=(v===void 0?0:v?2:1)<<y,y+=2,(y===8||g===p-1)&&(A.setUint8(h++,m),m=0,y=0)}ln(h===Zn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const g of Zn.numbers)A.setFloat64(h,e[g]),h+=8;if(ln(h===Zn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){A.setUint8(h++,4);for(const g of e.bbox)A.setInt16(h,g,!0),h+=2}else A.setUint8(h++,0),h+=8;if(ln(h===Zn.#n,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){A.setUint8(h++,6);for(const g of e.fontMatrix)A.setFloat64(h,g,!0),h+=8}else A.setUint8(h++,0),h+=48;if(ln(h===Zn.#r,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){A.setUint8(h++,1);for(const g of e.defaultVMetrics)A.setInt16(h,g,!0),h+=2}else A.setUint8(h++,0),h+=6;ln(h===Zn.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),A.setUint32(Zn.#i,0),h+=4;for(const g of Zn.strings){const v=s[g],w=v.length;A.setUint32(h,w),u.set(v,h+4),h+=4+w}if(A.setUint32(Zn.#i,h-Zn.#i-4),!t)A.setUint32(h,0),h+=4;else{const g=t.byteLength;A.setUint32(h,g),ln(h+4+g<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+g}if(!n)A.setUint32(h,0),h+=4;else{const g=n.byteLength;A.setUint32(h,g),ln(h+4+g<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(n),h+4),h+=4+g}return e.data===void 0?(A.setUint32(h,0),h+=4):(A.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),ln(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}}class Gh{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class MEe{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const fp=Symbol("INTERNAL");class REe{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:n,usage:a,rbGroups:s}){this.#e=!!(e&Ol.DISPLAY),this.#t=!!(e&Ol.PRINT),this.name=t,this.intent=n,this.usage=a,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==fp&&la("Internal method `_setVisible` called."),this.#n=n,this.#r=t}}class UEe{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=Ol.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const n of e.groups)this.#t.set(n.id,new REe(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(fp,!1);for(const n of e.on)this.#t.get(n)._setVisible(fp,!0);for(const n of e.off)this.#t.get(n)._setVisible(fp,!1);this.#n=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let a=1;a<t;a++){const s=e[a];let i;if(Array.isArray(s))i=this.#i(s);else if(this.#t.has(s))i=this.#t.get(s).visible;else return Mr(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return o5("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Mr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Mr(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Mr(`Unknown optional content policy ${e.policy}.`),!0}return Mr(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const a=this.#t.get(e);if(!a){Mr(`Optional content group not found: ${e}`);return}if(n&&t&&a.rbGroups.length)for(const s of a.rbGroups)for(const i of s)i!==e&&this.#t.get(i)?._setVisible(fp,!1,!0);a._setVisible(fp,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const s=this.#t.get(a);if(s)switch(n){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new jV;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class QEe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){ln(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:i,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=l,s?.length>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});ln(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ln(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new HEe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new zEe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class HEe{constructor(e,t,n=!1,a=null){this._stream=e,this._done=n||!1,this._filename=c5(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zEe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function KEe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let A=l(t);return A=unescape(A),A=c(A),A=u(A),s(A)}if(t=i(r),t){const A=u(t);return s(A)}if(t=n("filename","i").exec(r),t){t=t[1];let A=l(t);return A=u(A),s(A)}function n(A,h){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function a(A,h){if(A){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(A,{fatal:!0}),m=Iv(h);h=p.decode(m),e=!1}catch{}}return h}function s(A){return e&&/[\x80-\xff]/.test(A)&&(A=a("utf-8",A),e&&(A=a("iso-8859-1",A))),A}function i(A){const h=[];let p;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(A))!==null;){let[,g,v,w]=p;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[v,w]}const y=[];for(let g=0;g<h.length&&g in h;++g){let[v,w]=h[g];w=l(w),v&&(w=unescape(w),g===0&&(w=c(w))),y.push(w)}return y.join("")}function l(A){if(A.startsWith('"')){const h=A.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}A=h.join('"')}return A}function c(A){const h=A.indexOf("'");if(h===-1)return A;const p=A.slice(0,h),y=A.slice(h+1).replace(/^[^']*'/,"");return a(p,y)}function u(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}),a(p,y);try{y=atob(y)}catch{}return a(p,y)})}return""}function IV(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const a=e[n];a!==void 0&&t.append(n,a)}return t}function u5(r){return URL.parse(r)?.origin??null}function LV({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(a.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function MV(r){const e=r.get("Content-Disposition");if(e){let t=KEe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(c5(t))return t}return null}function Qv(r,e){return new Vy(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function RV(r){return r===200||r===206}function UV(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function QV(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Mr(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class $Ee{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=IV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ln(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new VEe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new qEe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class VEe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),a=t.url;fetch(a,UV(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=u5(s.url),!RV(s.status))throw Qv(s.status,a);this._reader=s.body.getReader(),this._headersCapability.resolve();const i=s.headers,{allowRangeRequests:l,suggestedLength:c}=LV({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=MV(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new OA("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:QV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class qEe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const i=a.url;fetch(i,UV(s,this._withCredentials,this._abortController)).then(l=>{const c=u5(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!RV(l.status))throw Qv(l.status,i);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:QV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const eE=200,tE=206;function GEe(r){const e=r.response;return typeof e!="string"?e:Iv(e).buffer}class WEe{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=IV(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,i]of this.headers)t.setRequestHeader(s,i);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=tE):a.expectedStatus=eE,t.responseType="arraybuffer",ln(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){n.onError(a.status);return}const s=a.status||eE;if(!(s===eE&&n.expectedStatus===tE)&&s!==n.expectedStatus){n.onError(a.status);return}const l=GEe(a);if(s===tE){const c=a.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?n.onDone({begin:parseInt(u[1],10),chunk:l}):(Mr('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class YEe{constructor(e){this._source=e,this._manager=new WEe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ln(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new XEe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new JEe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class XEe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=u5(t.responseURL);const n=t.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:i}=LV({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=MV(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Qv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class JEe{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=u5(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Qv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ZEe=/^[a-z][a-z0-9\-+.]+:/i;function e4e(r){if(ZEe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class t4e{constructor(e){this.source=e,this.url=e4e(e.url),ln(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ln(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new r4e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new n4e(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class r4e{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Qv(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new OA("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n4e{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ix=Symbol("INITIAL_DATA");class HV{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Ix}}get(e,t=null){if(t){const a=this.#t(e);return a.promise.then(()=>t(a.data)),null}const n=this.#e[e];if(!n||n.data===Ix)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Ix}delete(e){const t=this.#e[e];return!t||t.data===Ix?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Ix&&(yield[e,t])}}}const a4e=1e5,GM=30;let Gy=class wc{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#i=null;#a=null;#s=0;#o=0;#c=null;#l=null;#A=0;#d=0;#h=Object.create(null);#p=[];#f=null;#u=[];#m=new WeakMap;#g=null;static#y=new Map;static#x=new Map;static#S=new WeakMap;static#C=null;static#v=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=n.scale*Bu.pixelRatio,this.#A=n.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:s,pageX:i,pageY:l}=n.rawDims;this.#g=[1,0,0,-1,-i,l+s],this.#o=a,this.#s=s,wc.#_(),lf(t,n),this.#e.promise.finally(()=>{wc.#v.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=bi.platform;return zr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#h,t.styles),this.#E(t.items),e()},this.#e.reject)};return this.#c=this.#f.getReader(),wc.#v.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Bu.pixelRatio,a=e.rotation;if(a!==this.#A&&(t?.(),this.#A=a,lf(this.#l,{rotation:a})),n!==this.#d){t?.(),this.#d=n;const s={div:null,properties:null,ctx:wc.#T(this.#i)};for(const i of this.#u)s.properties=this.#m.get(i),s.div=i,this.#N(s)}}cancel(){const e=new OA("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#p}#E(e){if(this.#n)return;this.#a.ctx??=wc.#T(this.#i);const t=this.#u,n=this.#p;for(const a of e){if(t.length>a4e){Mr("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id&&this.#t.setAttribute("id",`${a.id}`),s.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(a.str),this.#w(a)}}#w(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const a=Xt.transform(this.#g,e.transform);let s=Math.atan2(a[1],a[0]);const i=this.#h[e.fontName];i.vertical&&(s+=Math.PI/2);let l=this.#r&&i.fontSubstitution||i.fontFamily;l=wc.fontFamilyMap.get(l)||l;const c=Math.hypot(a[2],a[3]),u=c*wc.#L(l,i,this.#i);let A,h;s===0?(A=a[4],h=a[5]-u):(A=a[4]+u*Math.sin(s),h=a[5]-u*Math.cos(s));const p="calc(var(--total-scale-factor) *",m=t.style;this.#t===this.#l?(m.left=`${(100*A/this.#o).toFixed(2)}%`,m.top=`${(100*h/this.#s).toFixed(2)}%`):(m.left=`${p}${A.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(wc.#C*c).toFixed(2)}px)`,m.fontFamily=l,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);g!==v&&Math.max(g,v)/Math.min(g,v)>1.5&&(y=!0)}if(y&&(n.canvasWidth=i.vertical?e.height:e.width),this.#m.set(t,n),this.#a.div=t,this.#a.properties=n,this.#N(this.#a),n.hasText&&this.#t.append(t),n.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#N(e){const{div:t,properties:n,ctx:a}=e,{style:s}=t;let i="";if(wc.#C>1&&(i=`scale(${1/wc.#C})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=n;wc.#j(a,u*this.#d,l);const{width:A}=a.measureText(t.textContent);A>0&&(i=`scaleX(${c*this.#d/A}) ${i}`)}n.angle!==0&&(i=`rotate(${n.angle}deg) ${i}`),i.length>0&&(s.transform=i)}static cleanup(){if(!(this.#v.size>0)){this.#y.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#T(e=null){let t=this.#x.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,t),this.#S.set(t,{size:0,family:""})}return t}static#j(e,t,n){const a=this.#S.get(e);t===a.size&&n===a.family||(e.font=`${t}px ${n}`,a.size=t,a.family=n)}static#_(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const a=this.#y.get(e);if(a)return a;const s=this.#T(n);s.canvas.width=s.canvas.height=GM,this.#j(s,GM,e);const i=s.measureText(""),l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return l?u=l/(l+c):(bi.platform.isFirefox&&Mr("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),this.#y.set(e,u),u}};const s4e=100;function ik(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new ok,{docId:t}=e,n=r.url?hEe(r.url):null,a=r.data?fEe(r.data):null,s=r.httpHeaders||null,i=r.withCredentials===!0,l=r.password??null,c=r.range instanceof lk?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let A=r.worker instanceof lg?r.worker:null;const h=r.verbosity,p=typeof r.docBaseUrl=="string"&&!Mv(r.docBaseUrl)?r.docBaseUrl:null,m=Nb(r.cMapUrl),y=r.cMapPacked!==!1,g=r.CMapReaderFactory||(bo?bEe:DM),v=Nb(r.iccUrl),w=Nb(r.standardFontDataUrl),S=r.StandardFontDataFactory||(bo?wEe:PM),C=Nb(r.wasmUrl),E=r.WasmFactory||(bo?CEe:IM),_=r.stopAtErrors!==!0,L=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,D=r.isEvalSupported!==!1,P=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!bo,k=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!bo&&(bi.platform.isFirefox||!globalThis.chrome),z=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,I=typeof r.disableFontFace=="boolean"?r.disableFontFace:bo,Q=r.fontExtraProperties===!0,R=r.enableXfa===!0,K=r.ownerDocument||globalThis.document,ee=r.disableRange===!0,Y=r.disableStream===!0,se=r.disableAutoFetch===!0,X=r.pdfBug===!0,Ae=r.CanvasFactory||(bo?vEe:gEe),ge=r.FilterFactory||(bo?yEe:xEe),Z=r.enableHWA===!0,O=r.useWasm!==!1,H=c?c.length:r.length??NaN,V=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!bo&&!I,G=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(g===DM&&S===PM&&E===IM&&m&&w&&C&&Yx(m,document.baseURI)&&Yx(w,document.baseURI)&&Yx(C,document.baseURI)),ae=null;GBe(h);const ue={canvasFactory:new Ae({ownerDocument:K,enableHWA:Z}),filterFactory:new ge({docId:t,ownerDocument:K}),cMapReaderFactory:G?null:new g({baseUrl:m,isCompressed:y}),standardFontDataFactory:G?null:new S({baseUrl:w}),wasmFactory:G?null:new E({baseUrl:C})};A||(A=lg.create({verbosity:h,port:Gh.workerPort}),e._worker=A);const Se={docId:t,apiVersion:"5.4.296",data:a,password:l,disableAutoFetch:se,rangeChunkSize:u,length:H,docBaseUrl:p,enableXfa:R,evaluatorOptions:{maxImageSize:L,disableFontFace:I,ignoreErrors:_,isEvalSupported:D,isOffscreenCanvasSupported:P,isImageDecoderSupported:k,canvasMaxAreaInBytes:z,fontExtraProperties:Q,useSystemFonts:V,useWasm:O,useWorkerFetch:G,cMapUrl:m,iccUrl:v,standardFontDataUrl:w,wasmUrl:C}},te={ownerDocument:K,pdfBug:X,styleElement:ae,loadingParams:{disableAutoFetch:se,enableXfa:R}};return A.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(A.destroyed)throw new Error("Worker was destroyed");const pe=A.messageHandler.sendWithPromise("GetDocRequest",Se,a?[a.buffer]:null);let ke;if(c)ke=new QEe(c,{disableRange:ee,disableStream:Y});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ee=Yx(n)?$Ee:bo?t4e:YEe;ke=new Ee({url:n,length:H,httpHeaders:s,withCredentials:i,rangeChunkSize:u,disableRange:ee,disableStream:Y})}return pe.then(Ee=>{if(e.destroyed)throw new Error("Loading aborted");if(A.destroyed)throw new Error("Worker was destroyed");const Ue=new Xx(t,Ee,A.port),je=new l4e(Ue,e,ke,te,ue,Z);e._transport=je,Ue.send("Ready",null)})}).catch(e._capability.reject),e}class ok{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ok.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let lk=class{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#i=[];constructor(e,t,n=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#i)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#r)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){la("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class i4e{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return zr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class o4e{#e=!1;constructor(e,t,n,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=a?new EM:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new HV,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:s=!1}={}){return new Lv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return zr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:a="display",annotationMode:s=md.ENABLE,transform:i=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:A=null,printAnnotationStorage:h=null,isEditing:p=!1,recordOperations:m=!1,operationsFilter:y=null}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(a,s,h,p),{renderingIntent:v,cacheKey:w}=g;this.#e=!1,c||=this._transport.getOptionalContentConfig(v);let S=this._intentStates.get(w);S||(S=Object.create(null),this._intentStates.set(w,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(v&Ol.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const E=!!(this._pdfBug&&globalThis.StepperManager?.enabled),_=!this.recordedBBoxes&&(m||E),L=k=>{if(S.renderTasks.delete(D),_){const z=D.gfx?.dependencyTracker.take();z&&(D.stepper&&D.stepper.setOperatorBBoxes(z,D.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=z))}C&&(this.#e=!0),this.#t(),k?(D.capability.reject(k),this._abortOperatorList({intentState:S,reason:k instanceof Error?k:new Error(k)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new Bp({callback:L,params:{canvas:t,canvasContext:e,dependencyTracker:_?new SEe(t,S.operatorList.length,E):null,viewport:n,transform:i,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:A,enableHWA:this._transport.enableHWA,operationsFilter:y});(S.renderTasks||=new Set).add(D);const P=D.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([k,z])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!(z.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:k,optionalContentConfig:z}),D.operatorListChanged()}).catch(L),P}getOperatorList({intent:e="display",annotationMode:t=md.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const i=this._transport.getRenderingIntent(e,t,n,a,!0);let l=this._intentStates.get(i.cacheKey);l||(l=Object.create(null),this._intentStates.set(i.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>qy.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,a){function s(){i.read().then(function({value:c,done:u}){if(u){n(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},a)}const i=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new EM),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,a=e.length;n<a;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:a}){const{map:s,transfer:i}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:a},i).getReader(),u=this._intentStates.get(t);u.streamReader=c;const A=()=>{c.read().then(({value:h,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),A())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();this.#t()}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};A()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof l5){let a=s4e;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new OA(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,s]of this._intentStates)if(s===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Rh,xu,dA,g0,nC,x0,y0,Eo,vw,zV,KV,Jx,$p,bw;const ka=class ka{constructor({name:e=null,port:t=null,verbosity:n=WBe()}={}){ed(this,Eo);ed(this,Rh,Promise.withResolvers());ed(this,xu,null);ed(this,dA,null);ed(this,g0,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Ea(ka,y0).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Ea(ka,y0).set(t,this),td(this,Eo,zV).call(this,t)}else td(this,Eo,KV).call(this)}get promise(){return Ea(this,Rh).promise}get port(){return Ea(this,dA)}get messageHandler(){return Ea(this,xu)}destroy(){this.destroyed=!0,Ea(this,g0)?.terminate(),Jo(this,g0,null),Ea(ka,y0).delete(Ea(this,dA)),Jo(this,dA,null),Ea(this,xu)?.destroy(),Jo(this,xu,null)}static create(e){const t=Ea(this,y0).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ka(e)}static get workerSrc(){if(Gh.workerSrc)return Gh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return zr(this,"_setupFakeWorkerGlobal",(async()=>Ea(this,$p,bw)?Ea(this,$p,bw):(await import(this.workerSrc)).WorkerMessageHandler)())}};Rh=new WeakMap,xu=new WeakMap,dA=new WeakMap,g0=new WeakMap,nC=new WeakMap,x0=new WeakMap,y0=new WeakMap,Eo=new WeakSet,vw=function(){Ea(this,Rh).resolve(),Ea(this,xu).send("configure",{verbosity:this.verbosity})},zV=function(e){Jo(this,dA,e),Jo(this,xu,new Xx("main","worker",e)),Ea(this,xu).on("ready",()=>{}),td(this,Eo,vw).call(this)},KV=function(){if(Ea(ka,x0)||Ea(ka,$p,bw)){td(this,Eo,Jx).call(this);return}let{workerSrc:e}=ka;try{ka._isSameOrigin(window.location,e)||(e=ka._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Xx("main","worker",t),a=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?Ea(this,Rh).reject(new Error("Worker was destroyed")):td(this,Eo,Jx).call(this)},s=new AbortController;t.addEventListener("error",()=>{Ea(this,g0)||a()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){a();return}Jo(this,xu,n),Jo(this,dA,t),Jo(this,g0,t),td(this,Eo,vw).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){a();return}try{i()}catch{td(this,Eo,Jx).call(this)}});const i=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};i();return}catch{o5("The worker has been disabled.")}td(this,Eo,Jx).call(this)},Jx=function(){Ea(ka,x0)||(Mr("Setting up fake worker."),Jo(ka,x0,!0)),ka._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Ea(this,Rh).reject(new Error("Worker was destroyed"));return}const t=new pEe;Jo(this,dA,t);const n=`fake${KO(ka,nC)._++}`,a=new Xx(n+"_worker",n,t);e.setup(a,t),Jo(this,xu,new Xx(n,n+"_worker",t)),td(this,Eo,vw).call(this)}).catch(e=>{Ea(this,Rh).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},$p=new WeakSet,bw=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ed(ka,$p),ed(ka,nC,0),ed(ka,x0,!1),ed(ka,y0,new WeakMap),bo&&(Jo(ka,x0,!0),Gh.workerSrc||="./pdf.worker.mjs"),ka._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const a=new URL(t,n);return n.origin===a.origin},ka._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ka.fromPort=e=>{if(aEe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ka.create(e)};let lg=ka;class l4e{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#i=null;constructor(e,t,n,a,s,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new HV,this.fontLoader=new dEe({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=i,this.setupMessageHandler()}#a(e,t=null){const n=this.#e.get(e);if(n)return n;const a=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,a),a}get annotationStorage(){return zr(this,"annotationStorage",new rk)}getRenderingIntent(e,t=md.ENABLE,n=null,a=!1,s=!1){let i=Ol.DISPLAY,l=gj;switch(e){case"any":i=Ol.ANY;break;case"display":break;case"print":i=Ol.PRINT;break;default:Mr(`getRenderingIntent - invalid intent: ${e}`)}const c=i&Ol.PRINT&&n instanceof _V?n:this.annotationStorage;switch(t){case md.DISABLE:i+=Ol.ANNOTATIONS_DISABLE;break;case md.ENABLE:break;case md.ENABLE_FORMS:i+=Ol.ANNOTATIONS_FORMS;break;case md.ENABLE_STORAGE:i+=Ol.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Mr(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(i+=Ol.IS_EDITING),s&&(i+=Ol.OPLIST);const{ids:u,hash:A}=c.modifiedIds,h=[i,l.hash,A];return{renderingIntent:i,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Gy.cleanup(),this._networkStream?.cancelAllRequests(new OA("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,a)=>{ln(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},a.onPull=()=>{this._fullReader.read().then(function({value:s,done:i}){if(i){a.close();return}ln(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{this._fullReader.cancel(s),a.ready.catch(i=>{if(!this.destroyed)throw i})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:s,contentLength:i}=this._fullReader;return(!a||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:a,isRangeSupported:s,contentLength:i}}),e.on("GetRangeReader",(n,a)=>{ln(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){a.close();return}a.onPull=()=>{s.read().then(function({value:i,done:l}){if(l){a.close();return}ln(i instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{a.error(i)})},a.onCancel=i=>{s.cancel(i),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new i4e(n,this))}),e.on("DocException",n=>{t._capability.reject(el(n))}),e.on("PasswordRequest",n=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw el(n);const a=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};t.onPassword(a,n.code)}catch(a){this.#i.reject(a)}return this.#i.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,a,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in s){const A=s.error;Mr(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const i=new Zn(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(A,h)=>globalThis.FontInspector.fontAdded(A,h):null,c=new AEe(i,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;ln(u,"The imageRef must be defined.");for(const A of this.#t.values())for(const[,h]of A.objs)if(h?.ref===u)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([n,a,s,i])=>{if(this.destroyed)return;const l=this.#t.get(a);if(!l.objs.has(n)){if(l._intentStates.size===0){i?.bitmap?.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,i);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Mr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const i=new o4e(t,s,this,this._params.pdfBug);return this.#t.set(t,i),i});return this.#n.set(t,a),a}getPageIndex(e){return xj(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(t=>new UEe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new MEe(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Gy.cleanup()}}cachedPageNumber(e){if(!xj(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class c4e{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Bp{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:a,annotationCanvasMap:s,operatorList:i,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:A=!1,pdfBug:h=!1,pageColors:p=null,enableHWA:m=!1,operationsFilter:y=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=A===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new c4e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Bp.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Bp.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:s,dependencyTracker:i}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Pp(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,i),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Bp.#t.delete(this._canvas),e||=new l5(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Bp.#t.delete(this._canvas),this.callback())))}}const $V="5.4.296",VV="f56dc8601";class Dl{#e=null;#t=null;#n;#r=null;#i=!1;#a=!1;#s=null;#o;#c=null;#l=null;static#A=null;static get _keyboardManager(){return zr(this,"_keyboardManager",new Rv([[["Escape","mac+Escape"],Dl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Dl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Dl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Dl.prototype._moveToPrevious],[["Home","mac+Home"],Dl.prototype._moveToBeginning],[["End","mac+End"],Dl.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#a=!1,this.#s=e):this.#a=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Dl.#A||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#s&&(e.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#f.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#r=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Yl,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(e.id=`${this.#s.id}_colorpicker_dropdown`);for(const[n,a]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",a),s.title=n,s.setAttribute("data-l10n-id",Dl.#A[n]);const i=document.createElement("span");s.append(i),i.className="swatch",i.style.backgroundColor=a,s.ariaSelected=a===this.#n,s.addEventListener("click",this.#h.bind(this,a),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:nn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#f(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#m){this.#f(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#f(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#f(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#f(e);return}this.#r.lastChild?.focus()}#p(e){Dl._keyboardManager.exec(this,e)}#f(e){if(this.#m){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#d();this.#e.append(t)}#u(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#s?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class Wy{#e=null;#t=null;#n=null;static#r=null;constructor(e){this.#t=e,this.#n=e._uiManager,Wy.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:n}=this.#t,a=this.#e=document.createElement("input");return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",Wy.#r[e]),a.addEventListener("input",()=>{this.#n.updateParams(t,a.value)},{signal:this.#n._signal}),a}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function WM(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Lx(r){return Math.max(0,Math.min(255,255*r))}class YM{static CMYK_G([e,t,n,a]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Lx(e),[e,e,e]}static G_HTML([e]){const t=WM(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Lx)}static RGB_HTML(e){return`#${e.map(WM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,n+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,n,a]){return[Lx(1-Math.min(1,e+a)),Lx(1-Math.min(1,n+a)),Lx(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const a=1-e,s=1-t,i=1-n,l=Math.min(a,s,i);return["CMYK",a,s,i,l]}}class u4e{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){la("Abstract method `_createSVG` called.")}}class Yy extends u4e{_createSVG(e){return document.createElementNS(cA,e)}}const d4e=9,H0=new WeakSet,A4e=new Date().getTimezoneOffset()*60*1e3;class XM{static create(e){switch(e.data.annotationType){case ms.LINK:return new ck(e);case ms.TEXT:return new f4e(e);case ms.WIDGET:switch(e.data.fieldType){case"Tx":return new m4e(e);case"Btn":return e.data.radioButton?new qV(e):e.data.checkBox?new g4e(e):new x4e(e);case"Ch":return new y4e(e);case"Sig":return new p4e(e)}return new nm(e);case ms.POPUP:return new bj(e);case ms.FREETEXT:return new GV(e);case ms.LINE:return new b4e(e);case ms.SQUARE:return new w4e(e);case ms.CIRCLE:return new C4e(e);case ms.POLYLINE:return new WV(e);case ms.CARET:return new S4e(e);case ms.INK:return new uk(e);case ms.POLYGON:return new N4e(e);case ms.HIGHLIGHT:return new YV(e);case ms.UNDERLINE:return new B4e(e);case ms.SQUIGGLY:return new E4e(e);case ms.STRIKEOUT:return new j4e(e);case ms.STAMP:return new XV(e);case ms.FILEATTACHMENT:return new _4e(e);default:return new Va(e)}}}class Va{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Va._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:a}=this.data;let s=-1/0,i=-1/0;if(t?.length>=8){for(let l=0;l<t.length;l+=8)t[l+1]>i?(i=t[l+1],s=t[l+2]):t[l+1]===i&&(s=Math.max(s,t[l+2]));return[s,i]}if(n?.length>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>i?(i=l[c+1],s=l[c]):l[c+1]===i&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,i]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-i)/a,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${$y}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${$y}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#r(t);let a=this.#n?.popup||this.popup;!a&&n?.text&&(this._createPopup(n),a=this.#n.popup),a&&(a.updateEdited(e),n?.deleted&&(a.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:l,pageY:c}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(i-e[3]+c)/i}%`,a===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/i}%`):this.setRotation(a)}_createContainer(e){const{data:t,parent:{page:n,viewport:a}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof nm)&&!(this instanceof ck)&&(s.tabIndex=0);const{style:i}=s;if(i.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof bj){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(g>0||v>0){const S=`calc(${g}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;i.borderRadius=S}else if(this instanceof qV){const S=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;i.borderRadius=S}switch(t.borderStyle.style){case hp.SOLID:i.borderStyle="solid";break;case hp.DASHED:i.borderStyle="dashed";break;case hp.BEVELED:Mr("Unimplemented border style: beveled");break;case hp.INSET:Mr("Unimplemented border style: inset");break;case hp.UNDERLINE:i.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(this.#t=!0,i.borderColor=Xt.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):i.borderWidth=0}const u=Xt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:A,pageHeight:h,pageX:p,pageY:m}=a.rawDims;i.left=`${100*(u[0]-p)/A}%`,i.top=`${100*(u[1]-m)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(i.width=`${100*l/A}%`,i.height=`${100*c/h}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:s,height:i}=this;e%180!==0&&([s,i]=[i,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*i/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,a)=>{const s=a.detail[t],i=s[0],l=s.slice(1);a.target.style[n]=YM[`${i}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:YM[`${i}_rgb`](l)})};return zr(this,"_commonActions",{display:t=>{const{display:n}=t.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const a of Object.keys(t.detail))(e[a]||n[a])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[a,s]of Object.entries(t)){const i=n[a];if(i){const l={detail:{[a]:s},target:e};i(l),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,a,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,v,w,S]=e.subarray(2,6);if(a===g&&s===v&&t===w&&n===S)return}const{style:i}=this.container;let l;if(this.#t){const{borderColor:g,borderWidth:v}=i;i.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const c=a-t,u=s-n,{svgFactory:A}=this,h=A.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const p=A.createElement("defs");h.append(p);const m=A.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let g=2,v=e.length;g<v;g+=8){const w=e[g],S=e[g+1],C=e[g+2],E=e[g+3],_=A.createElement("rect"),L=(C-t)/c,D=(s-S)/u,P=(w-C)/c,k=(S-E)/u;_.setAttribute("x",L),_.setAttribute("y",D),_.setAttribute("width",P),_.setAttribute("height",k),m.append(_),l?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${D}" width="${P}" height="${k}"/>`)}this.#t&&(l.push("</g></svg>')"),i.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let n,a;e?(n={str:e.text},a=e.date):(n=t.contentsObj,a=t.modificationDate);const s=this.#n=new bj({data:{color:t.color,titleObj:t.titleObj,modificationDate:a,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){la("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:s,id:i,exportValues:l}of a){if(s===-1||i===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${i}"]`);if(u&&!H0.has(u)){Mr(`_getElementsByName - element not allowed: ${i}`);continue}n.push({id:i,exportValue:c,domElement:u})}return n}for(const a of document.getElementsByName(e)){const{exportValue:s}=a,i=a.getAttribute("data-element-id");i!==t&&H0.has(a)&&n.push({id:i,exportValue:s,domElement:a})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class h4e extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class ck extends Va{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),a=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(this.#n(n,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),a=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(n,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",a=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,a),!1),this.#e()}#n(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const s=n.get(a);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Mr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:a,refs:s,include:i}=t,l=[];if(a.length!==0||s.length!==0){const A=new Set(s);for(const h of a){const p=this._fieldObjects[h]||[];for(const{id:m}of p)A.add(m)}for(const h of Object.values(this._fieldObjects))for(const p of h)A.has(p.id)===i&&l.push(p)}else for(const A of Object.values(this._fieldObjects))l.push(...A);const c=this.annotationStorage,u=[];for(const A of l){const{id:h}=A;switch(u.push(h),A.type){case"text":{const m=A.defaultValue||"";c.setValue(h,{value:m});break}case"checkbox":case"radiobutton":{const m=A.defaultValue===A.exportValues;c.setValue(h,{value:m});break}case"combobox":case"listbox":{const m=A.defaultValue||"";c.setValue(h,{value:m});break}default:continue}const p=document.querySelector(`[data-element-id="${h}"]`);if(p){if(!H0.has(p)){Mr(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}}}class f4e extends Va{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class nm extends Va{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,a,s){n.includes("mouse")?e.addEventListener(n,i=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i),shift:i.shiftKey,modifier:this._getKeyModifier(i)}})}):e.addEventListener(n,i=>{if(n==="blur"){if(!t.focused||!i.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i)}})})}_setEventListeners(e,t,n,a){for(const[s,i]of n)(i==="Action"||this.data.actions?.[i])&&((i==="Focus"||i==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,i,a),i==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):i==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Xt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||d4e,s=e.style;let i;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),A=Math.round(u/(GB*a))||1,h=u/A;i=Math.min(a,c(h/GB))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);i=Math.min(a,c(u/GB))}s.fontSize=`calc(${i}px * var(--total-scale-factor))`,s.color=Xt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class m4e extends nm{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,a){const s=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=n),s.setValue(i.id,{[a]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let s=a.value||"";const i=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;i&&s.length>i&&(s=s.slice(0,i));let l=a.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),H0.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:A,timeStep:h}=this.data,p=!!A&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",y=>{const g=this.data.defaultFieldValue??"";n.value=c.userValue=g,c.formattedValue=null});let m=y=>{const{formattedValue:g}=c;g!=null&&(y.target.value=g),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{if(c.focused)return;const{target:v}=g;if(p&&(v.type=A,h&&(v.step=h)),c.userValue){const w=c.userValue;if(p)if(A==="time"){const S=new Date(w),C=[S.getHours(),S.getMinutes(),S.getSeconds()];v.value=C.map(E=>E.toString().padStart(2,"0")).join(":")}else v.value=new Date(w-A4e).toISOString().split(A==="date"?"T":".",1)[0];else v.value=w}c.lastCommittedValue=v.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const v={value(w){c.userValue=w.detail.value??"",p||e.setValue(t,{value:c.userValue.toString()}),w.target.value=c.userValue},formattedValue(w){const{formattedValue:S}=w.detail;c.formattedValue=S,S!=null&&w.target!==document.activeElement&&(w.target.value=S);const C={formattedValue:S};p&&(C.value=S),e.setValue(t,C)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:S}=w.detail,{target:C}=w;if(S===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",S);let E=c.userValue;!E||E.length<=S||(E=E.slice(0,S),C.value=c.userValue=E,e.setValue(t,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(v,g)}),n.addEventListener("keydown",g=>{c.commitKey=1;let v=-1;if(g.key==="Escape"?v=0:g.key==="Enter"&&!this.data.multiLine?v=2:g.key==="Tab"&&(c.commitKey=3),v===-1)return;const{value:w}=g.target;c.lastCommittedValue!==w&&(c.lastCommittedValue=w,c.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:v,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const y=m;m=null,n.addEventListener("blur",g=>{if(!c.focused||!g.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:v}=g;let{value:w}=v;if(p){if(w&&A==="time"){const S=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,S[0],S[1],S[2]||0).valueOf(),v.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();v.type="text"}c.userValue=w,c.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:c.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),y(g)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",g=>{c.lastCommittedValue=null;const{data:v,target:w}=g,{value:S,selectionStart:C,selectionEnd:E}=w;let _=C,L=E;switch(g.inputType){case"deleteWordBackward":{const D=S.substring(0,C).match(/\w*[^\w]*$/);D&&(_-=D[0].length);break}case"deleteWordForward":{const D=S.substring(C).match(/^[^\w]*\w*/);D&&(L+=D[0].length);break}case"deleteContentBackward":C===E&&(_-=1);break;case"deleteContentForward":C===E&&(L+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:v||"",willCommit:!1,selStart:_,selEnd:L}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class p4e extends nm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class g4e extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return H0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n)){const A=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=A),e.setValue(u.id,{value:A})}e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue||"Off";i.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",i=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,i)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],i=>i.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qV extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(n,{value:a})),a)for(const i of this._getElementsByName(t.fieldName,n))e.setValue(i.id,{value:!1});const s=document.createElement("input");if(H0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue;i.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const A=i===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const p=A&&h.id===n;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class x4e extends ck{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class y4e extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");H0.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",A=>{const h=this.data.defaultFieldValue;for(const p of a.options)p.selected=p.value===h});for(const A of this.data.options){const h=document.createElement("option");h.textContent=A.displayValue,h.value=A.exportValue,n.value.includes(A.exportValue)&&(h.setAttribute("selected",!0),s=!1),a.append(h)}let i=null;if(s){const A=document.createElement("option");A.value=" ",A.setAttribute("hidden",!0),A.setAttribute("selected",!0),a.prepend(A),i=()=>{A.remove(),a.removeEventListener("input",i),i=null},a.addEventListener("input",i)}const l=A=>{const h=A?"value":"textContent",{options:p,multiple:m}=a;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let c=l(!1);const u=A=>{const h=A.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",A=>{const h={value(p){i?.();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const g of a.options)g.selected=y.has(g.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(p){a.multiple=!0},remove(p){const m=a.options,y=p.detail.remove;m[y].selected=!1,a.remove(y),m.length>0&&Array.prototype.findIndex.call(m,v=>v.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},clear(p){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(p){const{index:m,displayValue:y,exportValue:g}=p.detail.insert,v=a.children[m],w=document.createElement("option");w.textContent=y,w.value=g,v?v.before(w):a.append(w),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},items(p){const{items:m}=p.detail;for(;a.length!==0;)a.remove(0);for(const y of m){const{displayValue:g,exportValue:v}=y,w=document.createElement("option");w.textContent=g,w.value=v,a.append(w)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,A)}),a.addEventListener("input",A=>{const h=l(!0),p=l(!1);e.setValue(t,{value:h}),A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],A=>A.target.value)):a.addEventListener("input",function(A){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class bj extends Va{constructor(e){const{data:t,elements:n,parent:a}=e,s=!!a._commentManager;if(super(e,{isRenderable:!s&&Va._hasPopupData(t)}),this.elements=n,s&&Va._hasPopupData(t)){const i=this.popup=this.#e();for(const l of n)l.popup=i}else this.popup=null}#e(){return new v4e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${X3}${a}`).join(",")),this.container}}class v4e{#e=null;#t=this.#K.bind(this);#n=this.#R.bind(this);#r=this.#O.bind(this);#i=this.#b.bind(this);#a=null;#s=null;#o=null;#c=null;#l=null;#A=null;#d=null;#h=!1;#p=null;#f=null;#u=null;#m=null;#g=null;#y=null;#x=null;#S=null;#C=null;#v=null;#E=!1;#w=null;#N=null;constructor({container:e,color:t,elements:n,titleObj:a,modificationDate:s,contentsObj:i,richText:l,parent:c,rect:u,parentRect:A,open:h,commentManager:p=null}){this.#s=e,this.#C=a,this.#o=i,this.#S=l,this.#A=c,this.#a=t,this.#x=u,this.#d=A,this.#l=n,this.#e=p,this.#w=n[0],this.#c=R2.toDateObject(s),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup()),p?this.renderCommentButton():(this.#T(),this.#s.hidden=!0,h&&this.#b())}#T(){if(this.#f)return;this.#f=new AbortController;const{signal:e}=this.#f;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("pointerenter",this.#r,{signal:e}),t.addEventListener("pointerleave",this.#n,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#j(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#g=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#g||this.#j(),!this.#g))return;const{signal:e}=this.#f=new AbortController,t=!!this.#w.extraPopupElement,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#w.container;for(const i of this.trigger)i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),i.classList.add("popupTriggerArea")}else{const i=this.#m=document.createElement("button");i.className="annotationCommentButton";const l=this.#w.container;i.style.zIndex=l.style.zIndex+1,i.tabIndex=0,i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#_(),i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),l.after(i)}}#_(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[e,t]=this.#g,{style:n}=this.#m;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#L(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#w.commentData;return e?this.#A._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}}get elementBeforePopup(){return this.#m}get comment(){return this.#N||=this.#w.commentText,this.#N}set comment(e){e!==this.comment&&(this.#w.commentText=this.#N=e)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:e,y:t,height:n}=this.#m.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#w.layer.getBoundingClientRect();return[(e-a)/i,(t+n-s)/l]}set commentPopupPosition(e){this.#y=e}hasDefaultPopupPosition(){return this.#y===null}get commentButtonPosition(){return this.#g}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#y||this.commentButtonPosition.map(u=>u/100),a=this.parentBoundingClientRect,{x:s,y:i,width:l,height:c}=a;this.#e.showDialog(null,this,s+t*l,i+n*c,{...e,parentDimensions:a})}render(){if(this.#p)return;const e=this.#p=document.createElement("div");if(e.className="popup",this.#a){const n=e.style.outlineColor=Xt.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#C?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#C}if(e.append(t),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),t.append(n)}Z3({html:this.#F||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#s.append(e)}get#F(){const e=this.#S,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#S.html||null}get#D(){return this.#F?.attributes?.style?.fontSize||0}get#M(){return this.#F?.attributes?.style?.color||null}#P(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:this.#M,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:a});return n}#K(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#b()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#N=null):t&&(t.deleted?this.remove():(this.#L(),this.#N=t.text)),e&&(this.#g=null,this.#j(),this.#_());return}if(n||t?.deleted){this.remove();return}this.#T(),this.#v||={contentsObj:this.#o,richText:this.#S},e&&(this.#u=null),t&&t.text&&(this.#S=this.#P(t.text),this.#c=R2.toDateObject(t.date),this.#o=null),this.#p?.remove(),this.#p=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#S}=this.#v,this.#v=null,this.#p?.remove(),this.#p=null,this.#u=null)}remove(){if(this.#f?.abort(),this.#f=null,this.#p?.remove(),this.#p=null,this.#E=!1,this.#h=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#B(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:a,pageY:s}}}=this.#A;let i=!!this.#d,l=i?this.#d:this.#x;for(const y of this.#l)if(!l||Xt.intersect(y.data.rect,l)!==null){l=y.data.rect,i=!0;break}const c=Xt.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),A=i?l[2]-l[0]+5:0,h=c[0]+A,p=c[1];this.#u=[100*(h-a)/t,100*(p-s)/n];const{style:m}=this.#s;m.left=`${this.#u[0]}%`,m.top=`${this.#u[1]}%`}#b(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#O(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#R(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#O(){this.#p||this.render(),this.isVisible?this.#h&&this.#s.classList.add("focused"):(this.#B(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#R(){this.#s.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#s.hidden=!0)}maybeShow(){this.#e||(this.#T(),this.#E&&(this.#p||this.#O(),this.#E=!1,this.#s.hidden=!1))}get isVisible(){return this.#e?!1:this.#s.hidden===!1}}class GV extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Lr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class b4e extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class w4e extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",s/2),i.setAttribute("y",s/2),i.setAttribute("width",t-s),i.setAttribute("height",n-s),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class C4e extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-s/2),i.setAttribute("ry",n/2-s/2),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class WV extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:a},width:s,height:i}=this;if(!t)return this.container;const l=this.svgFactory.create(s,i,!0);let c=[];for(let A=0,h=t.length;A<h;A+=2){const p=t[A]-e[0],m=e[3]-t[A+1];c.push(`${p},${m}`)}c=c.join(" ");const u=this.#e=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",c),u.setAttribute("stroke-width",n.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class N4e extends WV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class S4e extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class uk extends Va{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Lr.HIGHLIGHT:Lr.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:a,popupRef:s}}=this,{transform:i,width:l,height:c}=this.#n(t,e),u=this.svgFactory.create(l,c,!0),A=this.#e=this.svgFactory.createElement("svg:g");u.append(A),A.setAttribute("stroke-width",a.width||1),A.setAttribute("stroke-linecap","round"),A.setAttribute("stroke-linejoin","round"),A.setAttribute("stroke-miterlimit",10),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),A.setAttribute("transform",i);for(let h=0,p=n.length;h<p;h++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",n[h].join(",")),A.append(m)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:a}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let i=0,l=this.#t.length;i<l;i++)this.#t[i].setAttribute("points",n[i].join(","));if(a){const{transform:i,width:l,height:c}=this.#n(this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),s.setAttribute("transform",i)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class YV extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Lr.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class B4e extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class E4e extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class j4e extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class XV extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Lr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class _4e extends Va{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:a}=bi.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let dk=class JV{#e=null;#t=null;#n=null;#r=new Map;#i=null;#a=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:a,page:s,viewport:i,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:A}){this.div=e,this.#e=t,this.#t=n,this.#i=l||null,this.#a=u||null,this.#n=A||new rk,this.page=s,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=c||null}hasEditableAnnotations(){return this.#r.size>0}async#s(e,t,n){const a=e.firstChild||e,s=a.id=`${X3}${t}`,i=await this.#i?.getAriaAttributes(s);if(i)for(const[l,c]of i)a.setAttribute(l,c);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:t}=e,n=this.div;lf(n,this.viewport);const a=new Map,s={data:null,layer:n,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Yy,annotationStorage:this.#n,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const l=i.annotationType===ms.POPUP;if(l){const A=a.get(i.id);if(!A)continue;s.elements=A}else if(i.rect[2]===i.rect[0]||i.rect[3]===i.rect[1])continue;s.data=i;const c=XM.create(s);if(!c.isRenderable)continue;if(!l&&i.popupRef){const A=a.get(i.popupRef);A?A.push(c):a.set(i.popupRef,[c])}const u=c.render();i.hidden&&(u.style.visibility="hidden"),await this.#s(u,i.id,s.elements),c.extraPopupElement?.popup?.renderCommentButton(),c._isEditable&&(this.#r.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#a,svgFactory:new Yy,parent:this};for(const n of e){n.borderStyle||=JV._defaultBorderStyle,t.data=n;const a=XM.create(t);if(!a.isRenderable)continue;const s=a.render();await this.#s(s,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,lf(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):a.append(n);const i=this.#r.get(t);i&&(i._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,a.id,n),i._hasNoCanvas=!1):i.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(e){return this.#r.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:a}=e,s=new h4e({data:{id:n,rect:e.getPDFRect(),rotation:a},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#n}),i=s.render();return t.append(i),this.#e?.moveElementInDOM(t,i,i,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return zr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:hp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Tb=/\r\n?|\n/g;class Ai extends br{#e="";#t=`${this.id}-editor`;#n=null;#r;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Ai.prototype,t=s=>s.isEmpty(),n=DA.TRANSLATE_SMALL,a=DA.TRANSLATE_BIG;return zr(this,"_keyboardManager",new Rv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=Lr.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Ai._defaultColor||br._defaultLineColor,this.#r=e.fontSize||Ai._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){br.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case nn.FREETEXT_SIZE:Ai._defaultFontSize=t;break;case nn.FREETEXT_COLOR:Ai._defaultColor=t;break}}updateParams(e,t){switch(e){case nn.FREETEXT_SIZE:this.#i(t);break;case nn.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[nn.FREETEXT_SIZE,Ai._defaultFontSize],[nn.FREETEXT_COLOR,Ai._defaultColor||br._defaultLineColor]]}get propertiesToUpdate(){return[[nn.FREETEXT_SIZE,this.#r],[nn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Wy(this),[["colorPicker",this._colorPicker]]}get colorType(){return nn.FREETEXT_COLOR}#i(e){const t=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#o()},n=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const t=a=>{this.color=a,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ai._internalPadding*e,-(Ai._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Ai.#c(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,i=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=i,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#s().trimEnd();if(e===t)return;const n=a=>{if(this.#e=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ai._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,A]=this.pageDimensions,[h,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=e+(i[0]-h)/u,y=t+this.height-(i[1]-p)/A;break;case 90:m=e+(i[0]-h)/u,y=t-(i[1]-p)/A,[l,c]=[c,-l];break;case 180:m=e-this.width+(i[0]-h)/u,y=t-(i[1]-p)/A,[l,c]=[-l,-c];break;case 270:m=e+(i[0]-h-this.height*A)/u,y=t+(i[1]-p-this.width*u)/A,[l,c]=[-c,l];break}this.setAt(m*a,y*s,l,c)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Tb,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const a=Ai.#d(t.getData("text")||"").replaceAll(Tb,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const i=s.getRangeAt(0);if(!a.includes(`
`)){i.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=i,u=[],A=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(A.push(l.nodeValue.slice(c).replaceAll(Tb,"")),m!==this.editorDiv){let y=u;for(const g of this.editorDiv.childNodes){if(g===m){y=A;continue}y.push(Ai.#c(g))}}u.push(l.nodeValue.slice(0,c).replaceAll(Tb,""))}else if(l===this.editorDiv){let m=u,y=0;for(const g of this.editorDiv.childNodes)y++===c&&(m=A),m.push(Ai.#c(g))}this.#e=`${u.join(`
`)}${a}${A.join(`
`)}`,this.#l();const h=new Range;let p=Math.sumPrecise(u.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){h.setStart(m,p),h.setEnd(m,p);break}p-=y}s.removeAllRanges(),s.addRange(h)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#A(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ai._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let a=null;if(e instanceof GV){const{data:{defaultAppearanceData:{fontSize:i,fontColor:l},rect:c,rotation:u,id:A,popupRef:h,richText:p,contentsObj:m,creationDate:y,modificationDate:g},textContent:v,textPosition:w,parent:{page:{pageNumber:S}}}=e;if(!v||v.length===0)return null;a=e={annotationType:Lr.FREETEXT,color:Array.from(l),fontSize:i,value:v.join(`
`),position:w,pageIndex:S-1,rect:c.slice(0),rotation:u,annotationElementId:A,id:A,deleted:!1,popupRef:h,comment:m?.str||null,richText:p,creationDate:y,modificationDate:g}}const s=await super.deserialize(e,t,n);return s.#r=e.fontSize,s.color=Xt.makeHexColor(...e.color),s.#e=Ai.#d(e.value),s._initialData=a,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=br._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#r,value:this.#A()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#h(n)?null:(n.id=this.annotationElementId,n)}#h(e){const{value:t,fontSize:n,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((i,l)=>i!==a[l])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const a of this.#e.split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Yt{static PRECISION=1e-4;toSVGPath(){la("Abstract method `toSVGPath` must be implemented.")}get box(){la("Abstract getter `box` must be implemented.")}serialize(e,t){la("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l]*a,i[l+1]=n+e[l+1]*s;return i}static _rescaleAndSwap(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l+1]*a,i[l+1]=n+e[l]*s;return i}static _translate(e,t,n,a){a||=new Float32Array(e.length);for(let s=0,i=e.length;s<i;s+=2)a[s]=t+e[s],a[s+1]=n+e[s+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,a,s){switch(s){case 90:return[1-t/n,e/a];case 180:return[1-e/n,1-t/a];case 270:return[t/n,1-e/a];default:return[e/n,t/a]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,a,s,i){return[(e+5*n)/6,(t+5*a)/6,(5*n+s)/6,(5*a+i)/6,(n+s)/2,(a+i)/2]}}class m0{#e;#t=[];#n;#r;#i=[];#a=new Float32Array(18);#s;#o;#c;#l;#A;#d;#h=[];static#p=8;static#f=2;static#u=m0.#p+m0.#f;constructor({x:e,y:t},n,a,s,i,l=0){this.#e=n,this.#d=s*a,this.#r=i,this.#a.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=l,this.#l=m0.#p*a,this.#c=m0.#u*a,this.#A=a,this.#h.push(e,t)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),t=this.#a.subarray(16,18),[n,a,s,i]=this.#e;return[(this.#s+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-a)/i,(this.#s+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-a)/i]}add({x:e,y:t}){this.#s=e,this.#o=t;const[n,a,s,i]=this.#e;let[l,c,u,A]=this.#a.subarray(8,12);const h=e-u,p=t-A,m=Math.hypot(h,p);if(m<this.#c)return!1;const y=m-this.#l,g=y/m,v=g*h,w=g*p;let S=l,C=c;l=u,c=A,u+=v,A+=w,this.#h?.push(e,t);const E=-w/y,_=v/y,L=E*this.#d,D=_*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([u+L,A+D],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([u-L,A-D],16),isNaN(this.#a[6])?(this.#i.length===0&&(this.#a.set([l+L,c+D],2),this.#i.push(NaN,NaN,NaN,NaN,(l+L-n)/s,(c+D-a)/i),this.#a.set([l-L,c-D],14),this.#t.push(NaN,NaN,NaN,NaN,(l-L-n)/s,(c-D-a)/i)),this.#a.set([S,C,l,c,u,A],6),!this.isEmpty()):(this.#a.set([S,C,l,c,u,A],6),Math.abs(Math.atan2(C-c,S-l)-Math.atan2(w,v))<Math.PI/2?([l,c,u,A]=this.#a.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((l+u)/2-n)/s,((c+A)/2-a)/i),[l,c,S,C]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((S+l)/2-n)/s,((C+c)/2-a)/i),!0):([S,C,l,c,u,A]=this.#a.subarray(0,6),this.#i.push(((S+5*l)/6-n)/s,((C+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+A)/6-a)/i,((l+u)/2-n)/s,((c+A)/2-a)/i),[u,A,l,c,S,C]=this.#a.subarray(12,18),this.#t.push(((S+5*l)/6-n)/s,((C+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+A)/6-a)/i,((l+u)/2-n)/s,((c+A)/2-a)/i),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#g();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#x(n);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return this.#y(n),n.join(" ")}#g(){const[e,t,n,a]=this.#e,[s,i,l,c]=this.#m();return`M${(this.#a[2]-e)/n} ${(this.#a[3]-t)/a} L${(this.#a[4]-e)/n} ${(this.#a[5]-t)/a} L${s} ${i} L${l} ${c} L${(this.#a[16]-e)/n} ${(this.#a[17]-t)/a} L${(this.#a[14]-e)/n} ${(this.#a[15]-t)/a} Z`}#y(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#x(e){const[t,n,a,s]=this.#e,i=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,u,A,h]=this.#m();e.push(`L${(i[0]-t)/a} ${(i[1]-n)/s} L${c} ${u} L${A} ${h} L${(l[0]-t)/a} ${(l[1]-n)/s}`)}newFreeDrawOutline(e,t,n,a,s,i){return new ZV(e,t,n,a,s,i)}getOutlines(){const e=this.#i,t=this.#t,n=this.#a,[a,s,i,l]=this.#e,c=new Float32Array((this.#h?.length??0)+2);for(let h=0,p=c.length-2;h<p;h+=2)c[h]=(this.#h[h]-a)/i,c[h+1]=(this.#h[h+1]-s)/l;if(c[c.length-2]=(this.#s-a)/i,c[c.length-1]=(this.#o-s)/l,isNaN(n[6])&&!this.isEmpty())return this.#S(c);const u=new Float32Array(this.#i.length+24+this.#t.length);let A=e.length;for(let h=0;h<A;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}A=this.#v(u,A);for(let h=t.length-6;h>=6;h-=6)for(let p=0;p<6;p+=2){if(isNaN(t[h+p])){u[A]=u[A+1]=NaN,A+=2;continue}u[A]=t[h+p],u[A+1]=t[h+p+1],A+=2}return this.#C(u,A),this.newFreeDrawOutline(u,c,this.#e,this.#A,this.#n,this.#r)}#S(e){const t=this.#a,[n,a,s,i]=this.#e,[l,c,u,A]=this.#m(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-a)/i,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-a)/i,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,A,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-a)/i,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-a)/i],0),this.newFreeDrawOutline(h,e,this.#e,this.#A,this.#n,this.#r)}#C(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#v(e,t){const n=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[s,i,l,c]=this.#e,[u,A,h,p]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-i)/c,NaN,NaN,NaN,NaN,u,A,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(a[0]-s)/l,(a[1]-i)/c],t),t+=24}}class ZV extends Yt{#e;#t=new Float32Array(4);#n;#r;#i;#a;#s;constructor(e,t,n,a,s,i){super(),this.#s=e,this.#i=t,this.#e=n,this.#a=a,this.#n=s,this.#r=i,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(i);const[l,c,u,A]=this.#t;for(let h=0,p=e.length;h<p;h+=2)e[h]=(e[h]-l)/u,e[h+1]=(e[h+1]-c)/A;for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-l)/u,t[h+1]=(t[h+1]-c)/A}toSVGPath(){const e=[`M${this.#s[4]} ${this.#s[5]}`];for(let t=6,n=this.#s.length;t<n;t+=6){if(isNaN(this.#s[t])){e.push(`L${this.#s[t+4]} ${this.#s[t+5]}`);continue}e.push(`C${this.#s[t]} ${this.#s[t+1]} ${this.#s[t+2]} ${this.#s[t+3]} ${this.#s[t+4]} ${this.#s[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,a],s){const i=n-e,l=a-t;let c,u;switch(s){case 0:c=Yt._rescale(this.#s,e,a,i,-l),u=Yt._rescale(this.#i,e,a,i,-l);break;case 90:c=Yt._rescaleAndSwap(this.#s,e,t,i,l),u=Yt._rescaleAndSwap(this.#i,e,t,i,l);break;case 180:c=Yt._rescale(this.#s,n,t,-i,l),u=Yt._rescale(this.#i,n,t,-i,l);break;case 270:c=Yt._rescaleAndSwap(this.#s,n,a,-i,-l),u=Yt._rescaleAndSwap(this.#i,n,a,-i,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}#o(e){const t=this.#s;let n=t[4],a=t[5];const s=[n,a,n,a];let i=n,l=a,c=n,u=a;const A=e?Math.max:Math.min,h=new Float32Array(4);for(let m=6,y=t.length;m<y;m+=6){const g=t[m+4],v=t[m+5];isNaN(t[m])?(Xt.pointBoundingBox(g,v,s),l>v?(i=g,l=v):l===v&&(i=A(i,g)),u<v?(c=g,u=v):u===v&&(c=A(c,g))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,Xt.bezierBoundingBox(n,a,...t.slice(m,m+6),h),Xt.rectBoundingBox(h[0],h[1],h[2],h[3],s),l>h[1]?(i=h[0],l=h[1]):l===h[1]&&(i=A(i,h[0])),u<h[3]?(c=h[2],u=h[3]):u===h[3]&&(c=A(c,h[2]))),n=g,a=v}const p=this.#t;p[0]=s[0]-this.#n,p[1]=s[1]-this.#n,p[2]=s[2]-s[0]+2*this.#n,p[3]=s[3]-s[1]+2*this.#n,this.firstPoint=[i,l],this.lastPoint=[c,u]}get box(){return this.#t}newOutliner(e,t,n,a,s,i=0){return new m0(e,t,n,a,s,i)}getNewOutline(e,t){const[n,a,s,i]=this.#t,[l,c,u,A]=this.#e,h=s*u,p=i*A,m=n*u+l,y=a*A+c,g=this.newOutliner({x:this.#i[0]*h+m,y:this.#i[1]*p+y},this.#e,this.#a,e,this.#r,t??this.#n);for(let v=2;v<this.#i.length;v+=2)g.add({x:this.#i[v]*h+m,y:this.#i[v+1]*p+y});return g.getOutlines()}}class wj{#e;#t;#n;#r=[];#i=[];constructor(e,t=0,n=0,a=!0){const s=[1/0,1/0,-1/0,-1/0],i=10**-4;for(const{x:g,y:v,width:w,height:S}of e){const C=Math.floor((g-t)/i)*i,E=Math.ceil((g+w+t)/i)*i,_=Math.floor((v-t)/i)*i,L=Math.ceil((v+S+t)/i)*i,D=[C,_,L,!0],P=[E,_,L,!1];this.#r.push(D,P),Xt.rectBoundingBox(C,_,E,L,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,u=s[0]-n,A=s[1]-n;let h=a?-1/0:1/0,p=1/0;const m=this.#r.at(a?-1:-2),y=[m[0],m[2]];for(const g of this.#r){const[v,w,S,C]=g;!C&&a?w<p?(p=w,h=v):w===p&&(h=Math.max(h,v)):C&&!a&&(w<p?(p=w,h=v):w===p&&(h=Math.min(h,v))),g[0]=(v-u)/l,g[1]=(w-A)/c,g[2]=(S-A)/c}this.#e=new Float32Array([u,A,l,c]),this.#t=[h,p],this.#n=y}getOutlines(){this.#r.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#r)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#a(e)}#a(e){const t=[],n=new Set;for(const i of e){const[l,c,u]=i;t.push([l,c,i],[l,u,i])}t.sort((i,l)=>i[1]-l[1]||i[0]-l[0]);for(let i=0,l=t.length;i<l;i+=2){const c=t[i][2],u=t[i+1][2];c.push(u),u.push(c),n.add(c),n.add(u)}const a=[];let s;for(;n.size>0;){const i=n.values().next().value;let[l,c,u,A,h]=i;n.delete(i);let p=l,m=c;for(s=[l,u],a.push(s);;){let y;if(n.has(A))y=A;else if(n.has(h))y=h;else break;n.delete(y),[l,c,u,A,h]=y,p!==l&&(s.push(p,m,l,m===c?c:u),p=l),m=m===c?u:c}s.push(p,m)}return new T4e(a,this.#e,this.#t,this.#n)}#s(e){const t=this.#i;let n=0,a=t.length-1;for(;n<=a;){const s=n+a>>1,i=t[s][0];if(i===e)return s;i<e?n=s+1:a=s-1}return a+1}#o([,e,t]){const n=this.#s(e);this.#i.splice(n,0,[e,t])}#c([,e,t]){const n=this.#s(e);for(let a=n;a<this.#i.length;a++){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}for(let a=n-1;a>=0;a--){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}}#l(e){const[t,n,a]=e,s=[[t,n,a]],i=this.#s(a);for(let l=0;l<i;l++){const[c,u]=this.#i[l];for(let A=0,h=s.length;A<h;A++){const[,p,m]=s[A];if(!(u<=p||m<=c)){if(p>=c){if(m>u)s[A][1]=u;else{if(h===1)return[];s.splice(A,1),A--,h--}continue}s[A][2]=c,m>u&&s.push([t,u,m])}}}return s}}class T4e extends Yt{#e;#t;constructor(e,t,n,a){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=a}toSVGPath(){const e=[];for(const t of this.#t){let[n,a]=t;e.push(`M${n} ${a}`);for(let s=2;s<t.length;s+=2){const i=t[s],l=t[s+1];i===n?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${i}`),n=i)}e.push("Z")}return e.join(" ")}serialize([e,t,n,a],s){const i=[],l=n-e,c=a-t;for(const u of this.#t){const A=new Array(u.length);for(let h=0;h<u.length;h+=2)A[h]=e+u[h]*l,A[h+1]=a-u[h+1]*c;i.push(A)}return i}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Cj extends m0{newFreeDrawOutline(e,t,n,a,s,i){return new k4e(e,t,n,a,s,i)}}class k4e extends ZV{newOutliner(e,t,n,a,s,i=0){return new Cj(e,t,n,a,s,i)}}class ps extends br{#e=null;#t=0;#n;#r=null;#i=null;#a=null;#s=null;#o=0;#c=null;#l=null;#A=null;#d=!1;#h=null;#p=null;#f=null;#u="";#m;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Lr.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=ps.prototype;return zr(this,"_keyboardManager",new Rv([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||ps._defaultColor,this.#m=e.thickness||ps._defaultThickness,this.opacity=e.opacity||ps._defaultOpacity,this.#n=e.boxes||null,this.#g=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#x(e),this.#w()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#o=e.focusOffset,this.#y(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new wj(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new wj(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=t.getOutlines();const{firstPoint:n}=this.#l;this.#h=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:a}=this.#a;this.#p=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const a=1.5;if(this.#a=e.getNewOutline(this.#m/2+a,.0025),t>=0)this.#A=t,this.#r=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#f=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#A,{bbox:ps.#N(this.#l.box,(h-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f,{bbox:ps.#N(this.#a.box,h),path:{d:this.#a.toSVGPath()}})}const[s,i,l,c]=e.box;switch(this.rotation){case 0:this.x=s,this.y=i,this.width=l,this.height=c;break;case 90:{const[h,p]=this.parentDimensions;this.x=i,this.y=1-s,this.width=l*p/h,this.height=c*h/p;break}case 180:this.x=1-s,this.y=1-i,this.width=l,this.height=c;break;case 270:{const[h,p]=this.parentDimensions;this.x=1-i,this.y=s,this.width=l*p/h,this.height=c*h/p;break}}const{firstPoint:u}=e;this.#h=[(u[0]-s)/l,(u[1]-i)/c];const{lastPoint:A}=this.#a;this.#p=[(A[0]-s)/l,(A[1]-i)/c]}static initialize(e,t){br.initialize(e,t),ps._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case nn.HIGHLIGHT_COLOR:ps._defaultColor=t;break;case nn.HIGHLIGHT_THICKNESS:ps._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#p}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case nn.HIGHLIGHT_COLOR:this.#S(t);break;case nn.HIGHLIGHT_THICKNESS:this.#C(t);break}}static get defaultPropertiesToUpdate(){return[[nn.HIGHLIGHT_COLOR,ps._defaultColor],[nn.HIGHLIGHT_THICKNESS,ps._defaultThickness]]}get propertiesToUpdate(){return[[nn.HIGHLIGHT_COLOR,this.color||ps._defaultColor],[nn.HIGHLIGHT_THICKNESS,this.#m||ps._defaultThickness],[nn.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#A,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#S(e){const t=(s,i)=>{this.color=s,this.opacity=i,this.onUpdatedColor()},n=this.color,a=this.opacity;this.addCommands({cmd:t.bind(this,e,ps._defaultOpacity),undo:t.bind(this,n,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const t=this.#m,n=a=>{this.#m=a,this.#v(a)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new Dl({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#E():e&&(this.#w(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#v(e){this.#d&&(this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#E(){this.#A===null||!this.parent||(this.parent.drawLayer.remove(this.#A),this.#A=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#w(e=this.parent){this.#A===null&&({id:this.#A,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#f=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#r))}static#N([e,t,n,a],s){switch(s){case 90:return[1-t-a,e,a,n];case 180:return[1-e-n,1-t-a,n,a];case 270:return[t,1-e-n,a,n]}return[e,t,n,a]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#d?(e=(e-this.rotation+360)%360,n=ps.#N(this.#l.box,e)):n=ps.#N([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#A,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#f,{bbox:ps.#N(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r,this.setDims(this.width,this.height),EV(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1}})}#T(e){ps._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#j(!0);break;case 1:case 3:this.#j(!1);break}}#j(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#s,this.#o)}select(){super.select(),this.#f&&this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{selected:!1}}),this.#d||this.#j(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#A,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}))}#_(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,t]=this.pageDimensions,[n,a]=this.pageTranslation,s=this.#n,i=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:A,height:h}of s){const p=c*e+n,m=(1-u)*t+a;i[l]=i[l+4]=p,i[l+1]=i[l+3]=m,i[l+2]=i[l+6]=p+A*e,i[l+5]=i[l+7]=m-h*t,l+=8}return i}#F(e){return this.#l.serialize(e,this.#_())}static startHighlighting(e,t,{target:n,x:a,y:s}){const{x:i,y:l,width:c,height:u}=n.getBoundingClientRect(),A=new AbortController,h=e.combinedSignal(A),p=m=>{A.abort(),this.#M(e,m)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",Ha,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Yl,{signal:h}),n.addEventListener("pointermove",this.#D.bind(this,e),{signal:h}),this._freeHighlight=new Cj({x:a,y:s},[i,l,c,u],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#M(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let a=null;if(e instanceof YV){const{data:{quadPoints:y,rect:g,rotation:v,id:w,color:S,opacity:C,popupRef:E,richText:_,contentsObj:L,creationDate:D,modificationDate:P},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:Lr.HIGHLIGHT,color:Array.from(S),opacity:C,quadPoints:y,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:E,richText:_,comment:L?.str||null,creationDate:D,modificationDate:P}}else if(e instanceof uk){const{data:{inkLists:y,rect:g,rotation:v,id:w,color:S,borderStyle:{rawWidth:C},popupRef:E,richText:_,contentsObj:L,creationDate:D,modificationDate:P},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:Lr.HIGHLIGHT,color:Array.from(S),thickness:C,inkLists:y,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:E,richText:_,comment:L?.str||null,creationDate:D,modificationDate:P}}const{color:s,quadPoints:i,inkLists:l,opacity:c}=e,u=await super.deserialize(e,t,n);u.color=Xt.makeHexColor(...s),u.opacity=c||1,l&&(u.#m=e.thickness),u._initialData=a,e.comment&&u.setCommentData(e);const[A,h]=u.pageDimensions,[p,m]=u.pageTranslation;if(i){const y=u.#n=[];for(let g=0;g<i.length;g+=8)y.push({x:(i[g]-p)/A,y:1-(i[g+1]-m)/h,width:(i[g+2]-i[g])/A,height:(i[g+1]-i[g+5])/h});u.#y(),u.#w(),u.rotate(u.rotation)}else if(l){u.#d=!0;const y=l[0],g={x:y[0]-p,y:h-(y[1]-m)},v=new Cj(g,[0,0,A,h],1,u.#m/2,!0,.001);for(let C=0,E=y.length;C<E;C+=2)g.x=y[C]-p,g.y=h-(y[C+1]-m),v.add(g);const{id:w,clipPathId:S}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:v.toSVGPath()}},!0,!0);u.#x({highlightOutlines:v.getOutlines(),highlightId:w,clipPathId:S}),u.#w(),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=br._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#L(),outlines:this.#F(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,a)=>n!==t[a])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class eq{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){la("Not implemented")}}class _r extends br{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#i=null;static#a=NaN;static#s=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#h())}#l({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#A(e,this.parent),this.#u(e.box)}#A(e,t){const{id:n}=t.drawLayer.draw(_r._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[a,s]of Object.entries(t))n.has(a)?Object.assign(e[a],s):e[a]=s;return e}static getDefaultDrawingOptions(e){la("Not implemented")}static get typesMap(){la("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(_r.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,a]of this.typesMap)e.push([n,t[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,a]of this.constructor.typesMap)e.push([n,t[a]]);return e}_updateProperty(e,t,n){const a=this._drawingOptions,s=a[t],i=l=>{a.updateProperty(t,l);const c=this.#e.updateProperty(t,l);c&&this.#u(c),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#h(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#h(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#h(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#A(this.#e,e)}}#p([e,t,n,a]){const{parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[t,1-e,n*(i/s),a*(s/i)];case 180:return[1-e,1-t,n,a];case 270:return[1-t,e,n*(i/s),a*(s/i)];default:return[e,t,n,a]}}#f(){const{x:e,y:t,width:n,height:a,parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[1-t,e,n*(s/i),a*(i/s)];case 180:return[1-e,1-t,n,a];case 270:return[t,1-e,n*(s/i),a*(i/s)];default:return[e,t,n,a]}}#u(e){[this.x,this.y,this.width,this.height]=this.#p(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:n,height:a,rotation:s,parentRotation:i,parentDimensions:[l,c]}=this;switch((s*4+i)/90){case 1:return[1-t-a,e,a,n];case 2:return[1-e-n,1-t-a,n,a];case 3:return[t,1-e-n,a,n];case 4:return[e,t-n*(l/c),a*(c/l),n*(l/c)];case 5:return[1-t,e,n*(l/c),a*(c/l)];case 6:return[1-e-a*(c/l),1-t,a*(c/l),n*(l/c)];case 7:return[t-n*(l/c),1-e-a*(c/l),n*(l/c),a*(c/l)];case 8:return[e-n,t-a,n,a];case 9:return[1-t,e-n,a,n];case 10:return[1-e,1-t,n,a];case 11:return[t-a,1-e,a,n];case 12:return[e-a*(c/l),t,a*(c/l),n*(l/c)];case 13:return[1-t-n*(l/c),e-a*(c/l),n*(l/c),a*(c/l)];case 14:return[1-e,1-t-n*(l/c),a*(c/l),n*(l/c)];case 15:return[t,1-e,n*(l/c),a*(c/l)];default:return[e,t,n,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const a=document.createElement("div");return n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,a,s){la("Not implemented")}static startDrawing(e,t,n,a){const{target:s,offsetX:i,offsetY:l,pointerId:c,pointerType:u}=a;if(_r.#s&&_r.#s!==u)return;const{viewport:{rotation:A}}=e,{width:h,height:p}=s.getBoundingClientRect(),m=_r.#r=new AbortController,y=e.combinedSignal(m);if(_r.#a||=c,_r.#s??=u,window.addEventListener("pointerup",g=>{_r.#a===g.pointerId?this._endDraw(g):_r.#o?.delete(g.pointerId)},{signal:y}),window.addEventListener("pointercancel",g=>{_r.#a===g.pointerId?this._currentParent.endDrawingSession():_r.#o?.delete(g.pointerId)},{signal:y}),window.addEventListener("pointerdown",g=>{_r.#s===g.pointerType&&((_r.#o||=new Set).add(g.pointerId),_r.#n.isCancellable()&&(_r.#n.removeLastElement(),_r.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Yl,{signal:y}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),s.addEventListener("touchmove",g=>{g.timeStamp===_r.#c&&Ha(g)},{signal:y}),e.toggleDrawing(),t._editorUndoBar?.hide(),_r.#n){e.drawLayer.updateProperties(this._currentDrawId,_r.#n.startNew(i,l,h,p,A));return}t.updateUIForDefaultProperties(this),_r.#n=this.createDrawerInstance(i,l,h,p,A),_r.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(_r.#i.toSVGProperties(),_r.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(_r.#c=-1,!_r.#n)return;const{offsetX:t,offsetY:n,pointerId:a}=e;if(_r.#a===a){if(_r.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,_r.#n.add(t,n)),_r.#c=e.timeStamp,Ha(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,_r.#n=null,_r.#i=null,_r.#s=null,_r.#c=NaN),_r.#r&&(_r.#r.abort(),_r.#r=null,_r.#a=NaN,_r.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,_r.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=_r.#n,a=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(a,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(a,n.removeLastElement())},mustExec:!1,type:nn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(nn.DRAW_STEP),!_r.#n.isEmpty()){const{pageDimensions:[n,a],scale:s}=t,i=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:_r.#n.getOutlines(n*s,a*s,s,this._INNER_MARGIN),drawingOptions:_r.#i,mustBeCommitted:!e});return this._cleanup(!0),i}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,a,s,i){la("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:a,pageHeight:s,pageX:i,pageY:l}}=t.viewport,c=this.deserializeDraw(i,l,a,s,this._INNER_MARGIN,e),u=await super.deserialize(e,t,n);return u.createDrawingOptions(e),u.#l({drawOutlines:c}),u.#h(),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[t,n]=this.pageTranslation,[a,s]=this.pageDimensions;return this.#e.serialize([t,n,a,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class F4e{#e=new Float64Array(6);#t;#n;#r;#i;#a;#s="";#o=0;#c=new Hv;#l;#A;constructor(e,t,n,a,s,i){this.#l=n,this.#A=a,this.#r=s,this.#i=i,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t],this.#n=[{line:l,points:this.#a}],this.#e.set(l,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#d(e,t){return Yt._normalizePoint(e,t,this.#l,this.#A,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(e,t){[e,t]=this.#d(e,t);const[n,a,s,i]=this.#e.subarray(2,6),l=e-s,c=t-i;return Math.hypot(this.#l*l,this.#A*c)<=2?null:(this.#a.push(e,t),isNaN(n)?(this.#e.set([s,i,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,a,s,i,e,t],0),this.#t.push(...Yt.createBezierPoints(n,a,s,i,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,a,s){this.#l=n,this.#A=a,this.#r=s,[e,t]=this.#d(e,t);const i=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t];const l=this.#n.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#n.push({line:i,points:this.#a}),this.#e.set(i,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#s="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:a}=this.#n[e];this.#t=n,this.#a=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const e=Yt.svgRound(this.#t[4]),t=Yt.svgRound(this.#t[5]);if(this.#a.length===2)return this.#s=`${this.#s} M ${e} ${t} Z`,this.#s;if(this.#a.length<=6){const a=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,a)} M ${e} ${t}`,this.#o=6}if(this.#a.length===4){const a=Yt.svgRound(this.#t[10]),s=Yt.svgRound(this.#t[11]);return this.#s=`${this.#s} L ${a} ${s}`,this.#o=12,this.#s}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let a=this.#o,s=this.#t.length;a<s;a+=6){const[i,l,c,u,A,h]=this.#t.slice(a,a+6).map(Yt.svgRound);n.push(`C${i} ${l} ${c} ${u} ${A} ${h}`)}return this.#s+=n.join(" "),this.#o=this.#t.length,this.#s}getOutlines(e,t,n,a){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,e,t,n,this.#r,this.#i,a),this.#e=null,this.#t=null,this.#n=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Hv extends Yt{#e;#t=0;#n;#r;#i;#a;#s;#o;#c;build(e,t,n,a,s,i,l){this.#i=t,this.#a=n,this.#s=a,this.#o=s,this.#c=i,this.#n=l??0,this.#r=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${Yt.svgRound(t[4])} ${Yt.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Yt.svgRound(t[10])} ${Yt.svgRound(t[11])}`);continue}for(let n=6,a=t.length;n<a;n+=6){const[s,i,l,c,u,A]=t.subarray(n,n+6).map(Yt.svgRound);e.push(`C${s} ${i} ${l} ${c} ${u} ${A}`)}}return e.join("")}serialize([e,t,n,a],s){const i=[],l=[],[c,u,A,h]=this.#A();let p,m,y,g,v,w,S,C,E;switch(this.#o){case 0:E=Yt._rescale,p=e,m=t+a,y=n,g=-a,v=e+c*n,w=t+(1-u-h)*a,S=e+(c+A)*n,C=t+(1-u)*a;break;case 90:E=Yt._rescaleAndSwap,p=e,m=t,y=n,g=a,v=e+u*n,w=t+c*a,S=e+(u+h)*n,C=t+(c+A)*a;break;case 180:E=Yt._rescale,p=e+n,m=t,y=-n,g=a,v=e+(1-c-A)*n,w=t+u*a,S=e+(1-c)*n,C=t+(u+h)*a;break;case 270:E=Yt._rescaleAndSwap,p=e+n,m=t+a,y=-n,g=-a,v=e+(1-u-h)*n,w=t+(1-c-A)*a,S=e+(1-u)*n,C=t+(1-c)*a;break}for(const{line:_,points:L}of this.#r)i.push(E(_,p,m,y,g,s?new Array(_.length):null)),l.push(E(L,p,m,y,g,s?new Array(L.length):null));return{lines:i,points:l,rect:[v,w,S,C]}}static deserialize(e,t,n,a,s,{paths:{lines:i,points:l},rotation:c,thickness:u}){const A=[];let h,p,m,y,g;switch(c){case 0:g=Yt._rescale,h=-e/n,p=t/a+1,m=1/n,y=-1/a;break;case 90:g=Yt._rescaleAndSwap,h=-t/a,p=-e/n,m=1/a,y=1/n;break;case 180:g=Yt._rescale,h=e/n+1,p=-t/a,m=-1/n,y=1/a;break;case 270:g=Yt._rescaleAndSwap,h=t/a+1,p=e/n+1,m=-1/a,y=-1/n;break}if(!i){i=[];for(const w of l){const S=w.length;if(S===2){i.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(S===4){i.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(S-2));i.push(C);let[E,_,L,D]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,E,_],0);for(let P=4;P<S;P+=2){const k=w[P],z=w[P+1];C.set(Yt.createBezierPoints(E,_,L,D,k,z),(P-2)*3),[E,_,L,D]=[L,D,k,z]}}}for(let w=0,S=i.length;w<S;w++)A.push({line:g(i[w].map(C=>C??NaN),h,p,m,y),points:g(l[w].map(C=>C??NaN),h,p,m,y)});const v=new this.prototype.constructor;return v.build(A,n,a,1,c,u,s),v}#l(e=this.#c){const t=this.#n+e/2*this.#s;return this.#o%180===0?[t/this.#i,t/this.#a]:[t/this.#a,t/this.#i]}#A(){const[e,t,n,a]=this.#e,[s,i]=this.#l(0);return[e+s,t+i,n-2*s,a-2*i]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#r){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)Xt.pointBoundingBox(a[l],a[l+1],e);continue}let s=a[4],i=a[5];for(let l=6,c=a.length;l<c;l+=6){const[u,A,h,p,m,y]=a.subarray(l,l+6);Xt.bezierBoundingBox(s,i,u,A,h,p,m,y,e),s=m,i=y}}const[t,n]=this.#l();e[0]=no(e[0]-t,0,1),e[1]=no(e[1]-n,0,1),e[2]=no(e[2]+t,0,1),e[3]=no(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,n]=this.#l();this.#c=e;const[a,s]=this.#l(),[i,l]=[a-t,s-n],c=this.#e;return c[0]-=i,c[1]-=l,c[2]+=2*i,c[3]+=2*l,c}updateParentDimensions([e,t],n){const[a,s]=this.#l();this.#i=e,this.#a=t,this.#s=n;const[i,l]=this.#l(),c=i-a,u=l-s,A=this.#e;return A[0]-=c,A[1]-=u,A[2]+=2*c,A[3]+=2*u,A}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Yt.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,a=0,s=0,i=0,l=0,c=0;switch(this.#t){case 90:a=t/e,s=-e/t,l=e;break;case 180:n=-1,i=-1,l=e,c=t;break;case 270:a=-t/e,s=e/t,c=t;break;default:return""}return`matrix(${n} ${a} ${s} ${i} ${Yt.svgRound(l)} ${Yt.svgRound(c)})`}getPathResizingSVGProperties([e,t,n,a]){const[s,i]=this.#l(),[l,c,u,A]=this.#e;if(Math.abs(u-s)<=Yt.PRECISION||Math.abs(A-i)<=Yt.PRECISION){const g=e+n/2-(l+u/2),v=t+a/2-(c+A/2);return{path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`,transform:`${this.rotationTransform} translate(${g} ${v})`}}}const h=(n-2*s)/(u-2*s),p=(a-2*i)/(A-2*i),m=u/n,y=A/a;return{path:{"transform-origin":`${Yt.svgRound(l)} ${Yt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${y}) translate(${Yt.svgRound(s)} ${Yt.svgRound(i)}) scale(${h} ${p}) translate(${Yt.svgRound(-s)} ${Yt.svgRound(-i)})`}}}getPathResizedSVGProperties([e,t,n,a]){const[s,i]=this.#l(),l=this.#e,[c,u,A,h]=l;if(l[0]=e,l[1]=t,l[2]=n,l[3]=a,Math.abs(A-s)<=Yt.PRECISION||Math.abs(h-i)<=Yt.PRECISION){const v=e+n/2-(c+A/2),w=t+a/2-(u+h/2);for(const{line:S,points:C}of this.#r)Yt._translate(S,v,w,S),Yt._translate(C,v,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(n-2*s)/(A-2*s),m=(a-2*i)/(h-2*i),y=-p*(c+s)+e+s,g=-m*(u+i)+t+i;if(p!==1||m!==1||y!==0||g!==0)for(const{line:v,points:w}of this.#r)Yt._rescale(v,y,g,p,m,v),Yt._rescale(w,y,g,p,m,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[a,s]=n,i=this.#e,l=e-i[0],c=t-i[1];if(this.#i===a&&this.#a===s)for(const{line:u,points:A}of this.#r)Yt._translate(u,l,c,u),Yt._translate(A,l,c,A);else{const u=this.#i/a,A=this.#a/s;this.#i=a,this.#a=s;for(const{line:h,points:p}of this.#r)Yt._rescale(h,l,c,u,A,h),Yt._rescale(p,l,c,u,A,p);i[2]*=u,i[3]*=A}return i[0]=e,i[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Yt.svgRound(e[0])} ${Yt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class d5 extends eq{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:br._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new d5(this._viewParameters);return e.updateAll(this),e}}class Ak extends _r{static _type="ink";static _editorType=Lr.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){br.initialize(e,t),this._defaultDrawingOptions=new d5(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return zr(this,"typesMap",new Map([[nn.INK_THICKNESS,"stroke-width"],[nn.INK_COLOR,"stroke"],[nn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,a,s){return new F4e(e,t,n,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,a,s,i){return Hv.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){let a=null;if(e instanceof uk){const{data:{inkLists:i,rect:l,rotation:c,id:u,color:A,opacity:h,borderStyle:{rawWidth:p},popupRef:m,richText:y,contentsObj:g,creationDate:v,modificationDate:w},parent:{page:{pageNumber:S}}}=e;a=e={annotationType:Lr.INK,color:Array.from(A),thickness:p,opacity:h,paths:{points:i},boxes:null,pageIndex:S-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:m,richText:y,comment:g?.str||null,creationDate:v,modificationDate:w}}const s=await super.deserialize(e,t,n);return s._initialData=a,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Wy(this),[["colorPicker",this._colorPicker]]}get colorType(){return nn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Ak.getDefaultDrawingOptions({stroke:Xt.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":i}}=this,l=Object.assign(super.serialize(e),{color:br._colorManager.convert(a),opacity:s,thickness:i,paths:{lines:t,points:n}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((i,l)=>i!==t[l])||e.thickness!==n||e.opacity!==a||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class Nj extends Hv{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const kb=8,Mx=3;class i0{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,a){return n-=e,a-=t,n===0?a>0?0:4:n===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const A=(-u+c-l+16)%8,h=this.#n[2*A],p=this.#n[2*A+1];if(e[(n+h)*t+(a+p)]!==0)return A}return-1}static#i(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const A=(u+c+l+16)%8,h=this.#n[2*A],p=this.#n[2*A+1];if(e[(n+h)*t+(a+p)]!==0)return A}return-1}static#a(e,t,n,a){const s=e.length,i=new Int32Array(s);for(let A=0;A<s;A++)i[A]=e[A]<=a?1:0;for(let A=1;A<n-1;A++)i[A*t]=i[A*t+t-1]=0;for(let A=0;A<t;A++)i[A]=i[t*n-1-A]=0;let l=1,c;const u=[];for(let A=1;A<n-1;A++){c=1;for(let h=1;h<t-1;h++){const p=A*t+h,m=i[p];if(m===0)continue;let y=A,g=h;if(m===1&&i[p-1]===0)l+=1,g-=1;else if(m>=1&&i[p+1]===0)l+=1,g+=1,m>1&&(c=m);else{m!==1&&(c=Math.abs(m));continue}const v=[h,A],w=g===h+1,S={isHole:w,points:v,id:l,parent:0};u.push(S);let C;for(const I of u)if(I.id===c){C=I;break}C?C.isHole?S.parent=w?C.parent:c:S.parent=w?c:C.parent:S.parent=w?c:0;const E=this.#r(i,t,A,h,y,g,0);if(E===-1){i[p]=-l,i[p]!==1&&(c=Math.abs(i[p]));continue}let _=this.#n[2*E],L=this.#n[2*E+1];const D=A+_,P=h+L;y=D,g=P;let k=A,z=h;for(;;){const I=this.#i(i,t,k,z,y,g,1);_=this.#n[2*I],L=this.#n[2*I+1];const Q=k+_,R=z+L;v.push(R,Q);const K=k*t+z;if(i[K+1]===0?i[K]=-l:i[K]===1&&(i[K]=l),Q===A&&R===h&&k===D&&z===P){i[p]!==1&&(c=Math.abs(i[p]));break}else y=k,g=z,k=Q,z=R}}}return u}static#s(e,t,n,a){if(n-t<=4){for(let D=t;D<n-2;D+=2)a.push(e[D],e[D+1]);return}const s=e[t],i=e[t+1],l=e[n-4]-s,c=e[n-3]-i,u=Math.hypot(l,c),A=l/u,h=c/u,p=A*i-h*s,m=c/l,y=1/u,g=Math.atan(m),v=Math.cos(g),w=Math.sin(g),S=y*(Math.abs(v)+Math.abs(w)),C=y*(1-S+S**2),E=Math.max(Math.atan(Math.abs(w+v)*C),Math.atan(Math.abs(w-v)*C));let _=0,L=t;for(let D=t+2;D<n-2;D+=2){const P=Math.abs(p-A*e[D+1]+h*e[D]);P>_&&(L=D,_=P)}_>(u*E)**2?(this.#s(e,t,L+2,a),this.#s(e,L,n,a)):a.push(s,i)}static#o(e){const t=[],n=e.length;return this.#s(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#c(e,t,n,a,s,i){const l=new Float32Array(i**2),c=-2*a**2,u=i>>1;for(let g=0;g<i;g++){const v=(g-u)**2;for(let w=0;w<i;w++)l[g*i+w]=Math.exp((v+(w-u)**2)/c)}const A=new Float32Array(256),h=-2*s**2;for(let g=0;g<256;g++)A[g]=Math.exp(g**2/h);const p=e.length,m=new Uint8Array(p),y=new Uint32Array(256);for(let g=0;g<n;g++)for(let v=0;v<t;v++){const w=g*t+v,S=e[w];let C=0,E=0;for(let L=0;L<i;L++){const D=g+L-u;if(!(D<0||D>=n))for(let P=0;P<i;P++){const k=v+P-u;if(k<0||k>=t)continue;const z=e[D*t+k],I=l[L*i+P]*A[Math.abs(z-S)];C+=z*I,E+=I}}const _=m[w]=Math.round(C/E);y[_]++}return[m,y]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#A(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let a=-1/0,s=1/0;for(let l=0,c=n.length;l<c;l++){const u=n[l]=e[l<<2];a=Math.max(a,u),s=Math.min(s,u)}const i=255/(a-s);for(let l=0,c=n.length;l<c;l++)n[l]=(n[l]-s)*i;return n}static#d(e){let t,n=-1/0,a=-1/0;const s=e.findIndex(c=>c!==0);let i=s,l=s;for(t=s;t<256;t++){const c=e[t];c>n&&(t-i>a&&(a=t-i,l=t-1),n=c,i=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:n,height:a}=e,{maxDim:s}=this.#e;let i=n,l=a;if(n>s||a>s){let p=n,m=a,y=Math.log2(Math.max(n,a)/s);const g=Math.floor(y);y=y===g?g-1:g;for(let w=0;w<y;w++){i=Math.ceil(p/2),l=Math.ceil(m/2);const S=new OffscreenCanvas(i,l);S.getContext("2d").drawImage(e,0,0,p,m,0,0,i,l),p=i,m=l,e!==t&&e.close(),e=S.transferToImageBitmap()}const v=Math.min(s/i,s/l);i=Math.round(i*v),l=Math.round(l*v)}const u=new OffscreenCanvas(i,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,i,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,i,l);const A=u.getImageData(0,0,i,l).data;return[this.#A(A),i,l]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:a},s,i,l,c){let u=new OffscreenCanvas(1,1),A=u.getContext("2d",{alpha:!1});const h=200,p=A.font=`${n} ${a} ${h}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:v,fontBoundingBoxAscent:w,fontBoundingBoxDescent:S,width:C}=A.measureText(e),E=1.5,_=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||0,C)*E),L=Math.ceil(Math.max(Math.abs(g)+Math.abs(v)||h,Math.abs(w)+Math.abs(S)||h)*E);u=new OffscreenCanvas(_,L),A=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),A.font=p,A.filter="grayscale(1)",A.fillStyle="white",A.fillRect(0,0,_,L),A.fillStyle="black",A.fillText(e,_*(E-1)/2,L*(3-E)/2);const D=this.#A(A.getImageData(0,0,_,L).data),P=this.#l(D),k=this.#d(P),z=this.#a(D,_,L,k);return this.processDrawnLines({lines:{curves:z,width:_,height:L},pageWidth:s,pageHeight:i,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,n,a,s){const[i,l,c]=this.#h(e),[u,A]=this.#c(i,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),h=this.#d(A),p=this.#a(u,l,c,h);return this.processDrawnLines({lines:{curves:p,width:l,height:c},pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:i,areContours:l}){a%180!==0&&([t,n]=[n,t]);const{curves:c,width:u,height:A}=e,h=e.thickness??0,p=[],m=Math.min(t/u,n/A),y=m/t,g=m/n,v=[];for(const{points:S}of c){const C=i?this.#o(S):S;if(!C)continue;v.push(C);const E=C.length,_=new Float32Array(E),L=new Float32Array(3*(E===2?2:E-2));if(p.push({line:L,points:_}),E===2){_[0]=C[0]*y,_[1]=C[1]*g,L.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[D,P,k,z]=C;D*=y,P*=g,k*=y,z*=g,_.set([D,P,k,z],0),L.set([NaN,NaN,NaN,NaN,D,P],0);for(let I=4;I<E;I+=2){const Q=_[I]=C[I]*y,R=_[I+1]=C[I+1]*g;L.set(Yt.createBezierPoints(D,P,k,z,Q,R),(I-2)*3),[D,P,k,z]=[k,z,Q,R]}}if(p.length===0)return null;const w=l?new Nj:new Hv;return w.build(p,t,n,1,a,l?0:h,s),{outline:w,newCurves:v,areContours:l,thickness:h,width:u,height:A}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:a,height:s}){let i=1/0,l=-1/0,c=0;for(const C of e){c+=C.length;for(let E=2,_=C.length;E<_;E++){const L=C[E]-C[E-2];i=Math.min(i,L),l=Math.max(l,L)}}let u;i>=-128&&l<=127?u=Int8Array:i>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const A=e.length,h=kb+Mx*A,p=new Uint32Array(h);let m=0;p[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*A)*u.BYTES_PER_ELEMENT,p[m++]=0,p[m++]=a,p[m++]=s,p[m++]=t?0:1,p[m++]=Math.max(0,Math.floor(n??0)),p[m++]=A,p[m++]=u.BYTES_PER_ELEMENT;for(const C of e)p[m++]=C.length-2,p[m++]=C[0],p[m++]=C[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(p);const v=u.prototype.constructor;for(const C of e){const E=new v(C.length-2);for(let _=2,L=C.length;_<L;_++)E[_-2]=C[_]-C[_-2];g.write(E)}g.close();const w=await new Response(y.readable).arrayBuffer(),S=new Uint8Array(w);return vV(S)}static async decompressSignature(e){try{const t=nEe(e),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),s=a.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let i=null,l=0;for await(const C of n)i||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),i.set(C,l),l+=C.length;const c=new Uint32Array(i.buffer,0,i.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const A=c[2],h=c[3],p=c[4]===0,m=c[5],y=c[6],g=c[7],v=[],w=(kb+Mx*y)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(g){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(i.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(i.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(i.buffer,w);break}l=0;for(let C=0;C<y;C++){const E=c[Mx*C+kb],_=new Float32Array(E+2);v.push(_);for(let L=0;L<Mx-1;L++)_[L]=c[Mx*C+kb+L+1];for(let L=0;L<E;L++)_[L+2]=_[L]+S[l++]}return{areContours:p,thickness:m,outlines:v,width:A,height:h}}catch(t){return Mr(`decompressSignature: ${t}`),null}}}class hk extends eq{constructor(){super(),super.updateProperties({fill:br._defaultLineColor,"stroke-width":0})}clone(){const e=new hk;return e.updateAll(this),e}}class fk extends d5{constructor(e){super(e),super.updateProperties({stroke:br._defaultLineColor,"stroke-width":1})}clone(){const e=new fk(this._viewParameters);return e.updateAll(this),e}}class dd extends _r{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=Lr.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){br.initialize(e,t),this._defaultDrawingOptions=new hk,this._defaultDrawnSignatureOptions=new fk(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return zr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:s,areContours:i,description:l,uuid:c,heightInPage:u}=this.#n,{rawDims:{pageWidth:A,pageHeight:h},rotation:p}=this.parent.viewport,m=i0.processDrawnLines({lines:a,pageWidth:A,pageHeight:h,rotation:p,innerMargin:dd._INNER_MARGIN,mustSmooth:s,areContours:i});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:a,height:s}=this.#n,i=Math.max(a,s),l=i0.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:n,width:a,height:s},pageWidth:i,pageHeight:i,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,a){const{x:s,y:i}=this,{outline:l}=this.#n=e;this.#e=l instanceof Nj,this.description=n;let c;this.#e?c=dd.getDefaultDrawingOptions():(c=dd._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let A=t/u;A=A>=1?.5:A,this.width*=A/this.height,this.width>=1&&(A*=.9/this.width,this.width=.9),this.height=A,this.setDims(),this.x=s,this.y=i,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return i0.process(e,t,n,a,dd._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:a},rotation:s}=this.parent.viewport;return i0.extractContoursFromText(e,t,n,a,s,dd._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return i0.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:dd._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=dd.getDefaultDrawingOptions():(this._drawingOptions=dd._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#r,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,a,s,i){return i.areContours?Nj.deserialize(e,t,n,a,s,i):Hv.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){const a=await super.deserialize(e,t,n);return a.#e=e.areContours,a.description=e.accessibilityData?.alt||"",a.#r=e.uuid,a}}class O4e extends br{#e=null;#t=null;#n=null;#r=null;#i=null;#a="";#s=null;#o=!1;#c=null;#l=!1;#A=!1;static _type="stamp";static _editorType=Lr.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){br.initialize(e,t)}static isHandlingMimeForPasting(e){return U2.includes(e)}static paste(e,t){t.pasteEditor({mode:Lr.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#f()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:i}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:a,width:s,height:i,channels:a.length/(s*i)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#d(n,!0)).finally(()=>this.#h());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#d(a)).finally(()=>this.#h());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(a=>this.#d(a)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=U2.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(a)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#f():this.#p()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,a&&(this.#e=a),this.#o=!1,this.#f())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#f(){const{div:e}=this;let{width:t,height:n}=this.#e;const[a,s]=this.pageDimensions,i=.75;if(this.width)t=this.width*a,n=this.height*s;else if(t>i*a||n>i*s){const c=Math.min(i*a/t,i*s/n);t*=c,n*=c}this._uiManager.enableWaiting(!1);const l=this.#s=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=t/a,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#A||(this.parent.addUndoableEditor(this),this.#A=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:a,height:s}=this.#e,i=new Bu;let l=this.#e,c=a,u=s,A=null;if(t){if(a>t||s>t){const L=Math.min(t/a,t/s);c=Math.floor(a*L),u=Math.floor(s*L)}A=document.createElement("canvas");const p=A.width=Math.ceil(c*i.sx),m=A.height=Math.ceil(u*i.sy);this.#l||(l=this.#u(p,m));const y=A.getContext("2d");y.filter=this._uiManager.hcmFilter;let g="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":iEe.isDarkMode&&(g="#8f8f9d",v="#42414d");const w=15,S=w*i.sx,C=w*i.sy,E=new OffscreenCanvas(S*2,C*2),_=E.getContext("2d");_.fillStyle=g,_.fillRect(0,0,S*2,C*2),_.fillStyle=v,_.fillRect(0,0,S,C),_.fillRect(S,C,S,C),y.fillStyle=y.createPattern(E,"repeat"),y.fillRect(0,0,p,m),y.drawImage(l,0,0,l.width,l.height,0,0,p,m)}let h=null;if(n){let p,m;if(i.symmetric&&l.width<e&&l.height<e)p=l.width,m=l.height;else if(l=this.#e,a>e||s>e){const v=Math.min(e/a,e/s);p=Math.floor(a*v),m=Math.floor(s*v),this.#l||(l=this.#u(p,m))}const g=new OffscreenCanvas(p,m).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,p,m),h={width:p,height:m,data:g.getImageData(0,0,p,m).data}}return{canvas:A,width:c,height:u,imageData:h}}#u(e,t){const{width:n,height:a}=this.#e;let s=n,i=a,l=this.#e;for(;s>2*e||i>2*t;){const c=s,u=i;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));const A=new OffscreenCanvas(s,i);A.getContext("2d").drawImage(l,0,0,c,u,0,0,s,i),l=A.transferToImageBitmap()}return l}#m(){const[e,t]=this.parentDimensions,{width:n,height:a}=this,s=new Bu,i=Math.ceil(n*e*s.sx),l=Math.ceil(a*t*s.sy),c=this.#s;if(!c||c.width===i&&c.height===l)return;c.width=i,c.height=l;const u=this.#l?this.#e:this.#u(i,l),A=c.getContext("2d");A.filter=this._uiManager.hcmFilter,A.drawImage(u,0,0,u.width,u.height,0,0,i,l)}#g(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,a=Math.round(this.width*t*Q0.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*Q0.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(a,s);return i.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,s),i.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let a=null,s=!1;if(e instanceof XV){const{data:{rect:g,rotation:v,id:w,structParent:S,popupRef:C,richText:E,contentsObj:_,creationDate:L,modificationDate:D},container:P,parent:{page:{pageNumber:k}},canvas:z}=e;let I,Q;z?(delete e.canvas,{id:I,bitmap:Q}=n.imageManager.getFromCanvas(P.id,z),z.remove()):(s=!0,e._hasNoCanvas=!0);const R=(await t._structTree.getAriaAttributes(`${X3}${w}`))?.get("aria-label")||"";a=e={annotationType:Lr.STAMP,bitmapId:I,bitmap:Q,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:R},isSvg:!1,structParent:S,popupRef:C,richText:E,comment:_?.str||null,creationDate:L,modificationDate:D}}const i=await super.deserialize(e,t,n),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:A,isSvg:h,accessibilityData:p}=e;s?(n.addMissingCanvas(e.id,i),i.#o=!0):A&&n.imageManager.isValidId(A)?(i.#t=A,c&&(i.#e=c)):i.#r=u,i.#l=h;const[m,y]=i.pageDimensions;return i.width=(l[2]-l[0])/m,i.height=(l[3]-l[1])/y,p&&(i.altTextData=p),i._initialData=a,e.comment&&i.setCommentData(e),i.#A=!!a,i}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(n),e)return n.bitmapUrl=this.#g(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=this.#y(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const i=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:i,serialized:n}),n.bitmap=this.#g(!1);else if(this.#l){const l=t.stamps.get(this.#t);i>l.area&&(l.area=i,l.serialized.bitmap.close(),l.serialized.bitmap=this.#g(!1))}return n}#y(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,a=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class hd{#e;#t=!1;#n=null;#r=null;#i=null;#a=new Map;#s=!1;#o=!1;#c=!1;#l=null;#A=null;#d=null;#h=null;#p=null;#f=-1;#u;static _initialized=!1;static#m=new Map([Ai,Ak,O4e,ps,dd].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:a,accessibilityManager:s,annotationLayer:i,drawLayer:l,textLayer:c,viewport:u,l10n:A}){const h=[...hd.#m.values()];if(!hd._initialized){hd._initialized=!0;for(const p of h)p.initialize(A,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#n=i,this.viewport=u,this.#d=c,this.drawLayer=l,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Lr.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#v(),e){case Lr.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Lr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Lr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Lr.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of hd.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}get#g(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#p?.abort(),this.#p=null;const e=new Set;for(const n of this.#g)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#n;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#p){this.#p=new AbortController;const n=this.#u.combinedSignal(this.#p);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:i,clientY:l,timeStamp:c}=a,u=this.#f;if(c-u>500){this.#f=c;return}this.#f=-1;const{classList:A}=this.div;A.toggle("getElements",!0);const h=document.elementsFromPoint(i,l);if(A.toggle("getElements",!1),!this.div.contains(h[0]))return;let p;const m=new RegExp(`^${$y}[0-9]+$`);for(const g of h)if(m.test(g.id)){p=g.id;break}if(!p)return;const y=this.#a.get(p);y?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick(a))},{signal:n,capture:!0})}const e=this.#n;if(e){const n=new Map,a=new Map;for(const i of this.#g){if(i.disableEditing(),!i.annotationElementId){i.updateFakeAnnotationElement(e);continue}if(i.serialize()!==null){n.set(i.annotationElementId,i);continue}else a.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}const s=e.getEditableAnnotations();for(const i of s){const{id:l}=i.data;if(this.#u.isDeletedAnnotationElement(l)){i.updateEdited({deleted:!0});continue}let c=a.get(l);if(c){c.resetAnnotationElement(i),c.show(!1),i.show();continue}c=n.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(i)&&c.show(!1)),i.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const n of hd.#m.values())t.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#y(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:n}=bi.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),ps.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#u.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),br.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#a.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#x(){return hd.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#S(e){const t=this.#x;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#x?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:a}=this.#C(),s=this.getNextId(),i=this.#S({parent:this,id:s,x:n,y:a,uiManager:this.#u,isCentered:!0,...t});i&&this.add(i)}async deserialize(e){return await hd.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const a=this.getNextId(),s=this.#S({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:t,width:n,height:a}=this.boundingClientRect,s=Math.max(0,e),i=Math.max(0,t),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+a),u=(s+l)/2-e,A=(i+c)/2-t,[h,p]=this.viewport.rotation%180===0?[u,A]:[A,u];return{offsetX:h,offsetY:p}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#s||(this.#s=!1,this.#x?.isDrawer&&this.#x.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===Lr.STAMP||n===Lr.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Lr.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#s=!0,this.#x?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#x.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#A=null,this.commitOrRemove())},{signal:t}),this.#x.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#A=t);return}this.#A&&setTimeout(()=>{this.#A?.focus(),this.#A=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#A=null,this.#x.endDrawing(e)):null}findNewParent(e,t,n){const a=this.#u.findParent(t,n);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#x.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#v(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,lf(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#v();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,lf(this.div,{rotation:n}),t!==n)for(const a of this.#a.values())a.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class hi{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return zr(this,"_svgFactory",new Yy)}static#i(e,[t,n,a,s]){const{style:i}=e;i.top=`${100*n}%`,i.left=`${100*t}%`,i.width=`${100*a}%`,i.height=`${100*s}%`}#a(){const e=hi._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#s(e,t){const n=hi._svgFactory.createElement("clipPath");e.append(n);const a=`clip_${t}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const s=hi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),a}#o(e,t){for(const[n,a]of Object.entries(t))a===null?e.removeAttribute(n):e.setAttribute(n,a)}draw(e,t=!1,n=!1){const a=hi.#r++,s=this.#a(),i=hi._svgFactory.createElement("defs");s.append(i);const l=hi._svgFactory.createElement("path");i.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(a,l);const u=n?this.#s(i,c):null,A=hi._svgFactory.createElement("use");return s.append(A),A.setAttribute("href",`#${c}`),this.updateProperties(s,e),this.#t.set(a,s),{id:a,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=hi.#r++,a=this.#a(),s=hi._svgFactory.createElement("defs");a.append(s);const i=hi._svgFactory.createElement("path");s.append(i);const l=`path_p${this.pageIndex}_${n}`;i.setAttribute("id",l),i.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=hi._svgFactory.createElement("mask");s.append(h),c=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const p=hi._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=hi._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${l}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=hi._svgFactory.createElement("use");a.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const A=u.cloneNode();return a.append(A),u.classList.add("mainOutline"),A.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(n,a),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:a,rootClass:s,path:i}=t,l=typeof e=="number"?this.#t.get(e):e;if(l){if(n&&this.#o(l,n),a&&hi.#i(l,a),s){const{classList:c}=l;for(const[u,A]of Object.entries(s))c.toggle(u,A)}if(i){const u=l.firstChild.firstChild;this.#o(u,i)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:wj};globalThis.pdfjsLib={AbortException:OA,AnnotationEditorLayer:hd,AnnotationEditorParamsType:nn,AnnotationEditorType:Lr,AnnotationEditorUIManager:DA,AnnotationLayer:dk,AnnotationMode:md,AnnotationType:ms,applyOpacity:SV,build:VV,ColorPicker:Dl,createValidAbsoluteUrl:G3,CSSConstants:NV,DOMSVGFactory:Yy,DrawLayer:hi,FeatureTest:bi,fetchData:Pg,findContrastColor:BV,getDocument:ik,getFilenameFromUrl:bV,getPdfFilenameFromUrl:wV,getRGB:Ig,getUuid:Y3,getXfaPageViewport:CV,GlobalWorkerOptions:Gh,ImageKind:fy,InvalidPDFException:M2,isDataScheme:Mv,isPdfFile:c5,isValidExplicitDest:TV,MathClamp:no,noContextMenu:Yl,normalizeUnicode:yV,OPS:og,OutputScale:Bu,PasswordResponses:gV,PDFDataRangeTransport:lk,PDFDateString:R2,PDFWorker:lg,PermissionFlag:pV,PixelsPerInch:Q0,RenderingCancelledException:l5,renderRichText:Z3,ResponseException:Vy,setLayerDimensions:lf,shadow:zr,SignatureExtractor:i0,stopEvent:Ha,SupportedImageMimeTypes:U2,TextLayer:Gy,TouchManager:Uv,updateUrlHash:W3,Util:Xt,VerbosityLevel:Pv,version:$V,XfaLayer:J3};const D4e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:OA,AnnotationEditorLayer:hd,AnnotationEditorParamsType:nn,AnnotationEditorType:Lr,AnnotationEditorUIManager:DA,AnnotationLayer:dk,AnnotationMode:md,AnnotationType:ms,CSSConstants:NV,ColorPicker:Dl,DOMSVGFactory:Yy,DrawLayer:hi,FeatureTest:bi,GlobalWorkerOptions:Gh,ImageKind:fy,InvalidPDFException:M2,MathClamp:no,OPS:og,OutputScale:Bu,PDFDataRangeTransport:lk,PDFDateString:R2,PDFWorker:lg,PasswordResponses:gV,PermissionFlag:pV,PixelsPerInch:Q0,RenderingCancelledException:l5,ResponseException:Vy,SignatureExtractor:i0,SupportedImageMimeTypes:U2,TextLayer:Gy,TouchManager:Uv,Util:Xt,VerbosityLevel:Pv,XfaLayer:J3,applyOpacity:SV,build:VV,createValidAbsoluteUrl:G3,fetchData:Pg,findContrastColor:BV,getDocument:ik,getFilenameFromUrl:bV,getPdfFilenameFromUrl:wV,getRGB:Ig,getUuid:Y3,getXfaPageViewport:CV,isDataScheme:Mv,isPdfFile:c5,isValidExplicitDest:TV,noContextMenu:Yl,normalizeUnicode:yV,renderRichText:Z3,setLayerDimensions:lf,shadow:zr,stopEvent:Ha,updateUrlHash:W3,version:$V},Symbol.toStringTag,{value:"Module"}));var JM=Object.prototype.hasOwnProperty;function ZM(r,e,t){for(t of r.keys())if(Mp(t,e))return t}function Mp(r,e){var t,n,a;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Mp(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(a=n,a&&typeof a=="object"&&(a=ZM(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(a=n[0],a&&typeof a=="object"&&(a=ZM(e,a),!a)||!Mp(n[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(JM.call(r,t)&&++n&&!JM.call(e,t)||!(t in e)||!Mp(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function zv(r){let e=!1;return{promise:new Promise((n,a)=>{r.then(s=>!e&&n(s)).catch(s=>!e&&a(s))}),cancel(){e=!0}}}const P4e=["onCopy","onCut","onPaste"],I4e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],L4e=["onFocus","onBlur"],M4e=["onInput","onInvalid","onReset","onSubmit"],R4e=["onLoad","onError"],U4e=["onKeyDown","onKeyPress","onKeyUp"],Q4e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],H4e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],z4e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],K4e=["onSelect"],$4e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],V4e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],q4e=["onScroll"],G4e=["onWheel"],W4e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Y4e=["onTransitionEnd"],X4e=["onToggle"],J4e=["onChange"],Z4e=[...P4e,...I4e,...L4e,...M4e,...R4e,...U4e,...Q4e,...H4e,...z4e,...K4e,...$4e,...V4e,...q4e,...G4e,...W4e,...Y4e,...J4e,...X4e];function tq(r,e){const t={};for(const n of Z4e){const a=r[n];a&&(e?t[n]=(s=>a(s,e(n))):t[n]=a)}return t}var rE,eR;function eje(){if(eR)return rE;eR=1;var r=function(){};return rE=r,rE}var tje=eje();const lo=Pc(tje),rq=B.createContext(null),rje="noopener noreferrer nofollow";class nje{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ea(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ea(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||rje,e.target=n?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{ea(this.pdfDocument),ea(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{ea(Array.isArray(t));const n=t[0];new Promise(a=>{ea(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{a(s)}).catch(()=>{ea(!1)}):typeof n=="number"?a(n):ea(!1)}).then(a=>{const s=a+1;ea(this.pdfViewer),ea(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:a,pageNumber:s})})})}goToPage(e){const t=e-1;ea(this.pdfViewer),ea(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Rp({children:r,type:e}){return o.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const tR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function aje(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function cg(){return B.useReducer(aje,{value:void 0,error:void 0})}const A5=typeof window<"u",nq=A5&&window.location.protocol==="file:";function sje(r){return typeof r<"u"}function Yf(r){return sje(r)&&r!==null}function ije(r){return typeof r=="string"}function oje(r){return r instanceof ArrayBuffer}function lje(r){return ea(A5),r instanceof Blob}function Sj(r){return ije(r)&&/^data:/.test(r)}function rR(r){ea(Sj(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function cje(){return A5&&window.devicePixelRatio||1}const aq="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function nR(){lo(!nq,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${aq}`)}function uje(){lo(!nq,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${aq}`)}function z0(r){r?.cancel&&r.cancel()}function Bj(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function dje(r){return r.name==="RenderingCancelledException"}function Aje(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=a=>{if(!a.target)return t(new Error("Error while reading a file."));const{error:s}=a.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:hje}=D4e,fje=(r,e)=>{switch(e){case tR.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case tR.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function aR(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const mje=B.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:s,file:i,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:A="No PDF file specified.",onItemClick:h,onLoadError:p,onLoadProgress:m,onLoadSuccess:y,onPassword:g=fje,onSourceError:v,onSourceSuccess:w,options:S,renderMode:C,rotate:E,scale:_,...L},D){const[P,k]=cg(),{value:z,error:I}=P,[Q,R]=cg(),{value:K,error:ee}=Q,Y=B.useRef(new nje),se=B.useRef([]),X=B.useRef(void 0),Ae=B.useRef(void 0);i&&i!==X.current&&aR(i)&&(lo(!Mp(i,X.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),X.current=i),S&&S!==Ae.current&&(lo(!Mp(S,Ae.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Ae.current=S);const ge=B.useRef({scrollPageIntoView:Ue=>{const{dest:je,pageNumber:J,pageIndex:Ie=J-1}=Ue;if(h){h({dest:je,pageIndex:Ie,pageNumber:J});return}const Ye=se.current[Ie];if(Ye){Ye.scrollIntoView();return}lo(!1,`An internal link leading to page ${J} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});B.useImperativeHandle(D,()=>({linkService:Y,pages:se,viewer:ge}),[]);function Z(){w&&w()}function O(){I&&(lo(!1,I.toString()),v&&v(I))}function H(){k({type:"RESET"})}B.useEffect(H,[i,k]);const V=B.useCallback(async()=>{if(!i)return null;if(typeof i=="string")return Sj(i)?{data:rR(i)}:(nR(),{url:i});if(i instanceof hje)return{range:i};if(oje(i))return{data:i};if(A5&&lje(i))return{data:await Aje(i)};if(ea(typeof i=="object"),ea(aR(i)),"url"in i&&typeof i.url=="string"){if(Sj(i.url)){const{url:Ue,...je}=i;return{data:rR(Ue),...je}}nR()}return i},[i]);B.useEffect(()=>{const Ue=zv(V());return Ue.promise.then(je=>{k({type:"RESOLVE",value:je})}).catch(je=>{k({type:"REJECT",error:je})}),()=>{z0(Ue)}},[V,k]),B.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){O();return}Z()}},[z]);function G(){K&&(y&&y(K),se.current=new Array(K.numPages),Y.current.setDocument(K))}function ae(){ee&&(lo(!1,ee.toString()),p&&p(ee))}B.useEffect(function(){R({type:"RESET"})},[R,z]),B.useEffect(function(){if(!z)return;const je=S?{...z,...S}:z,J=ik(je);m&&(J.onProgress=m),g&&(J.onPassword=g);const Ie=J,Ye=Ie.promise.then(Bt=>{R({type:"RESOLVE",value:Bt})}).catch(Bt=>{Ie.destroyed||R({type:"REJECT",error:Bt})});return()=>{Ye.finally(()=>Ie.destroy())}},[S,R,z]),B.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){ae();return}G()}},[K]),B.useEffect(function(){Y.current.setViewer(ge.current),Y.current.setExternalLinkRel(a),Y.current.setExternalLinkTarget(s)},[a,s]);const ue=B.useCallback((Ue,je)=>{se.current[Ue]=je},[]),Se=B.useCallback(Ue=>{delete se.current[Ue]},[]),te=B.useMemo(()=>({imageResourcesPath:c,linkService:Y.current,onItemClick:h,pdf:K,registerPage:ue,renderMode:C,rotate:E,scale:_,unregisterPage:Se}),[c,h,K,ue,C,E,_,Se]),pe=B.useMemo(()=>tq(L,()=>K),[L,K]);function ke(){function Ue(J){return!!J?.pdf}if(!Ue(te))throw new Error("pdf is undefined");const je=typeof e=="function"?e(te):e;return o.jsx(rq.Provider,{value:te,children:je})}function Ee(){return i?K==null?o.jsx(Rp,{type:"loading",children:typeof u=="function"?u():u}):K===!1?o.jsx(Rp,{type:"error",children:typeof n=="function"?n():n}):ke():o.jsx(Rp,{type:"no-data",children:typeof A=="function"?A():A})}return o.jsx("div",{className:An("react-pdf__Document",t),ref:l,...pe,children:Ee()})});function sq(){return B.useContext(rq)}function iq(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){for(var i=0,l=t;i<l.length;i++){var c=l[i];typeof c=="function"?c(s):c&&(c.current=s)}}}const oq=B.createContext(null);function h5(){return B.useContext(oq)}function pje(){const r=sq(),e=h5();ea(e);const t={...r,...e},{imageResourcesPath:n,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:i,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:A,renderForms:h,rotate:p,scale:m=1}=t;ea(A),ea(u),ea(a);const[y,g]=cg(),{value:v,error:w}=y,S=B.useRef(null);lo(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){v&&i&&i(v)}function E(){w&&(lo(!1,w.toString()),s&&s(w))}B.useEffect(function(){g({type:"RESET"})},[g,u]),B.useEffect(function(){if(!u)return;const k=zv(u.getAnnotations()),z=k;return k.promise.then(I=>{g({type:"RESOLVE",value:I})}).catch(I=>{g({type:"REJECT",error:I})}),()=>{z0(z)}},[g,u]),B.useEffect(()=>{if(v!==void 0){if(v===!1){E();return}C()}},[v]);function _(){c&&c()}function L(P){lo(!1,`${P}`),l&&l(P)}const D=B.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);return B.useEffect(function(){if(!A||!u||!a||!v)return;const{current:k}=S;if(!k)return;const z=D.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:A.annotationStorage,commentManager:null,div:k,l10n:null,linkService:a,page:u,structTreeLayer:null,viewport:z},Q={annotations:v,annotationStorage:A.annotationStorage,div:k,imageResourcesPath:n,linkService:a,page:u,renderForms:h,viewport:z};k.innerHTML="";try{new dk(I).render(Q),_()}catch(R){L(R)}return()=>{}},[v,n,a,u,A,h,D]),o.jsx("div",{className:An("react-pdf__Page__annotations","annotationLayer"),ref:S})}const lq={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},gje=/^H(\d+)$/;function xje(r){return r in lq}function f5(r){return"children"in r}function cq(r){return f5(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function yje(r){const e={};if(f5(r)){const{role:t}=r,n=t.match(gje);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(xje(t)){const a=lq[t];a&&(e.role=a)}}return e}function uq(r){const e={};if(f5(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),cq(r)){const[t]=r.children;if(t){const n=uq(t);return{...e,...n}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function vje(r){return r?{...yje(r),...uq(r)}:null}function dq({className:r,node:e}){const t=B.useMemo(()=>vje(e),[e]),n=B.useMemo(()=>!f5(e)||cq(e)?null:e.children.map((a,s)=>o.jsx(dq,{node:a},s)),[e]);return o.jsx("span",{className:r,...t,children:n})}function bje(){const r=h5();ea(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,a]=cg(),{value:s,error:i}=n,{customTextRenderer:l,page:c}=r;function u(){s&&t&&t(s)}function A(){i&&(lo(!1,i.toString()),e&&e(i))}return B.useEffect(function(){a({type:"RESET"})},[a,c]),B.useEffect(function(){if(l||!c)return;const p=zv(c.getStructTree()),m=p;return p.promise.then(y=>{a({type:"RESOLVE",value:y})}).catch(y=>{a({type:"REJECT",error:y})}),()=>z0(m)},[l,c,a]),B.useEffect(()=>{if(s!==void 0){if(s===!1){A();return}u()}},[s]),s?o.jsx(dq,{className:"react-pdf__Page__structTree structTree",node:s}):null}const sR=md;function wje(r){const e=h5();ea(e);const t={...e,...r},{_className:n,canvasBackground:a,devicePixelRatio:s=cje(),onRenderError:i,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:A,rotate:h,scale:p}=t,{canvasRef:m}=r;ea(c);const y=B.useRef(null);function g(){c&&l&&l(Bj(c,p))}function v(E){dje(E)||(lo(!1,E.toString()),i&&i(E))}const w=B.useMemo(()=>c.getViewport({scale:p*s,rotation:h}),[s,c,h,p]),S=B.useMemo(()=>c.getViewport({scale:p,rotation:h}),[c,h,p]);B.useEffect(function(){if(!c)return;c.cleanup();const{current:_}=y;if(!_)return;_.width=w.width,_.height=w.height,_.style.width=`${Math.floor(S.width)}px`,_.style.height=`${Math.floor(S.height)}px`,_.style.visibility="hidden";const L={annotationMode:u?sR.ENABLE_FORMS:sR.ENABLE,canvas:_,canvasContext:_.getContext("2d",{alpha:!1}),viewport:w};a&&(L.background=a);const D=c.render(L),P=D;return D.promise.then(()=>{_.style.visibility="",g()}).catch(v),()=>z0(P)},[a,c,u,w,S]);const C=B.useCallback(()=>{const{current:E}=y;E&&(E.width=0,E.height=0)},[]);return B.useEffect(()=>C,[C]),o.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:iq(m,y),style:{display:"block",userSelect:"none"},children:A?o.jsx(bje,{}):null})}function Cje(r){return"str"in r}function Nje(){const r=h5();ea(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:i,pageIndex:l,pageNumber:c,rotate:u,scale:A}=r;ea(i);const[h,p]=cg(),{value:m,error:y}=h,g=B.useRef(null);lo(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&n&&n(m)}function w(){y&&(lo(!1,y.toString()),t&&t(y))}B.useEffect(function(){p({type:"RESET"})},[i,p]),B.useEffect(function(){if(!i)return;const P=zv(i.getTextContent()),k=P;return P.promise.then(z=>{p({type:"RESOLVE",value:z})}).catch(z=>{p({type:"REJECT",error:z})}),()=>z0(k)},[i,p]),B.useEffect(()=>{if(m!==void 0){if(m===!1){w();return}v()}},[m]);const S=B.useCallback(()=>{s&&s()},[s]),C=B.useCallback(D=>{lo(!1,D.toString()),a&&a(D)},[a]);function E(){const D=g.current;D&&D.classList.add("selecting")}function _(){const D=g.current;D&&D.classList.remove("selecting")}const L=B.useMemo(()=>i.getViewport({scale:A,rotation:u}),[i,u,A]);return B.useLayoutEffect(function(){if(!i||!m)return;const{current:P}=g;if(!P)return;P.innerHTML="";const k=i.streamTextContent({includeMarkedContent:!0}),z={container:P,textContentSource:k,viewport:L},I=new Gy(z),Q=I;return I.render().then(()=>{const R=document.createElement("div");R.className="endOfContent",P.append(R);const K=P.querySelectorAll('[role="presentation"]');if(e){let ee=0;m.items.forEach((Y,se)=>{if(!Cje(Y))return;const X=K[ee];if(!X)return;const Ae=e({pageIndex:l,pageNumber:c,itemIndex:se,...Y});X.innerHTML=Ae,ee+=Y.str&&Y.hasEOL?2:1})}S()}).catch(C),()=>z0(Q)},[e,C,S,i,l,c,m,L]),o.jsx("div",{className:An("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:E,ref:g})}const iR=1;function Sje(r){const t={...sq(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:i,children:l,className:c,customRenderer:u,customTextRenderer:A,devicePixelRatio:h,error:p="Failed to load the page.",height:m,inputRef:y,loading:g="Loading page",noData:v="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:S,onGetStructTreeError:C,onGetStructTreeSuccess:E,onGetTextError:_,onGetTextSuccess:L,onLoadError:D,onLoadSuccess:P,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:z,onRenderError:I,onRenderSuccess:Q,onRenderTextLayerError:R,onRenderTextLayerSuccess:K,pageIndex:ee,pageNumber:Y,pdf:se,registerPage:X,renderAnnotationLayer:Ae=!0,renderForms:ge=!1,renderMode:Z="canvas",renderTextLayer:O=!0,rotate:H,scale:V=iR,unregisterPage:G,width:ae,...ue}=t,[Se,te]=cg(),{value:pe,error:ke}=Se,Ee=B.useRef(null);ea(se);const Ue=Yf(Y)?Y-1:ee??null,je=Y??(Yf(ee)?ee+1:null),J=H??(pe?pe.rotate:null),Ie=B.useMemo(()=>{if(!pe)return null;let bt=1;const St=V??iR;if(ae||m){const Be=pe.getViewport({scale:1,rotation:J});ae?bt=ae/Be.width:m&&(bt=m/Be.height)}return St*bt},[m,pe,J,V,ae]);B.useEffect(function(){return()=>{Yf(Ue)&&a&&G&&G(Ue)}},[a,se,Ue,G]);function Ye(){if(P){if(!pe||!Ie)return;P(Bj(pe,Ie))}if(a&&X){if(!Yf(Ue)||!Ee.current)return;X(Ue,Ee.current)}}function Bt(){ke&&(lo(!1,ke.toString()),D&&D(ke))}B.useEffect(function(){te({type:"RESET"})},[te,se,Ue]),B.useEffect(function(){if(!se||!je)return;const St=zv(se.getPage(je)),Be=St;return St.promise.then(st=>{te({type:"RESOLVE",value:st})}).catch(st=>{te({type:"REJECT",error:st})}),()=>z0(Be)},[te,se,je]),B.useEffect(()=>{if(pe!==void 0){if(pe===!1){Bt();return}Ye()}},[pe,Ie]);const it=B.useMemo(()=>Yf(Ue)&&je&&Yf(J)&&Yf(Ie)?{_className:n,canvasBackground:s,customTextRenderer:A,devicePixelRatio:h,onGetAnnotationsError:w,onGetAnnotationsSuccess:S,onGetStructTreeError:C,onGetStructTreeSuccess:E,onGetTextError:_,onGetTextSuccess:L,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:z,onRenderError:I,onRenderSuccess:Q,onRenderTextLayerError:R,onRenderTextLayerSuccess:K,page:pe,pageIndex:Ue,pageNumber:je,renderForms:ge,renderTextLayer:O,rotate:J,scale:Ie}:null,[n,s,A,h,w,S,C,E,_,L,k,z,I,Q,R,K,pe,Ue,je,ge,O,J,Ie]),Xe=B.useMemo(()=>tq(ue,()=>pe&&(Ie?Bj(pe,Ie):void 0)),[ue,pe,Ie]),ft=`${Ue}@${Ie}/${J}`;function Et(){switch(Z){case"custom":return ea(u),o.jsx(u,{},`${ft}_custom`);case"none":return null;default:return o.jsx(wje,{canvasRef:i},`${ft}_canvas`)}}function Le(){return O?o.jsx(Nje,{},`${ft}_text`):null}function yt(){return Ae?o.jsx(pje,{},`${ft}_annotations`):null}function Oe(){function bt(Be){return!!Be?.page}if(!bt(it))throw new Error("page is undefined");const St=typeof l=="function"?l(it):l;return o.jsxs(oq.Provider,{value:it,children:[Et(),Le(),yt(),St]})}function at(){return je?se===null||pe===void 0||pe===null?o.jsx(Rp,{type:"loading",children:typeof g=="function"?g():g}):se===!1||pe===!1?o.jsx(Rp,{type:"error",children:typeof p=="function"?p():p}):Oe():o.jsx(Rp,{type:"no-data",children:typeof v=="function"?v():v})}return o.jsx("div",{className:An(n,c),"data-page-number":je,ref:iq(y,Ee),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ie}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Xe,children:at()})}uje();Gh.workerSrc="pdf.worker.mjs";const Bje=({isOpen:r,onClose:e,pdfSource:t,fileName:n,title:a})=>{const[s,i]=B.useState(0),[l,c]=B.useState(1),[u,A]=B.useState(1),[h,p]=B.useState(""),[m,y]=B.useState(!0),[g,v]=B.useState(null),[w,S]=B.useState(!1),C=()=>t instanceof Blob?t.size/1048576>3:!1,E=async R=>{if(R instanceof Blob)return R;if(typeof R=="string"&&R.startsWith("data:")){const ee=await(await fetch(R)).blob();if(ee.type!=="application/pdf")throw new Error("Invalid PDF format");return ee}if(typeof R=="string"){const K=await fetch(R);if(!K.ok)throw new Error(`HTTP ${K.status}: ${K.statusText}`);return await K.blob()}throw new Error("Invalid PDF source format")};B.useEffect(()=>{if(!r)return;let R,K=!1;return(async()=>{try{y(!0),v(null),c(1);const Y=await E(t);R=URL.createObjectURL(Y),K=!0,p(R),C()&&(console.log("Auto-switching to browser viewer for large/complex PDF"),setTimeout(()=>{S(!0),y(!1)},1e3))}catch(Y){Rt.error("PDF normalization error:",Y),v(Y.message||"Failed to process PDF data"),y(!1)}})(),()=>{K&&R&&URL.revokeObjectURL(R)}},[t,r]),B.useEffect(()=>{if(!r||!m||w)return;const R=setTimeout(()=>{m&&(console.warn("PDF loading timeout - switching to browser viewer"),v("React-PDF viewer is taking too long. Switching to browser viewer for better performance."),setTimeout(()=>{S(!0),y(!1)},2e3))},15e3);return()=>clearTimeout(R)},[r,m,w]);const _=({numPages:R})=>{console.log("PDF loaded successfully with react-pdf:",{numPages:R}),i(R),y(!1),v(null)},L=R=>{Rt.error("React-PDF load error:",R),console.log("React-PDF failed, switching to browser viewer"),v("React-PDF viewer had issues. Switching to browser viewer for compatibility."),setTimeout(()=>{S(!0),y(!1)},1500)},D=()=>{c(R=>Math.max(R-1,1))},P=()=>{c(R=>Math.min(R+1,s))},k=()=>{A(R=>Math.min(R+.25,3))},z=()=>{A(R=>Math.max(R-.25,.5))},I=()=>{A(1)},Q=()=>{if(t instanceof Blob){const R=URL.createObjectURL(t),K=document.createElement("a");K.href=R,K.download=n,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(R)}else{const R=document.createElement("a");R.href=t,R.download=n,R.click()}ye.success("PDF downloaded successfully")};return r?o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:a||n}),a&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:n})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors ml-4","aria-label":"Close PDF viewer",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>S(!1),className:`px-3 py-1 text-sm rounded transition-colors ${w?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300":"bg-primary-600 text-white"}`,children:"Enhanced Viewer"}),o.jsx("button",{onClick:()=>S(!0),className:`px-3 py-1 text-sm rounded transition-colors ${w?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:"Browser Viewer"})]}),!w&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:z,disabled:u<=.5,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom Out (-)",children:o.jsx(xte,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-medium min-w-[60px] text-center text-gray-900 dark:text-white",children:[Math.round(u*100),"%"]}),o.jsx("button",{onClick:k,disabled:u>=3,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom In (+)",children:o.jsx(pte,{className:"w-4 h-4"})}),o.jsx("button",{onClick:I,className:"px-3 py-1 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-900 dark:text-white",title:"Reset Zoom",children:"Reset"})]}),s>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:D,disabled:l<=1,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Previous Page ()",children:o.jsx(n7,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",min:1,max:s,value:l,onChange:R=>{const K=parseInt(R.target.value);K>=1&&K<=s&&c(K)},className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded text-center text-sm"}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["/ ",s]})]}),o.jsx("button",{onClick:P,disabled:l>=s,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Next Page ()",children:o.jsx(gA,{className:"w-4 h-4"})})]})]}),o.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(LA,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 p-4",children:[m&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4 mx-auto"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."}),t instanceof Blob&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["File size: ",(t.size/(1024*1024)).toFixed(2)," MB",C()&&o.jsx("span",{className:"text-blue-600 ml-2",children:" Using browser viewer for better performance"})]})]})}),g&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-center mb-4",children:[o.jsx(Jh,{className:"w-6 h-6 text-yellow-500 mr-2"}),o.jsx("p",{className:"text-yellow-600 dark:text-yellow-400",children:g})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("button",{onClick:()=>{S(!0),v(null),y(!1)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Try Browser Viewer (Recommended)"}),o.jsx("button",{onClick:Q,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Download PDF Instead"})]})]})}),w&&h&&!m&&!g&&o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 p-2 mb-2 rounded text-center",children:o.jsx("p",{className:"text-sm text-blue-800",children:" Using browser PDF viewer - best compatibility and performance"})}),o.jsx("iframe",{src:h,className:"flex-1 w-full border border-gray-300 rounded",title:"PDF Viewer",style:{minHeight:"600px"}})]}),!w&&h&&!m&&!g&&o.jsx("div",{className:"flex justify-center",children:o.jsx(mje,{file:h,onLoadSuccess:_,onLoadError:L,loading:o.jsx("div",{className:"text-center p-8",children:"Loading PDF content..."}),error:o.jsx("div",{className:"text-center p-8 text-red-600",children:"Failed to load PDF content"}),children:o.jsx(Sje,{pageNumber:l,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})})]})]})}):null},Eje=({attachments:r,onFilesAdded:e,onFileRemoved:t,maxFiles:n=VB.maxFiles,maxFileSize:a=VB.maxFileSize,allowMultiple:s=!0})=>{const[i,l]=B.useState(!1),[c,u]=B.useState(!1),[A,h]=B.useState(null),p=Bo(),m=B.useCallback(_=>{_.preventDefault(),_.stopPropagation()},[]),y=B.useCallback(_=>{_.preventDefault(),_.stopPropagation(),_.dataTransfer.items&&_.dataTransfer.items.length>0&&l(!0)},[]),g=B.useCallback(_=>{_.preventDefault(),_.stopPropagation(),l(!1)},[]),v=async _=>{const L=Array.from(_);if(r.length+L.length>n){ye.error(`Maximum ${n} files allowed`);return}const D=[];for(const P of L){if(P.size>a){ye.error(`${P.name} exceeds maximum size of ${qB(a)}`);continue}if(!VB.allowedTypes.includes(P.type)){ye.error(`${P.name} - File type not supported`);continue}const k=new FileReader;k.onload=()=>{const z={id:`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fileName:P.name,fileType:P.type,fileSize:P.size,fileExtension:qBe(P.name),uploadedDate:new Date().toISOString(),uploadedBy:p?.id||"",uploadedByName:p?.name||"",fileData:k.result};D.push(z),D.length===L.length&&(e(D),ye.success(`${D.length} file(s) uploaded successfully`))},k.onerror=()=>{ye.error(`Error reading ${P.name}`)},k.readAsDataURL(P)}},w=B.useCallback(_=>{_.preventDefault(),_.stopPropagation(),l(!1);const L=_.dataTransfer.files;L&&L.length>0&&v(L)},[r.length,n,a,e]),S=_=>{_.target.files&&_.target.files.length>0&&v(_.target.files)},C=_=>_.startsWith("image/")?o.jsx(Pw,{className:"w-5 h-5"}):_==="application/pdf"?o.jsx($a,{className:"w-5 h-5"}):_.includes("sheet")||_.includes("excel")?o.jsx(zee,{className:"w-5 h-5"}):o.jsx(XZ,{className:"w-5 h-5"}),E=_=>{const L=document.createElement("a");L.href=_.fileData,L.download=_.fileName,L.click()};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{onDragEnter:y,onDragLeave:g,onDragOver:m,onDrop:w,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-primary-500 bg-indigo-50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,children:[o.jsx(Fo,{className:`w-12 h-12 mx-auto mb-4 ${i?"text-primary-600":"text-gray-400"}`}),o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Drag & drop files here, or click to browse"}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["PDF, Images, Excel, Word (max ",qB(a),")"]}),o.jsx("input",{type:"file",multiple:s,accept:".pdf,.jpg,.jpeg,.png,.xlsx,.xls,.docx,.doc",onChange:S,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 cursor-pointer transition-colors",children:[o.jsx(Fo,{className:"w-4 h-4"}),"Choose Files"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.length," / ",n," files uploaded"]})]}),r.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Attached Files (",r.length,")"]}),o.jsx("div",{className:"space-y-2",children:r.map(_=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:C(_.fileType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_.fileName}),o.jsxs("p",{className:"text-xs text-gray-500",children:[qB(_.fileSize),"  ",new Date(_.uploadedDate).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[_.fileType==="application/pdf"&&o.jsxs("button",{onClick:()=>{if(!_.fileData||_.fileData.trim().length===0){ye.error("PDF data is missing or corrupted");return}h(_),u(!0)},className:"px-3 py-1 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(vi,{className:"w-3 h-3"}),"Preview"]}),o.jsxs("button",{onClick:()=>E(_),className:"px-3 py-1 text-xs font-medium text-primary-600 hover:bg-indigo-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(LA,{className:"w-3 h-3"}),"Download"]}),o.jsx("button",{onClick:()=>t(_.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove file",children:o.jsx(Rr,{className:"w-4 h-4"})})]})]},_.id))})]}),c&&A&&o.jsx(Bje,{isOpen:c,onClose:()=>{u(!1),h(null)},pdfSource:`data:application/pdf;base64,${A.fileData}`,fileName:A.fileName,title:`Preview: ${A.fileName}`})]})},Aq=({value:r,onChange:e,disabled:t,className:n})=>{const a=[{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"THB",name:"Thai Baht",symbol:""},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"PHP",name:"Philippine Peso",symbol:""},{code:"VND",name:"Vietnamese Dong",symbol:""},{code:"BND",name:"Brunei Dollar",symbol:"B$"},{code:"INR",name:"Indian Rupee",symbol:""},{code:"CNY",name:"Chinese Yuan",symbol:""},{code:"JPY",name:"Japanese Yen",symbol:""},{code:"KRW",name:"South Korean Won",symbol:""},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"}];return o.jsx("select",{value:r,onChange:s=>e(s.target.value),disabled:t,className:n||"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",children:a.map(s=>o.jsxs("option",{value:s.code,children:[s.code," - ",s.name," (",s.symbol,")"]},s.code))})},jje=({isOpen:r,onClose:e})=>{const[t,n]=B.useState({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",plannedHours:""}),[a,s]=B.useState(!1),[i,l]=B.useState(1),[c,u]=B.useState(0),[A,h]=B.useState(null),[p,m]=B.useState(!1),[y,g]=B.useState(""),{projects:v,fetchProjects:w}=is(),{clients:S,fetchClients:C}=ff(),{companies:E,fetchCompanies:_}=Sd();if(B.useEffect(()=>{r&&(C(),w(),_())},[r,C,w,_]),B.useEffect(()=>{(async()=>{if(t.currency==="MYR"){l(1),u(parseFloat(t.amount)||0);return}if(p&&y){const k=parseFloat(y);l(k),u(parseFloat(t.amount)*k)}else if(!p)if(t.currency!=="MYR"&&t.amount)try{const k=await wr.convertCurrency(parseFloat(t.amount),t.currency);l(k.rate),u(k.amountMYR)}catch(k){Rt.error("Failed to fetch exchange rate:",k),l(1),u(parseFloat(t.amount)||0)}else l(1),u(parseFloat(t.amount)||0)})()},[t.currency,t.amount,p,y]),B.useEffect(()=>{if(t.projectId&&v.length>0){const P=v.find(k=>k.id===t.projectId);h(P)}else h(null)},[t.projectId,v]),!r)return null;const L=async P=>{if(P.preventDefault(),Rt.debug("Form data on submit:",{poNumber:t.poNumber,projectCode:t.projectCode,clientName:t.clientName,amount:t.amount,receivedDate:t.receivedDate}),!t.poNumber||!t.amount||!t.receivedDate||!t.projectCode||!t.clientName){const k=[];t.poNumber||k.push("PO Number"),t.projectCode||k.push("Project Code"),t.clientName||k.push("Client Name"),t.amount||k.push("Amount"),t.receivedDate||k.push("Received Date"),Rt.error("Missing required fields:",k),ye.error(`Please fill in all required fields. Missing: ${k.join(", ")}`);return}s(!0);try{const k=await wr.createPurchaseOrder({poNumber:t.poNumber,clientName:t.clientName,projectCode:t.projectCode||"",amount:parseFloat(t.amount),currency:t.currency,receivedDate:t.receivedDate,dueDate:t.dueDate||void 0,description:t.description||void 0,plannedHours:t.plannedHours?parseFloat(t.plannedHours):void 0,customExchangeRate:p?parseFloat(y):void 0});Rt.debug("PO created successfully:",k),k.projectStatusUpdated?ye.success(`PO ${t.poNumber} created successfully! Project ${t.projectCode} status updated to 'ongoing'.`,{duration:5e3}):ye.success(`PO ${t.poNumber} created successfully!`),await w(),e(),n({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",plannedHours:""}),h(null)}catch(k){Rt.error("Failed to create PO:",k);const z=k?.response?.data?.error||"Failed to create purchase order";ye.error(z)}finally{s(!1)}},D=P=>{n({...t,[P.target.name]:P.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Received PO"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:L,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:t.poNumber,onChange:D,required:!0,placeholder:"e.g., PO-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:t.clientName,onChange:D,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Auto-filled from project or enter manually"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from project or enter manually if needed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,name:"projectId",value:t.projectId,onChange:P=>{console.log("Project dropdown changed:",P.target.value);const k=v.find(z=>z.id===P.target.value);if(console.log("Found project:",k),P.target.value==="")n({...t,projectId:"",projectCode:"",clientId:"",clientName:""});else{let z=k?.companyId?S.find(Q=>Q.id===k.companyId):null;!z&&k?.companyId&&(z=E.find(Q=>Q.id===k.companyId)),console.log("Matching client from stores:",z),console.log("Project clientName:",k?.companyName);const I=z?.name||k?.companyName||"Unknown Client";console.log("Final client name:",I),n({...t,projectId:P.target.value,projectCode:k?.projectCode||"",clientId:k?.companyId||"",clientName:I}),I!=="Unknown Client"||Rt.warn("No client name available for project:",k?.projectCode,"- clientId:",k?.companyId)}},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),v.filter(P=>P.status==="pre-lim"||P.status==="ongoing").map(P=>o.jsxs("option",{value:P.id,children:[P.projectCode," - ",P.title," (",P.status==="pre-lim"?"Pre-lim":"Ongoing",")"]},P.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:D,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),o.jsx(Aq,{value:t.currency,onChange:P=>n({...t,currency:P})})]}),t.currency!=="MYR"&&t.amount&&o.jsxs("div",{className:"mt-3 space-y-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Exchange Rate (1 ",t.currency," to MYR)"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",step:"0.000001",min:"0",value:p?y:i.toFixed(6),onChange:P=>{m(!0),g(P.target.value)},placeholder:"Enter exchange rate",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),!p&&o.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Auto-fetched"})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Converted Amount:"}),o.jsxs("span",{className:"text-lg font-semibold text-green-700",children:["RM ",c.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:t.receivedDate,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:t.dueDate,onChange:D,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Update Project Planned Hours",o.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Optional)"})]}),A&&A.plannedHours&&o.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:["Current: ",A.plannedHours," hrs"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",name:"plannedHours",value:t.plannedHours,onChange:D,min:"0",step:"1",placeholder:"Enter new planned hours (optional)",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),t.plannedHours&&o.jsx("p",{className:"text-xs text-gray-500",children:"Will overwrite current value"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:t.description,onChange:D,rows:3,placeholder:"Brief description of PO items/services...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Fo,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Add Received PO"})]})]})]})})},_je=({isOpen:r,onClose:e})=>{const{projects:t,fetchProjects:n}=is(),{companies:a,fetchCompanies:s}=Sd(),[i,l]=B.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),[c,u]=B.useState(null),[A,h]=B.useState(0),[p,m]=B.useState(null),[y,g]=B.useState(!1),[v,w]=B.useState(!1),C=t.find(P=>P.id===i.projectId)?.billingType==="lump_sum";B.useEffect(()=>{r&&(s(),n())},[r,s,n]),B.useEffect(()=>{r&&!i.invoiceNumber&&E()},[r]),B.useEffect(()=>{i.projectCode&&i.projectCode.trim()?_(i.projectCode.trim()):u(null)},[i.projectCode]),B.useEffect(()=>{if(i.projectId&&t.length>0&&a.length>0){const P=t.find(k=>k.id===i.projectId);if(P&&P.companyId){const k=a.find(z=>z.id===P.companyId);k&&i.companyId!==P.companyId&&l(z=>({...z,companyId:P.companyId,clientName:k.name||""}))}}},[i.projectId,t,a]);const E=async()=>{try{const P=await lr.getNextInvoiceNumber();l(k=>({...k,invoiceNumber:P}))}catch(P){Rt.error("Error loading next invoice number:",P)}},_=async P=>{g(!0);try{const k=await lr.getInvoiceProjectContext(P);u(k),h(k.projectTotalValue||0)}catch(k){Rt.error("Error loading project context:",k),u(null),h(0)}finally{g(!1)}};if(B.useEffect(()=>{if(p==="percentage"&&A>0){const P=parseFloat(i.percentageOfTotal);if(!isNaN(P)){const k=Math.round(A*P*100)/1e4;l(z=>({...z,amount:k.toFixed(2)}))}}},[i.percentageOfTotal,p,A]),B.useEffect(()=>{if(p==="amount"&&A>0){const P=parseFloat(i.amount);if(!isNaN(P)){const k=Math.round(P/A*100*100)/100;l(z=>({...z,percentageOfTotal:k.toFixed(2)}))}}},[i.amount,p,A]),!r)return null;const L=async P=>{P.preventDefault(),w(!0);try{const k={invoice_number:i.invoiceNumber,project_id:i.projectId,project_name:i.projectName,project_code:i.projectCode,company_id:i.companyId,client_name:i.clientName,amount:parseFloat(i.amount),percentage_of_total:parseFloat(i.percentageOfTotal),issue_date:i.issueDate,due_date:i.dueDate,description:i.description,remark:i.remark};await lr.createInvoice(k),ye.success(`Invoice ${i.invoiceNumber} created successfully!`),l({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),u(null),e()}catch(k){Rt.error("Error creating invoice:",k),ye.error(k.message||"Failed to create invoice")}finally{w(!1)}},D=P=>{l(k=>({...k,[P.target.name]:P.target.value})),P.target.name==="amount"?m("amount"):P.target.name==="percentageOfTotal"&&m("percentage")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Invoice"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:L,className:"p-6 space-y-5",children:[c&&o.jsx("div",{className:`border rounded-lg p-4 space-y-2 ${C?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(y_,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${C?"text-purple-600":"text-blue-600"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("p",{className:`text-sm font-medium ${C?"text-purple-900":"text-blue-900"}`,children:C?"Lump Sum Project":"Project Invoice History"}),C&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full",children:"Fixed Amount"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:c.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:[c.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:[c.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:c.nextSequence||1})]})]}),c.totalInvoiced>=100&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-700",children:[o.jsx(p_,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Project already at 100%"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:i.invoiceNumber,onChange:D,required:!0,placeholder:"e.g., MCE1548",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated but can be edited manually"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:i.projectId,onChange:P=>{const k=t.find(z=>z.id===P.target.value);P.target.value===""?l({...i,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:"",percentageOfTotal:""}):l({...i,projectId:P.target.value,projectCode:k?.projectCode||"",projectName:k?.title||"",companyId:k?.companyId||"",clientName:""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),t.filter(P=>P.status==="ongoing").map(P=>o.jsxs("option",{value:P.id,children:[P.projectCode," - ",P.title]},P.id))]}),y&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading project context..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"projectName",value:i.projectName,onChange:D,required:!0,placeholder:"Project title",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:i.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:D,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),A>0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project Total: RM ",A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),p==="percentage"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from percentage"})]})]}),!C&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:i.percentageOfTotal,onChange:D,required:!C,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",c.remainingPercentage,"% remaining",p==="amount"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from amount"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:i.issueDate,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Due Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"dueDate",value:i.dueDate,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:i.description,onChange:D,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:i.remark,onChange:D,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Fo,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach Invoice Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the invoice, you can upload the PDF document in the invoice details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating...":"Create Invoice"})]})]})]})})},Tje=({isOpen:r,onClose:e,invoice:t,onSave:n})=>{const{projects:a,fetchProjects:s}=is(),{clients:i,fetchClients:l}=ff(),c=Bo(),[u,A]=B.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:"",dueDate:"",description:"",remark:"",status:"sent"}),[h,p]=B.useState(null),[m,y]=B.useState(0),[g,v]=B.useState(null),[w,S]=B.useState(!1),[C,E]=B.useState({}),_=c&&sl(c.roles,"canEditInvoices");B.useEffect(()=>{r&&(l(),s())},[r,l,s]),B.useEffect(()=>{t&&A({invoiceNumber:t.invoiceNumber,projectId:t.companyId||"",projectName:t.projectName||"",projectCode:t.projectCode||"",companyId:t.companyId||"",clientName:t.clientName||"",amount:t.amount?.toString()||"",percentageOfTotal:t.percentage_of_total?.toString()||"",issueDate:t.invoice_date?new Date(t.invoice_date).toISOString().split("T")[0]:"",dueDate:t.due_date?new Date(t.due_date).toISOString().split("T")[0]:"",description:t.description||"",remark:t.remark||"",status:t.status||"sent"})},[t]),B.useEffect(()=>{u.projectCode&&u.projectCode.trim()?(async z=>{try{const I=await lr.getInvoiceProjectContext(z);p(I),y(I.projectTotalValue||0)}catch(I){Rt.error("Error loading project context:",I),p(null),y(0)}})(u.projectCode.trim()):(p(null),y(0))},[u.projectCode]),B.useEffect(()=>{if(u.projectId&&a.length>0&&i.length>0){const k=a.find(z=>z.id===u.projectId);if(k&&k.companyId){const z=i.find(I=>I.id===k.companyId);z&&u.companyId!==k.companyId&&A(I=>({...u,companyId:k.companyId,clientName:z.name||""}))}}},[u.projectId,a,i]),B.useEffect(()=>{if(g==="percentage"&&m>0){const k=parseFloat(u.percentageOfTotal);if(!isNaN(k)){const z=Math.round(m*k*100)/1e4;A(I=>({...I,amount:z.toFixed(2)}))}}},[u.percentageOfTotal,g,m]),B.useEffect(()=>{if(g==="amount"&&m>0){const k=parseFloat(u.amount);if(!isNaN(k)){const z=Math.round(k/m*100*100)/100;A(I=>({...I,percentageOfTotal:z.toFixed(2)}))}}},[u.amount,g,m]);const L=()=>{const k={};return u.invoiceNumber.trim()||(k.invoiceNumber="Invoice number is required"),u.projectCode.trim()||(k.projectCode="Project is required"),(!u.amount||parseFloat(u.amount)<=0)&&(k.amount="Valid amount is required"),(!u.percentageOfTotal||parseFloat(u.percentageOfTotal)<=0)&&(k.percentageOfTotal="Valid percentage is required"),u.issueDate||(k.issueDate="Issue date is required"),E(k),Object.keys(k).length===0},D=async k=>{if(k.preventDefault(),!_){ye.error("You do not have permission to edit invoices");return}if(L()&&!(t.status==="paid"&&!window.confirm("This invoice is marked as PAID. Are you sure you want to edit it?"))&&!(u.status==="paid"&&t.status!=="paid"&&!window.confirm("Are you sure you want to mark this invoice as PAID? This action cannot be easily undone."))){S(!0);try{const z={invoiceNumber:u.invoiceNumber,project_name:u.projectName,project_code:u.projectCode,company_id:u.companyId,client_name:u.clientName,amount:parseFloat(u.amount),percentage_of_total:parseFloat(u.percentageOfTotal),issue_date:u.issueDate,due_date:u.dueDate,description:u.description,remark:u.remark,status:u.status};await lr.updateInvoice(t.id,z),ye.success(`Invoice ${u.invoiceNumber} updated successfully!`),n(z),e()}catch(z){Rt.error("Error updating invoice:",z),ye.error(z.message||"Failed to update invoice")}finally{S(!1)}}},P=k=>{A(z=>({...z,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:"",dueDate:"",description:"",remark:"",status:"sent"})),k.target.name==="amount"?v("amount"):k.target.name==="percentageOfTotal"&&v("percentage")};return r?_?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ko,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Invoice"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:D,className:"p-6 space-y-5",children:[t.status==="paid"&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Jh,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Paid Invoice Warning"}),o.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"This invoice is marked as paid. Editing paid invoices should be done with caution."})]})]})}),h&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Project Invoice History"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:h.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[h.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[h.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:h.nextSequence||1})]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:u.invoiceNumber,onChange:P,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.invoiceNumber&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.invoiceNumber}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Can be edited manually"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"status",value:u.status,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"overdue",children:"Overdue"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:u.projectId,onChange:k=>{a.find(z=>z.id===k.target.value),k.target.value===""&&A({...u,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.map(k=>o.jsxs("option",{value:k.id,children:[k.projectCode," - ",k.title]},k.id))]}),C.projectCode&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.projectCode})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:u.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:u.amount,onChange:P,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.amount&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.amount}),m>0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project Total: RM ",m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),g==="percentage"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from percentage"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:u.percentageOfTotal,onChange:P,required:!0,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.percentageOfTotal&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.percentageOfTotal}),h&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",h.remainingPercentage,"% remaining",g==="amount"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from amount"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:u.issueDate,onChange:P,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.issueDate&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.issueDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:u.dueDate,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:u.description,onChange:P,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:u.remark,onChange:P,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o.jsx(l7,{className:"w-4 h-4"}),w?"Updating...":"Update Invoice"]})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[o.jsx(Jh,{className:"w-6 h-6"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Access Denied"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit invoices. Please contact your manager if you need access."}),o.jsx("button",{onClick:e,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})}):null},kje=({isOpen:r,onClose:e,onSuccess:t})=>{const{projects:n,fetchProjects:a}=is(),{companies:s,fetchCompanies:i}=Sd(),[l,c]=B.useState(!1),[u,A]=B.useState(null),[h,p]=B.useState({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""});if(B.useEffect(()=>{r&&(i(),a())},[r,i,a]),!r)return null;const m=async g=>{g.preventDefault(),c(!0),A(null);try{const v={poNumber:h.poNumber,recipient:h.vendorName,companyId:h.vendorId,items:h.description,amount:parseFloat(h.amount),currency:"MYR",projectCode:h.projectCode||null,issueDate:new Date(h.issueDate).toISOString(),dueDate:h.deliveryDate?new Date(h.deliveryDate).toISOString():void 0,status:"issued"};await wr.createIssuedPO(v),ye.success(`Issued PO ${h.poNumber} created successfully!`),p({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""}),t&&t(),e()}catch(v){A(v.response?.data?.error||v.message||"Failed to create Issued PO"),ye.error("Failed to create Issued PO")}finally{c(!1)}},y=g=>{p({...h,[g.target.name]:g.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Issue PO to Vendor"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:h.poNumber,onChange:y,required:!0,placeholder:"e.g., PO-OUT-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"companyId",value:h.vendorId,onChange:g=>{const v=s.find(w=>w.id===g.target.value);p({...h,vendorId:g.target.value,vendorName:v?.name||""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a vendor"}),s.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code (Optional)"}),o.jsxs("select",{name:"projectId",value:h.projectId,onChange:g=>{const v=n.find(w=>w.id===g.target.value);p({...h,projectId:g.target.value,projectCode:v?.projectCode||""})},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"None (Non-project purchase)"}),n.filter(g=>g.status==="pre-lim"||g.status==="ongoing").map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for non-project purchases (e.g., stationery, appliances)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:h.amount,onChange:y,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:h.issueDate,onChange:y,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"deliveryDate",value:h.deliveryDate,onChange:y,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Items / Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"description",value:h.description,onChange:y,required:!0,rows:3,placeholder:"List of items/services being purchased...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:u})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Fo,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Issue PO"})]})]})]})})},Fje=({isOpen:r,onClose:e,onSuccess:t,editingInvoice:n})=>{const[a,s]=B.useState([]),[i,l]=B.useState(!1),[c,u]=B.useState(!1),[A,h]=B.useState({invoiceNumber:"",issuedPoId:"",amount:"",currency:"MYR",invoiceDate:new Date().toISOString().split("T")[0],receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""}),p=!!n;B.useEffect(()=>{r&&m()},[r]),B.useEffect(()=>{r&&n?h({invoiceNumber:n.invoiceNumber||"",issuedPoId:n.issuedPoId||"",amount:n.amount?.toString()||"",currency:n.currency||"MYR",invoiceDate:n.invoiceDate?new Date(n.invoiceDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],receivedDate:n.receivedDate?new Date(n.receivedDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],dueDate:n.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",description:n.description||""}):r&&!n&&h({invoiceNumber:"",issuedPoId:"",amount:"",currency:"MYR",invoiceDate:new Date().toISOString().split("T")[0],receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""})},[r,n]);const m=async()=>{l(!0);try{const S=(await lr.getAllIssuedPOs()).filter(C=>C.status!=="completed");s(S)}catch(w){Rt.error("Error loading Issued POs:",w),ye.error("Failed to load Issued POs")}finally{l(!1)}},y=w=>{const{name:S,value:C}=w.target;h(E=>({...E,[S]:C}))},g=async w=>{if(w.preventDefault(),!A.invoiceNumber.trim()){ye.error("Invoice number is required");return}if(!A.issuedPoId){ye.error("Please select an Issued PO");return}if(!A.amount||parseFloat(A.amount)<=0){ye.error("Please enter a valid amount");return}u(!0);try{const S={invoiceNumber:A.invoiceNumber.trim(),issuedPoId:A.issuedPoId,amount:parseFloat(A.amount),currency:A.currency,invoiceDate:A.invoiceDate,receivedDate:A.receivedDate,dueDate:A.dueDate||null,description:A.description||null};p?(await lr.updateReceivedInvoice(n.id,S),ye.success("Received invoice updated successfully")):(await lr.createReceivedInvoice(S),ye.success("Received invoice created successfully")),t(),e()}catch(S){Rt.error("Error saving received invoice:",S),ye.error(S.response?.data?.error||"Failed to save received invoice")}finally{u(!1)}},v=a.find(w=>w.id===A.issuedPoId);return r?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[o.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:e}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx($a,{className:"w-5 h-5 text-primary-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p?"Edit Received Invoice":"Add Received Invoice"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Linked Issued PO ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"issuedPoId",value:A.issuedPoId,onChange:y,disabled:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select an Issued PO..."}),i?o.jsx("option",{disabled:!0,children:"Loading..."}):a.map(w=>o.jsxs("option",{value:w.id,children:[w.poNumber," - ",w.recipient," (",w.currency," ",w.amount?.toLocaleString(),")"]},w.id))]}),p&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Linked PO cannot be changed after creation"})]}),v&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[o.jsx("p",{className:"font-medium text-gray-900",children:v.recipient}),o.jsx("p",{className:"text-gray-600",children:v.items}),v.projectCode&&o.jsxs("p",{className:"text-primary-600 text-xs mt-1",children:["Project: ",v.projectCode]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:A.invoiceNumber,onChange:y,placeholder:"Enter vendor's invoice number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:A.amount,onChange:y,placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),o.jsxs("select",{name:"currency",value:A.currency,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"MYR",children:"MYR"}),o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"SGD",children:"SGD"}),o.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Invoice Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"invoiceDate",value:A.invoiceDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:A.receivedDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:A.dueDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:A.description,onChange:y,rows:3,placeholder:"Optional notes about this invoice",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:c?"Saving...":p?"Update Invoice":"Create Invoice"})]})]})]})]})}):null},Oje=({isOpen:r,po:e,onClose:t,onSave:n})=>{const[a,s]=B.useState({poNumber:"",projectCode:"",companyName:"",amount:"",currency:"MYR",receivedDate:"",dueDate:"",description:"",status:"received",fileUrl:""}),[i,l]=B.useState(1),[c,u]=B.useState(""),[A,h]=B.useState(null),[p,m]=B.useState(!1);B.useEffect(()=>{r&&e&&(s({poNumber:e.poNumber||e.po_number||"",projectCode:e.projectCode||e.project_code||e.project?.projectCode||e.project?.project_code||"",companyName:e.clientName||e.company_name||e.company?.name||e.project?.company?.name||"",amount:e.amount?.toString()||"",currency:e.currency||"MYR",receivedDate:e.receivedDate||e.received_date||"",dueDate:e.dueDate||e.due_date||"",description:e.description||"",status:e.status||"received",fileUrl:e.fileUrl||e.file_url||""}),l(e.exchangeRate||e.exchange_rate||1),u(e.receivedDate||e.received_date||""))},[r,e]);const y=parseFloat(a.amount||"0")*i,g=async v=>{v.preventDefault(),m(!0);try{let w=a.fileUrl;A&&(w=(await Os.uploadProjectPO(e.id,A)).fileUrl);const S={po_number:a.poNumber,amount:parseFloat(a.amount),currency:a.currency,exchange_rate:i,amount_myr:y,received_date:a.receivedDate,due_date:a.dueDate,description:a.description,status:a.status,file_url:w};await n(S),ye.success(`Purchase Order ${S.po_number} updated successfully!`),t()}catch(w){Rt.error("Error updating PO:",w),ye.error("Failed to update purchase order")}finally{m(!1)}};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Purchase Order"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),o.jsx("input",{type:"text",value:a.poNumber,onChange:v=>s(w=>({...w,poNumber:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Code"}),o.jsx("input",{type:"text",value:a.projectCode,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),o.jsx("input",{type:"text",value:a.companyName,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:a.amount,onChange:v=>s(w=>({...w,amount:v.target.value})),className:"flex-1 px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),o.jsx(Aq,{value:a.currency,onChange:v=>s(w=>({...w,currency:v}))})]})]}),a.currency!=="MYR"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exchange Rate (to MYR)"}),o.jsx("input",{type:"number",step:"0.000001",value:i,onChange:v=>l(parseFloat(v.target.value)||0),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate Date"}),o.jsx("input",{type:"date",value:c,onChange:v=>u(v.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Converted Amount (MYR)"}),o.jsx("input",{type:"text",value:`RM ${y.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),o.jsx("input",{type:"date",value:a.receivedDate,onChange:v=>{s(w=>({...w,receivedDate:v.target.value})),c||u(v.target.value)},className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",value:a.dueDate,onChange:v=>s(w=>({...w,dueDate:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:a.status,onChange:v=>s(w=>({...w,status:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:v=>s(w=>({...w,description:v.target.value})),rows:3,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Replace File (Optional)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",id:"file-upload",onChange:v=>h(v.target.files?.[0]||null),className:"hidden"}),o.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-lg cursor-pointer hover:bg-blue-50",children:A?A.name:"Choose File"}),a.fileUrl&&!A&&o.jsx("span",{className:"text-sm text-gray-600",children:"Current file exists"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:p?"Saving...":"Update PO"})]})]})]})}):null},Dje=({isOpen:r,issuedPO:e,onClose:t,onSave:n})=>{const[a,s]=B.useState(!1),[i,l]=B.useState(null),[c,u]=B.useState({poNumber:"",recipient:"",amount:"",issueDate:"",dueDate:"",items:""});if(B.useEffect(()=>{r&&e&&u({poNumber:e.poNumber||e.po_number||"",recipient:e.recipient||"",amount:e.amount?.toString()||"",issueDate:e.issueDate||e.issue_date||"",dueDate:e.dueDate||e.due_date||"",items:e.items||""})},[r,e]),!r||!e)return null;const A=async p=>{p.preventDefault(),s(!0),l(null);try{const m={poNumber:c.poNumber,recipient:c.recipient,amount:parseFloat(c.amount),issueDate:c.issueDate?new Date(c.issueDate).toISOString():void 0,dueDate:c.dueDate?new Date(c.dueDate).toISOString():void 0,items:c.items};await wr.updateIssuedPO(e.id,m),ye.success(`Issued PO ${c.poNumber} updated successfully!`),n(),t()}catch(m){l(m.response?.data?.error||m.message||"Failed to update Issued PO"),ye.error("Failed to update Issued PO")}finally{s(!1)}},h=p=>{u({...c,[p.target.name]:p.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Issued PO"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:c.poNumber,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor/Recipient ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"recipient",value:c.recipient,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:h,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:c.issueDate,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:h,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Items / Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"items",value:c.items,onChange:h,required:!0,rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),i&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:i})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:a,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Update PO"})]})]})]})})},Pje=({isOpen:r,po:e,onClose:t})=>!r||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Purchase Order Details"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.po_number||e.poNumber})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Rr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[e.projectCode&&o.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Project"}),o.jsxs("p",{className:"text-lg font-semibold text-primary-600",children:[e.projectCode," - ",e.project?.title||"No project"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Client"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.clientName||e.vendor})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),o.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:[e.currency," ",e.amount?.toLocaleString()||"0.00"]}),e.currency!=="MYR"&&o.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" RM ",e.amount_myr?.toLocaleString()||"0.00","(Rate: ",e.exchange_rate?.toFixed(6)||"N/A",")"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:e.received_date?"Received Date":"Issue Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.received_date?new Date(e.received_date).toLocaleDateString():e.issueDate?new Date(e.issueDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Due Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.due_date||e.dueDate?new Date(e.due_date||e.dueDate).toLocaleDateString():"N/A"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.status})]}),e.description&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.description})]}),e.category&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.category})]}),e.file_url&&o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Attached Document"}),o.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[o.jsx($a,{className:"w-4 h-4"}),"View Document"]})]})]}),o.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})}),oR={received:{label:"Received",color:"bg-blue-100 text-blue-800",icon:$a},"in-progress":{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:To},invoiced:{label:"Invoiced",color:"bg-purple-100 text-purple-800",icon:$a},paid:{label:"Paid",color:"bg-green-100 text-green-800",icon:za},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:yp},draft:{label:"Draft",color:"bg-gray-100 text-gray-800",icon:$a},sent:{label:"Sent",color:"bg-blue-100 text-blue-800",icon:za},viewed:{label:"Viewed",color:"bg-primary-100 text-indigo-800",icon:za},overdue:{label:"Overdue",color:"bg-red-100 text-red-800",icon:yp},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:To},approved:{label:"Approved",color:"bg-green-100 text-green-800",icon:za},rejected:{label:"Rejected",color:"bg-red-100 text-red-800",icon:yp},verified:{label:"Verified",color:"bg-blue-100 text-blue-800",icon:za},disputed:{label:"Disputed",color:"bg-orange-100 text-orange-800",icon:yp}};function m5(r){return oR[r]||oR.pending}function al(r){if(!r)return"N/A";try{return new Date(r).toLocaleDateString()}catch{return"Invalid Date"}}const Ije={default:{icon:o.jsx(lee,{className:"w-8 h-8"}),iconBg:"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"},search:{icon:o.jsx($l,{className:"w-8 h-8"}),iconBg:"bg-blue-100 dark:bg-blue-900/30 text-blue-500 dark:text-blue-400"},error:{icon:o.jsx(os,{className:"w-8 h-8"}),iconBg:"bg-red-100 dark:bg-red-900/30 text-red-500 dark:text-red-400"},"no-permission":{icon:o.jsx(VZ,{className:"w-8 h-8"}),iconBg:"bg-amber-100 dark:bg-amber-900/30 text-amber-500 dark:text-amber-400"}},Lje={sm:{container:"min-h-48 py-6",iconSize:"w-12 h-12",title:"text-base",description:"text-sm"},md:{container:"min-h-72 py-10",iconSize:"w-16 h-16",title:"text-lg",description:"text-base"},lg:{container:"min-h-96 py-12",iconSize:"w-20 h-20",title:"text-xl",description:"text-base"}},Mje=({icon:r,title:e,description:t,actionLabel:n,onAction:a,actionVariant:s="primary",actionIcon:i,secondaryActionLabel:l,onSecondaryAction:c,illustration:u,className:A,variant:h="default",size:p="md"})=>{const m=Ije[h],y=Lje[p];return o.jsxs("div",{className:Cr("flex flex-col items-center justify-center px-4 text-center",y.container,A),role:"status","aria-label":e,children:[u?o.jsx("img",{src:u,alt:"",className:Cr("mb-6 opacity-80",p==="sm"?"w-32 h-32":p==="md"?"w-40 h-40":"w-48 h-48"),"aria-hidden":"true"}):o.jsx("div",{className:Cr("rounded-full flex items-center justify-center mb-4",y.iconSize,r?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500":m.iconBg),"aria-hidden":"true",children:r||m.icon}),o.jsx("h3",{className:Cr("font-semibold text-gray-900 dark:text-white mb-2",y.title),children:e}),t&&o.jsx("p",{className:Cr("text-gray-600 dark:text-gray-400 max-w-md mb-6",y.description),children:t}),(n||l)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n&&a&&o.jsx(Qt,{variant:s,size:p==="sm"?"sm":"md",onClick:a,icon:i||(h==="default"?o.jsx(ei,{className:"w-4 h-4"}):void 0),children:n}),l&&c&&o.jsx(Qt,{variant:"outline",size:p==="sm"?"sm":"md",onClick:c,children:l})]})]})},Rje=({columns:r,rows:e=5})=>o.jsx(o.Fragment,{children:Array.from({length:e}).map((t,n)=>o.jsx("tr",{className:"animate-pulse",children:Array.from({length:r}).map((a,s)=>o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})},s))},n))}),Uje=({count:r=3})=>o.jsx("div",{className:"space-y-4",children:Array.from({length:r}).map((e,t)=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},t))});function p5({data:r,columns:e,getRowKey:t,loading:n=!1,pagination:a=!0,pageSizeOptions:s=[10,25,50,100],defaultPageSize:i=10,searchable:l=!1,searchPlaceholder:c="Search...",searchFilter:u,sortable:A=!0,defaultSortKey:h,defaultSortDirection:p="asc",onRowClick:m,rowActions:y,emptyState:g,emptyTitle:v="No data found",emptyDescription:w="There are no items to display.",mobileCard:S,responsiveCards:C=!0,className:E,stickyHeader:_=!1,selectable:L=!1,selectedRows:D,onSelectionChange:P,bulkActions:k}){const[z,I]=B.useState(""),[Q,R]=B.useState(h),[K,ee]=B.useState(p),[Y,se]=B.useState(1),[X,Ae]=B.useState(i),[ge,Z]=B.useState([]),O=D??ge,H=P??Z,V=B.useMemo(()=>z.trim()?r.filter(Xe=>u?u(Xe,z):e.some(ft=>{const Et=typeof ft.accessor=="function"?ft.accessor(Xe):Xe[ft.accessor];return Et==null?!1:String(Et).toLowerCase().includes(z.toLowerCase())})):r,[r,z,u,e]),G=B.useMemo(()=>{if(!Q||!A)return V;const Xe=e.find(ft=>ft.key===Q);return!Xe||Xe.sortable===!1?V:[...V].sort((ft,Et)=>{const Le=typeof Xe.accessor=="function"?Xe.accessor(ft):ft[Xe.accessor],yt=typeof Xe.accessor=="function"?Xe.accessor(Et):Et[Xe.accessor];if(Le==null&&yt==null)return 0;if(Le==null)return K==="asc"?1:-1;if(yt==null)return K==="asc"?-1:1;let Oe=0;return typeof Le=="number"&&typeof yt=="number"?Oe=Le-yt:Le instanceof Date&&yt instanceof Date?Oe=Le.getTime()-yt.getTime():Oe=String(Le).localeCompare(String(yt)),K==="asc"?Oe:-Oe})},[V,Q,K,A,e]),ae=B.useMemo(()=>{if(!a)return G;const Xe=(Y-1)*X;return G.slice(Xe,Xe+X)},[G,Y,X,a]),ue=Math.ceil(G.length/X),Se=(Y-1)*X+1,te=Math.min(Y*X,G.length),pe=B.useCallback(Xe=>{if(!A)return;const ft=e.find(Et=>Et.key===Xe);!ft||ft.sortable===!1||(Q===Xe?ee(Et=>Et==="asc"?"desc":"asc"):(R(Xe),ee("asc")),se(1))},[A,Q,e]),ke=B.useCallback(Xe=>{se(Xe)},[]),Ee=B.useCallback(Xe=>{Ae(Xe),se(1)},[]),Ue=B.useCallback(Xe=>{I(Xe),se(1)},[]),je=B.useCallback(Xe=>{const ft=O.includes(Xe)?O.filter(Et=>Et!==Xe):[...O,Xe];H(ft)},[O,H]),J=B.useCallback(()=>{O.length===ae.length?H([]):H(ae.map(Xe=>t(Xe)))},[O,ae,H,t]),Ie=e.filter(Xe=>!Xe.hideOnMobile),Ye=(Xe,ft)=>{const Et=typeof ft.accessor=="function"?ft.accessor(Xe):Xe[ft.accessor];return ft.cell?ft.cell(Et,Xe,ae.indexOf(Xe)):Et},Bt=Xe=>!A||Xe.sortable===!1?null:Q===Xe.key?K==="asc"?o.jsx(_0,{className:"w-4 h-4"}):o.jsx(kc,{className:"w-4 h-4"}):o.jsx(Vp,{className:"w-4 h-4 text-gray-400"}),it=(Xe,ft)=>S?S({row:Xe,index:ft,columns:e,onRowClick:m,actions:y?.(Xe)}):o.jsxs("div",{className:Cr("bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-4",m&&"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>m?.(Xe),children:[Ie.map(Et=>o.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[o.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:Et.header}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-white text-right",children:Ye(Xe,Et)})]},Et.key)),y&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:y(Xe)})]},t(Xe));return!n&&r.length===0?o.jsx("div",{className:E,children:g||o.jsx(Mje,{title:v,description:w})}):o.jsxs("div",{className:Cr("space-y-4",E),children:[(l||L&&O.length>0)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l&&o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:z,onChange:Xe=>Ue(Xe.target.value),placeholder:c,className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),z&&o.jsx("button",{onClick:()=>Ue(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-4 h-4"})})]}),L&&O.length>0&&k&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[O.length," selected"]}),k(O)]})]}),o.jsx("div",{className:Cr("hidden md:block overflow-x-auto bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"),children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:Cr("bg-gray-50 dark:bg-gray-900",_&&"sticky top-0 z-10"),children:o.jsxs("tr",{children:[L&&o.jsx("th",{className:"w-12 px-6 py-3",children:o.jsx("input",{type:"checkbox",checked:O.length===ae.length&&ae.length>0,onChange:J,className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.map(Xe=>o.jsx("th",{className:Cr("px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",Xe.align==="center"&&"text-center",Xe.align==="right"&&"text-right",Xe.align!=="center"&&Xe.align!=="right"&&"text-left",Xe.width,A&&Xe.sortable!==!1&&"cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-800",Xe.headerClassName),onClick:()=>Xe.sortable!==!1&&pe(Xe.key),children:o.jsxs("div",{className:Cr("flex items-center gap-1",Xe.align==="right"&&"justify-end",Xe.align==="center"&&"justify-center"),children:[Xe.header,Bt(Xe)]})},Xe.key)),y&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n?o.jsx(Rje,{columns:e.length+(L?1:0)+(y?1:0)}):ae.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:e.length+(L?1:0)+(y?1:0),className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:z?`No results found for "${z}"`:"No data available"})}):ae.map(Xe=>{const ft=t(Xe),Et=O.includes(ft);return o.jsxs("tr",{tabIndex:m?0:void 0,role:m?"button":void 0,"aria-selected":L?Et:void 0,className:Cr("hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",m&&"cursor-pointer focus:outline-none focus:bg-primary-50 dark:focus:bg-primary-900/30 focus:ring-2 focus:ring-inset focus:ring-primary-500",Et&&"bg-primary-50 dark:bg-primary-900/20"),onClick:()=>m?.(Xe),onKeyDown:Le=>{m&&(Le.key==="Enter"||Le.key===" ")&&(Le.preventDefault(),m(Xe))},children:[L&&o.jsx("td",{className:"w-12 px-6 py-4",onClick:Le=>Le.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:Et,onChange:()=>je(ft),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.map(Le=>o.jsx("td",{className:Cr("px-6 py-4 text-sm",Le.align==="center"&&"text-center",Le.align==="right"&&"text-right",Le.cellClassName),children:Ye(Xe,Le)},Le.key)),y&&o.jsx("td",{className:"px-6 py-4 text-right",onClick:Le=>Le.stopPropagation(),children:y(Xe)})]},ft)})})]})}),C&&o.jsx("div",{className:"md:hidden space-y-4",children:n?o.jsx(Uje,{}):ae.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:z?`No results found for "${z}"`:"No data available"}):ae.map((Xe,ft)=>it(Xe,ft))}),a&&G.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between px-2",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("span",{children:["Showing ",Se," to ",te," of ",G.length," results"]}),o.jsx("select",{value:X,onChange:Xe=>Ee(Number(Xe.target.value)),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:s.map(Xe=>o.jsxs("option",{value:Xe,children:[Xe," per page"]},Xe))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>ke(Y-1),disabled:Y===1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsx(n7,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,ue)},(Xe,ft)=>{let Et;return ue<=5||Y<=3?Et=ft+1:Y>=ue-2?Et=ue-4+ft:Et=Y-2+ft,o.jsx("button",{onClick:()=>ke(Et),className:Cr("w-8 h-8 rounded-lg text-sm font-medium transition-colors",Y===Et?"bg-primary-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:Et},Et)})}),o.jsx("button",{onClick:()=>ke(Y+1),disabled:Y===ue,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsx(gA,{className:"w-4 h-4"})})]})]})]})}const Qje=B.memo(({receivedPOs:r,searchQuery:e,canUpload:t,canDeletePO:n,onViewDocument:a,onAttachDocument:s,onEditPO:i,onDeletePO:l,onViewDetails:c})=>{const u=B.useMemo(()=>r.filter(m=>{const y=e.toLowerCase();if(!y)return!0;const g=m.poNumber||m.po_number,v=m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code,w=m.project?.client?.name||m.clientName||m.client_name;return g?.toLowerCase().includes(y)||w?.toLowerCase().includes(y)||v?.toLowerCase().includes(y)||m.project?.title?.toLowerCase().includes(y)}),[r,e]),A=B.useMemo(()=>[{key:"poNumber",header:"PO Number",accessor:m=>m.poNumber||m.po_number,sortable:!0,cell:(m,y)=>{const g=y.poNumber||y.po_number,v=y.fileUrl||y.file_url;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:g}),v&&o.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-1.5 py-0.5 bg-green-100 text-green-800 rounded",children:o.jsx($a,{className:"w-3 h-3"})})]})}},{key:"project",header:"Project",accessor:m=>m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code||"No Code",sortable:!0,cell:(m,y)=>{const g=y.projectCode||y.project_code||y.project?.projectCode||y.project?.project_code,v=y.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:g||"No Code"}),v&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:v})]})}},{key:"clientName",header:"Client",accessor:m=>m.project?.client?.name||m.clientName||m.client_name||"Unknown",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-900",children:m})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(m,y)=>o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:"font-bold text-gray-900",children:[y.currency," ",y.amount.toLocaleString()]}),y.amount_myr&&o.jsxs("span",{className:"text-xs text-gray-500",children:["RM ",y.amount_myr.toLocaleString()]})]})},{key:"receivedDate",header:"Received Date",accessor:m=>m.receivedDate||m.received_date,sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:al(m)}),hideOnMobile:!0},{key:"dueDate",header:"Due Date",accessor:m=>m.dueDate||m.due_date,sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:al(m)}),hideOnMobile:!0}],[]),h=({row:m,actions:y})=>{const g=m5(m.status),v=g.icon,w=m.poNumber||m.po_number,S=m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code,C=m.project?.client?.name||m.clientName||m.client_name,E=m.fileUrl||m.file_url,_=m.receivedDate||m.received_date,L=m.dueDate||m.due_date;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:[o.jsx(v,{className:"w-3 h-3"}),g.label]}),E&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx($a,{className:"w-3 h-3"}),"Document"]}),m.attachments&&m.attachments.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx($a,{className:"w-3 h-3"}),"Document"]}),m.attachments&&m.attachments.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(Fo,{className:"w-3 h-3"}),m.attachments.length]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.currency," ",m.amount.toLocaleString()]})]}),S||m.project?.title?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[S||"No Code"," - ",m.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:C||"Unknown"}),m.description&&o.jsx("p",{className:"text-sm text-gray-500",children:m.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:al(_)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:al(L)})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:y})]})},p=m=>{const y=m.fileUrl||m.file_url;return o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[y&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),a(m)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),o.jsx(Qt,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),s(m.id)},title:"Upload Document",children:o.jsx(Fo,{className:"w-4 h-4"})}),t&&o.jsx(Qt,{size:"sm",onClick:g=>{g.stopPropagation(),i(m)},title:"Edit PO",children:o.jsx(ko,{className:"w-4 h-4"})}),n&&o.jsx(Qt,{size:"sm",variant:"danger",onClick:g=>{g.stopPropagation(),l(m)},title:"Delete",children:o.jsx(ws,{className:"w-4 h-4"})})]})};return o.jsx(p5,{data:u,columns:A,getRowKey:m=>m.id,searchable:!1,sortable:!0,defaultSortKey:"receivedDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:h,rowActions:p,emptyTitle:"No purchase orders found",emptyDescription:"There are no received POs to display."})}),Hje=({invoices:r,searchQuery:e,onViewPDF:t,onUploadDocument:n,onEditInvoice:a,onDeleteInvoice:s,canUpload:i=!1,canDelete:l=!1,canApprove:c=!1,onSubmitForApproval:u,onApprove:A,onWithdraw:h,onMarkAsSent:p,onMarkAsPaid:m,currentUserId:y})=>{const g=B.useMemo(()=>r.filter(C=>{const E=e.toLowerCase();return E?C.invoiceNumber?.toLowerCase().includes(E)||C.clientName?.toLowerCase().includes(E)||C.projectCode?.toLowerCase().includes(E)||C.project?.title?.toLowerCase().includes(E):!0}),[r,e]),v=B.useMemo(()=>[{key:"invoiceNumber",header:"Invoice Number",accessor:"invoiceNumber",sortable:!0,cell:(C,E)=>o.jsx("span",{className:"font-semibold text-gray-900",children:E.invoiceNumber})},{key:"project",header:"Project",accessor:C=>C.projectCode||"No Code",sortable:!0,cell:(C,E)=>{const _=E.projectCode,L=E.projectName||E.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:_||"No Code"}),L&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:L})]})}},{key:"progress",header:"Progress",accessor:"percentageOfTotal",sortable:!0,cell:(C,E)=>o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[E.percentageOfTotal,"% (#",E.invoiceSequence,")"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["Cumulative: ",E.cumulativePercentage,"%"]})]}),hideOnMobile:!0},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(C,E)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[E.currency||"MYR"," ",(E.amount||0).toLocaleString()]})},{key:"invoiceDate",header:"Invoice Date",accessor:"invoiceDate",sortable:!0,cell:C=>o.jsx("span",{className:"text-sm text-gray-700",children:al(C)}),hideOnMobile:!0}],[]),w=({row:C,actions:E})=>{const _=m5(C.status),L=_.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${_.color}`,children:[o.jsx(L,{className:"w-3 h-3"}),_.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[C.currency||"MYR"," ",(C.amount||0).toLocaleString()]})]}),C.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[C.projectCode," - ",C.projectName||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Progress: ",C.percentageOfTotal,"% (Invoice #",C.invoiceSequence,")"]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Cumulative: ",C.cumulativePercentage,"%"]}),C.remark&&o.jsxs("span",{children:[" ",C.remark]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:al(C.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:C.status||"draft"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Project"}),o.jsx("p",{className:"text-sm font-medium text-primary-600",children:C.projectCode})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:E})]})},S=C=>o.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[C.fileUrl&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:E=>{E.stopPropagation(),t(C.id,C.invoiceNumber)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),i&&n&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:E=>{E.stopPropagation(),n(C)},title:"Upload Document",children:o.jsx(Fo,{className:"w-4 h-4"})}),i&&a&&C.status!=="paid"&&o.jsx(Qt,{size:"sm",onClick:E=>{E.stopPropagation(),a(C)},title:"Edit",children:o.jsx(ko,{className:"w-4 h-4"})}),l&&s&&o.jsx(Qt,{size:"sm",variant:"danger",onClick:E=>{E.stopPropagation(),s(C)},title:"Delete",children:o.jsx(ws,{className:"w-4 h-4"})}),C.status==="draft"&&i&&u&&o.jsx(Qt,{size:"sm",className:"bg-orange-100 hover:bg-orange-200 text-orange-700",onClick:E=>{E.stopPropagation(),u(C.id)},title:"Submit for Approval",children:"Submit"}),C.status==="pending-approval"&&c&&A&&o.jsx(Qt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:E=>{E.stopPropagation(),A(C.id)},title:"Approve",children:"Approve"}),C.status==="pending-approval"&&C.createdBy===y&&h&&o.jsx(Qt,{size:"sm",className:"bg-red-100 hover:bg-red-200 text-red-700",onClick:E=>{E.stopPropagation(),h(C.id)},title:"Withdraw",children:"Withdraw"}),C.status==="approved"&&i&&p&&o.jsx(Qt,{size:"sm",className:"bg-primary-600 hover:bg-primary-700 text-white",onClick:E=>{E.stopPropagation(),p(C.id)},title:"Mark as Sent",children:"Mark Sent"}),C.status==="sent"&&m&&c&&o.jsx(Qt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:E=>{E.stopPropagation(),m(C.id)},title:"Mark as Paid",children:"Mark Paid"})]});return o.jsx(p5,{data:g,columns:v,getRowKey:C=>C.id,searchable:!1,sortable:!0,defaultSortKey:"invoiceDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:w,rowActions:S,emptyTitle:"No invoices found",emptyDescription:"There are no invoices to display."})},zje=({issuedPOs:r,searchQuery:e,canApprove:t,canDeletePO:n,canUpload:a=!1,onViewPDF:s,onUploadDocument:i,onDeletePO:l,onEditPO:c})=>{const u=B.useMemo(()=>r.filter(m=>{const y=e.toLowerCase();return y?m.poNumber?.toLowerCase().includes(y)||m.recipient?.toLowerCase().includes(y)||m.projectCode?.toLowerCase().includes(y)||m.project?.title?.toLowerCase().includes(y):!0}),[r,e]),A=B.useMemo(()=>[{key:"poNumber",header:"PO Number",accessor:"poNumber",sortable:!0,cell:(m,y)=>o.jsx("span",{className:"font-semibold text-gray-900",children:y.poNumber})},{key:"project",header:"Project",accessor:m=>m.projectCode||"No Code",sortable:!0,cell:(m,y)=>{const g=y.projectCode,v=y.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:g||"No Code"}),v&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:v})]})}},{key:"recipient",header:"Vendor",accessor:"recipient",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-900",children:m})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(m,y)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[y.currency||"MYR"," ",(y.amount||0).toLocaleString()]})},{key:"issueDate",header:"Issue Date",accessor:"issueDate",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:al(m)}),hideOnMobile:!0}],[]),h=({row:m,actions:y})=>{const g=m5(m.status),v=g.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.poNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:[o.jsx(v,{className:"w-3 h-3"}),g.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.currency||"MYR"," ",(m.amount||0).toLocaleString()]})]}),m.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[m.projectCode," - ",m.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:m.recipient}),m.items&&o.jsx("p",{className:"text-sm text-gray-500",children:m.items})]}),o.jsx("div",{className:"py-3 border-t border-gray-100",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Issue Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:al(m.issueDate)})]})}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:y})]})},p=m=>o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.fileUrl&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),s(m.id,m.poNumber)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),a&&i&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),i(m)},title:"Upload Document",children:o.jsx(Fo,{className:"w-4 h-4"})}),a&&c&&o.jsx(Qt,{size:"sm",onClick:y=>{y.stopPropagation(),c(m)},title:"Edit PO",children:o.jsx(ko,{className:"w-4 h-4"})}),n&&o.jsx(Qt,{size:"sm",variant:"danger",onClick:y=>{y.stopPropagation(),l(m)},title:"Delete",children:o.jsx(ws,{className:"w-4 h-4"})})]});return o.jsx(p5,{data:u,columns:A,getRowKey:m=>m.id,searchable:!1,sortable:!0,defaultSortKey:"issueDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:h,rowActions:p,emptyTitle:"No issued POs found",emptyDescription:"There are no issued POs to display."})},Kje=({receivedInvoices:r,searchQuery:e,canVerify:t,canDelete:n,canUpload:a=!1,onViewDocument:s,onEditInvoice:i,onDeleteInvoice:l,onVerify:c,onMarkAsPaid:u,onUploadDocument:A})=>{const h=B.useMemo(()=>r.filter(g=>{const v=e.toLowerCase();return v?g.invoiceNumber?.toLowerCase().includes(v)||g.vendorName?.toLowerCase().includes(v)||g.issuedPO?.poNumber?.toLowerCase().includes(v):!0}),[r,e]),p=B.useMemo(()=>[{key:"invoiceNumber",header:"Invoice Number",accessor:"invoiceNumber",sortable:!0,cell:(g,v)=>o.jsx("span",{className:"font-semibold text-gray-900",children:v.invoiceNumber})},{key:"vendorName",header:"Vendor",accessor:"vendorName",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})},{key:"linkedPO",header:"Linked PO",accessor:g=>g.issuedPO?.poNumber||"-",sortable:!0,cell:(g,v)=>v.issuedPO?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(c6,{className:"w-3 h-3 text-primary-500"}),o.jsx("span",{className:"text-sm text-primary-600 font-medium",children:v.issuedPO.poNumber})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"-"})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(g,v)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[v.currency," ",(v.amount||0).toLocaleString()]})},{key:"invoiceDate",header:"Invoice Date",accessor:"invoiceDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:al(g)}),hideOnMobile:!0},{key:"receivedDate",header:"Received Date",accessor:"receivedDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:al(g)}),hideOnMobile:!0},{key:"dueDate",header:"Due Date",accessor:"dueDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:g?al(g):"N/A"}),hideOnMobile:!0}],[]),m=({row:g,actions:v})=>{const w=m5(g.status),S=w.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${w.color}`,children:[o.jsx(S,{className:"w-3 h-3"}),w.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[g.currency," ",(g.amount||0).toLocaleString()]})]}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:g.vendorName}),g.issuedPO&&o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(c6,{className:"w-4 h-4 text-primary-500"}),o.jsxs("span",{className:"text-sm text-primary-600 font-medium",children:["Linked to: ",g.issuedPO.poNumber]})]}),g.description&&o.jsx("p",{className:"text-sm text-gray-500",children:g.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:al(g.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:al(g.receivedDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.dueDate?al(g.dueDate):"N/A"})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:v})]})},y=g=>o.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[g.fileUrl&&s&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:v=>{v.stopPropagation(),s(g)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),a&&A&&o.jsx(Qt,{size:"sm",variant:"ghost",onClick:v=>{v.stopPropagation(),A(g)},title:"Upload Document",children:o.jsx(Fo,{className:"w-4 h-4"})}),g.status!=="paid"&&i&&o.jsx(Qt,{size:"sm",onClick:v=>{v.stopPropagation(),i(g)},title:"Edit",children:o.jsx(ko,{className:"w-4 h-4"})}),(g.status==="pending"||g.status==="disputed")&&t&&c&&o.jsx(Qt,{size:"sm",className:"bg-primary-600 hover:bg-primary-700 text-white",onClick:v=>{v.stopPropagation(),c(g.id)},title:"Verify",children:o.jsx(za,{className:"w-4 h-4"})}),g.status==="verified"&&t&&u&&o.jsx(Qt,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:v=>{v.stopPropagation(),u(g.id)},title:"Mark Paid",children:o.jsx(g_,{className:"w-4 h-4"})}),g.status!=="paid"&&n&&l&&o.jsx(Qt,{size:"sm",variant:"danger",onClick:v=>{v.stopPropagation(),l(g)},title:"Delete",children:o.jsx(ws,{className:"w-4 h-4"})})]});return o.jsx(p5,{data:h,columns:p,getRowKey:g=>g.id,searchable:!1,sortable:!0,defaultSortKey:"receivedDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:m,rowActions:y,emptyTitle:"No received invoices found",emptyDescription:"Create an Issued PO first, then add a received invoice from the vendor."})},hq=6048e5,$je=864e5,lR=Symbol.for("constructDateFrom");function cf(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&lR in r?r[lR](e):r instanceof Date?new r.constructor(e):new Date(e)}function ku(r,e){return cf(e||r,r)}let Vje={};function g5(){return Vje}function Xy(r,e){const t=g5(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=ku(r,e?.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function H2(r,e){return Xy(r,{...e,weekStartsOn:1})}function fq(r,e){const t=ku(r,e?.in),n=t.getFullYear(),a=cf(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=H2(a),i=cf(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=H2(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function cR(r){const e=ku(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function qje(r,...e){const t=cf.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function uR(r,e){const t=ku(r,e?.in);return t.setHours(0,0,0,0),t}function Gje(r,e,t){const[n,a]=qje(t?.in,r,e),s=uR(n),i=uR(a),l=+s-cR(s),c=+i-cR(i);return Math.round((l-c)/$je)}function Wje(r,e){const t=fq(r,e),n=cf(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),H2(n)}function Yje(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Xje(r){return!(!Yje(r)&&typeof r!="number"||isNaN(+ku(r)))}function Jje(r,e){const t=ku(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Zje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e_e=(r,e,t)=>{let n;const a=Zje[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function nE(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const t_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a_e={date:nE({formats:t_e,defaultWidth:"full"}),time:nE({formats:r_e,defaultWidth:"full"}),dateTime:nE({formats:n_e,defaultWidth:"full"})},s_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i_e=(r,e,t,n)=>s_e[r];function Rx(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,l=t?.width?String(t.width):i;a=r.formattingValues[l]||r.formattingValues[i]}else{const i=r.defaultWidth,l=t?.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const o_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h_e=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},f_e={ordinalNumber:h_e,era:Rx({values:o_e,defaultWidth:"wide"}),quarter:Rx({values:l_e,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Rx({values:c_e,defaultWidth:"wide"}),day:Rx({values:u_e,defaultWidth:"wide"}),dayPeriod:Rx({values:d_e,defaultWidth:"wide",formattingValues:A_e,defaultFormattingWidth:"wide"})};function Ux(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?p_e(l,h=>h.test(i)):m_e(l,h=>h.test(i));let u;u=r.valueCallback?r.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const A=e.slice(i.length);return{value:u,rest:A}}}function m_e(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function p_e(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function g_e(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const x_e=/^(\d+)(th|st|nd|rd)?/i,y_e=/\d+/i,v_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b_e={any:[/^b/i,/^(a|c)/i]},w_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C_e={any:[/1/i,/2/i,/3/i,/4/i]},N_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},__e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},T_e={ordinalNumber:g_e({matchPattern:x_e,parsePattern:y_e,valueCallback:r=>parseInt(r,10)}),era:Ux({matchPatterns:v_e,defaultMatchWidth:"wide",parsePatterns:b_e,defaultParseWidth:"any"}),quarter:Ux({matchPatterns:w_e,defaultMatchWidth:"wide",parsePatterns:C_e,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ux({matchPatterns:N_e,defaultMatchWidth:"wide",parsePatterns:S_e,defaultParseWidth:"any"}),day:Ux({matchPatterns:B_e,defaultMatchWidth:"wide",parsePatterns:E_e,defaultParseWidth:"any"}),dayPeriod:Ux({matchPatterns:j_e,defaultMatchWidth:"any",parsePatterns:__e,defaultParseWidth:"any"})},k_e={code:"en-US",formatDistance:e_e,formatLong:a_e,formatRelative:i_e,localize:f_e,match:T_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function F_e(r,e){const t=ku(r,e?.in);return Gje(t,Jje(t))+1}function O_e(r,e){const t=ku(r,e?.in),n=+H2(t)-+Wje(t);return Math.round(n/hq)+1}function mq(r,e){const t=ku(r,e?.in),n=t.getFullYear(),a=g5(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=cf(e?.in||r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Xy(i,e),c=cf(e?.in||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Xy(c,e);return+t>=+l?n+1:+t>=+u?n:n-1}function D_e(r,e){const t=g5(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=mq(r,e),s=cf(e?.in||r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Xy(s,e)}function P_e(r,e){const t=ku(r,e?.in),n=+Xy(t,e)-+D_e(t,e);return Math.round(n/hq)+1}function Mn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const jh={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Mn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Mn(t+1,2)},d(r,e){return Mn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Mn(r.getHours()%12||12,e.length)},H(r,e){return Mn(r.getHours(),e.length)},m(r,e){return Mn(r.getMinutes(),e.length)},s(r,e){return Mn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return Mn(a,e.length)}},rp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dR={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return jh.y(r,e)},Y:function(r,e,t,n){const a=mq(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return Mn(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Mn(s,e.length)},R:function(r,e){const t=fq(r);return Mn(t,e.length)},u:function(r,e){const t=r.getFullYear();return Mn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Mn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Mn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return jh.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Mn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=P_e(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Mn(a,e.length)},I:function(r,e,t){const n=O_e(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Mn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):jh.d(r,e)},D:function(r,e,t){const n=F_e(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Mn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Mn(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=rp.noon:n===0?a=rp.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=rp.evening:n>=12?a=rp.afternoon:n>=4?a=rp.morning:a=rp.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return jh.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):jh.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):jh.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):jh.s(r,e)},S:function(r,e){return jh.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return hR(n);case"XXXX":case"XX":return r0(n);default:return r0(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return hR(n);case"xxxx":case"xx":return r0(n);default:return r0(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+AR(n,":");default:return"GMT"+r0(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+AR(n,":");default:return"GMT"+r0(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return Mn(n,e.length)},T:function(r,e,t){return Mn(+r,e.length)}};function AR(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+Mn(s,2)}function hR(r,e){return r%60===0?(r>0?"-":"+")+Mn(Math.abs(r)/60,2):r0(r,e)}function r0(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Mn(Math.trunc(n/60),2),s=Mn(n%60,2);return t+a+e+s}const fR=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},pq=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},I_e=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return fR(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",fR(n,e)).replace("{{time}}",pq(a,e))},L_e={p:pq,P:I_e},M_e=/^D+$/,R_e=/^Y+$/,U_e=["D","DD","YY","YYYY"];function Q_e(r){return M_e.test(r)}function H_e(r){return R_e.test(r)}function z_e(r,e,t){const n=K_e(r,e,t);if(console.warn(n),U_e.includes(r))throw new RangeError(n)}function K_e(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q_e=/^'([^]*?)'?$/,G_e=/''/g,W_e=/[a-zA-Z]/;function Kn(r,e,t){const n=g5(),a=n.locale??k_e,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ku(r,t?.in);if(!Xje(l))throw new RangeError("Invalid time value");let c=e.match(V_e).map(A=>{const h=A[0];if(h==="p"||h==="P"){const p=L_e[h];return p(A,a.formatLong)}return A}).join("").match($_e).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const h=A[0];if(h==="'")return{isToken:!1,value:Y_e(A)};if(dR[h])return{isToken:!0,value:A};if(h.match(W_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:A}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(A=>{if(!A.isToken)return A.value;const h=A.value;(H_e(h)||Q_e(h))&&z_e(h,e,String(r));const p=dR[h[0]];return p(l,h,a.localize,u)}).join("")}function Y_e(r){const e=r.match(q_e);return e?e[1].replace(G_e,"'"):r}function X_e(r){if(!r||r.length===0){console.error("No Received POs to export"),ye.error("No Received POs data to export");return}const e=["PO Number","Status","Project Code","Project Title","Client Name","Amount","Currency","Received Date","Due Date","Description"],t=r.map(a=>[a.poNumber||"",a.status||"",a.projectCode||"",a.project?.title||"",a.clientName||a.project?.client?.name||"",a.amount||0,a.currency||"MYR",a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.description||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`received-pos-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function J_e(r){if(!r||r.length===0){console.error("No Invoices to export"),ye.error("No Invoices data to export");return}const e=["Invoice Number","Status","Project Code","Project Title","Client Name","Amount","Currency","Percentage of Total (%)","Invoice Date","Due Date","Remark"],t=r.map(a=>[a.invoiceNumber||"",a.status||"",a.projectCode||"",a.projectName||"",a.clientName||"",a.amount||0,a.currency||"MYR",a.percentageOfTotal||a.percentage_of_total||0,a.invoiceDate||a.invoice_date?Kn(new Date(a.invoiceDate||a.invoice_date),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.remark||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`invoices-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function Z_e(r){if(!r||r.length===0){console.error("No Issued POs to export"),ye.error("No Issued POs data to export");return}const e=["PO Number","Status","Project Code","Project Title","Recipient","Amount","Currency","Items","Issue Date","Due Date"],t=r.map(a=>[a.poNumber||a.po_number||"",a.status||"",a.projectCode||a.project_code||"",a.project?.title||"",a.recipient||a.recipient||"",a.amount||0,a.currency||"MYR",a.items||"",a.issueDate?Kn(new Date(a.issueDate),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`issued-pos-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function eTe(r){if(!r||r.length===0){console.error("No Received POs to export"),ye.error("No Received POs data to export");return}const e=r.map(a=>({"PO Number":a.poNumber||"",Status:a.status||"","Project Code":a.projectCode||"","Project Title":a.project?.title||"","Client Name":a.clientName||a.project?.client?.name||"",Amount:a.amount||0,Currency:a.currency||"MYR","Received Date":a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",Description:a.description||""})),t=_o.json_to_sheet(e),n=_o.book_new();_o.book_append_sheet(n,t,"Received POs"),Ov(n,`received-pos-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function tTe(r){if(!r||r.length===0){console.error("No Invoices to export"),ye.error("No Invoices data to export");return}const e=r.map(a=>({"Invoice Number":a.invoiceNumber||"",Status:a.status||"","Project Code":a.projectCode||"","Project Title":a.projectName||"","Client Name":a.clientName||"",Amount:a.amount||0,Currency:a.currency||"MYR","Percentage of Total (%)":a.percentageOfTotal||a.percentage_of_total||0,"Invoice Date":a.invoiceDate||a.invoice_date?Kn(new Date(a.invoiceDate||a.invoice_date),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",Remark:a.remark||""})),t=_o.json_to_sheet(e),n=_o.book_new();_o.book_append_sheet(n,t,"Invoices"),Ov(n,`invoices-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function rTe(r){if(!r||r.length===0){console.error("No Issued POs to export"),ye.error("No Issued POs data to export");return}const e=r.map(a=>({"PO Number":a.poNumber||a.po_number||"",Status:a.status||"","Project Code":a.projectCode||a.project_code||"","Project Title":a.project?.title||"",Recipient:a.recipient||"",Amount:a.amount||0,Currency:a.currency||"MYR",Items:a.items||"","Issue Date":a.issueDate?Kn(new Date(a.issueDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):""})),t=_o.json_to_sheet(e),n=_o.book_new();_o.book_append_sheet(n,t,"Issued POs"),Ov(n,`issued-pos-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function nTe(r){if(!r||r.length===0){console.error("No Received Invoices to export"),ye.error("No Received Invoices data to export");return}const e=["Invoice Number","Status","Vendor Name","Issued PO Number","Amount","Currency","Invoice Date","Received Date","Due Date","Description"],t=r.map(a=>[a.invoiceNumber||"",a.status||"",a.vendorName||"",a.issuedPO?.po_number||a.issuedPoNumber||"",a.amount||0,a.currency||"MYR",a.invoiceDate?Kn(new Date(a.invoiceDate),"yyyy-MM-dd"):"",a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.description||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`received-invoices-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function aTe(r){if(!r||r.length===0){console.error("No Received Invoices to export"),ye.error("No Received Invoices data to export");return}const e=r.map(a=>({"Invoice Number":a.invoiceNumber||"",Status:a.status||"","Vendor Name":a.vendorName||"","Issued PO Number":a.issuedPO?.po_number||a.issuedPoNumber||"",Amount:a.amount||0,Currency:a.currency||"MYR","Invoice Date":a.invoiceDate?Kn(new Date(a.invoiceDate),"yyyy-MM-dd"):"","Received Date":a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",Description:a.description||""})),t=_o.json_to_sheet(e),n=_o.book_new();_o.book_append_sheet(n,t,"Received Invoices"),Ov(n,`received-invoices-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function x5(r,e,t){const n=document.createElement("a"),a=new Blob([r],{type:t});n.href=URL.createObjectURL(a),n.download=e,n.click(),URL.revokeObjectURL(n.href)}const sTe=({onExport:r,disabled:e=!1,totalCount:t=0})=>{const[n,a]=B.useState(!1),s=()=>{r("csv"),a(!1)},i=()=>{r("excel"),a(!1)};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>a(!n),disabled:e||t===0,className:`flex items-center gap-2 px-4 py-2 border rounded-lg ${e||t===0?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[o.jsx(LA,{className:"w-4 h-4"}),"Export",o.jsx(kc,{className:"w-4 h-4"})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:"CSV"}),o.jsx("span",{className:"text-xs text-gray-500",children:".csv file"})]}),o.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:"Excel"}),o.jsx("span",{className:"text-xs text-gray-500",children:".xlsx file"})]})]})})]})]})},iTe=()=>{const r=Bo(),e=r?.roles||[r?.role||"engineer"],t=r&&sl(e,"canAccessFinance"),n=r&&sl(e,"canUploadPO"),a=r&&sl(e,"canDeletePO"),s=r&&sl(e,"canDeleteInvoices"),i=r&&sl(e,"canApproveInvoices"),[l,c]=B.useState("received-pos"),[u,A]=B.useState(""),[h,p]=B.useState(!1),[m,y]=B.useState(null),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[C,E]=B.useState(!1),[_,L]=B.useState(null),[D,P]=B.useState(!1),[k,z]=B.useState(!1),[I,Q]=B.useState(null),[R,K]=B.useState(!1),[ee,Y]=B.useState(null),[se,X]=B.useState(!1),[Ae,ge]=B.useState(null),[Z,O]=B.useState(!1),[H,V]=B.useState([]),[G,ae]=B.useState([]),[ue,Se]=B.useState([]),[te,pe]=B.useState([]),[ke,Ee]=B.useState(!1),Ue=mt=>{switch(l){case"received-pos":mt==="csv"?X_e(H):eTe(H);break;case"invoices":mt==="csv"?J_e(G):tTe(G);break;case"issued-pos":mt==="csv"?Z_e(ue):rTe(ue);break;case"received-invoices":mt==="csv"?nTe(te):aTe(te);break}};B.useEffect(()=>{je()},[l]);const je=async()=>{Ee(!0);try{if(l==="received-pos"){const mt=await lr.getAllPurchaseOrders(),Ct=Array.isArray(mt)?mt:mt.data||[];V(Ct)}else if(l==="invoices"){const mt=await lr.getAllInvoices();ae(mt||[])}else if(l==="issued-pos"){const mt=await lr.getAllIssuedPOs();Se(mt||[])}else if(l==="received-invoices"){const mt=await lr.getAllReceivedInvoices();pe(mt||[])}}catch(mt){Rt.error("Error loading data:",mt),ye.error(mt.message||"Failed to load data")}finally{Ee(!1)}};if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yp,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:vd("access finance","senior")})]})});const J=()=>{if(!n){ye.error(vd("upload PO","senior"));return}switch(l){case"received-pos":v(!0);break;case"invoices":S(!0);break;case"issued-pos":P(!0);break;case"received-invoices":z(!0);break}},Ie=async(mt,Ct)=>{if(Ct.length===0)return;const Ut=Ct[0],Kt=new FormData,jn=atob(Ut.fileData.split(",")[1]),Fr=new Array(jn.length);for(let ba=0;ba<jn.length;ba++)Fr[ba]=jn.charCodeAt(ba);const Rs=new Uint8Array(Fr),Ga=new Blob([Rs],{type:Ut.fileType}),Ar=new File([Ga],Ut.fileName,{type:Ut.fileType});Kt.append("file",Ar);try{ye.loading("Uploading document...");const ba=localStorage.getItem("auth_token");if(!ba){ye.error("Authentication required");return}const Wa=m?.type||"invoice";let ca;if(Wa==="invoice")ca=`/api/invoices/${mt}/upload`;else if(Wa==="issued-po")ca=`/api/issued-pos/${mt}/upload`;else if(Wa==="received-po")ca=`/api/purchase-orders/${mt}/upload`;else if(Wa==="purchase-order")ca=`/api/purchase-orders/${mt}/upload`;else if(Wa==="received-invoice")ca=`/api/received-invoices/${mt}/upload`;else throw console.error("Unknown document type:",Wa),new Error(`Cannot upload: Unknown document type "${Wa}"`);const Ss=await fetch(ca,{method:"POST",headers:{Authorization:`Bearer ${ba}`},body:Kt});if(!Ss.ok){const _n=await Ss.json();throw new Error(_n.error||"Upload failed")}ye.dismiss(),ye.success("Document uploaded successfully!"),p(!1),y(null),je()}catch(ba){ye.dismiss(),Rt.error("Error uploading document:",ba),ye.error(ba.message||"Failed to upload document")}},Ye=(mt,Ct)=>{ye.success("File removed successfully")},Bt=async mt=>{try{ye.loading("Opening invoice PDF...");const Ct=localStorage.getItem("auth_token");if(!Ct){ye.error("Authentication required");return}const Ut=`/api/invoices/${mt}/pdf`;fetch(Ut,{headers:{Authorization:`Bearer ${Ct}`}}).then(Kt=>{if(!Kt.ok)throw new Error(`HTTP ${Kt.status}`);return Kt.blob()}).then(Kt=>{const jn=window.URL.createObjectURL(Kt),Fr=document.createElement("a");Fr.href=jn,Fr.target="_blank",Fr.click(),window.URL.revokeObjectURL(jn),ye.dismiss(),ye.success("Opening invoice PDF")}).catch(Kt=>{ye.dismiss(),Rt.error("Error opening PDF:",Kt),ye.error("Failed to open PDF: "+Kt.message)})}catch(Ct){ye.dismiss(),Rt.error("Error opening invoice PDF:",Ct),ye.error("Failed to open PDF")}},it=mt=>{y({type:"invoice",id:mt.id}),p(!0)},Xe=mt=>{L(mt),E(!0)},ft=async mt=>{if(window.confirm(`Are you sure you want to delete PO ${mt.po_number||mt.poNumber}?`))try{ye.loading("Deleting PO..."),l==="issued-pos"?await lr.deleteIssuedPO(mt.id):await lr.deletePurchaseOrder(mt.id),ye.success("PO deleted successfully"),je()}catch(Ct){Rt.error("Error deleting PO:",Ct),ye.error(Ct.message||"Failed to delete PO")}},Et=async mt=>{if(window.confirm(`Are you sure you want to delete invoice ${mt.invoiceNumber}?`))try{ye.loading("Deleting invoice..."),await lr.deleteInvoice(mt.id),ye.success("Invoice deleted successfully"),je()}catch(Ct){Rt.error("Error deleting invoice:",Ct),ye.error(Ct.message||"Failed to delete invoice")}},Le=mt=>{y({type:"issued-po",id:mt.id}),p(!0)},yt=async mt=>{try{ye.loading("Opening issued PO PDF...");const Ct=localStorage.getItem("auth_token");if(!Ct){ye.error("Authentication required");return}const Ut=`/api/issued-pos/${mt}/pdf`;fetch(Ut,{headers:{Authorization:`Bearer ${Ct}`}}).then(Kt=>{if(!Kt.ok)throw new Error(`HTTP ${Kt.status}`);return Kt.blob()}).then(Kt=>{const jn=window.URL.createObjectURL(Kt),Fr=document.createElement("a");Fr.href=jn,Fr.target="_blank",Fr.click(),window.URL.revokeObjectURL(jn),ye.dismiss(),ye.success("Opening issued PO PDF")}).catch(Kt=>{ye.dismiss(),Rt.error("Error opening PDF:",Kt),ye.error("Failed to open PDF: "+Kt.message)})}catch(Ct){ye.dismiss(),Rt.error("Error opening PO PDF:",Ct),ye.error("Failed to open PDF")}},Oe=async mt=>{try{console.log("=== handleViewDocument called ==="),console.log("Full PO object:",mt),console.log("po.file_url:",mt.file_url),console.log("po.fileUrl:",mt.fileUrl),console.log("All PO keys:",Object.keys(mt));const Ct=mt.fileUrl||mt.file_url;if(!Ct){console.log("No fileUrl found, returning early"),ye.error("No document available");return}console.log("Using fileUrl:",Ct),ye.loading("Opening document...");const Ut=localStorage.getItem("auth_token");if(!Ut){ye.error("Authentication required");return}const Kt=Ct.split("/").pop();if(!Kt){ye.error("Invalid file URL");return}const jn=`/api/purchase-orders/download/${Kt}`;fetch(jn,{headers:{Authorization:`Bearer ${Ut}`}}).then(Fr=>{if(!Fr.ok)throw new Error(`HTTP ${Fr.status}`);return Fr.blob()}).then(Fr=>{const Rs=window.URL.createObjectURL(Fr),Ga=document.createElement("a");Ga.href=Rs,Ga.target="_blank",Ga.click(),window.URL.revokeObjectURL(Rs),ye.dismiss(),ye.success("Opening document")}).catch(Fr=>{ye.dismiss(),Rt.error("Error opening document:",Fr),ye.error("Failed to open document: "+Fr.message)})}catch(Ct){ye.dismiss(),Rt.error("Error opening PO document:",Ct),ye.error("Failed to open document")}},at=mt=>{y({id:mt,type:"received-po"}),p(!0)},bt=mt=>{y({id:mt.id,type:"received-invoice"}),p(!0)},St=async mt=>{try{ye.loading("Opening received invoice document...");const Ct=localStorage.getItem("auth_token");if(!Ct){ye.error("Authentication required");return}const Ut=`/api/received-invoices/${mt.id}/file`;fetch(Ut,{headers:{Authorization:`Bearer ${Ct}`}}).then(Kt=>{if(!Kt.ok)throw new Error(`HTTP ${Kt.status}`);return Kt.blob()}).then(Kt=>{const jn=window.URL.createObjectURL(Kt),Fr=document.createElement("a");Fr.href=jn,Fr.target="_blank",Fr.click(),window.URL.revokeObjectURL(jn),ye.dismiss(),ye.success("Opening document")}).catch(Kt=>{ye.dismiss(),Rt.error("Error opening document:",Kt),ye.error("Failed to open document: "+Kt.message)})}catch(Ct){ye.dismiss(),Rt.error("Error opening received invoice document:",Ct),ye.error("Failed to open document")}},Be=mt=>{Y(mt),K(!0)},st=mt=>{ge(mt),X(!0)},lt=mt=>{Y(mt),O(!0)},Zt=async mt=>{try{await lr.submitInvoiceForApproval(mt),ye.success("Invoice submitted for approval"),je()}catch(Ct){Rt.error("Error submitting invoice:",Ct),ye.error(Ct.message||"Failed to submit invoice for approval")}},It=async mt=>{try{await lr.approveInvoice(mt),ye.success("Invoice approved successfully"),je()}catch(Ct){Rt.error("Error approving invoice:",Ct),ye.error(Ct.message||"Failed to approve invoice")}},Tt=async mt=>{try{await lr.withdrawInvoice(mt),ye.success("Invoice withdrawn from approval"),je()}catch(Ct){Rt.error("Error withdrawing invoice:",Ct),ye.error(Ct.message||"Failed to withdraw invoice")}},cr=async mt=>{try{await lr.markInvoiceAsSent(mt),ye.success("Invoice marked as sent"),je()}catch(Ct){Rt.error("Error marking invoice as sent:",Ct),ye.error(Ct.message||"Failed to mark invoice as sent")}},Br=async mt=>{try{await lr.markInvoiceAsPaid(mt),ye.success("Invoice marked as paid"),je()}catch(Ct){Rt.error("Error marking invoice as paid:",Ct),ye.error(Ct.message||"Failed to mark invoice as paid")}},zt=mt=>{Q(mt),z(!0)},Yr=async mt=>{if(window.confirm("Are you sure you want to delete this received invoice?"))try{ye.loading("Deleting received invoice..."),await lr.deleteReceivedInvoice(mt),ye.success("Received invoice deleted successfully"),je()}catch(Ct){Rt.error("Error deleting received invoice:",Ct),ye.error(Ct.message||"Failed to delete received invoice")}},nr=async mt=>{try{ye.loading("Verifying received invoice..."),await lr.verifyReceivedInvoice(mt),ye.success("Received invoice verified successfully"),je()}catch(Ct){Rt.error("Error verifying received invoice:",Ct),ye.error(Ct.message||"Failed to verify received invoice")}},mr=async mt=>{try{ye.loading("Marking received invoice as paid..."),await lr.markReceivedInvoiceAsPaid(mt),ye.success("Received invoice marked as paid"),je()}catch(Ct){Rt.error("Error marking received invoice as paid:",Ct),ye.error(Ct.message||"Failed to mark received invoice as paid")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Documents"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage POs, invoices, and financial documents"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(sTe,{onExport:Ue,disabled:ke,totalCount:l==="received-pos"?H.length:l==="invoices"?G.length:l==="issued-pos"?ue.length:te.length}),o.jsxs("button",{onClick:J,disabled:!n,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${n?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx(ei,{className:"w-4 h-4"}),"Create New"]})]})]})}),o.jsx(VBe,{activeTab:l,onTabChange:c,receivedPOCount:H.length,invoiceCount:G.length,issuedPOCount:ue.length,receivedInvoiceCount:te.length}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx($l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search PO number, client, or project...",value:u,onChange:mt=>A(mt.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u&&o.jsx("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Rr,{className:"w-4 h-4"})})]})})}),ke?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs(o.Fragment,{children:[l==="received-pos"&&o.jsx(Qje,{receivedPOs:H,searchQuery:u,canUpload:n,canDeletePO:a||!1,onViewDocument:Oe,onAttachDocument:at,onEditPO:Be,onDeletePO:ft,onViewDetails:lt}),l==="invoices"&&o.jsx(Hje,{invoices:G,searchQuery:u,onViewPDF:Bt,onUploadDocument:it,onEditInvoice:Xe,onDeleteInvoice:Et,canUpload:n,canDelete:s||!1,canApprove:i,onSubmitForApproval:Zt,onApprove:It,onWithdraw:Tt,onMarkAsSent:cr,onMarkAsPaid:Br,currentUserId:r?.id}),l==="issued-pos"&&o.jsx(zje,{issuedPOs:ue,searchQuery:u,canApprove:i,canDeletePO:a||!1,canUpload:n,onViewPDF:yt,onUploadDocument:Le,onDeletePO:ft,onEditPO:st}),l==="received-invoices"&&o.jsx(Kje,{receivedInvoices:te,searchQuery:u,canVerify:i,canDelete:s||!1,canUpload:!0,onViewDocument:St,onEditInvoice:zt,onDeleteInvoice:mt=>Yr(mt.id),onVerify:nr,onMarkAsPaid:mr,onUploadDocument:bt})]}),h&&m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Documents"})}),o.jsx("div",{className:"p-6",children:o.jsx(Eje,{attachments:[],onFilesAdded:mt=>Ie(m.id,mt),onFileRemoved:mt=>Ye(m.id)})}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{p(!1),y(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"}),o.jsx("button",{onClick:()=>{p(!1),y(null)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})]})]})}),o.jsx(jje,{isOpen:g,onClose:()=>{v(!1),je()}}),o.jsx(_je,{isOpen:w,onClose:()=>{S(!1),je()}}),C&&_&&o.jsx(Tje,{isOpen:C,onClose:()=>{E(!1),L(null),je()},invoice:_,onSave:()=>{E(!1),L(null),je()}}),o.jsx(kje,{isOpen:D,onClose:()=>{P(!1),je()}}),k&&o.jsx(Fje,{isOpen:k,onClose:()=>{z(!1),Q(null),je()},onSuccess:()=>{Q(null),je(),z(!1)},editingInvoice:I}),R&&ee&&o.jsx(Oje,{isOpen:R,po:ee,onClose:()=>K(!1),onSave:async mt=>{try{await lr.updatePurchaseOrder(ee.id,mt),await je(),K(!1),ye.success("PO updated successfully!")}catch(Ct){Rt.error("Error updating PO:",Ct),ye.error(Ct.response?.data?.message||"Failed to update PO"),K(!1)}}}),se&&Ae&&o.jsx(Dje,{isOpen:se,issuedPO:Ae,onClose:()=>{X(!1),ge(null)},onSave:()=>{je(),X(!1),ge(null)}}),Z&&ee&&o.jsx(Pje,{isOpen:Z,po:ee,onClose:()=>{O(!1),Y(null)}})]})})},oTe={USD:"US Dollar",EUR:"Euro",GBP:"British Pound",JPY:"Japanese Yen",AUD:"Australian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc",NZD:"New Zealand Dollar",SGD:"Singapore Dollar",THB:"Thai Baht",IDR:"Indonesian Rupiah",PHP:"Philippine Peso",VND:"Vietnamese Dong",MMK:"Myanmar Kyat",BND:"Brunei Dollar",KHR:"Cambodian Riel",LAK:"Lao Kip",INR:"Indian Rupee",HKD:"Hong Kong Dollar",KRW:"South Korean Won",TWD:"Taiwan Dollar",CNY:"Chinese Yuan",SEK:"Swedish Krona",NOK:"Norwegian Krone",DKK:"Danish Krone"},lTe=["USD","EUR","GBP","JPY","AUD","CAD","CHF","SGD","THB","IDR","PHP","VND","MMK","BND","KHR","LAK","INR","HKD","KRW","TWD","CNY"],cTe=()=>{const[r,e]=B.useState([]),[t,n]=B.useState(!1),[a,s]=B.useState(null),[i,l]=B.useState(null),c=bs.useRef(!1),u=bs.useRef(!1),A=B.useCallback(async()=>{n(!0),s(null);try{const h=new AbortController,p=setTimeout(()=>h.abort(),15e3),m=await fetch(`https://api.frankfurter.app/latest?from=MYR&to=${lTe.join(",")}`,{signal:h.signal});if(clearTimeout(p),!m.ok)throw new Error(`API error: ${m.status}`);const y=await m.json();if(!y.rates)throw new Error("Invalid response from API");const g=Object.entries(y.rates).map(([v,w])=>({currency:v,rate:1/w,name:oTe[v]||v}));g.sort((v,w)=>v.currency.localeCompare(w.currency)),e(g),l(y.date),(u.current||!c.current)&&(ye.success("Exchange rates updated",{id:"exchange-rates-updated"}),c.current=!0,u.current=!1)}catch(h){h.name==="AbortError"?s("Request timed out. Please try again."):s(h.message||"Failed to fetch exchange rates"),console.error("Error fetching exchange rates:",h)}finally{n(!1)}},[]);return B.useEffect(()=>{A()},[A]),o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx(X7,{title:"Exchange Rates",description:"Live currency conversion rates to MYR (Malaysian Ringgit)"}),o.jsx(Vr,{padding:"sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ree,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Frankfurter API"}),o.jsx("p",{className:"text-xs text-gray-500",children:"European Central Bank data"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(so,{className:"w-4 h-4"}),o.jsxs("span",{children:["Date: ",i]})]}),o.jsxs("button",{onClick:()=>{u.current=!0,A()},disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[o.jsx(uC,{className:`w-4 h-4 ${t?"animate-spin":""}`}),t?"Loading...":"Refresh"]})]})]})}),a&&o.jsx(Vr,{className:"bg-red-50 border-red-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[o.jsx(os,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:a}),o.jsx("button",{onClick:()=>{u.current=!0,A()},className:"ml-auto text-sm underline hover:no-underline",children:"Retry"})]})}),o.jsxs(Vr,{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Exchange Rates to MYR"}),t&&r.length===0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((h,p)=>o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 animate-pulse",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-28"})]},p))}):r.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(g_,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No exchange rates available"}),o.jsx("button",{onClick:()=>{u.current=!0,A()},className:"mt-3 text-emerald-600 hover:underline",children:"Click to fetch rates"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map(h=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:h.currency}),o.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:h.name})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["1 ",h.currency," ="]}),o.jsxs("div",{className:"text-xl font-semibold text-emerald-600",children:["MYR ",h.rate.toFixed(4)]})]},h.currency))})]}),o.jsx(Vr,{className:"bg-blue-50 border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Exchange rates are from the"," ",o.jsx("a",{href:"https://www.frankfurter.app/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"Frankfurter API"})," ","(European Central Bank data). Rates are updated daily on business days."]})})]})},uTe=()=>{const{user:r}=hf(),{projects:e,timesheets:t,fetchProjects:n,fetchTimesheets:a}=is(),{clients:s,fetchClients:i}=ff(),{researchProjects:l,researchTimesheets:c,fetchResearchProjects:u,fetchResearchTimesheets:A}=nf(),[h,p]=B.useState(new Date().getFullYear()),[m,y]=B.useState(null),[g,v]=B.useState(!1);B.useEffect(()=>{n(),a(),i(),u(),A()},[]);const w=B.useMemo(()=>r?(Array.isArray(t)?t:[]).filter(X=>X.engineerId===r.id):[],[t,r?.id]),S=B.useMemo(()=>r?e.filter(X=>X.engineerId===r.id):[],[e,r?.id]),C=B.useMemo(()=>h==="all"?w:w.filter(X=>new Date(X.date).getFullYear()===h),[w,h]),E=B.useMemo(()=>r?(Array.isArray(c)?c:[]).filter(X=>X.teamMemberId===r.id):[],[c,r?.id]),_=B.useMemo(()=>h==="all"?E:E.filter(X=>new Date(X.date).getFullYear()===h),[E,h]),L=B.useMemo(()=>{const X=C.reduce((Z,O)=>Z+parseFloat(O.hours.toString()||"0"),0),Ae=new Set(C.map(Z=>Z.projectId.toString())).size,ge=Ae>0?X/Ae:0;return{totalHours:X,projectsWorkedOn:Ae,avgHoursPerProject:ge}},[C]),D=B.useMemo(()=>{const X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ae={};return X.forEach(ge=>{Ae[ge]={}}),C.forEach(ge=>{const Z=new Date(ge.date),O=X[Z.getMonth()],V=e.find(G=>G.id===ge.projectId.toString())?.projectCode||"Unknown";Ae[O][V]||(Ae[O][V]=0),Ae[O][V]+=parseFloat(ge.hours.toString()||"0")}),X.map(ge=>({name:ge,...Ae[ge]}))},[C,e]),P=B.useMemo(()=>{const X=new Set;return C.forEach(Ae=>{const ge=e.find(Z=>Z.id===Ae.projectId.toString());ge&&X.add(ge.projectCode)}),Array.from(X)},[C,e]),k=B.useMemo(()=>{const X=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0","#34a853","#ff6d00","#ab47bc"],Ae={};return P.forEach((ge,Z)=>{Ae[ge]=X[Z%X.length]}),Ae},[P]);B.useMemo(()=>{const X={},Ae=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0"];return C.forEach(ge=>{const Z=e.find(O=>O.id===ge.projectId.toString());Z&&(X[Z.id]||(X[Z.id]={name:Z.projectCode,hours:0,color:Ae[Object.keys(X).length%Ae.length]}),X[Z.id].hours+=parseFloat(ge.hours.toString()||"0"))}),Object.values(X).sort((ge,Z)=>Z.hours-ge.hours).slice(0,5)},[C,e]);const z=B.useMemo(()=>{const X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ae={};return X.forEach(ge=>{Ae[ge]={}}),_.forEach(ge=>{const Z=new Date(ge.date),O=X[Z.getMonth()],H=l.find(G=>G.id===ge.projectId.toString()),V=H?.researchCode||H?.title||"Unknown";Ae[O][V]||(Ae[O][V]=0),Ae[O][V]+=parseFloat(ge.hoursLogged.toString()||"0")}),X.map(ge=>({name:ge,...Ae[ge]}))},[_,l]),I=B.useMemo(()=>{const X=new Set;return _.forEach(Ae=>{const ge=l.find(Z=>Z.id===Ae.projectId.toString());ge&&X.add(ge.researchCode||ge.title||"Unknown")}),Array.from(X)},[_,l]),Q=B.useMemo(()=>{const X=["#10b981","#8b5cf6","#f59e0b","#ef4444","#06b6d4","#ec4899","#84cc16","#f97316"],Ae={};return I.forEach((ge,Z)=>{Ae[ge]=X[Z%X.length]}),Ae},[I]),R=B.useMemo(()=>{const X={engineering:0,"project-management":0,"measurement-site":0,"measurement-office":0};C.forEach(Z=>{X[Z.workCategory]+=parseFloat(Z.hours.toString()||"0")});const Ae=Object.values(X).reduce((Z,O)=>Z+O,0),ge={engineering:"#00bfb3","project-management":"#4285f4","measurement-site":"#fbbc04","measurement-office":"#ea4335"};return[{name:"Engineering",value:X.engineering,percentage:Ae>0?X.engineering/Ae*100:0,color:ge.engineering},{name:"Project Mgmt",value:X["project-management"],percentage:Ae>0?X["project-management"]/Ae*100:0,color:ge["project-management"]},{name:"Measurement (Site)",value:X["measurement-site"],percentage:Ae>0?X["measurement-site"]/Ae*100:0,color:ge["measurement-site"]},{name:"Measurement (Office)",value:X["measurement-office"],percentage:Ae>0?X["measurement-office"]/Ae*100:0,color:ge["measurement-office"]}].filter(Z=>Z.value>0)},[C]),K=B.useMemo(()=>{const X={CFD:0,FEA:0,"Vibration & Acoustic":0},Ae={"computational-fluid-dynamic":"CFD","Computational Fluid Dynamics":"CFD",CFD:"CFD","finite-element-analysis":"FEA","Finite Element Analysis":"FEA",FEA:"FEA","vibration-acoustic":"Vibration & Acoustic",Vibration:"Vibration & Acoustic","Vibration & Acoustic":"Vibration & Acoustic",Acoustic:"Vibration & Acoustic"};S.forEach(O=>{let H=O.categories||O.workTypes;if(typeof H=="string")try{H=JSON.parse(H)}catch{console.warn("Failed to parse categories:",H)}H&&Array.isArray(H)&&H.forEach(V=>{const G=Ae[V];if(G){const ae=C.filter(ue=>ue.projectId===O.id).reduce((ue,Se)=>ue+Se.hours,0);X[G]+=ae}})});const ge={CFD:"#6366f1",FEA:"#ec4899","Vibration & Acoustic":"#f59e0b"},Z=Object.values(X).reduce((O,H)=>O+H,0);return Object.entries(X).map(([O,H])=>({name:O,value:H,percentage:Z>0?H/Z*100:0,color:ge[O]})).filter(O=>O.value>0)},[S,C]),ee=B.useMemo(()=>S.map(X=>{const Ae=C.filter(ge=>ge.projectId===X.id).reduce((ge,Z)=>ge+Z.hours,0);return{...X,hoursWorked:Ae}}),[S,C]),Y=X=>{y(X),v(!0)},se=[new Date().getFullYear()-2,new Date().getFullYear()-1,new Date().getFullYear()];return o.jsxs("div",{className:"min-h-full bg-gray-50 p-4 md:p-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Your personal work progress and statistics"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[o.jsx(so,{className:"w-4 h-4 text-gray-600 ml-2"}),o.jsxs("select",{value:h,onChange:X=>p(X.target.value==="all"?"all":parseInt(X.target.value)),className:"px-3 py-2 bg-transparent border-0 rounded font-medium text-gray-900 focus:ring-2 focus:ring-primary-500",children:[se.map(X=>o.jsx("option",{value:X,children:X},X)),o.jsx("option",{value:"all",children:"All Time"})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-cyan-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Hours"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:L.totalHours.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours tracked"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(To,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-blue-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:L.projectsWorkedOn}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"projects worked on"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(yd,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-green-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Hours/Project"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:L.avgHoursPerProject.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours per project"})]}),o.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:o.jsx(d7,{className:"w-6 h-6 text-green-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Project Hours"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours tracked each month on engineering projects"})]}),o.jsx(wp,{width:"100%",height:300,children:o.jsxs(IL,{data:D,margin:{top:5,right:20,left:-20,bottom:5},children:[o.jsx(tj,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),o.jsx(nj,{dataKey:"name",tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(sj,{tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(bp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},formatter:(X,Ae)=>[`${X} hrs`,Ae]}),o.jsx(jy,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"rect"}),P.map(X=>o.jsx(Z4,{dataKey:X,stackId:"hours",fill:k[X],radius:[0,0,0,0]},X))]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Work by Category"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time spent on different work types"})]}),o.jsx(wp,{width:"100%",height:300,children:o.jsxs(w2,{children:[o.jsx(Iy,{data:R,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:R.map((X,Ae)=>o.jsx(Zh,{fill:X.color},`cell-${Ae}`))}),o.jsx(bp,{formatter:X=>`${X} hrs`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:R.map((X,Ae)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:X.color}}),o.jsx("span",{className:"text-gray-700",children:X.name})]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[X.percentage.toFixed(0),"%"]})]},Ae))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Research Hours"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours tracked each month on research projects"})]}),I.length===0?o.jsx("div",{className:"h-[300px] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-500",children:"No research hours tracked"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Hours will appear here when you log time on research projects"})]})}):o.jsx(wp,{width:"100%",height:300,children:o.jsxs(IL,{data:z,margin:{top:5,right:20,left:-20,bottom:5},children:[o.jsx(tj,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),o.jsx(nj,{dataKey:"name",tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(sj,{tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(bp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},formatter:(X,Ae)=>[`${X} hrs`,Ae]}),o.jsx(jy,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"rect"}),I.map(X=>o.jsx(Z4,{dataKey:X,stackId:"hours",fill:Q[X],radius:[0,0,0,0]},X))]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Work Fields"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time spent by engineering field"})]}),K.length===0?o.jsx("div",{className:"h-[300px] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-500",children:"No field data available"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Fields will appear when you work on projects with work types assigned"})]})}):o.jsxs(o.Fragment,{children:[o.jsx(wp,{width:"100%",height:240,children:o.jsxs(w2,{children:[o.jsx(Iy,{data:K,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:K.map((X,Ae)=>o.jsx(Zh,{fill:X.color},`cell-field-${Ae}`))}),o.jsx(bp,{formatter:X=>`${X} hrs`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:K.map((X,Ae)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:X.color}}),o.jsx("span",{className:"text-gray-700",children:X.name})]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[X.percentage.toFixed(0),"%"]})]},Ae))})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects you're assigned to"})]})}),ee.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(yd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned yet"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.map(X=>{const Ae=s.find(ge=>ge.id===X.companyId);return X.plannedHours>0&&(X.actualHours||0)/X.plannedHours*100,o.jsxs("tr",{onClick:()=>Y(X),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:X.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:X.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:Ae?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[X.hoursWorked," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",X.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(X.actualHours||0)>X.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(X.plannedHours>0?(X.actualHours||0)/X.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${X.status==="ongoing"?"bg-blue-50 text-blue-700":X.status==="completed"?"bg-emerald-50 text-emerald-700":X.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:X.status==="pre-lim"?"Preliminary":X.status.charAt(0).toUpperCase()+X.status.slice(1)})})]},X.id)})})]})})]})]}),g&&m&&o.jsx(E_,{project:m,isOpen:g,onClose:()=>{v(!1),y(null)}})]})},dTe=()=>o.jsx(uTe,{}),ATe=()=>{const{teamMembers:r}=Oo(),{projects:e}=is(),[t,n]=B.useState([]),[a,s]=B.useState(!0),[i,l]=B.useState(null),[c,u]=B.useState("all"),[A,h]=B.useState(new Set),p=B.useCallback(async()=>{s(!0),l(null);try{const v=await wr.getAllTeamMembers({status:"all"}),w=Array.isArray(v)?v:v?.data||[];if(console.log("TeamWorkload: Fetched",w.length,"team members"),w.length===0){console.log("TeamWorkload: No team members found"),n([]),s(!1);return}let S={};try{S=await vp.getAllTeamAssignments(),console.log("TeamWorkload: Fetched assignments:",JSON.stringify(S,null,2)),console.log("TeamWorkload: Assignment keys:",Object.keys(S)),console.log("TeamWorkload: Fetched assignments for",Object.keys(S).length,"members");const E=w.find(_=>_.name?.toLowerCase().includes("hadi")||_.email?.toLowerCase().includes("hadi"));E&&(console.log("TeamWorkload: Hadi member ID:",E.id),console.log("TeamWorkload: Hadi assignments:",S[E.id]))}catch(E){console.error("TeamWorkload: Error fetching assignments:",E)}const C=[];for(const E of w)try{const _=E.user||{},L=_.name||E.name||"Unknown",D=_.email||E.email||"",P=_.avatar||E.avatar||"male-01",k=_.role||E.role||"engineer",I=(S[E.id]||[]).map(R=>({projectId:R.projectId,projectCode:R.projectCode,projectTitle:R.projectTitle,role:R.role,status:R.status})),Q=I.filter(R=>R.status!=="completed");C.push({id:E.id,name:L,email:D,avatar:P,role:k,department:E.department||"Engineering",assignedProjects:I,totalAssignments:Q.length,isAvailable:Q.length===0})}catch(_){console.error("TeamWorkload: Error processing member:",_)}console.log("TeamWorkload: Built",C.length,"workload entries"),n(C)}catch(v){console.error("TeamWorkload: Error loading data:",v),l(v.message||"Failed to load team workload data")}finally{s(!1)}},[]);B.useEffect(()=>{p();const v=setTimeout(()=>{s(w=>w&&(console.warn("TeamWorkload: Loading timeout reached"),!1))},15e3);return()=>clearTimeout(v)},[p]);const m=B.useMemo(()=>{switch(c){case"assigned":return t.filter(v=>v.totalAssignments>0);case"available":return t.filter(v=>v.totalAssignments===0);default:return t}},[t,c]),y=B.useMemo(()=>{const v=t.length,w=t.filter(E=>E.totalAssignments>0).length,S=t.filter(E=>E.totalAssignments===0).length,C=t.reduce((E,_)=>E+_.totalAssignments,0);return{total:v,assigned:w,available:S,totalAssignments:C}},[t]),g=v=>{const w=new Set(A);w.has(v)?w.delete(v):w.add(v),h(w)};return a?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"Loading team workload data..."})]}):i?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(yp,{className:"w-16 h-16 mb-4 text-red-400"}),o.jsx("p",{className:"text-lg font-medium mb-2 text-red-600",children:"Error loading data"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:i}),o.jsx(Qt,{onClick:p,variant:"outline",size:"sm",children:"Retry"})]}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(Nu,{className:"w-16 h-16 mb-4 text-gray-300"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No team members found"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Add team members to see workload data"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{onClick:()=>u("all"),className:`bg-white rounded-2xl shadow-sm border p-6 cursor-pointer transition-all ${c==="all"?"border-primary-500 ring-2 ring-primary-100":"border-gray-100 hover:shadow-md"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(Nu,{className:"w-6 h-6 text-blue-600"})}),c==="all"&&o.jsx("span",{className:"text-xs font-medium text-primary-600 bg-primary-100 px-2 py-1 rounded-full",children:"Showing"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Engineers"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.total})]}),o.jsxs("div",{onClick:()=>u("assigned"),className:`bg-white rounded-2xl shadow-sm border p-6 cursor-pointer transition-all ${c==="assigned"?"border-green-500 ring-2 ring-green-100":"border-gray-100 hover:shadow-md"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(Cu,{className:"w-6 h-6 text-green-600"})}),c==="assigned"&&o.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"Showing"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Assigned"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.assigned}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Working on projects"})]}),o.jsxs("div",{onClick:()=>u("available"),className:`bg-white rounded-2xl shadow-sm border p-6 cursor-pointer transition-all ${c==="available"?"border-emerald-500 ring-2 ring-emerald-100":"border-gray-100 hover:shadow-md"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:o.jsx(za,{className:"w-6 h-6 text-emerald-600"})}),c==="available"&&o.jsx("span",{className:"text-xs font-medium text-emerald-600 bg-emerald-100 px-2 py-1 rounded-full",children:"Showing"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Available"}),o.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:y.available}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Ready for assignment"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:o.jsx(Cu,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Assignments"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.totalAssignments})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(pg,{className:"w-4 h-4"}),o.jsxs("span",{children:["Showing: ",o.jsx("span",{className:"font-medium capitalize",children:c==="all"?"All Engineers":c==="assigned"?"Assigned Engineers":"Available Engineers"})," ","(",m.length," results)"]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Projects"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(v=>{const w=A.has(v.id);return o.jsxs(bs.Fragment,{children:[o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lw,{src:v.avatar,alt:v.name,size:"sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:v.name}),o.jsx("p",{className:"text-xs text-gray-500",children:v.email})]})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 capitalize",children:v.department}),o.jsx("td",{className:"px-6 py-4",children:v.isAvailable?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:[o.jsx(za,{className:"w-3 h-3"}),"Available"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.jsx(Cu,{className:"w-3 h-3"}),"Assigned"]})}),o.jsx("td",{className:"px-6 py-4",children:v.totalAssignments>0?o.jsxs("button",{onClick:()=>g(v.id),className:"flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700",children:[w?o.jsx(kc,{className:"w-4 h-4"}):o.jsx(gA,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-medium",children:[v.totalAssignments," project",v.totalAssignments!==1?"s":""]})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"-"})})]}),w&&v.assignedProjects.filter(S=>S.status!=="completed").length>0&&o.jsx("tr",{className:"bg-gray-50",children:o.jsx("td",{colSpan:4,className:"px-6 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Assigned Projects:"}),v.assignedProjects.filter(S=>S.status!=="completed").map(S=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded-lg border border-gray-200",children:[o.jsx("span",{className:"font-mono text-xs font-semibold text-gray-900",children:S.projectCode}),o.jsx("span",{className:"text-sm text-gray-700 flex-1",children:S.projectTitle}),o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${S.role==="lead_engineer"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:S.role==="lead_engineer"?"Lead":"Engineer"}),o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${S.status==="ongoing"?"bg-blue-100 text-blue-800":S.status==="pre-lim"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:S.status})]},S.projectId))]})})})]},v.id)})})]})}),m.length===0&&o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Nu,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No engineers found matching the selected filter"})]})]})]})};var Ej=function(r,e){return Ej=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Ej(r,e)};function Fu(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ej(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var jj=function(){return jj=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jj.apply(this,arguments)};function vo(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(A){try{u(n.next(A))}catch(h){i(h)}}function c(A){try{u(n.throw(A))}catch(h){i(h)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(r,[])).next())})}function to(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(A){u=[6,A],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Fb(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var PA=(function(){function r(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return r.prototype.add=function(e,t,n,a){return new r(this.left+e,this.top+t,this.width+n,this.height+a)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),y5=function(r,e){return PA.fromClientRect(r,e.getBoundingClientRect())},hTe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new PA(0,0,n,a)},v5=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},gs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},mR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fTe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ob=0;Ob<mR.length;Ob++)fTe[mR.charCodeAt(Ob)]=Ob;var pR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Db=0;Db<pR.length;Db++)Zx[pR.charCodeAt(Db)]=Db;var mTe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=Zx[r.charCodeAt(n)],i=Zx[r.charCodeAt(n+1)],l=Zx[r.charCodeAt(n+2)],c=Zx[r.charCodeAt(n+3)],A[a++]=s<<2|i>>4,A[a++]=(i&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},pTe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},gTe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},B0=5,mk=11,aE=2,xTe=mk-B0,gq=65536>>B0,yTe=1<<B0,sE=yTe-1,vTe=1024>>B0,bTe=gq+vTe,wTe=bTe,CTe=32,NTe=wTe+CTe,STe=65536>>mk,BTe=1<<xTe,ETe=BTe-1,gR=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},jTe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},_Te=function(r,e){var t=mTe(r),n=Array.isArray(t)?gTe(t):new Uint32Array(t),a=Array.isArray(t)?pTe(t):new Uint16Array(t),s=24,i=gR(a,s/2,n[4]/2),l=n[5]===2?gR(a,(s+n[4])/2):jTe(n,Math.ceil((s+n[4])/4));return new TTe(n[0],n[1],n[2],n[3],i,l)},TTe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>B0],t=(t<<aE)+(e&sE),this.data[t];if(e<=65535)return t=this.index[gq+(e-55296>>B0)],t=(t<<aE)+(e&sE),this.data[t];if(e<this.highStart)return t=NTe-STe+(e>>mk),t=this.index[t],t+=e>>B0&ETe,t=this.index[t],t=(t<<aE)+(e&sE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),xR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kTe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pb=0;Pb<xR.length;Pb++)kTe[xR.charCodeAt(Pb)]=Pb;var FTe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",yR=50,OTe=1,xq=2,yq=3,DTe=4,PTe=5,vR=7,vq=8,bR=9,zh=10,_j=11,wR=12,Tj=13,ITe=14,ey=15,kj=16,Ib=17,Qx=18,LTe=19,CR=20,Fj=21,Hx=22,iE=23,np=24,_l=25,ty=26,ry=27,ap=28,MTe=29,o0=30,RTe=31,Lb=32,Mb=33,Oj=34,Dj=35,Pj=36,Jy=37,Ij=38,ww=39,Cw=40,oE=41,bq=42,UTe=43,QTe=[9001,65288],wq="!",rn="",Rb="",Lj=_Te(FTe),sA=[o0,Pj],Mj=[OTe,xq,yq,PTe],Cq=[zh,vq],NR=[ry,ty],HTe=Mj.concat(Cq),SR=[Ij,ww,Cw,Oj,Dj],zTe=[ey,Tj],KTe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return r.forEach(function(s,i){var l=Lj.get(s);if(l>yR?(a.push(!0),l-=yR):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),t.push(kj);if(l===DTe||l===_j){if(i===0)return n.push(i),t.push(o0);var c=t[i-1];return HTe.indexOf(c)===-1?(n.push(n[i-1]),t.push(c)):(n.push(i),t.push(o0))}if(n.push(i),l===RTe)return t.push(e==="strict"?Fj:Jy);if(l===bq||l===MTe)return t.push(o0);if(l===UTe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Jy):t.push(o0);t.push(l)}),[n,t,a]},lE=function(r,e,t,n){var a=n[t];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var s=t;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==zh)break}if(a===zh)for(var s=t;s>0;){s--;var l=n[s];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var c=t;c<=n.length;){c++;var i=n[c];if(i===e)return!0;if(i!==zh)break}if(l!==zh)break}return!1},BR=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===zh)t--;else return n}return 0},$Te=function(r,e,t,n,a){if(t[n]===0)return rn;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return rn;var i=s-1,l=s+1,c=e[s],u=i>=0?e[i]:0,A=e[l];if(c===xq&&A===yq)return rn;if(Mj.indexOf(c)!==-1)return wq;if(Mj.indexOf(A)!==-1||Cq.indexOf(A)!==-1)return rn;if(BR(s,e)===vq)return Rb;if(Lj.get(r[s])===_j||(c===Lb||c===Mb)&&Lj.get(r[l])===_j||c===vR||A===vR||c===bR||[zh,Tj,ey].indexOf(c)===-1&&A===bR||[Ib,Qx,LTe,np,ap].indexOf(A)!==-1||BR(s,e)===Hx||lE(iE,Hx,s,e)||lE([Ib,Qx],Fj,s,e)||lE(wR,wR,s,e))return rn;if(c===zh)return Rb;if(c===iE||A===iE)return rn;if(A===kj||c===kj)return Rb;if([Tj,ey,Fj].indexOf(A)!==-1||c===ITe||u===Pj&&zTe.indexOf(c)!==-1||c===ap&&A===Pj||A===CR||sA.indexOf(A)!==-1&&c===_l||sA.indexOf(c)!==-1&&A===_l||c===ry&&[Jy,Lb,Mb].indexOf(A)!==-1||[Jy,Lb,Mb].indexOf(c)!==-1&&A===ty||sA.indexOf(c)!==-1&&NR.indexOf(A)!==-1||NR.indexOf(c)!==-1&&sA.indexOf(A)!==-1||[ry,ty].indexOf(c)!==-1&&(A===_l||[Hx,ey].indexOf(A)!==-1&&e[l+1]===_l)||[Hx,ey].indexOf(c)!==-1&&A===_l||c===_l&&[_l,ap,np].indexOf(A)!==-1)return rn;if([_l,ap,np,Ib,Qx].indexOf(A)!==-1)for(var h=s;h>=0;){var p=e[h];if(p===_l)return rn;if([ap,np].indexOf(p)!==-1)h--;else break}if([ry,ty].indexOf(A)!==-1)for(var h=[Ib,Qx].indexOf(c)!==-1?i:s;h>=0;){var p=e[h];if(p===_l)return rn;if([ap,np].indexOf(p)!==-1)h--;else break}if(Ij===c&&[Ij,ww,Oj,Dj].indexOf(A)!==-1||[ww,Oj].indexOf(c)!==-1&&[ww,Cw].indexOf(A)!==-1||[Cw,Dj].indexOf(c)!==-1&&A===Cw||SR.indexOf(c)!==-1&&[CR,ty].indexOf(A)!==-1||SR.indexOf(A)!==-1&&c===ry||sA.indexOf(c)!==-1&&sA.indexOf(A)!==-1||c===np&&sA.indexOf(A)!==-1||sA.concat(_l).indexOf(c)!==-1&&A===Hx&&QTe.indexOf(r[l])===-1||sA.concat(_l).indexOf(A)!==-1&&c===Qx)return rn;if(c===oE&&A===oE){for(var m=t[s],y=1;m>0&&(m--,e[m]===oE);)y++;if(y%2!==0)return rn}return c===Lb&&A===Mb?rn:Rb},VTe=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=KTe(r,e.lineBreak),n=t[0],a=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[_l,o0,bq].indexOf(l)!==-1?Jy:l}));var i=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,a,i]},qTe=(function(){function r(e,t,n,a){this.codePoints=e,this.required=t===wq,this.start=n,this.end=a}return r.prototype.slice=function(){return gs.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),GTe=function(r,e){var t=v5(r),n=VTe(t,e),a=n[0],s=n[1],i=n[2],l=t.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=rn;u<l&&(A=$Te(t,s,a,++u,i))===rn;);if(A!==rn||u===l){var h=new qTe(t,A,c,u);return c=u,{value:h,done:!1}}return{done:!0,value:null}}}},WTe=1,YTe=2,Kv=4,ER=8,z2=10,jR=47,py=92,XTe=9,JTe=32,Ub=34,zx=61,ZTe=35,e3e=36,t3e=37,Qb=39,Hb=40,Kx=41,r3e=95,nl=45,n3e=33,a3e=60,s3e=62,i3e=64,o3e=91,l3e=93,c3e=61,u3e=123,zb=63,d3e=125,_R=124,A3e=126,h3e=128,TR=65533,cE=42,p0=43,f3e=44,m3e=58,p3e=59,Zy=46,g3e=0,x3e=8,y3e=11,v3e=14,b3e=31,w3e=127,id=-1,Nq=48,Sq=97,Bq=101,C3e=102,N3e=117,S3e=122,Eq=65,jq=69,_q=70,B3e=85,E3e=90,ao=function(r){return r>=Nq&&r<=57},j3e=function(r){return r>=55296&&r<=57343},sp=function(r){return ao(r)||r>=Eq&&r<=_q||r>=Sq&&r<=C3e},_3e=function(r){return r>=Sq&&r<=S3e},T3e=function(r){return r>=Eq&&r<=E3e},k3e=function(r){return _3e(r)||T3e(r)},F3e=function(r){return r>=h3e},Kb=function(r){return r===z2||r===XTe||r===JTe},K2=function(r){return k3e(r)||F3e(r)||r===r3e},kR=function(r){return K2(r)||ao(r)||r===nl},O3e=function(r){return r>=g3e&&r<=x3e||r===y3e||r>=v3e&&r<=b3e||r===w3e},Ih=function(r,e){return r!==py?!1:e!==z2},$b=function(r,e,t){return r===nl?K2(e)||Ih(e,t):K2(r)?!0:!!(r===py&&Ih(r,e))},uE=function(r,e,t){return r===p0||r===nl?ao(e)?!0:e===Zy&&ao(t):ao(r===Zy?e:r)},D3e=function(r){var e=0,t=1;(r[e]===p0||r[e]===nl)&&(r[e]===nl&&(t=-1),e++);for(var n=[];ao(r[e]);)n.push(r[e++]);var a=n.length?parseInt(gs.apply(void 0,n),10):0;r[e]===Zy&&e++;for(var s=[];ao(r[e]);)s.push(r[e++]);var i=s.length,l=i?parseInt(gs.apply(void 0,s),10):0;(r[e]===jq||r[e]===Bq)&&e++;var c=1;(r[e]===p0||r[e]===nl)&&(r[e]===nl&&(c=-1),e++);for(var u=[];ao(r[e]);)u.push(r[e++]);var A=u.length?parseInt(gs.apply(void 0,u),10):0;return t*(a+l*Math.pow(10,-i))*Math.pow(10,c*A)},P3e={type:2},I3e={type:3},L3e={type:4},M3e={type:13},R3e={type:8},U3e={type:21},Q3e={type:9},H3e={type:10},z3e={type:11},K3e={type:12},$3e={type:14},Vb={type:23},V3e={type:1},q3e={type:25},G3e={type:24},W3e={type:26},Y3e={type:27},X3e={type:28},J3e={type:29},Z3e={type:31},Rj={type:32},Tq=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(v5(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Rj;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ub:return this.consumeStringToken(Ub);case ZTe:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(kR(t)||Ih(n,a)){var s=$b(t,n,a)?YTe:WTe,i=this.consumeName();return{type:5,value:i,flags:s}}break;case e3e:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),M3e;break;case Qb:return this.consumeStringToken(Qb);case Hb:return P3e;case Kx:return I3e;case cE:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),$3e;break;case p0:if(uE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case f3e:return L3e;case nl:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(uE(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if($b(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===nl&&u===s3e)return this.consumeCodePoint(),this.consumeCodePoint(),G3e;break;case Zy:if(uE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case jR:if(this.peekCodePoint(0)===cE)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===cE&&(A=this.consumeCodePoint(),A===jR))return this.consumeToken();if(A===id)return this.consumeToken()}break;case m3e:return W3e;case p3e:return Y3e;case a3e:if(this.peekCodePoint(0)===n3e&&this.peekCodePoint(1)===nl&&this.peekCodePoint(2)===nl)return this.consumeCodePoint(),this.consumeCodePoint(),q3e;break;case i3e:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),m=this.peekCodePoint(2);if($b(h,p,m)){var i=this.consumeName();return{type:7,value:i}}break;case o3e:return X3e;case py:if(Ih(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case l3e:return J3e;case c3e:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),R3e;break;case u3e:return z3e;case d3e:return K3e;case N3e:case B3e:var y=this.peekCodePoint(0),g=this.peekCodePoint(1);return y===p0&&(sp(g)||g===zb)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case _R:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),Q3e;if(this.peekCodePoint(0)===_R)return this.consumeCodePoint(),U3e;break;case A3e:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),H3e;break;case id:return Rj}return Kb(e)?(this.consumeWhiteSpace(),Z3e):ao(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):K2(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:gs(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();sp(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===zb&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(gs.apply(void 0,e.map(function(c){return c===zb?Nq:c})),16),s=parseInt(gs.apply(void 0,e.map(function(c){return c===zb?_q:c})),16);return{type:30,start:a,end:s}}var i=parseInt(gs.apply(void 0,e),16);if(this.peekCodePoint(0)===nl&&sp(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];sp(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var s=parseInt(gs.apply(void 0,l),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Hb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Hb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===id)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Qb||t===Ub){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===id||this.peekCodePoint(0)===Kx)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Vb)}for(;;){var a=this.consumeCodePoint();if(a===id||a===Kx)return{type:22,value:gs.apply(void 0,e)};if(Kb(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===id||this.peekCodePoint(0)===Kx?(this.consumeCodePoint(),{type:22,value:gs.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Vb);if(a===Ub||a===Qb||a===Hb||O3e(a))return this.consumeBadUrlRemnants(),Vb;if(a===py)if(Ih(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Vb;else e.push(a)}},r.prototype.consumeWhiteSpace=function(){for(;Kb(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Kx||e===id)return;Ih(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=gs.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===id||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===z2)return this._value.splice(0,n),V3e;if(a===py){var s=this._value[n+1];s!==id&&s!==void 0&&(s===z2?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ih(a,s)&&(t+=this.consumeStringSlice(n),t+=gs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Kv,n=this.peekCodePoint(0);for((n===p0||n===nl)&&e.push(this.consumeCodePoint());ao(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Zy&&ao(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ER;ao(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===jq||n===Bq)&&((a===p0||a===nl)&&ao(s)||ao(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ER;ao(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[D3e(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if($b(a,s,i)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return a===t3e?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(sp(e)){for(var t=gs(e);sp(this.peekCodePoint(0))&&t.length<6;)t+=gs(this.consumeCodePoint());Kb(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||j3e(n)||n>1114111?TR:n}return e===id?TR:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(kR(t))e+=gs(t);else if(Ih(t,this.peekCodePoint(0)))e+=gs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),kq=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new Tq;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||tke(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Rj:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),$v=function(r){return r.type===15},Lg=function(r){return r.type===17},ra=function(r){return r.type===20},eke=function(r){return r.type===0},Uj=function(r,e){return ra(r)&&r.value===e},Fq=function(r){return r.type!==31},ug=function(r){return r.type!==31&&r.type!==4},Bd=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},tke=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},uf=function(r){return r.type===17||r.type===15},Ds=function(r){return r.type===16||uf(r)},Oq=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Ki={type:17,number:0,flags:Kv},pk={type:16,number:50,flags:Kv},Kh={type:16,number:100,flags:Kv},ny=function(r,e,t){var n=r[0],a=r[1];return[da(n,e),da(typeof a<"u"?a:n,t)]},da=function(r,e){if(r.type===16)return r.number/100*e;if($v(r))switch(r.unit){case"rem":case"em":return 16*r.number;default:return r.number}return r.number},Dq="deg",Pq="grad",Iq="rad",Lq="turn",b5={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case Dq:return Math.PI*e.number/180;case Pq:return Math.PI/200*e.number;case Iq:return e.number;case Lq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Mq=function(r){return r.type===15&&(r.unit===Dq||r.unit===Pq||r.unit===Iq||r.unit===Lq)},Rq=function(r){var e=r.filter(ra).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ki,Ki];case"to top":case"bottom":return _c(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ki,Kh];case"to right":case"left":return _c(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Kh,Kh];case"to bottom":case"top":return _c(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Kh,Ki];case"to left":case"right":return _c(270)}return 0},_c=function(r){return Math.PI*r/180},Wh={name:"color",parse:function(r,e){if(e.type===18){var t=rke[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return $h(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return $h(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return $h(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return $h(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var l=NA[e.value.toUpperCase()];if(typeof l<"u")return l}return NA.TRANSPARENT}},Yh=function(r){return(255&r)===0},di=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,a=255&r>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},$h=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},FR=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},OR=function(r,e){var t=e.filter(ug);if(t.length===3){var n=t.map(FR),a=n[0],s=n[1],i=n[2];return $h(a,s,i,1)}if(t.length===4){var l=t.map(FR),a=l[0],s=l[1],i=l[2],c=l[3];return $h(a,s,i,c)}return 0};function dE(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var DR=function(r,e){var t=e.filter(ug),n=t[0],a=t[1],s=t[2],i=t[3],l=(n.type===17?_c(n.number):b5.parse(r,n))/(Math.PI*2),c=Ds(a)?a.number/100:0,u=Ds(s)?s.number/100:0,A=typeof i<"u"&&Ds(i)?da(i,1):1;if(c===0)return $h(u*255,u*255,u*255,1);var h=u<=.5?u*(c+1):u+c-u*c,p=u*2-h,m=dE(p,h,l+1/3),y=dE(p,h,l),g=dE(p,h,l-1/3);return $h(m*255,y*255,g*255,A)},rke={hsl:DR,hsla:DR,rgb:OR,rgba:OR},gy=function(r,e){return Wh.parse(r,kq.create(e).parseComponentValue())},NA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},nke={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ra(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ake={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},w5=function(r,e){var t=Wh.parse(r,e[0]),n=e[1];return n&&Ds(n)?{color:t,stop:n}:{color:t,stop:null}},PR=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Ki),n.stop===null&&(n.stop=Kh);for(var a=[],s=0,i=0;i<r.length;i++){var l=r[i].stop;if(l!==null){var c=da(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var A=a[i];if(A===null)u===null&&(u=i);else if(u!==null){for(var h=i-u,p=a[u-1],m=(A-p)/(h+1),y=1;y<=h;y++)a[u+y-1]=m*y;u=null}}return r.map(function(g,v){var w=g.color;return{color:w,stop:Math.max(Math.min(1,a[v]/e),0)}})},ske=function(r,e,t){var n=e/2,a=t/2,s=da(r[0],e)-n,i=a-da(r[1],t);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},ike=function(r,e,t){var n=typeof r=="number"?r:ske(r,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,i=t/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,i-c,i+c]},gu=function(r,e){return Math.sqrt(r*r+e*e)},IR=function(r,e,t,n,a){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(i,l){var c=l[0],u=l[1],A=gu(t-c,n-u);return(a?A<i.optimumDistance:A>i.optimumDistance)?{optimumCorner:l,optimumDistance:A}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},oke=function(r,e,t,n,a){var s=0,i=0;switch(r.size){case 0:r.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(r.shape===0)s=i=Math.min(gu(e,t),gu(e,t-a),gu(e-n,t),gu(e-n,t-a));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=IR(n,a,e,t,!0),u=c[0],A=c[1];s=gu(u-e,(A-t)/l),i=l*s}break;case 1:r.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(r.shape===0)s=i=Math.max(gu(e,t),gu(e,t-a),gu(e-n,t),gu(e-n,t-a));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),h=IR(n,a,e,t,!1),u=h[0],A=h[1];s=gu(u-e,(A-t)/l),i=l*s}break}return Array.isArray(r.size)&&(s=da(r.size[0],n),i=r.size.length===2?da(r.size[1],a):s),[s,i]},lke=function(r,e){var t=_c(180),n=[];return Bd(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){t=Rq(a);return}else if(Mq(i)){t=b5.parse(r,i);return}}var l=w5(r,a);n.push(l)}),{angle:t,stops:n,type:1}},qb=function(r,e){var t=_c(180),n=[];return Bd(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){t=Rq(a);return}else if(Mq(i)){t=(b5.parse(r,i)+_c(270))%_c(360);return}}var l=w5(r,a);n.push(l)}),{angle:t,stops:n,type:1}},cke=function(r,e){var t=_c(180),n=[],a=1,s=0,i=3,l=[];return Bd(e).forEach(function(c,u){var A=c[0];if(u===0){if(ra(A)&&A.value==="linear"){a=1;return}else if(ra(A)&&A.value==="radial"){a=2;return}}if(A.type===18){if(A.name==="from"){var h=Wh.parse(r,A.values[0]);n.push({stop:Ki,color:h})}else if(A.name==="to"){var h=Wh.parse(r,A.values[0]);n.push({stop:Kh,color:h})}else if(A.name==="color-stop"){var p=A.values.filter(ug);if(p.length===2){var h=Wh.parse(r,p[1]),m=p[0];Lg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:h})}}}}),a===1?{angle:(t+_c(180))%_c(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:l,type:a}},Uq="closest-side",Qq="farthest-side",Hq="closest-corner",zq="farthest-corner",Kq="circle",$q="ellipse",Vq="cover",qq="contain",uke=function(r,e){var t=0,n=3,a=[],s=[];return Bd(e).forEach(function(i,l){var c=!0;if(l===0){var u=!1;c=i.reduce(function(h,p){if(u)if(ra(p))switch(p.value){case"center":return s.push(pk),h;case"top":case"left":return s.push(Ki),h;case"right":case"bottom":return s.push(Kh),h}else(Ds(p)||uf(p))&&s.push(p);else if(ra(p))switch(p.value){case Kq:return t=0,!1;case $q:return t=1,!1;case"at":return u=!0,!1;case Uq:return n=0,!1;case Vq:case Qq:return n=1,!1;case qq:case Hq:return n=2,!1;case zq:return n=3,!1}else if(uf(p)||Ds(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},c)}if(c){var A=w5(r,i);a.push(A)}}),{size:n,shape:t,stops:a,position:s,type:2}},Gb=function(r,e){var t=0,n=3,a=[],s=[];return Bd(e).forEach(function(i,l){var c=!0;if(l===0?c=i.reduce(function(A,h){if(ra(h))switch(h.value){case"center":return s.push(pk),!1;case"top":case"left":return s.push(Ki),!1;case"right":case"bottom":return s.push(Kh),!1}else if(Ds(h)||uf(h))return s.push(h),!1;return A},c):l===1&&(c=i.reduce(function(A,h){if(ra(h))switch(h.value){case Kq:return t=0,!1;case $q:return t=1,!1;case qq:case Uq:return n=0,!1;case Qq:return n=1,!1;case Hq:return n=2,!1;case Vq:case zq:return n=3,!1}else if(uf(h)||Ds(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},c)),c){var u=w5(r,i);a.push(u)}}),{size:n,shape:t,stops:a,position:s,type:2}},dke=function(r){return r.type===1},Ake=function(r){return r.type===2},gk={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=Gq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function hke(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!Gq[r.name])}var Gq={"linear-gradient":lke,"-moz-linear-gradient":qb,"-ms-linear-gradient":qb,"-o-linear-gradient":qb,"-webkit-linear-gradient":qb,"radial-gradient":uke,"-moz-radial-gradient":Gb,"-ms-radial-gradient":Gb,"-o-radial-gradient":Gb,"-webkit-radial-gradient":Gb,"-webkit-gradient":cke},fke={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return ug(n)&&hke(n)}).map(function(n){return gk.parse(r,n)})}},mke={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ra(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pke={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Bd(e).map(function(t){return t.filter(Ds)}).map(Oq)}},gke={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Bd(e).map(function(t){return t.filter(ra).map(function(n){return n.value}).join(" ")}).map(xke)}},xke=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Up;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Up||(Up={}));var yke={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Bd(e).map(function(t){return t.filter(vke)})}},vke=function(r){return ra(r)||Ds(r)},C5=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},bke=C5("top"),wke=C5("right"),Cke=C5("bottom"),Nke=C5("left"),N5=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Oq(t.filter(Ds))}}},Ske=N5("top-left"),Bke=N5("top-right"),Eke=N5("bottom-right"),jke=N5("bottom-left"),S5=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_ke=S5("top"),Tke=S5("right"),kke=S5("bottom"),Fke=S5("left"),B5=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return $v(t)?t.number:0}}},Oke=B5("top"),Dke=B5("right"),Pke=B5("bottom"),Ike=B5("left"),Lke={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mke={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){return e==="rtl"?1:0}},Rke={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(ra).reduce(function(t,n){return t|Uke(n.value)},0)}},Uke=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Qke={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Hke={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},$2;(function(r){r.NORMAL="normal",r.STRICT="strict"})($2||($2={}));var zke={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){return e==="strict"?$2.STRICT:$2.NORMAL}},Kke={name:"line-height",initialValue:"normal",prefix:!1,type:4},LR=function(r,e){return ra(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ds(r)?da(r,e):e},$ke={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:gk.parse(r,e)}},Vke={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){return e==="inside"?0:1}},Qj={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},E5=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},qke=E5("top"),Gke=E5("right"),Wke=E5("bottom"),Yke=E5("left"),Xke={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(ra).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Jke={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){return e==="break-word"?"break-word":"normal"}},j5=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Zke=j5("top"),eFe=j5("right"),tFe=j5("bottom"),rFe=j5("left"),nFe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},aFe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sFe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Uj(e[0],"none")?[]:Bd(e).map(function(t){for(var n={color:NA.TRANSPARENT,offsetX:Ki,offsetY:Ki,blur:Ki},a=0,s=0;s<t.length;s++){var i=t[s];uf(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=Wh.parse(r,i)}return n})}},iFe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},oFe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=uFe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},lFe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},cFe=function(r){var e=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,a,s,i,l]:null},uFe={matrix:lFe,matrix3d:cFe},MR={type:16,number:50,flags:Kv},dFe=[MR,MR],AFe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ds);return t.length!==2?dFe:[t[0],t[1]]}},hFe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},xy;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(xy||(xy={}));var fFe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return xy.BREAK_ALL;case"keep-all":return xy.KEEP_ALL;default:return xy.NORMAL}}},mFe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Lg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Wq={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},pFe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Lg(e)?e.number:1}},gFe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xFe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(ra).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},yFe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},vFe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bFe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){return Lg(e)?e.number:ra(e)&&e.value==="bold"?700:400}},wFe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(ra).map(function(t){return t.value})}},CFe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Js=function(r,e){return(r&e)!==0},NFe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},SFe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(Fq),s=0;s<a.length;s++){var i=a[s],l=a[s+1];if(i.type===20){var c=l&&Lg(l)?l.number:1;n.push({counter:i.value,increment:c})}}return n}},BFe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(Fq),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(ra(s)&&s.value!=="none"){var l=i&&Lg(i)?i.number:0;t.push({counter:s.value,reset:l})}}return t}},EFe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter($v).map(function(t){return Wq.parse(r,t)})}},jFe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(eke);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,l=a[s+1].value;n.push({open:i,close:l})}return n}},RR=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},_Fe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Uj(e[0],"none")?[]:Bd(e).map(function(t){for(var n={color:255,offsetX:Ki,offsetY:Ki,blur:Ki,spread:Ki,inset:!1},a=0,s=0;s<t.length;s++){var i=t[s];Uj(i,"inset")?n.inset=!0:uf(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=Wh.parse(r,i)}return n})}},TFe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(ra).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},kFe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},FFe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return $v(e)?e.number:0}},OFe=(function(){function r(e,t){var n,a;this.animationDuration=qt(e,EFe,t.animationDuration),this.backgroundClip=qt(e,nke,t.backgroundClip),this.backgroundColor=qt(e,ake,t.backgroundColor),this.backgroundImage=qt(e,fke,t.backgroundImage),this.backgroundOrigin=qt(e,mke,t.backgroundOrigin),this.backgroundPosition=qt(e,pke,t.backgroundPosition),this.backgroundRepeat=qt(e,gke,t.backgroundRepeat),this.backgroundSize=qt(e,yke,t.backgroundSize),this.borderTopColor=qt(e,bke,t.borderTopColor),this.borderRightColor=qt(e,wke,t.borderRightColor),this.borderBottomColor=qt(e,Cke,t.borderBottomColor),this.borderLeftColor=qt(e,Nke,t.borderLeftColor),this.borderTopLeftRadius=qt(e,Ske,t.borderTopLeftRadius),this.borderTopRightRadius=qt(e,Bke,t.borderTopRightRadius),this.borderBottomRightRadius=qt(e,Eke,t.borderBottomRightRadius),this.borderBottomLeftRadius=qt(e,jke,t.borderBottomLeftRadius),this.borderTopStyle=qt(e,_ke,t.borderTopStyle),this.borderRightStyle=qt(e,Tke,t.borderRightStyle),this.borderBottomStyle=qt(e,kke,t.borderBottomStyle),this.borderLeftStyle=qt(e,Fke,t.borderLeftStyle),this.borderTopWidth=qt(e,Oke,t.borderTopWidth),this.borderRightWidth=qt(e,Dke,t.borderRightWidth),this.borderBottomWidth=qt(e,Pke,t.borderBottomWidth),this.borderLeftWidth=qt(e,Ike,t.borderLeftWidth),this.boxShadow=qt(e,_Fe,t.boxShadow),this.color=qt(e,Lke,t.color),this.direction=qt(e,Mke,t.direction),this.display=qt(e,Rke,t.display),this.float=qt(e,Qke,t.cssFloat),this.fontFamily=qt(e,yFe,t.fontFamily),this.fontSize=qt(e,vFe,t.fontSize),this.fontStyle=qt(e,CFe,t.fontStyle),this.fontVariant=qt(e,wFe,t.fontVariant),this.fontWeight=qt(e,bFe,t.fontWeight),this.letterSpacing=qt(e,Hke,t.letterSpacing),this.lineBreak=qt(e,zke,t.lineBreak),this.lineHeight=qt(e,Kke,t.lineHeight),this.listStyleImage=qt(e,$ke,t.listStyleImage),this.listStylePosition=qt(e,Vke,t.listStylePosition),this.listStyleType=qt(e,Qj,t.listStyleType),this.marginTop=qt(e,qke,t.marginTop),this.marginRight=qt(e,Gke,t.marginRight),this.marginBottom=qt(e,Wke,t.marginBottom),this.marginLeft=qt(e,Yke,t.marginLeft),this.opacity=qt(e,pFe,t.opacity);var s=qt(e,Xke,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=qt(e,Jke,t.overflowWrap),this.paddingTop=qt(e,Zke,t.paddingTop),this.paddingRight=qt(e,eFe,t.paddingRight),this.paddingBottom=qt(e,tFe,t.paddingBottom),this.paddingLeft=qt(e,rFe,t.paddingLeft),this.paintOrder=qt(e,TFe,t.paintOrder),this.position=qt(e,aFe,t.position),this.textAlign=qt(e,nFe,t.textAlign),this.textDecorationColor=qt(e,gFe,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=qt(e,xFe,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=qt(e,sFe,t.textShadow),this.textTransform=qt(e,iFe,t.textTransform),this.transform=qt(e,oFe,t.transform),this.transformOrigin=qt(e,AFe,t.transformOrigin),this.visibility=qt(e,hFe,t.visibility),this.webkitTextStrokeColor=qt(e,kFe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=qt(e,FFe,t.webkitTextStrokeWidth),this.wordBreak=qt(e,fFe,t.wordBreak),this.zIndex=qt(e,mFe,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Yh(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Js(this.display,4)||Js(this.display,33554432)||Js(this.display,268435456)||Js(this.display,536870912)||Js(this.display,67108864)||Js(this.display,134217728)},r})(),DFe=(function(){function r(e,t){this.content=qt(e,NFe,t.content),this.quotes=qt(e,jFe,t.quotes)}return r})(),UR=(function(){function r(e,t){this.counterIncrement=qt(e,SFe,t.counterIncrement),this.counterReset=qt(e,BFe,t.counterReset)}return r})(),qt=function(r,e,t){var n=new Tq,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var s=new kq(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(r,ra(i)?i.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return b5.parse(r,s.parseComponentValue());case"color":return Wh.parse(r,s.parseComponentValue());case"image":return gk.parse(r,s.parseComponentValue());case"length":var l=s.parseComponentValue();return uf(l)?l:Ki;case"length-percentage":var c=s.parseComponentValue();return Ds(c)?c:Ki;case"time":return Wq.parse(r,s.parseComponentValue())}break}},PFe="data-html2canvas-debug",IFe=function(r){var e=r.getAttribute(PFe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Hj=function(r,e){var t=IFe(r);return t===1||e===t},Ed=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Hj(t,3))debugger;this.styles=new OFe(e,window.getComputedStyle(t,null)),$j(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=y5(this.context,t),Hj(t,4)&&(this.flags|=16)}return r})(),LFe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",QR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ay=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wb=0;Wb<QR.length;Wb++)ay[QR.charCodeAt(Wb)]=Wb;var MFe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=ay[r.charCodeAt(n)],i=ay[r.charCodeAt(n+1)],l=ay[r.charCodeAt(n+2)],c=ay[r.charCodeAt(n+3)],A[a++]=s<<2|i>>4,A[a++]=(i&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},RFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},UFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},E0=5,xk=11,AE=2,QFe=xk-E0,Yq=65536>>E0,HFe=1<<E0,hE=HFe-1,zFe=1024>>E0,KFe=Yq+zFe,$Fe=KFe,VFe=32,qFe=$Fe+VFe,GFe=65536>>xk,WFe=1<<QFe,YFe=WFe-1,HR=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},XFe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},JFe=function(r,e){var t=MFe(r),n=Array.isArray(t)?UFe(t):new Uint32Array(t),a=Array.isArray(t)?RFe(t):new Uint16Array(t),s=24,i=HR(a,s/2,n[4]/2),l=n[5]===2?HR(a,(s+n[4])/2):XFe(n,Math.ceil((s+n[4])/4));return new ZFe(n[0],n[1],n[2],n[3],i,l)},ZFe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>E0],t=(t<<AE)+(e&hE),this.data[t];if(e<=65535)return t=this.index[Yq+(e-55296>>E0)],t=(t<<AE)+(e&hE),this.data[t];if(e<this.highStart)return t=qFe-GFe+(e>>xk),t=this.index[t],t+=e>>E0&YFe,t=this.index[t],t=(t<<AE)+(e&hE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),zR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eOe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yb=0;Yb<zR.length;Yb++)eOe[zR.charCodeAt(Yb)]=Yb;var tOe=1,fE=2,mE=3,KR=4,$R=5,rOe=7,VR=8,pE=9,gE=10,qR=11,GR=12,WR=13,YR=14,xE=15,nOe=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},aOe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},sOe=JFe(LFe),Cc="",yE="",iOe=function(r){return sOe.get(r)},oOe=function(r,e,t){var n=t-2,a=e[n],s=e[t-1],i=e[t];if(s===fE&&i===mE)return Cc;if(s===fE||s===mE||s===KR||i===fE||i===mE||i===KR)return yE;if(s===VR&&[VR,pE,qR,GR].indexOf(i)!==-1||(s===qR||s===pE)&&(i===pE||i===gE)||(s===GR||s===gE)&&i===gE||i===WR||i===$R||i===rOe||s===tOe)return Cc;if(s===WR&&i===YR){for(;a===$R;)a=e[--n];if(a===YR)return Cc}if(s===xE&&i===xE){for(var l=0;a===xE;)l++,a=e[--n];if(l%2===0)return Cc}return yE},lOe=function(r){var e=nOe(r),t=e.length,n=0,a=0,s=e.map(iOe);return{next:function(){if(n>=t)return{done:!0,value:null};for(var i=Cc;n<t&&(i=oOe(e,s,++n))===Cc;);if(i!==Cc||n===t){var l=aOe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},cOe=function(r){for(var e=lOe(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},uOe=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),s=Math.round(a.height);if(r.body.removeChild(n),s===e)return!0}}return!1},dOe=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=v5(n.data).map(function(c){return gs(c)}),s=0,i={},l=a.every(function(c,u){t.setStart(n,s),t.setEnd(n,s+c.length);var A=t.getBoundingClientRect();s+=c.length;var h=A.x>i.x||A.y>i.y;return i=A,u===0?!0:h});return r.body.removeChild(e),l},AOe=function(){return typeof new Image().crossOrigin<"u"},hOe=function(){return typeof new XMLHttpRequest().responseType=="string"},fOe=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},XR=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},mOe=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,s=e.toDataURL();a.src=s;var i=zj(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),JR(i).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",XR(c)?JR(zj(t,t,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),XR(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},zj=function(r,e,t,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(l),l.appendChild(a),i},JR=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Mi={get SUPPORT_RANGE_BOUNDS(){var r=uOe(document);return Object.defineProperty(Mi,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Mi.SUPPORT_RANGE_BOUNDS&&dOe(document);return Object.defineProperty(Mi,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=fOe(document);return Object.defineProperty(Mi,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?mOe(document):Promise.resolve(!1);return Object.defineProperty(Mi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=AOe();return Object.defineProperty(Mi,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=hOe();return Object.defineProperty(Mi,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mi,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},yy=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),pOe=function(r,e,t,n){var a=yOe(e,t),s=[],i=0;return a.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Mi.SUPPORT_RANGE_BOUNDS){var c=ZR(n,i,l.length).getClientRects();if(c.length>1){var u=yk(l),A=0;u.forEach(function(p){s.push(new yy(p,PA.fromDOMRectList(r,ZR(n,A+i,p.length).getClientRects()))),A+=p.length})}else s.push(new yy(l,PA.fromDOMRectList(r,c)))}else{var h=n.splitText(l.length);s.push(new yy(l,gOe(r,n))),n=h}else Mi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));i+=l.length}),s},gOe=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=y5(r,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return PA.EMPTY},ZR=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(r,e),a.setEnd(r,e+t),a},yk=function(r){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return cOe(r)},xOe=function(r,e){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return bOe(r,e)},yOe=function(r,e){return e.letterSpacing!==0?yk(r):xOe(r,e)},vOe=[32,160,4961,65792,65793,4153,4241],bOe=function(r,e){for(var t=GTe(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),l=v5(i),c="";l.forEach(function(u){vOe.indexOf(u)===-1?c+=gs(u):(c.length&&n.push(c),n.push(gs(u)),c="")}),c.length&&n.push(c)}};!(a=t.next()).done;)s();return n},wOe=(function(){function r(e,t,n){this.text=COe(t.data,n.textTransform),this.textBounds=pOe(e,this.text,n,t)}return r})(),COe=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(NOe,SOe);case 2:return r.toUpperCase();default:return r}},NOe=/(^|\s|:|-|\(|\))([a-z])/g,SOe=function(r,e,t){return r.length>0?e+t.toUpperCase():r},Xq=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(Ed),Jq=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(Ed),Zq=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=new XMLSerializer,i=y5(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(Ed),eG=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(Ed),Kj=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(Ed),BOe=[{type:15,flags:0,unit:"px",number:3}],EOe=[{type:16,flags:0,number:50}],jOe=function(r){return r.width>r.height?new PA(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new PA(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},_Oe=function(r){var e=r.type===TOe?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},V2="checkbox",q2="radio",TOe="password",eU=707406591,vk=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=_Oe(n),(a.type===V2||a.type===q2)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=jOe(a.bounds)),a.type){case V2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=BOe;break;case q2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=EOe;break}return a}return e})(Ed),tG=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e})(Ed),rG=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(Ed),nG=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=sG(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?gy(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):NA.TRANSPARENT,i=n.contentWindow.document.body?gy(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):NA.TRANSPARENT;a.backgroundColor=Yh(s)?Yh(i)?a.styles.backgroundColor:i:s}}catch{}return a}return e})(Ed),kOe=["OL","UL","MENU"],Nw=function(r,e,t,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,iG(a)&&a.data.trim().length>0)t.textNodes.push(new wOe(r,a,t.styles));else if(Ep(a))if(uG(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return Nw(r,l,t,n)});else{var i=aG(r,a);i.styles.isVisible()&&(FOe(a,i,n)?i.flags|=4:OOe(i.styles)&&(i.flags|=2),kOe.indexOf(a.tagName)!==-1&&(i.flags|=8),t.elements.push(i),a.slot,a.shadowRoot?Nw(r,a.shadowRoot,i,n):!G2(a)&&!oG(a)&&!W2(a)&&Nw(r,a,i,n))}},aG=function(r,e){return Vj(e)?new Xq(r,e):lG(e)?new Jq(r,e):oG(e)?new Zq(r,e):DOe(e)?new eG(r,e):POe(e)?new Kj(r,e):IOe(e)?new vk(r,e):W2(e)?new tG(r,e):G2(e)?new rG(r,e):cG(e)?new nG(r,e):new Ed(r,e)},sG=function(r,e){var t=aG(r,e);return t.flags|=4,Nw(r,e,t,t),t},FOe=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||bk(r)&&t.styles.isTransparent()},OOe=function(r){return r.isPositioned()||r.isFloating()},iG=function(r){return r.nodeType===Node.TEXT_NODE},Ep=function(r){return r.nodeType===Node.ELEMENT_NODE},$j=function(r){return Ep(r)&&typeof r.style<"u"&&!Sw(r)},Sw=function(r){return typeof r.className=="object"},DOe=function(r){return r.tagName==="LI"},POe=function(r){return r.tagName==="OL"},IOe=function(r){return r.tagName==="INPUT"},LOe=function(r){return r.tagName==="HTML"},oG=function(r){return r.tagName==="svg"},bk=function(r){return r.tagName==="BODY"},lG=function(r){return r.tagName==="CANVAS"},tU=function(r){return r.tagName==="VIDEO"},Vj=function(r){return r.tagName==="IMG"},cG=function(r){return r.tagName==="IFRAME"},rU=function(r){return r.tagName==="STYLE"},MOe=function(r){return r.tagName==="SCRIPT"},G2=function(r){return r.tagName==="TEXTAREA"},W2=function(r){return r.tagName==="SELECT"},uG=function(r){return r.tagName==="SLOT"},nU=function(r){return r.tagName.indexOf("-")>0},ROe=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=t.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var i=[];return s&&a.forEach(function(l){var c=t.counters[l.counter];i.push(l.counter),c||(c=t.counters[l.counter]=[]),c.push(l.reset)}),i},r})(),aU={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},sU={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},UOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},QOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ip=function(r,e,t,n,a,s){return r<e||r>t?ev(r,a,s.length>0):n.integers.reduce(function(i,l,c){for(;r>=l;)r-=l,i+=n.values[c];return i},"")+s},dG=function(r,e,t,n){var a="";do t||r--,a=n(r)+a,r/=e;while(r*e>=e);return a},hs=function(r,e,t,n,a){var s=t-e+1;return(r<0?"-":"")+(dG(Math.abs(r),s,n,function(i){return gs(Math.floor(i%s)+e)})+a)},Xf=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return dG(Math.abs(r),n,!1,function(a){return e[Math.floor(a%n)]})+t},mp=1,kh=2,Fh=4,sy=8,iA=function(r,e,t,n,a,s){if(r<-9999||r>9999)return ev(r,4,a.length>0);var i=Math.abs(r),l=a;if(i===0)return e[0]+l;for(var c=0;i>0&&c<=4;c++){var u=i%10;u===0&&Js(s,mp)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Js(s,kh)||u===1&&c===1&&Js(s,Fh)&&r>100||u===1&&c>1&&Js(s,sy)?l=e[u]+(c>0?t[c-1]:"")+l:u===1&&c>0&&(l=t[c-1]+l),i=Math.floor(i/10)}return(r<0?n:"")+l},iU="",oU="",lU="",vE="",ev=function(r,e,t){var n=t?". ":"",a=t?"":"",s=t?", ":"",i=t?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var l=hs(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Xf(r,"",a);case 6:return ip(r,1,3999,aU,3,n).toLowerCase();case 7:return ip(r,1,3999,aU,3,n);case 8:return hs(r,945,969,!1,n);case 9:return hs(r,97,122,!1,n);case 10:return hs(r,65,90,!1,n);case 11:return hs(r,1632,1641,!0,n);case 12:case 49:return ip(r,1,9999,sU,3,n);case 35:return ip(r,1,9999,sU,3,n).toLowerCase();case 13:return hs(r,2534,2543,!0,n);case 14:case 30:return hs(r,6112,6121,!0,n);case 15:return Xf(r,"",a);case 16:return Xf(r,"",a);case 17:case 48:return iA(r,"",iU,"",a,kh|Fh|sy);case 47:return iA(r,"",oU,"",a,mp|kh|Fh|sy);case 42:return iA(r,"",iU,"",a,kh|Fh|sy);case 41:return iA(r,"",oU,"",a,mp|kh|Fh|sy);case 26:return iA(r,"","",lU,a,0);case 25:return iA(r,"","",lU,a,mp|kh|Fh);case 31:return iA(r,"","",vE,s,mp|kh|Fh);case 33:return iA(r,"","",vE,s,0);case 32:return iA(r,"","",vE,s,mp|kh|Fh);case 18:return hs(r,2406,2415,!0,n);case 20:return ip(r,1,19999,QOe,3,n);case 21:return hs(r,2790,2799,!0,n);case 22:return hs(r,2662,2671,!0,n);case 22:return ip(r,1,10999,UOe,3,n);case 23:return Xf(r,"");case 24:return Xf(r,"");case 27:return hs(r,3302,3311,!0,n);case 28:return Xf(r,"",a);case 29:return Xf(r,"",a);case 34:return hs(r,3792,3801,!0,n);case 37:return hs(r,6160,6169,!0,n);case 38:return hs(r,4160,4169,!0,n);case 39:return hs(r,2918,2927,!0,n);case 40:return hs(r,1776,1785,!0,n);case 43:return hs(r,3046,3055,!0,n);case 44:return hs(r,3174,3183,!0,n);case 45:return hs(r,3664,3673,!0,n);case 46:return hs(r,3872,3881,!0,n);default:return hs(r,48,57,!0,n)}},AG="data-html2canvas-ignore",cU=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new ROe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,a=HOe(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=$Oe(a).then(function(){return vo(n,void 0,void 0,function(){var A,h;return to(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(WOe),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),A=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,KOe(c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(qOe(document.doctype)+"<html></html>"),GOe(this.referenceElement.ownerDocument,s,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},r.prototype.createElementClone=function(e){if(Hj(e,2))debugger;if(lG(e))return this.createCanvasClone(e);if(tU(e))return this.createVideoClone(e);if(rU(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Vj(t)&&(Vj(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),nU(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return bE(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},r.prototype.appendChildNode=function(e,t,n){(!Ep(t)||!MOe(t)&&!t.hasAttribute(AG)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ep(t)||!rU(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ep(s)&&uG(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(l){return a.appendChildNode(t,l,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(iG(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ep(e)&&($j(e)||Sw(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&$j(a)&&(this.clonedReferenceElement=a),bk(a)&&JOe(a);var c=this.counters.parse(new UR(this.context,s)),u=this.resolvePseudoContent(e,a,i,vy.BEFORE);nU(e)&&(t=!0),tU(e)||this.cloneChildNodes(e,a,t),u&&a.insertBefore(u,a.firstChild);var A=this.resolvePseudoContent(e,a,l,vy.AFTER);return A&&a.appendChild(A),this.counters.pop(c),(s&&(this.options.copyStyles||Sw(e))&&!cG(e)||t)&&bE(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(G2(e)||W2(e))&&(G2(a)||W2(a))&&(a.value=e.value),a}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,a){var s=this;if(n){var i=n.content,l=t.ownerDocument;if(!(!l||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new UR(this.context,n));var c=new DFe(this.context,n),u=l.createElement("html2canvaspseudoelement");bE(n,u),c.content.forEach(function(h){if(h.type===0)u.appendChild(l.createTextNode(h.value));else if(h.type===22){var p=l.createElement("img");p.src=h.value,p.style.opacity="1",u.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var m=h.values.filter(ra);m.length&&u.appendChild(l.createTextNode(e.getAttribute(m[0].value)||""))}else if(h.name==="counter"){var y=h.values.filter(ug),g=y[0],v=y[1];if(g&&ra(g)){var w=s.counters.getCounterValue(g.value),S=v&&ra(v)?Qj.parse(s.context,v.value):3;u.appendChild(l.createTextNode(ev(w,S,!1)))}}else if(h.name==="counters"){var C=h.values.filter(ug),g=C[0],E=C[1],v=C[2];if(g&&ra(g)){var _=s.counters.getCounterValues(g.value),L=v&&ra(v)?Qj.parse(s.context,v.value):3,D=E&&E.type===0?E.value:"",P=_.map(function(I){return ev(I,L,!1)}).join(D);u.appendChild(l.createTextNode(P))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(l.createTextNode(RR(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(RR(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(h.value))}}),u.className=qj+" "+Gj;var A=a===vy.BEFORE?" "+qj:" "+Gj;return Sw(t)?t.className.baseValue+=A:t.className+=A,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),vy;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(vy||(vy={}));var HOe=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(AG,"true"),r.body.appendChild(t),t},zOe=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},KOe=function(r){return Promise.all([].slice.call(r.images,0).map(zOe))},$Oe=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},VOe=["all","d","content"],bE=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);VOe.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},qOe=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},GOe=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},WOe=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},YOe=":before",XOe=":after",qj="___html2canvas___pseudoelement_before",Gj="___html2canvas___pseudoelement_after",uU=`{
    content: "" !important;
    display: none !important;
}`,JOe=function(r){ZOe(r,"."+qj+YOe+uU+`
         .`+Gj+XOe+uU)},ZOe=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},hG=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),e6e=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(CE(e)||a6e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return vo(this,void 0,void 0,function(){var t,n,a,s,i=this;return to(this,function(l){switch(l.label){case 0:return t=hG.isSameOrigin(e),n=!wE(e)&&this._options.useCORS===!0&&Mi.SUPPORT_CORS_IMAGES&&!t,a=!wE(e)&&!t&&!CE(e)&&typeof this._options.proxy=="string"&&Mi.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!wE(e)&&!CE(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(s6e(s)||n)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return c(A)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,i){var l=Mi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(p){return i(p)},!1),h.readAsDataURL(c.response)}else i("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),t._options.imageTimeout){var A=t._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return i("Timed out ("+A+"ms) proxying "+a)}}c.send()})},r})(),t6e=/^data:image\/svg\+xml/i,r6e=/^data:image\/.*;base64,/i,n6e=/^data:image\/.*/i,a6e=function(r){return Mi.SUPPORT_SVG_DRAWING||!i6e(r)},wE=function(r){return n6e.test(r)},s6e=function(r){return r6e.test(r)},CE=function(r){return r.substr(0,4)==="blob"},i6e=function(r){return r.substr(-3).toLowerCase()==="svg"||t6e.test(r)},Ht=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),op=function(r,e,t){return new Ht(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},Xb=(function(){function r(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return r.prototype.subdivide=function(e,t){var n=op(this.start,this.startControl,e),a=op(this.startControl,this.endControl,e),s=op(this.endControl,this.end,e),i=op(n,a,e),l=op(a,s,e),c=op(i,l,e);return t?new r(this.start,n,i,c):new r(c,l,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Bc=function(r){return r.type===1},o6e=(function(){function r(e){var t=e.styles,n=e.bounds,a=ny(t.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],l=ny(t.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=ny(t.borderBottomRightRadius,n.width,n.height),h=A[0],p=A[1],m=ny(t.borderBottomLeftRadius,n.width,n.height),y=m[0],g=m[1],v=[];v.push((s+c)/n.width),v.push((y+h)/n.width),v.push((i+g)/n.height),v.push((u+p)/n.height);var w=Math.max.apply(Math,v);w>1&&(s/=w,i/=w,c/=w,u/=w,h/=w,p/=w,y/=w,g/=w);var S=n.width-c,C=n.height-p,E=n.width-h,_=n.height-g,L=t.borderTopWidth,D=t.borderRightWidth,P=t.borderBottomWidth,k=t.borderLeftWidth,z=da(t.paddingTop,e.bounds.width),I=da(t.paddingRight,e.bounds.width),Q=da(t.paddingBottom,e.bounds.width),R=da(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?ja(n.left+k/3,n.top+L/3,s-k/3,i-L/3,Fn.TOP_LEFT):new Ht(n.left+k/3,n.top+L/3),this.topRightBorderDoubleOuterBox=s>0||i>0?ja(n.left+S,n.top+L/3,c-D/3,u-L/3,Fn.TOP_RIGHT):new Ht(n.left+n.width-D/3,n.top+L/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?ja(n.left+E,n.top+C,h-D/3,p-P/3,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-D/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=y>0||g>0?ja(n.left+k/3,n.top+_,y-k/3,g-P/3,Fn.BOTTOM_LEFT):new Ht(n.left+k/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?ja(n.left+k*2/3,n.top+L*2/3,s-k*2/3,i-L*2/3,Fn.TOP_LEFT):new Ht(n.left+k*2/3,n.top+L*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?ja(n.left+S,n.top+L*2/3,c-D*2/3,u-L*2/3,Fn.TOP_RIGHT):new Ht(n.left+n.width-D*2/3,n.top+L*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?ja(n.left+E,n.top+C,h-D*2/3,p-P*2/3,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-D*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||g>0?ja(n.left+k*2/3,n.top+_,y-k*2/3,g-P*2/3,Fn.BOTTOM_LEFT):new Ht(n.left+k*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=s>0||i>0?ja(n.left+k/2,n.top+L/2,s-k/2,i-L/2,Fn.TOP_LEFT):new Ht(n.left+k/2,n.top+L/2),this.topRightBorderStroke=s>0||i>0?ja(n.left+S,n.top+L/2,c-D/2,u-L/2,Fn.TOP_RIGHT):new Ht(n.left+n.width-D/2,n.top+L/2),this.bottomRightBorderStroke=h>0||p>0?ja(n.left+E,n.top+C,h-D/2,p-P/2,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-D/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=y>0||g>0?ja(n.left+k/2,n.top+_,y-k/2,g-P/2,Fn.BOTTOM_LEFT):new Ht(n.left+k/2,n.top+n.height-P/2),this.topLeftBorderBox=s>0||i>0?ja(n.left,n.top,s,i,Fn.TOP_LEFT):new Ht(n.left,n.top),this.topRightBorderBox=c>0||u>0?ja(n.left+S,n.top,c,u,Fn.TOP_RIGHT):new Ht(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?ja(n.left+E,n.top+C,h,p,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||g>0?ja(n.left,n.top+_,y,g,Fn.BOTTOM_LEFT):new Ht(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?ja(n.left+k,n.top+L,Math.max(0,s-k),Math.max(0,i-L),Fn.TOP_LEFT):new Ht(n.left+k,n.top+L),this.topRightPaddingBox=c>0||u>0?ja(n.left+Math.min(S,n.width-D),n.top+L,S>n.width+D?0:Math.max(0,c-D),Math.max(0,u-L),Fn.TOP_RIGHT):new Ht(n.left+n.width-D,n.top+L),this.bottomRightPaddingBox=h>0||p>0?ja(n.left+Math.min(E,n.width-k),n.top+Math.min(C,n.height-P),Math.max(0,h-D),Math.max(0,p-P),Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-D,n.top+n.height-P),this.bottomLeftPaddingBox=y>0||g>0?ja(n.left+k,n.top+Math.min(_,n.height-P),Math.max(0,y-k),Math.max(0,g-P),Fn.BOTTOM_LEFT):new Ht(n.left+k,n.top+n.height-P),this.topLeftContentBox=s>0||i>0?ja(n.left+k+R,n.top+L+z,Math.max(0,s-(k+R)),Math.max(0,i-(L+z)),Fn.TOP_LEFT):new Ht(n.left+k+R,n.top+L+z),this.topRightContentBox=c>0||u>0?ja(n.left+Math.min(S,n.width+k+R),n.top+L+z,S>n.width+k+R?0:c-k+R,u-(L+z),Fn.TOP_RIGHT):new Ht(n.left+n.width-(D+I),n.top+L+z),this.bottomRightContentBox=h>0||p>0?ja(n.left+Math.min(E,n.width-(k+R)),n.top+Math.min(C,n.height+L+z),Math.max(0,h-(D+I)),p-(P+Q),Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-(D+I),n.top+n.height-(P+Q)),this.bottomLeftContentBox=y>0||g>0?ja(n.left+k+R,n.top+_,Math.max(0,y-(k+R)),g-(P+Q),Fn.BOTTOM_LEFT):new Ht(n.left+k+R,n.top+n.height-(P+Q))}return r})(),Fn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Fn||(Fn={}));var ja=function(r,e,t,n,a){var s=4*((Math.sqrt(2)-1)/3),i=t*s,l=n*s,c=r+t,u=e+n;switch(a){case Fn.TOP_LEFT:return new Xb(new Ht(r,u),new Ht(r,u-l),new Ht(c-i,e),new Ht(c,e));case Fn.TOP_RIGHT:return new Xb(new Ht(r,e),new Ht(r+i,e),new Ht(c,u-l),new Ht(c,u));case Fn.BOTTOM_RIGHT:return new Xb(new Ht(c,e),new Ht(c,e+l),new Ht(r+i,u),new Ht(r,u));case Fn.BOTTOM_LEFT:default:return new Xb(new Ht(c,u),new Ht(c-i,u),new Ht(r,e+l),new Ht(r,e))}},Y2=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},l6e=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},X2=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},c6e=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),Jb=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),u6e=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),d6e=function(r){return r.type===0},fG=function(r){return r.type===1},A6e=function(r){return r.type===2},dU=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},h6e=function(r,e,t,n,a){return r.map(function(s,i){switch(i){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+a);case 3:return s.add(e,t+a)}return s})},mG=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),pG=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new o6e(this.container),this.container.styles.opacity<1&&this.effects.push(new u6e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new c6e(n,a,s))}if(this.container.styles.overflowX!==0){var i=Y2(this.curves),l=X2(this.curves);dU(i,l)?this.effects.push(new Jb(i,6)):(this.effects.push(new Jb(i,2)),this.effects.push(new Jb(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!fG(c)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=Y2(n.curves),l=X2(n.curves);dU(i,l)||a.unshift(new Jb(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Js(c.target,e)})},r})(),Wj=function(r,e,t,n){r.container.elements.forEach(function(a){var s=Js(a.flags,4),i=Js(a.flags,2),l=new pG(a,r);Js(a.styles.display,2048)&&n.push(l);var c=Js(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?t:e,A=new mG(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var p=0;u.negativeZIndex.some(function(y,g){return h>y.element.container.styles.zIndex.order?(p=g,!1):p>0}),u.negativeZIndex.splice(p,0,A)}else if(h>0){var m=0;u.positiveZIndex.some(function(y,g){return h>=y.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),u.positiveZIndex.splice(m,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);Wj(l,A,s?A:t,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),Wj(l,e,t,c);Js(a.flags,8)&&gG(a,c)})},gG=function(r,e){for(var t=r instanceof Kj?r.start:1,n=r instanceof Kj?r.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof eG&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=ev(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},f6e=function(r){var e=new pG(r,null),t=new mG(e),n=[];return Wj(e,t,t,n),gG(e.container,n),t},AU=function(r,e){switch(e){case 0:return Tc(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Tc(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Tc(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);default:return Tc(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},m6e=function(r,e){switch(e){case 0:return Tc(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Tc(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Tc(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);default:return Tc(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},p6e=function(r,e){switch(e){case 0:return Tc(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Tc(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Tc(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);default:return Tc(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},g6e=function(r,e){switch(e){case 0:return Zb(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Zb(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Zb(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);default:return Zb(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Zb=function(r,e){var t=[];return Bc(r)?t.push(r.subdivide(.5,!1)):t.push(r),Bc(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Tc=function(r,e,t,n){var a=[];return Bc(r)?a.push(r.subdivide(.5,!1)):a.push(r),Bc(t)?a.push(t.subdivide(.5,!0)):a.push(t),Bc(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Bc(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},xG=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},J2=function(r){var e=r.styles,t=r.bounds,n=da(e.paddingLeft,t.width),a=da(e.paddingRight,t.width),s=da(e.paddingTop,t.width),i=da(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+i))},x6e=function(r,e){return r===0?e.bounds:r===2?J2(e):xG(e)},y6e=function(r,e){return r===0?e.bounds:r===2?J2(e):xG(e)},NE=function(r,e,t){var n=x6e(pp(r.styles.backgroundOrigin,e),r),a=y6e(pp(r.styles.backgroundClip,e),r),s=v6e(pp(r.styles.backgroundSize,e),t,n),i=s[0],l=s[1],c=ny(pp(r.styles.backgroundPosition,e),n.width-i,n.height-l),u=b6e(pp(r.styles.backgroundRepeat,e),c,s,n,a),A=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[u,A,h,i,l]},lp=function(r){return ra(r)&&r.value===Up.AUTO},ew=function(r){return typeof r=="number"},v6e=function(r,e,t){var n=e[0],a=e[1],s=e[2],i=r[0],l=r[1];if(!i)return[0,0];if(Ds(i)&&l&&Ds(l))return[da(i,t.width),da(l,t.height)];var c=ew(s);if(ra(i)&&(i.value===Up.CONTAIN||i.value===Up.COVER)){if(ew(s)){var u=t.width/t.height;return u<s!=(i.value===Up.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var A=ew(n),h=ew(a),p=A||h;if(lp(i)&&(!l||lp(l))){if(A&&h)return[n,a];if(!c&&!p)return[t.width,t.height];if(p&&c){var m=A?n:a*s,y=h?a:n/s;return[m,y]}var g=A?n:t.width,v=h?a:t.height;return[g,v]}if(c){var w=0,S=0;return Ds(i)?w=da(i,t.width):Ds(l)&&(S=da(l,t.height)),lp(i)?w=S*s:(!l||lp(l))&&(S=w/s),[w,S]}var C=null,E=null;if(Ds(i)?C=da(i,t.width):l&&Ds(l)&&(E=da(l,t.height)),C!==null&&(!l||lp(l))&&(E=A&&h?C/n*a:t.height),E!==null&&lp(i)&&(C=A&&h?E/a*n:t.width),C!==null&&E!==null)return[C,E];throw new Error("Unable to calculate background-size for element")},pp=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},b6e=function(r,e,t,n,a){var s=e[0],i=e[1],l=t[0],c=t[1];switch(r){case 2:return[new Ht(Math.round(n.left),Math.round(n.top+i)),new Ht(Math.round(n.left+n.width),Math.round(n.top+i)),new Ht(Math.round(n.left+n.width),Math.round(c+n.top+i)),new Ht(Math.round(n.left),Math.round(c+n.top+i))];case 3:return[new Ht(Math.round(n.left+s),Math.round(n.top)),new Ht(Math.round(n.left+s+l),Math.round(n.top)),new Ht(Math.round(n.left+s+l),Math.round(n.height+n.top)),new Ht(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ht(Math.round(n.left+s),Math.round(n.top+i)),new Ht(Math.round(n.left+s+l),Math.round(n.top+i)),new Ht(Math.round(n.left+s+l),Math.round(n.top+i+c)),new Ht(Math.round(n.left+s),Math.round(n.top+i+c))];default:return[new Ht(Math.round(a.left),Math.round(a.top)),new Ht(Math.round(a.left+a.width),Math.round(a.top)),new Ht(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Ht(Math.round(a.left),Math.round(a.height+a.top))]}},w6e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",hU="Hidden Text",C6e=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=w6e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(hU)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(hU)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:l,middle:c}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),yG=(function(){function r(e,t){this.context=e,this.options=t}return r})(),N6e=1e4,S6e=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new C6e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),A6e(t)&&(this.ctx.globalAlpha=t.opacity),d6e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),fG(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return vo(this,void 0,void 0,function(){var n;return to(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return vo(this,void 0,void 0,function(){return to(this,function(n){switch(n.label){case 0:if(Js(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var i=yk(t.text);i.reduce(function(l,c){return s.ctx.fillText(c,l,t.bounds.top+a),l+s.ctx.measureText(c).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=T6e(t.fontFamily).join(", "),s=$v(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(t,n){return vo(this,void 0,void 0,function(){var a,s,i,l,c,u,A,h,p=this;return to(this,function(m){return a=this.createFontStyle(n),s=a[0],i=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(i,l),u=c.baseline,A=c.middle,h=n.paintOrder,t.textBounds.forEach(function(y){h.forEach(function(g){switch(g){case 0:p.ctx.fillStyle=di(n.color),p.renderTextWithLetterSpacing(y,n.letterSpacing,u);var v=n.textShadow;v.length&&y.text.trim().length&&(v.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=di(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(y,n.letterSpacing,u)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=di(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+u),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+A),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=di(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+u)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=J2(t),i=X2(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return vo(this,void 0,void 0,function(){var n,a,s,i,l,c,S,S,u,A,h,p,E,m,y,_,g,v,w,S,C,E,_;return to(this,function(L){switch(L.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,s=n.styles,i=0,l=n.textNodes,L.label=1;case 1:return i<l.length?(c=l[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:L.sent(),L.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof Xq))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return S=L.sent(),this.renderReplacedElement(n,a,S),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Jq&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Zq))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return S=L.sent(),this.renderReplacedElement(n,a,S),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof nG&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=L.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),L.label=14;case 14:if(n instanceof vk&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===V2?n.checked&&(this.ctx.save(),this.path([new Ht(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Ht(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Ht(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Ht(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Ht(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Ht(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Ht(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=di(eU),this.ctx.fill(),this.ctx.restore()):n.type===q2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=di(eU),this.ctx.fill(),this.ctx.restore())),B6e(n)&&n.value.length){switch(p=this.createFontStyle(s),E=p[0],m=p[1],y=this.fontMetrics.getMetrics(E,m).baseline,this.ctx.font=E,this.ctx.fillStyle=di(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=j6e(n.styles.textAlign),_=J2(n),g=0,n.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}v=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new Ht(_.left,_.top),new Ht(_.left+_.width,_.top),new Ht(_.left+_.width,_.top+_.height),new Ht(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yy(n.value,v),s.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Js(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];S=void 0,C=w.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return S=L.sent(),this.ctx.drawImage(S,n.bounds.left-(S.width+10),n.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(E=this.createFontStyle(s)[0],this.ctx.font=E,this.ctx.fillStyle=di(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new PA(n.bounds.left,n.bounds.top+da(n.styles.paddingTop,n.bounds.width),n.bounds.width,LR(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yy(t.listValue,_),s.letterSpacing,LR(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return vo(this,void 0,void 0,function(){var n,a,w,s,i,w,l,c,w,u,A,w,h,p,w,m,y,w,g,v,w;return to(this,function(S){switch(S.label){case 0:if(Js(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:S.sent(),n=0,a=t.negativeZIndex,S.label=2;case 2:return n<a.length?(w=a[n],[4,this.renderStack(w)]):[3,5];case 3:S.sent(),S.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:S.sent(),s=0,i=t.nonInlineLevel,S.label=7;case 7:return s<i.length?(w=i[s],[4,this.renderNode(w)]):[3,10];case 8:S.sent(),S.label=9;case 9:return s++,[3,7];case 10:l=0,c=t.nonPositionedFloats,S.label=11;case 11:return l<c.length?(w=c[l],[4,this.renderStack(w)]):[3,14];case 12:S.sent(),S.label=13;case 13:return l++,[3,11];case 14:u=0,A=t.nonPositionedInlineLevel,S.label=15;case 15:return u<A.length?(w=A[u],[4,this.renderStack(w)]):[3,18];case 16:S.sent(),S.label=17;case 17:return u++,[3,15];case 18:h=0,p=t.inlineLevel,S.label=19;case 19:return h<p.length?(w=p[h],[4,this.renderNode(w)]):[3,22];case 20:S.sent(),S.label=21;case 21:return h++,[3,19];case 22:m=0,y=t.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return m<y.length?(w=y[m],[4,this.renderStack(w)]):[3,26];case 24:S.sent(),S.label=25;case 25:return m++,[3,23];case 26:g=0,v=t.positiveZIndex,S.label=27;case 27:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,30];case 28:S.sent(),S.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,s){var i=Bc(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),Bc(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(t,n,a){var s;if(t.width===n&&t.height===a)return t;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=i.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(t,0,0,t.width,t.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(t){return vo(this,void 0,void 0,function(){var n,a,s,i,l,c;return to(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,a=function(A){var h,p,m,z,Y,se,R,K,P,y,z,Y,se,R,K,g,v,w,S,C,E,_,L,D,P,k,z,I,Q,R,K,ee,Y,se,X,Ae,ge,Z,O,H,V,G;return to(this,function(ae){switch(ae.label){case 0:if(A.type!==0)return[3,5];h=void 0,p=A.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return h=ae.sent(),[3,4];case 3:return ae.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(m=NE(t,n,[h.width,h.height,h.width/h.height]),z=m[0],Y=m[1],se=m[2],R=m[3],K=m[4],P=s.ctx.createPattern(s.resizeImage(h,R,K),"repeat"),s.renderRepeat(z,P,Y,se)),[3,6];case 5:dke(A)?(y=NE(t,n,[null,null,null]),z=y[0],Y=y[1],se=y[2],R=y[3],K=y[4],g=ike(A.angle,R,K),v=g[0],w=g[1],S=g[2],C=g[3],E=g[4],_=document.createElement("canvas"),_.width=R,_.height=K,L=_.getContext("2d"),D=L.createLinearGradient(w,C,S,E),PR(A.stops,v).forEach(function(ue){return D.addColorStop(ue.stop,di(ue.color))}),L.fillStyle=D,L.fillRect(0,0,R,K),R>0&&K>0&&(P=s.ctx.createPattern(_,"repeat"),s.renderRepeat(z,P,Y,se))):Ake(A)&&(k=NE(t,n,[null,null,null]),z=k[0],I=k[1],Q=k[2],R=k[3],K=k[4],ee=A.position.length===0?[pk]:A.position,Y=da(ee[0],R),se=da(ee[ee.length-1],K),X=oke(A,Y,se,R,K),Ae=X[0],ge=X[1],Ae>0&&ge>0&&(Z=s.ctx.createRadialGradient(I+Y,Q+se,0,I+Y,Q+se,Ae),PR(A.stops,Ae*2).forEach(function(ue){return Z.addColorStop(ue.stop,di(ue.color))}),s.path(z),s.ctx.fillStyle=Z,Ae!==ge?(O=t.bounds.left+.5*t.bounds.width,H=t.bounds.top+.5*t.bounds.height,V=ge/Ae,G=1/V,s.ctx.save(),s.ctx.translate(O,H),s.ctx.transform(1,0,0,V,0,0),s.ctx.translate(-O,-H),s.ctx.fillRect(I,G*(Q-H)+H,R,K*G),s.ctx.restore()):s.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},s=this,i=0,l=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<l.length?(c=l[i],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return vo(this,void 0,void 0,function(){return to(this,function(s){return this.path(AU(a,n)),this.ctx.fillStyle=di(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,s){return vo(this,void 0,void 0,function(){var i,l;return to(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return i=m6e(s,a),this.path(i),this.ctx.fillStyle=di(t),this.ctx.fill(),l=p6e(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return vo(this,void 0,void 0,function(){var n,a,s,i,l,c,u,A,h=this;return to(this,function(p){switch(p.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!Yh(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=E6e(pp(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Yh(n.backgroundColor)||(this.ctx.fillStyle=di(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){h.ctx.save();var y=Y2(t.curves),g=m.inset?0:N6e,v=h6e(y,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(h.path(y),h.ctx.clip(),h.mask(v)):(h.mask(y),h.ctx.clip(),h.path(v)),h.ctx.shadowOffsetX=m.offsetX.number+g,h.ctx.shadowOffsetY=m.offsetY.number,h.ctx.shadowColor=di(m.color),h.ctx.shadowBlur=m.blur.number,h.ctx.fillStyle=m.inset?di(m.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:l=0,c=0,u=s,p.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!Yh(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,t.curves,3)];case 6:return p.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,t.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,t.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,s,i){return vo(this,void 0,void 0,function(){var l,c,u,A,h,p,m,y,g,v,w,S,C,E,_,L,_,L;return to(this,function(D){return this.ctx.save(),l=g6e(s,a),c=AU(s,a),i===2&&(this.path(c),this.ctx.clip()),Bc(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),Bc(c[1])?(h=c[1].end.x,p=c[1].end.y):(h=c[1].x,p=c[1].y),a===0||a===2?m=Math.abs(u-h):m=Math.abs(A-p),this.ctx.beginPath(),i===3?this.formatPath(l):this.formatPath(c.slice(0,2)),y=n<3?n*3:n*2,g=n<3?n*2:n,i===3&&(y=n,g=n),v=!0,m<=y*2?v=!1:m<=y*2+g?(w=m/(2*y+g),y*=w,g*=w):(S=Math.floor((m+g)/(y+g)),C=(m-S*y)/(S-1),E=(m-(S+1)*y)/S,g=E<=0||Math.abs(g-C)<Math.abs(g-E)?C:E),v&&(i===3?this.ctx.setLineDash([0,y+g]):this.ctx.setLineDash([y,g])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=di(t),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(Bc(c[0])&&(_=c[3],L=c[0],this.ctx.beginPath(),this.formatPath([new Ht(_.end.x,_.end.y),new Ht(L.start.x,L.start.y)]),this.ctx.stroke()),Bc(c[1])&&(_=c[1],L=c[2],this.ctx.beginPath(),this.formatPath([new Ht(_.end.x,_.end.y),new Ht(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return vo(this,void 0,void 0,function(){var n;return to(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=di(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=f6e(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(yG),B6e=function(r){return r instanceof rG||r instanceof tG?!0:r instanceof vk&&r.type!==q2&&r.type!==V2},E6e=function(r,e){switch(r){case 0:return Y2(e);case 2:return l6e(e);default:return X2(e)}},j6e=function(r){switch(r){case 1:return"center";case 2:return"right";default:return"left"}},_6e=["-apple-system","system-ui"],T6e=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return _6e.indexOf(e)===-1}):r},k6e=(function(r){Fu(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return vo(this,void 0,void 0,function(){var n,a;return to(this,function(s){switch(s.label){case 0:return n=zj(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,F6e(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=di(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(yG),F6e=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},O6e=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Fb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Fb([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Fb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Fb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),D6e=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new O6e({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new e6e(this,e)}return r.instanceCount=1,r})(),wk=function(r,e){return e===void 0&&(e={}),P6e(r,e)};typeof window<"u"&&hG.setContext(window);var P6e=function(r,e){return vo(void 0,void 0,void 0,function(){var t,n,a,s,i,l,c,u,A,h,p,m,y,g,v,w,S,C,E,_,D,L,D,P,k,z,I,Q,R,K,ee,Y,se,X,Ae,ge,Z,O,H,V;return to(this,function(G){switch(G.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(z=e.useCORS)!==null&&z!==void 0?z:!1},s=jj({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},a),i={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(R=e.windowHeight)!==null&&R!==void 0?R:n.innerHeight,scrollX:(K=e.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(ee=e.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},l=new PA(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),c=new D6e(s,l),u=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,A={allowTaint:(se=e.allowTaint)!==null&&se!==void 0?se:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new cU(c,r,A),p=h.clonedReferenceElement,p?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=G.sent(),y=bk(p)||LOe(p)?hTe(p.ownerDocument):y5(c,p),g=y.width,v=y.height,w=y.left,S=y.top,C=I6e(c,p,e.backgroundColor),E={canvas:e.canvas,backgroundColor:C,scale:(Ae=(X=e.scale)!==null&&X!==void 0?X:n.devicePixelRatio)!==null&&Ae!==void 0?Ae:1,x:((ge=e.x)!==null&&ge!==void 0?ge:0)+w,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+S,width:(O=e.width)!==null&&O!==void 0?O:Math.ceil(g),height:(H=e.height)!==null&&H!==void 0?H:Math.ceil(v)},u?(c.logger.debug("Document cloned, using foreign object rendering"),D=new k6e(c,E),[4,D.render(p)]):[3,3];case 2:return _=G.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+w+","+S+" with size "+g+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),L=sG(c,p),C===L.styles.backgroundColor&&(L.styles.backgroundColor=NA.TRANSPARENT),c.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),D=new S6e(c,E),[4,D.render(L)];case 4:_=G.sent(),G.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(cU.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,_]}})})},I6e=function(r,e,t){var n=e.ownerDocument,a=n.documentElement?gy(r,getComputedStyle(n.documentElement).backgroundColor):NA.TRANSPARENT,s=n.body?gy(r,getComputedStyle(n.body).backgroundColor):NA.TRANSPARENT,i=typeof t=="string"?gy(r,t):t===null?NA.TRANSPARENT:4294967295;return e===n.documentElement?Yh(a)?Yh(s)?i:s:a:i};const L6e=Object.freeze(Object.defineProperty({__proto__:null,default:wk},Symbol.toStringTag,{value:"Module"}));function Hn(r){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(r)}var Eu=Uint8Array,Ql=Uint16Array,Ck=Int32Array,Nk=new Eu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sk=new Eu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fU=new Eu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vG=function(r,e){for(var t=new Ql(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new Ck(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},bG=vG(Nk,2),M6e=bG.b,Yj=bG.r;M6e[28]=258,Yj[258]=28;var R6e=vG(Sk,0),mU=R6e.r,Xj=new Ql(32768);for(var ya=0;ya<32768;++ya){var _h=(ya&43690)>>1|(ya&21845)<<1;_h=(_h&52428)>>2|(_h&13107)<<2,_h=(_h&61680)>>4|(_h&3855)<<4,Xj[ya]=((_h&65280)>>8|(_h&255)<<8)>>1}var by=(function(r,e,t){for(var n=r.length,a=0,s=new Ql(e);a<n;++a)r[a]&&++s[r[a]-1];var i=new Ql(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(t){l=new Ql(1<<e);var c=15-e;for(a=0;a<n;++a)if(r[a])for(var u=a<<4|r[a],A=e-r[a],h=i[r[a]-1]++<<A,p=h|(1<<A)-1;h<=p;++h)l[Xj[h]>>c]=u}else for(l=new Ql(n),a=0;a<n;++a)r[a]&&(l[a]=Xj[i[r[a]-1]++]>>15-r[a]);return l}),K0=new Eu(288);for(var ya=0;ya<144;++ya)K0[ya]=8;for(var ya=144;ya<256;++ya)K0[ya]=9;for(var ya=256;ya<280;++ya)K0[ya]=7;for(var ya=280;ya<288;++ya)K0[ya]=8;var Z2=new Eu(32);for(var ya=0;ya<32;++ya)Z2[ya]=5;var U6e=by(K0,9,0),Q6e=by(Z2,5,0),wG=function(r){return(r+7)/8|0},H6e=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Eu(r.subarray(e,t))},oA=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},$x=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},SE=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,s=t.slice();if(!a)return{t:NG,l:0};if(a==1){var i=new Eu(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(_,L){return _.f-L.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],u=0,A=1,h=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};A!=a-1;)l=t[t[u].f<t[h].f?u++:h++],c=t[u!=A&&t[u].f<t[h].f?u++:h++],t[A++]={s:-1,f:l.f+c.f,l,r:c};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var m=new Ql(p+1),y=Jj(t[A-1],m,0);if(y>e){var n=0,g=0,v=y-e,w=1<<v;for(s.sort(function(L,D){return m[D.s]-m[L.s]||L.f-D.f});n<a;++n){var S=s[n].s;if(m[S]>e)g+=w-(1<<y-m[S]),m[S]=e;else break}for(g>>=v;g>0;){var C=s[n].s;m[C]<e?g-=1<<e-m[C]++-1:++n}for(;n>=0&&g;--n){var E=s[n].s;m[E]==e&&(--m[E],++g)}y=e}return{t:new Eu(m),l:y}},Jj=function(r,e,t){return r.s==-1?Math.max(Jj(r.l,e,t+1),Jj(r.r,e,t+1)):e[r.s]=t},pU=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ql(++e),n=0,a=r[0],s=1,i=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=r[l]}return{c:t.subarray(0,n),n:e}},Vx=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},CG=function(r,e,t){var n=t.length,a=wG(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<n;++s)r[a+s+4]=t[s];return(a+4+n)*8},gU=function(r,e,t,n,a,s,i,l,c,u,A){oA(e,A++,t),++a[256];for(var h=SE(a,15),p=h.t,m=h.l,y=SE(s,15),g=y.t,v=y.l,w=pU(p),S=w.c,C=w.n,E=pU(g),_=E.c,L=E.n,D=new Ql(19),P=0;P<S.length;++P)++D[S[P]&31];for(var P=0;P<_.length;++P)++D[_[P]&31];for(var k=SE(D,7),z=k.t,I=k.l,Q=19;Q>4&&!z[fU[Q-1]];--Q);var R=u+5<<3,K=Vx(a,K0)+Vx(s,Z2)+i,ee=Vx(a,p)+Vx(s,g)+i+14+3*Q+Vx(D,z)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&R<=K&&R<=ee)return CG(e,A,r.subarray(c,c+u));var Y,se,X,Ae;if(oA(e,A,1+(ee<K)),A+=2,ee<K){Y=by(p,m,0),se=p,X=by(g,v,0),Ae=g;var ge=by(z,I,0);oA(e,A,C-257),oA(e,A+5,L-1),oA(e,A+10,Q-4),A+=14;for(var P=0;P<Q;++P)oA(e,A+3*P,z[fU[P]]);A+=3*Q;for(var Z=[S,_],O=0;O<2;++O)for(var H=Z[O],P=0;P<H.length;++P){var V=H[P]&31;oA(e,A,ge[V]),A+=z[V],V>15&&(oA(e,A,H[P]>>5&127),A+=H[P]>>12)}}else Y=U6e,se=K0,X=Q6e,Ae=Z2;for(var P=0;P<l;++P){var G=n[P];if(G>255){var V=G>>18&31;$x(e,A,Y[V+257]),A+=se[V+257],V>7&&(oA(e,A,G>>23&31),A+=Nk[V]);var ae=G&31;$x(e,A,X[ae]),A+=Ae[ae],ae>3&&($x(e,A,G>>5&8191),A+=Sk[ae])}else $x(e,A,Y[G]),A+=se[G]}return $x(e,A,Y[256]),A+se[256]},z6e=new Ck([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NG=new Eu(0),K6e=function(r,e,t,n,a,s){var i=s.z||r.length,l=new Eu(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,A=(s.r||0)&7;if(e){A&&(c[0]=s.r>>3);for(var h=z6e[e-1],p=h>>13,m=h&8191,y=(1<<t)-1,g=s.p||new Ql(32768),v=s.h||new Ql(y+1),w=Math.ceil(t/3),S=2*w,C=function(je){return(r[je]^r[je+1]<<w^r[je+2]<<S)&y},E=new Ck(25e3),_=new Ql(288),L=new Ql(32),D=0,P=0,k=s.i||0,z=0,I=s.w||0,Q=0;k+2<i;++k){var R=C(k),K=k&32767,ee=v[R];if(g[K]=ee,v[R]=K,I<=k){var Y=i-k;if((D>7e3||z>24576)&&(Y>423||!u)){A=gU(r,c,0,E,_,L,P,z,Q,k-Q,A),z=D=P=0,Q=k;for(var se=0;se<286;++se)_[se]=0;for(var se=0;se<30;++se)L[se]=0}var X=2,Ae=0,ge=m,Z=K-ee&32767;if(Y>2&&R==C(k-Z))for(var O=Math.min(p,Y)-1,H=Math.min(32767,k),V=Math.min(258,Y);Z<=H&&--ge&&K!=ee;){if(r[k+X]==r[k+X-Z]){for(var G=0;G<V&&r[k+G]==r[k+G-Z];++G);if(G>X){if(X=G,Ae=Z,G>O)break;for(var ae=Math.min(Z,G-2),ue=0,se=0;se<ae;++se){var Se=k-Z+se&32767,te=g[Se],pe=Se-te&32767;pe>ue&&(ue=pe,ee=Se)}}}K=ee,ee=g[K],Z+=K-ee&32767}if(Ae){E[z++]=268435456|Yj[X]<<18|mU[Ae];var ke=Yj[X]&31,Ee=mU[Ae]&31;P+=Nk[ke]+Sk[Ee],++_[257+ke],++L[Ee],I=k+X,++D}else E[z++]=r[k],++_[r[k]]}}for(k=Math.max(k,I);k<i;++k)E[z++]=r[k],++_[r[k]];A=gU(r,c,u,E,_,L,P,z,Q,k-Q,A),u||(s.r=A&7|c[A/8|0]<<3,A-=7,s.h=v,s.p=g,s.i=k,s.w=I)}else{for(var k=s.w||0;k<i+u;k+=65535){var Ue=k+65535;Ue>=i&&(c[A/8|0]=u,Ue=i),A=CG(c,A+1,r.subarray(k,Ue))}s.i=i}return H6e(l,0,n+wG(A)+a)},SG=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,s=t.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},$6e=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new Eu(s.length+r.length);i.set(s),i.set(r,s.length),r=i,a.w=s.length}return K6e(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},BG=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},V6e=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=SG();a.p(e.dictionary),BG(r,2,a.d())}};function Zj(r,e){e||(e={});var t=SG();t.p(r);var n=$6e(r,e,e.dictionary?6:2,4);return V6e(n,e),BG(n,n.length-4,t.d()),n}var q6e=typeof TextDecoder<"u"&&new TextDecoder,G6e=0;try{q6e.decode(NG,{stream:!0}),G6e=1}catch{}function W6e(r){if(Array.isArray(r))return r}function Y6e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function xU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function X6e(r,e){if(r){if(typeof r=="string")return xU(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xU(r,e):void 0}}function J6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(r,e){return W6e(r)||Y6e(r,e)||X6e(r,e)||J6e()}function vU(r,e="utf8"){return new TextDecoder(e).decode(r)}const Z6e=new TextEncoder;function eDe(r){return Z6e.encode(r)}const tDe=1024*8,rDe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),BE={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Bk{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=tDe,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,s=e.byteLength-a;let i=a;(ArrayBuffer.isView(e)||e instanceof Bk)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=BE[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===rDe&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new BE[t](l.buffer);return this.offset+=n,c.reverse(),c}const i=new BE[t](s);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return vU(this.readBytes(e))}decodeText(e=1,t="utf8"){return vU(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(eDe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Mg(r){let e=r.length;for(;--e>=0;)r[e]=0}const nDe=3,aDe=258,EG=29,sDe=256,iDe=sDe+1+EG,jG=30,oDe=512,lDe=new Array((iDe+2)*2);Mg(lDe);const cDe=new Array(jG*2);Mg(cDe);const uDe=new Array(oDe);Mg(uDe);const dDe=new Array(aDe-nDe+1);Mg(dDe);const ADe=new Array(EG);Mg(ADe);const hDe=new Array(jG);Mg(hDe);const fDe=(r,e,t,n)=>{let a=r&65535|0,s=r>>>16&65535|0,i=0;for(;t!==0;){i=t>2e3?2e3:t,t-=i;do a=a+e[n++]|0,s=s+a|0;while(--i);a%=65521,s%=65521}return a|s<<16|0};var e_=fDe;const mDe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},pDe=new Uint32Array(mDe()),gDe=(r,e,t,n)=>{const a=pDe,s=n+t;r^=-1;for(let i=n;i<s;i++)r=r>>>8^a[(r^e[i])&255];return r^-1};var od=gDe,t_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_G={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xDe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var yDe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)xDe(t,n)&&(r[n]=t[n])}}return r},vDe=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,a=0,s=r.length;n<s;n++){let i=r[n];t.set(i,a),a+=i.length}return t},TG={assign:yDe,flattenChunks:vDe};let kG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{kG=!1}const tv=new Uint8Array(256);for(let r=0;r<256;r++)tv[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;tv[254]=tv[254]=1;var bDe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,s,i=r.length,l=0;for(a=0;a<i;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const wDe=(r,e)=>{if(e<65534&&r.subarray&&kG)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var CDe=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a;const s=new Array(t*2);for(a=0,n=0;n<t;){let i=r[n++];if(i<128){s[a++]=i;continue}let l=tv[i];if(l>4){s[a++]=65533,n+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&n<t;)i=i<<6|r[n++]&63,l--;if(l>1){s[a++]=65533;continue}i<65536?s[a++]=i:(i-=65536,s[a++]=55296|i>>10&1023,s[a++]=56320|i&1023)}return wDe(s,a)},NDe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+tv[r[t]]>e?t:e},r_={string2buf:bDe,buf2string:CDe,utf8border:NDe};function SDe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var BDe=SDe;const tw=16209,EDe=16191;var jDe=function(e,t){let n,a,s,i,l,c,u,A,h,p,m,y,g,v,w,S,C,E,_,L,D,P,k,z;const I=e.state;n=e.next_in,k=e.input,a=n+(e.avail_in-5),s=e.next_out,z=e.output,i=s-(t-e.avail_out),l=s+(e.avail_out-257),c=I.dmax,u=I.wsize,A=I.whave,h=I.wnext,p=I.window,m=I.hold,y=I.bits,g=I.lencode,v=I.distcode,w=(1<<I.lenbits)-1,S=(1<<I.distbits)-1;e:do{y<15&&(m+=k[n++]<<y,y+=8,m+=k[n++]<<y,y+=8),C=g[m&w];t:for(;;){if(E=C>>>24,m>>>=E,y-=E,E=C>>>16&255,E===0)z[s++]=C&65535;else if(E&16){_=C&65535,E&=15,E&&(y<E&&(m+=k[n++]<<y,y+=8),_+=m&(1<<E)-1,m>>>=E,y-=E),y<15&&(m+=k[n++]<<y,y+=8,m+=k[n++]<<y,y+=8),C=v[m&S];r:for(;;){if(E=C>>>24,m>>>=E,y-=E,E=C>>>16&255,E&16){if(L=C&65535,E&=15,y<E&&(m+=k[n++]<<y,y+=8,y<E&&(m+=k[n++]<<y,y+=8)),L+=m&(1<<E)-1,L>c){e.msg="invalid distance too far back",I.mode=tw;break e}if(m>>>=E,y-=E,E=s-i,L>E){if(E=L-E,E>A&&I.sane){e.msg="invalid distance too far back",I.mode=tw;break e}if(D=0,P=p,h===0){if(D+=u-E,E<_){_-=E;do z[s++]=p[D++];while(--E);D=s-L,P=z}}else if(h<E){if(D+=u+h-E,E-=h,E<_){_-=E;do z[s++]=p[D++];while(--E);if(D=0,h<_){E=h,_-=E;do z[s++]=p[D++];while(--E);D=s-L,P=z}}}else if(D+=h-E,E<_){_-=E;do z[s++]=p[D++];while(--E);D=s-L,P=z}for(;_>2;)z[s++]=P[D++],z[s++]=P[D++],z[s++]=P[D++],_-=3;_&&(z[s++]=P[D++],_>1&&(z[s++]=P[D++]))}else{D=s-L;do z[s++]=z[D++],z[s++]=z[D++],z[s++]=z[D++],_-=3;while(_>2);_&&(z[s++]=z[D++],_>1&&(z[s++]=z[D++]))}}else if((E&64)===0){C=v[(C&65535)+(m&(1<<E)-1)];continue r}else{e.msg="invalid distance code",I.mode=tw;break e}break}}else if((E&64)===0){C=g[(C&65535)+(m&(1<<E)-1)];continue t}else if(E&32){I.mode=EDe;break e}else{e.msg="invalid literal/length code",I.mode=tw;break e}break}}while(n<a&&s<l);_=y>>3,n-=_,y-=_<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<l?257+(l-s):257-(s-l),I.hold=m,I.bits=y};const cp=15,bU=852,wU=592,CU=0,EE=1,NU=2,_De=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),TDe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kDe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FDe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ODe=(r,e,t,n,a,s,i,l)=>{const c=l.bits;let u=0,A=0,h=0,p=0,m=0,y=0,g=0,v=0,w=0,S=0,C,E,_,L,D,P=null,k;const z=new Uint16Array(cp+1),I=new Uint16Array(cp+1);let Q=null,R,K,ee;for(u=0;u<=cp;u++)z[u]=0;for(A=0;A<n;A++)z[e[t+A]]++;for(m=c,p=cp;p>=1&&z[p]===0;p--);if(m>p&&(m=p),p===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&z[h]===0;h++);for(m<h&&(m=h),v=1,u=1;u<=cp;u++)if(v<<=1,v-=z[u],v<0)return-1;if(v>0&&(r===CU||p!==1))return-1;for(I[1]=0,u=1;u<cp;u++)I[u+1]=I[u]+z[u];for(A=0;A<n;A++)e[t+A]!==0&&(i[I[e[t+A]]++]=A);if(r===CU?(P=Q=i,k=20):r===EE?(P=_De,Q=TDe,k=257):(P=kDe,Q=FDe,k=0),S=0,A=0,u=h,D=s,y=m,g=0,_=-1,w=1<<m,L=w-1,r===EE&&w>bU||r===NU&&w>wU)return 1;for(;;){R=u-g,i[A]+1<k?(K=0,ee=i[A]):i[A]>=k?(K=Q[i[A]-k],ee=P[i[A]-k]):(K=96,ee=0),C=1<<u-g,E=1<<y,h=E;do E-=C,a[D+(S>>g)+E]=R<<24|K<<16|ee|0;while(E!==0);for(C=1<<u-1;S&C;)C>>=1;if(C!==0?(S&=C-1,S+=C):S=0,A++,--z[u]===0){if(u===p)break;u=e[t+i[A]]}if(u>m&&(S&L)!==_){for(g===0&&(g=m),D+=h,y=u-g,v=1<<y;y+g<p&&(v-=z[y+g],!(v<=0));)y++,v<<=1;if(w+=1<<y,r===EE&&w>bU||r===NU&&w>wU)return 1;_=S&L,a[_]=m<<24|y<<16|D-s|0}}return S!==0&&(a[D+S]=u-g<<24|64<<16|0),l.bits=m,0};var wy=ODe;const DDe=0,FG=1,OG=2,{Z_FINISH:SU,Z_BLOCK:PDe,Z_TREES:rw,Z_OK:$0,Z_STREAM_END:IDe,Z_NEED_DICT:LDe,Z_STREAM_ERROR:Dc,Z_DATA_ERROR:DG,Z_MEM_ERROR:PG,Z_BUF_ERROR:MDe,Z_DEFLATED:BU}=_G,_5=16180,EU=16181,jU=16182,_U=16183,TU=16184,kU=16185,FU=16186,OU=16187,DU=16188,PU=16189,eC=16190,lA=16191,jE=16192,IU=16193,_E=16194,LU=16195,MU=16196,RU=16197,UU=16198,nw=16199,aw=16200,QU=16201,HU=16202,zU=16203,KU=16204,$U=16205,TE=16206,VU=16207,qU=16208,_a=16209,IG=16210,LG=16211,RDe=852,UDe=592,QDe=15,HDe=QDe,GU=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function zDe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const am=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<_5||e.mode>LG?1:0},MG=r=>{if(am(r))return Dc;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=_5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(RDe),e.distcode=e.distdyn=new Int32Array(UDe),e.sane=1,e.back=-1,$0},RG=r=>{if(am(r))return Dc;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,MG(r)},UG=(r,e)=>{let t;if(am(r))return Dc;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Dc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,RG(r))},QG=(r,e)=>{if(!r)return Dc;const t=new zDe;r.state=t,t.strm=r,t.window=null,t.mode=_5;const n=UG(r,e);return n!==$0&&(r.state=null),n},KDe=r=>QG(r,HDe);let WU=!0,kE,FE;const $De=r=>{if(WU){kE=new Int32Array(512),FE=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(wy(FG,r.lens,0,288,kE,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;wy(OG,r.lens,0,32,FE,0,r.work,{bits:5}),WU=!1}r.lencode=kE,r.lenbits=9,r.distcode=FE,r.distbits=5},HG=(r,e,t,n)=>{let a;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(t-n,t-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},VDe=(r,e)=>{let t,n,a,s,i,l,c,u,A,h,p,m,y,g,v=0,w,S,C,E,_,L,D,P;const k=new Uint8Array(4);let z,I;const Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(am(r)||!r.output||!r.input&&r.avail_in!==0)return Dc;t=r.state,t.mode===lA&&(t.mode=jE),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,A=t.bits,h=l,p=c,P=$0;e:for(;;)switch(t.mode){case _5:if(t.wrap===0){t.mode=jE;break}for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=u&255,k[1]=u>>>8&255,t.check=od(t.check,k,2,0),u=0,A=0,t.mode=EU;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=_a;break}if((u&15)!==BU){r.msg="unknown compression method",t.mode=_a;break}if(u>>>=4,A-=4,D=(u&15)+8,t.wbits===0&&(t.wbits=D),D>15||D>t.wbits){r.msg="invalid window size",t.mode=_a;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?PU:lA,u=0,A=0;break;case EU:for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.flags=u,(t.flags&255)!==BU){r.msg="unknown compression method",t.mode=_a;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=_a;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=od(t.check,k,2,0)),u=0,A=0,t.mode=jU;case jU:for(;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,t.check=od(t.check,k,4,0)),u=0,A=0,t.mode=_U;case _U:for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=od(t.check,k,2,0)),u=0,A=0,t.mode=TU;case TU:if(t.flags&1024){for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=od(t.check,k,2,0)),u=0,A=0}else t.head&&(t.head.extra=null);t.mode=kU;case kU:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+m),D)),t.flags&512&&t.wrap&4&&(t.check=od(t.check,n,m,s)),l-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=FU;case FU:if(t.flags&2048){if(l===0)break e;m=0;do D=n[s+m++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D));while(D&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=od(t.check,n,m,s)),l-=m,s+=m,D)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=OU;case OU:if(t.flags&4096){if(l===0)break e;m=0;do D=n[s+m++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D));while(D&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=od(t.check,n,m,s)),l-=m,s+=m,D)break e}else t.head&&(t.head.comment=null);t.mode=DU;case DU:if(t.flags&512){for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=_a;break}u=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=lA;break;case PU:for(;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}r.adler=t.check=GU(u),u=0,A=0,t.mode=eC;case eC:if(t.havedict===0)return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=A,LDe;r.adler=t.check=1,t.mode=lA;case lA:if(e===PDe||e===rw)break e;case jE:if(t.last){u>>>=A&7,A-=A&7,t.mode=TE;break}for(;A<3;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}switch(t.last=u&1,u>>>=1,A-=1,u&3){case 0:t.mode=IU;break;case 1:if($De(t),t.mode=nw,e===rw){u>>>=2,A-=2;break e}break;case 2:t.mode=MU;break;case 3:r.msg="invalid block type",t.mode=_a}u>>>=2,A-=2;break;case IU:for(u>>>=A&7,A-=A&7;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=_a;break}if(t.length=u&65535,u=0,A=0,t.mode=_E,e===rw)break e;case _E:t.mode=LU;case LU:if(m=t.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(s,s+m),i),l-=m,s+=m,c-=m,i+=m,t.length-=m;break}t.mode=lA;break;case MU:for(;A<14;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.nlen=(u&31)+257,u>>>=5,A-=5,t.ndist=(u&31)+1,u>>>=5,A-=5,t.ncode=(u&15)+4,u>>>=4,A-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=_a;break}t.have=0,t.mode=RU;case RU:for(;t.have<t.ncode;){for(;A<3;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.lens[Q[t.have++]]=u&7,u>>>=3,A-=3}for(;t.have<19;)t.lens[Q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},P=wy(DDe,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,P){r.msg="invalid code lengths set",t.mode=_a;break}t.have=0,t.mode=UU;case UU:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[u&(1<<t.lenbits)-1],w=v>>>24,S=v>>>16&255,C=v&65535,!(w<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(C<16)u>>>=w,A-=w,t.lens[t.have++]=C;else{if(C===16){for(I=w+2;A<I;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(u>>>=w,A-=w,t.have===0){r.msg="invalid bit length repeat",t.mode=_a;break}D=t.lens[t.have-1],m=3+(u&3),u>>>=2,A-=2}else if(C===17){for(I=w+3;A<I;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=w,A-=w,D=0,m=3+(u&7),u>>>=3,A-=3}else{for(I=w+7;A<I;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=w,A-=w,D=0,m=11+(u&127),u>>>=7,A-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=_a;break}for(;m--;)t.lens[t.have++]=D}}if(t.mode===_a)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=_a;break}if(t.lenbits=9,z={bits:t.lenbits},P=wy(FG,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,P){r.msg="invalid literal/lengths set",t.mode=_a;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},P=wy(OG,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,P){r.msg="invalid distances set",t.mode=_a;break}if(t.mode=nw,e===rw)break e;case nw:t.mode=aw;case aw:if(l>=6&&c>=258){r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=A,jDe(r,p),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,A=t.bits,t.mode===lA&&(t.back=-1);break}for(t.back=0;v=t.lencode[u&(1<<t.lenbits)-1],w=v>>>24,S=v>>>16&255,C=v&65535,!(w<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(S&&(S&240)===0){for(E=w,_=S,L=C;v=t.lencode[L+((u&(1<<E+_)-1)>>E)],w=v>>>24,S=v>>>16&255,C=v&65535,!(E+w<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=E,A-=E,t.back+=E}if(u>>>=w,A-=w,t.back+=w,t.length=C,S===0){t.mode=$U;break}if(S&32){t.back=-1,t.mode=lA;break}if(S&64){r.msg="invalid literal/length code",t.mode=_a;break}t.extra=S&15,t.mode=QU;case QU:if(t.extra){for(I=t.extra;A<I;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=HU;case HU:for(;v=t.distcode[u&(1<<t.distbits)-1],w=v>>>24,S=v>>>16&255,C=v&65535,!(w<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if((S&240)===0){for(E=w,_=S,L=C;v=t.distcode[L+((u&(1<<E+_)-1)>>E)],w=v>>>24,S=v>>>16&255,C=v&65535,!(E+w<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=E,A-=E,t.back+=E}if(u>>>=w,A-=w,t.back+=w,S&64){r.msg="invalid distance code",t.mode=_a;break}t.offset=C,t.extra=S&15,t.mode=zU;case zU:if(t.extra){for(I=t.extra;A<I;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=_a;break}t.mode=KU;case KU:if(c===0)break e;if(m=p-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=_a;break}m>t.wnext?(m-=t.wnext,y=t.wsize-m):y=t.wnext-m,m>t.length&&(m=t.length),g=t.window}else g=a,y=i-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do a[i++]=g[y++];while(--m);t.length===0&&(t.mode=aw);break;case $U:if(c===0)break e;a[i++]=t.length,c--,t.mode=aw;break;case TE:if(t.wrap){for(;A<32;){if(l===0)break e;l--,u|=n[s++]<<A,A+=8}if(p-=c,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?od(t.check,a,p,i-p):e_(t.check,a,p,i-p)),p=c,t.wrap&4&&(t.flags?u:GU(u))!==t.check){r.msg="incorrect data check",t.mode=_a;break}u=0,A=0}t.mode=VU;case VU:if(t.wrap&&t.flags){for(;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=_a;break}u=0,A=0}t.mode=qU;case qU:P=IDe;break e;case _a:P=DG;break e;case IG:return PG;case LG:default:return Dc}return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=A,(t.wsize||p!==r.avail_out&&t.mode<_a&&(t.mode<TE||e!==SU))&&HG(r,r.output,r.next_out,p-r.avail_out),h-=r.avail_in,p-=r.avail_out,r.total_in+=h,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?od(t.check,a,p,r.next_out-p):e_(t.check,a,p,r.next_out-p)),r.data_type=t.bits+(t.last?64:0)+(t.mode===lA?128:0)+(t.mode===nw||t.mode===_E?256:0),(h===0&&p===0||e===SU)&&P===$0&&(P=MDe),P},qDe=r=>{if(am(r))return Dc;let e=r.state;return e.window&&(e.window=null),r.state=null,$0},GDe=(r,e)=>{if(am(r))return Dc;const t=r.state;return(t.wrap&2)===0?Dc:(t.head=e,e.done=!1,$0)},WDe=(r,e)=>{const t=e.length;let n,a,s;return am(r)||(n=r.state,n.wrap!==0&&n.mode!==eC)?Dc:n.mode===eC&&(a=1,a=e_(a,e,t,0),a!==n.check)?DG:(s=HG(r,e,t,t),s?(n.mode=IG,PG):(n.havedict=1,$0))};var YDe=RG,XDe=UG,JDe=MG,ZDe=KDe,ePe=QG,tPe=VDe,rPe=qDe,nPe=GDe,aPe=WDe,sPe="pako inflate (from Nodeca project)",uA={inflateReset:YDe,inflateReset2:XDe,inflateResetKeep:JDe,inflateInit:ZDe,inflateInit2:ePe,inflate:tPe,inflateEnd:rPe,inflateGetHeader:nPe,inflateSetDictionary:aPe,inflateInfo:sPe};function iPe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oPe=iPe;const zG=Object.prototype.toString,{Z_NO_FLUSH:lPe,Z_FINISH:cPe,Z_OK:rv,Z_STREAM_END:OE,Z_NEED_DICT:DE,Z_STREAM_ERROR:uPe,Z_DATA_ERROR:YU,Z_MEM_ERROR:dPe}=_G;function Vv(r){this.options=TG.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new BDe,this.strm.avail_out=0;let t=uA.inflateInit2(this.strm,e.windowBits);if(t!==rv)throw new Error(t_[t]);if(this.header=new oPe,uA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=r_.string2buf(e.dictionary):zG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=uA.inflateSetDictionary(this.strm,e.dictionary),t!==rv)))throw new Error(t_[t])}Vv.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,i,l;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?cPe:lPe,zG.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=uA.inflate(t,i),s===DE&&a&&(s=uA.inflateSetDictionary(t,a),s===rv?s=uA.inflate(t,i):s===YU&&(s=DE));t.avail_in>0&&s===OE&&t.state.wrap>0&&r[t.next_in]!==0;)uA.inflateReset(t),s=uA.inflate(t,i);switch(s){case uPe:case YU:case DE:case dPe:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===OE))if(this.options.to==="string"){let c=r_.utf8border(t.output,t.next_out),u=t.next_out-c,A=r_.buf2string(t.output,c);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===rv&&l===0)){if(s===OE)return s=uA.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Vv.prototype.onData=function(r){this.chunks.push(r)};Vv.prototype.onEnd=function(r){r===rv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=TG.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function APe(r,e){const t=new Vv(e);if(t.push(r),t.err)throw t.msg||t_[t.err];return t.result}var hPe=Vv,fPe=APe,mPe={Inflate:hPe,inflate:fPe};const{Inflate:pPe,inflate:gPe}=mPe;var XU=pPe,xPe=gPe;const KG=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;KG[r]=e}const JU=4294967295;function yPe(r,e,t){let n=r;for(let a=0;a<t;a++)n=KG[(n^e[a])&255]^n>>>8;return n}function vPe(r,e){return(yPe(JU,r,e)^JU)>>>0}function ZU(r,e,t){const n=r.readUint32(),a=vPe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function $G(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function VG(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function qG(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function GG(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-a]+t[s]>>1)&255}}function WG(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+bPe(e[s-a],t[s],t[s-a])&255}}function bPe(r,e,t){const n=r+e-t,a=Math.abs(n-r),s=Math.abs(n-e),i=Math.abs(n-t);return a<=s&&a<=i?r:s<=i?e:t}function wPe(r,e,t,n,a,s){switch(r){case 0:$G(e,t,a);break;case 1:VG(e,t,a,s);break;case 2:qG(e,t,n,a);break;case 3:GG(e,t,n,a,s);break;case 4:WG(e,t,n,a,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const CPe=new Uint16Array([255]),NPe=new Uint8Array(CPe.buffer),SPe=NPe[0]===255;function BPe(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*t*l);let u=0;for(let A=0;A<7;A++){const h=i[A],p=Math.ceil((t-h.x)/h.xStep),m=Math.ceil((n-h.y)/h.yStep);if(p<=0||m<=0)continue;const y=p*l,g=new Uint8Array(y);for(let v=0;v<m;v++){const w=e[u++],S=e.subarray(u,u+y);u+=y;const C=new Uint8Array(y);wPe(w,S,C,g,y,l),g.set(C);for(let E=0;E<p;E++){const _=h.x+E*h.xStep,L=h.y+v*h.yStep;if(!(_>=t||L>=n))for(let D=0;D<l;D++)c[(L*t+_)*l+D]=C[E*l+D]}}}if(s===16){const A=new Uint16Array(c.buffer);if(SPe)for(let h=0;h<A.length;h++)A[h]=EPe(A[h]);return A}else return c}function EPe(r){return(r&255)<<8|r>>8&255}const jPe=new Uint16Array([255]),_Pe=new Uint8Array(jPe.buffer),TPe=_Pe[0]===255,kPe=new Uint8Array(0);function e8(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*t),c=new Uint8Array(n*l);let u=kPe,A=0,h,p;for(let m=0;m<n;m++){switch(h=e.subarray(A+1,A+1+l),p=c.subarray(m*l,(m+1)*l),e[A]){case 0:$G(h,p,l);break;case 1:VG(h,p,l,i);break;case 2:qG(h,p,u,l);break;case 3:GG(h,p,u,l,i);break;case 4:WG(h,p,u,l,i);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}u=p,A+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(TPe)for(let y=0;y<m.length;y++)m[y]=FPe(m[y]);return m}else return c}function FPe(r){return(r&255)<<8|r>>8&255}const Bw=Uint8Array.of(137,80,78,71,13,10,26,10);function t8(r){if(!OPe(r.readBytes(Bw.length)))throw new Error("wrong PNG signature")}function OPe(r){if(r.length<Bw.length)return!1;for(let e=0;e<Bw.length;e++)if(r[e]!==Bw[e])return!1;return!0}const DPe="tEXt",PPe=0,YG=new TextDecoder("latin1");function IPe(r){if(MPe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const LPe=/^[\u0000-\u00FF]*$/;function MPe(r){if(!LPe.test(r))throw new Error("invalid latin1 text")}function RPe(r,e,t){const n=XG(e);r[n]=UPe(e,t-n.length-1)}function XG(r){for(r.mark();r.readByte()!==PPe;);const e=r.offset;r.reset();const t=YG.decode(r.readBytes(e-r.offset-1));return r.skip(1),IPe(t),t}function UPe(r,e){return YG.decode(r.readBytes(e))}const jl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},PE={UNKNOWN:-1,DEFLATE:0},r8={UNKNOWN:-1,ADAPTIVE:0},IE={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sw={NONE:0,BACKGROUND:1,PREVIOUS:2},LE={SOURCE:0,OVER:1};class QPe extends Bk{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new XU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=PE.UNKNOWN,this._filterMethod=r8.UNKNOWN,this._interlaceMethod=IE.UNKNOWN,this._colorType=jl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(t8(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(t8(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case DPe:RPe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ZU(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ZU(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=HPe(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case jl.GREYSCALE:n=1;break;case jl.TRUECOLOUR:n=3;break;case jl.INDEXED_COLOUR:n=1;break;case jl.GREYSCALE_ALPHA:n=2;break;case jl.TRUECOLOUR_ALPHA:n=4;break;case jl.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==PE.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<t;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case jl.GREYSCALE:case jl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case jl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case jl.UNKNOWN:case jl.GREYSCALE_ALPHA:case jl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=XG(this),n=this.readUint8();if(n!==PE.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:xPe(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=e8({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case sw.NONE:break;case sw.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const i=(a*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[i+l]=0}break;case sw.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,a=(s,i)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+i)*this._png.channels,c=(s*t.width+i)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case LE.SOURCE:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++)e.data[l+u]=t.data[c+u]}break;case LE.OVER:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++){const A=t.data[c+this._png.channels-1]/n,h=u%(this._png.channels-1)===0?1:t.data[c+u],p=Math.floor(A*h+(1-A)*e.data[l+u]);e.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==r8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===IE.NO_INTERLACE)this._png.data=e8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===IE.ADAM7)this._png.data=BPe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sw.NONE,blendOp:LE.SOURCE,data:e}),this._inflator=new XU,this._writingDataChunks=!1}}function HPe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var n8;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(n8||(n8={}));function zPe(r,e){return new QPe(r,e).decode()}var kr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ME(){kr.console&&typeof kr.console.log=="function"&&kr.console.log.apply(kr.console,arguments)}var ia={log:ME,warn:function(r){kr.console&&(typeof kr.console.warn=="function"?kr.console.warn.apply(kr.console,arguments):ME.call(null,arguments))},error:function(r){kr.console&&(typeof kr.console.error=="function"?kr.console.error.apply(kr.console,arguments):ME(r))}};function RE(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){n0(n.response,e,t)},n.onerror=function(){ia.error("could not download file")},n.send()}function a8(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function iw(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var n0=kr.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==kr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=kr.URL||kr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?a8(a.href)?RE(r,e,t):iw(a,a.target="_blank"):iw(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){iw(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(a8(r))RE(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){iw(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Hn(s)!=="object"&&(ia.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return RE(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(kr.HTMLElement)||kr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var A=l.result;A=i?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=A:location=A,n=null},l.readAsDataURL(r)}else{var c=kr.URL||kr.webkitURL,u=c.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function JG(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,s=t[n].process,i=a.exec(r);i&&(e=s(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Ew=kr.atob.bind(kr),s8=kr.btoa.bind(kr);function UE(r,e){var t=r[0],n=r[1],a=r[2],s=r[3];t=Xi(t,n,a,s,e[0],7,-680876936),s=Xi(s,t,n,a,e[1],12,-389564586),a=Xi(a,s,t,n,e[2],17,606105819),n=Xi(n,a,s,t,e[3],22,-1044525330),t=Xi(t,n,a,s,e[4],7,-176418897),s=Xi(s,t,n,a,e[5],12,1200080426),a=Xi(a,s,t,n,e[6],17,-1473231341),n=Xi(n,a,s,t,e[7],22,-45705983),t=Xi(t,n,a,s,e[8],7,1770035416),s=Xi(s,t,n,a,e[9],12,-1958414417),a=Xi(a,s,t,n,e[10],17,-42063),n=Xi(n,a,s,t,e[11],22,-1990404162),t=Xi(t,n,a,s,e[12],7,1804603682),s=Xi(s,t,n,a,e[13],12,-40341101),a=Xi(a,s,t,n,e[14],17,-1502002290),t=Ji(t,n=Xi(n,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=Ji(s,t,n,a,e[6],9,-1069501632),a=Ji(a,s,t,n,e[11],14,643717713),n=Ji(n,a,s,t,e[0],20,-373897302),t=Ji(t,n,a,s,e[5],5,-701558691),s=Ji(s,t,n,a,e[10],9,38016083),a=Ji(a,s,t,n,e[15],14,-660478335),n=Ji(n,a,s,t,e[4],20,-405537848),t=Ji(t,n,a,s,e[9],5,568446438),s=Ji(s,t,n,a,e[14],9,-1019803690),a=Ji(a,s,t,n,e[3],14,-187363961),n=Ji(n,a,s,t,e[8],20,1163531501),t=Ji(t,n,a,s,e[13],5,-1444681467),s=Ji(s,t,n,a,e[2],9,-51403784),a=Ji(a,s,t,n,e[7],14,1735328473),t=Zi(t,n=Ji(n,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Zi(s,t,n,a,e[8],11,-2022574463),a=Zi(a,s,t,n,e[11],16,1839030562),n=Zi(n,a,s,t,e[14],23,-35309556),t=Zi(t,n,a,s,e[1],4,-1530992060),s=Zi(s,t,n,a,e[4],11,1272893353),a=Zi(a,s,t,n,e[7],16,-155497632),n=Zi(n,a,s,t,e[10],23,-1094730640),t=Zi(t,n,a,s,e[13],4,681279174),s=Zi(s,t,n,a,e[0],11,-358537222),a=Zi(a,s,t,n,e[3],16,-722521979),n=Zi(n,a,s,t,e[6],23,76029189),t=Zi(t,n,a,s,e[9],4,-640364487),s=Zi(s,t,n,a,e[12],11,-421815835),a=Zi(a,s,t,n,e[15],16,530742520),t=eo(t,n=Zi(n,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=eo(s,t,n,a,e[7],10,1126891415),a=eo(a,s,t,n,e[14],15,-1416354905),n=eo(n,a,s,t,e[5],21,-57434055),t=eo(t,n,a,s,e[12],6,1700485571),s=eo(s,t,n,a,e[3],10,-1894986606),a=eo(a,s,t,n,e[10],15,-1051523),n=eo(n,a,s,t,e[1],21,-2054922799),t=eo(t,n,a,s,e[8],6,1873313359),s=eo(s,t,n,a,e[15],10,-30611744),a=eo(a,s,t,n,e[6],15,-1560198380),n=eo(n,a,s,t,e[13],21,1309151649),t=eo(t,n,a,s,e[4],6,-145523070),s=eo(s,t,n,a,e[11],10,-1120210379),a=eo(a,s,t,n,e[2],15,718787259),n=eo(n,a,s,t,e[9],21,-343485551),r[0]=Vh(t,r[0]),r[1]=Vh(n,r[1]),r[2]=Vh(a,r[2]),r[3]=Vh(s,r[3])}function T5(r,e,t,n,a,s){return e=Vh(Vh(e,r),Vh(n,s)),Vh(e<<a|e>>>32-a,t)}function Xi(r,e,t,n,a,s,i){return T5(e&t|~e&n,r,e,a,s,i)}function Ji(r,e,t,n,a,s,i){return T5(e&n|t&~n,r,e,a,s,i)}function Zi(r,e,t,n,a,s,i){return T5(e^t^n,r,e,a,s,i)}function eo(r,e,t,n,a,s,i){return T5(t^(e|~n),r,e,a,s,i)}function ZG(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)UE(n,KPe(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(UE(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,UE(n,a),n}function KPe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var i8="0123456789abcdef".split("");function $Pe(r){for(var e="",t=0;t<4;t++)e+=i8[r>>8*t+4&15]+i8[r>>8*t&15];return e}function VPe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function n_(r){return ZG(r).map(VPe).join("")}var qPe=(function(r){for(var e=0;e<r.length;e++)r[e]=$Pe(r[e]);return r.join("")})(ZG("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vh(r,e){if(qPe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function a_(r,e){var t,n,a,s;if(r!==t){for(var i=(a=r,s=1+(256/r.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var A=l[c];u=(u+A+i.charCodeAt(c))%256,l[c]=l[u],l[u]=A}t=r,n=l}else l=n;var h=e.length,p=0,m=0,y="";for(c=0;c<h;c++)m=(m+(A=l[p=(p+1)%256]))%256,l[p]=l[m],l[m]=A,i=l[(l[p]+l[m])%256],y+=String.fromCharCode(e.charCodeAt(c)^i);return y}var o8={print:4,modify:8,copy:16,"annot-forms":32};function gp(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(o8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=o8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=n_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=a_(this.encryptionKey,this.padding)}function xp(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function l8(r){if(Hn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!a],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var i=e[t][s];try{i[0].apply(r,n)}catch(l){kr.console&&ia.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function tC(r){if(!(this instanceof tC))return new tC(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function eW(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function l0(r,e,t,n,a){if(!(this instanceof l0))return new l0(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,eW.call(this,n,a)}function jp(r,e,t,n,a){if(!(this instanceof jp))return new jp(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,eW.call(this,n,a)}function fr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,u="S",A=null;Hn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,s=r.compress||r.compressPdf||s,(A=r.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),i=r.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var h=r.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=l8;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(M){y=M};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var w=m.__private__.getPageFormat=function(M){return v[M]};a=a||"a4";var S="compat",C="advanced",E=S;function _(){this.saveGraphicsState(),J(new Ar(st,0,0,-st,0,qc()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),u="n",E=C}function L(){this.restoreGraphicsState(),u="S",E=S}var D=m.__private__.combineFontStyleAndFontWeight=function(M,re){if(M=="bold"&&re=="normal"||M=="bold"&&re==400||M=="normal"&&re=="italic"||M=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(M=re==400||re==="normal"?M==="italic"?"italic":"normal":re!=700&&re!=="bold"||M!=="normal"?(re==700?"bold":re)+""+M:"bold"),M};m.advancedAPI=function(M){var re=E===S;return re&&_.call(this),typeof M!="function"||(M(this),re&&L.call(this)),this},m.compatAPI=function(M){var re=E===C;return re&&L.call(this),typeof M!="function"||(M(this),re&&_.call(this)),this},m.isAdvancedAPI=function(){return E===C};var P,k=function(M){if(E!==C)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(M,re){var Ce=e||re;if(isNaN(M)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ce).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,16)};var I=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return z(M,2)},Q=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return z(M,3)},R=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return E===S?M*st:E===C?M:void 0},K=function(M){return R((function(re){return E===S?qc()-re:E===C?re:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ee,Y="00000000000000000000000000000000",se=m.__private__.getFileId=function(){return Y},X=m.__private__.setFileId=function(M){return Y=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(cs=new gp(A.userPermissions,A.userPassword,A.ownerPassword,Y)),Y};m.setFileId=function(M){return X(M),this},m.getFileId=function(){return se()};var Ae=m.__private__.convertDateToPDFDate=function(M){var re=M.getTimezoneOffset(),Ce=re<0?"+":"-",Te=Math.floor(Math.abs(re/60)),Me=Math.abs(re%60),At=[Ce,V(Te),"'",V(Me),"'"].join("");return["D:",M.getFullYear(),V(M.getMonth()+1),V(M.getDate()),V(M.getHours()),V(M.getMinutes()),V(M.getSeconds()),At].join("")},ge=m.__private__.convertPDFDateToDate=function(M){var re=parseInt(M.substr(2,4),10),Ce=parseInt(M.substr(6,2),10)-1,Te=parseInt(M.substr(8,2),10),Me=parseInt(M.substr(10,2),10),At=parseInt(M.substr(12,2),10),vt=parseInt(M.substr(14,2),10);return new Date(re,Ce,Te,Me,At,vt,0)},Z=m.__private__.setCreationDate=function(M){var re;if(M===void 0&&(M=new Date),M instanceof Date)re=Ae(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=M}return ee=re},O=m.__private__.getCreationDate=function(M){var re=ee;return M==="jsDate"&&(re=ge(ee)),re};m.setCreationDate=function(M){return Z(M),this},m.getCreationDate=function(M){return O(M)};var H,V=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},G=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ae=0,ue=[],Se=[],te=0,pe=[],ke=[],Ee=!1,Ue=Se;m.__private__.setCustomOutputDestination=function(M){Ee=!0,Ue=M};var je=function(M){Ee||(Ue=M)};m.__private__.resetCustomOutputDestination=function(){Ee=!1,Ue=Se};var J=m.__private__.out=function(M){return M=M.toString(),te+=M.length+1,Ue.push(M),Ue},Ie=m.__private__.write=function(M){return J(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Ye=m.__private__.getArrayBuffer=function(M){for(var re=M.length,Ce=new ArrayBuffer(re),Te=new Uint8Array(Ce);re--;)Te[re]=M.charCodeAt(re);return Ce},Bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Bt};var it=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return it=E===C?M/st:M,this};var Xe,ft=m.__private__.getFontSize=m.getFontSize=function(){return E===S?it:it*st},Et=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return Et=M,this},m.__private__.getR2L=m.getR2L=function(){return Et};var Le,yt=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Xe=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Xe=M}else Xe=parseInt(M,10)};m.__private__.getZoomMode=function(){return Xe};var Oe,at=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Le=M};m.__private__.getPageMode=function(){return Le};var bt=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Oe=M};m.__private__.getLayoutMode=function(){return Oe},m.__private__.setDisplayMode=m.setDisplayMode=function(M,re,Ce){return yt(M),bt(re),at(Ce),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(St).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[M]},m.__private__.getDocumentProperties=function(){return St},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var re in St)St.hasOwnProperty(re)&&M[re]&&(St[re]=M[re]);return this},m.__private__.setDocumentProperty=function(M,re){if(Object.keys(St).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[M]=re};var Be,st,lt,Zt,It,Tt={},cr={},Br=[],zt={},Yr={},nr={},mr={},mt=null,Ct=0,Ut=[],Kt=new l8(m),jn=r.hotfixes||[],Fr={},Rs={},Ga=[],Ar=function M(re,Ce,Te,Me,At,vt){if(!(this instanceof M))return new M(re,Ce,Te,Me,At,vt);isNaN(re)&&(re=1),isNaN(Ce)&&(Ce=0),isNaN(Te)&&(Te=0),isNaN(Me)&&(Me=1),isNaN(At)&&(At=0),isNaN(vt)&&(vt=0),this._matrix=[re,Ce,Te,Me,At,vt]};Object.defineProperty(Ar.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ar.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ar.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ar.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ar.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ar.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ar.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ar.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ar.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ar.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ar.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ar.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ar.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ar.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ar.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ar.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ar.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(M)},Ar.prototype.multiply=function(M){var re=M.sx*this.sx+M.shy*this.shx,Ce=M.sx*this.shy+M.shy*this.sy,Te=M.shx*this.sx+M.sy*this.shx,Me=M.shx*this.shy+M.sy*this.sy,At=M.tx*this.sx+M.ty*this.shx+this.tx,vt=M.tx*this.shy+M.ty*this.sy+this.ty;return new Ar(re,Ce,Te,Me,At,vt)},Ar.prototype.decompose=function(){var M=this.sx,re=this.shy,Ce=this.shx,Te=this.sy,Me=this.tx,At=this.ty,vt=Math.sqrt(M*M+re*re),er=(M/=vt)*Ce+(re/=vt)*Te;Ce-=M*er,Te-=re*er;var ur=Math.sqrt(Ce*Ce+Te*Te);return er/=ur,M*(Te/=ur)<re*(Ce/=ur)&&(M=-M,re=-re,er=-er,vt=-vt),{scale:new Ar(vt,0,0,ur,0,0),translate:new Ar(1,0,0,1,Me,At),rotate:new Ar(M,re,-re,M,0,0),skew:new Ar(1,0,er,1,0,0)}},Ar.prototype.toString=function(M){return this.join(" ")},Ar.prototype.inversed=function(){var M=this.sx,re=this.shy,Ce=this.shx,Te=this.sy,Me=this.tx,At=this.ty,vt=1/(M*Te-re*Ce),er=Te*vt,ur=-re*vt,jr=-Ce*vt,Or=M*vt;return new Ar(er,ur,jr,Or,-er*Me-jr*At,-ur*Me-Or*At)},Ar.prototype.applyToPoint=function(M){var re=M.x*this.sx+M.y*this.shx+this.tx,Ce=M.x*this.shy+M.y*this.sy+this.ty;return new Io(re,Ce)},Ar.prototype.applyToRectangle=function(M){var re=this.applyToPoint(M),Ce=this.applyToPoint(new Io(M.x+M.w,M.y+M.h));return new Hc(re.x,re.y,Ce.x-re.x,Ce.y-re.y)},Ar.prototype.clone=function(){var M=this.sx,re=this.shy,Ce=this.shx,Te=this.sy,Me=this.tx,At=this.ty;return new Ar(M,re,Ce,Te,Me,At)},m.Matrix=Ar;var ba=m.matrixMult=function(M,re){return re.multiply(M)},Wa=new Ar(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Wa;var ca=function(M,re){if(!Yr[M]){var Ce=(re instanceof l0?"Sh":"P")+(Object.keys(zt).length+1).toString(10);re.id=Ce,Yr[M]=Ce,zt[Ce]=re,Kt.publish("addPattern",re)}};m.ShadingPattern=l0,m.TilingPattern=jp,m.addShadingPattern=function(M,re){return k("addShadingPattern()"),ca(M,re),this},m.beginTilingPattern=function(M){k("beginTilingPattern()"),Od(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,re){k("endTilingPattern()"),re.stream=ke[H].join(`
`),ca(M,re),Kt.publish("endTilingPattern",re),Ga.pop().restore()};var Ss,_n=m.__private__.newObject=function(){var M=wa();return ie(M,!0),M},wa=m.__private__.newObjectDeferred=function(){return ae++,ue[ae]=function(){return te},ae},ie=function(M,re){return re=typeof re=="boolean"&&re,ue[M]=te,re&&J(M+" 0 obj"),M},we=m.__private__.newAdditionalObject=function(){var M={objId:wa(),content:""};return pe.push(M),M},he=wa(),fe=wa(),xe=m.__private__.decodeColorString=function(M){var re=M.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ce=parseFloat(re[0]);re=[Ce,Ce,Ce,"r"]}for(var Te="#",Me=0;Me<3;Me++)Te+=("0"+Math.floor(255*parseFloat(re[Me])).toString(16)).slice(-2);return Te},Ne=m.__private__.encodeColorString=function(M){var re;typeof M=="string"&&(M={ch1:M});var Ce=M.ch1,Te=M.ch2,Me=M.ch3,At=M.ch4,vt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var er=new JG(Ce);if(er.ok)Ce=er.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var ur=parseInt(Ce.substr(1),16);Ce=ur>>16&255,Te=ur>>8&255,Me=255&ur}if(Te===void 0||At===void 0&&Ce===Te&&Te===Me)re=typeof Ce=="string"?Ce+" "+vt[0]:M.precision===2?I(Ce/255)+" "+vt[0]:Q(Ce/255)+" "+vt[0];else if(At===void 0||Hn(At)==="object"){if(At&&!isNaN(At.a)&&At.a===0)return["1.","1.","1.",vt[1]].join(" ");re=typeof Ce=="string"?[Ce,Te,Me,vt[1]].join(" "):M.precision===2?[I(Ce/255),I(Te/255),I(Me/255),vt[1]].join(" "):[Q(Ce/255),Q(Te/255),Q(Me/255),vt[1]].join(" ")}else re=typeof Ce=="string"?[Ce,Te,Me,At,vt[2]].join(" "):M.precision===2?[I(Ce),I(Te),I(Me),I(At),vt[2]].join(" "):[Q(Ce),Q(Te),Q(Me),Q(At),vt[2]].join(" ");return re},He=m.__private__.getFilters=function(){return i},nt=m.__private__.putStream=function(M){var re=(M=M||{}).data||"",Ce=M.filters||He(),Te=M.alreadyAppliedFilters||[],Me=M.addLength1||!1,At=re.length,vt=M.objectId,er=function(us){return us};if(A!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(er=cs.encryptor(vt,0));var ur={};Ce===!0&&(Ce=["FlateEncode"]);var jr=M.additionalKeyValues||[],Or=(ur=fr.API.processDataByFilters!==void 0?fr.API.processDataByFilters(re,Ce):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(ur.data.length!==0&&(jr.push({key:"Length",value:ur.data.length}),Me===!0&&jr.push({key:"Length1",value:At})),Or.length!=0)if(Or.split("/").length-1==1)jr.push({key:"Filter",value:Or});else{jr.push({key:"Filter",value:"["+Or+"]"});for(var an=0;an<jr.length;an+=1)if(jr[an].key==="DecodeParms"){for(var ha=[],Ia=0;Ia<ur.reverseChain.split("/").length-1;Ia+=1)ha.push("null");ha.push(jr[an].value),jr[an].value="["+ha.join(" ")+"]"}}J("<<");for(var Vn=0;Vn<jr.length;Vn++)J("/"+jr[Vn].key+" "+jr[Vn].value);J(">>"),ur.data.length!==0&&(J("stream"),J(er(ur.data)),J("endstream"))},Ke=m.__private__.putPage=function(M){var re=M.number,Ce=M.data,Te=M.objId,Me=M.contentsObjId;ie(Te,!0),J("<</Type /Page"),J("/Parent "+M.rootDictionaryObjId+" 0 R"),J("/Resources "+M.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(P(M.mediaBox.bottomLeftX))+" "+parseFloat(P(M.mediaBox.bottomLeftY))+" "+P(M.mediaBox.topRightX)+" "+P(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&J("/CropBox ["+P(M.cropBox.bottomLeftX)+" "+P(M.cropBox.bottomLeftY)+" "+P(M.cropBox.topRightX)+" "+P(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&J("/BleedBox ["+P(M.bleedBox.bottomLeftX)+" "+P(M.bleedBox.bottomLeftY)+" "+P(M.bleedBox.topRightX)+" "+P(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&J("/TrimBox ["+P(M.trimBox.bottomLeftX)+" "+P(M.trimBox.bottomLeftY)+" "+P(M.trimBox.topRightX)+" "+P(M.trimBox.topRightY)+"]"),M.artBox!==null&&J("/ArtBox ["+P(M.artBox.bottomLeftX)+" "+P(M.artBox.bottomLeftY)+" "+P(M.artBox.topRightX)+" "+P(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&J("/UserUnit "+M.userUnit),Kt.publish("putPage",{objId:Te,pageContext:Ut[re],pageNumber:re,page:Ce}),J("/Contents "+Me+" 0 R"),J(">>"),J("endobj");var At=Ce.join(`
`);return E===C&&(At+=`
Q`),ie(Me,!0),nt({data:At,filters:He(),objectId:Me}),J("endobj"),Te},$e=m.__private__.putPages=function(){var M,re,Ce=[];for(M=1;M<=Ct;M++)Ut[M].objId=wa(),Ut[M].contentsObjId=wa();for(M=1;M<=Ct;M++)Ce.push(Ke({number:M,data:ke[M],objId:Ut[M].objId,contentsObjId:Ut[M].contentsObjId,mediaBox:Ut[M].mediaBox,cropBox:Ut[M].cropBox,bleedBox:Ut[M].bleedBox,trimBox:Ut[M].trimBox,artBox:Ut[M].artBox,userUnit:Ut[M].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:fe}));ie(he,!0),J("<</Type /Pages");var Te="/Kids [";for(re=0;re<Ct;re++)Te+=Ce[re]+" 0 R ";J(Te+"]"),J("/Count "+Ct),J(">>"),J("endobj"),Kt.publish("postPutPages")},qe=function(M){Kt.publish("putFont",{font:M,out:J,newObject:_n,putStream:nt}),M.isAlreadyPutted!==!0&&(M.objectNumber=_n(),J("<<"),J("/Type /Font"),J("/BaseFont /"+xp(M.postScriptName)),J("/Subtype /Type1"),typeof M.encoding=="string"&&J("/Encoding /"+M.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Nt=function(M){M.objectNumber=_n();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[P(M.x),P(M.y),P(M.x+M.width),P(M.y+M.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ce=M.pages[1].join(`
`);nt({data:Ce,additionalKeyValues:re,objectId:M.objectNumber}),J("endobj")},kt=function(M,re){re||(re=21);var Ce=_n(),Te=(function(vt,er){var ur,jr=[],Or=1/(er-1);for(ur=0;ur<1;ur+=Or)jr.push(ur);if(jr.push(1),vt[0].offset!=0){var an={offset:0,color:vt[0].color};vt.unshift(an)}if(vt[vt.length-1].offset!=1){var ha={offset:1,color:vt[vt.length-1].color};vt.push(ha)}for(var Ia="",Vn=0,us=0;us<jr.length;us++){for(ur=jr[us];ur>vt[Vn+1].offset;)Vn++;var Xa=vt[Vn].offset,Qs=(ur-Xa)/(vt[Vn+1].offset-Xa),Gc=vt[Vn].color,yl=vt[Vn+1].color;Ia+=G(Math.round((1-Qs)*Gc[0]+Qs*yl[0]).toString(16))+G(Math.round((1-Qs)*Gc[1]+Qs*yl[1]).toString(16))+G(Math.round((1-Qs)*Gc[2]+Qs*yl[2]).toString(16))}return Ia.trim()})(M.colors,re),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+re+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:Te,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),J("endobj"),M.objectNumber=_n(),J("<< /ShadingType "+M.type),J("/ColorSpace /DeviceRGB");var At="/Coords ["+P(parseFloat(M.coords[0]))+" "+P(parseFloat(M.coords[1]))+" ";M.type===2?At+=P(parseFloat(M.coords[2]))+" "+P(parseFloat(M.coords[3])):At+=P(parseFloat(M.coords[2]))+" "+P(parseFloat(M.coords[3]))+" "+P(parseFloat(M.coords[4]))+" "+P(parseFloat(M.coords[5])),J(At+="]"),M.matrix&&J("/Matrix ["+M.matrix.toString()+"]"),J("/Function "+Ce+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Mt=function(M,re){var Ce=wa(),Te=_n();re.push({resourcesOid:Ce,objectOid:Te}),M.objectNumber=Te;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+M.boundingBox.map(P).join(" ")+"]"}),Me.push({key:"XStep",value:P(M.xStep)}),Me.push({key:"YStep",value:P(M.yStep)}),Me.push({key:"Resources",value:Ce+" 0 R"}),M.matrix&&Me.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),nt({data:M.stream,additionalKeyValues:Me,objectId:M.objectNumber}),J("endobj")},_t=function(M){for(var re in M.objectNumber=_n(),J("<<"),M)switch(re){case"opacity":J("/ca "+I(M[re]));break;case"stroke-opacity":J("/CA "+I(M[re]))}J(">>"),J("endobj")},Dt=function(M){ie(M.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var re in J("/Font <<"),Tt)Tt.hasOwnProperty(re)&&(h===!1||h===!0&&p.hasOwnProperty(re))&&J("/"+re+" "+Tt[re].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(zt).length>0){for(var re in J("/Shading <<"),zt)zt.hasOwnProperty(re)&&zt[re]instanceof l0&&zt[re].objectNumber>=0&&J("/"+re+" "+zt[re].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),J(">>")}})(),(function(re){if(Object.keys(zt).length>0){for(var Ce in J("/Pattern <<"),zt)zt.hasOwnProperty(Ce)&&zt[Ce]instanceof m.TilingPattern&&zt[Ce].objectNumber>=0&&zt[Ce].objectNumber<re&&J("/"+Ce+" "+zt[Ce].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),J(">>")}})(M.objectOid),(function(){if(Object.keys(nr).length>0){var re;for(re in J("/ExtGState <<"),nr)nr.hasOwnProperty(re)&&nr[re].objectNumber>=0&&J("/"+re+" "+nr[re].objectNumber+" 0 R");Kt.publish("putGStateDict"),J(">>")}})(),(function(){for(var re in J("/XObject <<"),Fr)Fr.hasOwnProperty(re)&&Fr[re].objectNumber>=0&&J("/"+re+" "+Fr[re].objectNumber+" 0 R");Kt.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},Gt=function(M){cr[M.fontName]=cr[M.fontName]||{},cr[M.fontName][M.fontStyle]=M.id},Cn=function(M,re,Ce,Te,Me){var At={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:M,fontName:re,fontStyle:Ce,encoding:Te,isStandardFont:Me||!1,metadata:{}};return Kt.publish("addFont",{font:At,instance:this}),Tt[At.id]=At,Gt(At),At.id},qr=m.__private__.pdfEscape=m.pdfEscape=function(M,re){return(function(Ce,Te){var Me,At,vt,er,ur,jr,Or,an,ha;if(vt=(Te=Te||{}).sourceEncoding||"Unicode",ur=Te.outputEncoding,(Te.autoencode||ur)&&Tt[Be].metadata&&Tt[Be].metadata[vt]&&Tt[Be].metadata[vt].encoding&&(er=Tt[Be].metadata[vt].encoding,!ur&&Tt[Be].encoding&&(ur=Tt[Be].encoding),!ur&&er.codePages&&(ur=er.codePages[0]),typeof ur=="string"&&(ur=er[ur]),ur)){for(Or=!1,jr=[],Me=0,At=Ce.length;Me<At;Me++)(an=ur[Ce.charCodeAt(Me)])?jr.push(String.fromCharCode(an)):jr.push(Ce[Me]),jr[Me].charCodeAt(0)>>8&&(Or=!0);Ce=jr.join("")}for(Me=Ce.length;Or===void 0&&Me!==0;)Ce.charCodeAt(Me-1)>>8&&(Or=!0),Me--;if(!Or)return Ce;for(jr=Te.noBOM?[]:[254,255],Me=0,At=Ce.length;Me<At;Me++){if((ha=(an=Ce.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jr.push(ha),jr.push(an-(ha<<8))}return String.fromCharCode.apply(void 0,jr)})(M,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tn=m.__private__.beginPage=function(M){ke[++Ct]=[],Ut[Ct]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},ml(Ct),je(ke[H])},Si=function(M,re){var Ce,Te,Me;switch(t=re||t,typeof M=="string"&&(Ce=w(M.toLowerCase()),Array.isArray(Ce)&&(Te=Ce[0],Me=Ce[1])),Array.isArray(M)&&(Te=M[0]*st,Me=M[1]*st),isNaN(Te)&&(Te=a[0],Me=a[1]),(Te>14400||Me>14400)&&(ia.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Me=Math.min(14400,Me)),a=[Te,Me],t.substr(0,1)){case"l":Me>Te&&(a=[Me,Te]);break;case"p":Te>Me&&(a=[Me,Te])}Tn(a),Nr(Td),J(mo),qA!==0&&J(qA+" J"),Bs!==0&&J(Bs+" j"),Kt.publish("addPage",{pageNumber:Ct})},fl=function(M){M>0&&M<=Ct&&(ke.splice(M,1),Ut.splice(M,1),Ct--,H>Ct&&(H=Ct),this.setPage(H))},ml=function(M){M>0&&M<=Ct&&(H=M)},ho=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ke.length-1},Pu=function(M,re,Ce){var Te,Me=void 0;return Ce=Ce||{},M=M!==void 0?M:Tt[Be].fontName,re=re!==void 0?re:Tt[Be].fontStyle,Te=M.toLowerCase(),cr[Te]!==void 0&&cr[Te][re]!==void 0?Me=cr[Te][re]:cr[M]!==void 0&&cr[M][re]!==void 0?Me=cr[M][re]:Ce.disableWarning===!1&&ia.warn("Unable to look up font label for font '"+M+"', '"+re+"'. Refer to getFontList() for available fonts."),Me||Ce.noFallback||(Me=cr.times[re])==null&&(Me=cr.times.normal),Me},Aa=m.__private__.putInfo=function(){var M=_n(),re=function(Te){return Te};for(var Ce in A!==null&&(re=cs.encryptor(M,0)),J("<<"),J("/Producer ("+qr(re("jsPDF "+fr.version))+")"),St)St.hasOwnProperty(Ce)&&St[Ce]&&J("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+qr(re(St[Ce]))+")");J("/CreationDate ("+qr(re(ee))+")"),J(">>"),J("endobj")},Uc=m.__private__.putCatalog=function(M){var re=(M=M||{}).rootDictionaryObjId||he;switch(_n(),J("<<"),J("/Type /Catalog"),J("/Pages "+re+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+Xe;Ce.substr(Ce.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+I(Xe)+"]")}switch(Oe||(Oe="continuous"),Oe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Le&&J("/PageMode /"+Le),Kt.publish("putCatalog"),J(">>"),J("endobj")},pl=m.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ae+1)),J("/Root "+ae+" 0 R"),J("/Info "+(ae-1)+" 0 R"),A!==null&&J("/Encrypt "+cs.oid+" 0 R"),J("/ID [ <"+Y+"> <"+Y+"> ]"),J(">>")},hn=m.__private__.putHeader=function(){J("%PDF-"+y),J("%")},vf=m.__private__.putXRef=function(){var M="0000000000";J("xref"),J("0 "+(ae+1)),J("0000000000 65535 f ");for(var re=1;re<=ae;re++)typeof ue[re]=="function"?J((M+ue[re]()).slice(-10)+" 00000 n "):ue[re]!==void 0?J((M+ue[re]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Zl=m.__private__.buildDocument=function(){var M;ae=0,te=0,Se=[],ue=[],pe=[],he=wa(),fe=wa(),je(Se),Kt.publish("buildDocument"),hn(),$e(),(function(){Kt.publish("putAdditionalObjects");for(var Ce=0;Ce<pe.length;Ce++){var Te=pe[Ce];ie(Te.objId,!0),J(Te.content),J("endobj")}Kt.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var Ce in Tt)Tt.hasOwnProperty(Ce)&&(h===!1||h===!0&&p.hasOwnProperty(Ce))&&qe(Tt[Ce])})(),(function(){var Ce;for(Ce in nr)nr.hasOwnProperty(Ce)&&_t(nr[Ce])})(),(function(){for(var Ce in Fr)Fr.hasOwnProperty(Ce)&&Nt(Fr[Ce])})(),(function(Ce){var Te;for(Te in zt)zt.hasOwnProperty(Te)&&(zt[Te]instanceof l0?kt(zt[Te]):zt[Te]instanceof jp&&Mt(zt[Te],Ce))})(M),Kt.publish("putResources"),M.forEach(Dt),Dt({resourcesOid:fe,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),A!==null&&(cs.oid=_n(),J("<<"),J("/Filter /Standard"),J("/V "+cs.v),J("/R "+cs.r),J("/U <"+cs.toHexString(cs.U)+">"),J("/O <"+cs.toHexString(cs.O)+">"),J("/P "+cs.P),J(">>"),J("endobj")),Aa(),Uc();var re=te;return vf(),pl(),J("startxref"),J(""+re),J("%%EOF"),je(ke[H]),Se.join(`
`)},Iu=m.__private__.getBlob=function(M){return new Blob([Ye(M)],{type:"application/pdf"})},bf=m.output=m.__private__.output=(Ss=function(M,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",M){case void 0:return Zl();case"save":m.save(re.filename);break;case"arraybuffer":return Ye(Zl());case"blob":return Iu(Zl());case"bloburi":case"bloburl":if(kr.URL!==void 0&&typeof kr.URL.createObjectURL=="function")return kr.URL&&kr.URL.createObjectURL(Iu(Zl()))||void 0;ia.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Te=Zl();try{Ce=s8(Te)}catch{Ce=s8(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",At=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Me=re.pdfObjectUrl,At="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+At+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",er=kr.open();return er!==null&&er.document.write(vt),er}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',jr=kr.open();if(jr!==null){jr.document.write(ur);var Or=this;jr.document.documentElement.querySelector("#pdfViewer").onload=function(){jr.document.title=re.filename,jr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Or.output("bloburl"))}}return jr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',ha=kr.open();if(ha!==null&&(ha.document.write(an),ha.document.title=re.filename),ha||typeof safari>"u")return ha;break;case"datauri":case"dataurl":return kr.document.location.href=this.output("datauristring",re);default:return null}},Ss.foo=function(){try{return Ss.apply(this,arguments)}catch(Ce){var M=Ce.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var re="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!kr.console)throw new Error(re);kr.console.error(re,Ce),kr.alert&&alert(re)}},Ss.foo.bar=Ss,Ss.foo),Bi=function(M){return Array.isArray(jn)===!0&&jn.indexOf(M)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var cs=null;Z(),X();var Ya=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[M].objId,pageNumber:M,pageContext:Ut[M]}},$A=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Ut)if(Ut[re].objId===M)break;return Ya(re)},im=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ut[H].objId,pageNumber:H,pageContext:Ut[H]}};m.addPage=function(){return Si.apply(this,arguments),this},m.setPage=function(){return ml.apply(this,arguments),je.call(this,ke[H]),this},m.insertPage=function(M){return this.addPage(),this.movePage(H,M),this},m.movePage=function(M,re){var Ce,Te;if(M>re){Ce=ke[M],Te=Ut[M];for(var Me=M;Me>re;Me--)ke[Me]=ke[Me-1],Ut[Me]=Ut[Me-1];ke[re]=Ce,Ut[re]=Te,this.setPage(re)}else if(M<re){Ce=ke[M],Te=Ut[M];for(var At=M;At<re;At++)ke[At]=ke[At+1],Ut[At]=Ut[At+1];ke[re]=Ce,Ut[re]=Te,this.setPage(re)}return this},m.deletePage=function(){return fl.apply(this,arguments),this},m.__private__.text=m.text=function(M,re,Ce,Te,Me){var At,vt,er,ur,jr,Or,an,ha,Ia,Vn=(Te=Te||{}).scope||this;if(typeof M=="number"&&typeof re=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var us=Ce;Ce=re,re=M,M=us}if(arguments[3]instanceof Ar==0?(er=arguments[4],ur=arguments[5],Hn(an=arguments[3])==="object"&&an!==null||(typeof er=="string"&&(ur=er,er=null),typeof an=="string"&&(ur=an,an=null),typeof an=="number"&&(er=an,an=null),Te={flags:an,angle:er,align:ur})):(k("The transform parameter of text() with a Matrix value"),Ia=Me),isNaN(re)||isNaN(Ce)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Vn;var Xa,Qs="",Gc=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Qc,yl=Vn.internal.scaleFactor;function Wc(fn){return fn=fn.split("	").join(Array(Te.TabLen||9).join(" ")),qr(fn,an)}function Tf(fn){for(var sn,qn=fn.concat(),Ma=[],cc=qn.length;cc--;)typeof(sn=qn.shift())=="string"?Ma.push(sn):Array.isArray(fn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Ma.push(sn[0]):Ma.push([sn[0],sn[1],sn[2]]);return Ma}function WA(fn,sn){var qn;if(typeof fn=="string")qn=sn(fn)[0];else if(Array.isArray(fn)){for(var Ma,cc,Cl=fn.concat(),Ld=[],Of=Cl.length;Of--;)typeof(Ma=Cl.shift())=="string"?Ld.push(sn(Ma)[0]):Array.isArray(Ma)&&typeof Ma[0]=="string"&&(cc=sn(Ma[0],Ma[1],Ma[2]),Ld.push([cc[0],cc[1],cc[2]]));qn=Ld}return qn}var rc=!1,vl=!0;if(typeof M=="string")rc=!0;else if(Array.isArray(M)){var Pd=M.concat();vt=[];for(var Yc,Es=Pd.length;Es--;)(typeof(Yc=Pd.shift())!="string"||Array.isArray(Yc)&&typeof Yc[0]!="string")&&(vl=!1);rc=vl}if(rc===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Mu=it/Vn.internal.scaleFactor,Ru=Mu*(Gc-1);switch(Te.baseline){case"bottom":Ce-=Ru;break;case"top":Ce+=Mu-Ru;break;case"hanging":Ce+=Mu-2*Ru;break;case"middle":Ce+=Mu/2-Ru}if((Or=Te.maxWidth||0)>0&&(typeof M=="string"?M=Vn.splitTextToSize(M,Or):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(fn,sn){return fn.concat(Vn.splitTextToSize(sn,Or))},[]))),At={text:M,x:re,y:Ce,options:Te,mutex:{pdfEscape:qr,activeFontKey:Be,fonts:Tt,activeFontSize:it}},Kt.publish("preProcessText",At),M=At.text,er=(Te=At.options).angle,Ia instanceof Ar==0&&er&&typeof er=="number"){er*=Math.PI/180,Te.rotationDirection===0&&(er=-er),E===C&&(er=-er);var YA=Math.cos(er),nc=Math.sin(er);Ia=new Ar(YA,nc,-nc,YA,0,0)}else er&&er instanceof Ar&&(Ia=er);E!==C||Ia||(Ia=Wa),(jr=Te.charSpace||Po)!==void 0&&(Qs+=P(R(jr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ha=Te.horizontalScale)!==void 0&&(Qs+=P(100*ha)+` Tz
`),Te.lang;var ji=-1,Xc=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,XA=Vn.internal.getCurrentPageInfo().pageContext;switch(Xc){case 0:case!1:case"fill":ji=0;break;case 1:case!0:case"stroke":ji=1;break;case 2:case"fillThenStroke":ji=2;break;case 3:case"invisible":ji=3;break;case 4:case"fillAndAddForClipping":ji=4;break;case 5:case"strokeAndAddPathForClipping":ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ji=6;break;case 7:case"addToPathForClipping":ji=7}var kf=XA.usedRenderingMode!==void 0?XA.usedRenderingMode:-1;ji!==-1?Qs+=ji+` Tr
`:kf!==-1&&(Qs+=`0 Tr
`),ji!==-1&&(XA.usedRenderingMode=ji),ur=Te.align||"left";var po,bl=it*Gc,Jc=Vn.internal.pageSize.getWidth(),Ff=Tt[Be];jr=Te.charSpace||Po,Or=Te.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var wl=[],Uu=function(fn){return Vn.getStringUnitWidth(fn,{font:Ff,charSpace:jr,fontSize:it,doKerning:!1})*it/yl};if(Object.prototype.toString.call(M)==="[object Array]"){var Gi;vt=Tf(M),ur!=="left"&&(po=vt.map(Uu));var _i,ac=0;if(ur==="right"){re-=po[0],M=[],Es=vt.length;for(var sc=0;sc<Es;sc++)sc===0?(_i=fo(re),Gi=Us(Ce)):(_i=R(ac-po[sc]),Gi=-bl),M.push([vt[sc],_i,Gi]),ac=po[sc]}else if(ur==="center"){re-=po[0]/2,M=[],Es=vt.length;for(var Zc=0;Zc<Es;Zc++)Zc===0?(_i=fo(re),Gi=Us(Ce)):(_i=R((ac-po[Zc])/2),Gi=-bl),M.push([vt[Zc],_i,Gi]),ac=po[Zc]}else if(ur==="left"){M=[],Es=vt.length;for(var JA=0;JA<Es;JA++)M.push(vt[JA])}else if(ur==="justify"&&Ff.encoding==="Identity-H"){M=[],Es=vt.length,Or=Or!==0?Or:Jc;for(var ZA=0,La=0;La<Es;La++)if(Gi=La===0?Us(Ce):-bl,_i=La===0?fo(re):ZA,La<Es-1){var mm=R((Or-po[La])/(vt[La].split(" ").length-1)),ic=vt[La].split(" ");M.push([ic[0]+" ",_i,Gi]),ZA=0;for(var oc=1;oc<ic.length;oc++){var Hs=(Uu(ic[oc-1]+" "+ic[oc])-Uu(ic[oc]))*yl+mm;oc==ic.length-1?M.push([ic[oc],Hs,0]):M.push([ic[oc]+" ",Hs,0]),ZA-=Hs}}else M.push([vt[La],_i,Gi]);M.push(["",ZA,0])}else{if(ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],Es=vt.length,Or=Or!==0?Or:Jc,La=0;La<Es;La++){Gi=La===0?Us(Ce):-bl,_i=La===0?fo(re):0;var eu=vt[La].split(" ").length-1,eh=eu>0?(Or-po[La])/eu:0;La<Es-1?wl.push(P(R(eh))):wl.push(0),M.push([vt[La],_i,Gi])}}}(typeof Te.R2L=="boolean"?Te.R2L:Et)===!0&&(M=WA(M,function(fn,sn,qn){return[fn.split("").reverse().join(""),sn,qn]})),At={text:M,x:re,y:Ce,options:Te,mutex:{pdfEscape:qr,activeFontKey:Be,fonts:Tt,activeFontSize:it}},Kt.publish("postProcessText",At),M=At.text,Xa=At.mutex.isHex||!1;var th=Tt[Be].encoding;th!=="WinAnsiEncoding"&&th!=="StandardEncoding"||(M=WA(M,function(fn,sn,qn){return[Wc(fn),sn,qn]})),vt=Tf(M),M=[];for(var tu,ru,lc,Id=Array.isArray(vt[0])?1:0,go="",nu=function(fn,sn,qn){var Ma="";return qn instanceof Ar?(qn=typeof Te.angle=="number"?ba(qn,new Ar(1,0,0,1,fn,sn)):ba(new Ar(1,0,0,1,fn,sn),qn),E===C&&(qn=ba(new Ar(1,0,0,-1,0,0),qn)),Ma=qn.join(" ")+` Tm
`):Ma=P(fn)+" "+P(sn)+` Td
`,Ma},si=0;si<vt.length;si++){switch(go="",Id){case 1:lc=(Xa?"<":"(")+vt[si][0]+(Xa?">":")"),tu=parseFloat(vt[si][1]),ru=parseFloat(vt[si][2]);break;case 0:lc=(Xa?"<":"(")+vt[si]+(Xa?">":")"),tu=fo(re),ru=Us(Ce)}wl!==void 0&&wl[si]!==void 0&&(go=wl[si]+` Tw
`),si===0?M.push(go+nu(tu,ru,Ia)+lc):Id===0?M.push(go+lc):Id===1&&M.push(go+nu(tu,ru,Ia)+lc)}M=Id===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Lo=`BT
/`;return Lo+=Be+" "+it+` Tf
`,Lo+=P(it*Gc)+` TL
`,Lo+=ec+`
`,Lo+=Qs,Lo+=M,J(Lo+="ET"),p[Be]=!0,Vn};var wf=m.__private__.clip=m.clip=function(M){return J(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return wf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return J("n"),this};var Ei=m.__private__.isValidStyle=function(M){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(re=!0),re};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return Ei(M)&&(u=M),this};var Cf=m.__private__.getStyle=m.getStyle=function(M){var re=u;switch(M){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=M}return re},Nf=m.close=function(){return J("h"),this};m.stroke=function(){return J("S"),this},m.fill=function(M){return gl("f",M),this},m.fillEvenOdd=function(M){return gl("f*",M),this},m.fillStroke=function(M){return gl("B",M),this},m.fillStrokeEvenOdd=function(M){return gl("B*",M),this};var gl=function(M,re){Hn(re)==="object"?lm(re,M):J(M)},_d=function(M){M===null||E===C&&M===void 0||(M=Cf(M),J(M))};function om(M,re,Ce,Te,Me){var At=new jp(re||this.boundingBox,Ce||this.xStep,Te||this.yStep,this.gState,Me||this.matrix);At.stream=this.stream;var vt=M+"$$"+this.cloneIndex+++"$$";return ca(vt,At),At}var lm=function(M,re){var Ce=Yr[M.key],Te=zt[Ce];if(Te instanceof l0)J("q"),J(Sf(re)),Te.gState&&m.setGState(Te.gState),J(M.matrix.toString()+" cm"),J("/"+Ce+" sh"),J("Q");else if(Te instanceof jp){var Me=new Ar(1,0,0,-1,0,qc());M.matrix&&(Me=Me.multiply(M.matrix||Wa),Ce=om.call(Te,M.key,M.boundingBox,M.xStep,M.yStep,Me).id),J("q"),J("/Pattern cs"),J("/"+Ce+" scn"),Te.gState&&m.setGState(Te.gState),J(re),J("Q")}},Sf=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bf=m.moveTo=function(M,re){return J(P(R(M))+" "+P(K(re))+" m"),this},cm=m.lineTo=function(M,re){return J(P(R(M))+" "+P(K(re))+" l"),this},qi=m.curveTo=function(M,re,Ce,Te,Me,At){return J([P(R(M)),P(K(re)),P(R(Ce)),P(K(Te)),P(R(Me)),P(K(At)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,re,Ce,Te,Me){if(isNaN(M)||isNaN(re)||isNaN(Ce)||isNaN(Te)||!Ei(Me))throw new Error("Invalid arguments passed to jsPDF.line");return E===S?this.lines([[Ce-M,Te-re]],M,re,[1,1],Me||"S"):this.lines([[Ce-M,Te-re]],M,re,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,re,Ce,Te,Me,At){var vt,er,ur,jr,Or,an,ha,Ia,Vn,us,Xa,Qs;if(typeof M=="number"&&(Qs=Ce,Ce=re,re=M,M=Qs),Te=Te||[1,1],At=At||!1,isNaN(re)||isNaN(Ce)||!Array.isArray(M)||!Array.isArray(Te)||!Ei(Me)||typeof At!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bf(re,Ce),vt=Te[0],er=Te[1],jr=M.length,us=re,Xa=Ce,ur=0;ur<jr;ur++)(Or=M[ur]).length===2?(us=Or[0]*vt+us,Xa=Or[1]*er+Xa,cm(us,Xa)):(an=Or[0]*vt+us,ha=Or[1]*er+Xa,Ia=Or[2]*vt+us,Vn=Or[3]*er+Xa,us=Or[4]*vt+us,Xa=Or[5]*er+Xa,qi(an,ha,Ia,Vn,us,Xa));return At&&Nf(),_d(Me),this},m.path=function(M){for(var re=0;re<M.length;re++){var Ce=M[re],Te=Ce.c;switch(Ce.op){case"m":Bf(Te[0],Te[1]);break;case"l":cm(Te[0],Te[1]);break;case"c":qi.apply(this,Te);break;case"h":Nf()}}return this},m.__private__.rect=m.rect=function(M,re,Ce,Te,Me){if(isNaN(M)||isNaN(re)||isNaN(Ce)||isNaN(Te)||!Ei(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S&&(Te=-Te),J([P(R(M)),P(K(re)),P(R(Ce)),P(R(Te)),"re"].join(" ")),_d(Me),this},m.__private__.triangle=m.triangle=function(M,re,Ce,Te,Me,At,vt){if(isNaN(M)||isNaN(re)||isNaN(Ce)||isNaN(Te)||isNaN(Me)||isNaN(At)||!Ei(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-M,Te-re],[Me-Ce,At-Te],[M-Me,re-At]],M,re,[1,1],vt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,re,Ce,Te,Me,At,vt){if(isNaN(M)||isNaN(re)||isNaN(Ce)||isNaN(Te)||isNaN(Me)||isNaN(At)||!Ei(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var er=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*Ce),At=Math.min(At,.5*Te),this.lines([[Ce-2*Me,0],[Me*er,0,Me,At-At*er,Me,At],[0,Te-2*At],[0,At*er,-Me*er,At,-Me,At],[2*Me-Ce,0],[-Me*er,0,-Me,-At*er,-Me,-At],[0,2*At-Te],[0,-At*er,Me*er,-At,Me,-At]],M+Me,re,[1,1],vt,!0),this},m.__private__.ellipse=m.ellipse=function(M,re,Ce,Te,Me){if(isNaN(M)||isNaN(re)||isNaN(Ce)||isNaN(Te)||!Ei(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var At=4/3*(Math.SQRT2-1)*Ce,vt=4/3*(Math.SQRT2-1)*Te;return Bf(M+Ce,re),qi(M+Ce,re-vt,M+At,re-Te,M,re-Te),qi(M-At,re-Te,M-Ce,re-vt,M-Ce,re),qi(M-Ce,re+vt,M-At,re+Te,M,re+Te),qi(M+At,re+Te,M+Ce,re+vt,M+Ce,re),_d(Me),this},m.__private__.circle=m.circle=function(M,re,Ce,Te){if(isNaN(M)||isNaN(re)||isNaN(Ce)||!Ei(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,re,Ce,Ce,Te)},m.setFont=function(M,re,Ce){return Ce&&(re=D(re,Ce)),Be=Pu(M,re,{disableWarning:!1}),this};var xl=m.__private__.getFont=m.getFont=function(){return Tt[Pu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,re,Ce={};for(M in cr)if(cr.hasOwnProperty(M))for(re in Ce[M]=[],cr[M])cr[M].hasOwnProperty(re)&&Ce[M].push(re);return Ce},m.addFont=function(M,re,Ce,Te,Me){var At=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&At.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&At.indexOf(arguments[3])==-1&&(Ce=D(Ce,Te)),Cn.call(this,M,re,Ce,Me=Me||"Identity-H")};var Qc,Td=r.lineWidth||.200025,Lu=m.__private__.getLineWidth=m.getLineWidth=function(){return Td},Nr=m.__private__.setLineWidth=m.setLineWidth=function(M){return Td=M,J(P(R(M))+" w"),this};m.__private__.setLineDash=fr.API.setLineDash=fr.API.setLineDashPattern=function(M,re){if(M=M||[],re=re||0,isNaN(re)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Ce){return P(R(Ce))}).join(" "),re=P(R(re)),J("["+M+"] "+re+" d"),this};var um=m.__private__.getLineHeight=m.getLineHeight=function(){return it*Qc};m.__private__.getLineHeight=m.getLineHeight=function(){return it*Qc};var Ef=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Qc=M),this},dm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Qc};Ef(r.lineHeight);var fo=m.__private__.getHorizontalCoordinate=function(M){return R(M)},Us=m.__private__.getVerticalCoordinate=function(M){return E===C?M:Ut[H].mediaBox.topRightY-Ut[H].mediaBox.bottomLeftY-R(M)},jf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return P(fo(M))},kd=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return P(Us(M))},mo=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return xe(mo)},m.__private__.setStrokeColor=m.setDrawColor=function(M,re,Ce,Te){return mo=Ne({ch1:M,ch2:re,ch3:Ce,ch4:Te,pdfColorType:"draw",precision:2}),J(mo),this};var Fd=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return xe(Fd)},m.__private__.setFillColor=m.setFillColor=function(M,re,Ce,Te){return Fd=Ne({ch1:M,ch2:re,ch3:Ce,ch4:Te,pdfColorType:"fill",precision:2}),J(Fd),this};var ec=r.textColor||"0 g",Am=m.__private__.getTextColor=m.getTextColor=function(){return xe(ec)};m.__private__.setTextColor=m.setTextColor=function(M,re,Ce,Te){return ec=Ne({ch1:M,ch2:re,ch3:Ce,ch4:Te,pdfColorType:"text",precision:3}),this};var Po=r.charSpace,VA=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Po||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Po=M,this};var qA=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var re=m.CapJoinStyles[M];if(re===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qA=re,J(re+" J"),this};var Bs=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var re=m.CapJoinStyles[M];if(re===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bs=re,J(re+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(P(R(M))+" M"),this},m.GState=tC,m.setGState=function(M){(M=typeof M=="string"?nr[mr[M]]:tc(null,M)).equals(mt)||(J("/"+M.id+" gs"),mt=M)};var tc=function(M,re){if(!M||!mr[M]){var Ce=!1;for(var Te in nr)if(nr.hasOwnProperty(Te)&&nr[Te].equals(re)){Ce=!0;break}if(Ce)re=nr[Te];else{var Me="GS"+(Object.keys(nr).length+1).toString(10);nr[Me]=re,re.id=Me}return M&&(mr[M]=re.id),Kt.publish("addGState",re),re}};m.addGState=function(M,re){return tc(M,re),this},m.saveGraphicsState=function(){return J("q"),Br.push({key:Be,size:it,color:ec}),this},m.restoreGraphicsState=function(){J("Q");var M=Br.pop();return Be=M.key,it=M.size,ec=M.color,mt=null,this},m.setCurrentTransformationMatrix=function(M){return J(M.toString()+" cm"),this},m.comment=function(M){return J("#"+M),this};var Io=function(M,re){var Ce=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(At){isNaN(At)||(Ce=parseFloat(At))}});var Te=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(At){isNaN(At)||(Te=parseFloat(At))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(At){Me=At.toString()}}),this},Hc=function(M,re,Ce,Te){Io.call(this,M,re),this.type="rect";var Me=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(vt){isNaN(vt)||(Me=parseFloat(vt))}});var At=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return At},set:function(vt){isNaN(vt)||(At=parseFloat(vt))}}),this},GA=function(){this.page=Ct,this.currentPage=H,this.pages=ke.slice(0),this.pagesContext=Ut.slice(0),this.x=lt,this.y=Zt,this.matrix=It,this.width=Kc(H),this.height=_f(H),this.outputDestination=Ue,this.id="",this.objectNumber=-1};GA.prototype.restore=function(){Ct=this.page,H=this.currentPage,Ut=this.pagesContext,ke=this.pages,lt=this.x,Zt=this.y,It=this.matrix,Dd(H,this.width),$c(H,this.height),Ue=this.outputDestination};var Od=function(M,re,Ce,Te,Me){Ga.push(new GA),Ct=H=0,ke=[],lt=M,Zt=re,It=Me,Tn([Ce,Te])};for(var zc in m.beginFormObject=function(M,re,Ce,Te,Me){return Od(M,re,Ce,Te,Me),this},m.endFormObject=function(M){return(function(re){if(Rs[re])Ga.pop().restore();else{var Ce=new GA,Te="Xo"+(Object.keys(Fr).length+1).toString(10);Ce.id=Te,Rs[re]=Te,Fr[Te]=Ce,Kt.publish("addFormObject",Ce),Ga.pop().restore()}})(M),this},m.doFormObject=function(M,re){var Ce=Fr[Rs[M]];return J("q"),J(re.toString()+" cm"),J("/"+Ce.id+" Do"),J("Q"),this},m.getFormObject=function(M){var re=Fr[Rs[M]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},m.save=function(M,re){return M=M||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(n0(Iu(Zl()),M),typeof n0.unload=="function"&&kr.setTimeout&&setTimeout(n0.unload,911),this):new Promise(function(Ce,Te){try{var Me=n0(Iu(Zl()),M);typeof n0.unload=="function"&&kr.setTimeout&&setTimeout(n0.unload,911),Ce(Me)}catch(At){Te(At.message)}})},fr.API)fr.API.hasOwnProperty(zc)&&(zc==="events"&&fr.API.events.length?(function(M,re){var Ce,Te,Me;for(Me=re.length-1;Me!==-1;Me--)Ce=re[Me][0],Te=re[Me][1],M.subscribe.apply(M,[Ce].concat(typeof Te=="function"?[Te]:Te))})(Kt,fr.API.events):m[zc]=fr.API[zc]);function Kc(M){return Ut[M].mediaBox.topRightX-Ut[M].mediaBox.bottomLeftX}function Dd(M,re){Ut[M].mediaBox.topRightX=re+Ut[M].mediaBox.bottomLeftX}function _f(M){return Ut[M].mediaBox.topRightY-Ut[M].mediaBox.bottomLeftY}function $c(M,re){Ut[M].mediaBox.topRightY=re+Ut[M].mediaBox.bottomLeftY}var Vc=m.getPageWidth=function(M){return Kc(M=M||H)/st},hm=m.setPageWidth=function(M,re){Dd(M,re*st)},qc=m.getPageHeight=function(M){return _f(M=M||H)/st},fm=m.setPageHeight=function(M,re){$c(M,re*st)};return m.internal={pdfEscape:qr,getStyle:Cf,getFont:xl,getFontSize:ft,getCharSpace:VA,getTextColor:Am,getLineHeight:um,getLineHeightFactor:dm,getLineWidth:Lu,write:Ie,getHorizontalCoordinate:fo,getVerticalCoordinate:Us,getCoordinateString:jf,getVerticalCoordinateString:kd,collections:{},newObject:_n,newAdditionalObject:we,newObjectDeferred:wa,newObjectDeferredBegin:ie,getFilters:He,putStream:nt,events:Kt,scaleFactor:st,pageSize:{getWidth:function(){return Vc(H)},setWidth:function(M){hm(H,M)},getHeight:function(){return qc(H)},setHeight:function(M){fm(H,M)}},encryptionOptions:A,encryption:cs,getEncryptor:function(M){return A!==null?cs.encryptor(M,0):function(re){return re}},output:bf,getNumberOfPages:ho,get pages(){return ke},out:J,f2:I,f3:Q,getPageInfo:Ya,getPageInfoByObjId:$A,getCurrentPageInfo:im,getPDFVersion:g,Point:Io,Rectangle:Hc,Matrix:Ar,hasHotfix:Bi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Vc(H)},set:function(M){hm(H,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return qc(H)},set:function(M){fm(H,M)},enumerable:!0,configurable:!0}),(function(M){for(var re=0,Ce=Bt.length;re<Ce;re++){var Te=Cn.call(this,M[re][0],M[re][1],M[re][2],Bt[re][3],!0);h===!1&&(p[Te]=!0);var Me=M[re][0].split("-");Gt({id:Te,fontName:Me[0],fontStyle:Me[1]||""})}Kt.publish("addFonts",{fonts:Tt,dictionary:cr})}).call(m,Bt),Be="F1",Si(a,t),Kt.publish("initialized"),m}gp.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},gp.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gp.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},gp.prototype.processOwnerPassword=function(r,e){return a_(n_(e).substr(0,5),r)},gp.prototype.encryptor=function(r,e){var t=n_(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return a_(t,n)}},tC.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Hn(r)!==Hn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},fr.API={events:[]},fr.version="4.0.0";var as=fr.API,Ek=1,sm=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},up=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(r){return r.toFixed(2)},Th=function(r){return r.toFixed(5)};as.__acroform__={};var hl=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},c8=function(r){return r*Ek},ud=function(r){var e=new rW,t=or.internal.getHeight(r)||0,n=or.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ir(n)),Number(Ir(t))],e},GPe=as.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},WPe=as.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},YPe=as.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},xs=as.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return YPe(r,e-1)},ys=as.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GPe(r,e-1)},vs=as.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WPe(r,e-1)},XPe=as.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],s=r[1],i=r[2],l=r[3],c={};return c.lowerLeft_X=t(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=t(a+i)||0,c.upperRight_Y=n(s)||0,[Number(Ir(c.lowerLeft_X)),Number(Ir(c.lowerLeft_Y)),Number(Ir(c.upperRight_X)),Number(Ir(c.upperRight_Y))]},JPe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=s_(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Ir(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ud(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},s_=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var s=t,i=or.internal.getHeight(r)||0;i=i<0?-i:i;var l=or.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(I,Q,R){if(I+1<a.length){var K=Q+" "+a[I+1][0];return ow(K,r,R).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,A,h=ow("3",r,s).height,p=r.multiline?i-s:(i-h)/2,m=p+=2,y=0,g=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ow(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",S=0,C=0;C<a.length;C++)if(a.hasOwnProperty(C)){var E=!1;if(a[C].length!==1&&v!==a[C].length-1){if((h+2)*(S+2)+2>i)continue e;w+=a[C][v],E=!0,g=C,C--}else{w=(w+=a[C][v]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var _=parseInt(C),L=c(_,w,s),D=C>=a.length-1;if(L&&!D){w+=" ",v=0;continue}if(L||D){if(D)g=_;else if(r.multiline&&(h+2)*(S+2)+2>i)continue e}else{if(!r.multiline||(h+2)*(S+2)+2>i)continue e;g=_}}for(var P="",k=y;k<=g;k++){var z=a[k];if(r.multiline){if(k===g){P+=z[v]+" ",v=(v+1)%z.length;continue}if(k===y){P+=z[z.length-1]+" ";continue}}P+=z[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,A=ow(P,r,s).width,r.textAlign){case"right":u=l-A-2;break;case"center":u=(l-A)/2;break;default:u=2}e+=Ir(u)+" "+Ir(m)+` Td
`,e+="("+sm(P)+`) Tj
`,e+=-Ir(u)+` 0 Td
`,m=-(s+2),A=0,y=E?g:g+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},ow=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},ZPe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eIe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},tIe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Ou.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(ZPe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ek=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new nW,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&eIe(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],u=l.Rect;if(l.Rect&&(l.Rect=XPe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=or.createDefaultAppearanceStream(l),Hn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var A=JPe(l);c.push({key:"AP",value:"<</N "+A+">>"}),a.internal.acroformPlugin.xForms.push(A)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var m=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var y=m[i];typeof y=="function"&&(y=y.call(a,l)),h+="/"+i+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,l)),h+="/"+i+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&(function(g,v){for(var w in g)if(g.hasOwnProperty(w)){var S=w,C=g[w];v.internal.newObjectDeferredBegin(C.objId,!0),Hn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete g[S]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},tW=as.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),Hn(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+sm(n(r[s].toString()))+")"):a+=r[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},QE=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+sm(n(r))+")"},xd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xd.prototype.toString=function(){return this.objId+" 0 R"},xd.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},xd.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:tW(a,this.objId,this.scope)}):a instanceof xd?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var rW=function(){xd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};hl(rW,xd);var nW=function(){xd.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+sm(t(r))+")"}},set:function(t){r=t}})};hl(nW,xd);var Ou=function r(){xd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xs(e,3)},set:function(w){w?this.F=ys(e,3):this.F=vs(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof rC)return;s="FieldObject"+r.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+sm(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(w){i=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Ek:u},set:function(w){u=w}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof rC||this instanceof j0))return QE(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mi==0?QE(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof mi==0?w.substr(0,1)==="("?up(w.substr(1,w.length-2)):up(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?up(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof mi==1?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof mi==0?QE(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof mi==0?w.substr(0,1)==="("?up(w.substr(1,w.length-2)):up(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?up(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof mi==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=!!w,g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,1)},set:function(w){w?this.Ff=ys(this.Ff,1):this.Ff=vs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,2)},set:function(w){w?this.Ff=ys(this.Ff,2):this.Ff=vs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,3)},set:function(w){w?this.Ff=ys(this.Ff,3):this.Ff=vs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');v=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(v){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};hl(Ou,xd);var Qp=function(){Ou.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tW(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(s,i,l){l||(l=1);for(var c,u=[];c=i.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,18)},set:function(t){t?this.Ff=ys(this.Ff,18):this.Ff=vs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ys(this.Ff,19):this.Ff=vs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,20)},set:function(t){t?(this.Ff=ys(this.Ff,20),e.sort()):this.Ff=vs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,22)},set:function(t){t?this.Ff=ys(this.Ff,22):this.Ff=vs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(t){t?this.Ff=ys(this.Ff,23):this.Ff=vs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,27)},set:function(t){t?this.Ff=ys(this.Ff,27):this.Ff=vs(this.Ff,27)}}),this.hasAppearanceStream=!1};hl(Qp,Ou);var Hp=function(){Qp.call(this),this.fontName="helvetica",this.combo=!1};hl(Hp,Qp);var zp=function(){Hp.call(this),this.combo=!0};hl(zp,Hp);var jw=function(){zp.call(this),this.edit=!0};hl(jw,zp);var mi=function(){Ou.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,15)},set:function(t){t?this.Ff=ys(this.Ff,15):this.Ff=vs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,16)},set:function(t){t?this.Ff=ys(this.Ff,16):this.Ff=vs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,17)},set:function(t){t?this.Ff=ys(this.Ff,17):this.Ff=vs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(t){t?this.Ff=ys(this.Ff,26):this.Ff=vs(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+sm(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};hl(mi,Ou);var _w=function(){mi.call(this),this.pushButton=!0};hl(_w,mi);var Kp=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};hl(Kp,mi);var rC=function(){var r,e;Ou.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+sm(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=or.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hl(rC,Ou),Kp.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Kp.prototype.createOption=function(r){var e=new rC;return e.Parent=this,e.optionName=r,this.Kids.push(e),rIe.call(this.scope,e),e};var Tw=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=or.CheckBox.createAppearanceStream()};hl(Tw,mi);var j0=function(){Ou.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,13)},set:function(e){e?this.Ff=ys(this.Ff,13):this.Ff=vs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,21)},set:function(e){e?this.Ff=ys(this.Ff,21):this.Ff=vs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(e){e?this.Ff=ys(this.Ff,23):this.Ff=vs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,24)},set:function(e){e?this.Ff=ys(this.Ff,24):this.Ff=vs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,25)},set:function(e){e?this.Ff=ys(this.Ff,25):this.Ff=vs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(e){e?this.Ff=ys(this.Ff,26):this.Ff=vs(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hl(j0,Ou);var kw=function(){j0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,14)},set:function(r){r?this.Ff=ys(this.Ff,14):this.Ff=vs(this.Ff,14)}}),this.password=!0};hl(kw,j0);var or={CheckBox:{createAppearanceStream:function(){return{N:{On:or.CheckBox.YesNormal},D:{On:or.CheckBox.YesPushDown,Off:or.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ud(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=s_(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ir(or.internal.getWidth(r))+" "+Ir(or.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ir(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ud(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],s=or.internal.getHeight(r),i=or.internal.getWidth(r),l=s_(r,r.caption);return a.push("1 g"),a.push("0 0 "+Ir(i)+" "+Ir(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ir(i-1)+" "+Ir(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Ir(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=ud(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ir(or.internal.getWidth(r))+" "+Ir(or.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:or.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=or.RadioButton.Circle.YesNormal,e.D[r]=or.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ud(r);e.scope=r.scope;var t=[],n=or.internal.getWidth(r)<=or.internal.getHeight(r)?or.internal.getWidth(r)/4:or.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=or.internal.Bezier_C,s=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ud(r);e.scope=r.scope;var t=[],n=or.internal.getWidth(r)<=or.internal.getHeight(r)?or.internal.getWidth(r)/4:or.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*or.internal.Bezier_C).toFixed(5)),i=Number((n*or.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ud(r);e.scope=r.scope;var t=[],n=or.internal.getWidth(r)<=or.internal.getHeight(r)?or.internal.getWidth(r)/4:or.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*or.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:or.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=or.RadioButton.Cross.YesNormal,e.D[r]=or.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ud(r);e.scope=r.scope;var t=[],n=or.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ir(or.internal.getWidth(r)-2)+" "+Ir(or.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ir(n.x1.x)+" "+Ir(n.x1.y)+" m"),t.push(Ir(n.x2.x)+" "+Ir(n.x2.y)+" l"),t.push(Ir(n.x4.x)+" "+Ir(n.x4.y)+" m"),t.push(Ir(n.x3.x)+" "+Ir(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ud(r);e.scope=r.scope;var t=or.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ir(or.internal.getWidth(r))+" "+Ir(or.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ir(or.internal.getWidth(r)-2)+" "+Ir(or.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ir(t.x1.x)+" "+Ir(t.x1.y)+" m"),n.push(Ir(t.x2.x)+" "+Ir(t.x2.y)+" l"),n.push(Ir(t.x4.x)+" "+Ir(t.x4.y)+" m"),n.push(Ir(t.x3.x)+" "+Ir(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=ud(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ir(or.internal.getWidth(r))+" "+Ir(or.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};or.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=or.internal.getWidth(r),t=or.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},or.internal.getWidth=function(r){var e=0;return Hn(r)==="object"&&(e=c8(r.Rect[2])),e},or.internal.getHeight=function(r){var e=0;return Hn(r)==="object"&&(e=c8(r.Rect[3])),e};var rIe=as.addField=function(r){if(tIe(this,r),!(r instanceof Ou))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};as.AcroFormChoiceField=Qp,as.AcroFormListBox=Hp,as.AcroFormComboBox=zp,as.AcroFormEditBox=jw,as.AcroFormButton=mi,as.AcroFormPushButton=_w,as.AcroFormRadioButton=Kp,as.AcroFormCheckBox=Tw,as.AcroFormTextField=j0,as.AcroFormPasswordField=kw,as.AcroFormAppearance=or,as.AcroForm={ChoiceField:Qp,ListBox:Hp,ComboBox:zp,EditBox:jw,Button:mi,PushButton:_w,RadioButton:Kp,CheckBox:Tw,TextField:j0,PasswordField:kw,Appearance:or},fr.AcroForm={ChoiceField:Qp,ListBox:Hp,ComboBox:zp,EditBox:jw,Button:mi,PushButton:_w,RadioButton:Kp,CheckBox:Tw,TextField:j0,PasswordField:kw,Appearance:or};fr.AcroForm;function aW(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(I,Q){var R,K,ee,Y,se,X=t;if((Q=Q||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(L(I))for(se in n)for(ee=n[se],R=0;R<ee.length;R+=1){for(Y=!0,K=0;K<ee[R].length;K+=1)if(ee[R][K]!==void 0&&ee[R][K]!==I[K]){Y=!1;break}if(Y===!0){X=se;break}}else for(se in n)for(ee=n[se],R=0;R<ee.length;R+=1){for(Y=!0,K=0;K<ee[R].length;K+=1)if(ee[R][K]!==void 0&&ee[R][K]!==I.charCodeAt(K)){Y=!1;break}if(Y===!0){X=se;break}}return X===t&&Q!==t&&(X=Q),X},s=function I(Q){for(var R=this.internal.write,K=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:Q.width}),Y.push({key:"Height",value:Q.height}),Q.colorSpace===w.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===w.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)&&Q.transparency.length>0){for(var se="",X=0,Ae=Q.transparency.length;X<Ae;X++)se+=Q.transparency[X]+" "+Q.transparency[X]+" ";Y.push({key:"Mask",value:"["+se+"]"})}Q.sMask!==void 0&&Y.push({key:"SMask",value:Q.objectId+1+" 0 R"});var ge=Q.filter!==void 0?["/"+Q.filter]:void 0;if(K({data:Q.data,additionalKeyValues:Y,alreadyAppliedFilters:ge,objectId:Q.objectId}),R("endobj"),"sMask"in Q&&Q.sMask!==void 0){var Z,O=(Z=Q.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:Q.bitsPerComponent,H={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:Q.sMask};"filter"in Q&&(H.decodeParameters="/Predictor ".concat(Q.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(Q.width),H.filter=Q.filter),I.call(this,H)}if(Q.colorSpace===w.INDEXED){var V=this.internal.newObject();K({data:P(new Uint8Array(Q.palette)),objectId:V}),R("endobj")}},i=function(){var I=this.internal.collections[e+"images"];for(var Q in I)s.call(this,I[Q])},l=function(){var I,Q=this.internal.collections[e+"images"],R=this.internal.write;for(var K in Q)R("/I"+(I=Q[K]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(I){return typeof r["process"+I.toUpperCase()]=="function"},p=function(I){return Hn(I)==="object"&&I.nodeType===1},m=function(I,Q){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var R=""+I.getAttribute("src");if(R.indexOf("data:image/")===0)return Ew(unescape(R).split("base64,").pop());var K=r.loadFile(R,!0);if(K!==void 0)return K}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ee;switch(Q){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Ew(I.toDataURL(ee,1).split("base64,").pop())}},y=function(I){var Q=this.internal.collections[e+"images"];if(Q){for(var R in Q)if(I===Q[R].alias)return Q[R]}},g=function(I,Q,R){return I||Q||(I=-96,Q=-96),I<0&&(I=-1*R.width*72/I/this.internal.scaleFactor),Q<0&&(Q=-1*R.height*72/Q/this.internal.scaleFactor),I===0&&(I=Q*R.width/R.height),Q===0&&(Q=I*R.height/R.width),[I,Q]},v=function(I,Q,R,K,ee,Y){var se=g.call(this,R,K,ee),X=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,ge=u.call(this);if(R=se[0],K=se[1],ge[ee.index]=ee,Y){Y*=Math.PI/180;var Z=Math.cos(Y),O=Math.sin(Y),H=function(G){return G.toFixed(4)},V=[H(Z),H(O),H(-1*O),H(Z),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,X(I),Ae(Q+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([X(R),"0","0",X(K),"0","0","cm"].join(" "))):this.internal.write([X(R),"0","0",X(K),X(I),Ae(Q+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=r.__addimage__.sHashCode=function(I){var Q,R,K=0;if(typeof I=="string")for(R=I.length,Q=0;Q<R;Q++)K=(K<<5)-K+I.charCodeAt(Q),K|=0;else if(L(I))for(R=I.byteLength/2,Q=0;Q<R;Q++)K=(K<<5)-K+I[Q],K|=0;return K},E=r.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var Q=!0;return I.length===0&&(Q=!1),I.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(Q=!1),Q},_=r.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var Q=I.indexOf(",");return Q<0?null:I.substring(0,Q).trim().endsWith("base64")?I.substring(Q+1):null};r.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var L=r.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},D=r.__addimage__.binaryStringToUint8Array=function(I){for(var Q=I.length,R=new Uint8Array(Q),K=0;K<Q;K++)R[K]=I.charCodeAt(K);return R},P=r.__addimage__.arrayBufferToBinaryString=function(I){for(var Q="",R=L(I)?I:new Uint8Array(I),K=0;K<R.length;K+=8192)Q+=String.fromCharCode.apply(null,R.subarray(K,K+8192));return Q};r.addImage=function(){var I,Q,R,K,ee,Y,se,X,Ae;if(typeof arguments[1]=="number"?(Q=t,R=arguments[1],K=arguments[2],ee=arguments[3],Y=arguments[4],se=arguments[5],X=arguments[6],Ae=arguments[7]):(Q=arguments[1],R=arguments[2],K=arguments[3],ee=arguments[4],Y=arguments[5],se=arguments[6],X=arguments[7],Ae=arguments[8]),Hn(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var ge=I;I=ge.imageData,Q=ge.format||Q||t,R=ge.x||R||0,K=ge.y||K||0,ee=ge.w||ge.width||ee,Y=ge.h||ge.height||Y,se=ge.alias||se,X=ge.compression||X,Ae=ge.rotation||ge.angle||Ae}var Z=this.internal.getFilters();if(X===void 0&&Z.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(R)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=k.call(this,I,Q,se,X);return v.call(this,R,K,ee,Y,O,Ae),this};var k=function(I,Q,R,K){var ee,Y,se;if(typeof I=="string"&&a(I)===t){I=unescape(I);var X=z(I,!1);(X!==""||(X=r.loadFile(I,!0))!==void 0)&&(I=X)}if(p(I)&&(I=m(I,Q)),Q=a(I,Q),!h(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((se=R)==null||se.length===0)&&(R=(function(Ae){return typeof Ae=="string"||L(Ae)?C(Ae):L(Ae.data)?C(Ae.data):null})(I)),(ee=y.call(this,R))||(I instanceof Uint8Array||Q==="RGBA"||(Y=I,I=D(I)),ee=this["process"+Q.toUpperCase()](I,A.call(this),R,(function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in r.image_compression?Ae:S.NONE})(K),Y)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},z=r.__addimage__.convertBase64ToBinaryString=function(I,Q){Q=typeof Q!="boolean"||Q;var R,K="";if(typeof I=="string"){var ee;R=(ee=_(I))!==null&&ee!==void 0?ee:I;try{K=Ew(R)}catch(Y){if(Q)throw E(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};r.getImageProperties=function(I){var Q,R,K="";if(p(I)&&(I=m(I)),typeof I=="string"&&a(I)===t&&((K=z(I,!1))===""&&(K=r.loadFile(I)||""),I=K),R=a(I),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(I instanceof Uint8Array||(I=D(I)),!(Q=this["process"+R.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=R,Q}})(fr.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};fr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,A=!1,h=0;h<u.length&&!A;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(w(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(w(S))+") >>",g.content=s;var C=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var L=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:u(n),w:c(t+a),h:u(n+s)},options:i,type:"link"})},r.textWithLink=function(t,n,a,s){var i,l,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var A=this.splitTextToSize(t,l).length;i=Math.ceil(u*A)}else l=c,i=u;return this.text(t,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,i,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(fr.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=r.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var A=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=r.__arabicParser__.resolveLigatures=function(g){var v=0,w=t,S="",C=0;for(v=0;v<g.length;v+=1)w[g.charCodeAt(v)]!==void 0?(C++,typeof(w=w[g.charCodeAt(v)])=="number"&&(S+=String.fromCharCode(w),w=t,C=0),v===g.length-1&&(w=t,S+=g.charAt(v-(C-1)),v-=C-1,C=0)):(w=t,S+=g.charAt(v-C),v-=C,C=0);return S};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=r.__arabicParser__.getCorrectForm=function(g,v,w){return i(g)?s(g)===!1?-1:!u(g)||!i(v)&&!i(w)||!i(w)&&l(v)||l(g)&&!i(v)||l(g)&&c(v)||l(g)&&l(v)?0:A(g)&&i(v)&&!l(v)&&i(w)&&u(w)?3:l(g)||!i(w)?1:2:-1},m=function(g){var v=0,w=0,S=0,C="",E="",_="",L=(g=g||"").split("\\s+"),D=[];for(v=0;v<L.length;v+=1){for(D.push(""),w=0;w<L[v].length;w+=1)C=L[v][w],E=L[v][w-1],_=L[v][w+1],i(C)?(S=p(C,E,_),D[v]+=S!==-1?String.fromCharCode(e[C.charCodeAt(0)][S]):C):D[v]+=C;D[v]=h(D[v])}return D.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(v)){var S=0;for(w=[],S=0;S<v.length;S+=1)Array.isArray(v[S])?w.push([m(v[S][0]),v[S][1],v[S][2]]):w.push([m(v[S])]);g=w}else g=m(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",y])})(fr.API),fr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fr.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){n.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,E){return C.concat(v.splitTextToSize(E,w))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)m<(g=this.getStringUnitWidth(c[S],{font:h})*A)&&(m=g);return m!==0&&(y=c.length),{w:m/=p,h:Math.max((y*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/p,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-A,c.y+A,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+A,{align:"center",baseline:"top",maxWidth:c.width-A-A}):this.text(c.text,c.x+A,c.y+A,{align:"left",baseline:"top",maxWidth:c.width-A-A})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,A,h,p){if(n.call(this),!A)throw new Error("No data for PDF table.");var m,y,g,v,w=[],S=[],C=[],E={},_={},L=[],D=[],P=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,z=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},e),Q=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",K=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=K,this.setFontSize(z),h==null)S=w=Object.keys(A[0]),C=w.map(function(){return"left"});else if(Array.isArray(h)&&Hn(h[0])==="object")for(w=h.map(function(ge){return ge.name}),S=h.map(function(ge){return ge.prompt||ge.name||""}),C=h.map(function(ge){return ge.align||"left"}),m=0;m<h.length;m+=1)_[h[m].name]=.7499990551181103*h[m].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=w=h,C=w.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<w.length;m+=1){for(E[v=w[m]]=A.map(function(ge){return ge[v]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(S[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[v],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)L.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[v]=Math.max.apply(null,L)+Q+Q,L=[]}if(k){var ee={};for(m=0;m<w.length;m+=1)ee[w[m]]={},ee[w[m]].text=S[m],ee[w[m]].align=C[m];var Y=l.call(this,ee,_);D=w.map(function(ge){return new s(c,u,_[ge],Y,ee[ge].text,void 0,ee[ge].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var se=h.reduce(function(ge,Z){return ge[Z.name]=Z.align,ge},{});for(m=0;m<A.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:A[m]},this);var X=l.call(this,A[m],_);for(g=0;g<w.length;g+=1){var Ae=A[m][w[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:Ae},this),i.call(this,new s(c,u,_[w[g]],X,Ae,m+2,se[w[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var A=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-A-A)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+A+A},this).reduce(function(m,y){return Math.max(m,y)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){A=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,p.push(A)),A.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,A),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(fr.API);var sW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i_=aW(iW),oW=[100,200,300,400,500,600,700,800,900],nIe=aW(oW);function HE(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return sW[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),a=(function(s){return typeof i_[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function u8(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var aIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},d8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function A8(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function h8(r){return r.trimLeft()}function sIe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function iIe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var lw,f8,m8,dp,cw,p8,g8,x8,zE=["times"];function y8(r,e,t,n,a){var s=4,i=b8;switch(a){case fr.API.image_compression.FAST:s=1,i=v8;break;case fr.API.image_compression.MEDIUM:s=6,i=w8;break;case fr.API.image_compression.SLOW:s=9,i=C8}r=(function(c,u,A,h){for(var p,m=c.length/u,y=new Uint8Array(c.length+m),g=[oIe,v8,b8,w8,C8],v=0;v<m;v+=1){var w=v*u,S=c.subarray(w,w+u);if(h)y.set(h(S,A,p),w+v);else{for(var C=g.length,E=[],_=0;_<C;_+=1)E[_]=g[_](S,A,p);var L=cIe(E.concat());y.set(E[L],w+v)}p=S}return y})(r,e,Math.ceil(t*n/8),i);var l=Zj(r,{level:s});return fr.API.__addimage__.arrayBufferToBinaryString(l)}function oIe(r){var e=Array.apply([],r);return e.unshift(0),e}function v8(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var s=r[a-e]||0;n[a+1]=r[a]-s+256&255}return n}function b8(r,e,t){var n=r.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var i=t&&t[s]||0;a[s+1]=r[s]-i+256&255}return a}function w8(r,e,t){var n=r.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var i=r[s-e]||0,l=t&&t[s]||0;a[s+1]=r[s]+256-(i+l>>>1)&255}return a}function C8(r,e,t){var n=r.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var i=lIe(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);a[s+1]=r[s]-i+256&255}return a}function lIe(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=a&&n<=s?r:a<=s?e:t}function cIe(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function KE(r,e,t){var n=e*t,a=Math.floor(n/8),s=16-(n-8*a+t),i=(1<<t)-1;return lW(r,a)>>s&i}function N8(r,e,t,n){var a=t*n,s=Math.floor(a/8),i=16-(a-8*s+n),l=(1<<n)-1,c=(e&l)<<i;(function(u,A,h){if(A+1<u.byteLength)u.setUint16(A,h,!1);else{var p=h>>8&255;u.setUint8(A,p)}})(r,s,lW(r,s)&~(l<<i)&65535|c)}function lW(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function uIe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,i=1<<1+(7&a);r[e++],r[e++];var l=null,c=null;s&&(l=e,c=i,e+=3*i);var u=!0,A=[],h=0,p=null,m=0,y=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];h=r[e++]|r[e++]<<8,p=r[e++],1&g||(p=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,S=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,E=r[e++],_=E>>6&1,L=1<<1+(7&E),D=l,P=c,k=!1;E>>7&&(k=!0,D=e,P=L,e+=3*L);var z=e;for(e++;;){var I;if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}A.push({x:v,y:w,width:S,height:C,has_local_palette:k,palette_offset:D,palette_size:P,data_offset:z,data_length:e-z,transparent_index:p,interlaced:!!_,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return y},this.frameInfo=function(Q){if(Q<0||Q>=A.length)throw new Error("Frame index out of range.");return A[Q]},this.decodeAndBlitFrameBGRA=function(Q,R){var K=this.frameInfo(Q),ee=K.width*K.height,Y=new Uint8Array(ee);S8(r,K.data_offset,Y,ee);var se=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var Ae=K.width,ge=t-Ae,Z=Ae,O=4*(K.y*t+K.x),H=4*((K.y+K.height)*t+K.x),V=O,G=4*ge;K.interlaced===!0&&(G+=4*t*7);for(var ae=8,ue=0,Se=Y.length;ue<Se;++ue){var te=Y[ue];if(Z===0&&(Z=Ae,(V+=G)>=H&&(G=4*ge+4*t*(ae-1),V=O+(Ae+ge)*(ae<<1),ae>>=1)),te===X)V+=4;else{var pe=r[se+3*te],ke=r[se+3*te+1],Ee=r[se+3*te+2];R[V++]=Ee,R[V++]=ke,R[V++]=pe,R[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(Q,R){var K=this.frameInfo(Q),ee=K.width*K.height,Y=new Uint8Array(ee);S8(r,K.data_offset,Y,ee);var se=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var Ae=K.width,ge=t-Ae,Z=Ae,O=4*(K.y*t+K.x),H=4*((K.y+K.height)*t+K.x),V=O,G=4*ge;K.interlaced===!0&&(G+=4*t*7);for(var ae=8,ue=0,Se=Y.length;ue<Se;++ue){var te=Y[ue];if(Z===0&&(Z=Ae,(V+=G)>=H&&(G=4*ge+4*t*(ae-1),V=O+(Ae+ge)*(ae<<1),ae>>=1)),te===X)V+=4;else{var pe=r[se+3*te],ke=r[se+3*te+1],Ee=r[se+3*te+2];R[V++]=pe,R[V++]=ke,R[V++]=Ee,R[V++]=255}--Z}}}function S8(r,e,t,n){for(var a=r[e++],s=1<<a,i=s+1,l=i+1,c=a+1,u=(1<<c)-1,A=0,h=0,p=0,m=r[e++],y=new Int32Array(4096),g=null;;){for(;A<16&&m!==0;)h|=r[e++]<<A,A+=8,m===1?m=r[e++]:--m;if(A<c)break;var v=h&u;if(h>>=c,A-=c,v!==s){if(v===i)break;for(var w=v<l?v:g,S=0,C=w;C>s;)C=y[C]>>8,++S;var E=C;if(p+S+(w!==v?1:0)>n)return void ia.log("Warning, gif stream longer than expected.");t[p++]=E;var _=p+=S;for(w!==v&&(t[p++]=E),C=w;S--;)C=y[C],t[--_]=255&C,C>>=8;g!==null&&l<4096&&(y[l++]=g<<8|E,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else l=i+1,u=(1<<(c=a+1))-1,g=null}return p!==n&&ia.log("Warning, gif stream shorter than expected."),t}function $E(r){var e,t,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),g=[],v=0,w=7,S=new Array(64),C=new Array(64),E=new Array(64),_=new Array(256),L=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(O,H){for(var V=0,G=0,ae=new Array,ue=1;ue<=16;ue++){for(var Se=1;Se<=O[ue];Se++)ae[H[G]]=[],ae[H[G]][0]=V,ae[H[G]][1]=ue,G++,V++;V*=2}return ae}function se(O){for(var H=O[0],V=O[1]-1;V>=0;)H&1<<V&&(v|=1<<w),V--,--w<0&&(v==255?(X(255),X(0)):X(v),w=7,v=0)}function X(O){g.push(O)}function Ae(O){X(O>>8&255),X(255&O)}function ge(O,H,V,G,ae){for(var ue,Se=ae[0],te=ae[240],pe=(function(it,Xe){var ft,Et,Le,yt,Oe,at,bt,St,Be,st,lt=0;for(Be=0;Be<8;++Be){ft=it[lt],Et=it[lt+1],Le=it[lt+2],yt=it[lt+3],Oe=it[lt+4],at=it[lt+5],bt=it[lt+6];var Zt=ft+(St=it[lt+7]),It=ft-St,Tt=Et+bt,cr=Et-bt,Br=Le+at,zt=Le-at,Yr=yt+Oe,nr=yt-Oe,mr=Zt+Yr,mt=Zt-Yr,Ct=Tt+Br,Ut=Tt-Br;it[lt]=mr+Ct,it[lt+4]=mr-Ct;var Kt=.707106781*(Ut+mt);it[lt+2]=mt+Kt,it[lt+6]=mt-Kt;var jn=.382683433*((mr=nr+zt)-(Ut=cr+It)),Fr=.5411961*mr+jn,Rs=1.306562965*Ut+jn,Ga=.707106781*(Ct=zt+cr),Ar=It+Ga,ba=It-Ga;it[lt+5]=ba+Fr,it[lt+3]=ba-Fr,it[lt+1]=Ar+Rs,it[lt+7]=Ar-Rs,lt+=8}for(lt=0,Be=0;Be<8;++Be){ft=it[lt],Et=it[lt+8],Le=it[lt+16],yt=it[lt+24],Oe=it[lt+32],at=it[lt+40],bt=it[lt+48];var Wa=ft+(St=it[lt+56]),ca=ft-St,Ss=Et+bt,_n=Et-bt,wa=Le+at,ie=Le-at,we=yt+Oe,he=yt-Oe,fe=Wa+we,xe=Wa-we,Ne=Ss+wa,He=Ss-wa;it[lt]=fe+Ne,it[lt+32]=fe-Ne;var nt=.707106781*(He+xe);it[lt+16]=xe+nt,it[lt+48]=xe-nt;var Ke=.382683433*((fe=he+ie)-(He=_n+ca)),$e=.5411961*fe+Ke,qe=1.306562965*He+Ke,Nt=.707106781*(Ne=ie+_n),kt=ca+Nt,Mt=ca-Nt;it[lt+40]=Mt+$e,it[lt+24]=Mt-$e,it[lt+8]=kt+qe,it[lt+56]=kt-qe,lt++}for(Be=0;Be<64;++Be)st=it[Be]*Xe[Be],m[Be]=st>0?st+.5|0:st-.5|0;return m})(O,H),ke=0;ke<64;++ke)y[D[ke]]=pe[ke];var Ee=y[0]-V;V=y[0],Ee==0?se(G[0]):(se(G[p[ue=32767+Ee]]),se(h[ue]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return se(Se),V;for(var je,J=1;J<=Ue;){for(var Ie=J;y[J]==0&&J<=Ue;)++J;var Ye=J-Ie;if(Ye>=16){je=Ye>>4;for(var Bt=1;Bt<=je;++Bt)se(te);Ye&=15}ue=32767+y[J],se(ae[(Ye<<4)+p[ue]]),se(h[ue]),J++}return Ue!=63&&se(Se),V}function Z(O){O=Math.min(Math.max(O,1),100),s!=O&&((function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var ae=i((V[G]*H+50)/100);ae=Math.min(Math.max(ae,1),255),l[D[G]]=ae}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var te=i((ue[Se]*H+50)/100);te=Math.min(Math.max(te,1),255),c[D[Se]]=te}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ee=0;Ee<8;Ee++)for(var Ue=0;Ue<8;Ue++)u[ke]=1/(l[D[ke]]*pe[Ee]*pe[Ue]*8),A[ke]=1/(c[D[ke]]*pe[Ee]*pe[Ue]*8),ke++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,H){H&&Z(H),g=new Array,v=0,w=7,Ae(65496),Ae(65504),Ae(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Ae(1),Ae(1),X(0),X(0),(function(){Ae(65499),Ae(132),X(0);for(var Et=0;Et<64;Et++)X(l[Et]);X(1);for(var Le=0;Le<64;Le++)X(c[Le])})(),(function(Et,Le){Ae(65472),Ae(17),X(8),Ae(Le),Ae(Et),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)})(O.width,O.height),(function(){Ae(65476),Ae(418),X(0);for(var Et=0;Et<16;Et++)X(P[Et+1]);for(var Le=0;Le<=11;Le++)X(k[Le]);X(16);for(var yt=0;yt<16;yt++)X(z[yt+1]);for(var Oe=0;Oe<=161;Oe++)X(I[Oe]);X(1);for(var at=0;at<16;at++)X(Q[at+1]);for(var bt=0;bt<=11;bt++)X(R[bt]);X(17);for(var St=0;St<16;St++)X(K[St+1]);for(var Be=0;Be<=161;Be++)X(ee[Be])})(),Ae(65498),Ae(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var V=0,G=0,ae=0;v=0,w=7,this.encode.displayName="_encode_";for(var ue,Se,te,pe,ke,Ee,Ue,je,J,Ie=O.data,Ye=O.width,Bt=O.height,it=4*Ye,Xe=0;Xe<Bt;){for(ue=0;ue<it;){for(ke=it*Xe+ue,Ue=-1,je=0,J=0;J<64;J++)Ee=ke+(je=J>>3)*it+(Ue=4*(7&J)),Xe+je>=Bt&&(Ee-=it*(Xe+1+je-Bt)),ue+Ue>=it&&(Ee-=ue+Ue-it+4),Se=Ie[Ee++],te=Ie[Ee++],pe=Ie[Ee++],S[J]=(L[Se]+L[te+256|0]+L[pe+512|0]>>16)-128,C[J]=(L[Se+768|0]+L[te+1024|0]+L[pe+1280|0]>>16)-128,E[J]=(L[Se+1280|0]+L[te+1536|0]+L[pe+1792|0]>>16)-128;V=ge(S,u,V,e,n),G=ge(C,A,G,t,a),ae=ge(E,A,ae,t,a),ue+=32}Xe+=8}if(w>=0){var ft=[];ft[1]=w+1,ft[0]=(1<<w+1)-1,se(ft)}return Ae(65497),new Uint8Array(g)},r=r||50,(function(){for(var O=String.fromCharCode,H=0;H<256;H++)_[H]=O(H)})(),e=Y(P,k),t=Y(Q,R),n=Y(z,I),a=Y(K,ee),(function(){for(var O=1,H=2,V=1;V<=15;V++){for(var G=O;G<H;G++)p[32767+G]=V,h[32767+G]=[],h[32767+G][1]=V,h[32767+G][0]=G;for(var ae=-(H-1);ae<=-O;ae++)p[32767+ae]=V,h[32767+ae]=[],h[32767+ae][1]=V,h[32767+ae][0]=H-1+ae;O<<=1,H<<=1}})(),(function(){for(var O=0;O<256;O++)L[O]=19595*O,L[O+256|0]=38470*O,L[O+512|0]=7471*O+32768,L[O+768|0]=-11059*O,L[O+1024|0]=-21709*O,L[O+1280|0]=32768*O+8421375,L[O+1536|0]=-27439*O,L[O+1792|0]=-5329*O})(),Z(r)}function pu(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function B8(r){function e(k){if(!k)throw Error("assert :P")}function t(k,z,I){for(var Q=0;4>Q;Q++)if(k[z+Q]!=I.charCodeAt(Q))return!0;return!1}function n(k,z,I,Q,R){for(var K=0;K<R;K++)k[z+K]=I[Q+K]}function a(k,z,I,Q){for(var R=0;R<Q;R++)k[z+R]=I}function s(k){return new Int32Array(k)}function i(k,z){for(var I=[],Q=0;Q<k;Q++)I.push(new z);return I}function l(k,z){var I=[];return(function Q(R,K,ee){for(var Y=ee[K],se=0;se<Y&&(R.push(ee.length>K+1?[]:new z),!(ee.length<K+1));se++)Q(R[se],K+1,ee)})(I,0,k),I}var c=function(){var k=this;function z(N,T){for(var U=1<<T-1>>>0;N&U;)U>>>=1;return U?(N&U-1)+U:N}function I(N,T,U,q,ne){e(!(q%U));do N[T+(q-=U)]=ne;while(0<q)}function Q(N,T,U,q,ne){if(e(2328>=ne),512>=ne)var oe=s(512);else if((oe=s(ne))==null)return 0;return(function(le,de,me,be,Fe,Ve){var ve,Pe,Qe=de,ct=1<<me,ze=s(16),ot=s(16);for(e(Fe!=0),e(be!=null),e(le!=null),e(0<me),Pe=0;Pe<Fe;++Pe){if(15<be[Pe])return 0;++ze[be[Pe]]}if(ze[0]==Fe)return 0;for(ot[1]=0,ve=1;15>ve;++ve){if(ze[ve]>1<<ve)return 0;ot[ve+1]=ot[ve]+ze[ve]}for(Pe=0;Pe<Fe;++Pe)ve=be[Pe],0<be[Pe]&&(Ve[ot[ve]++]=Pe);if(ot[15]==1)return(be=new R).g=0,be.value=Ve[0],I(le,Qe,1,ct,be),ct;var ht,jt=-1,xt=ct-1,ar=0,$t=1,Tr=1,Wt=1<<me;for(Pe=0,ve=1,Fe=2;ve<=me;++ve,Fe<<=1){if($t+=Tr<<=1,0>(Tr-=ze[ve]))return 0;for(;0<ze[ve];--ze[ve])(be=new R).g=ve,be.value=Ve[Pe++],I(le,Qe+ar,Fe,Wt,be),ar=z(ar,ve)}for(ve=me+1,Fe=2;15>=ve;++ve,Fe<<=1){if($t+=Tr<<=1,0>(Tr-=ze[ve]))return 0;for(;0<ze[ve];--ze[ve]){if(be=new R,(ar&xt)!=jt){for(Qe+=Wt,ht=1<<(jt=ve)-me;15>jt&&!(0>=(ht-=ze[jt]));)++jt,ht<<=1;ct+=Wt=1<<(ht=jt-me),le[de+(jt=ar&xt)].g=ht+me,le[de+jt].value=Qe-de-jt}be.g=ve-me,be.value=Ve[Pe++],I(le,Qe+(ar>>me),Fe,Wt,be),ar=z(ar,ve)}}return $t!=2*ot[15]-1?0:ct})(N,T,U,q,ne,oe)}function R(){this.value=this.g=0}function K(){this.value=this.g=0}function ee(){this.G=i(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Uu,K)}function Y(N,T,U,q){e(N!=null),e(T!=null),e(2147483648>q),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=T,N.pa=U,N.Jd=T,N.Yc=U+q,N.Zc=4<=q?U+q-4+1:U,Se(N)}function se(N,T){for(var U=0;0<T--;)U|=pe(N,128)<<T;return U}function X(N,T){var U=se(N,T);return te(N)?-U:U}function Ae(N,T,U,q){var ne,oe=0;for(e(N!=null),e(T!=null),e(4294967288>q),N.Sb=q,N.Ra=0,N.u=0,N.h=0,4<q&&(q=4),ne=0;ne<q;++ne)oe+=T[U+ne]<<8*ne;N.Ra=oe,N.bb=q,N.oa=T,N.pa=U}function ge(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<ac-8>>>0,++N.bb,N.u-=8;G(N)&&(N.h=1,N.u=0)}function Z(N,T){if(e(0<=T),!N.h&&T<=_i){var U=V(N)&Gi[T];return N.u+=T,ge(N),U}return N.h=1,N.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(N){return N.Ra>>>(N.u&ac-1)>>>0}function G(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>ac}function ae(N,T){N.u=T,N.h=G(N)}function ue(N){N.u>=sc&&(e(N.u>=sc),ge(N))}function Se(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function te(N){return se(N,1)}function pe(N,T){var U=N.Ca;0>N.b&&Se(N);var q=N.b,ne=U*T>>>8,oe=(N.I>>>q>ne)+0;for(oe?(U-=ne,N.I-=ne+1<<q>>>0):U=ne+1,q=U,ne=0;256<=q;)ne+=8,q>>=8;return q=7^ne+Zc[q],N.b-=q,N.Ca=(U<<q)-1,oe}function ke(N,T,U){N[T+0]=U>>24&255,N[T+1]=U>>16&255,N[T+2]=U>>8&255,N[T+3]=255&U}function Ee(N,T){return N[T+0]|N[T+1]<<8}function Ue(N,T){return Ee(N,T)|N[T+2]<<16}function je(N,T){return Ee(N,T)|Ee(N,T+2)<<16}function J(N,T){var U=1<<T;return e(N!=null),e(0<T),N.X=s(U),N.X==null?0:(N.Mb=32-T,N.Xa=T,1)}function Ie(N,T){e(N!=null),e(T!=null),e(N.Xa==T.Xa),n(T.X,0,N.X,0,1<<T.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Bt(N,T,U,q){e(U!=null),e(q!=null);var ne=U[0],oe=q[0];return ne==0&&(ne=(N*oe+T/2)/T),oe==0&&(oe=(T*ne+N/2)/N),0>=ne||0>=oe?0:(U[0]=ne,q[0]=oe,1)}function it(N,T){return N+(1<<T)-1>>>T}function Xe(N,T){return((4278255360&N)+(4278255360&T)>>>0&4278255360)+((16711935&N)+(16711935&T)>>>0&16711935)>>>0}function ft(N,T){k[T]=function(U,q,ne,oe,le,de,me){var be;for(be=0;be<le;++be){var Fe=k[N](de[me+be-1],ne,oe+be);de[me+be]=Xe(U[q+be],Fe)}}}function Et(){this.ud=this.hd=this.jd=0}function Le(N,T){return((4278124286&(N^T))>>>1)+(N&T)>>>0}function yt(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Oe(N,T){return yt(N+(N-T+.5>>1))}function at(N,T,U){return Math.abs(T-U)-Math.abs(N-U)}function bt(N,T,U,q,ne,oe,le){for(q=oe[le-1],U=0;U<ne;++U)oe[le+U]=q=Xe(N[T+U],q)}function St(N,T,U,q,ne){var oe;for(oe=0;oe<U;++oe){var le=N[T+oe],de=le>>8&255,me=16711935&(me=(me=16711935&le)+((de<<16)+de));q[ne+oe]=(4278255360&le)+me>>>0}}function Be(N,T){T.jd=255&N,T.hd=N>>8&255,T.ud=N>>16&255}function st(N,T,U,q,ne,oe){var le;for(le=0;le<q;++le){var de=T[U+le],me=de>>>8,be=de,Fe=255&(Fe=(Fe=de>>>16)+((N.jd<<24>>24)*(me<<24>>24)>>>5));be=255&(be=(be+=(N.hd<<24>>24)*(me<<24>>24)>>>5)+((N.ud<<24>>24)*(Fe<<24>>24)>>>5)),ne[oe+le]=(4278255360&de)+(Fe<<16)+be}}function lt(N,T,U,q,ne){k[T]=function(oe,le,de,me,be,Fe,Ve,ve,Pe){for(me=Ve;me<ve;++me)for(Ve=0;Ve<Pe;++Ve)be[Fe++]=ne(de[q(oe[le++])])},k[N]=function(oe,le,de,me,be,Fe,Ve){var ve=8>>oe.b,Pe=oe.Ea,Qe=oe.K[0],ct=oe.w;if(8>ve)for(oe=(1<<oe.b)-1,ct=(1<<ve)-1;le<de;++le){var ze,ot=0;for(ze=0;ze<Pe;++ze)ze&oe||(ot=q(me[be++])),Fe[Ve++]=ne(Qe[ot&ct]),ot>>=ve}else k["VP8LMapColor"+U](me,be,Qe,ct,Fe,Ve,le,de,Pe)}}function Zt(N,T,U,q,ne){for(U=T+U;T<U;){var oe=N[T++];q[ne++]=oe>>16&255,q[ne++]=oe>>8&255,q[ne++]=255&oe}}function It(N,T,U,q,ne){for(U=T+U;T<U;){var oe=N[T++];q[ne++]=oe>>16&255,q[ne++]=oe>>8&255,q[ne++]=255&oe,q[ne++]=oe>>24&255}}function Tt(N,T,U,q,ne){for(U=T+U;T<U;){var oe=(le=N[T++])>>16&240|le>>12&15,le=240&le|le>>28&15;q[ne++]=oe,q[ne++]=le}}function cr(N,T,U,q,ne){for(U=T+U;T<U;){var oe=(le=N[T++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;q[ne++]=oe,q[ne++]=le}}function Br(N,T,U,q,ne){for(U=T+U;T<U;){var oe=N[T++];q[ne++]=255&oe,q[ne++]=oe>>8&255,q[ne++]=oe>>16&255}}function zt(N,T,U,q,ne,oe){if(oe==0)for(U=T+U;T<U;)ke(q,((oe=N[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(q,ne,N,T,U)}function Yr(N,T){k[T][0]=k[N+"0"],k[T][1]=k[N+"1"],k[T][2]=k[N+"2"],k[T][3]=k[N+"3"],k[T][4]=k[N+"4"],k[T][5]=k[N+"5"],k[T][6]=k[N+"6"],k[T][7]=k[N+"7"],k[T][8]=k[N+"8"],k[T][9]=k[N+"9"],k[T][10]=k[N+"10"],k[T][11]=k[N+"11"],k[T][12]=k[N+"12"],k[T][13]=k[N+"13"],k[T][14]=k[N+"0"],k[T][15]=k[N+"0"]}function nr(N){return N==Rf||N==vm||N==nh||N==bm}function mr(){this.eb=[],this.size=this.A=this.fb=0}function mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mr,this.f.kb=new mt,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jn(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Fr(N,T){var U=N.T,q=T.ba.f.RGBA,ne=q.eb,oe=q.fb+N.ka*q.A,le=$s[T.ba.S],de=N.y,me=N.O,be=N.f,Fe=N.N,Ve=N.ea,ve=N.W,Pe=T.cc,Qe=T.dc,ct=T.Mc,ze=T.Nc,ot=N.ka,ht=N.ka+N.T,jt=N.U,xt=jt+1>>1;for(ot==0?le(de,me,null,null,be,Fe,Ve,ve,be,Fe,Ve,ve,ne,oe,null,null,jt):(le(T.ec,T.fc,de,me,Pe,Qe,ct,ze,be,Fe,Ve,ve,ne,oe-q.A,ne,oe,jt),++U);ot+2<ht;ot+=2)Pe=be,Qe=Fe,ct=Ve,ze=ve,Fe+=N.Rc,ve+=N.Rc,oe+=2*q.A,le(de,(me+=2*N.fa)-N.fa,de,me,Pe,Qe,ct,ze,be,Fe,Ve,ve,ne,oe-q.A,ne,oe,jt);return me+=N.fa,N.j+ht<N.o?(n(T.ec,T.fc,de,me,jt),n(T.cc,T.dc,be,Fe,xt),n(T.Mc,T.Nc,Ve,ve,xt),U--):1&ht||le(de,me,null,null,be,Fe,Ve,ve,be,Fe,Ve,ve,ne,oe+q.A,null,null,jt),U}function Rs(N,T,U){var q=N.F,ne=[N.J];if(q!=null){var oe=N.U,le=T.ba.S,de=le==Mf||le==nh;T=T.ba.f.RGBA;var me=[0],be=N.ka;me[0]=N.T,N.Kb&&(be==0?--me[0]:(--be,ne[0]-=N.width),N.j+N.ka+N.T==N.o&&(me[0]=N.o-N.j-be));var Fe=T.eb;be=T.fb+be*T.A,N=Df(q,ne[0],N.width,oe,me,Fe,be+(de?0:3),T.A),e(U==me),N&&nr(le)&&Md(Fe,be,de,oe,me,T.A)}return 0}function Ga(N){var T=N.ma,U=T.ba.S,q=11>U,ne=U==oi||U==Ro||U==Mf||U==rh||U==12||nr(U);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Jc(T.Oa,N,ne?11:12))return 0;if(ne&&nr(U)&&Tf(),N.da)alert("todo:use_scaling");else{if(q){if(T.Ib=jn,N.Kb){if(U=N.U+1>>1,T.memory=s(N.U+2*U),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+N.U,T.Mc=T.cc,T.Nc=T.dc+U,T.Ib=Fr,Tf()}}else alert("todo:EmitYUV");ne&&(T.Jb=Rs,q&&yl())}if(q&&!qu){for(N=0;256>N;++N)Vs[N]=89858*(N-128)+ih>>$o,k5[N]=-22014*(N-128)+ih,Jv[N]=-45773*(N-128),Bm[N]=113618*(N-128)+ih>>$o;for(N=Hd;N<Vu;++N)T=76283*(N-16)+ih>>$o,F5[N-Hd]=Aa(T,255),O5[N-Hd]=Aa(T+8>>4,15);qu=1}return 1}function Ar(N){var T=N.ma,U=N.U,q=N.T;return e(!(1&N.ka)),0>=U||0>=q?0:(U=T.Ib(N,T),T.Jb!=null&&T.Jb(N,T,U),T.Dc+=U,1)}function ba(N){N.ma.memory=null}function Wa(N,T,U,q){return Z(N,8)!=47?0:(T[0]=Z(N,14)+1,U[0]=Z(N,14)+1,q[0]=Z(N,1),Z(N,3)!=0?0:!N.h)}function ca(N,T){if(4>N)return N+1;var U=N-2>>1;return(2+(1&N)<<U)+Z(T,U)+1}function Ss(N,T){return 120<T?T-120:1<=(U=((U=Qo[T-1])>>4)*N+(8-(15&U)))?U:1;var U}function _n(N,T,U){var q=V(U),ne=N[T+=255&q].g-8;return 0<ne&&(ae(U,U.u+8),q=V(U),T+=N[T].value,T+=q&(1<<ne)-1),ae(U,U.u+N[T].g),N[T].value}function wa(N,T,U){return U.g+=N.g,U.value+=N.value<<T>>>0,e(8>=U.g),N.g}function ie(N,T,U){var q=N.xc;return e((T=q==0?0:N.vc[N.md*(U>>q)+(T>>q)])<N.Wb),N.Ya[T]}function we(N,T,U,q){var ne=N.ab,oe=N.c*T,le=N.C;T=le+T;var de=U,me=q;for(q=N.Ta,U=N.Ua;0<ne--;){var be=N.gc[ne],Fe=le,Ve=T,ve=de,Pe=me,Qe=(me=q,de=U,be.Ea);switch(e(Fe<Ve),e(Ve<=be.nc),be.hc){case 2:La(ve,Pe,(Ve-Fe)*Qe,me,de);break;case 0:var ct=Fe,ze=Ve,ot=me,ht=de,jt=(Wt=be).Ea;ct==0&&(JA(ve,Pe,null,null,1,ot,ht),bt(ve,Pe+1,0,0,jt-1,ot,ht+1),Pe+=jt,ht+=jt,++ct);for(var xt=1<<Wt.b,ar=xt-1,$t=it(jt,Wt.b),Tr=Wt.K,Wt=Wt.w+(ct>>Wt.b)*$t;ct<ze;){var Wr=Tr,aa=Wt,Dr=1;for(ZA(ve,Pe,ot,ht-jt,1,ot,ht);Dr<jt;){var Vt=(Dr&~ar)+xt;Vt>jt&&(Vt=jt),(0,eu[Wr[aa++]>>8&15])(ve,Pe+ +Dr,ot,ht+Dr-jt,Vt-Dr,ot,ht+Dr),Dr=Vt}Pe+=jt,ht+=jt,++ct&ar||(Wt+=$t)}Ve!=be.nc&&n(me,de-Qe,me,de+(Ve-Fe-1)*Qe,Qe);break;case 1:for(Qe=ve,ze=Pe,jt=(ve=be.Ea)-(ht=ve&~(ot=(Pe=1<<be.b)-1)),ct=it(ve,be.b),xt=be.K,be=be.w+(Fe>>be.b)*ct;Fe<Ve;){for(ar=xt,$t=be,Tr=new Et,Wt=ze+ht,Wr=ze+ve;ze<Wt;)Be(ar[$t++],Tr),eh(Tr,Qe,ze,Pe,me,de),ze+=Pe,de+=Pe;ze<Wr&&(Be(ar[$t++],Tr),eh(Tr,Qe,ze,jt,me,de),ze+=jt,de+=jt),++Fe&ot||(be+=ct)}break;case 3:if(ve==me&&Pe==de&&0<be.b){for(ze=me,ve=Qe=de+(Ve-Fe)*Qe-(ht=(Ve-Fe)*it(be.Ea,be.b)),Pe=me,ot=de,ct=[],ht=(jt=ht)-1;0<=ht;--ht)ct[ht]=Pe[ot+ht];for(ht=jt-1;0<=ht;--ht)ze[ve+ht]=ct[ht];mm(be,Fe,Ve,me,Qe,me,de)}else mm(be,Fe,Ve,ve,Pe,me,de)}de=q,me=U}me!=U&&n(q,U,de,me,oe)}function he(N,T){var U=N.V,q=N.Ba+N.c*N.C,ne=T-N.C;if(e(T<=N.l.o),e(16>=ne),0<ne){var oe=N.l,le=N.Ta,de=N.Ua,me=oe.width;if(we(N,ne,U,q),ne=de=[de],e((U=N.C)<(q=T)),e(oe.v<oe.va),q>oe.o&&(q=oe.o),U<oe.j){var be=oe.j-U;U=oe.j,ne[0]+=be*me}if(U>=q?U=0:(ne[0]+=4*oe.v,oe.ka=U-oe.j,oe.U=oe.va-oe.v,oe.T=q-U,U=1),U){if(de=de[0],11>(U=N.ca).S){var Fe=U.f.RGBA,Ve=(q=U.S,ne=oe.U,oe=oe.T,be=Fe.eb,Fe.A),ve=oe;for(Fe=Fe.fb+N.Ma*Fe.A;0<ve--;){var Pe=le,Qe=de,ct=ne,ze=be,ot=Fe;switch(q){case xm:th(Pe,Qe,ct,ze,ot);break;case oi:tu(Pe,Qe,ct,ze,ot);break;case Rf:tu(Pe,Qe,ct,ze,ot),Md(ze,ot,0,ct,1,0);break;case ym:Id(Pe,Qe,ct,ze,ot);break;case Ro:zt(Pe,Qe,ct,ze,ot,1);break;case vm:zt(Pe,Qe,ct,ze,ot,1),Md(ze,ot,0,ct,1,0);break;case Mf:zt(Pe,Qe,ct,ze,ot,0);break;case nh:zt(Pe,Qe,ct,ze,ot,0),Md(ze,ot,1,ct,1,0);break;case rh:ru(Pe,Qe,ct,ze,ot);break;case bm:ru(Pe,Qe,ct,ze,ot),Mo(ze,ot,ct,1,0);break;case Qu:lc(Pe,Qe,ct,ze,ot);break;default:e(0)}de+=me,Fe+=Ve}N.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=U.height)}}N.C=T,e(N.C<=N.i)}function fe(N){var T;if(0<N.ua)return 0;for(T=0;T<N.Wb;++T){var U=N.Ya[T].G,q=N.Ya[T].H;if(0<U[1][q[1]+0].g||0<U[2][q[2]+0].g||0<U[3][q[3]+0].g)return 0}return 1}function xe(N,T,U,q,ne,oe){if(N.Z!=0){var le=N.qd,de=N.rd;for(e(su[N.Z]!=null);T<U;++T)su[N.Z](le,de,q,ne,q,ne,oe),le=q,de=ne,ne+=oe;N.qd=le,N.rd=de}}function Ne(N,T){var U=N.l.ma,q=U.Z==0||U.Z==1?N.l.j:N.C;if(q=N.C<q?q:N.C,e(T<=N.l.o),T>q){var ne=N.l.width,oe=U.ca,le=U.tb+ne*q,de=N.V,me=N.Ba+N.c*q,be=N.gc;e(N.ab==1),e(be[0].hc==3),oc(be[0],q,T,de,me,oe,le),xe(U,q,T,oe,le,ne)}N.C=N.Ma=T}function He(N,T,U,q,ne,oe,le){var de=N.$/q,me=N.$%q,be=N.m,Fe=N.s,Ve=U+N.$,ve=Ve;ne=U+q*ne;var Pe=U+q*oe,Qe=280+Fe.ua,ct=N.Pb?de:16777216,ze=0<Fe.ua?Fe.Wa:null,ot=Fe.wc,ht=Ve<Pe?ie(Fe,me,de):null;e(N.C<oe),e(Pe<=ne);var jt=!1;e:for(;;){for(;jt||Ve<Pe;){var xt=0;if(de>=ct){var ar=Ve-U;e((ct=N).Pb),ct.wd=ct.m,ct.xd=ar,0<ct.s.ua&&Ie(ct.s.Wa,ct.s.vb),ct=de+Hu}if(me&ot||(ht=ie(Fe,me,de)),e(ht!=null),ht.Qb&&(T[Ve]=ht.qb,jt=!0),!jt)if(ue(be),ht.jc){xt=be,ar=T;var $t=Ve,Tr=ht.pd[V(xt)&Uu-1];e(ht.jc),256>Tr.g?(ae(xt,xt.u+Tr.g),ar[$t]=Tr.value,xt=0):(ae(xt,xt.u+Tr.g-256),e(256<=Tr.value),xt=Tr.value),xt==0&&(jt=!0)}else xt=_n(ht.G[0],ht.H[0],be);if(be.h)break;if(jt||256>xt){if(!jt)if(ht.nd)T[Ve]=(ht.qb|xt<<8)>>>0;else{if(ue(be),jt=_n(ht.G[1],ht.H[1],be),ue(be),ar=_n(ht.G[2],ht.H[2],be),$t=_n(ht.G[3],ht.H[3],be),be.h)break;T[Ve]=($t<<24|jt<<16|xt<<8|ar)>>>0}if(jt=!1,++Ve,++me>=q&&(me=0,++de,le!=null&&de<=oe&&!(de%16)&&le(N,de),ze!=null))for(;ve<Ve;)xt=T[ve++],ze.X[(506832829*xt&4294967295)>>>ze.Mb]=xt}else if(280>xt){if(xt=ca(xt-256,be),ar=_n(ht.G[4],ht.H[4],be),ue(be),ar=Ss(q,ar=ca(ar,be)),be.h)break;if(Ve-U<ar||ne-Ve<xt)break e;for($t=0;$t<xt;++$t)T[Ve+$t]=T[Ve+$t-ar];for(Ve+=xt,me+=xt;me>=q;)me-=q,++de,le!=null&&de<=oe&&!(de%16)&&le(N,de);if(e(Ve<=ne),me&ot&&(ht=ie(Fe,me,de)),ze!=null)for(;ve<Ve;)xt=T[ve++],ze.X[(506832829*xt&4294967295)>>>ze.Mb]=xt}else{if(!(xt<Qe))break e;for(jt=xt-280,e(ze!=null);ve<Ve;)xt=T[ve++],ze.X[(506832829*xt&4294967295)>>>ze.Mb]=xt;xt=Ve,e(!(jt>>>(ar=ze).Xa)),T[xt]=ar.X[jt],jt=!0}jt||e(be.h==G(be))}if(N.Pb&&be.h&&Ve<ne)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Ie(N.s.vb,N.s.Wa);else{if(be.h)break e;le?.(N,de>oe?oe:de),N.a=0,N.$=Ve-U}return 1}return N.a=3,0}function nt(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var T=N.Wa;T!=null&&(T.X=null),N.vb=null,e(N!=null)}function Ke(){var N=new jr;return N==null?null:(N.a=0,N.xb=zg,Yr("Predictor","VP8LPredictors"),Yr("Predictor","VP8LPredictors_C"),Yr("PredictorAdd","VP8LPredictorsAdd"),Yr("PredictorAdd","VP8LPredictorsAdd_C"),La=St,eh=st,th=Zt,tu=It,ru=Tt,lc=cr,Id=Br,k.VP8LMapColor32b=ic,k.VP8LMapColor8b=Hs,N)}function $e(N,T,U,q,ne){var oe=1,le=[N],de=[T],me=q.m,be=q.s,Fe=null,Ve=0;e:for(;;){if(U)for(;oe&&Z(me,1);){var ve=le,Pe=de,Qe=q,ct=1,ze=Qe.m,ot=Qe.gc[Qe.ab],ht=Z(ze,2);if(Qe.Oc&1<<ht)oe=0;else{switch(Qe.Oc|=1<<ht,ot.hc=ht,ot.Ea=ve[0],ot.nc=Pe[0],ot.K=[null],++Qe.ab,e(4>=Qe.ab),ht){case 0:case 1:ot.b=Z(ze,3)+2,ct=$e(it(ot.Ea,ot.b),it(ot.nc,ot.b),0,Qe,ot.K),ot.K=ot.K[0];break;case 3:var jt,xt=Z(ze,8)+1,ar=16<xt?0:4<xt?1:2<xt?2:3;if(ve[0]=it(ot.Ea,ar),ot.b=ar,jt=ct=$e(xt,1,0,Qe,ot.K)){var $t,Tr=xt,Wt=ot,Wr=1<<(8>>Wt.b),aa=s(Wr);if(aa==null)jt=0;else{var Dr=Wt.K[0],Vt=Wt.w;for(aa[0]=Wt.K[0][0],$t=1;$t<1*Tr;++$t)aa[$t]=Xe(Dr[Vt+$t],aa[$t-1]);for(;$t<4*Wr;++$t)aa[$t]=0;Wt.K[0]=null,Wt.K[0]=aa,jt=1}}ct=jt;break;case 2:break;default:e(0)}oe=ct}}if(le=le[0],de=de[0],oe&&Z(me,1)&&!(oe=1<=(Ve=Z(me,4))&&11>=Ve)){q.a=3;break e}var Lt;if(Lt=oe)t:{var fa,Sr,Ur,Nn=q,ds=le,qs=de,Gn=Ve,Ja=U,li=Nn.m,Za=Nn.s,Kr=[null],cn=1,ma=0,mn=Ho[Gn];r:for(;;){if(Ja&&Z(li,1)){var As=Z(li,3)+2,pa=it(ds,As),un=it(qs,As),Ua=pa*un;if(!$e(pa,un,0,Nn,Kr))break r;for(Kr=Kr[0],Za.xc=As,fa=0;fa<Ua;++fa){var Sn=Kr[fa]>>8&65535;Kr[fa]=Sn,Sn>=cn&&(cn=Sn+1)}}if(li.h)break r;for(Sr=0;5>Sr;++Sr){var es=Ud[Sr];!Sr&&0<Gn&&(es+=1<<Gn),ma<es&&(ma=es)}var ts=i(cn*mn,R),Dn=cn,on=i(Dn,ee);if(on==null)var ci=null;else e(65536>=Dn),ci=on;var Na=s(ma);if(ci==null||Na==null||ts==null){Nn.a=1;break r}var gr=ts;for(fa=Ur=0;fa<cn;++fa){var yr=ci[fa],dn=yr.G,Wi=yr.H,Vo=0,ki=1,rs=0;for(Sr=0;5>Sr;++Sr){es=Ud[Sr],dn[Sr]=gr,Wi[Sr]=Ur,!Sr&&0<Gn&&(es+=1<<Gn);a:{var Gu,Wu=es,jm=Nn,Wn=Na,$g=gr,Vg=Ur,_m=0,iu=jm.m,D5=Z(iu,1);if(a(Wn,0,0,Wu),D5){var qg=Z(iu,1)+1,Gg=Z(iu,1),Tm=Z(iu,Gg==0?1:8);Wn[Tm]=1,qg==2&&(Wn[Tm=Z(iu,8)]=1);var js=1}else{var Sa=s(19),zf=Z(iu,4)+4;if(19<zf){jm.a=3;var Yu=0;break a}for(Gu=0;Gu<zf;++Gu)Sa[Uf[Gu]]=Z(iu,3);var lh=void 0,zd=void 0,dc=jm,km=Sa,ch=Wu,Fm=Wn,Om=0,ou=dc.m,Wg=8,Yg=i(128,R);n:for(;Q(Yg,0,7,km,19);){if(Z(ou,1)){var Zv=2+2*Z(ou,3);if((lh=2+Z(ou,Zv))>ch)break n}else lh=ch;for(zd=0;zd<ch&&lh--;){ue(ou);var Xg=Yg[0+(127&V(ou))];ae(ou,ou.u+Xg.g);var Xu=Xg.value;if(16>Xu)Fm[zd++]=Xu,Xu!=0&&(Wg=Xu);else{var e1=Xu==16,t1=Xu-16,r1=ah[t1],Jg=Z(ou,Uo[t1])+r1;if(zd+Jg>ch)break n;for(var n1=e1?Wg:0;0<Jg--;)Fm[zd++]=n1}}Om=1;break n}Om||(dc.a=3),js=Om}(js=js&&!iu.h)&&(_m=Q($g,Vg,8,Wn,Wu)),js&&_m!=0?Yu=_m:(jm.a=3,Yu=0)}if(Yu==0)break r;if(ki&&wm[Sr]==1&&(ki=gr[Ur].g==0),Vo+=gr[Ur].g,Ur+=Yu,3>=Sr){var Kd,Dm=Na[0];for(Kd=1;Kd<es;++Kd)Na[Kd]>Dm&&(Dm=Na[Kd]);rs+=Dm}}if(yr.nd=ki,yr.Qb=0,ki&&(yr.qb=(dn[3][Wi[3]+0].value<<24|dn[1][Wi[1]+0].value<<16|dn[2][Wi[2]+0].value)>>>0,Vo==0&&256>dn[0][Wi[0]+0].value&&(yr.Qb=1,yr.qb+=dn[0][Wi[0]+0].value<<8)),yr.jc=!yr.Qb&&6>rs,yr.jc){var Kf,Ac=yr;for(Kf=0;Kf<Uu;++Kf){var lu=Kf,cu=Ac.pd[lu],Pm=Ac.G[0][Ac.H[0]+lu];256<=Pm.value?(cu.g=Pm.g+256,cu.value=Pm.value):(cu.g=0,cu.value=0,lu>>=wa(Pm,8,cu),lu>>=wa(Ac.G[1][Ac.H[1]+lu],16,cu),lu>>=wa(Ac.G[2][Ac.H[2]+lu],0,cu),wa(Ac.G[3][Ac.H[3]+lu],24,cu))}}}Za.vc=Kr,Za.Wb=cn,Za.Ya=ci,Za.yc=ts,Lt=1;break t}Lt=0}if(!(oe=Lt)){q.a=3;break e}if(0<Ve){if(be.ua=1<<Ve,!J(be.Wa,Ve)){q.a=1,oe=0;break e}}else be.ua=0;var Im=q,$d=le,a1=de,uh=Im.s,dh=uh.xc;if(Im.c=$d,Im.i=a1,uh.md=it($d,dh),uh.wc=dh==0?-1:(1<<dh)-1,U){q.xb=zu;break e}if((Fe=s(le*de))==null){q.a=1,oe=0;break e}oe=(oe=He(q,Fe,0,le,de,de,null))&&!me.h;break e}return oe?(ne!=null?ne[0]=Fe:(e(Fe==null),e(U)),q.$=0,U||nt(be)):nt(be),oe}function qe(N,T){var U=N.c*N.i,q=U+T+16*T;return e(N.c<=T),N.V=s(q),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+U+T,1)}function Nt(N,T){var U=N.C,q=T-U,ne=N.V,oe=N.Ba+N.c*U;for(e(T<=N.l.o);0<q;){var le=16<q?16:q,de=N.l.ma,me=N.l.width,be=me*le,Fe=de.ca,Ve=de.tb+me*U,ve=N.Ta,Pe=N.Ua;we(N,le,ne,oe),xo(ve,Pe,Fe,Ve,be),xe(de,U,U+le,Fe,Ve,me),q-=le,ne+=le*N.c,U+=le}e(U==T),N.C=N.Ma=T}function kt(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Dt(){this.Yb=(function(){var N=[];return(function T(U,q,ne){for(var oe=ne[q],le=0;le<oe&&(U.push(ne.length>q+1?[]:0),!(ne.length<q+1));le++)T(U[le],q+1,ne)})(N,0,[3,11]),N})()}function Gt(){this.jb=s(3),this.Wc=l([4,8],Dt),this.Xc=l([4,17],Dt)}function Cn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function qr(){this.ld=this.La=this.dd=this.tc=0}function Tn(){this.Na=this.la=0}function Si(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new qr),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new Uc}function ho(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Pu(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new kt,this.Kc=new Mt,this.ed=new Cn,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,O),this.ia=0,this.pb=i(4,Si),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ho),this.Hd=0,this.rb=Array(new Tn),this.sb=0,this.wa=Array(new qr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=l([4,2],qr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Aa(N,T){return 0>N?0:N>T?T:N}function Uc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pl(){var N=new Pu;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,yo||(yo=Iu)),N}function hn(N,T,U){return N.a==0&&(N.a=T,N.sc=U,N.cb=0),0}function vf(N,T,U){return 3<=U&&N[T+0]==157&&N[T+1]==1&&N[T+2]==42}function Zl(N,T){if(N==null)return 0;if(N.a=0,N.sc="OK",T==null)return hn(N,2,"null VP8Io passed to VP8GetHeaders()");var U=T.data,q=T.w,ne=T.ha;if(4>ne)return hn(N,7,"Truncated header.");var oe=U[q+0]|U[q+1]<<8|U[q+2]<<16,le=N.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return hn(N,3,"Incorrect keyframe parameters.");if(!le.yd)return hn(N,4,"Frame not displayable.");q+=3,ne-=3;var de=N.Kc;if(le.Rb){if(7>ne)return hn(N,7,"cannot parse picture header");if(!vf(U,q,ne))return hn(N,3,"Bad code word");de.c=16383&(U[q+4]<<8|U[q+3]),de.Td=U[q+4]>>6,de.i=16383&(U[q+6]<<8|U[q+5]),de.Ud=U[q+6]>>6,q+=7,ne-=7,N.za=de.c+15>>4,N.Ub=de.i+15>>4,T.width=de.c,T.height=de.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((oe=N.Pa).jb,0,255,oe.jb.length),e((oe=N.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(le.ub>ne)return hn(N,7,"bad partition length");Y(oe=N.m,U,q,le.ub),q+=le.ub,ne-=le.ub,le.Rb&&(de.Ld=te(oe),de.Kd=te(oe)),de=N.Qa;var me,be=N.Pa;if(e(oe!=null),e(de!=null),de.Cb=te(oe),de.Cb){if(de.Bb=te(oe),te(oe)){for(de.Fb=te(oe),me=0;4>me;++me)de.Zb[me]=te(oe)?X(oe,7):0;for(me=0;4>me;++me)de.Lb[me]=te(oe)?X(oe,6):0}if(de.Bb)for(me=0;3>me;++me)be.jb[me]=te(oe)?se(oe,8):255}else de.Bb=0;if(oe.Ka)return hn(N,3,"cannot parse segment header");if((de=N.ed).zd=te(oe),de.Tb=se(oe,6),de.wb=se(oe,3),de.Pc=te(oe),de.Pc&&te(oe)){for(be=0;4>be;++be)te(oe)&&(de.vd[be]=X(oe,6));for(be=0;4>be;++be)te(oe)&&(de.od[be]=X(oe,6))}if(N.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return hn(N,3,"cannot parse filter header");var Fe=ne;if(ne=me=q,q=me+Fe,de=Fe,N.Xb=(1<<se(N.m,2))-1,Fe<3*(be=N.Xb))U=7;else{for(me+=3*be,de-=3*be,Fe=0;Fe<be;++Fe){var Ve=U[ne+0]|U[ne+1]<<8|U[ne+2]<<16;Ve>de&&(Ve=de),Y(N.Jc[+Fe],U,me,Ve),me+=Ve,de-=Ve,ne+=3}Y(N.Jc[+be],U,me,de),U=me<q?0:5}if(U!=0)return hn(N,U,"cannot parse partitions");for(U=se(me=N.m,7),ne=te(me)?X(me,4):0,q=te(me)?X(me,4):0,de=te(me)?X(me,4):0,be=te(me)?X(me,4):0,me=te(me)?X(me,4):0,Fe=N.Qa,Ve=0;4>Ve;++Ve){if(Fe.Cb){var ve=Fe.Zb[Ve];Fe.Fb||(ve+=U)}else{if(0<Ve){N.pb[Ve]=N.pb[0];continue}ve=U}var Pe=N.pb[Ve];Pe.Sc[0]=zo[Aa(ve+ne,127)],Pe.Sc[1]=Ko[Aa(ve+0,127)],Pe.Eb[0]=2*zo[Aa(ve+q,127)],Pe.Eb[1]=101581*Ko[Aa(ve+de,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=zo[Aa(ve+be,117)],Pe.Qc[1]=Ko[Aa(ve+me,127)],Pe.lc=ve+me}if(!le.Rb)return hn(N,4,"Not a key frame.");for(te(oe),le=N.Pa,U=0;4>U;++U){for(ne=0;8>ne;++ne)for(q=0;3>q;++q)for(de=0;11>de;++de)be=pe(oe,na[U][ne][q][de])?se(oe,8):Xv[U][ne][q][de],le.Wc[U][ne].Yb[q][de]=be;for(ne=0;17>ne;++ne)le.Xc[U][ne]=le.Wc[U][Xr[ne]]}return N.kc=te(oe),N.kc&&(N.Bd=se(oe,8)),N.cb=1}function Iu(N,T,U,q,ne,oe,le){var de=T[ne].Yb[U];for(U=0;16>ne;++ne){if(!pe(N,de[U+0]))return ne;for(;!pe(N,de[U+1]);)if(de=T[++ne].Yb[0],U=0,ne==16)return 16;var me=T[ne+1].Yb;if(pe(N,de[U+2])){var be=N,Fe=0;if(pe(be,(ve=de)[(Ve=U)+3]))if(pe(be,ve[Ve+6])){for(de=0,Ve=2*(Fe=pe(be,ve[Ve+8]))+(ve=pe(be,ve[Ve+9+Fe])),Fe=0,ve=Yv[Ve];ve[de];++de)Fe+=Fe+pe(be,ve[de]);Fe+=3+(8<<Ve)}else pe(be,ve[Ve+7])?(Fe=7+2*pe(be,165),Fe+=pe(be,145)):Fe=5+pe(be,159);else Fe=pe(be,ve[Ve+4])?3+pe(be,ve[Ve+5]):2;de=me[2]}else Fe=1,de=me[1];me=le+Hg[ne],0>(be=N).b&&Se(be);var Ve,ve=be.b,Pe=(Ve=be.Ca>>1)-(be.I>>ve)>>31;--be.b,be.Ca+=Pe,be.Ca|=1,be.I-=(Ve+1&Pe)<<ve,oe[me]=((Fe^Pe)-Pe)*q[(0<ne)+0]}return 16}function bf(N){var T=N.rb[N.sb-1];T.la=0,T.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function Bi(N,T,U,q,ne){ne=N[T+U+32*q]+(ne>>3),N[T+U+32*q]=-256&ne?0>ne?0:255:ne}function cs(N,T,U,q,ne,oe){Bi(N,T,0,U,q+ne),Bi(N,T,1,U,q+oe),Bi(N,T,2,U,q-oe),Bi(N,T,3,U,q-ne)}function Ya(N){return(20091*N>>16)+N}function $A(N,T,U,q){var ne,oe=0,le=s(16);for(ne=0;4>ne;++ne){var de=N[T+0]+N[T+8],me=N[T+0]-N[T+8],be=(35468*N[T+4]>>16)-Ya(N[T+12]),Fe=Ya(N[T+4])+(35468*N[T+12]>>16);le[oe+0]=de+Fe,le[oe+1]=me+be,le[oe+2]=me-be,le[oe+3]=de-Fe,oe+=4,T++}for(ne=oe=0;4>ne;++ne)de=(N=le[oe+0]+4)+le[oe+8],me=N-le[oe+8],be=(35468*le[oe+4]>>16)-Ya(le[oe+12]),Bi(U,q,0,0,de+(Fe=Ya(le[oe+4])+(35468*le[oe+12]>>16))),Bi(U,q,1,0,me+be),Bi(U,q,2,0,me-be),Bi(U,q,3,0,de-Fe),oe++,q+=32}function im(N,T,U,q){var ne=N[T+0]+4,oe=35468*N[T+4]>>16,le=Ya(N[T+4]),de=35468*N[T+1]>>16;cs(U,q,0,ne+le,N=Ya(N[T+1]),de),cs(U,q,1,ne+oe,N,de),cs(U,q,2,ne-oe,N,de),cs(U,q,3,ne-le,N,de)}function wf(N,T,U,q,ne){$A(N,T,U,q),ne&&$A(N,T+16,U,q+4)}function Ei(N,T,U,q){nu(N,T+0,U,q,1),nu(N,T+32,U,q+128,1)}function Cf(N,T,U,q){var ne;for(N=N[T+0]+4,ne=0;4>ne;++ne)for(T=0;4>T;++T)Bi(U,q,T,ne,N)}function Nf(N,T,U,q){N[T+0]&&fn(N,T+0,U,q),N[T+16]&&fn(N,T+16,U,q+4),N[T+32]&&fn(N,T+32,U,q+128),N[T+48]&&fn(N,T+48,U,q+128+4)}function gl(N,T,U,q){var ne,oe=s(16);for(ne=0;4>ne;++ne){var le=N[T+0+ne]+N[T+12+ne],de=N[T+4+ne]+N[T+8+ne],me=N[T+4+ne]-N[T+8+ne],be=N[T+0+ne]-N[T+12+ne];oe[0+ne]=le+de,oe[8+ne]=le-de,oe[4+ne]=be+me,oe[12+ne]=be-me}for(ne=0;4>ne;++ne)le=(N=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],me=oe[1+4*ne]-oe[2+4*ne],be=N-oe[3+4*ne],U[q+0]=le+de>>3,U[q+16]=be+me>>3,U[q+32]=le-de>>3,U[q+48]=be-me>>3,q+=64}function _d(N,T,U){var q,ne=T-32,oe=ii,le=255-N[ne-1];for(q=0;q<U;++q){var de,me=oe,be=le+N[T-1];for(de=0;de<U;++de)N[T+de]=me[be+N[ne+de]];T+=32}}function om(N,T){_d(N,T,4)}function lm(N,T){_d(N,T,8)}function Sf(N,T){_d(N,T,16)}function Bf(N,T){var U;for(U=0;16>U;++U)n(N,T+32*U,N,T-32,16)}function cm(N,T){var U;for(U=16;0<U;--U)a(N,T,N[T-1],16),T+=32}function qi(N,T,U){var q;for(q=0;16>q;++q)a(T,U+32*q,N,16)}function xl(N,T){var U,q=16;for(U=0;16>U;++U)q+=N[T-1+32*U]+N[T+U-32];qi(q>>5,N,T)}function Qc(N,T){var U,q=8;for(U=0;16>U;++U)q+=N[T-1+32*U];qi(q>>4,N,T)}function Td(N,T){var U,q=8;for(U=0;16>U;++U)q+=N[T+U-32];qi(q>>4,N,T)}function Lu(N,T){qi(128,N,T)}function Nr(N,T,U){return N+2*T+U+2>>2}function um(N,T){var U,q=T-32;for(q=new Uint8Array([Nr(N[q-1],N[q+0],N[q+1]),Nr(N[q+0],N[q+1],N[q+2]),Nr(N[q+1],N[q+2],N[q+3]),Nr(N[q+2],N[q+3],N[q+4])]),U=0;4>U;++U)n(N,T+32*U,q,0,q.length)}function Ef(N,T){var U=N[T-1],q=N[T-1+32],ne=N[T-1+64],oe=N[T-1+96];ke(N,T+0,16843009*Nr(N[T-1-32],U,q)),ke(N,T+32,16843009*Nr(U,q,ne)),ke(N,T+64,16843009*Nr(q,ne,oe)),ke(N,T+96,16843009*Nr(ne,oe,oe))}function dm(N,T){var U,q=4;for(U=0;4>U;++U)q+=N[T+U-32]+N[T-1+32*U];for(q>>=3,U=0;4>U;++U)a(N,T+32*U,q,4)}function fo(N,T){var U=N[T-1+0],q=N[T-1+32],ne=N[T-1+64],oe=N[T-1-32],le=N[T+0-32],de=N[T+1-32],me=N[T+2-32],be=N[T+3-32];N[T+0+96]=Nr(q,ne,N[T-1+96]),N[T+1+96]=N[T+0+64]=Nr(U,q,ne),N[T+2+96]=N[T+1+64]=N[T+0+32]=Nr(oe,U,q),N[T+3+96]=N[T+2+64]=N[T+1+32]=N[T+0+0]=Nr(le,oe,U),N[T+3+64]=N[T+2+32]=N[T+1+0]=Nr(de,le,oe),N[T+3+32]=N[T+2+0]=Nr(me,de,le),N[T+3+0]=Nr(be,me,de)}function Us(N,T){var U=N[T+1-32],q=N[T+2-32],ne=N[T+3-32],oe=N[T+4-32],le=N[T+5-32],de=N[T+6-32],me=N[T+7-32];N[T+0+0]=Nr(N[T+0-32],U,q),N[T+1+0]=N[T+0+32]=Nr(U,q,ne),N[T+2+0]=N[T+1+32]=N[T+0+64]=Nr(q,ne,oe),N[T+3+0]=N[T+2+32]=N[T+1+64]=N[T+0+96]=Nr(ne,oe,le),N[T+3+32]=N[T+2+64]=N[T+1+96]=Nr(oe,le,de),N[T+3+64]=N[T+2+96]=Nr(le,de,me),N[T+3+96]=Nr(de,me,me)}function jf(N,T){var U=N[T-1+0],q=N[T-1+32],ne=N[T-1+64],oe=N[T-1-32],le=N[T+0-32],de=N[T+1-32],me=N[T+2-32],be=N[T+3-32];N[T+0+0]=N[T+1+64]=oe+le+1>>1,N[T+1+0]=N[T+2+64]=le+de+1>>1,N[T+2+0]=N[T+3+64]=de+me+1>>1,N[T+3+0]=me+be+1>>1,N[T+0+96]=Nr(ne,q,U),N[T+0+64]=Nr(q,U,oe),N[T+0+32]=N[T+1+96]=Nr(U,oe,le),N[T+1+32]=N[T+2+96]=Nr(oe,le,de),N[T+2+32]=N[T+3+96]=Nr(le,de,me),N[T+3+32]=Nr(de,me,be)}function kd(N,T){var U=N[T+0-32],q=N[T+1-32],ne=N[T+2-32],oe=N[T+3-32],le=N[T+4-32],de=N[T+5-32],me=N[T+6-32],be=N[T+7-32];N[T+0+0]=U+q+1>>1,N[T+1+0]=N[T+0+64]=q+ne+1>>1,N[T+2+0]=N[T+1+64]=ne+oe+1>>1,N[T+3+0]=N[T+2+64]=oe+le+1>>1,N[T+0+32]=Nr(U,q,ne),N[T+1+32]=N[T+0+96]=Nr(q,ne,oe),N[T+2+32]=N[T+1+96]=Nr(ne,oe,le),N[T+3+32]=N[T+2+96]=Nr(oe,le,de),N[T+3+64]=Nr(le,de,me),N[T+3+96]=Nr(de,me,be)}function mo(N,T){var U=N[T-1+0],q=N[T-1+32],ne=N[T-1+64],oe=N[T-1+96];N[T+0+0]=U+q+1>>1,N[T+2+0]=N[T+0+32]=q+ne+1>>1,N[T+2+32]=N[T+0+64]=ne+oe+1>>1,N[T+1+0]=Nr(U,q,ne),N[T+3+0]=N[T+1+32]=Nr(q,ne,oe),N[T+3+32]=N[T+1+64]=Nr(ne,oe,oe),N[T+3+64]=N[T+2+64]=N[T+0+96]=N[T+1+96]=N[T+2+96]=N[T+3+96]=oe}function Fd(N,T){var U=N[T-1+0],q=N[T-1+32],ne=N[T-1+64],oe=N[T-1+96],le=N[T-1-32],de=N[T+0-32],me=N[T+1-32],be=N[T+2-32];N[T+0+0]=N[T+2+32]=U+le+1>>1,N[T+0+32]=N[T+2+64]=q+U+1>>1,N[T+0+64]=N[T+2+96]=ne+q+1>>1,N[T+0+96]=oe+ne+1>>1,N[T+3+0]=Nr(de,me,be),N[T+2+0]=Nr(le,de,me),N[T+1+0]=N[T+3+32]=Nr(U,le,de),N[T+1+32]=N[T+3+64]=Nr(q,U,le),N[T+1+64]=N[T+3+96]=Nr(ne,q,U),N[T+1+96]=Nr(oe,ne,q)}function ec(N,T){var U;for(U=0;8>U;++U)n(N,T+32*U,N,T-32,8)}function Am(N,T){var U;for(U=0;8>U;++U)a(N,T,N[T-1],8),T+=32}function Po(N,T,U){var q;for(q=0;8>q;++q)a(T,U+32*q,N,8)}function VA(N,T){var U,q=8;for(U=0;8>U;++U)q+=N[T+U-32]+N[T-1+32*U];Po(q>>4,N,T)}function qA(N,T){var U,q=4;for(U=0;8>U;++U)q+=N[T+U-32];Po(q>>3,N,T)}function Bs(N,T){var U,q=4;for(U=0;8>U;++U)q+=N[T-1+32*U];Po(q>>3,N,T)}function tc(N,T){Po(128,N,T)}function Io(N,T,U){var q=N[T-U],ne=N[T+0],oe=3*(ne-q)+au[1020+N[T-2*U]-N[T+U]],le=Lf[112+(oe+4>>3)];N[T-U]=ii[255+q+Lf[112+(oe+3>>3)]],N[T+0]=ii[255+ne-le]}function Hc(N,T,U,q){var ne=N[T+0],oe=N[T+U];return zs[255+N[T-2*U]-N[T-U]]>q||zs[255+oe-ne]>q}function GA(N,T,U,q){return 4*zs[255+N[T-U]-N[T+0]]+zs[255+N[T-2*U]-N[T+U]]<=q}function Od(N,T,U,q,ne){var oe=N[T-3*U],le=N[T-2*U],de=N[T-U],me=N[T+0],be=N[T+U],Fe=N[T+2*U],Ve=N[T+3*U];return 4*zs[255+de-me]+zs[255+le-be]>q?0:zs[255+N[T-4*U]-oe]<=ne&&zs[255+oe-le]<=ne&&zs[255+le-de]<=ne&&zs[255+Ve-Fe]<=ne&&zs[255+Fe-be]<=ne&&zs[255+be-me]<=ne}function zc(N,T,U,q){var ne=2*q+1;for(q=0;16>q;++q)GA(N,T+q,U,ne)&&Io(N,T+q,U)}function Kc(N,T,U,q){var ne=2*q+1;for(q=0;16>q;++q)GA(N,T+q*U,1,ne)&&Io(N,T+q*U,1)}function Dd(N,T,U,q){var ne;for(ne=3;0<ne;--ne)zc(N,T+=4*U,U,q)}function _f(N,T,U,q){var ne;for(ne=3;0<ne;--ne)Kc(N,T+=4,U,q)}function $c(N,T,U,q,ne,oe,le,de){for(oe=2*oe+1;0<ne--;){if(Od(N,T,U,oe,le))if(Hc(N,T,U,de))Io(N,T,U);else{var me=N,be=T,Fe=U,Ve=me[be-2*Fe],ve=me[be-Fe],Pe=me[be+0],Qe=me[be+Fe],ct=me[be+2*Fe],ze=27*(ht=au[1020+3*(Pe-ve)+au[1020+Ve-Qe]])+63>>7,ot=18*ht+63>>7,ht=9*ht+63>>7;me[be-3*Fe]=ii[255+me[be-3*Fe]+ht],me[be-2*Fe]=ii[255+Ve+ot],me[be-Fe]=ii[255+ve+ze],me[be+0]=ii[255+Pe-ze],me[be+Fe]=ii[255+Qe-ot],me[be+2*Fe]=ii[255+ct-ht]}T+=q}}function Vc(N,T,U,q,ne,oe,le,de){for(oe=2*oe+1;0<ne--;){if(Od(N,T,U,oe,le))if(Hc(N,T,U,de))Io(N,T,U);else{var me=N,be=T,Fe=U,Ve=me[be-Fe],ve=me[be+0],Pe=me[be+Fe],Qe=Lf[112+(4+(ct=3*(ve-Ve))>>3)],ct=Lf[112+(ct+3>>3)],ze=Qe+1>>1;me[be-2*Fe]=ii[255+me[be-2*Fe]+ze],me[be-Fe]=ii[255+Ve+ct],me[be+0]=ii[255+ve-Qe],me[be+Fe]=ii[255+Pe-ze]}T+=q}}function hm(N,T,U,q,ne,oe){$c(N,T,U,1,16,q,ne,oe)}function qc(N,T,U,q,ne,oe){$c(N,T,1,U,16,q,ne,oe)}function fm(N,T,U,q,ne,oe){var le;for(le=3;0<le;--le)Vc(N,T+=4*U,U,1,16,q,ne,oe)}function M(N,T,U,q,ne,oe){var le;for(le=3;0<le;--le)Vc(N,T+=4,1,U,16,q,ne,oe)}function re(N,T,U,q,ne,oe,le,de){$c(N,T,ne,1,8,oe,le,de),$c(U,q,ne,1,8,oe,le,de)}function Ce(N,T,U,q,ne,oe,le,de){$c(N,T,1,ne,8,oe,le,de),$c(U,q,1,ne,8,oe,le,de)}function Te(N,T,U,q,ne,oe,le,de){Vc(N,T+4*ne,ne,1,8,oe,le,de),Vc(U,q+4*ne,ne,1,8,oe,le,de)}function Me(N,T,U,q,ne,oe,le,de){Vc(N,T+4,1,ne,8,oe,le,de),Vc(U,q+4,1,ne,8,oe,le,de)}function At(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function er(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ur(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new R}function jr(){this.xb=this.a=0,this.l=new Uc,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ur,this.ab=0,this.gc=i(4,er),this.Oc=0}function Or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Uc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(N,T,U,q,ne,oe,le){for(N=N==null?0:N[T+0],T=0;T<le;++T)ne[oe+T]=N+U[q+T]&255,N=ne[oe+T]}function ha(N,T,U,q,ne,oe,le){var de;if(N==null)an(null,null,U,q,ne,oe,le);else for(de=0;de<le;++de)ne[oe+de]=N[T+de]+U[q+de]&255}function Ia(N,T,U,q,ne,oe,le){if(N==null)an(null,null,U,q,ne,oe,le);else{var de,me=N[T+0],be=me,Fe=me;for(de=0;de<le;++de)be=Fe+(me=N[T+de])-be,Fe=U[q+de]+(-256&be?0>be?0:255:be)&255,be=me,ne[oe+de]=Fe}}function Vn(N,T,U,q){var ne=T.width,oe=T.o;if(e(N!=null&&T!=null),0>U||0>=q||U+q>oe)return null;if(!N.Cc){if(N.ga==null){var le;if(N.ga=new Or,(le=N.ga==null)||(le=T.width*T.o,e(N.Gb.length==0),N.Gb=s(le),N.Uc=0,N.Gb==null?le=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,le=1),le=!le),!le){le=N.ga;var de=N.Fa,me=N.P,be=N.qc,Fe=N.mb,Ve=N.nb,ve=me+1,Pe=be-1,Qe=le.l;if(e(de!=null&&Fe!=null&&T!=null),su[0]=null,su[1]=an,su[2]=ha,su[3]=Ia,le.ca=Fe,le.tb=Ve,le.c=T.width,le.i=T.height,e(0<le.c&&0<le.i),1>=be)T=0;else if(le.$a=3&de[me+0],le.Z=de[me+0]>>2&3,le.Lc=de[me+0]>>4&3,me=de[me+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||me)T=0;else if(Qe.put=Ar,Qe.ac=Ga,Qe.bc=ba,Qe.ma=le,Qe.width=T.width,Qe.height=T.height,Qe.Da=T.Da,Qe.v=T.v,Qe.va=T.va,Qe.j=T.j,Qe.o=T.o,le.$a)e:{e(le.$a==1),T=Ke();t:for(;;){if(T==null){T=0;break e}if(e(le!=null),le.mc=T,T.c=le.c,T.i=le.i,T.l=le.l,T.l.ma=le,T.l.width=le.c,T.l.height=le.i,T.a=0,Ae(T.m,de,ve,Pe),!$e(le.c,le.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&fe(T.s)?(le.ic=1,de=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(de),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(le.ic=0,T=qe(T,le.c)),!T))break t;T=1;break e}le.mc=null,T=0}else T=Pe>=le.c*le.i;le=!T}if(le)return null;N.ga.Lc!=1?N.Ga=0:q=oe-U}e(N.ga!=null),e(U+q<=oe);e:{if(T=(de=N.ga).c,oe=de.l.o,de.$a==0){if(ve=N.rc,Pe=N.Vc,Qe=N.Fa,me=N.P+1+U*T,be=N.mb,Fe=N.nb+U*T,e(me<=N.P+N.qc),de.Z!=0)for(e(su[de.Z]!=null),le=0;le<q;++le)su[de.Z](ve,Pe,Qe,me,be,Fe,T),ve=be,Pe=Fe,Fe+=T,me+=T;else for(le=0;le<q;++le)n(be,Fe,Qe,me,T),ve=be,Pe=Fe,Fe+=T,me+=T;N.rc=ve,N.Vc=Pe}else{if(e(de.mc!=null),T=U+q,e((le=de.mc)!=null),e(T<=le.i),le.C>=T)T=1;else if(de.ic||yl(),de.ic){de=le.V,ve=le.Ba,Pe=le.c;var ct=le.i,ze=(Qe=1,me=le.$/Pe,be=le.$%Pe,Fe=le.m,Ve=le.s,le.$),ot=Pe*ct,ht=Pe*T,jt=Ve.wc,xt=ze<ht?ie(Ve,be,me):null;e(ze<=ot),e(T<=ct),e(fe(Ve));t:for(;;){for(;!Fe.h&&ze<ht;){if(be&jt||(xt=ie(Ve,be,me)),e(xt!=null),ue(Fe),256>(ct=_n(xt.G[0],xt.H[0],Fe)))de[ve+ze]=ct,++ze,++be>=Pe&&(be=0,++me<=T&&!(me%16)&&Ne(le,me));else{if(!(280>ct)){Qe=0;break t}ct=ca(ct-256,Fe);var ar,$t=_n(xt.G[4],xt.H[4],Fe);if(ue(Fe),!(ze>=($t=Ss(Pe,$t=ca($t,Fe)))&&ot-ze>=ct)){Qe=0;break t}for(ar=0;ar<ct;++ar)de[ve+ze+ar]=de[ve+ze+ar-$t];for(ze+=ct,be+=ct;be>=Pe;)be-=Pe,++me<=T&&!(me%16)&&Ne(le,me);ze<ht&&be&jt&&(xt=ie(Ve,be,me))}e(Fe.h==G(Fe))}Ne(le,me>T?T:me);break t}!Qe||Fe.h&&ze<ot?(Qe=0,le.a=Fe.h?5:3):le.$=ze,T=Qe}else T=He(le,le.V,le.Ba,le.c,le.i,T,Nt);if(!T){q=0;break e}}U+q>=oe&&(N.Cc=1),q=1}if(!q)return null;if(N.Cc&&((q=N.ga)!=null&&(q.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+U*ne}function us(N,T,U,q,ne,oe){for(;0<ne--;){var le,de=N,me=T+(U?1:0),be=N,Fe=T+(U?0:3);for(le=0;le<q;++le){var Ve=be[Fe+4*le];Ve!=255&&(Ve*=32897,de[me+4*le+0]=de[me+4*le+0]*Ve>>23,de[me+4*le+1]=de[me+4*le+1]*Ve>>23,de[me+4*le+2]=de[me+4*le+2]*Ve>>23)}T+=oe}}function Xa(N,T,U,q,ne){for(;0<q--;){var oe;for(oe=0;oe<U;++oe){var le=N[T+2*oe+0],de=15&(be=N[T+2*oe+1]),me=4369*de,be=(240&be|be>>4)*me>>16;N[T+2*oe+0]=(240&le|le>>4)*me>>16&240|(15&le|le<<4)*me>>16>>4&15,N[T+2*oe+1]=240&be|de}T+=ne}}function Qs(N,T,U,q,ne,oe,le,de){var me,be,Fe=255;for(be=0;be<ne;++be){for(me=0;me<q;++me){var Ve=N[T+me];oe[le+4*me]=Ve,Fe&=Ve}T+=U,le+=de}return Fe!=255}function Gc(N,T,U,q,ne){var oe;for(oe=0;oe<ne;++oe)U[q+oe]=N[T+oe]>>8}function yl(){Md=us,Mo=Xa,Df=Qs,xo=Gc}function Wc(N,T,U){k[N]=function(q,ne,oe,le,de,me,be,Fe,Ve,ve,Pe,Qe,ct,ze,ot,ht,jt){var xt,ar=jt-1>>1,$t=de[me+0]|be[Fe+0]<<16,Tr=Ve[ve+0]|Pe[Qe+0]<<16;e(q!=null);var Wt=3*$t+Tr+131074>>2;for(T(q[ne+0],255&Wt,Wt>>16,ct,ze),oe!=null&&(Wt=3*Tr+$t+131074>>2,T(oe[le+0],255&Wt,Wt>>16,ot,ht)),xt=1;xt<=ar;++xt){var Wr=de[me+xt]|be[Fe+xt]<<16,aa=Ve[ve+xt]|Pe[Qe+xt]<<16,Dr=$t+Wr+Tr+aa+524296,Vt=Dr+2*(Wr+Tr)>>3;Wt=Vt+$t>>1,$t=(Dr=Dr+2*($t+aa)>>3)+Wr>>1,T(q[ne+2*xt-1],255&Wt,Wt>>16,ct,ze+(2*xt-1)*U),T(q[ne+2*xt-0],255&$t,$t>>16,ct,ze+(2*xt-0)*U),oe!=null&&(Wt=Dr+Tr>>1,$t=Vt+aa>>1,T(oe[le+2*xt-1],255&Wt,Wt>>16,ot,ht+(2*xt-1)*U),T(oe[le+2*xt+0],255&$t,$t>>16,ot,ht+(2*xt+0)*U)),$t=Wr,Tr=aa}1&jt||(Wt=3*$t+Tr+131074>>2,T(q[ne+jt-1],255&Wt,Wt>>16,ct,ze+(jt-1)*U),oe!=null&&(Wt=3*Tr+$t+131074>>2,T(oe[le+jt-1],255&Wt,Wt>>16,ot,ht+(jt-1)*U)))}}function Tf(){$s[xm]=Qd,$s[oi]=sh,$s[ym]=Kg,$s[Ro]=Nm,$s[Mf]=Ku,$s[rh]=uc,$s[Qu]=$u,$s[Rf]=sh,$s[vm]=Nm,$s[nh]=Ku,$s[bm]=uc}function WA(N){return N&-16384?0>N?0:255:N>>Sm}function rc(N,T){return WA((19077*N>>8)+(26149*T>>8)-14234)}function vl(N,T,U){return WA((19077*N>>8)-(6419*T>>8)-(13320*U>>8)+8708)}function Pd(N,T){return WA((19077*N>>8)+(33050*T>>8)-17685)}function Yc(N,T,U,q,ne){q[ne+0]=rc(N,U),q[ne+1]=vl(N,T,U),q[ne+2]=Pd(N,T)}function Es(N,T,U,q,ne){q[ne+0]=Pd(N,T),q[ne+1]=vl(N,T,U),q[ne+2]=rc(N,U)}function Mu(N,T,U,q,ne){var oe=vl(N,T,U);T=oe<<3&224|Pd(N,T)>>3,q[ne+0]=248&rc(N,U)|oe>>5,q[ne+1]=T}function Ru(N,T,U,q,ne){var oe=240&Pd(N,T)|15;q[ne+0]=240&rc(N,U)|vl(N,T,U)>>4,q[ne+1]=oe}function YA(N,T,U,q,ne){q[ne+0]=255,Yc(N,T,U,q,ne+1)}function nc(N,T,U,q,ne){Es(N,T,U,q,ne),q[ne+3]=255}function ji(N,T,U,q,ne){Yc(N,T,U,q,ne),q[ne+3]=255}function Xc(N,T,U){k[N]=function(q,ne,oe,le,de,me,be,Fe,Ve){for(var ve=Fe+(-2&Ve)*U;Fe!=ve;)T(q[ne+0],oe[le+0],de[me+0],be,Fe),T(q[ne+1],oe[le+0],de[me+0],be,Fe+U),ne+=2,++le,++me,Fe+=2*U;1&Ve&&T(q[ne+0],oe[le+0],de[me+0],be,Fe)}}function XA(N,T,U){return U==0?N==0?T==0?6:5:T==0?4:0:U}function kf(N,T,U,q,ne){switch(N>>>30){case 3:nu(T,U,q,ne,0);break;case 2:si(T,U,q,ne);break;case 1:fn(T,U,q,ne)}}function po(N,T){var U,q,ne=T.M,oe=T.Nb,le=N.oc,de=N.pc+40,me=N.oc,be=N.pc+584,Fe=N.oc,Ve=N.pc+600;for(U=0;16>U;++U)le[de+32*U-1]=129;for(U=0;8>U;++U)me[be+32*U-1]=129,Fe[Ve+32*U-1]=129;for(0<ne?le[de-1-32]=me[be-1-32]=Fe[Ve-1-32]=129:(a(le,de-32-1,127,21),a(me,be-32-1,127,9),a(Fe,Ve-32-1,127,9)),q=0;q<N.za;++q){var ve=T.ya[T.aa+q];if(0<q){for(U=-1;16>U;++U)n(le,de+32*U-4,le,de+32*U+12,4);for(U=-1;8>U;++U)n(me,be+32*U-4,me,be+32*U+4,4),n(Fe,Ve+32*U-4,Fe,Ve+32*U+4,4)}var Pe=N.Gd,Qe=N.Hd+q,ct=ve.ad,ze=ve.Hc;if(0<ne&&(n(le,de-32,Pe[Qe].y,0,16),n(me,be-32,Pe[Qe].f,0,8),n(Fe,Ve-32,Pe[Qe].ea,0,8)),ve.Za){var ot=le,ht=de-32+16;for(0<ne&&(q>=N.za-1?a(ot,ht,Pe[Qe].y[15],4):n(ot,ht,Pe[Qe+1].y,0,4)),U=0;4>U;U++)ot[ht+128+U]=ot[ht+256+U]=ot[ht+384+U]=ot[ht+0+U];for(U=0;16>U;++U,ze<<=2)ot=le,ht=de+Ra[U],Ca[ve.Ob[U]](ot,ht),kf(ze,ct,16*+U,ot,ht)}else if(ot=XA(q,ne,ve.Ob[0]),Ti[ot](le,de),ze!=0)for(U=0;16>U;++U,ze<<=2)kf(ze,ct,16*+U,le,de+Ra[U]);for(U=ve.Gc,ot=XA(q,ne,ve.Dd),Nl[ot](me,be),Nl[ot](Fe,Ve),ze=ct,ot=me,ht=be,255&(ve=0|U)&&(170&ve?Lo(ze,256,ot,ht):sn(ze,256,ot,ht)),ve=Fe,ze=Ve,255&(U>>=8)&&(170&U?Lo(ct,320,ve,ze):sn(ct,320,ve,ze)),ne<N.Ub-1&&(n(Pe[Qe].y,0,le,de+480,16),n(Pe[Qe].f,0,me,be+224,8),n(Pe[Qe].ea,0,Fe,Ve+224,8)),U=8*oe*N.B,Pe=N.sa,Qe=N.ta+16*q+16*oe*N.R,ct=N.qa,ve=N.ra+8*q+U,ze=N.Ha,ot=N.Ia+8*q+U,U=0;16>U;++U)n(Pe,Qe+U*N.R,le,de+32*U,16);for(U=0;8>U;++U)n(ct,ve+U*N.B,me,be+32*U,8),n(ze,ot+U*N.B,Fe,Ve+32*U,8)}}function bl(N,T,U,q,ne,oe,le,de,me){var be=[0],Fe=[0],Ve=0,ve=me!=null?me.kd:0,Pe=me??new vt;if(N==null||12>U)return 7;Pe.data=N,Pe.w=T,Pe.ha=U,T=[T],U=[U],Pe.gb=[Pe.gb];e:{var Qe=T,ct=U,ze=Pe.gb;if(e(N!=null),e(ct!=null),e(ze!=null),ze[0]=0,12<=ct[0]&&!t(N,Qe[0],"RIFF")){if(t(N,Qe[0]+8,"WEBP")){ze=3;break e}var ot=je(N,Qe[0]+4);if(12>ot||4294967286<ot){ze=3;break e}if(ve&&ot>ct[0]-8){ze=7;break e}ze[0]=ot,Qe[0]+=12,ct[0]-=12}ze=0}if(ze!=0)return ze;for(ot=0<Pe.gb[0],U=U[0];;){e:{var ht=N;ct=T,ze=U;var jt=be,xt=Fe,ar=Qe=[0];if((Wt=Ve=[Ve])[0]=0,8>ze[0])ze=7;else{if(!t(ht,ct[0],"VP8X")){if(je(ht,ct[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var $t=je(ht,ct[0]+8),Tr=1+Ue(ht,ct[0]+12);if(2147483648<=Tr*(ht=1+Ue(ht,ct[0]+15))){ze=3;break e}ar!=null&&(ar[0]=$t),jt!=null&&(jt[0]=Tr),xt!=null&&(xt[0]=ht),ct[0]+=18,ze[0]-=18,Wt[0]=1}ze=0}}if(Ve=Ve[0],Qe=Qe[0],ze!=0)return ze;if(ct=!!(2&Qe),!ot&&Ve)return 3;if(oe!=null&&(oe[0]=!!(16&Qe)),le!=null&&(le[0]=ct),de!=null&&(de[0]=0),le=be[0],Qe=Fe[0],Ve&&ct&&me==null){ze=0;break}if(4>U){ze=7;break}if(ot&&Ve||!ot&&!Ve&&!t(N,T[0],"ALPH")){U=[U],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{$t=N,ze=T,ot=U;var Wt=Pe.gb;jt=Pe.na,xt=Pe.P,ar=Pe.Sa,Tr=22,e($t!=null),e(ot!=null),ht=ze[0];var Wr=ot[0];for(e(jt!=null),e(ar!=null),jt[0]=null,xt[0]=null,ar[0]=0;;){if(ze[0]=ht,ot[0]=Wr,8>Wr){ze=7;break e}var aa=je($t,ht+4);if(4294967286<aa){ze=3;break e}var Dr=8+aa+1&-2;if(Tr+=Dr,0<Wt&&Tr>Wt){ze=3;break e}if(!t($t,ht,"VP8 ")||!t($t,ht,"VP8L")){ze=0;break e}if(Wr[0]<Dr){ze=7;break e}t($t,ht,"ALPH")||(jt[0]=$t,xt[0]=ht+8,ar[0]=aa),ht+=Dr,Wr-=Dr}}if(U=U[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],ze!=0)break}U=[U],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Wt=N,ze=T,ot=U,jt=Pe.gb[0],xt=Pe.Ja,ar=Pe.xa,$t=ze[0],ht=!t(Wt,$t,"VP8 "),Tr=!t(Wt,$t,"VP8L"),e(Wt!=null),e(ot!=null),e(xt!=null),e(ar!=null),8>ot[0])ze=7;else{if(ht||Tr){if(Wt=je(Wt,$t+4),12<=jt&&Wt>jt-12){ze=3;break e}if(ve&&Wt>ot[0]-8){ze=7;break e}xt[0]=Wt,ze[0]+=8,ot[0]-=8,ar[0]=Tr}else ar[0]=5<=ot[0]&&Wt[$t+0]==47&&!(Wt[$t+4]>>5),xt[0]=ot[0];ze=0}if(U=U[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],T=T[0],ze!=0)break;if(4294967286<Pe.Ja)return 3;if(de==null||ct||(de[0]=Pe.xa?2:1),le=[le],Qe=[Qe],Pe.xa){if(5>U){ze=7;break}de=le,ve=Qe,ct=oe,N==null||5>U?N=0:5<=U&&N[T+0]==47&&!(N[T+4]>>5)?(ot=[0],Wt=[0],jt=[0],Ae(xt=new H,N,T,U),Wa(xt,ot,Wt,jt)?(de!=null&&(de[0]=ot[0]),ve!=null&&(ve[0]=Wt[0]),ct!=null&&(ct[0]=jt[0]),N=1):N=0):N=0}else{if(10>U){ze=7;break}de=Qe,N==null||10>U||!vf(N,T+3,U-3)?N=0:(ve=N[T+0]|N[T+1]<<8|N[T+2]<<16,ct=16383&(N[T+7]<<8|N[T+6]),N=16383&(N[T+9]<<8|N[T+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Pe.Ja||!ct||!N?N=0:(le&&(le[0]=ct),de&&(de[0]=N),N=1))}if(!N||(le=le[0],Qe=Qe[0],Ve&&(be[0]!=le||Fe[0]!=Qe)))return 3;me!=null&&(me[0]=Pe,me.offset=T-me.w,e(4294967286>T-me.w),e(me.offset==me.ha-U));break}return ze==0||ze==7&&Ve&&me==null?(oe!=null&&(oe[0]|=Pe.na!=null&&0<Pe.na.length),q!=null&&(q[0]=le),ne!=null&&(ne[0]=Qe),0):ze}function Jc(N,T,U){var q=T.width,ne=T.height,oe=0,le=0,de=q,me=ne;if(T.Da=N!=null&&0<N.Da,T.Da&&(de=N.cd,me=N.bd,oe=N.v,le=N.j,11>U||(oe&=-2,le&=-2),0>oe||0>le||0>=de||0>=me||oe+de>q||le+me>ne))return 0;if(T.v=oe,T.j=le,T.va=oe+de,T.o=le+me,T.U=de,T.T=me,T.da=N!=null&&0<N.da,T.da){if(!Bt(de,me,U=[N.ib],oe=[N.hb]))return 0;T.ib=U[0],T.hb=oe[0]}return T.ob=N!=null&&N.ob,T.Kb=N==null||!N.Sd,T.da&&(T.ob=T.ib<3*q/4&&T.hb<3*ne/4,T.Kb=0),1}function Ff(N){if(N==null)return 2;if(11>N.S){var T=N.f.RGBA;T.fb+=(N.height-1)*T.A,T.A=-T.A}else T=N.f.kb,N=N.height,T.O+=(N-1)*T.fa,T.fa=-T.fa,T.N+=(N-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(N-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(N-1)*T.lb,T.lb=-T.lb);return 0}function wl(N,T,U,q){if(q==null||0>=N||0>=T)return 2;if(U!=null){if(U.Da){var ne=U.cd,oe=U.bd,le=-2&U.v,de=-2&U.j;if(0>le||0>de||0>=ne||0>=oe||le+ne>N||de+oe>T)return 2;N=ne,T=oe}if(U.da){if(!Bt(N,T,ne=[U.ib],oe=[U.hb]))return 2;N=ne[0],T=oe[0]}}q.width=N,q.height=T;e:{var me=q.width,be=q.height;if(N=q.S,0>=me||0>=be||!(N>=xm&&13>N))N=2;else{if(0>=q.Rd&&q.sd==null){le=oe=ne=T=0;var Fe=(de=me*Em[N])*be;if(11>N||(oe=(be+1)/2*(T=(me+1)/2),N==12&&(le=(ne=me)*be)),(be=s(Fe+2*oe+le))==null){N=1;break e}q.sd=be,11>N?((me=q.f.RGBA).eb=be,me.fb=0,me.A=de,me.size=Fe):((me=q.f.kb).y=be,me.O=0,me.fa=de,me.Fd=Fe,me.f=be,me.N=0+Fe,me.Ab=T,me.Cd=oe,me.ea=be,me.W=0+Fe+oe,me.Db=T,me.Ed=oe,N==12&&(me.F=be,me.J=0+Fe+2*oe),me.Tc=le,me.lb=ne)}if(T=1,ne=q.S,oe=q.width,le=q.height,ne>=xm&&13>ne)if(11>ne)N=q.f.RGBA,T&=(de=Math.abs(N.A))*(le-1)+oe<=N.size,T&=de>=oe*Em[ne],T&=N.eb!=null;else{N=q.f.kb,de=(oe+1)/2,Fe=(le+1)/2,me=Math.abs(N.fa),be=Math.abs(N.Ab);var Ve=Math.abs(N.Db),ve=Math.abs(N.lb),Pe=ve*(le-1)+oe;T&=me*(le-1)+oe<=N.Fd,T&=be*(Fe-1)+de<=N.Cd,T=(T&=Ve*(Fe-1)+de<=N.Ed)&me>=oe&be>=de&Ve>=de,T&=N.y!=null,T&=N.f!=null,T&=N.ea!=null,ne==12&&(T&=ve>=oe,T&=Pe<=N.Tc,T&=N.F!=null)}else T=0;N=T?0:2}}return N!=0||U!=null&&U.fd&&(N=Ff(q)),N}var Uu=64,Gi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_i=24,ac=32,sc=8,Zc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(N){return N},k.Predictor2=function(N,T,U){return T[U+0]},k.Predictor3=function(N,T,U){return T[U+1]},k.Predictor4=function(N,T,U){return T[U-1]},k.Predictor5=function(N,T,U){return Le(Le(N,T[U+1]),T[U+0])},k.Predictor6=function(N,T,U){return Le(N,T[U-1])},k.Predictor7=function(N,T,U){return Le(N,T[U+0])},k.Predictor8=function(N,T,U){return Le(T[U-1],T[U+0])},k.Predictor9=function(N,T,U){return Le(T[U+0],T[U+1])},k.Predictor10=function(N,T,U){return Le(Le(N,T[U-1]),Le(T[U+0],T[U+1]))},k.Predictor11=function(N,T,U){var q=T[U+0];return 0>=at(q>>24&255,N>>24&255,(T=T[U-1])>>24&255)+at(q>>16&255,N>>16&255,T>>16&255)+at(q>>8&255,N>>8&255,T>>8&255)+at(255&q,255&N,255&T)?q:N},k.Predictor12=function(N,T,U){var q=T[U+0];return(yt((N>>24&255)+(q>>24&255)-((T=T[U-1])>>24&255))<<24|yt((N>>16&255)+(q>>16&255)-(T>>16&255))<<16|yt((N>>8&255)+(q>>8&255)-(T>>8&255))<<8|yt((255&N)+(255&q)-(255&T)))>>>0},k.Predictor13=function(N,T,U){var q=T[U-1];return(Oe((N=Le(N,T[U+0]))>>24&255,q>>24&255)<<24|Oe(N>>16&255,q>>16&255)<<16|Oe(N>>8&255,q>>8&255)<<8|Oe(255&N,255&q))>>>0};var JA=k.PredictorAdd0;k.PredictorAdd1=bt,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var ZA=k.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var La,mm=k.ColorIndexInverseTransform,ic=k.MapARGB,oc=k.VP8LColorIndexInverseTransformAlpha,Hs=k.MapAlpha,eu=k.VP8LPredictorsAdd=[];eu.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var eh,th,tu,ru,lc,Id,go,nu,si,Lo,fn,sn,qn,Ma,cc,Cl,Ld,Of,Rg,qv,Gv,Wv,Ug,Qg,Md,Mo,Df,xo,Rd=s(511),pm=s(2041),Pf=s(225),If=s(767),gm=0,au=pm,Lf=Pf,ii=If,zs=Rd,xm=0,oi=1,ym=2,Ro=3,Mf=4,rh=5,Qu=6,Rf=7,vm=8,nh=9,bm=10,Uo=[2,3,7],ah=[3,3,11],Ud=[280,256,256,256,40],wm=[0,1,1,1,0],Uf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ho=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hu=8,zo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ko=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yo=null,Yv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ks=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],na=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],Ca=[],Nl=[],zu=1,zg=2,su=[],$s=[];Wc("UpsampleRgbLinePair",Yc,3),Wc("UpsampleBgrLinePair",Es,3),Wc("UpsampleRgbaLinePair",ji,4),Wc("UpsampleBgraLinePair",nc,4),Wc("UpsampleArgbLinePair",YA,4),Wc("UpsampleRgba4444LinePair",Ru,2),Wc("UpsampleRgb565LinePair",Mu,2);var Qd=k.UpsampleRgbLinePair,Kg=k.UpsampleBgrLinePair,sh=k.UpsampleRgbaLinePair,Nm=k.UpsampleBgraLinePair,Ku=k.UpsampleArgbLinePair,uc=k.UpsampleRgba4444LinePair,$u=k.UpsampleRgb565LinePair,$o=16,ih=1<<$o-1,Hd=-227,Vu=482,Sm=6,qu=0,Vs=s(256),Bm=s(256),Jv=s(256),k5=s(256),F5=s(Vu-Hd),O5=s(Vu-Hd);Xc("YuvToRgbRow",Yc,3),Xc("YuvToBgrRow",Es,3),Xc("YuvToRgbaRow",ji,4),Xc("YuvToBgraRow",nc,4),Xc("YuvToArgbRow",YA,4),Xc("YuvToRgba4444Row",Ru,2),Xc("YuvToRgb565Row",Mu,2);var Ra=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],oh=[0,2,8],Qf=[8,7,6,4,4,2,2,2,1,1,1,1],Hf=1;this.WebPDecodeRGBA=function(N,T,U,q,ne){var oe=oi,le=new At,de=new Ct;le.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var me=de.width,be=de.height,Fe=new Ut;if(Fe==null||N==null)var Ve=2;else e(Fe!=null),Ve=bl(N,T,U,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Ve!=0?me=0:(me!=null&&(me[0]=Fe.width[0]),be!=null&&(be[0]=Fe.height[0]),me=1),me){de.width=de.width[0],de.height=de.height[0],q!=null&&(q[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(q=new Uc,(ne=new vt).data=N,ne.w=T,ne.ha=U,ne.kd=1,T=[0],e(ne!=null),((N=bl(ne.data,ne.w,ne.ha,null,null,null,T,null,ne))==0||N==7)&&T[0]&&(N=4),(T=N)==0){if(e(le!=null),q.data=ne.data,q.w=ne.w+ne.offset,q.ha=ne.ha-ne.offset,q.put=Ar,q.ac=Ga,q.bc=ba,q.ma=le,ne.xa){if((N=Ke())==null){le=1;break e}if((function(ve,Pe){var Qe=[0],ct=[0],ze=[0];t:for(;;){if(ve==null)return 0;if(Pe==null)return ve.a=2,0;if(ve.l=Pe,ve.a=0,Ae(ve.m,Pe.data,Pe.w,Pe.ha),!Wa(ve.m,Qe,ct,ze)){ve.a=3;break t}if(ve.xb=zg,Pe.width=Qe[0],Pe.height=ct[0],!$e(Qe[0],ct[0],1,ve,null))break t;return 1}return e(ve.a!=0),0})(N,q)){if(q=(T=wl(q.width,q.height,le.Oa,le.ba))==0){t:{q=N;r:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((U=q.l)!=null),e((ne=U.ma)!=null),q.xb!=0){if(q.ca=ne.ba,q.tb=ne.tb,e(q.ca!=null),!Jc(ne.Oa,U,Ro)){q.a=2;break r}if(!qe(q,U.width)||U.da)break r;if((U.da||nr(q.ca.S))&&yl(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&yl()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!J(q.s.vb,q.s.Wa.Xa)){q.a=1;break r}q.xb=0}if(!He(q,q.V,q.Ba,q.c,q.i,U.o,he))break r;ne.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(T=N.a)}else T=N.a}else{if((N=new pl)==null){le=1;break e}if(N.Fa=ne.na,N.P=ne.P,N.qc=ne.Sa,Zl(N,q)){if((T=wl(q.width,q.height,le.Oa,le.ba))==0){if(N.Aa=0,U=le.Oa,e((ne=N)!=null),U!=null){if(0<(me=0>(me=U.Md)?0:100<me?255:255*me/100)){for(be=Fe=0;4>be;++be)12>(Ve=ne.pb[be]).lc&&(Ve.ia=me*Qf[0>Ve.lc?0:Ve.lc]>>3),Fe|=Ve.ia;Fe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=U.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(ve,Pe){if(ve==null)return 0;if(Pe==null)return hn(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!Zl(ve,Pe))return 0;if(e(ve.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(ve.L=0);var Qe=oh[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Pe.v-Qe>>4,ve.zb=Pe.j-Qe>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Pe.o+15+Qe>>4,ve.Hb=Pe.va+15+Qe>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var ct=ve.ed;for(Qe=0;4>Qe;++Qe){var ze;if(ve.Qa.Cb){var ot=ve.Qa.Lb[Qe];ve.Qa.Fb||(ot+=ct.Tb)}else ot=ct.Tb;for(ze=0;1>=ze;++ze){var ht=ve.gd[Qe][ze],jt=ot;if(ct.Pc&&(jt+=ct.vd[0],ze&&(jt+=ct.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var xt=jt;0<ct.wb&&(xt=4<ct.wb?xt>>2:xt>>1)>9-ct.wb&&(xt=9-ct.wb),1>xt&&(xt=1),ht.dd=xt,ht.tc=2*jt+xt,ht.ld=40<=jt?2:15<=jt?1:0}else ht.tc=0;ht.La=ze}}}Qe=0}else hn(ve,6,"Frame setup failed"),Qe=ve.a;if(Qe=Qe==0){if(Qe){ve.$c=0,0<ve.Aa||(ve.Ic=Hf);t:{Qe=ve.Ic,ct=4*(xt=ve.za);var ar=32*xt,$t=xt+1,Tr=0<ve.L?xt*(0<ve.Aa?2:1):0,Wt=(ve.Aa==2?2:1)*xt;if((ht=ct+832+(ze=3*(16*Qe+oh[ve.L])/2*ar)+(ot=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=ht)Qe=0;else{if(ht>ve.Vb){if(ve.Vb=0,ve.Ec=s(ht),ve.Fc=0,ve.Ec==null){Qe=hn(ve,1,"no memory during frame initialization.");break t}ve.Vb=ht}ht=ve.Ec,jt=ve.Fc,ve.Ac=ht,ve.Bc=jt,jt+=ct,ve.Gd=i(ar,ho),ve.Hd=0,ve.rb=i($t+1,Tn),ve.sb=1,ve.wa=Tr?i(Tr,qr):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=xt),e(!0),ve.oc=ht,ve.pc=jt,jt+=832,ve.ya=i(Wt,fl),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=xt),ve.R=16*xt,ve.B=8*xt,xt=(ar=oh[ve.L])*ve.R,ar=ar/2*ve.B,ve.sa=ht,ve.ta=jt+xt,ve.qa=ve.sa,ve.ra=ve.ta+16*Qe*ve.R+ar,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Qe*ve.B+ar,ve.$c=0,jt+=ze,ve.mb=ot?ht:null,ve.nb=ot?jt:null,e(jt+ot<=ve.Fc+ve.Vb),bf(ve),a(ve.Ac,ve.Bc,0,ct),Qe=1}}if(Qe){if(Pe.ka=0,Pe.y=ve.sa,Pe.O=ve.ta,Pe.f=ve.qa,Pe.N=ve.ra,Pe.ea=ve.Ha,Pe.Vd=ve.Ia,Pe.fa=ve.R,Pe.Rc=ve.B,Pe.F=null,Pe.J=0,!gm){for(Qe=-255;255>=Qe;++Qe)Rd[255+Qe]=0>Qe?-Qe:Qe;for(Qe=-1020;1020>=Qe;++Qe)pm[1020+Qe]=-128>Qe?-128:127<Qe?127:Qe;for(Qe=-112;112>=Qe;++Qe)Pf[112+Qe]=-16>Qe?-16:15<Qe?15:Qe;for(Qe=-255;510>=Qe;++Qe)If[255+Qe]=0>Qe?0:255<Qe?255:Qe;gm=1}go=gl,nu=wf,Lo=Ei,fn=Cf,sn=Nf,si=im,qn=hm,Ma=qc,cc=re,Cl=Ce,Ld=fm,Of=M,Rg=Te,qv=Me,Gv=zc,Wv=Kc,Ug=Dd,Qg=_f,Ca[0]=dm,Ca[1]=om,Ca[2]=um,Ca[3]=Ef,Ca[4]=fo,Ca[5]=jf,Ca[6]=Us,Ca[7]=kd,Ca[8]=Fd,Ca[9]=mo,Ti[0]=xl,Ti[1]=Sf,Ti[2]=Bf,Ti[3]=cm,Ti[4]=Qc,Ti[5]=Td,Ti[6]=Lu,Nl[0]=VA,Nl[1]=lm,Nl[2]=ec,Nl[3]=Am,Nl[4]=Bs,Nl[5]=qA,Nl[6]=tc,Qe=1}else Qe=0}Qe&&(Qe=(function(Wr,aa){for(Wr.M=0;Wr.M<Wr.Va;++Wr.M){var Dr,Vt=Wr.Jc[Wr.M&Wr.Xb],Lt=Wr.m,fa=Wr;for(Dr=0;Dr<fa.za;++Dr){var Sr=Lt,Ur=fa,Nn=Ur.Ac,ds=Ur.Bc+4*Dr,qs=Ur.zc,Gn=Ur.ya[Ur.aa+Dr];if(Ur.Qa.Bb?Gn.$b=pe(Sr,Ur.Pa.jb[0])?2+pe(Sr,Ur.Pa.jb[2]):pe(Sr,Ur.Pa.jb[1]):Gn.$b=0,Ur.kc&&(Gn.Ad=pe(Sr,Ur.Bd)),Gn.Za=!pe(Sr,145)+0,Gn.Za){var Ja=Gn.Ob,li=0;for(Ur=0;4>Ur;++Ur){var Za,Kr=qs[0+Ur];for(Za=0;4>Za;++Za){Kr=Ks[Nn[ds+Za]][Kr];for(var cn=Cm[pe(Sr,Kr[0])];0<cn;)cn=Cm[2*cn+pe(Sr,Kr[cn])];Kr=-cn,Nn[ds+Za]=Kr}n(Ja,li,Nn,ds,4),li+=4,qs[0+Ur]=Kr}}else Kr=pe(Sr,156)?pe(Sr,128)?1:3:pe(Sr,163)?2:0,Gn.Ob[0]=Kr,a(Nn,ds,Kr,4),a(qs,0,Kr,4);Gn.Dd=pe(Sr,142)?pe(Sr,114)?pe(Sr,183)?1:3:2:0}if(fa.m.Ka)return hn(Wr,7,"Premature end-of-partition0 encountered.");for(;Wr.ja<Wr.za;++Wr.ja){if(fa=Vt,Sr=(Lt=Wr).rb[Lt.sb-1],Nn=Lt.rb[Lt.sb+Lt.ja],Dr=Lt.ya[Lt.aa+Lt.ja],ds=Lt.kc?Dr.Ad:0)Sr.la=Nn.la=0,Dr.Za||(Sr.Na=Nn.Na=0),Dr.Hc=0,Dr.Gc=0,Dr.ia=0;else{var ma,mn;if(Sr=Nn,Nn=fa,ds=Lt.Pa.Xc,qs=Lt.ya[Lt.aa+Lt.ja],Gn=Lt.pb[qs.$b],Ur=qs.ad,Ja=0,li=Lt.rb[Lt.sb-1],Kr=Za=0,a(Ur,Ja,0,384),qs.Za)var As=0,pa=ds[3];else{cn=s(16);var un=Sr.Na+li.Na;if(un=yo(Nn,ds[1],un,Gn.Eb,0,cn,0),Sr.Na=li.Na=(0<un)+0,1<un)go(cn,0,Ur,Ja);else{var Ua=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Ur[Ja+cn]=Ua}As=1,pa=ds[0]}var Sn=15&Sr.la,es=15&li.la;for(cn=0;4>cn;++cn){var ts=1&es;for(Ua=mn=0;4>Ua;++Ua)Sn=Sn>>1|(ts=(un=yo(Nn,pa,un=ts+(1&Sn),Gn.Sc,As,Ur,Ja))>As)<<7,mn=mn<<2|(3<un?3:1<un?2:Ur[Ja+0]!=0),Ja+=16;Sn>>=4,es=es>>1|ts<<7,Za=(Za<<8|mn)>>>0}for(pa=Sn,As=es>>4,ma=0;4>ma;ma+=2){for(mn=0,Sn=Sr.la>>4+ma,es=li.la>>4+ma,cn=0;2>cn;++cn){for(ts=1&es,Ua=0;2>Ua;++Ua)un=ts+(1&Sn),Sn=Sn>>1|(ts=0<(un=yo(Nn,ds[2],un,Gn.Qc,0,Ur,Ja)))<<3,mn=mn<<2|(3<un?3:1<un?2:Ur[Ja+0]!=0),Ja+=16;Sn>>=2,es=es>>1|ts<<5}Kr|=mn<<4*ma,pa|=Sn<<4<<ma,As|=(240&es)<<ma}Sr.la=pa,li.la=As,qs.Hc=Za,qs.Gc=Kr,qs.ia=43690&Kr?0:Gn.ia,ds=!(Za|Kr)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[Dr.$b][Dr.Za],Lt.wa[Lt.Y+Lt.ja].La|=!ds),fa.Ka)return hn(Wr,7,"Premature end-of-file encountered.")}if(bf(Wr),Lt=aa,fa=1,Dr=(Vt=Wr).D,Sr=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(Dr.M=Vt.M,Dr.uc=Sr,po(Vt,Dr),fa=1,Dr=(mn=Vt.D).Nb,Sr=(Kr=oh[Vt.L])*Vt.R,Nn=Kr/2*Vt.B,cn=16*Dr*Vt.R,Ua=8*Dr*Vt.B,ds=Vt.sa,qs=Vt.ta-Sr+cn,Gn=Vt.qa,Ur=Vt.ra-Nn+Ua,Ja=Vt.Ha,li=Vt.Ia-Nn+Ua,es=(Sn=mn.M)==0,Za=Sn>=Vt.Va-1,Vt.Aa==2&&po(Vt,mn),mn.uc)for(ts=(un=Vt).D.M,e(un.D.uc),mn=un.yb;mn<un.Hb;++mn){As=mn,pa=ts;var Dn=(on=(rs=un).D).Nb;ma=rs.R;var on=on.wa[on.Y+As],ci=rs.sa,Na=rs.ta+16*Dn*ma+16*As,gr=on.dd,yr=on.tc;if(yr!=0)if(e(3<=yr),rs.L==1)0<As&&Wv(ci,Na,ma,yr+4),on.La&&Qg(ci,Na,ma,yr),0<pa&&Gv(ci,Na,ma,yr+4),on.La&&Ug(ci,Na,ma,yr);else{var dn=rs.B,Wi=rs.qa,Vo=rs.ra+8*Dn*dn+8*As,ki=rs.Ha,rs=rs.Ia+8*Dn*dn+8*As;Dn=on.ld,0<As&&(Ma(ci,Na,ma,yr+4,gr,Dn),Cl(Wi,Vo,ki,rs,dn,yr+4,gr,Dn)),on.La&&(Of(ci,Na,ma,yr,gr,Dn),qv(Wi,Vo,ki,rs,dn,yr,gr,Dn)),0<pa&&(qn(ci,Na,ma,yr+4,gr,Dn),cc(Wi,Vo,ki,rs,dn,yr+4,gr,Dn)),on.La&&(Ld(ci,Na,ma,yr,gr,Dn),Rg(Wi,Vo,ki,rs,dn,yr,gr,Dn))}}if(Vt.ia&&alert("todo:DitherRow"),Lt.put!=null){if(mn=16*Sn,Sn=16*(Sn+1),es?(Lt.y=Vt.sa,Lt.O=Vt.ta+cn,Lt.f=Vt.qa,Lt.N=Vt.ra+Ua,Lt.ea=Vt.Ha,Lt.W=Vt.Ia+Ua):(mn-=Kr,Lt.y=ds,Lt.O=qs,Lt.f=Gn,Lt.N=Ur,Lt.ea=Ja,Lt.W=li),Za||(Sn-=Kr),Sn>Lt.o&&(Sn=Lt.o),Lt.F=null,Lt.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&mn<Sn&&(Lt.J=Vn(Vt,Lt,mn,Sn-mn),Lt.F=Vt.mb,Lt.F==null&&Lt.F.length==0)){fa=hn(Vt,3,"Could not decode alpha data.");break t}mn<Lt.j&&(Kr=Lt.j-mn,mn=Lt.j,e(!(1&Kr)),Lt.O+=Vt.R*Kr,Lt.N+=Vt.B*(Kr>>1),Lt.W+=Vt.B*(Kr>>1),Lt.F!=null&&(Lt.J+=Lt.width*Kr)),mn<Sn&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=mn-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Sn-mn,fa=Lt.put(Lt))}Dr+1!=Vt.Ic||Za||(n(Vt.sa,Vt.ta-Sr,ds,qs+16*Vt.R,Sr),n(Vt.qa,Vt.ra-Nn,Gn,Ur+8*Vt.B,Nn),n(Vt.Ha,Vt.Ia-Nn,Ja,li+8*Vt.B,Nn))}if(!fa)return hn(Wr,6,"Output aborted.")}return 1})(ve,Pe)),Pe.bc!=null&&Pe.bc(Pe),Qe&=1}return Qe?(ve.cb=0,Qe):0})(N,q)||(T=N.a)}}else T=N.a}T==0&&le.Oa!=null&&le.Oa.fd&&(T=Ff(le.ba))}le=T}oe=le!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var Em=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,z){for(var I="",Q=0;Q<4;Q++)I+=String.fromCharCode(k[z++]);return I}function A(k,z){return k[z+0]|k[z+1]<<8}function h(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16)>>>0}function p(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16|k[z+3]<<24)>>>0}new c;var m=[0],y=[0],g=[],v=new c,w=r,S=(function(k,z){var I={},Q=0,R=!1,K=0,ee=0;if(I.frames=[],!(function(O,H){for(var V=0;V<4;V++)if(O[H+V]!="RIFF".charCodeAt(V))return!0;return!1})(k,z)){for(p(k,z+=4),z+=8;z<k.length;){var Y=u(k,z),se=p(k,z+=4);z+=4;var X=se+(1&se);switch(Y){case"VP8 ":case"VP8L":I.frames[Q]===void 0&&(I.frames[Q]={}),(Z=I.frames[Q]).src_off=R?ee:z-8,Z.src_size=K+se+8,Q++,R&&(R=!1,K=0,ee=0);break;case"VP8X":(Z=I.header={}).feature_flags=k[z];var Ae=z+4;Z.canvas_width=1+h(k,Ae),Ae+=3,Z.canvas_height=1+h(k,Ae),Ae+=3;break;case"ALPH":R=!0,K=X+8,ee=z-8;break;case"ANIM":(Z=I.header).bgcolor=p(k,z),Ae=z+4,Z.loop_count=A(k,Ae),Ae+=2;break;case"ANMF":var ge,Z;(Z=I.frames[Q]={}).offset_x=2*h(k,z),z+=3,Z.offset_y=2*h(k,z),z+=3,Z.width=1+h(k,z),z+=3,Z.height=1+h(k,z),z+=3,Z.duration=h(k,z),z+=3,ge=k[z++],Z.dispose=1&ge,Z.blend=ge>>1&1}Y!="ANMF"&&(z+=X)}return I}})(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var C=S.header?S.header:null,E=S.frames?S.frames:null;if(C){C.loop_counter=C.loop_count,m=[C.canvas_height],y=[C.canvas_width];for(var _=0;_<E.length&&E[_].blend!=0;_++);}var L=E[0],D=v.WebPDecodeRGBA(w,L.src_off,L.src_size,y,m);L.rgba=D,L.imgwidth=y[0],L.imgheight=m[0];for(var P=0;P<y[0]*m[0]*4;P++)g[P]=D[P];return this.width=y,this.height=m,this.data=g,this}(function(r){var e,t,n,a,s,i,l,c,u,A=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new i,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new i,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new A}]);var h=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=O;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(J){V=!!J}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(J){G=!!J}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(J){isNaN(J)||(ae=J)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(J){isNaN(J)||(ue=J)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(J){var Ie;typeof J=="number"?Ie=[J,J,J,J]:((Ie=new Array(4))[0]=J[0],Ie[1]=J.length>=2?J[1]:Ie[0],Ie[2]=J.length>=3?J[2]:Ie[0],Ie[3]=J.length>=4?J[3]:Ie[1]),u.margin=Ie}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(J){Se=J}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(J){te=J}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(J){pe=J}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(J){J instanceof A&&(u=J)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(J){u.path=J}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(J){ke=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Ie;Ie=p(J),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Ie=p(J);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var Ee=null,Ue=null,je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(J){Ee=null,Ue=null,je=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Ie;if(this.ctx.font=J,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ye=Ie[1];Ie[2];var Bt=Ie[3],it=Ie[4];Ie[5];var Xe=Ie[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(ft==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Et=(function(lt){var Zt,It,Tt=[],cr=lt.trim();if(cr==="")return zE;if(cr in d8)return[d8[cr]];for(;cr!=="";){switch(It=null,Zt=(cr=h8(cr)).charAt(0)){case'"':case"'":It=sIe(cr.substring(1),Zt);break;default:It=iIe(cr)}if(It===null||(Tt.push(It[0]),(cr=h8(It[1]))!==""&&cr.charAt(0)!==","))return zE;cr=cr.replace(/^,/,"")}return Tt})(Xe);if(this.fontFaces){var Le=(function(lt,Zt){var It=lt.getFontList(),Tt=JSON.stringify(It);if(Ee===null||Ue!==Tt){var cr=(function(Br){var zt=[];return Object.keys(Br).forEach(function(Yr){Br[Yr].forEach(function(nr){var mr=null;switch(nr){case"bold":mr={family:Yr,weight:"bold"};break;case"italic":mr={family:Yr,style:"italic"};break;case"bolditalic":mr={family:Yr,weight:"bold",style:"italic"};break;case"":case"normal":mr={family:Yr}}mr!==null&&(mr.ref={name:Yr,style:nr},zt.push(mr))})}),zt})(It);Ee=(function(Br){for(var zt={},Yr=0;Yr<Br.length;++Yr){var nr=HE(Br[Yr]),mr=nr.family,mt=nr.stretch,Ct=nr.style,Ut=nr.weight;zt[mr]=zt[mr]||{},zt[mr][mt]=zt[mr][mt]||{},zt[mr][mt][Ct]=zt[mr][mt][Ct]||{},zt[mr][mt][Ct][Ut]=nr}return zt})(cr.concat(Zt)),Ue=Tt}return Ee})(this.pdf,this.fontFaces),yt=Et.map(function(lt){return{family:lt,stretch:"normal",weight:Bt,style:Ye}}),Oe=(function(lt,Zt,It){for(var Tt=(It=It||{}).defaultFontFamily||"times",cr=Object.assign({},aIe,It.genericFontFamilies||{}),Br=null,zt=null,Yr=0;Yr<Zt.length;++Yr)if(cr[(Br=HE(Zt[Yr])).family]&&(Br.family=cr[Br.family]),lt.hasOwnProperty(Br.family)){zt=lt[Br.family];break}if(!(zt=zt||lt[Tt]))throw new Error("Could not find a font-family for the rule '"+A8(Br)+"' and default family '"+Tt+"'.");if(zt=(function(nr,mr){if(mr[nr])return mr[nr];var mt=i_[nr],Ct=mt<=i_.normal?-1:1,Ut=u8(mr,iW,mt,Ct);if(!Ut)throw new Error("Could not find a matching font-stretch value for "+nr);return Ut})(Br.stretch,zt),zt=(function(nr,mr){if(mr[nr])return mr[nr];for(var mt=sW[nr],Ct=0;Ct<mt.length;++Ct)if(mr[mt[Ct]])return mr[mt[Ct]];throw new Error("Could not find a matching font-style for "+nr)})(Br.style,zt),!(zt=(function(nr,mr){if(mr[nr])return mr[nr];if(nr===400&&mr[500])return mr[500];if(nr===500&&mr[400])return mr[400];var mt=nIe[nr],Ct=u8(mr,oW,mt,nr<400?-1:1);if(!Ct)throw new Error("Could not find a matching font-weight for value "+nr);return Ct})(Br.weight,zt)))throw new Error("Failed to resolve a font for the rule '"+A8(Br)+"'.");return zt})(Le,yt);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var at="";(Bt==="bold"||parseInt(Bt,10)>=700||Ye==="bold")&&(at="bold"),Ye==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var bt="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<Et.length;Be++){if(this.pdf.internal.getFont(Et[Be],at,{noFallback:!0,disableWarning:!0})!==void 0){bt=Et[Be];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Et[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Et[Be],at="bold";else if(this.pdf.internal.getFont(Et[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Et[Be],at="normal";break}}if(bt===""){for(var st=0;st<Et.length;st++)if(St[Et[st]]){bt=St[Et[st]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(O){this.lineDash=O},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(O,H){if(isNaN(O)||isNaN(H))throw ia.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new i(O,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new i(O,H)},h.prototype.closePath=function(){var O=new i(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Hn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){O=new i(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(O.x,O.y)},h.prototype.lineTo=function(O,H){if(isNaN(O)||isNaN(H))throw ia.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new i(O,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new i(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(O,H,V,G){if(isNaN(V)||isNaN(G)||isNaN(O)||isNaN(H))throw ia.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new i(V,G)),ue=this.ctx.transform.applyToPoint(new i(O,H));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new i(ae.x,ae.y)},h.prototype.bezierCurveTo=function(O,H,V,G,ae,ue){if(isNaN(ae)||isNaN(ue)||isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G))throw ia.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new i(ae,ue)),te=this.ctx.transform.applyToPoint(new i(O,H)),pe=this.ctx.transform.applyToPoint(new i(V,G));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:pe.x,y2:pe.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new i(Se.x,Se.y)},h.prototype.arc=function(O,H,V,G,ae,ue){if(isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G)||isNaN(ae))throw ia.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new i(O,H));O=Se.x,H=Se.y;var te=this.ctx.transform.applyToPoint(new i(0,V)),pe=this.ctx.transform.applyToPoint(new i(0,0));V=Math.sqrt(Math.pow(te.x-pe.x,2)+Math.pow(te.y-pe.y,2))}Math.abs(ae-G)>=2*Math.PI&&(G=0,ae=2*Math.PI),this.path.push({type:"arc",x:O,y:H,radius:V,startAngle:G,endAngle:ae,counterclockwise:ue})},h.prototype.arcTo=function(O,H,V,G,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(O,H,V,G){if(isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G))throw ia.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,H),this.lineTo(O+V,H),this.lineTo(O+V,H+G),this.lineTo(O,H+G),this.lineTo(O,H),this.lineTo(O+V,H),this.lineTo(O,H)},h.prototype.fillRect=function(O,H,V,G){if(isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G))throw ia.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,H,V,G),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(O,H,V,G){if(isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G))throw ia.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(O,H,V,G),this.stroke())},h.prototype.clearRect=function(O,H,V,G){if(isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G))throw ia.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,H,V,G))},h.prototype.save=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},h.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(O){var H,V,G,ae;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))H=0,V=0,G=0,ae=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ue!==null)H=parseInt(ue[1]),V=parseInt(ue[2]),G=parseInt(ue[3]),ae=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)H=parseInt(ue[1]),V=parseInt(ue[2]),G=parseInt(ue[3]),ae=parseFloat(ue[4]);else{if(ae=1,typeof O=="string"&&O.charAt(0)!=="#"){var Se=new JG(O);O=Se.ok?Se.toHex():"#000000"}O.length===4?(H=O.substring(1,2),H+=H,V=O.substring(2,3),V+=V,G=O.substring(3,4),G+=G):(H=O.substring(1,3),V=O.substring(3,5),G=O.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),G=parseInt(G,16)}}return{r:H,g:V,b:G,a:ae,style:O}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(O,H,V,G){if(isNaN(H)||isNaN(V)||typeof O!="string")throw ia.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!m.call(this)){var ae=X(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;Q.call(this,{text:O,x:H,y:V,scale:ue,angle:ae,align:this.textAlign,maxWidth:G})}},h.prototype.strokeText=function(O,H,V,G){if(isNaN(H)||isNaN(V)||typeof O!="string")throw ia.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){G=isNaN(G)?void 0:G;var ae=X(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;Q.call(this,{text:O,x:H,y:V,scale:ue,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:G})}},h.prototype.measureText=function(O){if(typeof O!="string")throw ia.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,G=H.internal.getFontSize(),ae=H.getStringUnitWidth(O)*G/H.internal.scaleFactor;return new function(ue){var Se=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:ae*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(O,H){if(isNaN(O)||isNaN(H))throw ia.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(O,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(O){if(isNaN(O))throw ia.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},h.prototype.translate=function(O,H){if(isNaN(O)||isNaN(H))throw ia.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,O,H);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(O,H,V,G,ae,ue){if(isNaN(O)||isNaN(H)||isNaN(V)||isNaN(G)||isNaN(ae)||isNaN(ue))throw ia.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new c(O,H,V,G,ae,ue);this.ctx.transform=this.ctx.transform.multiply(Se)},h.prototype.setTransform=function(O,H,V,G,ae,ue){O=isNaN(O)?1:O,H=isNaN(H)?0:H,V=isNaN(V)?0:V,G=isNaN(G)?1:G,ae=isNaN(ae)?0:ae,ue=isNaN(ue)?0:ue,this.ctx.transform=new c(O,H,V,G,ae,ue)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(O,H,V,G,ae,ue,Se,te,pe){var ke=this.pdf.getImageProperties(O),Ee=1,Ue=1,je=1,J=1;G!==void 0&&te!==void 0&&(je=te/G,J=pe/ae,Ee=ke.width/G*te/G,Ue=ke.height/ae*pe/ae),ue===void 0&&(ue=H,Se=V,H=0,V=0),G!==void 0&&te===void 0&&(te=G,pe=ae),G===void 0&&te===void 0&&(te=ke.width,pe=ke.height);var Ie=this.ctx.transform.decompose(),Ye=X(Ie.rotate.shx),Bt=new c,it=(Bt=(Bt=(Bt=Bt.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new l(ue-H*je,Se-V*J,G*Ee,ae*Ue));if(this.autoPaging){for(var Xe,ft=v.call(this,it),Et=[],Le=0;Le<ft.length;Le+=1)Et.indexOf(ft[Le])===-1&&Et.push(ft[Le]);C(Et);for(var yt=Et[0],Oe=Et[Et.length-1],at=yt;at<Oe+1;at++){this.pdf.setPage(at);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=at===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=at===1?0:Be+(at-2)*st;if(this.ctx.clip_path.length!==0){var Zt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Xe,this.posX+this.margin[3],-lt+St+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Zt}var It=JSON.parse(JSON.stringify(it));It=S([It],this.posX+this.margin[3],-lt+St+this.ctx.prevPageLastElemOffset)[0];var Tt=(at>yt||at<Oe)&&g.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,st,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",It.x,It.y,It.w,It.h,null,null,Ye),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",it.x,it.y,it.w,it.h,null,null,Ye)};var v=function(O,H,V){var G=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":G.push(Math.floor((O.y+ae)/V)+1);break;case"arc":G.push(Math.floor((O.y+ae-O.radius)/V)+1),G.push(Math.floor((O.y+ae+O.radius)/V)+1);break;case"qct":var ue=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);G.push(Math.floor((ue.y+ae)/V)+1),G.push(Math.floor((ue.y+ue.h+ae)/V)+1);break;case"bct":var Se=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);G.push(Math.floor((Se.y+ae)/V)+1),G.push(Math.floor((Se.y+Se.h+ae)/V)+1);break;case"rect":G.push(Math.floor((O.y+ae)/V)+1),G.push(Math.floor((O.y+O.h+ae)/V)+1)}for(var te=0;te<G.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<G[te];)w.call(this);return G},w=function(){var O=this.fillStyle,H=this.strokeStyle,V=this.font,G=this.lineCap,ae=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=H,this.font=V,this.lineCap=G,this.lineWidth=ae,this.lineJoin=ue},S=function(O,H,V){for(var G=0;G<O.length;G++)switch(O[G].type){case"bct":O[G].x2+=H,O[G].y2+=V;case"qct":O[G].x1+=H,O[G].y1+=V;default:O[G].x+=H,O[G].y+=V}return O},C=function(O){return O.sort(function(H,V){return H-V})},E=function(O,H){var V=this.fillStyle,G=this.strokeStyle,ae=this.lineCap,ue=this.lineWidth,Se=Math.abs(ue*this.ctx.transform.scaleX),te=this.lineJoin;if(this.autoPaging){for(var pe,ke,Ee=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),je=[],J=0;J<Ue.length;J++)if(Ue[J].x!==void 0)for(var Ie=v.call(this,Ue[J]),Ye=0;Ye<Ie.length;Ye+=1)je.indexOf(Ie[Ye])===-1&&je.push(Ie[Ye]);for(var Bt=0;Bt<je.length;Bt++)for(;this.pdf.internal.getNumberOfPages()<je[Bt];)w.call(this);C(je);for(var it=je[0],Xe=je[je.length-1],ft=it;ft<Xe+1;ft++){this.pdf.setPage(ft),this.fillStyle=V,this.strokeStyle=G,this.lineCap=ae,this.lineWidth=Se,this.lineJoin=te;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=ft===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=ft===1?0:yt+(ft-2)*Oe;if(this.ctx.clip_path.length!==0){var bt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(pe,this.posX+this.margin[3],-at+Le+this.ctx.prevPageLastElemOffset),_.call(this,O,!0),this.path=bt}if(ke=JSON.parse(JSON.stringify(Ee)),this.path=S(ke,this.posX+this.margin[3],-at+Le+this.ctx.prevPageLastElemOffset),H===!1||ft===0){var St=(ft>it||ft<Xe)&&g.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Oe,null).clip().discardPath()),_.call(this,O,H),St&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=Ee}else this.lineWidth=Se,_.call(this,O,H),this.lineWidth=ue},_=function(O,H){if((O!=="stroke"||H||!y.call(this))&&(O==="stroke"||H||!m.call(this))){for(var V,G,ae=[],ue=this.path,Se=0;Se<ue.length;Se++){var te=ue[Se];switch(te.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:te,deltas:[],abs:[]});break;case"lt":var pe=ae.length;if(ue[Se-1]&&!isNaN(ue[Se-1].x)&&(V=[te.x-ue[Se-1].x,te.y-ue[Se-1].y],pe>0)){for(;pe>=0;pe--)if(ae[pe-1].close!==!0&&ae[pe-1].begin!==!0){ae[pe-1].deltas.push(V),ae[pe-1].abs.push(te);break}}break;case"bct":V=[te.x1-ue[Se-1].x,te.y1-ue[Se-1].y,te.x2-ue[Se-1].x,te.y2-ue[Se-1].y,te.x-ue[Se-1].x,te.y-ue[Se-1].y],ae[ae.length-1].deltas.push(V);break;case"qct":var ke=ue[Se-1].x+2/3*(te.x1-ue[Se-1].x),Ee=ue[Se-1].y+2/3*(te.y1-ue[Se-1].y),Ue=te.x+2/3*(te.x1-te.x),je=te.y+2/3*(te.y1-te.y),J=te.x,Ie=te.y;V=[ke-ue[Se-1].x,Ee-ue[Se-1].y,Ue-ue[Se-1].x,je-ue[Se-1].y,J-ue[Se-1].x,Ie-ue[Se-1].y],ae[ae.length-1].deltas.push(V);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(te)}}G=H?null:O==="stroke"?"stroke":"fill";for(var Ye=!1,Bt=0;Bt<ae.length;Bt++)if(ae[Bt].arc)for(var it=ae[Bt].abs,Xe=0;Xe<it.length;Xe++){var ft=it[Xe];ft.type==="arc"?P.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,H,!Ye):R.call(this,ft.x,ft.y),Ye=!0}else if(ae[Bt].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ae[Bt].begin!==!0){var Et=ae[Bt].start.x,Le=ae[Bt].start.y;K.call(this,ae[Bt].deltas,Et,Le),Ye=!0}G&&k.call(this,G),H&&z.call(this)}},L=function(O){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-V;case"top":return O+H-V;case"hanging":return O+H-2*V;case"middle":return O+H/2-V;default:return O}},D=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(H,V){this.colorStops.push([H,V])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(O,H,V,G,ae,ue,Se,te,pe){for(var ke=Y.call(this,V,G,ae,ue),Ee=0;Ee<ke.length;Ee++){var Ue=ke[Ee];Ee===0&&(pe?I.call(this,Ue.x1+O,Ue.y1+H):R.call(this,Ue.x1+O,Ue.y1+H)),ee.call(this,O,H,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}te?z.call(this):k.call(this,Se)},k=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(O,H){this.pdf.internal.out(t(O)+" "+n(H)+" m")},Q=function(O){var H;switch(O.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var V,G,ae,ue=this.pdf.getTextDimensions(O.text),Se=L.call(this,O.y),te=D.call(this,Se)-ue.h,pe=this.ctx.transform.applyToPoint(new i(O.x,Se));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Ee=new c;Ee=(Ee=(Ee=Ee.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Ue=this.ctx.transform.applyToRectangle(new l(O.x,Se,ue.w,ue.h)),je=Ee.applyToRectangle(new l(O.x,te,ue.w,ue.h)),J=v.call(this,je),Ie=[],Ye=0;Ye<J.length;Ye+=1)Ie.indexOf(J[Ye])===-1&&Ie.push(J[Ye]);C(Ie);for(var Bt=Ie[0],it=Ie[Ie.length-1],Xe=Bt;Xe<it+1;Xe++){this.pdf.setPage(Xe);var ft=Xe===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[2],yt=Le-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],at=Oe-this.margin[3],bt=Xe===1?0:Et+(Xe-2)*yt;if(this.ctx.clip_path.length!==0){var St=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(V,this.posX+this.margin[3],-1*bt+ft),_.call(this,"fill",!0),this.path=St}var Be=S([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-bt+ft+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*O.scale),ae=this.lineWidth,this.lineWidth=ae*O.scale);var st=this.autoPaging!=="text";if(st||Be.y+Be.h<=Le){if(st||Be.y>=ft&&Be.x<=Oe){var lt=st?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Oe-Be.x)[0],Zt=S([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-bt+ft+this.ctx.prevPageLastElemOffset)[0],It=st&&(Xe>Bt||Xe<it)&&g.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,yt,null).clip().discardPath()),this.pdf.text(lt,Zt.x,Zt.y,{angle:O.angle,align:H,renderingMode:O.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else Be.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-Be.y);O.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=ae)}}else O.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*O.scale),ae=this.lineWidth,this.lineWidth=ae*O.scale),this.pdf.text(O.text,pe.x+this.posX,pe.y+this.posY,{angle:O.angle,align:H,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=ae)},R=function(O,H,V,G){V=V||0,G=G||0,this.pdf.internal.out(t(O+V)+" "+n(H+G)+" l")},K=function(O,H,V){return this.pdf.lines(O,H,V,null,null)},ee=function(O,H,V,G,ae,ue,Se,te){this.pdf.internal.out([e(a(V+O)),e(s(G+H)),e(a(ae+O)),e(s(ue+H)),e(a(Se+O)),e(s(te+H)),"c"].join(" "))},Y=function(O,H,V,G){for(var ae=2*Math.PI,ue=Math.PI/2;H>V;)H-=ae;var Se=Math.abs(V-H);Se<ae&&G&&(Se=ae-Se);for(var te=[],pe=G?-1:1,ke=H;Se>1e-5;){var Ee=ke+pe*Math.min(Se,ue);te.push(se.call(this,O,ke,Ee)),Se-=Math.abs(Ee-ke),ke=Ee}return te},se=function(O,H,V){var G=(V-H)/2,ae=O*Math.cos(G),ue=O*Math.sin(G),Se=ae,te=-ue,pe=Se*Se+te*te,ke=pe+Se*ae+te*ue,Ee=4/3*(Math.sqrt(2*pe*ke)-ke)/(Se*ue-te*ae),Ue=Se-Ee*te,je=te+Ee*Se,J=Ue,Ie=-je,Ye=G+H,Bt=Math.cos(Ye),it=Math.sin(Ye);return{x1:O*Math.cos(H),y1:O*Math.sin(H),x2:Ue*Bt-je*it,y2:Ue*it+je*Bt,x3:J*Bt-Ie*it,y3:J*it+Ie*Bt,x4:O*Math.cos(V),y4:O*Math.sin(V)}},X=function(O){return 180*O/Math.PI},Ae=function(O,H,V,G,ae,ue){var Se=O+.5*(V-O),te=H+.5*(G-H),pe=ae+.5*(V-ae),ke=ue+.5*(G-ue),Ee=Math.min(O,ae,Se,pe),Ue=Math.max(O,ae,Se,pe),je=Math.min(H,ue,te,ke),J=Math.max(H,ue,te,ke);return new l(Ee,je,Ue-Ee,J-je)},ge=function(O,H,V,G,ae,ue,Se,te){var pe,ke,Ee,Ue,je,J,Ie,Ye,Bt,it,Xe,ft,Et,Le,yt=V-O,Oe=G-H,at=ae-V,bt=ue-G,St=Se-ae,Be=te-ue;for(ke=0;ke<41;ke++)Bt=(Ie=(Ee=O+(pe=ke/40)*yt)+pe*((je=V+pe*at)-Ee))+pe*(je+pe*(ae+pe*St-je)-Ie),it=(Ye=(Ue=H+pe*Oe)+pe*((J=G+pe*bt)-Ue))+pe*(J+pe*(ue+pe*Be-J)-Ye),ke==0?(Xe=Bt,ft=it,Et=Bt,Le=it):(Xe=Math.min(Xe,Bt),ft=Math.min(ft,it),Et=Math.max(Et,Bt),Le=Math.max(Le,it));return new l(Math.round(Xe),Math.round(ft),Math.round(Et-Xe),Math.round(Le-ft))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,H,V=(O=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(fr.API),(function(r){var e=function(i){var l,c,u,A,h,p,m,y,g,v;for(c=[],u=0,A=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;A>u;u+=4)(h=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(v=h%85))/85)-(g=h%85))/85)-(y=h%85))/85)-(m=h%85))/85)%85,c.push(p+33,m+33,y+33,g+33,v+33)):c.push(122);return(function(w,S){for(var C=S;C>0;C--)w.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(i){var l,c,u,A,h,p=String,m="length",y=255,g="charCodeAt",v="slice",w="replace";for(i[v](-2),i=i[v](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],A=0,h=(i+=l="uuuuu"[v](i[m]%5||5))[m];h>A;A+=5)c=52200625*(i[g](A)-33)+614125*(i[g](A+1)-33)+7225*(i[g](A+2)-33)+85*(i[g](A+3)-33)+(i[g](A+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(S,C){for(var E=C;E>0;E--)S.pop()})(u,l[m]),p.fromCharCode.apply(p,u)},n=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var c="",u=0;u<i.length;u+=2)c+=String.fromCharCode("0x"+(i[u]+i[u+1]));return c},s=function(i){for(var l=new Uint8Array(i.length),c=i.length;c--;)l[c]=i.charCodeAt(c);return(l=Zj(l)).reduce(function(u,A){return u+String.fromCharCode(A)},"")};r.processDataByFilters=function(i,l){var c=0,u=i||"",A=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:A.reverse().join(" ")}}})(fr.API),(function(r){r.loadFile=function(e,t,n){return(function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=(function(c,u,A){var h=new XMLHttpRequest,p=0,m=function(y){var g=y.length,v=[],w=String.fromCharCode;for(p=0;p<g;p+=1)v.push(w(255&y.charCodeAt(p)));return v.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?A(m(this.responseText)):A(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)})(a,s,i)}catch{}return l})(e,t,n)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(fr.API),(function(r){function e(){return(kr.html2canvas?Promise.resolve(kr.html2canvas):xw(()=>Promise.resolve().then(()=>L6e),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(kr.DOMPurify?Promise.resolve(kr.DOMPurify):xw(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Hn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var A in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[A]=c.style[A];return u},s=function l(c,u){for(var A=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||A.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A},i=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),A=l.convert(Promise.resolve(),u);return(A=A.setProgress(1,l,1,[l])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,c){return l.__proto__=c||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,A=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=A,A)for(var m=0;m<A.length;++m){var y=A[m],g=y.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},i.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(l,c){return this.then(function(){var u=l in i.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},i.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function c(u,A){return Math.floor(u*A/72*96)}return this.then(function(){(l=l||fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,c,u,A){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,c,u,A){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,A?this.progress.stack.concat(A):null)},i.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(A,h){return u.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,A),p}).then(A,h).then(function(p){return u.updateProgress(1),p})})},i.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var A=this;l&&(l=l.bind(A)),c&&(c=c.bind(A));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:i.convert(Object.assign({},A),Promise.prototype),p=u.call(h,l,c);return i.convert(p,A.__proto__)},i.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},i.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},i.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return i.convert(c,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,fr.getPageSize=function(l,c,u){if(Hn(l)==="object"){var A=l;l=A.orientation,c=A.unit||c,u=A.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var y,g=0,v=0;if(m.hasOwnProperty(p))g=m[p][1]/h,v=m[p][0]/h;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>g&&(y=v,v=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(y=v,v=g,g=y)}return{width:v,height:g,unit:c,k:h,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(HE):null;var u=new i(c);return c.worker?u:u.from(l).doCallback()}})(fr.API),fr.API.addJS=function(r){return m8=r,this.internal.events.subscribe("postPutResources",function(){lw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),f8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+m8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lw!==void 0&&f8!==void 0&&this.internal.out("/Names <</JavaScript "+lw+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(s=0;s<u;s++){var h=t.internal.newObject();A.push(h);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<A.length;s++)t.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(fr.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,s,i,l){var c,u=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,g={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=m,e.indexOf(h.charCodeAt(v+1))!==-1){p=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:p,numcomponents:h.charCodeAt(v+9)};break}m=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}A={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return A}})(fr.API),fr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,s=zPe(r,{checkCrc:!0}),i=s.width,l=s.height,c=s.channels,u=s.palette,A=s.depth;a=u&&c===1?(function(P){for(var k=P.width,z=P.height,I=P.data,Q=P.palette,R=P.depth,K=!1,ee=[],Y=[],se=void 0,X=!1,Ae=0,ge=0;ge<Q.length;ge++){var Z=yU(Q[ge],4),O=Z[0],H=Z[1],V=Z[2],G=Z[3];ee.push(O,H,V),G!=null&&(G===0?(Ae++,Y.length<1&&Y.push(ge)):G<255&&(X=!0))}if(X||Ae>1){K=!0,Y=void 0;var ae=k*z;se=new Uint8Array(ae);for(var ue=new DataView(I.buffer),Se=0;Se<ae;Se++){var te=KE(ue,Se,R),pe=yU(Q[te],4)[3];se[Se]=pe}}else Ae===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:I,alphaBytes:se,needSMask:K,palette:ee,mask:Y}})(s):c===2||c===4?(function(P){for(var k=P.data,z=P.width,I=P.height,Q=P.channels,R=P.depth,K=Q===2?"DeviceGray":"DeviceRGB",ee=Q-1,Y=z*I,se=ee,X=Y*se,Ae=1*Y,ge=Math.ceil(X*R/8),Z=Math.ceil(Ae*R/8),O=new Uint8Array(ge),H=new Uint8Array(Z),V=new DataView(k.buffer),G=new DataView(O.buffer),ae=new DataView(H.buffer),ue=!1,Se=0;Se<Y;Se++){for(var te=Se*Q,pe=0;pe<se;pe++)N8(G,KE(V,te+pe,R),Se*se+pe,R);var ke=KE(V,te+se,R);ke<(1<<R)-1&&(ue=!0),N8(ae,ke,1*Se,R)}return{colorSpace:K,colorsPerPixel:ee,sMaskBitsPerComponent:ue?R:void 0,colorBytes:O,alphaBytes:H,needSMask:ue}})(s):(function(P){var k=P.data,z=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(I){for(var Q=I.length,R=new Uint8Array(2*Q),K=new DataView(R.buffer,R.byteOffset,R.byteLength),ee=0;ee<Q;ee++)K.setUint16(2*ee,I[ee],!1);return R})(k):k,needSMask:!1}})(s);var h,p,m,y=a,g=y.colorSpace,v=y.colorsPerPixel,w=y.sMaskBitsPerComponent,S=y.colorBytes,C=y.alphaBytes,E=y.needSMask,_=y.palette,L=y.mask,D=null;return n!==fr.API.image_compression.NONE&&typeof Zj=="function"?(D=(function(P){var k;switch(P){case fr.API.image_compression.FAST:k=11;break;case fr.API.image_compression.MEDIUM:k=13;break;case fr.API.image_compression.SLOW:k=14;break;default:k=12}return k})(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(D," /Colors ").concat(v," /BitsPerComponent ").concat(A," /Columns ").concat(i),r=y8(S,Math.ceil(i*v*A/8),v,A,n),E&&(m=y8(C,Math.ceil(i*w/8),1,w,n))):(h=void 0,p=void 0,r=S,E&&(m=C)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:h,decodeParameters:p,transparency:L,palette:_,sMask:m,predictor:D,width:i,height:l,bitsPerComponent:A,sMaskBitsPerComponent:w,colorSpace:g}}},(function(r){r.processGIF89A=function(e,t,n,a){var s=new uIe(e),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:l},A=new $E(100).encode(u,100);return r.processJPEG.call(this,A,t,n,a)},r.processGIF87A=r.processGIF89A})(fr.API),pu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pu.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){ia.log("bit decode error:"+t)}},pu.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}t!==0&&(this.pos+=4-t)}},pu.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},pu.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},pu.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,A=n*this.width*4+4*a;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=i,this.data[A+3]=u}this.pos+=r}},pu.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&t)/t*255|0,u=(i>>11)/e*255|0,A=a*this.width*4+4*s;this.data[A]=u,this.data[A+1]=c,this.data[A+2]=l,this.data[A+3]=255}this.pos+=r}},pu.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},pu.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},pu.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var s=new pu(e,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new $E(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(fr.API),B8.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var s=new B8(e),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new $E(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(fr.API),fr.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var A=n[u],h=n[u+1],p=n[u+2],m=n[u+3];s[l++]=A,s[l++]=h,s[l++]=p,i[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},fr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dp=fr.API,cw=dp.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,A=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,m=r.length,y=0,g=l[0]||c,v=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(p=h&&Hn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/A:0,v.push((l[n]||g)/c+p)),y=n;return v},p8=dp.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return dp.processArabic&&(r=dp.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:cw.apply(this,arguments).reduce(function(s,i){return s+i},0)},g8=function(r,e,t,n){for(var a=[],s=0,i=r.length,l=0;s!==i&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var c=s;for(l=0;s!==i;)l+e[s]>n&&(a.push(r.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(r.slice(c,s)),a},x8=function(r,e,t){t||(t={});var n,a,s,i,l,c,u,A=[],h=[A],p=t.textIndent||0,m=0,y=0,g=r.split(" "),v=cw.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),S=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?S=S.concat(E.map(function(_,L){return(L&&_.length?`
`:"")+_})):S.push(E[0])}),g=S,c=p8.apply(this,[w,t])}for(s=0,i=g.length;s<i;s++){var C=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),C=1),p+m+(y=(a=cw.apply(this,[n,t])).reduce(function(E,_){return E+_},0))>e||C){if(y>e){for(l=g8.apply(this,[n,a,e-(p+m),e]),A.push(l.shift()),A=[l.pop()];l.length;)h.push([l.shift()]);y=a.slice(n.length-(A[0]?A[0].length:0)).reduce(function(E,_){return E+_},0)}else A=[n];h.push(A),p=y+c,m=v}else A.push(n),p+=m+y,m=v}return u=c?function(E,_){return(_?w:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(u)},dp.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var h=this.internal.getFont(A.fontName,A.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(x8.apply(this,[n[l],i,s]));return u},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[t[s]]=e[s],a[e[s]]=t[s];var i=function(p){return"0x"+parseInt(p,10).toString(16)},l=r.__fontmetrics__.compress=function(p){var m,y,g,v,w=["{"];for(var S in p){if(m=p[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=i(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof m=="number")m<0?(g=i(m).slice(3),v="-"):(g=i(m).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(Hn(m)!=="object")throw new Error("Don't know what to do with value type "+Hn(m)+".");g=l(m)}w.push(y+g)}return w.push("}"),w.join("")},c=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,g,v,w={},S=1,C=w,E=[],_="",L="",D=p.length-1,P=1;P<D;P+=1)(v=p[P])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(E.push([C,g]),C={},g=void 0):v=="}"?((y=E.pop())[0][y[1]]=C,g=void 0,C=y[0]):v=="-"?S=-1:g===void 0?n.hasOwnProperty(v)?(_+=n[v],g=parseInt(_,16)*S,S=1,_=""):_+=v:n.hasOwnProperty(v)?(L+=n[v],C[g]=parseInt(L,16)*S,S=1,g=void 0,L=""):L+=v;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var m=p.font,y=h.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var g=A.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(fr.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Ew(l)),i.metadata=r.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])})(fr),fr.API.addSvgAsImage=function(r,e,t,n,a,s,i,l){if(isNaN(e)||isNaN(t))throw ia.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ia.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(kr.canvg?Promise.resolve(kr.canvg):xw(()=>import("./index.es-GX81e-ar.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,r,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(A)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,t,n,a,i,l)})},fr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},fr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],u=0,A=0,h=0;function p(y,g){var v,w=!1;for(v=0;v<y.length;v+=1)y[v]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if(Hn(r)==="object"){for(a in r)if(s=r[a],p(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&p(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(A=0;A<s[u].length;A+=1)typeof s[u][A]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}t[a].value="["+c.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?g.push("/"+y+" /"+t[y].value):g.push("/"+y+" "+t[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(fr.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],h=0,p=s.length;h<p;++h){if(l=i.metadata.characterToGlyph(s.charCodeAt(h)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return A.join("");l=l.toString(16),A.push(u[4-l.length],l)}return A.join("")},n=function(s){var i,l,c,u,A,h,p;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(s).sort(function(m,y){return m-y})).length;h<p;h++)i=l[h],c.length>=100&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,A=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var g=u();A({data:m,addLength1:!0,objectId:g}),c("endobj");var v=u();A({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+xp(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+xp(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+r.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+xp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,A=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var y=u();A({data:p,addLength1:!0,objectId:y}),c("endobj");var g=u();A({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+xp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+xp(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,u=s.y,A=s.options||{},h=s.mutex||{},p=h.pdfEscape,m=h.activeFontKey,y=h.fonts,g=m,v="",w=0,S="",C=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:A,mutex:h};for(S=l,g=m,Array.isArray(l)&&(S=l[0]),w=0;w<S.length;w+=1)y[g].metadata.hasOwnProperty("cmap")&&(i=y[g].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),i||S[w].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?v+=S[w]:v+="";var E="";return parseInt(g.slice(1))<14||C==="WinAnsiEncoding"?E=p(v,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(E=t(v,y[g])),h.isHex=!0,{text:E,x:c,y:u,options:A,mutex:h}};e.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?l.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):l.push(a(Object.assign({},c,{text:i[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])})(fr),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(fr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,s,i,l,c,u,A,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,C=0;this.__bidiEngine__={};var E=function(I){var Q=I.charCodeAt(),R=Q>>8,K=g[R];return K!==void 0?h[256*K+(255&Q)]:R===252||R===253?"AL":w.test(R)?"L":R===8?"R":"N"},_=function(I){for(var Q,R=0;R<I.length;R++){if((Q=E(I.charAt(R)))==="L")return!1;if(Q==="R")return!0}return!1},L=function(I,Q,R,K){var ee,Y,se,X,Ae=Q[K];switch(Ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Ae="AN");break;case"AL":S=!0,Ae="R";break;case"WS":case"BN":Ae="N";break;case"CS":K<1||K+1>=Q.length||(ee=R[K-1])!=="EN"&&ee!=="AN"||(Y=Q[K+1])!=="EN"&&Y!=="AN"?Ae="N":S&&(Y="AN"),Ae=Y===ee?Y:"N";break;case"ES":Ae=(ee=K>0?R[K-1]:"B")==="EN"&&K+1<Q.length&&Q[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&R[K-1]==="EN"){Ae="EN";break}if(S){Ae="N";break}for(se=K+1,X=Q.length;se<X&&Q[se]==="ET";)se++;Ae=se<X&&Q[se]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(X=Q.length,se=K+1;se<X&&Q[se]==="NSM";)se++;if(se<X){var ge=I[K],Z=ge>=1425&&ge<=2303||ge===64286;if(ee=Q[se],Z&&(ee==="R"||ee==="AL")){Ae="R";break}}}Ae=K<1||(ee=Q[K-1])==="B"?"N":R[K-1];break;case"B":S=!1,a=!0,Ae=C;break;case"S":s=!0,Ae="N"}return Ae},D=function(I,Q,R){var K=I.split("");return R&&P(K,R,{hiLevel:C}),K.reverse(),Q&&Q.reverse(),K.join("")},P=function(I,Q,R){var K,ee,Y,se,X,Ae=-1,ge=I.length,Z=0,O=[],H=C?m:p,V=[];for(S=!1,a=!1,s=!1,ee=0;ee<ge;ee++)V[ee]=E(I[ee]);for(Y=0;Y<ge;Y++){if(X=Z,O[Y]=L(I,V,O,Y),K=240&(Z=H[X][y[O[Y]]]),Z&=15,Q[Y]=se=H[Z][5],K>0)if(K===16){for(ee=Ae;ee<Y;ee++)Q[ee]=1;Ae=-1}else Ae=-1;if(H[Z][6])Ae===-1&&(Ae=Y);else if(Ae>-1){for(ee=Ae;ee<Y;ee++)Q[ee]=se;Ae=-1}V[Y]==="B"&&(Q[Y]=0),R.hiLevel|=se}s&&(function(G,ae,ue){for(var Se=0;Se<ue;Se++)if(G[Se]==="S"){ae[Se]=C;for(var te=Se-1;te>=0&&G[te]==="WS";te--)ae[te]=C}})(V,Q,ge)},k=function(I,Q,R,K,ee){if(!(ee.hiLevel<I)){if(I===1&&C===1&&!a)return Q.reverse(),void(R&&R.reverse());for(var Y,se,X,Ae,ge=Q.length,Z=0;Z<ge;){if(K[Z]>=I){for(X=Z+1;X<ge&&K[X]>=I;)X++;for(Ae=Z,se=X-1;Ae<se;Ae++,se--)Y=Q[Ae],Q[Ae]=Q[se],Q[se]=Y,R&&(Y=R[Ae],R[Ae]=R[se],R[se]=Y);Z=X}Z++}}},z=function(I,Q,R){var K=I.split(""),ee={hiLevel:C};return R||(R=[]),P(K,R,ee),(function(Y,se,X){if(X.hiLevel!==0&&A)for(var Ae,ge=0;ge<Y.length;ge++)se[ge]===1&&(Ae=v.indexOf(Y[ge]))>=0&&(Y[ge]=v[Ae+1])})(K,R,ee),k(2,K,Q,R,ee),k(1,K,Q,R,ee),K.join("")};return this.__bidiEngine__.doBidiReorder=function(I,Q,R){if((function(ee,Y){if(Y)for(var se=0;se<ee.length;se++)Y[se]=se;l===void 0&&(l=_(ee)),u===void 0&&(u=_(ee))})(I,Q),i||!c||u)if(i&&c&&l^u)C=l?1:0,I=D(I,Q,R);else if(!i&&c&&u)C=l?1:0,I=z(I,Q,R),I=D(I,Q);else if(!i||l||c||u){if(i&&!c&&l^u)I=D(I,Q),l?(C=0,I=z(I,Q,R)):(C=1,I=z(I,Q,R),I=D(I,Q));else if(i&&l&&!c&&u)C=1,I=z(I,Q,R),I=D(I,Q);else if(!i&&!c&&l^u){var K=A;l?(C=1,I=z(I,Q,R),C=0,A=!1,I=z(I,Q,R),A=K):(C=0,I=z(I,Q,R),I=D(I,Q),C=1,A=!1,I=z(I,Q,R),A=K,I=D(I,Q))}}else C=0,I=z(I,Q,R);else C=l?1:0,I=z(I,Q,R);return I},this.__bidiEngine__.setOptions=function(I){I&&(i=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,A=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var i=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([t.doBidiReorder(a[l])]);n.text=i}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(fr),fr.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new df(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new SIe(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new dIe(this.contents),this.head=new hIe(this),this.name=new xIe(this),this.cmap=new cW(this),this.toUnicode={},this.hhea=new fIe(this),this.maxp=new yIe(this),this.hmtx=new vIe(this),this.post=new pIe(this),this.os2=new mIe(this),this.loca=new NIe(this),this.glyf=new bIe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,u;for(u=[],i=0,l=(c=this.bbox).length;i<l;i++)e=c[i],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,s,i,l;for(i=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var Du,df=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,s,i,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),dIe=(function(){var r;function e(t){var n,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,s,i,l,c,u,A,h,p,m,y,g;for(g in m=Object.keys(t).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),i=Math.floor(h/c),A=16*m-h,(a=new df).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(i),a.writeShort(A),s=16*m,u=a.pos+s,l=null,y=[],t)for(p=t[g],a.writeString(g),a.writeInt(r(p)),a.writeInt(u),a.writeInt(p.length),y=y.concat(p),g==="head"&&(l=u),u+=p.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(n),a.data},r=function(t){var n,a,s,i;for(t=uW.call(t);t.length%4;)t.push(0);for(s=new df(t),a=0,n=0,i=t.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),AIe={}.hasOwnProperty,jd=function(r,e){for(var t in e)AIe.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Du=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var hIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new df).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),E8=(function(){function r(e,t){var n,a,s,i,l,c,u,A,h,p,m,y,g,v,w,S,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),e.pos+=2,g=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),u=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),A=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var E,_;for(_=[],c=E=0;0<=a?E<a:E>a;c=0<=a?++E:--E)_.push(e.readUInt16());return _})(),c=w=0,C=s.length;w<C;c=++w)for(v=s[c],n=S=y=g[c];y<=v?S<=v:S>=v;n=y<=v?++S:--S)A[c]===0?i=n+u[c]:(i=l[A[c]/2+(n-y)-(p-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}e.pos=h}return r.encode=function(e,t){var n,a,s,i,l,c,u,A,h,p,m,y,g,v,w,S,C,E,_,L,D,P,k,z,I,Q,R,K,ee,Y,se,X,Ae,ge,Z,O,H,V,G,ae,ue,Se,te,pe,ke,Ee;switch(K=new df,i=Object.keys(e).sort(function(Ue,je){return Ue-je}),t){case"macroman":for(g=0,v=(function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue})(),S={0:0},s={},ee=0,Ae=i.length;ee<Ae;ee++)S[te=e[a=i[ee]]]==null&&(S[te]=++g),s[a]={old:e[a],new:S[e[a]]},v[a]=S[e[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(v),{charMap:s,subtable:K.data,maxGlyphID:g+1};case"unicode":for(Q=[],h=[],C=0,S={},n={},w=u=null,Y=0,ge=i.length;Y<ge;Y++)S[_=e[a=i[Y]]]==null&&(S[_]=++C),n[a]={old:_,new:S[_]},l=S[_]-a,w!=null&&l===u||(w&&h.push(w),Q.push(a),u=l),w=a;for(w&&h.push(w),h.push(65535),Q.push(65535),z=2*(k=Q.length),P=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,D=2*k-P,c=[],L=[],m=[],y=se=0,Z=Q.length;se<Z;y=++se){if(I=Q[y],A=h[y],I===65535){c.push(0),L.push(0);break}if(I-(R=n[I].new)>=32768)for(c.push(0),L.push(2*(m.length+k-y)),a=X=I;I<=A?X<=A:X>=A;a=I<=A?++X:--X)m.push(n[a].new);else c.push(R-I),L.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*k+2*m.length),K.writeUInt16(0),K.writeUInt16(z),K.writeUInt16(P),K.writeUInt16(p),K.writeUInt16(D),ue=0,O=h.length;ue<O;ue++)a=h[ue],K.writeUInt16(a);for(K.writeUInt16(0),Se=0,H=Q.length;Se<H;Se++)a=Q[Se],K.writeUInt16(a);for(pe=0,V=c.length;pe<V;pe++)l=c[pe],K.writeUInt16(l);for(ke=0,G=L.length;ke<G;ke++)E=L[ke],K.writeUInt16(E);for(Ee=0,ae=m.length;Ee<ae;Ee++)g=m[Ee],K.writeUInt16(g);return{charMap:n,subtable:K.data,maxGlyphID:C+1}}},r})(),cW=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new E8(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=E8.encode(e,t),(a=new df).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),fIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),mIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),pIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var i,l,c;for(c=[],s=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;s=0<=l?++i:--i)c.push(e.readUInt32());return c}).call(this)}},r})(),gIe=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,s,i,l,c,u,A,h,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=A=0,h=n.length;A<h;s=++A)a=n[s],e.pos=a.offset,u=e.readString(a.length),i=new gIe(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(i);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),yIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),vIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,s,i,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,A;for(A=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)A.push(e.readInt16());return A})(),this.widths=(function(){var u,A,h,p;for(p=[],u=0,A=(h=this.metrics).length;u<A;u++)s=h[u],p.push(s.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],t=i=0;0<=a?i<a:i>a;t=0<=a?++i:--i)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),uW=[].slice,bIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,s,i,l,c,u,A,h;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,i=(l=new df(t.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),A=l.readShort(),this.cache[e]=i===-1?new CIe(l,u,h,c,A):new wIe(l,i,u,h,c,A),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,s,i,l,c;for(i=[],s=[],l=0,c=t.length;l<c;l++)a=e[t[l]],s.push(i.length),a&&(i=i.concat(a.encode(n)));return s.push(i.length),{table:i,offsets:s}},r})(),wIe=(function(){function r(e,t,n,a,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),CIe=(function(){function r(e,t,n,a,s){var i,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new df(uW.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),NIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Du),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,i=0;i<n.length;++i)if(n[i]=a,s<t.length&&t[s]==i){++s,n[i]=a;var l=this.offsets[i],c=this.offsets[i+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),A=0;A<n.length;++A)u[4*A+3]=255&n[A],u[4*A+2]=(65280&n[A])>>8,u[4*A+1]=(16711680&n[A])>>16,u[4*A]=(4278190080&n[A])>>24;return u},r})(),SIe=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,s,i,l,c;for(a={},i=0,l=e.length;i<l;i++)a[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(n=a[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],a[s]=n;return a},r.prototype.encode=function(e,t){var n,a,s,i,l,c,u,A,h,p,m,y,g,v,w;for(a in n=cW.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),m={0:0},w=n.charMap)m[(c=w[a]).old]=c.new;for(y in p=n.maxGlyphID,i)y in m||(m[y]=p++);return A=(function(S){var C,E;for(C in E={},S)E[S[C]]=C;return E})(m),h=Object.keys(A).sort(function(S,C){return S-C}),g=(function(){var S,C,E;for(E=[],S=0,C=h.length;S<C;S++)l=h[S],E.push(A[l]);return E})(),s=this.font.glyf.encode(i,g,m),u=this.font.loca.encode(s.offsets,g),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r})();fr.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,s,i;if(Array.isArray(t))return"["+(function(){var l,c,u;for(u=[],l=0,c=t.length;l<c;l++)n=t[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)i=t[a],s.push("/"+a+" "+e.convert(i));return s.push(">>"),s.join(`
`)}return""+t},e})();const BIe=async(r,e="chart")=>{const t=document.getElementById(r);if(!t){console.error(`Element with id "${r}" not found`);return}try{const n=await wk(t,{backgroundColor:"#ffffff",scale:2,logging:!1}),a=document.createElement("a");a.href=n.toDataURL("image/png"),a.download=`${e}-${Kn(new Date,"yyyy-MM-dd")}.png`,a.click()}catch(n){console.error("Error exporting chart as PNG:",n)}},EIe=async(r,e="Chart",t="chart")=>{const n=document.getElementById(r);if(!n){console.error(`Element with id "${r}" not found`);return}try{const a=await wk(n,{backgroundColor:"#ffffff",scale:2,logging:!1}),s=a.toDataURL("image/png"),i=new fr({orientation:"landscape",unit:"mm",format:"a4"}),l=280,c=a.height*l/a.width;i.text(e,15,15),i.addImage(s,"PNG",15,25,l,c),i.save(`${t}-${Kn(new Date,"yyyy-MM-dd")}.pdf`)}catch(a){console.error("Error exporting chart as PDF:",a)}},jIe=(r,e="data")=>{if(!r||r.length===0){console.error("No data to export");return}const t=Object.keys(r[0]),n=[t.join(","),...r.map(s=>t.map(i=>JSON.stringify(s[i])).join(","))].join(`
`),a=document.createElement("a");a.href=`data:text/csv;charset=utf-8,${encodeURIComponent(n)}`,a.download=`${e}-${Kn(new Date,"yyyy-MM-dd")}.csv`,a.click()},_Ie=({chartId:r,chartTitle:e,data:t,formats:n=["png","pdf"]})=>{const[a,s]=B.useState(!1),[i,l]=B.useState(!1),c=async()=>{l(!0);try{await BIe(r,e),ye.success("Chart exported as PNG")}catch{ye.error("Failed to export chart as PNG")}finally{l(!1),s(!1)}},u=async()=>{l(!0);try{await EIe(r,e,e),ye.success("Chart exported as PDF")}catch{ye.error("Failed to export chart as PDF")}finally{l(!1),s(!1)}},A=()=>{if(!t||t.length===0){ye.error("No data to export");return}try{jIe(t,e),ye.success("Data exported as CSV")}catch{ye.error("Failed to export data as CSV")}finally{s(!1)}};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!a),disabled:i,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(LA,{className:"w-4 h-4"}),i?"Exporting...":"Export"]}),a&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:o.jsxs("div",{className:"p-2",children:[n.includes("png")&&o.jsxs("button",{onClick:c,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx(Pw,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PNG"})]}),n.includes("pdf")&&o.jsxs("button",{onClick:u,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx($a,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PDF"})]}),n.includes("csv")&&t&&t.length>0&&o.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors",children:[o.jsx(KZ,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as CSV"})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},TIe=()=>o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Team Workload"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Engineer assignments and project allocations"})]}),o.jsx(_Ie,{chartId:"team-workload",chartTitle:"Engineer Assignments",formats:["png","pdf"]})]})}),o.jsx("div",{id:"team-workload",children:o.jsx(ATe,{})})]})});function kIe(){return o.jsxs(ZX,{children:[o.jsxs(jX,{children:[o.jsx(Ta,{path:"/login",element:o.jsx(bae,{})}),o.jsx(Ta,{path:"/reset-password",element:o.jsx(Nae,{})}),o.jsx(Ta,{element:o.jsx(zne,{}),children:o.jsxs(Ta,{path:"/",element:o.jsx(Kne,{children:o.jsx(Hne,{})}),children:[o.jsx(Ta,{index:!0,element:o.jsx(Dve,{})}),o.jsx(Ta,{path:"my-dashboard",element:o.jsx(dTe,{})}),o.jsx(Ta,{path:"projects",element:o.jsx(Uve,{})}),o.jsx(Ta,{path:"clients",element:o.jsx(qE,{to:"/companies",replace:!0})}),o.jsx(Ta,{path:"companies",element:o.jsx($ve,{})}),o.jsx(Ta,{path:"research",element:o.jsx(Wve,{})}),o.jsx(Ta,{path:"team",element:o.jsx(t1e,{})}),o.jsx(Ta,{path:"team-workload",element:o.jsx(TIe,{})}),o.jsx(Ta,{path:"timesheets",element:o.jsx(VSe,{})}),o.jsx(Ta,{path:"inventory",element:o.jsx(aBe,{})}),o.jsx(Ta,{path:"maintenance",element:o.jsx(cBe,{})}),o.jsx(Ta,{path:"equipment",element:o.jsx(bBe,{})}),o.jsx(Ta,{path:"pcs",element:o.jsx(jBe,{})}),o.jsx(Ta,{path:"finance",element:o.jsx(HBe,{})}),o.jsx(Ta,{path:"finance/documents",element:o.jsx(iTe,{})}),o.jsx(Ta,{path:"purchase-orders",element:o.jsx(KBe,{})}),o.jsx(Ta,{path:"finance/exchange-rates",element:o.jsx(cTe,{})}),o.jsx(Ta,{path:"settings",element:o.jsx(mBe,{})})]})}),o.jsx(Ta,{path:"*",element:o.jsx(qE,{to:"/login",replace:!0})})]}),o.jsx(YJ,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#333"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}class FIe extends bs.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,showStack:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),Rt.error("Error caught by ErrorBoundary:",e),Rt.error("Component stack:",t.componentStack),this.props.onError&&this.props.onError(e,t)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,showStack:!1})};handleReload=()=>{window.location.reload()};toggleStack=()=>{this.setState(e=>({showStack:!e.showStack}))};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const e=!1,{error:t,errorInfo:n,showStack:a}=this.state;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:o.jsxs("div",{className:"max-w-lg w-full",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-red-200 dark:border-red-800/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6 text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx(Jh,{className:"w-7 h-7"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Something went wrong"}),o.jsx("p",{className:"text-red-100 text-sm mt-0.5",children:"An unexpected error has occurred"})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. You can try refreshing the page or return to the dashboard. If the problem persists, please contact support."}),e,o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(Qt,{variant:"primary",size:"md",fullWidth:!0,onClick:this.handleReset,icon:o.jsx(uC,{className:"w-4 h-4"}),children:"Try Again"}),o.jsx(Qt,{variant:"outline",size:"md",fullWidth:!0,onClick:()=>{window.location.href="/"},icon:o.jsx(x_,{className:"w-4 h-4"}),children:"Go to Dashboard"})]}),o.jsx("button",{onClick:this.handleReload,className:"mt-4 w-full text-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"Or reload the entire page"})]})]}),o.jsxs("p",{className:"mt-4 text-center text-xs text-gray-400 dark:text-gray-500",children:["Error ID: ",Date.now().toString(36).toUpperCase()]})]})})}return this.props.children}}const dW=new URL("pdfjs-dist/build/pdf.worker.min.js?url",import.meta.url).toString();console.log("PDF.js worker source:",dW);Gh.workerSrc=dW;typeof window<"u"&&window.addEventListener("error",r=>{r.filename&&r.filename.includes("pdf")&&console.error("PDF.js worker error:",r.error)});_Y.createRoot(document.getElementById("root")).render(o.jsx(B.StrictMode,{children:o.jsx(FIe,{children:o.jsx(One,{children:o.jsx(Fne,{children:o.jsx(kIe,{})})})})}));export{Hn as _,DIe as c,Pc as g};
